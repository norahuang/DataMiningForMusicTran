/*! BEGIN Core */
/*! BEGIN Underscore */
(function(){var n=this,t=n._,r={},e=Array.prototype,u=Object.prototype,i=Function.prototype,a=e.push,o=e.slice,c=e.concat,l=u.toString,f=u.hasOwnProperty,s=e.forEach,p=e.map,h=e.reduce,v=e.reduceRight,g=e.filter,d=e.every,m=e.some,y=e.indexOf,b=e.lastIndexOf,x=Array.isArray,w=Object.keys,_=i.bind,j=function(n){return n instanceof j?n:this instanceof j?void(this._wrapped=n):new j(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=j),exports._=j):n._=j,j.VERSION="1.6.0";var A=j.each=j.forEach=function(n,t,e){if(null==n)return n;if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length){for(var u=0,i=n.length;i>u;u++)if(t.call(e,n[u],u,n)===r)return}else for(var a=j.keys(n),u=0,i=a.length;i>u;u++)if(t.call(e,n[a[u]],a[u],n)===r)return;return n};j.map=j.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var O="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=j.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(A(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(O);return r},j.reduceRight=j.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),v&&n.reduceRight===v)return e&&(t=j.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(i!==+i){var a=j.keys(n);i=a.length}if(A(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(O);return r},j.find=j.detect=function(n,t,r){var e;return k(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},j.filter=j.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(A(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},j.reject=function(n,t,r){return j.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},j.every=j.all=function(n,t,e){t||(t=j.identity);var u=!0;return null==n?u:d&&n.every===d?n.every(t,e):(A(n,function(n,i,a){return(u=u&&t.call(e,n,i,a))?void 0:r}),!!u)};var k=j.some=j.any=function(n,t,e){t||(t=j.identity);var u=!1;return null==n?u:m&&n.some===m?n.some(t,e):(A(n,function(n,i,a){return u||(u=t.call(e,n,i,a))?r:void 0}),!!u)};j.contains=j.include=function(n,t){return null==n?!1:y&&n.indexOf===y?n.indexOf(t)!=-1:k(n,function(n){return n===t})},j.invoke=function(n,t){var r=o.call(arguments,2),e=j.isFunction(t);return j.map(n,function(n){return(e?t:n[t]).apply(n,r)})},j.pluck=function(n,t){return j.map(n,j.property(t))},j.where=function(n,t){return j.filter(n,j.matches(t))},j.findWhere=function(n,t){return j.find(n,j.matches(t))},j.max=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);var e=-1/0,u=-1/0;return A(n,function(n,i,a){var o=t?t.call(r,n,i,a):n;o>u&&(e=n,u=o)}),e},j.min=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);var e=1/0,u=1/0;return A(n,function(n,i,a){var o=t?t.call(r,n,i,a):n;u>o&&(e=n,u=o)}),e},j.shuffle=function(n){var t,r=0,e=[];return A(n,function(n){t=j.random(r++),e[r-1]=e[t],e[t]=n}),e},j.sample=function(n,t,r){return null==t||r?(n.length!==+n.length&&(n=j.values(n)),n[j.random(n.length-1)]):j.shuffle(n).slice(0,Math.max(0,t))};var E=function(n){return null==n?j.identity:j.isFunction(n)?n:j.property(n)};j.sortBy=function(n,t,r){return t=E(t),j.pluck(j.map(n,function(n,e,u){return{value:n,index:e,criteria:t.call(r,n,e,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=E(r),A(t,function(i,a){var o=r.call(e,i,a,t);n(u,o,i)}),u}};j.groupBy=F(function(n,t,r){j.has(n,t)?n[t].push(r):n[t]=[r]}),j.indexBy=F(function(n,t,r){n[t]=r}),j.countBy=F(function(n,t){j.has(n,t)?n[t]++:n[t]=1}),j.sortedIndex=function(n,t,r,e){r=E(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},j.toArray=function(n){return n?j.isArray(n)?o.call(n):n.length===+n.length?j.map(n,j.identity):j.values(n):[]},j.size=function(n){return null==n?0:n.length===+n.length?n.length:j.keys(n).length},j.first=j.head=j.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:0>t?[]:o.call(n,0,t)},j.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},j.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},j.rest=j.tail=j.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},j.compact=function(n){return j.filter(n,j.identity)};var M=function(n,t,r){return t&&j.every(n,j.isArray)?c.apply(r,n):(A(n,function(n){j.isArray(n)||j.isArguments(n)?t?a.apply(r,n):M(n,t,r):r.push(n)}),r)};j.flatten=function(n,t){return M(n,t,[])},j.without=function(n){return j.difference(n,o.call(arguments,1))},j.partition=function(n,t){var r=[],e=[];return A(n,function(n){(t(n)?r:e).push(n)}),[r,e]},j.uniq=j.unique=function(n,t,r,e){j.isFunction(t)&&(e=r,r=t,t=!1);var u=r?j.map(n,r,e):n,i=[],a=[];return A(u,function(r,e){(t?e&&a[a.length-1]===r:j.contains(a,r))||(a.push(r),i.push(n[e]))}),i},j.union=function(){return j.uniq(j.flatten(arguments,!0))},j.intersection=function(n){var t=o.call(arguments,1);return j.filter(j.uniq(n),function(n){return j.every(t,function(t){return j.contains(t,n)})})},j.difference=function(n){var t=c.apply(e,o.call(arguments,1));return j.filter(n,function(n){return!j.contains(t,n)})},j.zip=function(){for(var n=j.max(j.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=j.pluck(arguments,""+r);return t},j.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},j.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=j.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}if(y&&n.indexOf===y)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},j.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(b&&n.lastIndexOf===b)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},j.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var R=function(){};j.bind=function(n,t){var r,e;if(_&&n.bind===_)return _.apply(n,o.call(arguments,1));if(!j.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));R.prototype=n.prototype;var u=new R;R.prototype=null;var i=n.apply(u,r.concat(o.call(arguments)));return Object(i)===i?i:u}},j.partial=function(n){var t=o.call(arguments,1);return function(){for(var r=0,e=t.slice(),u=0,i=e.length;i>u;u++)e[u]===j&&(e[u]=arguments[r++]);for(;r<arguments.length;)e.push(arguments[r++]);return n.apply(this,e)}},j.bindAll=function(n){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return A(t,function(t){n[t]=j.bind(n[t],n)}),n},j.memoize=function(n,t){var r={};return t||(t=j.identity),function(){var e=t.apply(this,arguments);return j.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},j.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},j.defer=function(n){return j.delay.apply(j,[n,1].concat(o.call(arguments,1)))},j.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:j.now(),a=null,i=n.apply(e,u),e=u=null};return function(){var l=j.now();o||r.leading!==!1||(o=l);var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u),e=u=null):a||r.trailing===!1||(a=setTimeout(c,f)),i}},j.debounce=function(n,t,r){var e,u,i,a,o,c=function(){var l=j.now()-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u),i=u=null))};return function(){i=this,u=arguments,a=j.now();var l=r&&!e;return e||(e=setTimeout(c,t)),l&&(o=n.apply(i,u),i=u=null),o}},j.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}},j.wrap=function(n,t){return j.partial(t,n)},j.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},j.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},j.keys=function(n){if(!j.isObject(n))return[];if(w)return w(n);var t=[];for(var r in n)j.has(n,r)&&t.push(r);return t},j.values=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},j.pairs=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},j.invert=function(n){for(var t={},r=j.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},j.functions=j.methods=function(n){var t=[];for(var r in n)j.isFunction(n[r])&&t.push(r);return t.sort()},j.extend=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},j.pick=function(n){var t={},r=c.apply(e,o.call(arguments,1));return A(r,function(r){r in n&&(t[r]=n[r])}),t},j.omit=function(n){var t={},r=c.apply(e,o.call(arguments,1));for(var u in n)j.contains(r,u)||(t[u]=n[u]);return t},j.defaults=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]===void 0&&(n[r]=t[r])}),n},j.clone=function(n){return j.isObject(n)?j.isArray(n)?n.slice():j.extend({},n):n},j.tap=function(n,t){return t(n),n};var S=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof j&&(n=n._wrapped),t instanceof j&&(t=t._wrapped);var u=l.call(n);if(u!=l.call(t))return!1;switch(u){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;var a=n.constructor,o=t.constructor;if(a!==o&&!(j.isFunction(a)&&a instanceof a&&j.isFunction(o)&&o instanceof o)&&"constructor"in n&&"constructor"in t)return!1;r.push(n),e.push(t);var c=0,f=!0;if("[object Array]"==u){if(c=n.length,f=c==t.length)for(;c--&&(f=S(n[c],t[c],r,e)););}else{for(var s in n)if(j.has(n,s)&&(c++,!(f=j.has(t,s)&&S(n[s],t[s],r,e))))break;if(f){for(s in t)if(j.has(t,s)&&!c--)break;f=!c}}return r.pop(),e.pop(),f};j.isEqual=function(n,t){return S(n,t,[],[])},j.isEmpty=function(n){if(null==n)return!0;if(j.isArray(n)||j.isString(n))return 0===n.length;for(var t in n)if(j.has(n,t))return!1;return!0},j.isElement=function(n){return!(!n||1!==n.nodeType)},j.isArray=x||function(n){return"[object Array]"==l.call(n)},j.isObject=function(n){return n===Object(n)},A(["Arguments","Function","String","Number","Date","RegExp"],function(n){j["is"+n]=function(t){return l.call(t)=="[object "+n+"]"}}),j.isArguments(arguments)||(j.isArguments=function(n){return!(!n||!j.has(n,"callee"))}),"function"!=typeof/./&&(j.isFunction=function(n){return"function"==typeof n}),j.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},j.isNaN=function(n){return j.isNumber(n)&&n!=+n},j.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==l.call(n)},j.isNull=function(n){return null===n},j.isUndefined=function(n){return n===void 0},j.has=function(n,t){return f.call(n,t)},j.noConflict=function(){return n._=t,this},j.identity=function(n){return n},j.constant=function(n){return function(){return n}},j.property=function(n){return function(t){return t[n]}},j.matches=function(n){return function(t){if(t===n)return!0;for(var r in n)if(n[r]!==t[r])return!1;return!0}},j.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},j.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},j.now=Date.now||function(){return(new Date).getTime()};var T={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};T.unescape=j.invert(T.escape);var I={escape:new RegExp("["+j.keys(T.escape).join("")+"]","g"),unescape:new RegExp("("+j.keys(T.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(n){j[n]=function(t){return null==t?"":(""+t).replace(I[n],function(t){return T[n][t]})}}),j.result=function(n,t){if(null==n)return void 0;var r=n[t];return j.isFunction(r)?r.call(n):r},j.mixin=function(n){A(j.functions(n),function(t){var r=j[t]=n[t];j.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),z.call(this,r.apply(j,n))}})};var N=0;j.uniqueId=function(n){var t=++N+"";return n?n+t:t},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(n,t,r){var e;r=j.defaults({},r,j.templateSettings);var u=new RegExp([(r.escape||q).source,(r.interpolate||q).source,(r.evaluate||q).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(D,function(n){return"\\"+B[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(t)return e(t,j);var c=function(n){return e.call(this,n,j)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},j.chain=function(n){return j(n).chain()};var z=function(n){return this._chain?j(n).chain():n};j.mixin(j),A(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=e[n];j.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],z.call(this,r)}}),A(["concat","join","slice"],function(n){var t=e[n];j.prototype[n]=function(){return z.call(this,t.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return j})}).call(this);(function(){
/*! BEGIN CoreSlim */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'tabcoreslim');var b=function(){};b.__typeName='tab.EscapingUtil';b.escapeHtml=function(e){var f=ss.coalesce(e,'');f=f.replace(new RegExp('&','g'),'&amp;');f=f.replace(new RegExp('<','g'),'&lt;');f=f.replace(new RegExp('>','g'),'&gt;');f=f.replace(new RegExp('"','g'),'&quot;');f=f.replace(new RegExp("'",'g'),'&#39;');f=f.replace(new RegExp('/','g'),'&#47;');return f};global.tab.EscapingUtil=b;var c=function(){};c.__typeName='tab.ScriptEx';global.tab.ScriptEx=c;var d=function(e){this.$0=null;this.$0=e};d.__typeName='tab.WindowHelper';d.get_windowSelf=function(){return window.self};d.get_selection=function(){if(typeof(window['getSelection'])==='function'){return window.getSelection()}else if(typeof(document['getSelection'])==='function'){return document.getSelection()}return null};d.close=function(e){e.close()};d.getOpener=function(e){return e.opener};d.getLocation=function(e){return e.location};d.getPathAndSearch=function(e){return e.location.pathname+e.location.search};d.setLocationHref=function(e,f){e.location.href=f};d.locationReplace=function(e,f){e.location.replace(f)};d.open=function(e,f,g){return window.open(e,f,g)};d.reload=function(e,f){e.location.reload(f)};d.requestAnimationFrame=function(e){return d.$c(e)};d.cancelAnimationFrame=function(e){if(ss.isValue(e)){d.$b(e)}};d.setTimeout=function(e,f){return window.setTimeout(e,f)};d.addListener=function(e,f,g){if('addEventListener'in e){e.addEventListener(f,g,false)}else{e.attachEvent('on'+f,g)}};d.removeListener=function(e,f,g){if('removeEventListener'in e){e.removeEventListener(f,g,false)}else{e.detachEvent('on'+f,g)}};d.$0=function(){var e=0;d.$c=function(f){var g=(new Date).getTime();var h=Math.max(0,16-(g-e));e=g+h;var i=window.setTimeout(f,h);return i}};d.clearSelection=function(){var e=d.get_selection();if(ss.isValue(e)){if(typeof(e['removeAllRanges'])==='function'){e.removeAllRanges()}else if(typeof(e['empty'])==='function'){e['empty']()}}};global.tab.WindowHelper=d;ss.initClass(b,a,{});ss.initClass(c,a,{});ss.initClass(d,a,{get_pageXOffset:function(){return d.$7(this.$0)},get_pageYOffset:function(){return d.$8(this.$0)},get_clientWidth:function(){return d.$2(this.$0)},get_clientHeight:function(){return d.$1(this.$0)},get_innerWidth:function(){return d.$4(this.$0)},get_outerWidth:function(){return d.$6(this.$0)},get_innerHeight:function(){return d.$3(this.$0)},get_outerHeight:function(){return d.$5(this.$0)},get_screenLeft:function(){return d.$9(this.$0)},get_screenTop:function(){return d.$a(this.$0)}});(function(){d.$4=null;d.$3=null;d.$2=null;d.$1=null;d.$7=null;d.$8=null;d.$9=null;d.$a=null;d.$6=null;d.$5=null;d.$c=null;d.$b=null;if('innerWidth'in window){d.$4=function(m){return m.innerWidth}}else{d.$4=function(m){return m.document.documentElement.offsetWidth}}if('outerWidth'in window){d.$6=function(m){return m.outerWidth}}else{d.$6=d.$4}if('innerHeight'in window){d.$3=function(m){return m.innerHeight}}else{d.$3=function(m){return m.document.documentElement.offsetHeight}}if('outerHeight'in window){d.$5=function(m){return m.outerHeight}}else{d.$5=d.$3}if('clientWidth'in window){d.$2=function(m){return m['clientWidth']}}else{d.$2=function(m){return m.document.documentElement.clientWidth}}if('clientHeight'in window){d.$1=function(m){return m['clientHeight']}}else{d.$1=function(m){return m.document.documentElement.clientHeight}}if(ss.isValue(window.self.pageXOffset)){d.$7=function(m){return m.pageXOffset}}else{d.$7=function(m){return m.document.documentElement.scrollLeft}}if(ss.isValue(window.self.pageYOffset)){d.$8=function(m){return m.pageYOffset}}else{d.$8=function(m){return m.document.documentElement.scrollTop}}if('screenLeft'in window){d.$9=function(m){return m.screenLeft}}else{d.$9=function(m){return m.screenX}}if('screenTop'in window){d.$a=function(m){return m.screenTop}}else{d.$a=function(m){return m.screenY}}{var e='requestAnimationFrame';var f='cancelAnimationFrame';var g=['ms','moz','webkit','o'];var h=null;var i=null;if(e in window){h=e}if(f in window){i=f}for(var j=0;j<g.length&&(ss.isNullOrUndefined(h)||ss.isNullOrUndefined(i));++j){var k=g[j];var l=k+'RequestAnimationFrame';if(ss.isNullOrUndefined(h)&&l in window){h=l}if(ss.isNullOrUndefined(i)){l=k+'CancelAnimationFrame';if(l in window){i=l}l=k+'CancelRequestAnimationFrame';if(l in window){i=l}}}if(ss.isValue(h)){d.$c=function(m){return window[h](m)}}else{d.$0()}if(ss.isValue(i)){d.$b=function(m){window[i](m)}}else{d.$b=function(m){window.clearTimeout(m)}}}})()})();(function(){'dont use strict';var a={};global.tab=global.tab||{};global.tableau=global.tableau||{};global.tableau.types=global.tableau.types||{};global.tableau.util=global.tableau.util||{};ss.initAssembly(a,'vqlcore');var b=function(){};b.__typeName='ColumnClass';global.ColumnClass=b;var c=function(){};c.__typeName='DrillState';global.DrillState=c;var d=function(){};d.__typeName='SelectAction';global.SelectAction=d;$.fn.focusDelayed=function(e,bw){this.each(function(bx,by){window.setTimeout(function(){$(by).focus();if(ss.isValue(bw)){bw.call(by)}},e)})};$.expr.pseudos.focusable=function(e){return f.$0(e,!isNaN(parseInt($(e).attr('tabindex'),10)))};$.expr.pseudos.tabbable=function(e){var bw=parseInt($(e).attr('tabindex'),10);var bx=isNaN(bw);return(bx||bw>=0)&&f.$0(e,!bx)};var f=function(){};f.__typeName='tab.$0';f.$0=function(e,bw){var bx=e.nodeName.toLowerCase();if(bx==='area'){return false}var by=bw;var bz=new RegExp('input|select|textarea|button|object');if(bz.test(bx)){by=!e.disabled}else if(bx==='a'){by=!ss.isNullOrEmptyString(e.href)||bw}return by&&f.$1(e)};f.$1=function(e){var bw=$(e).parents().addBack().filter(ss.thisFix(function(bx,by){var bz=$(bx);return bz.css('visibility')==='hidden'||$.expr.pseudos.hidden(bx)}));return bw.length===0};var g=function(){this.$0=null;this.$0=[]};g.__typeName='tab.BaseLogAppender';global.tab.BaseLogAppender=g;var h=function(){};h.__typeName='tab.BrowserSupport';h.get_getComputedStyle=function(){return'getComputedStyle'in window};h.get_addEventListener=function(){return'addEventListener'in document};h.get_selectStart=function(){return h.$L};h.get_touch=function(){return h.$P};h.get_fontLoaderApi=function(){return h.$r};h.get_dataUri=function(){return h.$m};h.get_postMessage=function(){return h.$J};h.get_historyApi=function(){return h.$t};h.get_consoleLogFormating=function(){return h.$h};h.get_isMobile=function(){return h.$w||h.$B};h.get_isIos=function(){return h.$B};h.get_isAndroid=function(){return h.$w};h.get_isChrome=function(){return h.$x};h.get_isMac=function(){return h.$D};h.get_isIE=function(){return h.$A};h.get_isEdge=function(){return h.$y};h.get_isFF=function(){return h.$z};h.get_isOpera=function(){return h.$F};h.get_isSafari=function(){return h.$G};h.get_isWindows=function(){return h.$I};h.get_browserVersion=function(){return h.$u};h.get_safariVersion=function(){return h.$K};h.get_googleChromeVersion=function(){return h.$s};h.get_iosVersion=function(){return h.$v};h.get_raisesEventOnImageReassignment=function(){return!h.$G};h.get_imageLoadIsSynchronous=function(){return h.$A};h.get_useAlternateHitStrategy=function(){return h.$N};h.get_cssTransform=function(){return ss.isValue(h.$i)};h.get_cssTransformName=function(){return h.$i};h.get_cssTransitionName=function(){return h.$j};h.get_cssTranslate2D=function(){return h.$k};h.get_cssTranslate3D=function(){return h.$l};h.get_backingStoragePixelRatio=function(){return h.$f};h.get_devicePixelRatio=function(){return h.$q};h.get_canvasLinePattern=function(){return h.$g};h.get_dateInput=function(){return h.$n};h.get_dateTimeInput=function(){return h.$o};h.get_dateTimeLocalInput=function(){return h.$p};h.get_timeInput=function(){return h.$O};h.get_setSelectionRange=function(){return h.$M};h.get_mouseWheelEvent=function(){var e;if('onwheel'in window.document.documentElement){e='wheel'}else if('onmousewheel'in window.document.documentElement){e='mousewheel'}else{e='MozMousePixelScroll'}return e};h.get_mouseCapture=function(){return'releaseCapture'in document};h.get_orientationChange=function(){return'onorientationchange'in window};h.get_isGeolocationSupported=function(){return ss.isValue(window.navigator.geolocation)};h.detectBrowserSupport=function(){var e=document.body;var bw=document.createElement('div');e.appendChild(bw);h.$L='onselectstart'in bw;e.removeChild(bw).style.display='none';h.$J='postMessage'in window;h.$t=typeof(window.history['pushState'])==='function'&&typeof(window.history['replaceState'])==='function';h.$5();h.$3();h.$1();h.$b();h.$a();h.$8();h.$7();h.$0();h.$6();h.$2();h.$9()};h.getOrigin=function(e){var bw=e.origin;if(ss.isNullOrUndefined(bw)){bw=e.protocol+'//'+e.host}return bw};h.doPostMessageWithContext=function(e){var bw=tabBootstrap.Utility.doPostMessageWithContext(e);if(!bw){}};h.$5=function(){var e=$('<img />');var bw=e[0];e.on('load error',function(){h.$m=bw.width===1&&bw.height===1});bw.src='data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=='};h.$8=function(){var e=window.document.body;if(h.$H&&h.get_isMobile()){var bw=$('<div></div>');bw.css(ss.mkdict(['position','absolute','top','300px','left','300px','width','25px','height','25px','z-index','10000']));var bx=bw.get(0);try{e.appendChild(bx);h.$N=!ss.referenceEquals(document.elementFromPoint(310,310),bx)}catch(by){}finally{bw.remove()}}};h.$3=function(){try{if(ss.isValue(window.console&&ss.isValue(window.console.log))){h.$h=window.navigator.userAgent.indexOf('iPad')<0}else{h.$h=false}}catch(e){h.$h=false}};h.$1=function(){var e=h.$c();h.$C=e.indexOf('Konqueror')>=0;h.$H=e.indexOf('WebKit')>=0;h.$x=e.indexOf('Chrome')>=0;h.$G=e.indexOf('Safari')>=0&&!h.$x;h.$F=e.indexOf('Opera')>=0;if(h.$G){var bw=e.match(new RegExp('\\bVersion\\/(\\d+\\.\\d+)'));if(ss.isValue(bw)){h.$K=parseFloat(bw[1])}}if(h.$x){var bx=e.match(new RegExp('\\bChrome/(\\d+\\.\\d+)'));if(ss.isValue(bx)){h.$s=parseFloat(bx[1])}}h.$u=0;h.$A=false;var by=e.match(new RegExp('\\bMSIE (\\d+\\.\\d+)'));if(ss.isValue(by)){h.$A=true;h.$u=parseFloat(by[1])}if(!h.$A&&!h.$F&&(e.indexOf('Trident')>=0||e.indexOf('Edge/')>=0)){var bz=e.match(new RegExp('\\brv:(\\d+\\.\\d+)'));var bA=e.match(new RegExp('Edge/(\\d+\\.\\d+)'));if(ss.isValue(bz)){h.$A=true;h.$y=false;h.$u=parseFloat(bz[1])}else if(ss.isValue(bA)){h.$A=true;h.$y=true;h.$x=false;h.$G=false;h.$u=parseFloat(bA[1])}}h.$E=!h.$C&&!h.$H&&!h.$A&&e.indexOf('Gecko')>=0;h.$z=h.$E||e.indexOf('Firefox')>=0||e.indexOf('Minefield')>=0;var bB=new RegExp('iPhone|iPod|iPad');h.$B=bB.test(e);if(h.$B){var bC=e.match(new RegExp('\\bOS ([\\d+_?]+) like Mac OS X'));if(ss.isValue(bC)){h.$v=parseFloat(ss.replaceAllString(bC[1].replace('_','.'),'_',''))}}h.$w=e.indexOf('Android')>=0&&!h.$A;h.$D=e.indexOf('Mac')>=0;h.$I=e.indexOf('Windows')>=0};h.$c=function(){return window.navigator.userAgent};h.$e=function(e,bw,bx){var by=document.createElement('div');try{document.body.insertBefore(by,null);if(!(e in by.style)){return false}by.style[e]=bx;var bz=r.getComputedStyle(by);var bA=bz[bw];return!M.isNullOrEmpty$1(bA)&&bA!=='none'}finally{document.body.removeChild(by).style.display='none'}};h.$b=function(){var e=ss.mkdict(['transition','transition','webkitTransition','-webkit-transition','msTransition','-ms-transition','mozTransition','-moz-transition','oTransition','-o-transition']);var bw=new ss.ObjectEnumerator(e);try{while(bw.moveNext()){var bx=bw.current();var by=document.body.style;if(!(bx.key in by)){continue}h.$j=bx.value;break}}finally{bw.dispose()}};h.$a=function(){var e=ss.mkdict(['transform','transform','webkitTransform','-webkit-transform','msTransform','-ms-transform','mozTransform','-moz-transform','oTransform','-o-transform']);var bw=new ss.ObjectEnumerator(e);try{while(bw.moveNext()){var bx=bw.current();var by=document.body.style;if(!(bx.key in by)){continue}h.$i=bx.value;h.$k=h.$e(bx.key,bx.value,'translate(1px,1px)');h.$l=h.$e(bx.key,bx.value,'translate3d(1px,1px,1px)');break}}finally{bw.dispose()}};h.$7=function(){h.$q=ss.coalesce(window.self['devicePixelRatio'],1)};h.$0=function(){var e=document.createElement('canvas');if(ss.isNullOrUndefined(e)){h.$f=1;return}var bw=null;if(typeof(ss.getInstanceType(e)['getContext'])==='function'){bw=e.getContext('2d')}if(ss.isNullOrUndefined(bw)){h.$f=1;return}var bx=bw;h.$f=bx.webkitBackingStorePixelRatio||bx.mozBackingStorePixelRatio||bx.msBackingStorePixelRatio||bx.oBackingStorePixelRatio||1};h.$2=function(){var e=document.createElement('canvas');if(ss.isNullOrUndefined(e)){return}var bw=null;if(typeof(e['getContext'])==='function'){bw=e.getContext('2d')}if(ss.isNullOrUndefined(bw)){return}h.$g=typeof(bw['setLineDash'])==='function'||'mozDash'in bw||'webkitLineDash'in bw};h.$9=function(){var e=$('<input>');h.$M=typeof(e.get(0)['setSelectionRange'])==='function'};h.$6=function(){h.$n=h.$4('date');h.$o=h.$4('datetime');h.$p=h.$4('datetime-local');h.$O=h.$4('time')};h.$4=function(e){var bw=$("<input type='"+e+"'>").css({position:'absolute',visibility:'hidden'}).appendTo($(document.body));var bx=bw.get(0);var by=bx.getAttribute('type');var bz='@inva/1d:)';bx.value=bz;var bA=ss.referenceEquals(by,e)&&!ss.referenceEquals(bx.value,bz);bw.remove();return bA};h.$d=function(e){return function(bw){var bx=bw in window;if(!bx){var by=function(){return ss.createInstance(e)};var bz=window;bz[bw]=by}}};global.tab.BrowserSupport=h;var i=function(){this.startOfWeek=1;this.fiscalYearStart=1;this.minDaysInFirstWeek=1;this.brokenWeeks=true};i.__typeName='tab.CalendarOptions';global.tab.CalendarOptions=i;var j=function(e){this.$0=null;this.$0=e};j.__typeName='tab.CallOnDispose';global.tab.CallOnDispose=j;var k=function(){};k.__typeName='tab.CircleUtil';k.isEmpty=function(e){return t.isApproximatelyZero(e.radius)};k.isEqual=function(e,bw){return t.isApproximatelyEqual(e.radius,bw.radius)&&k.hasTheSameCenter(e,bw)};k.hasTheSameCenter=function(e,bw){return t.isApproximatelyEqual(e.center.x,bw.center.x)&&t.isApproximatelyEqual(e.center.y,bw.center.y)};k.intersectsWith=function(e,bw){var bx=Math.pow(e.center.x-bw.center.x,2)+Math.pow(e.center.y-bw.center.y,2);return Math.pow(e.radius+bw.radius,2)>bx};k.offsetCircle=function(e,bw){var bx={x:e.center.x+bw.x,y:e.center.y+bw.y};return{center:bx,radius:e.radius}};k.clone=function(e){return{center:{x:e.center.x,y:e.center.y},radius:e.radius}};k.boundingBox=function(e){var bw=Math.ceil(e.radius);var bx=Math.floor(e.center.x-bw);var by=Math.ceil(e.center.x+bw);var bz=Math.floor(e.center.y-bw);var bA=Math.ceil(e.center.y+bw);return{x:bx,y:bz,w:by-bx,h:bA-bz}};k.containmentBox=function(e){var bw=Math.abs(ss.round(e.center.x)-e.center.x);var bx=Math.abs(ss.round(e.center.y)-e.center.y);var by=Math.sqrt(2)/2*e.radius-Math.max(bw,bx);var bz=Math.ceil(e.center.x-by);var bA=Math.ceil(e.center.y-by);var bB=Math.floor(e.center.x+by);var bC=Math.floor(e.center.y+by);return{x:bz,y:bA,w:bB-bz,h:bC-bA}};k.getChangedRects=function(e,bw){if(!k.hasTheSameCenter(e,bw)){return[]}var bx=((e.radius>bw.radius)?k.boundingBox(e):k.boundingBox(bw));var by=((e.radius>bw.radius)?k.containmentBox(bw):k.containmentBox(e));var bz=new Array(4);var bA=ss.Int32.div(bx.h-by.h,2);var bB=ss.Int32.div(bx.w-by.w,2);bz[0]={x:bx.x,y:bx.y,w:bx.w,h:bA};bz[1]={x:bx.x,y:bx.y+bA+by.h,w:bx.w,h:bA};bz[2]={x:bx.x,y:bx.y+bA,w:bB,h:by.h};bz[3]={x:bx.x+bB+by.w,y:bx.y+bA,w:bB,h:by.h};return bz};global.tab.CircleUtil=k;var l=function(){this.$2=null;g.call(this)};l.__typeName='tab.ConsoleLogAppender';l.enableLogging=function(e){if(ss.isNullOrUndefined(l.$0)){l.$0=new l;I.addAppender(l.$0)}l.$0.addFilter(e||function(){return true})};l.disableLogging=function(){if(ss.isNullOrUndefined(l.$0)){return}I.removeAppender(l.$0);l.$0=null};global.tab.ConsoleLogAppender=l;var m=function(){this.ErrorType=null;this.RedirectUrl=null;this.ErrorMessage=null};m.__typeName='tab.DataSourceConnectionAttemptErrorResponse';m.tryDeserialize=function(e){try{var bw=JSON.parse(e);return bw}catch(bx){return null}};global.tab.DataSourceConnectionAttemptErrorResponse=m;var n=function(){};n.__typeName='tab.DateTimeAutoFormatMode';global.tab.DateTimeAutoFormatMode=n;var o=function(){};o.__typeName='tab.DateUtil';o.$4=function(){return I.lazyGetLogger(o)};o.get_nowAsTime=function(){return(new Date).getTime()};o.adjustDateByPeriod=function(e,bw,bx){var by=new Date;switch(bw){case'year':{by=new Date(e.getFullYear()+bx,e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());break}case'quarter':{by=o.adjustByMonths(e,bx*3);break}case'month':{by=o.adjustByMonths(e,bx);break}case'week':{by=o.$0(e,bx*7);break}case'day':{by=o.$0(e,bx);break}case'hour':{by=new Date(e.getTime()+bx*o.oneHour);break}case'minute':{by=new Date(e.getTime()+bx*o.oneMinute);break}case'second':{by=new Date(e.getTime()+bx*o.oneSecond);break}}return by};o.$0=function(e,bw){var bx=new Date(e.getFullYear(),e.getMonth(),e.getDate(),12);var by=new Date(bx.getTime()+o.oneDay*bw);return new Date(by.getFullYear(),by.getMonth(),by.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())};o.adjustByMonths=function(e,bw){var bx=e.getMonth();var by;var bz;if(bw<0){by=-((12-(bx-1)-1-bw)/12)|0}else{by=(bx-1+bw)/12|0}bz=bx+(bw-by*12);return new Date(e.getFullYear()+by,bz,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())};o.adjustDateByPeriodInUTC=function(e,bw,bx){var by=new Date;switch(bw){case'year':{by=new Date(e.getUTCFullYear()+bx,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());break}case'quarter':{by=o.adjustByMonthsInUTC(e,bx*3);break}case'month':{by=o.adjustByMonthsInUTC(e,bx);break}case'week':{by=new Date(e.getTime()+bx*o.oneWeek);break}case'day':{by=new Date(e.getTime()+bx*o.oneDay);break}case'hour':{by=new Date(e.getTime()+bx*o.oneHour);break}case'minute':{by=new Date(e.getTime()+bx*o.oneMinute);break}case'second':{by=new Date(e.getTime()+bx*o.oneSecond);break}}return by};o.adjustByMonthsInUTC=function(e,bw){var bx=e.getUTCMonth(),by,bz;if(bw<0){by=-((12-(bx-1)-1-bw)/12)|0}else{by=(bx-1+bw)/12|0}bz=bx+(bw-by*12);return new Date(Date.UTC(e.getUTCFullYear()+by,bz,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()))};o.parsePresModelDate=function(e){if(ss.isNullOrUndefined(e)){return null}var bw=(new RegExp('(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)( (\\d\\d):(\\d\\d):(\\d\\d))?')).exec(e);if(ss.isNullOrUndefined(bw)){return null}var bx=parseInt(bw[1],10);var by=parseInt(bw[2],10)-1;var bz=parseInt(bw[3],10);if(ss.isNullOrEmptyString(bw[4])){return new Date(Date.UTC(bx,by,bz))}else{var bA=parseInt(bw[5],10);var bB=parseInt(bw[6],10);var bC=parseInt(bw[7],10);return new Date(Date.UTC(bx,by,bz,bA,bB,bC))}};o.dateAsYear=function(e){return e.getUTCFullYear()};o.dateAsQuarter=function(e){var bw=o.$3(e);return parseInt(1+ss.Int32.div(bw-1,3))};o.dateAsMonth=function(e){return o.$3(e)};o.dateAsWeek=function(e){var bw=new Date(e.getUTCFullYear(),0,1);var bx=o.$2(e);var by=parseInt(1+(bx+o.$1(bw)-2)/7);return by};o.dateAsDay=function(e){return e.getUTCDate()};o.dateAsDayOfYear=function(e){return o.$2(e)};o.dateAsDayOfWeek=function(e){return o.$1(e)};o.dateAsMonthYear=function(e){var bw=o.$3(e)*10000+e.getUTCFullYear();return bw};o.dateAsMonthDayYear=function(e){var bw=o.$3(e)*1000000+e.getUTCDate()*10000+e.getUTCFullYear();return bw};o.dateTimeAsHour=function(e){return e.getUTCHours()};o.dateTimeAsMinute=function(e){return e.getUTCMinutes()};o.dateTimeAsSecond=function(e){return e.getUTCSeconds()};o.dateTimeAsOleDate=function(e){return bi.OleDateFromJsDate(e.getTime())};o.$2=function(e){var bw=e.getUTCFullYear();var bx=e.getUTCMonth();var by=e.getUTCDate();var bz=new Date(bw,0,1,12,0,0);var bA=new Date(bw,bx,by,12,0,0);var bB=Math.round((bA-bz)/86400000);return bB+1};o.$3=function(e){return e.getUTCMonth()+1};o.$1=function(e){return e.getUTCDay()+1};o.daysSinceEpoch=function(e){return Math.floor(e.getTime()/86400000)};global.tab.DateUtil=o;var p=function(e,bw){this.$2=null;this.$1=0;this.$0=null;O.verifyValue(e,'action');this.$0=e;this.$1=bw};p.__typeName='tab.Debouncer';global.tab.Debouncer=p;var q=function(){this.$0=[]};q.__typeName='tab.DisposableHolder';global.tab.DisposableHolder=q;var r=function(){};r.__typeName='tab.DomUtil';r.$6=function(){return I.lazyGetLogger(r)};r.get_documentBody=function(){return document.body};r.getComputedStyle=function(e){if(h.get_getComputedStyle()){var bw=window.getComputedStyle(e);if(ss.isValue(bw)){return bw}}return e.style};r.getComputedZIndex=function(e){O.verifyValue(e,'child');var bw=$(e);var bx=bw;var by=document.documentElement;var bz=document.body;while(bw.length!==0&&!ss.referenceEquals(bw[0],bz)&&!ss.referenceEquals(bw[0],by)){var bA=bw.css('position');if(bA==='absolute'||bA==='fixed'){bx=bw}bw=bw.offsetParent()}return r.$2(bx)};r.resize=function(e,bw){if(typeof(e['resize'])==='function'){e.resize(bw)}else{r.setMarginBox(e.domNode||e,bw)}};r.getContentBox=function(e){var bw=$(e);return{l:parseInt(bw.css('padding-left'),10)||0,t:parseInt(bw.css('padding-top'),10)||0,w:t.roundToInt(bw.width()),h:t.roundToInt(bw.height())}};r.setContentBox=function(e,bw){$(e).width(bw.w).height(bw.h)};r.setMarginBox=function(e,bw){r.setMarginBoxJQ($(e),bw)};r.setMarginBoxJQ=function(e,bw){var bx=e[0];var by=bx.style;var bz=window.getComputedStyle(bx);r.$3(bz,bw,bx);if(!isNaN(bw.t)){by.top=bw.t+'px'}if(!isNaN(bw.l)){by.left=bw.l+'px'}};r.setAbsolutePositionBox=function(e,bw){e.css({left:(bw.l||0)+'px',top:(bw.t||0)+'px',width:(bw.w||0)+'px',height:(bw.h||0)+'px'})};r.getMarginBox=function(e){return r.getMarginBoxJQ($(e))};r.getMarginBoxJQ=function(e){var bw=e.position();return{l:t.roundToInt(bw.left),t:t.roundToInt(bw.top),w:t.roundToInt(e.outerWidth(true)),h:t.roundToInt(e.outerHeight(true))}};r.getRectXY=function(e){var bw,bx;var by=r.$1();if(by){var bz=e[0].getBoundingClientRect();bw=t.roundToInt(bz.left);bx=t.roundToInt(bz.top)}else{bw=t.roundToInt(r.getPageOffset(e).left);bx=t.roundToInt(r.getPageOffset(e).top)}var bA=t.roundToInt(e.outerWidth(true));var bB=t.roundToInt(e.outerHeight(true));return{x:bw,y:bx,w:bA,h:bB}};r.getRectXY$1=function(e,bw){var bx=r.getRectXY(e);if(bw){var by=r.docScroll();bx.x+=by.x;bx.y+=by.y}return bx};r.docScroll=function(){var e=ss.coalesce(window.pageXOffset,ss.coalesce(document.documentElement.scrollLeft,ss.coalesce(r.get_documentBody().scrollLeft,0)));var bw=ss.coalesce(window.pageYOffset,ss.coalesce(document.documentElement.scrollTop,ss.coalesce(r.get_documentBody().scrollTop,0)));return{x:e,y:bw}};r.isAncestorOf=function(e,bw){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bw)){return false}return $(bw).parents().index(e)>=0};r.isEqualOrAncestorOf=function(e,bw){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bw)){return false}return ss.referenceEquals(e,bw)||r.isAncestorOf(e,bw)};r.setElementPosition=function(e,bw,bx,by,bz){if((!ss.isValue(bz)||ss.unbox(bz))&&h.get_cssTransform()){var bA=ss.mkdict(['top','0px','left','0px']);if(h.get_cssTranslate3D()){var bB=(new ss.StringBuilder('translate3d(')).append(bw).append('px,').append(bx).append('px,').append('0px)').toString();bA[h.get_cssTransformName()]=bB;if(ss.isValue(by)){bA[h.get_cssTransitionName()+'-duration']=by}e.css(bA);return}if(h.get_cssTranslate2D()){var bC=(new ss.StringBuilder('translate(')).append(bw).append('px,').append(bx).append('px)').toString();bA[h.get_cssTransformName()]=bC;if(ss.isValue(by)){bA[h.get_cssTransitionName()+'-duration']=by}e.css(bA);return}}var bD=ss.mkdict(['position','absolute','top',bx+'px','left',bw+'px']);if(h.get_cssTransform()){bD[h.get_cssTransformName()]=''}e.css(bD)};r.getElementPosition=function(e){return R.fromPosition(e.offset())};r.getElementClientPosition=function(e){var bw=r.getElementPosition(e);bw.x-=$(document.documentElement).scrollLeft();bw.y-=$(document.documentElement).scrollTop();return bw};r.getTransformOffset=function(e){if(ss.isNullOrUndefined(e)){return{left:0,top:0}}var bw=e.css('transform');if(ss.isNullOrEmptyString(bw)){return{left:0,top:0}}var bx=bw.split('(');var by=r.$7[bx[0]];if(ss.isNullOrUndefined(by)){return{left:0,top:0}}var bz=bx[1].split(',');return{left:ss.coalesce(t.parseDouble(bz[ss.unbox(by)]),0),top:ss.coalesce(t.parseDouble(bz[ss.unbox(by)+1]),0)}};r.getTransformScale=function(e){if(ss.isNullOrUndefined(e)){return 1}var bw=e.css('transform');if(ss.isNullOrEmptyString(bw)){return 1}var bx=bw.split('(');if(bx[0]==='scale'||bx[0]==='matrix'||bx[0]==='matrix3d'){return ss.coalesce(t.parseDouble(bx[1]),1)}else{return 1}};r.getPageOffset=function(e){var bw=e[0].getBoundingClientRect();if(h.get_isChrome()&&tsConfig.is_mobile&&window.innerWidth/window.outerWidth<=0.9){return{left:bw.left,top:bw.top}}else{return{left:bw.left+window.pageXOffset,top:bw.top+window.pageYOffset}}};r.roomAroundPosition=function(e){var bw=e.top-window.pageYOffset;var bx=window.pageYOffset+window.innerHeight-e.top;var by=e.left-window.pageXOffset;var bz=window.pageXOffset+window.innerWidth-e.left;return{roomAbove:bw,roomBelow:bx,roomLeft:by,roomRight:bz}};r.getElementRelativePosition=function(e,bw){if(ss.isNullOrUndefined(bw)){bw=e.parent()}var bx=e.offset();var by=bw.offset();return{x:t.roundToInt(bx.left)-t.roundToInt(by.left),y:t.roundToInt(bx.top)-t.roundToInt(by.top)}};r.parseWidthFromStyle=function(e){if(ss.isValue(e)&&!M.isNullOrEmpty$1(e.width)){return parseInt(e.width)}return Number.NaN};r.parseHeightFromStyle=function(e){if(ss.isValue(e)&&!M.isNullOrEmpty$1(e.height)){return parseInt(e.height)}return Number.NaN};r.createNamespacedEventName=function(e,bw){if(ss.isValue(bw)){return e+bw}return e.toString()};r.stopPropagationOfInputEvents=function(e,bw){var bx=function(by){by.stopPropagation()};r.handleInputEvents(e,bw,bx)};r.handleInputEvents=function(e,bw,bx){e.on(r.createNamespacedEventName('touchstart',bw),bx).on(r.createNamespacedEventName('touchcancel',bw),bx).on(r.createNamespacedEventName('touchend',bw),bx).on(r.createNamespacedEventName('touchmove',bw),bx).on(r.createNamespacedEventName('click',bw),bx).on(r.createNamespacedEventName('mousedown',bw),bx).on(r.createNamespacedEventName('mousemove',bw),bx).on(r.createNamespacedEventName('mouseup',bw),bx)};r.isFocusableTextElement=function(e){if(ss.isValue(e)&&ss.isValue(e.tagName)){var bw=e.tagName.toLowerCase();if(bw==='textarea'||bw==='input'||bw==='select'){return true}}return false};r.isCheckboxElement=function(e){if(ss.isValue(e)&&ss.isValue(e.tagName)){var bw=e.tagName.toLowerCase();var bx=$(e).attr('type');if(bw==='input'&&bx==='checkbox'){return true}}return false};r.handleTouchEvents=function(e){if(r.isCheckboxElement(e)){return false}if(r.isFocusableTextElement(e)){return false}return true};r.setCapture=function(e,bw){if(!h.get_mouseCapture()){return}e.setCapture(bw)};r.releaseCapture=function(){if(!h.get_mouseCapture()){return}document.releaseCapture()};r.blur=function(){var e=document.activeElement;if(ss.isValue(e)&&!ss.referenceEquals(e,r.get_documentBody())&&typeof(e['blur'])==='function'){e.blur()}};r.$0=function(e,bw){var bx=parseInt(e,10);return(isNaN(bx)?bw:bx)};r.$5=function(e,bw,bx){var by=r.$0(e.marginLeft,0);var bz=r.$0(e.borderLeftWidth,0);var bA=r.$0(e.paddingLeft,0);var bB=r.$0(e.paddingRight,0);var bC=r.$0(e.borderRightWidth,0);var bD=r.$0(e.marginRight,0);var bE=Math.max(bw-by-bz-bA-bB-bC-bD,0);bx.style.width=bE+'px'};r.$4=function(e,bw,bx){var by=r.$0(e.marginTop,0);var bz=r.$0(e.borderTopWidth,0);var bA=r.$0(e.paddingTop,0);var bB=r.$0(e.paddingBottom,0);var bC=r.$0(e.borderBottomWidth,0);var bD=r.$0(e.marginBottom,0);var bE=Math.max(bw-by-bz-bA-bB-bC-bD,0);bx.style.height=bE+'px'};r.$3=function(e,bw,bx){if(bw.w>=0){r.$5(e,bw.w,bx)}if(bw.h>=0){r.$4(e,bw.h,bx)}};r.$2=function(e){O.verifyValue(e,'o');var bw=e.css('z-index');if(_.isNumber(bw)){return bw}if(_.isString(bw)){if(!ss.isNullOrEmptyString(bw)&&bw!=='auto'&&bw!=='inherits'){return parseInt(bw,10)}}return 0};r.$1=function(){if(tsConfig.is_mobile&&h.get_isChrome()){var e=window.document.body.getBoundingClientRect();return window.pageXOffset>0&&e.left===0||window.pageYOffset>0&&e.top===0}return false};r.makeHtmlSafeId=function(e){return ss.replaceAllString(encodeURIComponent(e),'.','dot')};r.setSelectionRangeOnInput=function(e,bw,bx){if(h.get_setSelectionRange()){try{e.setSelectionRange(bw,bx)}catch(by){}}};r.selectAllInputText=function(e){try{if(h.get_setSelectionRange()){e.get(0).setSelectionRange(0,e.val().length)}else{e.select()}}catch(bw){}};r.setNativeTooltip=function(e,bw){var bx=ss.isNullOrEmptyString(bw);if(bx){e.removeAttr('title')}else{e.attr('title',bw)}if(tsConfig.is_mobile){e.children('.tab-mobileTooltip').remove();if(!bx){var by=$("<div class='tab-mobileTooltip'/>").text(bw);e.append(by)}}};r.isContentOverflowingY=function(e){return e.prop('scrollHeight')>e.prop('clientHeight')};global.tab.DomUtil=r;var s=function(){};s.__typeName='tab.DoubleRectXYUtil';s.isEmpty=function(e){if(!ss.isValue(e)){return true}return e.w===0||e.h===0};s.isEqual=function(e,bw){return e.x===bw.x&&e.y===bw.y&&e.w===bw.w&&e.h===bw.h};s.isNull=function(e){return e.x===0&&e.y===0&&e.w===0&&e.h===0};s.inRect=function(e,bw){return bw.x>=e.x&&bw.x<e.x+e.w&&bw.y>=e.y&&bw.y<e.y+e.h};s.inRect$1=function(e,bw,bx,by,bz,bA){return bz>=e&&bz<e+bx&&bA>=bw&&bA<bw+by};s.intersectsWith=function(e,bw){return!(bw.x+bw.w<e.x||bw.y+bw.h<e.y||bw.x>e.x+e.w||bw.y>e.y+e.h)};s.outsetRect=function(e,bw,bx){return{x:e.x-bw,y:e.y-bx,w:e.w+bw+bw,h:e.h+bx+bx}};global.tab.DoubleRectXYUtil=s;var t=function(){};t.__typeName='tab.DoubleUtil';t.$0=function(){return I.lazyGetLogger(t)};t.isApproximatelyEqual=function(e,bw){if(Math.abs(e-bw)<t.epsilon){return true}if(e===0){return false}var bx=bw/e;if(t.$1<=bx&&bx<=t.$3){return true}return false};t.isApproximatelyZero=function(e){return t.isApproximatelyEqual(0,e)};t.isLessThanAndNotApproximatelyEqual=function(e,bw){return e<bw&&!t.isApproximatelyEqual(e,bw)};t.isLessThanOrApproximatelyEqual=function(e,bw){return e<bw||t.isApproximatelyEqual(e,bw)};t.isGreaterThanAndNotApproximatelyEqual=function(e,bw){return e>bw&&!t.isApproximatelyEqual(e,bw)};t.isGreaterThanOrApproximatelyEqual=function(e,bw){return e>bw||t.isApproximatelyEqual(e,bw)};t.sigFigs=function(e,bw){if(e===0||bw===0){return e}var bx=Math.pow(10,bw-Math.floor(Math.log(Math.abs(e))/Math.LN10)-1);return ss.round(e*bx)/bx};t.roundToInt=function(e){return ss.round(e)};t.parseDouble=function(e){var bw=parseFloat(e);return(isFinite(bw)?bw:null)};t.isValidDouble=function(e){if(ss.isNullOrEmptyString(e)){return false}return $.isNumeric(e)};t.parseValidDouble=function(e){if(ss.isNullOrEmptyString(e)){return Number.NaN}if(!t.isValidDouble(e)){return Number.NaN}return parseFloat(e)};global.tab.DoubleUtil=t;var u=function(){};u.__typeName='tab.ErrorTrace';u.install=function(){var e=tsConfig.clientErrorReportingLevel;if(!ss.isNullOrEmptyString(e)){if(e==='debug'){u.$e=true}}u.$4('setTimeout');u.$4('setInterval');u.installGlobalHandler()};u.wrap=function(bw){return function(){try{return bw.apply(this,[Array.prototype.slice.call(arguments)])}catch(bx){var e=ss.Exception.wrap(bx);u.report(e,false);throw bx}}};u.$4=function(e){var bw=window[e];var bx=function(){var by=ss.arrayClone(Array.prototype.slice.call(arguments));var bz=by[0];if(ss.referenceEquals(ss.getInstanceType(bz),Function)){by[0]=u.wrap(bz)}if('apply'in bw){return bw.apply(this,by)}else{return bw(by[0],by[1])}};window[e]=bx};u.windowOnError=function(e,bw,bx,by,bz){var bA;if(ss.isValue(u.$g)){u.$0(u.$g,bw,bx,e);bA=u.$g;u.$g=null;u.$f=null}else{var bB=new Y(bw,bx);bB.functionName=u.$b(bB);bB.context=u.$8(bB);bA=new Z('onError',e);bA.name='window.onError';bA.locations=[bB]}u.$o.push(bA);if(ss.isValue(u.$m)){u.$m.apply(this,Array.prototype.slice.call(arguments))}return false};u.$0=function(e,bw,bx,by){var bz=new Y(bw,bx);if(ss.isValue(bz.url)&&ss.isValue(bz.lineNo)){e.isIncomplete=false;if(ss.isNullOrUndefined(bz.functionName)){bz.functionName=u.$b(bz)}if(ss.isNullOrUndefined(bz.context)){bz.context=u.$8(bz)}var bA=by.match(new RegExp(" '([^']+)' "));if(ss.isValue(bA)&&bA.length>1){bz.columnNo=u.$6(bA[1],bz)}if(ss.isValue(e.locations)&&e.locations.length>0){var bB=e.locations[0];if(ss.referenceEquals(bB.url,bz.url)){if(bB.lineNo===bz.lineNo){return false}else if(ss.isNullOrUndefined(bB.lineNo)&&ss.referenceEquals(bB.functionName,bz.functionName)){bB.lineNo=bz.lineNo;bB.context=bz.context;return false}}}e.locations.unshift(bz);e.isPartial=true;return true}else{e.isIncomplete=true}return false};u.$c=function(e){if(!u.$i){return''}try{var bw=new XMLHttpRequest;bw.open('GET',e,false);bw.send('');return bw.responseText}catch(bx){return''}};u.$9=function(e){if(ss.isNullOrUndefined(e)){return[]}if(!ss.keyExists(u.$k,e)){var bw='';if(e.indexOf(document.domain)>-1){bw=u.$c(e)}u.$k[e]=(ss.isNullOrEmptyString(bw)?[]:bw.split('\n'))}return u.$k[e]};u.$6=function(e,bw){var bx=u.$9(bw.url);var by=new RegExp('\\b'+u.$3(e)+'\\b');if(ss.isValue(bx)&&bx.length>bw.lineNo){var bz=by.exec(bx[bw.lineNo]);if(ss.isValue(bz)){return bz.index}}return-1};u.$b=function(e){var bw=new RegExp('function ([^(]*)\\(([^)]*)\\)');var bx=new RegExp('[\'"]?([0-9A-Za-z$_]+)[\'"]?\\s*[:=]\\s*(function|eval|new Function)');var by='';var bz=10;var bA=u.$9(e.url);if(bA.length===0){return'?'}for(var bB=0;bB<bz;bB++){by=bA[e.lineNo-1]+by;if(!ss.isNullOrEmptyString(by)){var bC=bx.exec(by);if(ss.isValue(bC)&&bC.length>0){return bC[1]}bC=bw.exec(by);if(ss.isValue(bC)&&bC.length>0){return bC[1]}}}return'?'};u.$8=function(e){var bw=u.$9(e.url);if(ss.isNullOrUndefined(bw)||bw.length===0){return null}var bx=[];var by=Math.floor(u.$h/2);var bz=by+u.$h%2;var bA=Math.max(0,e.lineNo-by-1);var bB=Math.min(bw.length,e.lineNo+bz-1);e.lineNo-=1;for(var bC=bA;bC<bB;bC++){if(!ss.isNullOrEmptyString(bw[bC])){bx.push(bw[bC])}}return bx};u.$3=function(e){return e.replace(new RegExp('[\\-\\[\\]{}()*+?.,\\\\\\^$|#]','g'),'\\\\$&')};u.$2=function(e){return ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(u.$3(e),'<','(?:<|&lt;)'),'>','(?:>|&gt;)'),'&','(?:&|&amp;)'),'"','(?:"|&quot;)').replace(new RegExp('\\\\s+','g'),'\\\\s+')};u.$7=function(e,bw){for(var bx=0;bx<bw.length;bx++){var by=bw[bx];var bz=u.$9(by);if(ss.isValue(bz)&&bz.length>0){for(var bA=0;bA<bz.length;bA++){var bB=e.exec(bz[bA]);if(ss.isValue(bB)&&bB.length>0){var bC=new Y(by,bA);bC.columnNo=bB.index;return bC}}}}return null};u.$a=function(e){var bw=new Z('stack',e.get_message());bw.name=e.name;if(u.$e){var bx=[];bx.push(u.$1);bx.push(u.computeStackTraceByWalkingCallerChain);for(var by=0;by<bx.length;by++){var bz=bx[by];var bA=null;try{bA=bz(e)}catch(bB){var inner=ss.Exception.wrap(bB);if(u.$j){throw inner}}if(ss.isValue(bA)){return bA}}}else{return bw}bw.traceMode='failed';return bw};u.computeStackTraceByWalkingCallerChain=function(e){var bw=e._error;var bx=new RegExp('function\\s+([_$a-zA-Z -￿][_$a-zA-Z0-9 -￿]*)?\\s*\\(','i');var by=[];var bz={};var bA=false;var bB=null;for(bB=u.computeStackTraceByWalkingCallerChain.caller;ss.isValue(bB)&&!bA;bB=bB.caller){if(ss.referenceEquals(bB,u)){continue}var bC=bB.toString();var bD=new Y(null,0);if(ss.isValue(bB.name)){bD.functionName=bB.name}else{var bE=bx.exec(bC);if(ss.isValue(bE)&&bE.length>1){bD.functionName=bE[1]}}var bF=u.$5(bB);if(ss.isValue(bF)){bD.url=bF.url;bD.lineNo=bF.lineNo;if(bD.functionName==='?'){bD.functionName=u.$b(bD)}var bG=(new RegExp(" '([^']+)' ")).exec(e.get_message()||e['description']);if(ss.isValue(bG)&&bG.length>1){bD.columnNo=u.$6(bG[1],bF)}}if(ss.keyExists(bz,bC)){bA=true}else{bz[bC]=true}by.push(bD)}var bH=new Z('callers',e.get_message());bH.name=bw['name'];bH.locations=by;u.$0(bH,bw['sourceURL']||bw['fileName'],bw['line']||bw['lineNumber'],e.get_message()||bw['description']);return bH};u.$5=function(e){var bw=[window.location.href];var bx=document.getElementsByTagName('script');var by=e.toString();var bz=new RegExp('');var bA;for(var bB=0;bB<bx.length;bB++){var bC=bx[bB];if(bC.hasAttribute('src')&&ss.isValue(bC.getAttribute('src'))){bw.push(bC.getAttribute('src'))}}var bD=bz.exec(by);if(ss.isValue(bD)&&bD.length>0){bA=new RegExp(u.$3(by).replace(new RegExp('\\s+','g'),'\\\\s+'))}else{var bE=((bD.length>1)?('\\\\s+'+bD[1]):'');var bF=bD[2].split(',').join('\\\\s*,\\\\s*');var bG=u.$3(bD[3]).replace(new RegExp(';$'),';?');bA=new RegExp('function'+bE+'\\\\s*\\\\(\\\\s*'+bF+'\\\\s*\\\\)\\\\s*{\\\\s*'+bG+'\\\\s*}')}var bH=u.$7(bA,bw);if(ss.isValue(bH)){return bH}return null};u.$1=function(e){var bw=e._error;if(ss.isNullOrUndefined(bw)||ss.isNullOrUndefined(bw.stack)){return null}var bx=new RegExp('^\\s*at (?:((?:\\[object object\\])?\\S+(?: \\[as \\S+\\])?) )?\\(?((?:file|http|https):.*?):(\\d+)(?::(\\d+))?\\)?\\s*$','i');var by=new RegExp('^\\s*(\\S*)(?:\\((.*?)\\))?@((?:file|http|https).*?):(\\d+)(?::(\\d+))?\\s*$','i');var bz=(h.get_isFF()?by:bx);var bA=bw['stack'].split('\n');var bB=[];var bC=(new RegExp('^(.*) is undefined')).exec(e.get_message());for(var bD=0;bD<bA.length;bD++){var bE=bA[bD];var bF=bz.exec(bE);if(ss.isValue(bF)&&bF.length>=5){var bG=bF[1];var bH=bF[2];var bI=bF[3];var bJ=bF[4];var bK=new Y(bH,parseInt(bI));if(ss.isValue(bG)){bK.functionName=bG}if(ss.isValue(bJ)){bK.columnNo=parseInt(bJ)}if(ss.isValue(bK.lineNo)){if(ss.isNullOrUndefined(bK.functionName)){bK.functionName=u.$b(bK)}bK.context=u.$8(bK)}bB.push(bK)}}if(bB.length>0&&ss.isValue(bB[0].lineNo)&&ss.isNullOrUndefined(bB[0].columnNo)&&ss.isValue(bC)&&bC.length>1){bB[0].columnNo=u.$6(bC[1],bB[0])}if(bB.length===0){return null}var bL=new Z('stack',e.get_message());bL.name=e.name;bL.locations=bB;return bL};u.hasTraces=function(){return u.$o.length>0};u.dequeueTraces=function(){var e=u.$o;u.$o=[];return e};u.installGlobalHandler=function(){if(u.$n||!u.$d){return}u.$m=window.onerror;window.onerror=u.windowOnError;u.$n=true};u.report=function(e,bw){if(ss.isNullOrUndefined(bw)){bw=true}if(ss.isValue(u.$g)){if(ss.referenceEquals(u.$f,e)){return}else{var bx=u.$g;u.$g=null;u.$f=null;u.$o.push(bx)}}var by=u.$a(e);u.$g=by;u.$f=e;window.setTimeout(function(){if(ss.referenceEquals(u.$f,e)){u.$g=null;u.$f=null;u.$o.push(by)}},(by.isIncomplete?2000:0));if(bw){throw e}};global.tab.ErrorTrace=u;var v=function(){};v.__typeName='tab.FeatureFlags';v.isEnabled=function(e){if(ss.isValue(tsConfig.features)&&ss.keyExists(tsConfig.features,e)){return tsConfig.features[e]}if(ss.isValue(v.$0)&&ss.keyExists(v.$0,e)){return v.$0[e]}return false};v.setDefaults=function(e){v.$0=e};global.tab.FeatureFlags=v;var w=function(){};w.__typeName='tab.FeatureParam';global.tab.FeatureParam=w;var x=function(){};x.__typeName='tab.FeatureParamsLookup';x.getBool=function(e){if(ss.keyExists(x.$5,e)){return x.$5[e]||false}return false};x.getFloat=function(e){if(ss.keyExists(x.$7,e)){return x.$7[e]}return null};x.getInt=function(e){if(ss.keyExists(x.$9,e)){return x.$9[e]}return null};x.getString=function(e){if(ss.keyExists(x.$c,e)){return x.$c[e]}return null};x.$1=function(e,bw,bx){x.$6.push(bw);x.$e[e]=bw;x.$5[bw]=bx};x.$2=function(e,bw){x.$8.push(bw);x.$e[e]=bw;x.$7[bw]=null};x.$3=function(e,bw){x.$a.push(bw);x.$e[e]=bw;x.$9[bw]=null};x.$4=function(e,bw){x.$d.push(bw);x.$e[e]=bw;x.$c[bw]=null};x.$0=function(){var e=M.getUriQueryParameters(window.self.location.search);var bw=new ss.ObjectEnumerator(e);try{while(bw.moveNext()){var bx=bw.current();var by=bx.key.toLowerCase();var bz=0;if(ss.keyExists(x.$e,by)){bz=x.$e[by]}else{continue}if(bx.value.length>0){var bA=bx.value[0];if(ss.contains(x.$6,bz)){var bB=bA.toLowerCase()==='true';x.$5[bz]=bB}else if(ss.contains(x.$8,bz)){var bC=parseFloat(bA);x.$7[bz]=bC}else if(ss.contains(x.$a,bz)){var bD=parseInt(bA);x.$9[bz]=bD}else if(ss.contains(x.$d,bz)){x.$c[bz]=bA}else{continue}}else{continue}}}finally{bw.dispose()}};global.tab.FeatureParamsLookup=x;var y=function(){};y.__typeName='tab.FullscreenUtil';y.get_fullscreenErrorEventName=function(){return y.$6.substring(2)};y.get_fullscreenChangeEventName=function(){return y.$5.substring(2)};y.get_fullscreenEnabled=function(){if(ss.isNullOrUndefined(y.$4)){return false}return document[y.$4]};y.get_fullscreenElement=function(){if(ss.isNullOrUndefined(y.$3)){return null}return document[y.$3]};y.get_inFullscreenMode=function(){return ss.isValue(y.get_fullscreenElement())};y.$0=function(e,bw){for(var bx=0;bx<bw.length;bx++){var by=bw[bx];if(by in e||by.toLowerCase()in e){return by}}return null};y.exitFullscreen=function(){if(ss.isNullOrUndefined(y.$2)){return}document[y.$2]()};y.requestFullscreen=function(e){if(ss.isNullOrUndefined(y.$7)){return}e[y.$7]()};y.$1=function(e){if(h.get_isIE()){document.documentElement.classList.toggle('fullscreen',y.get_inFullscreenMode())}};global.tab.FullscreenUtil=y;var z=function(){};z.__typeName='tab.HistoryUtil';z.pushState=function(e,bw,bx,by){if(h.get_historyApi()){try{e.history.pushState(bw,bx,by)}catch(bz){var e=ss.Exception.wrap(bz)}}};z.replaceState=function(e,bw,bx,by){if(h.get_historyApi()){try{e.history.replaceState(bw,bx,by)}catch(bz){var e=ss.Exception.wrap(bz)}}};global.tab.HistoryUtil=z;var A=function(){};A.__typeName='tab.HttpResponseCodes';global.tab.HttpResponseCodes=A;var B=function(){};B.__typeName='tab.IBrowserViewport';global.tab.IBrowserViewport=B;var C=function(){};C.__typeName='tab.ICommonDialogProvider';global.tab.ICommonDialogProvider=C;var D=function(){};D.__typeName='tab.ILogAppender';global.tab.ILogAppender=D;var E=function(e,bw){this.$0=0;this.$1=0;this.$0=e;this.$1=bw};E.__typeName='tab.IntegerRange';E.itemToTileRange=function(e,bw){var bx=new E(0,0);bx.set_from(Math.floor(e.get_from()/bw));bx.set_to(Math.floor(e.get_to()/bw));return bx};E.pixelToItemRange=function(e,bw){var bx=new E(0,0);bx.set_from(Math.floor(e.get_from()/bw));bx.set_to(Math.floor(e.get_to()/bw));return bx};E.pixelToTileRange=function(e,bw,bx){return E.itemToTileRange(E.pixelToItemRange(e,bw),bx)};E.isEqual=function(e,bw){return ss.isValue(e)&&ss.isValue(bw)&&e.get_to()===bw.get_to()&&e.get_from()===bw.get_from()};E.union=function(e,bw){if(ss.isNullOrUndefined(e)){return bw}if(ss.isNullOrUndefined(bw)){return e}var bx=new E(0,0);bx.set_from(Math.min(e.get_from(),bw.get_from()));bx.set_to(Math.max(e.get_to(),bw.get_to()));return bx};global.tab.IntegerRange=E;var F=function(){G.call(this)};F.__typeName='tab.JsMapPolyfill';global.tab.JsMapPolyfill=F;var G=function(){this.store={};this.size=0};G.__typeName='tab.JsSetPolyfillImpl';global.tab.JsSetPolyfillImpl=G;var H=function(){};H.__typeName='tab.Log';H.get=function(e){return I.lazyGetLogger(ss.getInstanceType(e))};global.tab.Log=H;var I=function(e){this.$1=null;this.$1=e};I.__typeName='tab.Logger';I.get_globalLog=function(){return I.global};I.$2=function(){return M.lazyInitStaticField(I,'appenders',function(){return[]})};I.$3=function(){return M.lazyInitStaticField(I,'filters',function(){return[]})};I.$4=function(){return M.lazyInitStaticField(I,'nullLog',function(){return new I('')})};I.clearFilters=function(){var e=I.$2();for(var bw=0;bw<e.length;bw++){var bx=e[bw];bx.clearFilters()}ss.clear(I.$3())};I.filterByLogger=function(e,bw){bw=bw||0;I.$0(function(bx,by){return ss.referenceEquals(bx,e)&&by>=bw})};I.filterByType=function(e,bw){bw=bw||0;I.$0(function(bx,by){return by>=bw&&ss.referenceEquals(bx.get_name(),ss.getTypeName(e))})};I.filterByName=function(e,bw){bw=bw||0;var bx=new RegExp(e,'i');I.$0(function(by,bz){return bz>=bw&&ss.isValue(by.get_name().match(bx))})};I.clearAppenders=function(){ss.clear(I.$2())};I.addAppender=function(e){var bw=I.$3();for(var bx=0;bx<bw.length;bx++){var by=bw[bx];e.addFilter(by)}I.$2().push(e)};I.removeAppender=function(e){ss.remove(I.$2(),e)};I.lazyGetLogger=function(e){return M.lazyInitStaticField(e,'_logger',function(){return I.getLogger(e)})};I.getLogger=function(e,bw){var bx=I.getLoggerWithName(ss.getTypeName(e));if(ss.isValue(bw)){}return bx};I.getLoggerWithName=function(e){return I.$4()};I.$1=function(){var e=M.getUriQueryParameters(window.self.location.search);if(!ss.keyExists(e,':log')){return}var bw=e[':log'];if(bw.length===0){}for(var bx=0;bx<bw.length;bx++){var by=bw[bx];var bz=by.split(String.fromCharCode(58));var bA=1;if(bz.length>0&&ss.isValue(bz[1])){var bB=bz[1].toLowerCase();var bC=ss.indexOf(I.loggerLevelNames,bB);if(bC>=0){bA=bC}}}};I.$0=function(e){I.$3().push(e);var bw=I.$2();for(var bx=0;bx<bw.length;bx++){var by=bw[bx];by.addFilter(e)}};global.tab.Logger=I;var J=function(){};J.__typeName='tab.LoggerLevel';global.tab.LoggerLevel=J;var K=function(){};K.__typeName='tab.MapUtil';K.getZoomFactorForDesiredZoomLevel=function(e,bw){return Math.exp(-(Math.LN2*(bw-e)))};K.allowZoomAtCurrentLevel=function(e,bw){return e+Math.log(1/bw)/Math.LN2>=0};K.allowZoomAtCurrentLevelLeaflet=function(e,bw){return e-bw>=0};K.getVisiblePixelWidth=function(e,bw,bx){var by=Math.pow(2,e)*bx;var bz=Math.floor(bw*by);return bz};K.getScrollDeltaForZoomFactor=function(e){return Math.floor(K.$1*(Math.log(e)/Math.log(2)))};K.getLeafletZoomOffsetForTileSize=function(e){return((e===K.$0)?-1:0)};K.calculateZoomFactor=function(e){var bw=ss.Int32.div(e,8);var bx=ss.Int32.div(bw,15);var by=1;var bz=Math.log(by)/Math.log(2)+bx/4;by=Math.pow(2,bz);return ss.round(by,2)};global.tab.MapUtil=K;var L=function(){this.$9=null;this.$a=null;this.$7=null;this.$6=null;this.$8=null;this.$9=[];this.$7=[];this.$8=null;this.$6=null};L.__typeName='tab.MetricsLogger';L.get_instance=function(){if(!ss.isValue(L.$b)){L.$b=new L}return L.$b};L.$1=function(e,bw){var bx=(bw?', ':',');var by=new ss.StringBuilder;by.append((bw?L.$9[e.eventType]:e.eventType.toString()));var bz=ss.getKeyCount(e.parameters);if(bz>0){by.append('=');by.append('{');var bA=0;var bB=(bw?': ':':');var bC=ss.getEnumerator(Object.keys(e.parameters));try{while(bC.moveNext()){var bD=bC.current();if(bD==='id'&&e.eventType!=='init'){continue}if(bA++>0){by.append(bx)}by.append((bw?L.$a[bD]:bD.toString()));by.append(bB);var bE=e.parameters[bD];L.$2(by,bE,bw)}}finally{bC.dispose()}by.append('}')}return by.toString()};L.$0=function(e,bw,bx){var by=(bx?', ':',');var bz=(bx?': ':':');var bA=ss.getKeyCount(bw);var bB=0;var bC=ss.getEnumerator(Object.keys(bw));try{while(bC.moveNext()){var bD=bC.current();if(bw.hasOwnProperty(bD)){var bE=bw[bD];e.append(bD);e.append(bz);L.$2(e,bE,bx);if(++bB<bA){e.append(by)}}}}finally{bC.dispose()}};L.$2=function(e,bw,bx){var by=typeof(bw);if(by==='number'&&Math.floor(bw)!==bw){e.append(bw.toFixed(1))}else if(by==='string'){if(bx){e.append('"');e.append(bw);e.append('"')}else{e.append(encodeURIComponent(bw))}}else if($.isArray(bw)){e.append('[');e.append(bw);e.append(']')}else if(by==='object'){e.append('{');var bz=bw;L.$0(e,bz,bx);e.append('}')}else{e.append(bw)}};global.tab.MetricsLogger=L;var M=function(){};M.__typeName='tab.MiscUtil';M.get_pathName=function(){var e=tabBootstrap.Utility.get_locationWindow();return tab.WindowHelper.getLocation(e).pathname};M.get_urlPathnameParts=function(){var e=M.get_pathName();var bw=tsConfig.site_root;var bx=e.indexOf(bw,0);var by=e.substr(bx+bw.length);var bz=by.split('/');var bA={};bA[2]=bz[2];bA[3]=bz[3];bA[4]=bz[4];return bA};M.lazyInitStaticField=function(e,bw,bx){var by=e[bw];if(ss.isNullOrUndefined(by)){by=bx();e[bw]=by}return by};M.shallowEquals=function(e,bw){if(ss.referenceEquals(e,bw)){return true}if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bw)){return false}var bx=Object.keys(e);var by=Object.keys(bw);if(bx.length!==by.length){return false}for(var bz=0;bz<bx.length;bz++){var bA=bx[bz];if(!bw.hasOwnProperty(bA)||!ss.referenceEquals(e[bA],bw[bA])){return false}}return true};M.percentEncode=function(e,bw){e=encodeURIComponent(e);if(ss.isNullOrUndefined(bw)){return e}var bx=new ss.StringBuilder;var by=0;while(by<e.length){var bz=e.substr(by,1);if(bz==='%'){bx.append(e.substr(by,3));by+=2}else if(!ss.keyExists(bw,bz)){bx.append('%').append(bz.charCodeAt(0).toString(16).toUpperCase())}else{bx.append(bz)}by++}return bx.toString()};M.encodeForWG=function(e){var bw={};var bx=function(by,bz){for(var bA=by;bA<=bz;bA++){var bB=String.fromCharCode(bA);bw[bB]=bB}};bx(97,122);bx(65,90);bx(48,57);bx(95,95);bx(45,45);e=M.percentEncode(e,bw);e=M.percentEncode(e,null);return e};M.isNullOrUndefined=function(e){if(ss.isNullOrUndefined(e)){return true}for(var bw=0;bw<e.length;bw++){if(ss.isNullOrUndefined(e[bw])){return true}}return false};M.isNullOrEmpty=function(e){if(ss.isNullOrUndefined(e)){return true}var bw=e;if(ss.isValue(bw['length'])&&bw['length']===0){return true}return false};M.isNullOrEmpty$1=function(e){return ss.isNullOrEmptyString(e)};M.isValidIndex=function(e,bw){return e>=0&&e<bw.length};M.toBoolean=function(e,bw){var bx=new RegExp('^(yes|y|true|t|1)$','i');if(M.isNullOrEmpty$1(e)){return bw}var by=e.match(bx);return!M.isNullOrEmpty(by)};M.getUriQueryParameters=function(e){var bw={};if(ss.isNullOrUndefined(e)){return bw}var bx=e.indexOf('?');if(bx<0){return bw}var by=e.substr(bx+1);var bz=by.indexOf('#');if(bz>=0){by=by.substr(0,bz)}if(ss.isNullOrEmptyString(by)){return bw}var bA=by.split('&');for(var bB=0;bB<bA.length;bB++){var bC=bA[bB];var bD=bC.split('=');var bE=decodeURIComponent(bD[0]);var bF;if(ss.keyExists(bw,bE)){bF=bw[bE]}else{bF=[];bw[bE]=bF}if(bD.length>1){bF.push(decodeURIComponent(bD[1]))}}return bw};M.replaceUriQueryParameters=function(e,bw){if(ss.getKeyCount(bw)===0){return e}var bx=new ss.StringBuilder;var by=true;var bz=function(){bx.append((by?'?':'&'));by=false};var bA=_.keys(bw);for(var bB=0;bB<bA.length;bB++){var bC=bA[bB];var bD=bw[bC];var bE=encodeURIComponent(bC);if(ss.isNullOrUndefined(bD)||bD.length===0){bz();bx.append(bE)}else{for(var bF=0;bF<bD.length;bF++){var bG=bD[bF];bz();bx.append(bE).append('=').append(encodeURIComponent(bG))}}}var bH='';var bI='';if(e.length>0){var bJ=e.indexOf('?');var bK=e.indexOf('#');var bL=Math.min(((bJ<0)?e.length:bJ),((bK<0)?e.length:bK));bI=e.substr(0,bL);bH=((bK<0)?'':e.substr(bK))}return bI+bx+bH};M.sanatizeBoolean=function(e){if(ss.isNullOrUndefined(e)){return e}return e.toString().toLowerCase()==='true'};M.dispose$1=function(e){if(ss.isValue(e)){e.dispose()}return null};M.dispose=function(e){if(ss.isValue(e)){for(var bw=0;bw<e.length;bw++){var bx=e[bw];bx.dispose()}ss.clear(e)}return null};M.clearTimeout=function(e){if(ss.isValue(e)){window.clearTimeout(ss.unbox(e))}return null};M.cloneObject=function(e){var bw=JSON.stringify(e);return JSON.parse(bw)};global.tab.MiscUtil=M;var N=function(){};N.__typeName='tab.NavigationMetricsCollector';N.collectMetrics=function(){if(typeof(window)!=='undefined'&&typeof(window.performance)!=='undefined'&&typeof(window.performance.timing)!=='undefined'){N.$0=window.performance.timing;if('navigationStart'in N.$0){var e=N.$0[N.$1[0]];var bw=[];for(var bx=0;bx<N.$1.length;bx++){var by=N.$1[bx];var bz=N.$0[by];bz=((bz===0)?0:(bz-e));bw.push(bz)}var bA={};bA['v']=bw;var bB=new tabBootstrap.MetricsEvent('nav',1,bA);tabBootstrap.MetricsController.logEvent(bB)}}};global.tab.NavigationMetricsCollector=N;var O=function(){};O.__typeName='tab.Param';O.createArgumentNullOrUndefinedException=function(e){var bw=new ss.Exception(e+' is null or undefined.');bw.paramName=e;return bw};O.verifyString=function(e,bw){O.verifyValue(e,bw);if(e.trim().length===0){var bx=new ss.Exception(bw+' contains only white space');bx.paramName=bw;O.$1(bx);throw bx}};O.verifyValue=function(e,bw){if(ss.isNullOrUndefined(e)){var bx=O.createArgumentNullOrUndefinedException(bw);O.$1(bx);throw bx}};O.$1=function(e){if(O.suppressAlerts){return}try{throw e}catch(bw){var exceptionWithStack=ss.Exception.wrap(bw);window.alert(O.$0(exceptionWithStack))}};O.$0=function(e){var bw;if(ss.isValue(e.stack)){bw=e.stack}else{bw=e.get_message()}return bw};global.tab.Param=O;var P=function(){};P.__typeName='tab.PathnameKey';global.tab.PathnameKey=P;var Q=function(){};Q.__typeName='tab.PointFUtil';Q.subtract=function(e,bw){return{x:e.x-bw.x,y:e.y-bw.y}};Q.timesScalar=function(e,bw){return{x:e.x*bw,y:e.y*bw}};Q.round=function(e){return{x:Math.round(e.x),y:Math.round(e.y)}};global.tab.PointFUtil=Q;var R=function(){};R.__typeName='tab.PointUtil';R.fromPresModel=function(e){if(ss.isNullOrUndefined(e)){return null}return{x:e.thj,y:e.RAC}};R.toPresModel=function(e){if(ss.isNullOrUndefined(e)){return null}var bw={};bw.thj=e.x;bw.RAC=e.y;return bw};R.fromPosition=function(e){return{x:t.roundToInt(e.left),y:t.roundToInt(e.top)}};R.add=function(e,bw){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bw)){return e}return{x:e.x+bw.x,y:e.y+bw.y}};R.subtract=function(e,bw){return{x:e.x-bw.x,y:e.y-bw.y}};R.distance=function(e,bw){O.verifyValue(e,'first');O.verifyValue(bw,'second');var bx=e.x-bw.x;var by=e.y-bw.y;return Math.sqrt(bx*bx+by*by)};R.isWithinDistance=function(e,bw,bx){var by=e.x-bw.x;var bz=e.y-bw.y;return by*by+bz*bz<=bx*bx};R.equals=function(e,bw){return ss.isValue(e)&&ss.isValue(bw)&&bw.x===e.x&&bw.y===e.y};global.tab.PointUtil=R;var S=function(){};S.__typeName='tab.RecordCast';S.rectAsSize=function(e){return e};S.regionRectAsSize=function(e){return e};S.rectPresModelAsRectXY=function(e){if(ss.isNullOrUndefined(e)){return null}return{x:e.thj,y:e.RAC,w:e.rec,h:e.EUR}};S.doubleRectPresModelAsDoubleRectXY=function(e){if(ss.isNullOrUndefined(e)){return null}return{x:e.BPK,y:e.KEc,w:e.POJ,h:e.suk}};S.sizeAsSizePresModel=function(e){if(ss.isNullOrUndefined(e)){return null}var bw={};bw.rec=e.w;bw.EUR=e.h;return bw};global.tab.RecordCast=S;var T=function(){};T.__typeName='tab.RectUtil';T.isEmpty=function(e){return e.w===0||e.h===0};T.isEqual=function(e,bw){return e.t===bw.t&&e.l===bw.l&&e.w===bw.w&&e.h===bw.h};T.inRect=function(e,bw){return bw.x>=e.l&&bw.x<e.l+e.w&&bw.y>=e.t&&bw.y<e.t+e.h};global.tab.RectUtil=T;var U=function(){};U.__typeName='tab.RectXYUtil';U.set=function(e,bw){e.x=bw.x;e.y=bw.y;e.w=bw.w;e.h=bw.h};U.set$1=function(e,bw,bx,by,bz){e.x=bw;e.y=bx;e.w=by;e.h=bz};U.isEmpty=function(e){if(!ss.isValue(e)){return true}return e.w===0||e.h===0};U.isEqual=function(e,bw){return e.x===bw.x&&e.y===bw.y&&e.w===bw.w&&e.h===bw.h};U.isNull=function(e){return e.x===0&&e.y===0&&e.w===0&&e.h===0};U.inRect=function(e,bw){return bw.x>=e.x&&bw.x<e.x+e.w&&bw.y>=e.y&&bw.y<e.y+e.h};U.inRect$1=function(e,bw,bx){return bw>=e.x&&bw<e.x+e.w&&bx>=e.y&&bx<e.y+e.h};U.inRectPointF=function(e,bw){return bw.x>=e.x&&bw.x<e.x+e.w&&bw.y>=e.y&&bw.y<e.y+e.h};U.inRectPointF$1=function(e,bw,bx){return bw>=e.x&&bw<e.x+e.w&&bx>=e.y&&bx<e.y+e.h};U.intersectsWith=function(e,bw){return!(bw.x+bw.w<e.x||bw.y+bw.h<e.y||bw.x>e.x+e.w||bw.y>e.y+e.h)};U.intersectsWith$1=function(e,bw,bx,by,bz){return!(bw+by<e.x||bx+bz<e.y||bw>e.x+e.w||bx>e.y+e.h)};U.intersectsWithMoreThanSharedEdge=function(e,bw){return!(bw.x+bw.w<=e.x||bw.y+bw.h<=e.y||bw.x>=e.x+e.w||bw.y>=e.y+e.h)};U.clone=function(e){return{x:e.x,y:e.y,w:e.w,h:e.h}};U.nonemptyify=function(e){return{x:e.x,y:e.y,w:Math.max(1,e.w),h:Math.max(1,e.h)}};U.intersectsWithAny=function(e,bw){var bx=false;for(var by=0;by<bw.length;by++){var bz=bw[by];if(ss.isNullOrUndefined(bz)){continue}if(U.intersectsWith(e,bz)){bx=true;break}}return bx};U.intersectsWithAny$1=function(e,bw,bx){if(bw.y+bw.h<e.y||bw.y>e.y+e.h){return false}var by=e.x;var bz=e.x+e.w;for(var bA=0;bA<bx.length;bA++){var bB=bx[bA];var bC=bw.x+bB;var bD=bC+bw.w;if(!(bD<by||bC>bz)){return true}}return false};U.completelyContains=function(e,bw){return U.inRect(e,{x:bw.x,y:bw.y})&&U.inRect(e,{x:bw.x+bw.w-1,y:bw.y+bw.h-1})};U.completelyContains$1=function(e,bw,bx,by,bz){return U.inRect$1(e,bw,bx)&&U.inRect$1(e,bw+by-1,bx+bz-1)};U.toRect=function(e){return{l:e.x,t:e.y,w:e.w,h:e.h}};U.offsetRect=function(e,bw){return{x:e.x+bw.x,y:e.y+bw.y,w:e.w,h:e.h}};U.offsetRectXY=function(e,bw,bx){return{x:e.x+bw,y:e.y+bx,w:e.w,h:e.h}};U.offsetRectXYInPlace=function(e,bw,bx){e.x+=bw;e.y+=bx};U.offsetRectF=function(e,bw){return{x:e.x+Math.round(bw.x),y:e.y+Math.round(bw.y),w:e.w,h:e.h}};U.outsetRect=function(e,bw,bx){return{x:e.x-bw,y:e.y-bx,w:e.w+bw+bw,h:e.h+bx+bx}};U.outsetRectInPlace=function(e,bw,bx){e.x-=bw;e.y-=bx;e.w+=2*bw;e.h+=2*bw};U.outsetRectSizeF=function(e,bw){return U.outsetRect(e,Math.ceil(bw.w),Math.ceil(bw.h))};U.encompassCircleInPlace=function(e,bw,bx,by){var bz=by*2;var bA=Math.floor(bw-by+0.5);var bB=Math.floor(bx-by+0.5);var bC=Math.floor(bz+0.5);U.unionInPlace$1(e,bA,bB,bC,bC)};U.union=function(e,bw){if(U.isEmpty(e)){return U.clone(bw)}if(U.isEmpty(bw)){return U.clone(e)}var bx=Math.min(e.x,bw.x);var by=Math.min(e.y,bw.y);var bz=Math.max(e.x+e.w,bw.x+bw.w);var bA=Math.max(e.y+e.h,bw.y+bw.h);return{x:bx,y:by,w:bz-bx,h:bA-by}};U.unionInPlace$1=function(e,bw,bx,by,bz){if(U.isEmpty(e)){U.set$1(e,bw,bx,by,bz);return}if(by===0||bz===0){return}var bA=Math.min(e.x,bw);var bB=Math.min(e.y,bx);var bC=Math.max(e.x+e.w,bw+by);var bD=Math.max(e.y+e.h,bx+bz);U.set$1(e,bA,bB,bC-bA,bD-bB)};U.unionInPlace=function(e,bw){U.unionInPlace$1(e,bw.x,bw.y,bw.w,bw.h)};U.unionAll=function(e){var bw=e.length;if(bw===0){return{x:0,y:0,w:0,h:0}}var bx=e[0];var by=bx.x;var bz=bx.y;var bA=bx.x+bx.w;var bB=bx.y+bx.h;for(var bC=1;bC<bw;bC++){bx=e[bC];by=Math.min(by,bx.x);bz=Math.min(bz,bx.y);bA=Math.max(bA,bx.x+bx.w);bB=Math.max(bB,bx.y+bx.h)}return{x:by,y:bz,w:bA-by,h:bB-bz}};U.rectXYFromCorners=function(e,bw){var bx=Math.round(Math.min(e.x,bw.x));var by=Math.round(Math.min(e.y,bw.y));var bz=Math.abs(Math.round(e.x-bw.x));var bA=Math.abs(Math.round(e.y-bw.y));return{x:bx,y:by,w:bz,h:bA}};U.rectXYFromCorners$1=function(e,bw,bx,by){var bz=Math.round(Math.min(e,bx));var bA=Math.round(Math.min(bw,by));var bB=Math.abs(Math.round(e-bx));var bC=Math.abs(Math.round(bw-by));return{x:bz,y:bA,w:bB,h:bC}};U.rectXYFromBBoxRectF=function(e){return U.rectXYFromMinAndMax(e.minX,e.minY,e.maxX,e.maxY)};U.rectXYFromMinAndMax=function(e,bw,bx,by){var bz=Math.floor(e);var bA=Math.floor(bw);var bB=Math.ceil(bx);var bC=Math.ceil(by);return{x:bz,y:bA,w:bB-bz,h:bC-bA}};U.dialate=function(e,bw){var bx=e.x-bw;var by=e.y-bw;var bz=e.w+2*bw;var bA=e.h+2*bw;return{x:bx,y:by,w:bz,h:bA}};U.intersect=function(e,bw){if(!U.intersectsWith(e,bw)||U.isEmpty(bw)||U.isEmpty(e)){return{x:0,y:0,w:0,h:0}}var bx=Math.max(e.x,bw.x);var by=Math.max(e.y,bw.y);var bz=Math.min(e.x+e.w,bw.x+bw.w);var bA=Math.min(e.y+e.h,bw.y+bw.h);return{x:bx,y:by,w:bz-bx,h:bA-by}};U.intersectInPlace=function(e,bw){if(!U.intersectsWith(e,bw)||U.isEmpty(e)||U.isEmpty(bw)){U.set$1(e,0,0,0,0);return}var bx=Math.max(e.x,bw.x);var by=Math.max(e.y,bw.y);var bz=Math.min(e.x+e.w,bw.x+bw.w);var bA=Math.min(e.y+e.h,bw.y+bw.h);U.set$1(e,bx,by,bz-bx,bA-by)};U.shiftCoordsTowardsCenter=function(e,bw,bx){if(ss.isNullOrUndefined(bw)){return e}var by={x:e.x,y:e.y};by=U.horizontalShiftCoordsTowardsCenter(by,bw,bx);return U.verticalShiftCoordsTowardsCenter(by,bw,bx)};U.horizontalShiftCoordsTowardsCenter=function(e,bw,bx){if(ss.isNullOrUndefined(bw)){return e}var by={x:e.x,y:e.y};if(by.x<=bw.x+bx){by.x+=bx}else if(by.x>=bw.x+bw.w-2*bx){by.x-=bx}return by};U.verticalShiftCoordsTowardsCenter=function(e,bw,bx){if(ss.isNullOrUndefined(bw)){return e}var by={x:e.x,y:e.y};if(by.y<=bw.y+bx){by.y+=bx}else if(by.y>=bw.y+bw.h-2*bx){by.y-=bx}return by};U.clampCoords=function(e,bw){var bx=Math.min(Math.max(bw.x,e.x),bw.x+bw.w);var by=Math.min(Math.max(bw.y,e.y),bw.y+bw.h);return{x:bx,y:by}};U.getChangedRects=function(e,bw){var bx=[];if(!ss.isValue(e)||!ss.isValue(bw)||!U.intersectsWith(e,bw)){return bx}var by=e.x+e.w;var bz=e.y+e.h;var bA=bw.x+bw.w;var bB=bw.y+bw.h;var bC=Math.min(e.x,bw.x);var bD=Math.max(e.x,bw.x);var bE=Math.min(by,bA);var bF=Math.max(by,bA);var bG=Math.min(e.y,bw.y);var bH=Math.max(e.y,bw.y);var bI=Math.min(bz,bB);var bJ=Math.max(bz,bB);var bK={x:bC,y:bG,w:bF-bC,h:bH-bG};var bL={x:bC,y:bH,w:bD-bC,h:bI-bH};var bM={x:bE,y:bH,w:bF-bE,h:bI-bH};var bN={x:bC,y:bI,w:bF-bC,h:bJ-bI};if(!U.isEmpty(bK)){bx.push(bK)}if(!U.isEmpty(bL)){bx.push(bL)}if(!U.isEmpty(bM)){bx.push(bM)}if(!U.isEmpty(bN)){bx.push(bN)}return bx};U.reduceRectangles=function(e){if(ss.isNullOrUndefined(e)){return null}var bw=e.length;if(bw===1){return e}var bx=new Array(bw);for(var by=0;by<bw;by++){var bz=bx[by]||e[by];bx[by]=bz;if(U.isEmpty(bz)){continue}for(var bA=by+1;bA<bw;bA++){var bB=bx[bA]||e[bA];if(U.isEmpty(bB)){continue}var bC=U.intersect(bz,bB);if(U.isEmpty(bC)){continue}var bD=U.$0(bz,bC);if(ss.referenceEquals(bD,bz)){bB=U.$0(bB,bC)}bx[by]=bD;bx[bA]=bB}}for(var bE=bx.length-1;bE>=0;bE--){if(U.isEmpty(bx[bE])){bx.splice(bE,1)}}return bx};U.$0=function(e,bw){if(bw.x===e.x&&bw.w===e.w){if(bw.y>e.y){return{x:e.x,y:e.y,w:e.w,h:e.h-bw.h}}else{return{x:e.x,y:e.y+bw.h,w:e.w,h:e.h-bw.h}}}else if(bw.y===e.y&&bw.h===e.h){if(bw.x>e.x){return{x:e.x,y:e.y,w:e.w-bw.w,h:e.h}}else{return{x:e.x+bw.w,y:e.y,w:e.w-bw.w,h:e.h}}}return e};global.tab.RectXYUtil=U;var V=function(){};V.__typeName='tab.RleDecoder';V.decode=function(e){if(ss.isNullOrUndefined(e)){return e}return V.$2(e)};V.$2=function(e){if(typeof(e)!=='object'||!ss.isValue(e)){return e}if($.isArray(e)){var bw=e;for(var bx=0,by=bw.length;bx<by;bx++){var bz=bw[bx];if(typeof(bz)!=='object'){break}bw[bx]=V.$2(bz)}return V.$1(bw)}else{var bA=e;var bB=Object.keys(bA);for(var bC=0,bD=bB.length;bC<bD;bC++){var bE=bB[bC];if(typeof(bA[bE])!=='object'){continue}if(bA.hasOwnProperty(bE)){bA[bE]=V.$2(bA[bE])}}}return e};V.$0=function(e){if(e.length===0){return false}var bw=e[e.length-1];if(!$.isArray(bw)){return false}return bw.length===0};V.$4=function(e){var bw=e.length;return bw===2||bw===3};V.$3=function(e,bw){var bx=bw[0];var by=bw[1];var bz=((bw.length===3)?bw[2]:0);for(var bA=0,bB=bx;bA<by;bA++,bB+=bz){e.push(bB)}};V.$1=function(e){if(!V.$0(e)){return e}e.pop();var bw=null;var bx=0;var by=e.length;for(var bz=0;bz<by;bz++){var bA=e[bz];var bB=typeof(bA);if(bB==='number'){continue}if(ss.isNullOrUndefined(bA)){continue}if(bB!=='object'||!$.isArray(bA)){return e}var bC=bA;if(!V.$4(bC)){return e}bw=bw||[];for(var bD=bx;bD<bz;bD++){bw.push(e[bD])}V.$3(bw,bC);bx=bz+1}if(ss.isValue(bw)){for(var bE=bx;bE<by;bE++){bw.push(e[bE])}e=bw}return e};global.tab.RleDecoder=V;var W=function(){};W.__typeName='tab.SetUtilities';W.interserctWith=function(e){return function(bw,bx){var by=new Set;for(var bz=0;bz<bx.length;bz++){var bA=bx[bz];if(bw.has(bA)){by.add(bA)}}bw.forEach(function(bB){if(!by.has(bB)&&_.contains(bx,bB)){by.add(bB)}});return by}};W.getValues=function(e){return function(bw){var bx=[];bw.forEach(function(by){bx.push(by)});return bx}};W.addAll=function(e){return function(bw,bx){for(var by=0;by<bx.length;by++){var bz=bx[by];bw.add(bz)}}};W.symmetricDifferenceWith=function(e){return function(bw,bx){var by=new Set;bw.forEach(function(bz){if(!bx.has(bz)){by.add(bz)}});bx.forEach(function(bz){if(!bw.has(bz)){by.add(bz)}});return by}};global.tab.SetUtilities=W;var X=function(){};X.__typeName='tab.SizeUtil';X.isEmpty=function(e){return e.w===0&&e.h===0};X.union=function(e,bw){return{w:Math.max(e.w,bw.w),h:Math.max(e.h,bw.h)}};X.unionPresModels=function(e,bw){var bx={};bx.rec=Math.max(e.rec,bw.rec);bx.EUR=Math.max(e.EUR,bw.EUR);return bx};X.add=function(e,bw){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bw)){return e}return{w:e.w+bw.w,h:e.h+bw.h}};X.subtract=function(e,bw){return{w:e.w-bw.w,h:e.h-bw.h}};X.equals=function(e,bw){return ss.isValue(e)&&ss.isValue(bw)&&bw.w===e.w&&bw.h===e.h};global.tab.SizeUtil=X;var Y=function(e,bw){this.url=null;this.lineNo=0;this.columnNo=0;this.functionName='?';this.context=null;this.url=e;this.lineNo=bw};Y.__typeName='tab.StackLocation';global.tab.StackLocation=Y;var Z=function(e,bw){this.userAgent=window.navigator.userAgent;this.traceMode='onError';this.message=null;this.url=null;this.locations=null;this.isIncomplete=false;this.isPartial=false;this.name=null;this.traceMode=e;this.message=bw;this.url=document.URL;this.locations=[]};Z.__typeName='tab.StackTrace';global.tab.StackTrace=Z;var ba=function(){g.call(this)};ba.__typeName='tab.StackTraceAppender';ba.enableLogging=function(e){if(ss.isNullOrUndefined(ba.$0)){ba.$0=new ba;I.addAppender(ba.$0)}ba.$0.addFilter(e||function(){return true})};ba.disableLogging=function(){if(ss.isValue(ba.$0)){I.removeAppender(ba.$0);ba.$0=null}};global.tab.StackTraceAppender=ba;var bb=function(e,bw){this.$0=null;this.$1=null;this.$0=e;this.$1=bw};bb.__typeName='tab.StringTuple';global.tab.StringTuple=bb;var bc=function(){};bc.__typeName='tab.StyleUtil';bc.appendCSSRule=function(e,bw){bc.appendCSSRuleToStyleSheet$1('tab-appendedCustomStyle',e,bw)};bc.appendCSSRuleToStyleSheet=function(e,bw,bx){var by='';var bz=_.keys(bx);for(var bA=0;bA<bz.length;bA++){var bB=bz[bA];var bC=bx[bB];if(!ss.isNullOrEmptyString(bC)){by+=bB+':'+bC+';\n'}}var bD=bw+' {\n'+by+'}\n';var bE=e.cssRules.length;e.insertRule(bD,bE)};bc.appendCSSRuleToStyleSheet$1=function(e,bw,bx){if(!ss.keyExists(bc.$3,e)){bc.$0(e)}var by=bc.$3[e]||bc.$1(e);bc.appendCSSRuleToStyleSheet(by,bw,bx)};bc.clearDefaultStyleSheet=function(){bc.clearStyleSheet('tab-appendedCustomStyle')};bc.clearStyleSheet=function(e){var bw=bc.$3[e];if(ss.isNullOrUndefined(bw)){return}var bx=bw.ownerNode;if(ss.isValue(bx)&&ss.isValue(bx.parentNode)){bx.parentNode.removeChild(bx);delete bc.$3[e]}};bc.isValidCssClassName=function(e){var bw=e.match(bc.$2);return ss.isValue(bw)};bc.$0=function(e){var bw=document.createElement('style');bw.setAttribute('type','text/css');bw.id=e;bw.appendChild(document.createTextNode(''));document.head.appendChild(bw);bc.$3[e]=bc.$1(e);return bw};bc.$1=function(e){for(var bw=0;bw<document.styleSheets.length;bw++){var bx=document.styleSheets[bw];var by=bx.ownerNode;if(ss.isValue(by)&&ss.referenceEquals(by.id,e)){return bx}}return null};global.tab.StyleUtil=bc;var bd=function(e,bw,bx,by){this.$3=null;this.$1=0;this.$0=0;this.$2=0;this.$3={x:e,y:bw};this.$1=bx;this.$0=1/bx;this.$2=by};bd.__typeName='tab.Transform';bd.offset=function(e,bw){return((e===0&&bw===0)?bd.$0:new bd(e,bw,1,3))};bd.pixelToDomain=function(e,bw,bx){if(t.isApproximatelyZero(e)&&t.isApproximatelyZero(bw)&&t.isApproximatelyEqual(1,bx)){return bd.$0}return new bd(e,bw,bx,1)};bd.domainToPixel=function(e,bw,bx){if(t.isApproximatelyZero(e)&&t.isApproximatelyZero(bw)&&t.isApproximatelyEqual(1,bx)){return bd.$0}return new bd(e,bw,bx,2)};global.tab.Transform=bd;var be=function(){this.$0=null;this.reset()};be.__typeName='tab.TransformationMatrix';global.tab.TransformationMatrix=be;var bf=function(){};bf.__typeName='tab.TransformationType';global.tab.TransformationType=bf;var bg=function(){this.$2=null;g.call(this)};bg.__typeName='tab.WindowAppender';bg.enableLogging=function(e){if(ss.isNullOrUndefined(bg.$0)){bg.$0=new bg;I.addAppender(bg.$0)}bg.$0.addFilter(e||function(){return true})};bg.disableLogging=function(){if(ss.isNullOrUndefined(bg.$0)){return}I.removeAppender(bg.$0);bg.$0=null};global.tab.WindowAppender=bg;var bh=function(){};bh.__typeName='tableau.format';bh.$y=function(){return I.lazyGetLogger(bh)};bh.get_isO8601DateFormat=function(){return bh.$R};bh.get_isO8601DateTimeFormat=function(){return bh.$S};bh.get_isO8601TimeFormat=function(){return bh.$T};bh.get_defaultLocaleStrings=function(){return bh.$P};bh.get_baseTimestamp=function(){return bh.$L};bh.formatDataValue=function(e,bw,bx,by,bz){var bA=e.s;if(ss.isNullOrUndefined(bA)||ss.isNullOrUndefined(bA)){var bB=(('t'in e)?e.t:'');var bC=e.v;switch(bB){case's':{return bC}case'b':{return bC.toString()}case'i':{if(typeof(bC)!=='number'){bC=parseInt(bC,10)}return((bw==='d')?bh.$i(bC).toString():bh.$d(bC,bx))}case'r':{if(typeof(bC)!=='number'){bC=parseFloat(bC)}return bh.$j(bC,bB,bx,by,bw)}case't':{return(_.isDate(bC)?bh.formatJsDateTime(bC,bx,bz,bB):bh.$g((_.isNumber(e.v)?e.v:parseFloat(e.v)),bx,bz,bB))}case'd':{return(_.isDate(bC)?bh.formatJsDateTime(bC,bx,0,bB):bh.$g((_.isNumber(e.v)?e.v:parseFloat(e.v)),bx,0,bB))}}throw new ss.Exception('Invalid Tableau Format Type')}if(bA==='n'){return'null'}if(bA==='m'){return tab.Strings.SpecialMissing}return'#special:'+bA+'#'};bh.parseQuantitativeDataValue=function(e,bw,bx,by,bz){switch(bw){case'i':{return parseInt(bh.reformatNumberToJsFormat(e,bx),10)}case'r':{return parseFloat(bh.reformatNumberToJsFormat(e,bx))}case'd':case't':{var bA=bh.formatToJSCompliantFormat(e,bx,by,bz);return bi.OleDateFromJsDate((new Date(Date.parse(bA+' GMT'))).getTime())}}return(ss.isValue(bz)?parseFloat(bz.v):0)};bh.reformatNumberToJsFormat=function(e,bw){var bx=bw[8].replace(bh.$Y,'\\$1');if(bx.indexOf(' ')!==-1){bx+=' '}var by=bw[7].replace(bh.$Y,'\\$1');return e.replace(new RegExp('['+bx+']','g'),'').replace(new RegExp('['+by+']','g'),'.')};bh.formatToJSCompliantFormat=function(e,bw,bx,by){var bz=bh.normalizeDateTimeFormat(bw,bx,by.t);var bA=bh.tokenizeDateTime(e,bz,bx);if(ss.isValue(bA)){return bh.$3(bA,by)}else{return''}};bh.normalizeDateTimeFormat=function(e,bw,bx){var by=e.format;var bz=e.timeFormat;if(by.charCodeAt(0)===42){by=by.substr(1)}if(bw!==0&&ss.isValue(bz)&&(ss.isNullOrUndefined(e.originalFormat)||0===e.originalFormat.length||e.originalFormat==='S')&&bx==='t'){if(bz.charCodeAt(0)===42){bz=bz.substr(1)}by=by+' '+bz}by=by.replace(new RegExp('ampm','g'),'tt');by=ss.replaceAllString(by,'H','h');by=by.replace(bh.$M,function(bA){return bA.replace(new RegExp('m','gi'),'m')});by=by.replace(bh.$N,function(bA){return bA.replace(new RegExp('m','gi'),'n')});return by};bh.tokenizeDateTime=function(e,bw,bx){var by=bw;by=by.replace(bh.$Y,'\\$1');by=by.replace(bh.$12,'($1)');by=by.replace(bh.$U,'($1)');var bz=bw.match(new RegExp(by));var bA=bw;bA=bA.replace(bh.$Y,'\\$1');if(bx===1){bA=bA.replace(bh.$O,'(?:$1 )?$2')}else{bA=bA.replace(bh.$O,'$1(?: $2)?')}bA=bA.replace(bh.$Z,'(?:$1)?');bA=bA.replace(bh.$U,'(\\d+)');bA=bA.replace(bh.$12,'([^0-9\\s]+)?');bA=bA.replace(bh.$10,function(bE){return bE.replace(new RegExp('\\s+','g'),'\\s+')});bA=bA.replace(bh.$V,'\\s*');var bB=e.match(new RegExp(bA));if(ss.isNullOrUndefined(bB)){return null}var bC={};for(var bD=1;bD<bB.length;++bD){if(ss.isValue(bB[bD])&&bB[bD].length>0){bC[bz[bD].substr(0,1).toLowerCase()]=bB[bD]}}return bC};bh.$3=function(e,bw){if(!ss.keyExists(e,'y')&&!ss.keyExists(e,'m')&&!ss.keyExists(e,'d')){var bx=(bw.v?new Date(bi.JsDateFromOleDate(bw.v)):new Date(bi.javaScriptOLEEpoch()));e['y']=bx.getUTCFullYear().toString();e['m']=(bx.getUTCMonth()+1).toString();e['d']=bx.getUTCDate().toString()}var by=e['y'].replace(new RegExp('^(\\d{2})$'),function(bA){var bB=parseInt(bA,10);return((bB<30)?('20'+bA):('19'+bA))});var bz=e['m']+'/'+e['d']+'/'+by;if(ss.keyExists(e,'h')&&ss.keyExists(e,'n')){bz+=' '+e['h']+':'+e['n']+':';bz+=(ss.keyExists(e,'s')?e['s']:'00');if(ss.keyExists(e,'t')){if(ss.isValue(e['t'].match(bh.$K))){bz+=' am'}else if(ss.isValue(e['t'].match(bh.$W))){bz+=' pm'}}}return bz};bh.formatCustomJSDateTime=function(e,bw,bx,by,bz,bA,bB,bC,bD){var bE=0,bF=0,bG;if(ss.isNullOrUndefined(bD)){bD=new i}var bH=ss.isValue(bB);var bI=ss.isNullOrUndefined(bA)||0===bA.length||bA==='S';var bJ=by==='t';if(ss.isValue(bx)&&bx!==0&&bH&&bI&&bJ){if(bB.charCodeAt(0)===42){bB=bB.substr(1)}if(bx===2){bw=bw+' '+bB}else{bw=bB}}if(bw==='L'){bw='*dddd, mmmm dd, yyyy'}if(bw.charCodeAt(0)===42){bw=bw.substr(1)}bG=bw.length;var bK,bL;if(bD.fiscalYearStart>1){bK=bL=bh.dtGetFiscalYear(e,bD.fiscalYearStart)}else{bK=e.getUTCFullYear();bL=(bD.brokenWeeks?bK:bh.$a(e,bD.startOfWeek,bD.minDaysInFirstWeek))}var bM=bL.toString();var bN=bM.substr(bM.length-2);var bO=bK.toString();var bP=bO.substr(bO.length-2);var bQ=[];bQ.push(new bb('ampm',bh.$5(e)));bQ.push(new bb('tt',bh.$5(e)));bQ.push(new bb('yyyy',bO));bQ.push(new bb('yy',bP));bQ.push(new bb('mmmm',bh.$v(e,bC)));bQ.push(new bb('mmm',bh.$x(e,bC)));bQ.push(new bb('dddd',bh.$u(e,bC)));bQ.push(new bb('ddd',bh.$w(e,bC)));bQ.push(new bb('mm',bh.$p(e.getUTCMonth()+1,2)));bQ.push(new bb('m',(e.getUTCMonth()+1).toString()));bQ.push(new bb('dd',bh.$p(e.getUTCDate(),2)));bQ.push(new bb('d',e.getUTCDate().toString()));bQ.push(new bb('hh',bh.$p(bh.$8(e),2)));bQ.push(new bb('h',bh.$8(e).toString()));bQ.push(new bb('nn',bh.$p(e.getUTCMinutes(),2)));bQ.push(new bb('n',e.getUTCMinutes().toString()));bQ.push(new bb('ss',bh.$p(e.getUTCSeconds(),2)));bQ.push(new bb('s',e.getUTCSeconds().toString()));bQ.push(new bb('ww',bh.$9(e,bD).toString()));bQ.push(new bb('y',bh.$6(e).toString()));bQ.push(new bb('w',(e.getUTCDay()+1).toString()));bQ.push(new bb('q',bh.dtGetFiscalQuarter(e,bD.fiscalYearStart).toString()));var bR=[];var bS=null;var bT=false;var bU=false;var bV=-1;var bW=false;var bX=false;var bY=false;while(bE<bG){var bZ=false;var ca=false;for(var cb=0;cb<bQ.length;cb++){var cc=bQ[cb];var cd=cc.get_first();var ce=cc.get_second();if(ss.referenceEquals(cd,bw.substr(bE,cd.length).toLowerCase())){bZ=true;bR.push(ce);bE+=cd.length;if(ss.isValue(bS)&&cd==='mm'){bR[bR.length-1]=bh.$p(e.getUTCMinutes(),2)}if(ss.isValue(bS)&&cd==='m'){bR[bR.length-1]=e.getUTCMinutes().toString()}if(cd.charCodeAt(0)===100){bS=null}if(cd.charCodeAt(0)===104){bS=cd;bF=bR.length-1}if(ss.isValue(bS)&&(cd==='ampm'||cd==='tt')){bR[bF]=((bS==='hh')?bh.$p(bh.$7(e),2):bh.$7(e).toString())}switch(cd.charCodeAt(0)){case 121:{if(cd.length>1){ca=true;bV=bR.length-1;bW=cd.length===4;bY=true;if(bT){if(!bD.brokenWeeks){bR[bV]=(bW?bM:bN);bY=false}bT=false}}break}case 119:{if(cd.length!==2){break}var cf=bT;bT=true;if(!cf&&!bU&&bY){if(!bD.brokenWeeks){bR[bV]=(bW?bM:bN);bY=false}bT=false}bU=false;break}case 109:case 100:case 113:{if((cd==='mm'||cd==='m')&&ss.isValue(bS)){break}bT=false;bU=true;break}}break}}if(bZ){bX=ca;continue}if(bw.charCodeAt(bE)===92){bR.push(bw.substr(bE+1,1));bE+=2}else if(bw.charCodeAt(bE)===34){var cg=bw.charCodeAt(bE);var ch=++bE;while(bE<bG&&bw.charCodeAt(bE)!==cg){bE+=1}if(ch<bG&&bE>ch){bR.push(bw.substr(ch,bE-ch))}if(bE<bG){bE+=1}}else if(bw.charCodeAt(bE)===91){var ci=++bE;while(ci<bw.length&&bw.charCodeAt(ci)!==93){ci++}var cj=bw.substring(bE,ci);if((cj==='y'||cj==='Y')&&bX){bR[bV]=((cj==='y')?(bW?bO:bP):(bW?bM:bN));bY=false}bE=ci+1}else{bR.push(String.fromCharCode(bw.charCodeAt(bE)));bE+=1}bX=ca}bw=bR.join('');return bw};bh.mapIcuToOleFormat=function(e){return bh.$n(bh.$Q,e)};bh.$n=function(e,bw){if(ss.isNullOrUndefined(e)||ss.isNullOrEmptyString(bw)){return bw}var bx=new ss.StringBuilder;var by=0;var bz=0;var bA=null;while(++bz<=bw.length){var bB=e[bw.substring(by,bz)];if(ss.isValue(bB)){bA=bB}else{if(ss.isValue(bA)){bx.append(bA);--bz}else{bx.append(bw.substring(by,by+1))}by=bz;bA=null}}if(ss.isValue(bA)){bx.append(bA)}return bx.toString()};bh.escapeHTML=function(e){return tab.EscapingUtil.escapeHtml(e)};bh.formatColumnDisplayName=function(e,bw,bx){var by=e.caption;var bz;if(!(typeof(by)==='undefined')){bz=by}else{var bA=e.name;bz=(bw?ss.arrayExtract(bA,1).join('.'):bh.formatQualifiedName(bA))}return(bx?bz:tab.EscapingUtil.escapeHtml(bz))};bh.formatTupleDisplayName=function(e,bw,bx){if(ss.isNullOrUndefined(e)){return' '}var by=e.d;var bz=(ss.isValue(by)?by:bh.formatTupleUniqueName(e,bx));var bA=(bw?bz:bh.escapeHTML(bz));return ss.coalesce(bA,' ')};bh.formatTupleUniqueName=function(e,bw){var bx='';if(ss.isValue(e)){var by=e.t;if(ss.isValue(by)){for(var bz=0;bz<by.length;bz++){var bA=by[bz];if(bx.length!==0){bx+=','}bx+=bh.formatDataValue(bA,bw)}}}return bx};bh.formatTupleDisplayFacet=function(e,bw,bx){var by=bh.formatTupleFacet(e,bx);return(bw?by:bh.escapeHTML(by))};bh.formatTupleFacet=function(e,bw){var bx='';if(ss.isValue(e)){var by=e.f;if(ss.isValue(by)){for(var bz=0;bz<by.length;bz++){var bA=by[bz];if(bx.length!==0){bx+=','}bx+=bh.formatDataValue(bA,bw)}}}return bx};bh.formatQualifiedName=function(e){var bw='';for(var bx=0;bx<e.length;bx++){var by=e[bx];if(bw.length!==0){bw+='.'}bw+='['+by.replace(new RegExp('\\]','g'),']]')+']'}return bw};bh.formatIntAuto=function(e,bw,bx,by){var bz=bh.$1(e,bw,bx,by);return((bh.$t(e)>=0)?bz:('-'+bz))};bh.isDateTimeWithNonMidnightTime=function(e){return ss.isValue(e)&&(ss.isNullOrEmptyString(e.s)||ss.isNullOrUndefined(e.s))&&e.t==='t'&&!bh.$m(new Date(bi.JsDateFromOleDate(parseFloat(e.v))))};bh.applyDecimalPlaces=function(e,bw,bx){if(bw>=0){var by=e-bh.$t(e);var bz=bh.$r(by,bw);var bA=parseInt(bz,10);if(Math.abs(bA)===1){return bA}if(bw===0){return''}bz=bz.replace(new RegExp('^-?0\\.'),bx);return bz}return''};bh.formatString=function(e,bw){var bx=bw.tbM;var by=bw.blJ;var bz=bw.YIQ;var bA=by;var bB='';var bC=e.toString();switch(bx){case'cstring':{bB='s';break}case'date':{bB='d';bC=o.parsePresModelDate(e);bA=bh._convertFormatStringsToFormattingInfo(by);break}case'datetime':{bB='t';bC=o.parsePresModelDate(e);bA=bh._convertFormatStringsToFormattingInfo(by);break}case'integer':{bB='i';bC=parseInt(e);break}case'real':{bB='r';bC=parseFloat(e);break}case'tuple':{bB='s';bC=bh.$l(e);break}case'unknown':default:{bB=null;break}}var bD={t:bB,v:bC};var bE;switch(bz){case'dimension':{bE='d';break}case'measure':{bE='m';break}case'unknown':default:{bE=null;break}}return bh.formatDataValue(bD,bE,bA,null,0)};bh.formatSpecial=function(e,bw){if(ss.isValue(bw)){return bw}switch(e){case'%many-values%':{return tab.Strings.SpecialManyValues}case'%null%':{return''}case'%error%':{return tab.Strings.SpecialError}case'%ragged%':{return tab.Strings.SpecialRagged}case'%skipped%':{return tab.Strings.SpecialSkipped}case'%missing%':{return''}case'%all%':{return tab.Strings.SpecialAll}case'%no-access%':{return tab.Strings.SpecialNoAccess}case'%wildcard%':{return tab.Strings.SpecialWildcard}default:{return'#Special'}}};bh.isSpecialValue=function(e){return bh.$11[e]===true};bh.stripFormattedText=function(e){if(ss.isNullOrUndefined(e)){return null}return $(e).find('run').text()};bh.deriveNumberEditingFormat=function(e){if(ss.isNullOrUndefined(e)){return null}return['','-1',e[2],'','','','',e[7],e[8],e[9]]};bh.$p=function(e,bw){var bx=e.toString();while(bx.length<bw){bx='0'+bx}return bx};bh.$m=function(e){return ss.isValue(e)&&(e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0||e.getUTCHours()===23&&e.getUTCMinutes()===59&&e.getUTCSeconds()===59)};bh.$5=function(e){return((e.getUTCHours()<12)?'AM':'PM')};bh.$7=function(e){var bw=e.getUTCHours();if(bw<12){if(bw===0){bw=12}}else if(bw>12){bw-=12}return bw};bh.$8=function(e){return e.getUTCHours()};bh.$6=function(e){var bw=new Date(e.getUTCFullYear(),0,1,12);var bx=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),12);return Math.round((bx-bw)/86400000)+1};bh.$4=function(e,bw){return e.getUTCFullYear()+((e.getUTCMonth()+1<bw)?-1:0)};bh.$a=function(e,bw,bx){var by=(e.getUTCDay()+7-(bw-1))%7;var bz=-by+(7-bx);var bA=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()+bz));return bA.getUTCFullYear()};bh.$9=function(e,bw){var bx;if(bw.fiscalYearStart<=1){var by=(bw.brokenWeeks?e.getUTCFullYear():bh.$a(e,bw.startOfWeek,bw.minDaysInFirstWeek));bx=new Date(Date.UTC(by,0,1))}else{bx=new Date(Date.UTC(bh.$4(e,bw.fiscalYearStart),bw.fiscalYearStart-1,1))}var bz=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));var bA=(bx.getUTCDay()+7-(bw.startOfWeek-1))%7;var bB=ss.Int32.div(bz-bx,86400000)+bA;if(bw.fiscalYearStart<=1&&7-bA<bw.minDaysInFirstWeek){bB-=7}return Math.floor(bB/7)+1};bh.dtGetFiscalYear=function(e,bw){var bx=e.getUTCFullYear();var by=e.getUTCMonth()+1;return((by<bw||bw===1)?0:1)+bx};bh.dtGetFiscalQuarter=function(e,bw){if(bw<1){bw=1}return Math.floor((e.getUTCMonth()+1-bw+12)%12/3)+1};bh.$u=function(e,bw){if(ss.isNullOrUndefined(bw)){return null}return bw.day[e.getUTCDay()+1]};bh.$w=function(e,bw){if(ss.isNullOrUndefined(bw)){return null}return bw.shortDay[e.getUTCDay()+1]};bh.$v=function(e,bw){if(ss.isNullOrUndefined(bw)){return null}return bw.month[e.getUTCMonth()]};bh.$x=function(e,bw){if(ss.isNullOrUndefined(bw)){return null}return bw.shortMonth[e.getUTCMonth()]};bh.formatJsDateTime=function(e,bw,bx,by){if(ss.isNullOrUndefined(bw)){if(bx===2&&bh.$m(e)){bx=0}return bh.formatCustomJSDateTime(e,'*M/d/yyyy',bx,by,'en_US','','h:nn:ss tt',null)}return bh.formatCustomJSDateTime(e,bw.format,bx,by,bw.locale,bw.originalFormat,bw.timeFormat,bw.locale_formatting_strings,bw.calOpts)};bh.$g=function(e,bw,bx,by){var bz=new Date(bi.JsDateFromOleDate(e));return bh.formatJsDateTime(bz,bw,bx,by)};bh.$t=function(e){return((e<0)?Math.ceil(e):Math.floor(e))};bh.$1=function(e,bw,bx,by){var bz=Math.abs(bh.$t(e));var bA='';var bB=parseInt(String.fromCharCode(by.charCodeAt(0)),10)||3;var bC;if(bz<1E+15){bC=bh.$r(bz,0)}else{bC=bh.$q(bz,14);var bD=bC.match(bh.$X);if(ss.isValue(bD)){var bE=ss.coalesce(bD[2],'');var bF=parseInt(bD[3],10)-bE.length;var bG='';for(var bH=0;bH<bF;bH++){bG+='0'}bC=bD[1]+bE+bG}}if(bw!=='t'){return bC}for(var bI=bC.length-1,bJ=0;bI>=0;bI--,bJ++){if(bJ>=bB){bA=bx+bA;bJ=0}bA=String.fromCharCode(bC.charCodeAt(bI))+bA}return bA};bh.$2=function(e,bw){switch(bw){case'B':case'G':{return e/1000000000}case'M':{return e/1000000}case'K':{return e/1000}default:{return e}}};bh.$0=function(e,bw,bx,by,bz){bw=bw.replace(new RegExp('^-'),'');if(e>=0||(new RegExp('^[.0]*$')).test(bw)){return bx+bw+by}switch(parseInt(bz,10)){case 2:{return'-'+bx+bw+by}case 3:{return bx+bw+by+'-'}case 4:{return bx+'-'+bw+by}case 5:{return bx+bw+'-'+by}default:{return'('+bx+bw+by+')'}}};bh.$i=function(e){return bh.$t(e)};bh.$e=function(e,bw,bx,by,bz,bA,bB){if(bw==='i'){return bh.$b(e,bw,bx,by,bz,bA,bB,null,null)}else{return bh.$b(e,bw,bx,by,bz,bA,bB,0.0001,1E+15)}};bh.$f=function(e,bw,bx,by,bz,bA){if(bw==='i'){return bh.$b(e,bw,null,bx,by,bz,bA,null,1000000)}else{return bh.$b(e,bw,null,bx,by,bz,bA,0.0001,1E+15)}};bh.$b=function(e,bw,bx,by,bz,bA,bB,bC,bD){var bE;var bF;var bG;if(ss.isValue(bx)&&ss.unbox(bx)<=0){bE=-ss.unbox(bx);bG=bF=false}else{bE=bh.$o(e,bw,true);bG=bF=true}var bH=Math.abs(e);if(bG&&bH!==0&&(ss.isValue(bD)&&ss.Nullable$1.ge(bH,bD)||ss.isValue(bC)&&ss.Nullable$1.lt(bH,bC))){var bI=bh.$o(1,bw,true);var bJ=bh.$c(e,bI,by);if(bF){return bJ.replace(new RegExp('['+by+']?0+e'),'e')}}var bK=e-bh.$t(e);var bL=bh.formatIntAuto(e,bz,bA,bB);var bM='';bM=bh.$r(bK,bE);if(Math.abs(parseFloat(bM))>=1){bL=bh.formatIntAuto(bh.$t(e+parseFloat(bM)),bz,bA,bB);bM=bM.replace(new RegExp('1'),'0')}if(!(bM.indexOf('.')!==-1)){return bL}if(bF){bM=bM.replace(new RegExp('0+$'),'');if(ss.endsWithString(bM,'.')){return bL}}bM=bM.replace(new RegExp('^-?0\\.'),by);if(e<0&&bL==='0'&&!(new RegExp('^\\.0+$')).test(bM)){bL='-0'}return bL+bM};bh.$o=function(e,bw,bx){var by=((bw==='i')?6:15);var bz=Math.max(0,by-Math.abs(bh.$t(e)).toString().length);if(bx){return Math.min(bz,9)}else{return bz}};bh.$c=function(e,bw,bx){if(isNaN(e)||!isFinite(e)){return e.toString()}if(bw<0||isNaN(bw)){bw=0}if(bw>15){bw=15}var by=bh.$q(e,bw);var bz=by.indexOf(String.fromCharCode(101));var bA=by.substr(bz);if(bA.length<4){by=by.substr(0,bz+2)+'0'+by.substr(bz+2)}by=by.replace(new RegExp('\\.'),bx);return by};bh.$q=function(e,bw){return bh.$s(e,bw,15,function(bx,by){return bx.toExponential(by)})};bh.$r=function(e,bw){return bh.$s(e,bw,bh.$o(e,'r',false),function(bx,by){return bx.toFixed(by)})};bh.$s=function(e,bw,bx,by){bx=Math.max(bx-1,bw);var bz=by(e,bx);var bA=bz.indexOf(String.fromCharCode(101));if(bA===-1){bA=bz.length}var bB=bA-(bx-bw);var bC=bz.charCodeAt(bB);if(bz.charCodeAt(bB-1)===46){bB--}bz=bz.substr(0,bB)+bz.substr(bA,bz.length);if(bC>=53&&bC<=57){var bD;do{bB--;bD=bz.charCodeAt(bB);if(bD===46||bD===45){bD=48;continue}bD++;if(bD>57){bD=48}bz=bz.substr(0,bB)+String.fromCharCode(bD)+bz.substr(bB+1,bz.length)}while(bD===48&&bB>0);if(bD===48&&bB===0){bz=by(e,bw)}}return bz};bh.$h=function(e,bw,bx,by){if(bx===-1){return bh.$b(e*100,bw,null,by[7],by[2],by[8],by[9],null,null)+'%'}else{return bh.$k(e*100,bx,by)+'%'}};bh.$j=function(e,bw,bx,by,bz){if(ss.isNullOrUndefined(bx)||bx.length!==10){return bh.$e(e,bw,by,'.',((bz==='d')?null:'t'),',','3;0')}var bA=parseInt(bx[1],10);switch(bx[0]){case'':{if(bA===-1){return bh.$e(e,bw,null,bx[7],bx[2],bx[8],bx[9])}else{return bh.$e(e,bw,-bA,bx[7],bx[2],bx[8],bx[9])}}case'N':{return bh.$f(e,bw,bx[7],bx[2],bx[8],bx[9])}case'e':{return bh.$c(e,bA,bx[7])}case'p':{return bh.$h(e,bw,bA,bx)}default:{return bh.$k(e,bA,bx)}}};bh.$k=function(e,bw,bx){e=bh.$2(e,bx[5]);var by=bx[5]+bx[4];var bz=bh.applyDecimalPlaces(e,bw,bx[7]);if(typeof(bz)==='number'){e+=bz;bz=bh.applyDecimalPlaces(0,bw,bx[7])}var bA=bh.$1(e,bx[2],bx[8],bx[9])+bz;return bh.$0(e,bA,bx[3],by,bx[6])};bh.$d=function(e,bw){return bh.$j(bh.$t(e),'i',bw,null,null)};bh._convertFormatStringsToFormattingInfo=function(e){var bw={};bw.format=e[0];bw.locale=e[1];bw.originalFormat=e[2];bw.timeFormat=e[3];bw.calOpts=new i;bw.calOpts.fiscalYearStart=parseInt(e[4]);if(isNaN(bw.calOpts.fiscalYearStart)){bw.calOpts.fiscalYearStart=0}bw.calOpts.startOfWeek=parseInt(e[5]);if(isNaN(bw.calOpts.startOfWeek)){bw.calOpts.startOfWeek=1}bw.calOpts.minDaysInFirstWeek=parseInt(e[6]);if(isNaN(bw.calOpts.minDaysInFirstWeek)){bw.calOpts.minDaysInFirstWeek=1}bw.calOpts.brokenWeeks=e[7]==='1';return bw};bh.$l=function(e){var bw=44;var bx=40;var by=41;var bz=39;var bA=92;var bB=[];e=e.trim();if(e.length===0){return''}var bC=e.length;var bD=0;if(bD>=bC||e.charCodeAt(bD)!==40){return''}++bD;while(bD<bC){var bE=bD;var bF=false;var bG=0;while(bE<bC&&!bF){var bH=e.charCodeAt(bE);if(bG===0&&(bH===44||bH===41)){bF=true;break}else if(bH===92){bE+=2}else{if(bH===39){bG=1-bG}++bE}}if(!bF){return''}var bI=e.substring(bD+1,bE-1);bI=ss.replaceAllString(bI,'\\\\','\\');bI=ss.replaceAllString(bI,'\\"','"');bI=ss.replaceAllString(bI,'\\,',',');bI=ss.replaceAllString(bI,'\\(','(');bI=ss.replaceAllString(bI,'\\)',')');bB.push(bI);bD=bE;++bD}return bB.join(', ')};global.tableau.format=bh;var bi=function(){};bi.__typeName='tableau.types';bi.$0=function(){return M.lazyInitStaticField(bi,'millisecondsPerDay',function(){return 86400000})};bi.javaScriptOLEEpoch=function(){return M.lazyInitStaticField(bi,'javascriptOleEpoch',function(){return Date.UTC(1899,11,30,0,0,0,0)})};bi.JsDateFromOleDate=function(e){var bw=((e<0)?Math.ceil(e):Math.floor(e));var bx=Math.round(Math.abs(e-bw)*bi.$0())+bw*bi.$0();return bx+bi.javaScriptOLEEpoch()};bi.OleDateFromJsDate=function(e){var bw=new Date(e);var bx=Date.UTC(bw.getUTCFullYear(),bw.getUTCMonth(),bw.getUTCDate());var by=ss.Int32.div(bx-bi.javaScriptOLEEpoch(),bi.$0());var bz=(e-bx)/bi.$0();return by+((by<0)?-1:1)*bz};bi.isO=function(e){return e.fieldType==='O'||e.fieldType==='N'};bi.isMetadata=function(e){return e.column_class===0};bi.isOm=function(e){return bi.isO(e)&&bi.isMetadata(e)};bi.getRegionType=function(e){switch(e){case'viz':case'bottomaxis':case'topaxis':case'leftaxis':case'rightaxis':case'xheader':case'yheader':{return't'}case'color':case'shape':case'size':case'map':{return'l'}case'filter':{return'f'}case'current-page':{return'p'}case'title':{return'i'}case'text':{return'x'}case'bitmap':{return'b'}case'web':{return'w'}case'paramctrl':{return'a'}case'draw':{return'd'}case'text-block':{return'k'}case'layout-basic':case'layout-flow':{return'c'}default:{return null}}};global.tableau.types=bi;var bj=function(){};bj.__typeName='tableau.util';bj.assetUrl=function(e,bw){var bx=(bw?tsConfig.local_static_asset_prefix:tsConfig.external_static_asset_prefix);if(e.charCodeAt(0)===47){var by=bx.length-1;if(bx.charCodeAt(by)===47){return bx.substring(0,by-1)+e}else{return bx+e}}else{return bx+'/'+e}};bj.isPrintableNonNumericKeyPressed=function(e){return bj.isPrintableNonNumericInput(e.which,e.shiftKey,e.ctrlKey)};bj.isPrintableNonNumericInput=function(e,bw,bx){var by=e>=91&&e<=105;var bz=e>=112&&e<=123;var bA=e<47;var bB=!bw&&!bx&&(e>=48&&e<=57);return!by&&!bA&&!bB&&!bz};bj.preventNonNumericInput=function(e){if(bj.isPrintableNonNumericKeyPressed(e)){e.preventDefault();e.stopPropagation()}};bj.inputWouldOverflowMaxLength=function(e,bw,bx){if(ss.isNullOrUndefined(e)){e=''}if(ss.isNullOrUndefined(bw)){bw=''}if(e.length===1){var by=e.charCodeAt(0);if(by<=8||by===127||by>=14&&by<=31||by===11||by===12){return false}}return e.length+bw.length>bx};bj.maxLengthEnforcingBeforeInputHandler=function(e){return function(bw){if(bj.inputWouldOverflowMaxLength(bw.data,bw.target.value,e)){bw.preventDefault();bw.stopPropagation()}}};bj.isElementVisible=function(e){return $(e).css('display')!=='none'};bj.findElementByTagName=function(e,bw,bx){e=e||r.get_documentBody();if(bj.isNodeMatch(e,bw,bx)){return e}var by=e.getElementsByTagName(bw);var bz=by.length;for(var bA=0;bA<bz;bA+=1){if(bj.isNodeMatch(by[bA],bw,bx)){return by[bA]}}return null};bj.findDirectParentByClassName=function(e,bw,bx){if(ss.isNullOrUndefined(e)||M.isNullOrEmpty$1(bw)){return null}bx=bx||document.body;var by=e.parentNode;while(!ss.isNullOrUndefined(by)&&!ss.referenceEquals(by,bx)){if(!M.isNullOrEmpty$1(by.className)){if(ss.referenceEquals(by.className.toLowerCase(),bw.toLowerCase())){return by}by=by.parentNode}}return null};bj.isNodeMatch=function(e,bw,bx){if(ss.isNullOrUndefined(e)||!ss.referenceEquals(e.tagName.toLowerCase(),bw.toLowerCase())){return false}if(ss.isNullOrUndefined(bx)){return true}var by=ss.getEnumerator(Object.keys(bx));try{while(by.moveNext()){var bz=by.current();if(bz in bx&&!ss.referenceEquals(e[bz],bx[bz])){return false}}}finally{by.dispose()}return true};bj.binarySearch=function(e){return function(bw,bx,by,bz,bA){var bB=(M.isValidIndex(ss.coalesce(by,-1),bx)?ss.unbox(by):0);var bC=(M.isValidIndex(ss.coalesce(bz,-1),bx)?ss.unbox(bz):(bx.length-1));if(ss.isNullOrUndefined(bA)){bA=bj.$0(e)}var bD={};while(bB<=bC){var bE=Math.floor(bB+(bC-bB)/2);var bF=bA(bx[bE],bw);if(bF===0){bD.found=true;bD.index=bE;return bD}else if(bF<0){bB=bE+1}else{bC=bE-1}}bD.found=false;bD.index=bB;return bD}};bj.$0=function(e){return function(bw,bx){if(bw===bx){return 0}else if(bw>bx){return-1}else{return 1}}};bj.transform=function(e,bw){bw=bw||{scale:1,scaleX:1,scaleY:1,translateX:0,translateY:0,transformOrigin:null,time:0};if(ss.isNullOrUndefined(bw.transformOrigin)){bw.transformOrigin={x:ss.Int32.div(e.offsetWidth,2),y:ss.Int32.div(e.offsetHeight,2)}}if(!!bw.scale){bw.scaleX=bw.scaleY=bw.scale}var bx;if(window.WebKitCSSMatrix!==undefined&&(new WebKitCSSMatrix).m11!==undefined){bx=['translate3d(',bw.translateX.toString(),'px,',bw.translateY.toString(),'px, 0px)'].join('')}else{bx=['translate(',bw.translateX.toString(),'px,',bw.translateY.toString(),'px)'].join('')}bx+=[' scale(',bw.scaleX.toString(),', ',bw.scaleY.toString(),')'].join('');if(h.get_cssTransform()&&ss.isValue(h.get_cssTransitionName())){e.style['transitionProperty']='transform';e.style['transitionTimingFunction']='cubic-bezier(0, 0, 0.25, 1)';e.style['transitionDuration']=bw.time+'ms';e.style['transform']=bx;e.style['webkitTransitionProperty']='-webkit-transform';e.style['webkitTransitionTimingFunction']='cubic-bezier(0, 0, 0.25, 1)';e.style['webkitTransitionDuration']=bw.time+'ms';e.style['webkitTransform']=bx;e.style['MozTransitionProperty']='-moz-transform';e.style['MozTransitionTimingFunction']='cubic-bezier(0, 0, 0.25, 1)';e.style['MozTransitionDuration']=bw.time+'ms';e.style['MozTransform']=bx;if(ss.isValue(bw.transformOrigin)){var by=bw.transformOrigin.x+'px '+bw.transformOrigin.y+'px';e.style['transformOrigin']=by;e.style['webkitTransformOrigin']=by;e.style['MozTransformOrigin']=by}}else if(h.get_isIE()){e.style['msTransform']=bx}};bj.defer=function(e){if(bj.bIsAnimationShown===false){bj.$1.push(e)}else{e()}};bj.performDeferredCalls=function(){var e=bj.$1.length;for(var bw=0;bw<e;bw++){window.setTimeout(bj.$1[bw],bw)}ss.clear(bj.$1);bj.bIsAnimationShown=true};bj.parseUri=function(e){var bw=document.createElement('a');var bx=bw;if(ss.isNullOrUndefined(e)){return null}bw.href=e;var by=ss.mkdict(['href',e,'host',bx.host,'hostname',bx.hostname,'pathname',bx.pathname,'port',bx.port,'protocol',bx.protocol,'search',bx.search]);return by};bj.setupTitleEllipsis=function(e){var bw=e.find('div');var bx=bw.children('span');var by=null;var bz=t.roundToInt(bw.width());var bA=10;bz-=bA;for(var bB=0;bB<bx.length;bB++){var bC=bx[bB];var bD=t.roundToInt($(bC).width());by=bC;if(bD>bz){break}bz-=bD}if(ss.isValue(by)){bw.css('font-family',by.style.fontFamily);bw.css('font-size',by.style.fontSize);bw.css('line-height',by.style.lineHeight);bw.css('color',by.style.color);bw.css('font-weight',by.style.fontWeight);bw.css('font-style',by.style.fontStyle);bw.css('text-decoration',by.style.textDecoration)}bw.css('text-overflow','ellipsis');bw.css('overflow','hidden')};global.tableau.util=bj;var bk=function(){};bk.__typeName='tableau.types.CFStyle';global.tableau.types.CFStyle=bk;var bl=function(){};bl.__typeName='tableau.types.CFType';global.tableau.types.CFType=bl;var bm=function(){};bm.__typeName='tableau.types.DataSpecial';global.tableau.types.DataSpecial=bm;var bn=function(){};bn.__typeName='tableau.types.DataType';global.tableau.types.DataType=bn;var bo=function(){};bo.__typeName='tableau.types.FieldTypeTypes';global.tableau.types.FieldTypeTypes=bo;var bp=function(){};bp.__typeName='tableau.types.HFStyle';global.tableau.types.HFStyle=bp;var bq=function(){};bq.__typeName='tableau.types.QFDomain';global.tableau.types.QFDomain=bq;var br=function(){};br.__typeName='tableau.types.QFFixed';global.tableau.types.QFFixed=br;var bs=function(){};bs.__typeName='tableau.types.QFInclude';bs.isRange=function(e){switch(e){case'include-all':case'include-null':case'include-non-null':{return false}default:{return true}}};global.tableau.types.QFInclude=bs;var bt=function(){};bt.__typeName='tableau.types.RegionType';global.tableau.types.RegionType=bt;var bu=function(){};bu.__typeName='tableau.types.TableauTypesFieldRole';global.tableau.types.TableauTypesFieldRole=bu;var bv=function(e){this.$3=null;this.$4=false;this.$3=e;if(h.get_touch()){this.$3.addEventListener('touchstart'.toString(),ss.mkdel(this,this.handleEvent),false)}};bv.__typeName='tableau.util.NoClickDelay';global.tableau.util.NoClickDelay=bv;ss.initEnum(b,a,{CLASS_METADATA:0,CLASS_DATABASE:1,CLASS_NUMERICBIN:2,CLASS_CATEGORICALBIN:3,CLASS_INSTANCE:4,CLASS_MDXCALC:5,CLASS_USERCALC:6,CLASS_DANGLING:7,CLASS_LOCALDATA:8});ss.initEnum(c,a,{DRILLNONE:0,DRILLDOWN:1,DRILLUP:2,DRILLBOTH:3});ss.initEnum(d,a,{simple:'simple',toggle:'toggle',range:'range',menu:'menu'},true);ss.initClass(f,a,{});ss.initInterface(D,a,{addFilter:null,removeFilter:null,clearFilters:null,log:null});ss.initClass(g,a,{clearFilters:function(){ss.clear(this.$0)},addFilter:function(e){this.$0.push(e)},removeFilter:function(e){ss.remove(this.$0,e)},log:function(e,bw,bx,by){},logInternal:null,formatMessage:function(e,bw){if(ss.isNullOrUndefined(bw)||bw.length===0){return e}var bx=new ss.StringBuilder;var by=0;var bz=false;for(var bA=0;bA<e.length;bA++){var bB=e.charCodeAt(bA);if(bB===37){if(bz){bx.append('%');bz=false}else{bz=true}}else{if(bz){switch(bB){case 98:case 115:case 100:case 110:case 111:{bx.append(((bw.length>by)?bw[by]:''));by++;break}}}else{bx.appendChar(bB)}bz=false}}return bx.toString()}},null,[D]);ss.initClass(h,a,{});ss.initClass(i,a,{});ss.initClass(j,a,{dispose:function(){if(ss.isNullOrUndefined(this.$0)){return}this.$0();this.$0=null}},null,[ss.IDisposable]);ss.initClass(k,a,{});ss.initClass(l,a,{logInternal:function(e,bw,bx,by){if(typeof(window.console)!=='object'){return}bx=e.get_name()+': '+bx;var bz=[];if(h.get_consoleLogFormating()){var bA=bz.concat(bx);bz=bA.concat.apply(bA,by)}else{bz=bz.concat(this.formatMessage(bx,by))}try{Function.prototype.apply.call(this.$1(bw),window.console,bz)}catch(bB){}},$1:function(e){var bw=window.self['console'];if(ss.isNullOrUndefined(this.$2)){this.$2={};this.$2[(1).toString()]=bw.log;this.$2[(4).toString()]=bw.error;this.$2[(2).toString()]=bw.info;this.$2[(3).toString()]=bw.warn}var bx=this.$2[e.toString()];if(ss.isNullOrUndefined(bx)){bx=bw.log}return bx}},g,[D]);ss.initClass(m,a,{});ss.initEnum(n,a,{showDateOnly:0,showTimeOnly:1,showFullDateTime:2});ss.initClass(o,a,{});ss.initClass(p,a,{get_hasPendingAction:function(){return ss.isValue(this.$2)},invokeActionDelayed:function(){this.cancel();this.$2=window.setTimeout(ss.mkdel(this,function(){this.$2=null;this.$0()}),this.$1)},invokeActionImmediate:function(){this.cancel();this.$0()},cancel:function(){this.$2=M.clearTimeout(this.$2)},dispose:function(){this.cancel();this.$0=null}},null,[ss.IDisposable]);ss.initClass(q,a,{add:function(e){this.$0.push(new j(e))},add$1:function(e){this.$0.push(e)},add$2:function(e){ss.arrayAddRange(this.$0,e)},dispose:function(){for(var e=0;e<this.$0.length;e++){var bw=this.$0[e];bw.dispose()}ss.clear(this.$0)}},null,[ss.IDisposable]);ss.initClass(r,a,{});ss.initClass(s,a,{});ss.initClass(t,a,{});ss.initClass(u,a,{});ss.initClass(v,a,{});ss.initEnum(w,a,{unknown:0,newFilter:4,fieldTypeConversion:5,newToolbar:9,buttonDelay:11,hoverDelay:12,maxTooltipWhitespace:18,mapsUseLeafletForGeoSearch:19,selectionToolsMobile:23,mapsSearchDebugAlwaysShow:28,categoricalHeadersVisualFeedback:30,analyticsObjectsDragToViz:31,gotoMyLocationButton:32,designTint:33,newQFWorkbookLevelFormatting:35,appearanceOfBlendingIcons:36,outlineStampedShapes:38,progressiveLoadDelay:39,catQFDrowdown:40,offlineMode:41,opaqueCanvasBackground:42,logStoryPointCacheHits:43,dataHLMaxItems:44,javaScriptHighlighting:45});ss.initClass(x,a,{});ss.initClass(y,a,{});ss.initClass(z,a,{});ss.initClass(A,a,{});ss.initInterface(B,a,{get_dimensions:null,translatePositionToViewport:null,getVisibleRoom:null,getDocumentViewport:null});ss.initInterface(C,a,{showAlertDialog:null,showConfirmationDialog:null,showSheetAuthenticationOverlay:null,showGenericDataSourceErrorOverlay:null,showSheetAuthenticationDialog:null,showGenericDataSourceErrorDialog:null});ss.initClass(E,a,{get_from:function(){return this.$0},set_from:function(e){this.$0=e},get_to:function(){return this.$1},set_to:function(e){this.$1=e}});ss.initClass(G,a,{add:function(e){this.store[e]=e;this.updateSize();return this},delete:function(e){var bw=this.has(e);delete this.store[e];this.updateSize();return bw},clear:function(){ss.clearKeys(this.store);this.updateSize()},has:function(e){return ss.keyExists(this.store,e)},forEach:function(e){var bw=ss.getEnumerator(Object.keys(this.store));try{while(bw.moveNext()){var bx=bw.current();e(this.store[bx])}}finally{bw.dispose()}},updateSize:function(){this.size=ss.getKeyCount(this.store)}});ss.initClass(F,a,{add:function(e){return null},set:function(e,bw){this.store[e]=bw;this.updateSize();return this},get:function(e){return this.store[e]}},G);ss.initClass(H,a,{});ss.initClass(I,a,{get_name:function(){return this.$1},debug:function(e,bw){},info:function(e,bw){},warn:function(e,bw){},error:function(e,bw){},log:function(e,bw,bx){},$0:function(e,bw,bx){try{var by=I.$2();for(var bz=0;bz<by.length;bz++){var bA=by[bz];bA.log(this,e,bw,bx)}}catch(bB){}}});ss.initEnum(J,a,{all:0,debug:1,info:2,warn:3,error:4,off:5});ss.initClass(K,a,{});ss.initClass(L,a,{logEvent:function(e){if(this.$9.length>=400){this.$9.shift()}this.$9.push(e);this.$5()},attach:function(){tabBootstrap.MetricsController.setEventLogger(ss.mkdel(this,this.logEvent))},$5:function(e){if(ss.isValue(this.$8)){return}e=ss.coalesce(e,250);this.$8=window.setTimeout(ss.mkdel(this,this.$3),e)},$3:function(){this.$8=null;var e;if(this.$9.length>20){e=this.$9.slice(0,20);this.$9=this.$9.slice(20);this.$5(5)}else{e=this.$9;this.$9=[]}this.$1(e);if(tsConfig.metricsReportingEnabled){try{this.$2(e)}catch(bw){}}},$1:function(e){this.$a=this.$a||I.lazyGetLogger(L);for(var bw=0;bw<e.length;bw++){var bx=e[bw]}},$2:function(e){var bw=1500;var bx=e.length;var by='';if(bx===0){return}for(var bz=0;bz<bx;bz++){var bA=e[bz];if(bA.eventType==='wps'){continue}var bB=L.$1(bA,false);if(by.length>0&&by.length+bB.length>bw){this.$4(tsConfig.metricsServerHostname,by);by=''}else if(by.length>0){by+='&'}by+=bB}if(by.length>0){this.$4(tsConfig.metricsServerHostname,by)}if(ss.isNullOrUndefined(this.$6)){this.$6=window.setTimeout(ss.mkdel(this,this.$0),250)}},$4:function(e,bw){var bx=1;if(M.isNullOrEmpty$1(e)||M.isNullOrEmpty$1(bw)){return}var by=document.createElement('img');var bz='v='+bx.toString();var bA=e;bA+='?'+bz+'&'+bw;by.src=bA;this.$7.push(by);if(this.$7.length>100){this.$7.shift()}},$0:function(){try{this.$6=null;var e=0;while(e<this.$7.length){if(this.$7[e].complete){this.$7.splice(e,1)}else{e++}}if(this.$7.length>0){this.$6=window.setTimeout(ss.mkdel(this,this.$0),250)}}catch(bw){}}});ss.initClass(M,a,{});ss.initClass(N,a,{});ss.initClass(O,a,{});ss.initEnum(P,a,{workbookName:2,sheetId:3,authoringSheet:4});ss.initClass(Q,a,{});ss.initClass(R,a,{});ss.initClass(S,a,{});ss.initClass(T,a,{});ss.initClass(U,a,{});ss.initClass(V,a,{});ss.initClass(W,a,{});ss.initClass(X,a,{});ss.initClass(Y,a,{});ss.initClass(Z,a,{});ss.initClass(ba,a,{logInternal:function(bw,bx,by,bz){by=this.formatMessage(ss.replaceAllString(by,'\\n','<br />'),bz);if(bx>2){try{throw new ss.Exception('Logged('+I.loggerLevelNames[bx]+', from '+bw.get_name()+'): '+by)}catch(bA){var e=ss.Exception.wrap(bA);u.report(e,false)}}}},g,[D]);ss.initClass(bb,a,{get_first:function(){return this.$0},get_second:function(){return this.$1}});ss.initClass(bc,a,{});ss.initClass(bd,a,{get_translateX:function(){return this.$3.x},get_translateY:function(){return this.$3.y},get_transformType:function(){return this.$2},get_isNull:function(){return this.$2===0},transformBounds:function(e){if(this.$2===0){var bw=Math.floor(e.minX);var bx=Math.floor(e.minY);var by=Math.ceil(e.maxX);var bz=Math.ceil(e.maxY);return{x:bw,y:bx,w:by-bw,h:bz-bx}}if(this.$2===2){var bA=Math.floor(e.minX*this.$1+this.$3.x);var bB=Math.floor(e.minY*this.$1+this.$3.y);var bC=Math.ceil(e.maxX*this.$1+this.$3.x);var bD=Math.ceil(e.maxY*this.$1+this.$3.y);return{x:bA,y:bB,w:bC-bA,h:bD-bB}}return null},transformRect:function(e){switch(this.$2){case 0:{return{x:e.x,y:e.y,w:e.w,h:e.h}}case 1:case 3:{return{x:(e.x-this.$3.x)*this.$0,y:(e.y-this.$3.y)*this.$0,w:e.w*this.$0,h:e.h*this.$0}}default:{return null}}},transformCircle:function(e){switch(this.$2){case 0:{return e}case 1:case 3:{var bw=(e.center.x-this.$3.x)*this.$0;var bx=(e.center.y-this.$3.y)*this.$0;return{center:{x:bw,y:bx},radius:e.radius*this.$0}}default:{return null}}},transformPolygon:function(e){switch(this.$2){case 0:{return e}case 1:case 3:{var bw=e.length;var bx=new Array(bw);for(var by=0;by<bw;by=by+2){bx[by]=(e[by]-this.$3.x)*this.$0;bx[by+1]=(e[by+1]-this.$3.y)*this.$0}return bx}default:{return null}}}});ss.initClass(be,a,{get_matrix:function(){return this.$0},reset:function(){this.$0=[1,0,0,1,0,0]},rotate:function(e){var bw=Math.cos(e);var bx=Math.sin(e);var by=this.$0[0]*bw+this.$0[2]*bx;var bz=this.$0[1]*bw+this.$0[3]*bx;var bA=this.$0[0]*-bx+this.$0[2]*bw;var bB=this.$0[1]*-bx+this.$0[3]*bw;this.$0[0]=by;this.$0[1]=bz;this.$0[2]=bA;this.$0[3]=bB},translate:function(e,bw){this.$0[4]=this.$0[4]+this.$0[0]*e+this.$0[2]*bw;this.$0[5]=this.$0[5]+this.$0[1]*e+this.$0[3]*bw},scale:function(e,bw){this.$0[0]=this.$0[0]*e;this.$0[1]=this.$0[1]*e;this.$0[2]=this.$0[2]*bw;this.$0[3]=this.$0[3]*bw},setTransform:function(e){this.$0[0]=e.get_matrix()[0];this.$0[1]=e.get_matrix()[1];this.$0[2]=e.get_matrix()[2];this.$0[3]=e.get_matrix()[3];this.$0[4]=e.get_matrix()[4];this.$0[5]=e.get_matrix()[5]},isEqual:function(e){return this.$0[0]===e.get_matrix()[0]&&this.$0[1]===e.get_matrix()[1]&&this.$0[2]===e.get_matrix()[2]&&this.$0[3]===e.get_matrix()[3]&&this.$0[4]===e.get_matrix()[4]&&this.$0[5]===e.get_matrix()[5]},clone:function(){var e=new be;e.setTransform(this);return e}});ss.initEnum(bf,a,{none:0,pixelToDomain:1,domainToPixel:2,offset:3});ss.initClass(bg,a,{logInternal:function(e,bw,bx,by){if(ss.isNullOrUndefined(this.$2)){this.$1()}bx=this.formatMessage(ss.replaceAllString(bx,'\\n','<br />'),by);this.$2.html(bx)},$1:function(){this.$2=$("<div class='log-window-appender'>Debug mode ON</div>");this.$2.css(ss.mkdict(['position','absolute','bottom','0px','right','0px','backgroundColor','white','opacity','.8','border','1px solid black','minWidth','5px','minHeight','5px','z-index','100']));$('body').append(this.$2)}},g,[D]);ss.initClass(bh,a,{});ss.initClass(bi,a,{});ss.initClass(bj,a,{});ss.initClass(bk,a,{});ss.initClass(bl,a,{});ss.initClass(bm,a,{});ss.initClass(bn,a,{});ss.initClass(bo,a,{});ss.initClass(bp,a,{});ss.initClass(bq,a,{});ss.initClass(br,a,{});ss.initClass(bs,a,{});ss.initClass(bt,a,{});ss.initClass(bu,a,{});ss.initClass(bv,a,{handleEvent:function(e){var bw=e;switch(e.type){case'touchstart':{this.$2(bw);break}case'touchmove':{this.$1(bw);break}case'touchend':{this.$0(bw);break}}},$2:function(e){e.preventDefault();this.$4=false;this.$3.addEventListener('touchmove'.toString(),ss.mkdel(this,this.handleEvent),false);this.$3.addEventListener('touchend'.toString(),ss.mkdel(this,this.handleEvent),false)},$1:function(e){this.$4=true},$0:function(e){this.$3.removeEventListener('touchmove',ss.mkdel(this,this.handleEvent),false);this.$3.removeEventListener('touchend',ss.mkdel(this,this.handleEvent),false);if(!this.$4){var bw=document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY);if(bw.nodeType===3){bw=bw.parentNode}var bx=document.createEvent('MouseEvents');bx['initEvent']('click',true,true);bw.dispatchEvent(bx)}}});(function(){I.global=I.getLoggerWithName('global');I.loggerLevelNames=[];I.$5=':log';I.loggerLevelNames[0]='all';I.loggerLevelNames[1]='debug';I.loggerLevelNames[2]='info';I.loggerLevelNames[3]='warn';I.loggerLevelNames[4]='error';I.loggerLevelNames[5]='off'})();(function(){O.suppressAlerts=false})();(function(){t.epsilon=Math.pow(2,-52);t.$2=1+t.epsilon;t.$3=t.$2;t.$1=1/t.$2})();(function(){h.$L=false;h.$P='ontouchend'in document;h.$r='fonts'in document;h.$m=false;h.$J=false;h.$t=false;h.$h=false;h.$i=null;h.$j=null;h.$k=false;h.$l=false;h.$N=false;h.$g=false;h.$G=false;h.$x=false;h.$A=false;h.$y=false;h.$u=0;h.$s=0;h.$K=0;h.$v=0;h.$z=false;h.$F=false;h.$C=false;h.$H=false;h.$E=false;h.$B=false;h.$w=false;h.$D=false;h.$I=false;h.$q=1;h.$f=1;h.$n=false;h.$o=false;h.$p=false;h.$O=false;h.$M=false;h.$1();$(h.detectBrowserSupport);h.$d(G).call(null,'Set');h.$d(F).call(null,'Map')})();(function(){r.$7=ss.mkdict(['matrix',4,'matrix3d',12,'translate',0,'translate3d',0,'translateX',0,'translateY',-1])})();(function(){l.$0=null})();(function(){bi.ExportDialogType=null;var e={};e['ExportImage']=ss.mkdict(['title',tab.Strings.ExportImageDialogTitle,'mimeType','image/png','message',tab.Strings.ExportImageDialogMessage]);e['ExportData']=ss.mkdict(['title',tab.Strings.ExportDataDialogTitle,'mimeType','text/csv','message',tab.Strings.ExportDataDialogMessage]);e['ExportCrosstab']=ss.mkdict(['title',tab.Strings.ExportCrosstabDialogTitle,'message',tab.Strings.ExportCrosstabDialogMessage]);e['PrintPDF']=ss.mkdict(['title',tab.Strings.PrintPdfDialogTitle,'mimeType','application/pdf','message',tab.Strings.PrintPdfDialogMessage,'noping',true]);bi.ExportDialogType=e})();(function(){o.oneSecond=(new Date(2008,11,21,1,1,2)).getTime()-(new Date(2008,11,21,1,1,1)).getTime();o.oneMinute=(new Date(2008,11,21,1,2)).getTime()-(new Date(2008,11,21,1,1)).getTime();o.oneHour=(new Date(2008,11,21,2)).getTime()-(new Date(2008,11,21,1)).getTime();o.oneDay=(new Date(2008,11,21)).getTime()-(new Date(2008,11,20)).getTime();o.oneWeek=(new Date(2008,11,21)).getTime()-(new Date(2008,11,14)).getTime();o.$5=86400000})();(function(){u.$l='?';u.$j=false;u.$i=true;u.$d=true;u.$h=3;u.$e=false;u.$g=null;u.$f=null;u.$k={};u.$o=[];u.$n=false;u.$m=null})();(function(){v.$0=null})();(function(){x.$b=null;x.$6=null;x.$8=null;x.$a=null;x.$d=null;x.$e=null;x.$5=null;x.$7=null;x.$9=null;x.$c=null;{x.$b=I.lazyGetLogger(x);x.$6=[];x.$8=[];x.$a=[];x.$d=[];x.$e={};x.$5={};x.$7={};x.$9={};x.$c={}}x.$1(':newfilter',4,false);x.$1(':fieldconversion',5,true);x.$1(':newtoolbar',9,false);x.$1(':selectiontoolsmobile',23,true);x.$1(':mapssearchdebugalwaysshow',28,false);x.$1(':useleafletforgeosearch',19,false);x.$1(':headersfeedback',30,true);x.$1(':aodragtoviz',31,false);x.$1(':gotomylocationbutton',32,true);x.$1(':designtint',33,false);x.$1(':newqfwolf',35,false);x.$1(':appearanceofblendingicons',36,true);x.$1(':outlinestampedshapes',38,false);x.$1(':catqfdropdown',40,false);x.$1(':offlinemode',41,false);x.$1(':opaquecanvas',42,true);x.$1(':logstorypointcachehits',43,false);x.$1(':JavaScriptHighlighting',45,false);x.$3(':buttondelay',11);x.$3(':hoverdelay',12);x.$3(':maxtooltipwhitespace',18);x.$3(':datahlmaxitems',44);x.$3(':progloaddelay',39);x.$0()})();(function(){y.$4=null;y.$3=null;y.$2=null;y.$7=null;y.$5=null;y.$6=null;y.$4=y.$0(document,['fullscreenEnabled','webkitFullscreenEnabled','msFullscreenEnabled','mozFullScreenEnabled']);y.$3=y.$0(document,['fullscreenElement','webkitFullscreenElement','msFullscreenElement','mozFullScreenElement']);y.$2=y.$0(document,['exitFullscreen','webkitExitFullscreen','msExitFullscreen','mozCancelFullScreen']);y.$7=y.$0(document.documentElement,['requestFullscreen','webkitRequestFullscreen','msRequestFullscreen','mozRequestFullScreen']);y.$5=y.$0(document,['onfullscreenchange','onwebkitfullscreenchange','onMSFullscreenChange','onmozfullscreenchange']);y.$6=y.$0(document,['onfullscreenerror','onwebkitfullscreenerror','onMSFullscreenError','onmozfullscreenerror']);if(ss.isValue(y.$5)&&y.get_fullscreenEnabled()){document.addEventListener(y.get_fullscreenChangeEventName().toString(),y.$1)}})();(function(){A.httpUnauthorizedCode=401;A.httpServiceUnavailable=503;A.httpInternalServerError=500})();(function(){K.touchEventSamplingRate=6;K.defaultWheelDeltaIncrement=120;K.minimumZoomLevelIncrement=0.25;K.maxWheelDelta=360;K.$1=480;K.$0=512})();(function(){L.$5=100;L.$6=400;L.$7=20;L.$4=250;L.$8=5;L.$3=250;L.$a=null;L.$9=null;L.$b=null;L.$a={};L.$a['d']='DESC';L.$a['t']='TIME';L.$a['id']='ID';L.$a['sid']='SESSION_ID';L.$a['e']='ELAPSED';L.$a['v']='VALS';L.$a['wb']='WORKBOOK';L.$a['s']='SHEET_NAME';L.$a['p']='PROPS';L.$a['m']='MOBILE';L.$9={};L.$9['nav']='Navigation';L.$9['wps']='ProfileStart';L.$9['wp']='ProfileEnd';L.$9['gen']='Generic';L.$9['init']='SessionInit'})();(function(){N.$1=['navigationStart','unloadEventStart','unloadEventEnd','redirectStart','redirectEnd','fetchStart','domainLookupStart','domainLookupEnd','connectStart','connectEnd','secureConnectionStart','requestStart','responseStart','responseEnd','domLoading','domInteractive','domContentLoadedEventStart','domContentLoadedEventEnd','domComplete','loadEventStart','loadEventEnd'];N.$0=null;var e=window;var bw=function(bx){_.defer(N.collectMetrics)};if(ss.isValue(e.addEventListener)){window.addEventListener('load',bw,false)}else if(ss.isValue(e.attachEvent)){e.attachEvent('load',bw)}})();(function(){ba.$0=null})();(function(){bc.defaultCustomStyleElementId='tab-appendedCustomStyle';bc.$2=new RegExp('-?[_a-zA-Z]+[_a-zA-Z0-9-]*');bc.$3={}})();(function(){bd.$0=null;bd.$0=new bd(0,0,1,0)})();(function(){bg.$0=null})();(function(){bh.specialManyValues='%many-values%';bh.specialNull='%null%';bh.specialError='%error%';bh.specialRagged='%ragged%';bh.specialSkipped='%skipped%';bh.specialMissing='%missing%';bh.specialAll='%all%';bh.specialNoAccess='%no-access%';bh.specialWildcard='%wildcard%';bh.millisPerDay=86400000;bh.$C=15;bh.$B=6;bh.$E=1E+15;bh.$D=1000000;bh.$F=0.0001;bh.$I=9;bh.$z=46;bh.$G=45;bh.$J=48;bh.$A=53;bh.$H=57;bh.$R={};bh.$S={};bh.$T={};bh.$Y=new RegExp('(\\\\|\\^|\\$|\\*|\\+|\\?|\\.|\\:|\\,|\\(|\\)|\\[|\\]|\\{|\\}|\\|)','g');bh.$O=new RegExp('^([yYmMdD\\W]+)\\s+([hnst\\W]+)$');bh.$Z=new RegExp('(\\\\[:.]s+)');bh.$12=new RegExp('(t+)','g');bh.$U=new RegExp('([yYmMdDhnswq]+)','g');bh.$10=new RegExp('\\(\\\\d\\+\\)(?:\\(\\?\\:)?\\s+\\(\\\\d\\+\\)','g');bh.$V=new RegExp('\\s','g');bh.$M=new RegExp('(^|d)([^h]*)(h|$)','gi');bh.$N=new RegExp('h([^d]*)(d|$)','gi');bh.$K=new RegExp('^(a|a\\.?m\\.?|㏂|π\\.?µ\\.?|午前)$','i');bh.$W=new RegExp('^(p|p\\.?m\\.?|㏘|µ\\.?µ\\.?|午後)$','i');bh.$X=new RegExp('(\\d)(?:\\.(\\d+))?e\\+(\\d+)');bh.$Q=ss.mkdict(['yyyyy','yyyyy','yyyy','yyyy','yyy','yyyy','yy','yy','y','yyyy','L','m','LL','mm','LLL','mmm','LLLL','mmmm']);bh.$P={day:['',tab.Strings.Sunday,tab.Strings.Monday,tab.Strings.Tuesday,tab.Strings.Wednesday,tab.Strings.Thursday,tab.Strings.Friday,tab.Strings.Saturday,tab.Strings.Sunday],shortDay:['',tab.Strings.SundayShort,tab.Strings.MondayShort,tab.Strings.TuesdayShort,tab.Strings.WednesdayShort,tab.Strings.ThursdayShort,tab.Strings.FridayShort,tab.Strings.SaturdayShort,tab.Strings.SundayShort],shortMonth:[tab.Strings.JanuaryShort,tab.Strings.FebruaryShort,tab.Strings.MarchShort,tab.Strings.AprilShort,tab.Strings.MayShort,tab.Strings.JuneShort,tab.Strings.JulyShort,tab.Strings.AugustShort,tab.Strings.SeptemberShort,tab.Strings.OctoberShort,tab.Strings.NovemberShort,tab.Strings.DecemberShort],month:[tab.Strings.January,tab.Strings.February,tab.Strings.March,tab.Strings.April,tab.Strings.May,tab.Strings.June,tab.Strings.July,tab.Strings.August,tab.Strings.September,tab.Strings.October,tab.Strings.November,tab.Strings.December]};bh.$L=ss.mkdict(['t','t','v',bi.OleDateFromJsDate(Date.UTC(1918,10,11,11,11,0))]);bh.$11=null;bh.$R.format='yyyy-mm-dd';bh.$R.timeFormat='hh:nn';bh.$S.format='yyyy-mm-ddThh:nn';bh.$T.format='hh:nn';bh.$11=ss.mkdict(['%many-values%',true,'%null%',true,'%error%',true,'%ragged%',true,'%skipped%',true,'%missing%',true,'%all%',true,'%no-access%',true,'%wildcard%',true])})();(function(){bj.$1=[];bj.bIsAnimationShown=false;if(h.get_isMac()){$(document).addClass('tb_mac')}})();(function(){bk.CFS_ALL='all';bk.CFS_SINGLE='single-select';bk.CFS_MULTIPLE='multi-select'})();(function(){bl.CFT_INCLUSIVE='include';bl.CFT_EXCLUSIVE='exclude'})();(function(){bm.DS_NORMAL=null;bm.DS_NULL='n';bm.DS_ALL='a';bm.DS_WILDCARD='w';bm.DS_SKIPPED='s';bm.DS_NOACCESS='p';bm.DS_RAGGED='r';bm.DS_ERROR='e';bm.DS_MISSING='m'})();(function(){bo.FT_QUANTITATIVE='Q';bo.FT_ORDINAL='O';bo.FT_NOMINAL='N';bo.FT_UNKNOWN=null})();(function(){bp.HFS_SINGLE='single-select';bp.HFS_MULTIPLE='multi-select'})();(function(){bq.QFD_ALL='all';bq.QFD_CONTEXT='context';bq.QFD_RELEVANT='relevant'})();(function(){br.QFF_FIXED_START='start';br.QFF_FIXED_END='end'})();(function(){bs.QFI_ALL='include-all';bs.QFI_NON_NULL='include-non-null';bs.QFI_NULL_ONLY='include-null';bs.QFI_RANGE='include-range';bs.QFI_RANGE_OR_NULL='include-range-or-null'})();(function(){bt.table='t';bt.legend='l';bt.filter='f';bt.currentPage='p';bt.title='i';bt.text='x';bt.bitmap='b';bt.web='w';bt.draw='d';bt.textBlock='k';bt.layoutContainer='c';bt.parameter='a'})()})()}());;
/*! BEGIN Domain */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqldomain');var b=function(e,ij,ik,il){bB.call(this,'none',e,ij,ik,il)};b.__typeName='tab.$0';var c=function(e){this.$7=null;this.$5=0;this.$6=null;this.$1$1=null;this.$1$2=null;this.$7=e;this.$5=0;this.$6=[]};c.__typeName='tab.$1';var d=function(e){var ij=function(){this.$3=null;this.$4=null};ss.registerGenericClassInstance(ij,d,[e],{$0:function(ik){var il=this.$3;this.$3=ik;ik.$1=il;ik.$2=null;if(ss.isValue(il)){il.$2=ik}if(ss.isNullOrUndefined(this.$4)){this.$4=ik}},$1:function(ik){if(ss.referenceEquals(this.$3,ik)){this.$3=ik.$1}if(ss.referenceEquals(this.$4,ik)){this.$4=ik.$2}if(ss.isValue(ik.$2)){ik.$2.$1=ik.$1}if(ss.isValue(ik.$1)){ik.$1.$2=ik.$2}},$2:function(){this.$1(this.$4)}},function(){return null},function(){return[]});return ij};d.__typeName='tab.$10';ss.initGenericClass(d,a,1);var f=function(e){ew.call(this,e,new eT('eJH'.toString()))};f.__typeName='tab.$11';var g=function(e){ew.call(this,e,new eT('VGH'.toString(),1))};g.__typeName='tab.$12';var h=function(e){ew.call(this,e,new eT('xl_'.toString(),1))};h.__typeName='tab.$13';var i=function(){};i.__typeName='tab.$14';var j=function(){this.$5=null;this.$4=null;this.$3=null;this.$6=null;this.$5={startIndex:0};this.$4=[{field:'name',ascending:true}]};j.__typeName='tab.$15';j.$2=function(e,ij){this.$5=null;this.$4=null;this.$3=null;this.$6=null;this.$5={startIndex:0};this.$4=[e];this.$3=ij};j.$1=function(e,ij){this.$5=null;this.$4=null;this.$3=null;this.$6=null;this.$5={startIndex:0};this.$4=(!tab.MiscUtil.isNullOrEmpty(e)?e:[{field:'name',ascending:true}]);this.$3=ij};j.$0=function(e){this.$5=null;this.$4=null;this.$3=null;this.$6=null;this.$5={startIndex:0};this.$4=[{field:'name',ascending:true}];this.$3=e};var k=function(e,ij,ik){this.$7=null;this.$6=null;this.$8=false;bB.call(this,'immediately',e,null);this.$7=ij;this.$6=ik;var il=new Object;il.commandNamespace='tabdoc'.toString();il.commandName='drop-prepare'.toString();fT.setCommandParams(il,ij.commandParams);il.commandParams['_tx']=false;this.enqueueCommand(new bO(il))};k.__typeName='tab.$16';var l=function(){this.$4=null;this.$4=[]};l.__typeName='tab.$17';var m=function(e,ij,ik,il){bB.call(this,ij,null,e,ik,il)};m.__typeName='tab.$18';m.$0=function(e,ij,ik,il){return new m(e,ij,ik,il)};var n=function(e,ij){this.$3=null;this.$2=null;this.$3=e;this.$2=ij};n.__typeName='tab.$19';var o=function(){};o.__typeName='tab.$2';var p=function(e){this.$9=null;this.$a={};this.$8=[];this.$7=false;this.$9=e};p.__typeName='tab.$20';p.$0=function(e,ij){var ik=new Array(e.length);for(var il=0;il<e.length;++il){ik[il]={item1:e[il],item2:ij[il]}}ik.sort(function(im,io){return im.item1-io.item1});return ik};p.$1=function(e,ij){var ik;if(ij.length===1||ss.isNullOrUndefined(e)){ik=ij}else{ik=_.sortBy(ij,function(il,im){return e[im]})}return ik};var q=function(){};q.__typeName='tab.$21';var r=function(e){hG.call(this,e);this.c=true};r.__typeName='tab.$22';var s=function(){};s.__typeName='tab.$23';s.$e=function(){return tab.Logger.lazyGetLogger(fu)};s.$2=function(e,ij,ik,il,im){var io=s.$4(il,im);var ip=new p(im);if(ss.isNullOrUndefined(io)){return ip}var iq=new Array(im.length);for(var ir=0;ir<iq.length;++ir){var it=il.getColumnIndex(im[ir]);iq[ir]=it}var iu={};for(var iv=0;iv<ik.length;iv++){var iw=ik[iv];var ix=e.getItemNamesFromObjectId(iw);if(ss.isNullOrUndefined(ix)){continue}var iy=true;var iz=[];for(var iA=0;iA<ix.length;iA++){var iB=ij[iA];var iC=io[iB];if(ss.isNullOrUndefined(iC)){continue}iu[iB]=iu[iB]||hL.buildAliasReverseLookup(il,iC,K.get_instance().get_dataDictionary());var iD=iu[iB];var iE=iD[ix[iA]];if(!ss.isValue(iE)){iy=false;break}iz.push(iE)}if(iy){ip.$0(iz,iq)}}return ip};s.$1=function(e,ij){var ik={};for(var il=0;il<ij.length;il++){var im=ij[il];var io=new Array(im.ZHX.length);for(var ip=0;ip<io.length;ip++){var iq=e.getVizDataFieldByIndex(im.ZHX[ip]);io[ip]=iq.get_fieldName()}var ir=io.join(';');var it;if(ss.keyExists(ik,ir)){it=ik[ir]}else{it=new p(io);ik[ir]=it}it.$0(im.wwF,im.ZHX)}return _.map(ik,function(iu,iv){return iu})};s.$c=function(e,ij){var ik=[];for(var il=0;il<ij.length;il++){var im=ij[il];if(ss.isNullOrUndefined(im.ZHX)){continue}for(var io=0;io<im.ZHX.length;io++){var ip=im.ZHX[io];var iq=e.get_vizDataModel().getVizDataFieldByIndex(ip);var ir=iq.get_fieldCaption();if(!ss.contains(ik,ir)){ik.push(ir)}}}return Array.prototype.slice.call(ik)};s.$3=function(e,ij,ik){var il=new p(ik);var im=s.$4(e,ik);if(ss.isNullOrUndefined(im)){return il}for(var io=0;io<ij.length;io++){var ip=ij[io];var iq=[];var ir=[];for(var it=0;it<ik.length;it++){var iu=ik[it];var iv=im[iu];var iw=iv.getAliasIndex(ip);iq.push(iw);ir.push(e.getColumnIndex(iu))}if(iq.length!==ik.length){}il.$0(iq,ir)}return il};s.$0=function(e,ij,ik,il){var im=[];var io={};var ip=false;e.forEachVizDataField(function(iJ,iK){if(s.$d(iJ)){var iL=iJ.get_aggType()||'none';io[iL]=iK;if(iL==='none'){ip=true}}return true});var iq=true;var ir=null;ij.forEachVizDataField(function(iJ,iK){if(s.$d(iJ)){if(ss.isNullOrUndefined(ir)){ir=iJ.get_baseColumnName()}else if(!ss.referenceEquals(ir,iJ.get_baseColumnName())){iq=false}}return true});var it=[];if(iq){var iu=[];ij.forEachVizDataField(function(iJ,iK){if(s.$d(iJ)){var iL=iJ.get_aggType()||'none';if(!ip&&iL==='none'){var iM=ss.getEnumerator(Object.keys(io));try{while(iM.moveNext()){var iN=iM.current();if(!ss.contains(iu,iN)){iu.push(iN);var iO=io[iN];im.push(new t(iO,iK,iN,'none'));var iP=e.getVizDataFieldByIndex(iO);it.push(iP)}}}finally{iM.dispose()}}else if(ss.keyExists(io,iL)){if(!ss.contains(iu,iL)){iu.push(iL);var iQ=io[iL];im.push(new t(iQ,iK,'none','none'));it.push(iJ)}}else if(ip){var iR=io['none'];im.push(new t(iR,iK,'none',iL));it.push(iJ)}}return true})}var iv=new Array(it.length);for(var iw=0;iw<it.length;iw++){var ix=it[iw];iv.push(ix.get_fieldCaption())}var iy=new p(iv);for(var iz=0;iz<il.length;iz++){var iA=il[iz];var iB=[];var iC=[];for(var iD=0;iD<im.length;iD++){var iE=im[iD];var iF=e.getVizDataFieldByIndex(iE.$3);var iG=iF.getDataValueIndex(iA);if(ss.isValue(iG)){var iH=ik.getRawValue(iF.get_dataType(),ss.unbox(iG));var iI=s.$5(iH,iE.$2,iE.$0,ss.unbox(iG));iB.push(iI);iC.push(iE.$3)}}iy.$0(iB,iC)}return{item1:iy,item2:im}};s.$b=function(e,ij,ik,il){var im=[];if(ss.isNullOrUndefined(ik)||e.$5()){return im}ik.forEachTupleId(function(io){var ip=[];var iq=[];for(var ir=0;ir<ij.length;ir++){var it=ij[ir];var iu=ik.getVizDataFieldByIndex(it.$1);var iv=iu.getDataValueIndex(io);if(ss.isValue(iv)){var iw=il.getRawValue(iu.get_dataType(),ss.unbox(iv));var ix=s.$5(iw,it.$0,it.$2,ss.unbox(iv));ip.push(ix);iq.push(it.$1)}}if(e.$1(iq,ip)){im.push(io)}return true});return im};s.$a=function(e,ij){var ik=[];if(ss.isNullOrUndefined(ij)||e.$5()){return ik}var il=e.$4();var im=s.$4(ij,il);if(ss.isNullOrUndefined(im)){return ik}if(!ij.get_hasTupleIdColumn()){return ik}var io=new Array(il.length);for(var ip=0;ip<il.length;ip++){io[ip]=ij.getColumnIndex(il[ip])}ij.forEachTupleId(function(iq){var ir=new Array(il.length);for(var it=0;it<il.length;it++){var iu=il[it];var iv=im[iu];var iw=iv.getAliasIndex(iq);ir[it]=iw}if(e.$1(io,ir)){ik.push(iq)}return true});return ik};s.$9=function(e,ij,ik){var il=[];if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(ik)||ij.$5()){return il}var im=ij.$4();var io=null;for(var ip=0;ip<e.HUq.length;ip++){var iq=e.HUq[ip];for(var ir=0;ir<iq.MdI.length;ir++){var it=iq.MdI[ir];if(it.oqX==='trend-lines'){for(var iu=0;iu<it.tOA.length;iu++){var iv=it.tOA[iu];if(iv.VzB==='rOX'){io=new Array(im.length);for(var iw=0;iw<im.length;iw++){io[iw]=ik.getColumnIndex(im[iw])}var ix=iv;var iy={};if(ss.isValue(ix.ZHX)){for(var iz=0;iz<ix.ZHX.length;iz++){iy[ix.ZHX[iz]]=ix.wwF[iz]}}var iA=new Array(im.length);for(var iB=0;iB<im.length;iB++){if(ss.keyExists(iy,io[iB])){iA[iB]=iy[io[iB]]}else{iA[iB]=null}}if(ij.$1(io,iA)){il.push(ix.YLs)}}}}}}return il};s.$4=function(e,ij){var ik={};for(var il=0;il<ij.length;il++){var im=ij[il];var io=e.getVizDataField(im);if(ss.isNullOrUndefined(io)){return null}ik[im]=io}return ik};s.$6=function(e,ij,ik){var il=[];if(ss.isNullOrUndefined(ij)||ik.get_fieldCaptions().length!==e.$4().length){return il}var im=e.$4();var io=ik.get_fieldCaptions();var ip=[];for(var iq=0;iq<io.length;iq++){var ir=io[iq];var it=ss.indexOf(im,ir);if(it===-1){return il}ip.push(it)}var iu=K.get_instance().get_dataDictionary();var iv={};var iw={};var ix=[];var iy=e.$6();for(var iz=0;iz<iy.length;iz++){var iA=iy[iz];var iB=true;ix.length=iA.length;for(var iC=0;iC<ix.length;iC++){var iD=ip[iC];var iE=iA[iD];if(!ss.isValue(iE)){iB=false;break}var iF=io[iC];iv[iF]=iv[iF]||ij.getVizDataField(iF);var iG=iv[iF];ix[iC]=hL.lookupAliasFromIndex(iE,iG,iu)}if(iB){iw[ix.join(',')]=true}}var iH=ik.get_items();for(var iI=0;iI<iH.length;iI++){var iJ=iH[iI];if(iw[iJ.nbD.join(',')]===true){il.push(iJ.YLs)}}return il};s.$7=function(e,ij,ik){var il=[];if(ss.isNullOrUndefined(ij.get_vizDataModel())){return il}var im=e.$4();for(var io=0;io<ik.length;io++){var ip=ik[io];if(ss.isNullOrUndefined(ip.ZHX)||ss.isNullOrUndefined(ip.wwF)||ip.wwF.length<im.length){continue}var iq=[];var ir=[];var it=false;for(var iu=0;iu<ip.ZHX.length;++iu){var iv=ip.ZHX[iu];var iw=ij.get_vizDataModel().getVizDataFieldByIndex(iv).get_fieldCaption();if(ss.isValue(iw)&&ss.contains(im,iw)){iq.push(iv);ir.push(ip.wwF[iu]);if(iu===0){it=true}}}if(it&&e.$1(iq,ir)){var ix={};ix.ZHX=ip.ZHX;ix.wwF=ip.wwF;il.push(ix)}}return il};s.$8=function(e,ij,ik,il){var im=[];if(ss.isNullOrUndefined(ik.get_vizDataModel())){return im}var io=new ss.ObjectEnumerator(ik.get_sceneModel().get_visualListModels());try{while(io.moveNext()){var ip=io.current();var iq=ip.value.get_groupItemNodes();for(var ir=0;ir<iq.length;ir++){var it=iq[ir];if(ss.isNullOrUndefined(it.ZHX)||ss.isNullOrUndefined(it.wwF)||it.ZHX.length!==it.wwF.length){continue}var iu=[];for(var iv=0;iv<it.ZHX.length;++iv){var iw={$:it.ZHX[iv]};var ix=_.find(ij,ss.mkdel({nodeColIndex:iw},function(iD){return iD.$1===this.nodeColIndex.$}));if(ss.isValue(ix)){var iy=it.wwF[iv];var iz=ik.get_vizDataModel().getVizDataFieldByIndex(ix.$1);var iA=il.getRawValue(iz.get_dataType(),iy);if(ss.isValue(iA)){var iB=s.$5(iA,ix.$0,ix.$2,iy);iu.push(iB)}}}if(iu.length===it.wwF.length){if(e.$1(it.ZHX,iu)){var iC={};iC.ZHX=it.ZHX;iC.wwF=it.wwF;im.push(iC)}}}}}finally{io.dispose()}return im};s.$d=function(e){if(ss.isNullOrUndefined(e)){return false}var ij=e.get_dataType();if(ij==='datetime'||ij==='date'){return true}var ik=['day','hour','mdy','minute','month','month-year','qtr','trunc-day','trunc-hour','trunc-minute','trunc-month','trunc-qtr','trunc-second','trunc-week','trunc-year','week','weekday','year'];return ss.contains(ik,e.get_aggType())};s.$5=function(e,ij,ik,il){if(_.isNumber(e)){return e}var im=(_.isDate(e)?e:tab.DateUtil.parsePresModelDate(e));var io=il;if(ij==='none'&&ik!=='none'){switch(ik){case'year':{io=tab.DateUtil.dateAsYear(im);break}case'qtr':{io=tab.DateUtil.dateAsQuarter(im);break}case'month':{io=tab.DateUtil.dateAsMonth(im);break}case'day':{io=tab.DateUtil.dateAsDay(im);break}case'hour':{io=tab.DateUtil.dateTimeAsHour(im);break}case'minute':{io=tab.DateUtil.dateTimeAsMinute(im);break}case'second':{io=tab.DateUtil.dateTimeAsSecond(im);break}case'week':{io=tab.DateUtil.dateAsWeek(im);break}case'weekday':{io=tab.DateUtil.dateAsDayOfWeek(im);break}case'month-year':{io=tab.DateUtil.dateAsMonthYear(im);break}case'mdy':{io=tab.DateUtil.dateAsMonthDayYear(im);break}}if(ss.isNullOrUndefined(io)){}}return io};var t=function(e,ij,ik,il){this.$3=0;this.$1=0;this.$2=null;this.$0=null;this.$3=e;this.$1=ij;this.$2=ik||'none';this.$0=il||'none'};t.__typeName='tab.$24';var u=function(e){this.$2=null;this.$1=null;this.$2=e;if(ss.isNullOrUndefined(this.$2.mmK)){return}var ij={};var ik=this.$2.mmK.HCq;var il=_.keys(this.$2.mmK.HCq);for(var im=0,io=il.length;im<io;im++){var ip=il[im];var iq=ik[ip];if(ss.isNullOrUndefined(iq)||iq.jAM==='bitmap'){ij[ip]=null}else{ij[ip]=iq.wqq}}this.$1=ij};u.__typeName='tab.$25';var v=function(e,ij,ik,il,im){this.$4=null;this.$5=null;this.$e=0;this.$9=0;this.$a=0;this.$b=null;this.$d=null;this.$c=null;this.$7=0;this.$f=null;this.$8=0;this.$6=false;this.$1$1=null;this.$4=e;this.$5=ij;this.$e=ik;this.$a=ss.coalesce(il,1);this.$9=ss.coalesce(im,35)};v.__typeName='tab.$3';var w=function(e){bB.call(this,'none',e,null)};w.__typeName='tab.$4';var x=function(e){this.$5=null;this.$1$1=0;this.$5=e};x.__typeName='tab.$5';var y=function(){this.$1$1=false;this.$1$2=0;this.$1$3=null;var e=K.get_instance().get_workbook();this.$1(e.get_isCurrentSheetStoryboard());if(this.$0()){this.$3(e.get_storyboard().get_sheetName());this.$5(e.get_storyboard().get_flipboard().get_currentStoryPointId())}};y.__typeName='tab.$6';var z=function(e,ij,ik){this.$2=null;this.$0=null;this.$1=null;this.$2=e;this.$0=ij;this.$1=ik};z.__typeName='tab.$7';var A=function(e,ij){var ik=function(il,im){this.$0=ss.getDefaultValue(e);this.$1=ss.getDefaultValue(ij);this.$0=il;this.$1=im};ss.registerGenericClassInstance(ik,A,[e,ij],{},function(){return null},function(){return[]});return ik};A.__typeName='tab.$8';ss.initGenericClass(A,a,2);var B=function(e){var ij=function(ik){this.$0=ss.getDefaultValue(e);this.$1=null;this.$2=null;this.$0=ik};ss.registerGenericClassInstance(ij,B,[e],{},function(){return null},function(){return[]});return ij};B.__typeName='tab.$9';ss.initGenericClass(B,a,1);var C=function(e,ij,ik,il,im,io){this.$7=0;this.$3=0;this.$5=0;this.$4=0;this.$6=0;this.$0=0;this.$1=0;this.$2=0;fb.call(this);if(ss.isNullOrUndefined(im)&&ss.isValue(io)){im=ik;io=il}this.$7=e;this.$3=ik;this.$5=il;this.$4=im;this.$6=io;var ip=ij;var iq=im;var ir=io;var it=io/im;this.$0=(ir-it*iq-ip+it)/(-(iq*iq)+2*iq-1);this.$1=it-2*this.$0*iq;this.$2=ip-it+this.$0*(2*iq-1)};C.__typeName='tab.AcceleratingRangeTransform';global.tab.AcceleratingRangeTransform=C;var D=function(){this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null};D.__typeName='tab.AckbarEventsHelper';D.get=function(){if(ss.isNullOrUndefined(D.instance)){D.instance=new D}return D.instance};global.tab.AckbarEventsHelper=D;var E=function(){};E.__typeName='tab.ActionType';global.tab.ActionType=E;var F=function(){};F.__typeName='tab.ActionUtils';F.$9=function(){return tab.Logger.lazyGetLogger(F)};F.isVizSourceOfAction=function(e,ij){return _.any(e.QGQ,function(ik){return ss.referenceEquals(ik,ij)})};F.isTargetOfActionLocal=function(e){var ij=ez.getVisualModels(K.get_instance());for(var ik=0;ik<e.kDm.length;ik++){var il=e.kDm[ik];if(ss.keyExists(ij,il)){return true}}return false};F.isFilterAction=function(e){return ss.isValue(e.Yb$)&&ss.startsWithString(e.Yb$['eDX'.toString()],'tabdoc:filter-targets')};F.isHighlightAction=function(e){return ss.isValue(e.Yb$)&&ss.startsWithString(e.Yb$['eDX'.toString()],'tabdoc:highlight')};F.isFilterSource=function(e,ij){var ik=e.pm;var il=ik.SJs;for(var im=0;im<il.length;im++){var io=il[im];if(!F.isVizSourceOfAction(io,ij)){continue}if(io.bg$!=='on-select'){continue}if(ss.isNullOrUndefined(io.Yb$)){continue}var ip=ss.replaceAllString(io.Yb$['eDX'.toString()],'simpleCommand=','');var iq=bR.deserialize(ip,true);if(!ss.referenceEquals(iq.commandName,'filter-targets'.toString())){continue}var ir=io.kDm;if(ir.length===0){continue}return true}return false};F.getApplicableActions=function(e,ij,ik,il){var im=K.get_instance().get_workbook().findContentDashboard().get_actionPresModels();var io=F.$4(im,e,ij);if(ss.isValue(ik)){var ip=F.$7(il);io=_.filter(io,function(iq){return F.getActionType(iq)===ik&&!ip})}io=_.filter(io,function(iq){return F.getActionType(iq)==='url'||ss.isValue(iq.ElU)||iq.kDm.length>0});return io};F.executeActions=function(e,ij,ik,il,im,io){var ip=F.getApplicableActions(e,ij,'filter',io);var iq=F.getApplicableActions(e,ij,'highlight',io);var ir=F.getApplicableActions(e,ij,'url',io);var it=ez.getVisualModel(K.get_instance(),e);if(ss.isValue(ik)){if(ir.length>0&&ik.length>0){F.$3(ir,ik,it)}if(iq.length>0){if(ik.length>0){F.$2(iq,ik,it,il)}else{F.$8(il)}}else if(ss.isValue(im)&&im){F.$2(iq,ik,it,il)}}if(ip.length>0){F.$1(e,ip,ik,il,it)}};F.executeAction=function(e,ij,ik,il){if(!ss.isValue(e)){return}var im=[e];if(!ss.isNullOrUndefined(e.LeZ)){F.$3(im,ij,ik)}else if(true){F.$2(im,ij,ik,il)}else{}};F.getActionType=function(e){if(ss.isValue(e.Yb$)){var ij=bR.deserialize(e.Yb$['eDX'.toString()],true);if(ss.referenceEquals(ij.commandName,'highlight'.toString())){return'highlight'}if(ss.referenceEquals(ij.commandName,'filter-targets'.toString())){return'filter'}return null}if(ss.isValue(e.LeZ)){return'url'}return null};F.willActionCauseTabChange=function(e,ij){if(K.get_instance().get_isOffline()){return false}var ik=F.getApplicableActions(e,ij,'filter');for(var il=0;il<ik.length;il++){var im=ik[il];if(ss.isValue(im.Yb$)){var io=bR.deserialize(im.Yb$['eDX'.toString()],true);var ip=io.commandParams['DYs'];if(ss.isValue(ip)&&!_.isEqual(ip,tsConfig.current_sheet_name)){return true}}}return false};F.getUrlActionPm=function(e,ij,ik){if(ss.isValue(ik)&&!ss.isNullOrUndefined(e.LeZ)){var il=ij.get_vizDataModel();var im=K.get_instance().get_dataDictionary();var io=hN.constructUrl(im,e.LeZ,il,ik,ij.get_worksheetName());return{item1:F.$0(io),item2:io.item2}}return{item1:null,item2:'urlConstructionFail'}};F.$0=function(e){if(e.item2!=='success'){return null}var ij={};ij.ZNi=e.item1;var ik=ij;var il=ez.getFirstAvailableWebZoneName(K.get_instance());if(ss.isValue(il)){ik.ALQ=il}return ik};F.$7=function(e){return ss.isValue(e)&&(e==='color'||e==='size'||e==='shape')};F.$2=function(e,ij,ik,il){var im=N.computeFromTuples(ik,ij,e);fu.$g(im,il)};F.$8=function(e){fu.$2(e)};F.$3=function(e,ij,ik){if(ss.isValue(ij)&&ij.length>0){var il=[];for(var im=0;im<e.length;im++){var io=e[im];var ip=F.getUrlActionPm(io,ik,ij).item1;if(ss.isValue(ip)){il.push(ip)}else{bJ.fireDeferredUrlActions=true;return}}if(il.length>0){bJ.get().delayLocalUrlActions(il)}}};F.$1=function(e,ij,ik,il,im){if(K.get_instance().get_isOffline()){return}if(ss.isValue(ij)){var io=F.$5(ij);if(io.length>0){var ip=ez.getSheetInfoPresModel(K.get_instance(),tsConfig.current_sheet_name);if(ss.isValue(ip)&&!(ip.WeS&&ss.isNullOrUndefined(ip.ROW))){var iq=!ip.WeS||ip.ROW.length===1;for(var ir=0;ir<io.length;ir++){var it=io[ir];if(iq||!ss.referenceEquals(it.get_worksheetName(),e)){ez.setVisualValidStateOnPresModel(il,it)}}}}if(ik.length>0){var iu=[];for(var iv=0;iv<ij.length;iv++){var iw=ij[iv];if((ik.length===1||!iw._pd)&&ss.isValue(iw.ElU)){var ix={};var iy=iw.ElU+'&:exclude='+bJ.get().get_legacySession().railsEncode(e);var iz=im.get_vizDataModel();var iA=K.get_instance().get_dataDictionary();ix.ZNi=hN.constructUrlForFilterActionFromTargetURL(iA,iy,iw.LeZ,iz,ik);iu.push(ix)}}if(iu.length>0){bJ.get().delayLocalUrlActions(iu)}}}};F.$5=function(e){var ij={};if(ss.isValue(e)){for(var ik=0;ik<e.length;ik++){var il=e[ik];for(var im=0;im<il.kDm.length;im++){var io=il.kDm[im];var ip=ez.getVisualModel(K.get_instance(),io);if(ss.isValue(ip)){ij[io]=ip}}}}var iq=[];var ir=new ss.ObjectEnumerator(ij);try{while(ir.moveNext()){var it=ir.current();iq.push(it.value)}}finally{ir.dispose()}return iq};F.$6=function(e){if(!F.$b){F.$b=true;var ij=tsConfig.schemeWhitelist.split(',');for(var ik=0;ik<ij.length;ik++){var il=ij[ik];var im=il.toLowerCase().trim();if(!ss.endsWithString(im,':')){im+=':'}if(im.length>1){F.$c.push(im)}}}var io=new RegExp('(^[A-Za-z][A-Za-z0-9+\\-.]*:)');var ip=io.exec(e);if(!ss.isValue(ip)){return true}var iq=ip[0].toLowerCase();return ss.contains(F.$c,iq)};F.$4=function(e,ij,ik){var il=_.filter(e,function(im){var io=ss.contains(im.QGQ,ij);var ip=ik===im.bg$;return io&&ip});return il};F.launchActionUrls=function(e,ij){var ik=[];var il={};if(ss.isNullOrUndefined(e)||e.length===0){return}if(ss.isValue(M.linkTarget)&&M.linkTarget.length>0){var im=M.linkTarget;ik.push({item1:im,item2:false});il[im]=e[e.length-1].ZNi}else{var io=0;for(var ip=0;ip<e.length;ip++){var iq=e[ip];if(!F.$6(iq.ZNi)){if(!F.$a){F.$a=true;ij.showAlertDialog(tab.Strings.SecurityBlockedURLActionMessage,tab.Strings.SecurityBlockedURLActionHeader,true)}continue}if(ss.isNullOrUndefined(iq.ALQ)||'t'in iq){iq.ALQ=iq['t']}var ir;if(ss.isValue(iq.ALQ)){ir={item1:iq.ALQ,item2:true}}else{var it='_'+tsConfig.layoutid.toString().replace(new RegExp('[^\\w]','g'),'');if(io>0){it+='_'+io.toString()}ir={item1:it,item2:false}}if(!ss.keyExists(il,ir.item1)){ik.push(ir)}il[ir.item1]=iq.ZNi;io++}}for(var iu=0;iu<ik.length;iu++){var iv=ik[iu];var iw=iv.item1;if(iv.item2){try{$('[name='+iw+']').prop('src',il[iw])}catch(ix){}}else{window.open(il[iw],iw)}}};global.tab.ActionUtils=F;var G=function(){ss.makeGenericType(L,[Object,H]).call(this)};G.__typeName='tab.AddDataServerDataSourceCmd';global.tab.AddDataServerDataSourceCmd=G;var H=function(e){this.$c=null;this.$c=e};H.__typeName='tab.AddDataServerDataSourceCmd$Response';global.tab.AddDataServerDataSourceCmd$Response=H;var I=function(e){this.$2$1=null;ew.call(this,e,new eT('OIO'.toString()))};I.__typeName='tab.AnalyticsPaneModel';global.tab.AnalyticsPaneModel=I;var J=function(){};J.__typeName='tab.ApiClientCommands';J.doApiCommand=function(e,ij,ik){bJ.SendCommand(m.$0(e,'immediately',ij,ik))};global.tab.ApiClientCommands=J;var K=function(){this.$9=null;this.$8={};this.$7={};this.$a=null;this.$c=null;this.$4=null;this.$6=null;this.$3=null;this.$b=null;this.$2=null;this.$5=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;ew.call(this,null,null);this.presModelKey=new eT('hyc'.toString());this.$a=new hr(this);this.$c=new hV(this);this.$4=new bH(this);this.$6=new cu(this);this.$3=new bp(this,false);this.$b=new bp(this,true);this.$2=new bo(this);this.$5=new bY(this);this.$9=new fN;this.set_serverFonts(null)};K.__typeName='tab.ApplicationModel';K.get_instance=function(){if(ss.isNullOrUndefined(K._instance)){K._instance=new K}return K._instance};global.tab.ApplicationModel=K;var L=function(e,ij){var ik=function(){this.c={};this.$1$1=null;this.$1$2=false;this.$1$3=false;this.$1$4=null;this.$1$5=false;this.set_uiBlocking('none')};ss.registerGenericClassInstance(ik,L,[e,ij],{get_uiBlocking:function(){return this.$1$1},set_uiBlocking:function(il){this.$1$1=il},get_deferSuccess:function(){return this.$1$2},set_deferSuccess:function(il){this.$1$2=il},get_deferFailure:function(){return this.$1$3},set_deferFailure:function(il){this.$1$3=il},get_localWork:function(){return this.$1$4},set_localWork:function(il){this.$1$4=il},get_noExceptionDialog:function(){return this.$1$5},set_noExceptionDialog:function(il){this.$1$5=il},invoke:function(il){il.noExceptionDialog=this.get_noExceptionDialog();il.preserveRootResult=true;var im=$.Deferred();var io=function(iq){im.resolve(new ij(iq))};var ip=function(iq){im.reject()};bJ.SendCommand(new bB(this.get_uiBlocking(),this.get_localWork(),il,(this.get_deferSuccess()?bJ.$3(Object).call(null,$.Deferred().done(io)):io),(this.get_deferFailure()?bJ.$0($.Deferred().fail(ip)):ip)));return im.promise()}},function(){return null},function(){return[]});return ik};L.__typeName='tab.BaseCmd$2';ss.initGenericClass(L,a,2);global.tab.BaseCmd$2=L;var M=function(e,ij){this.defaultSessionErrorHandler=null;this.$e=null;this.$f=null;this.$h=null;this.$g=null;this.$1$1=null;tab.Param.verifyValue(ij,'commonDialogProvider');this.$e=ij;var ik=tabBootstrap.BaseUrlFormatter.formatBaseUrl();if(ss.isValue(e)){this.$h=e}else{this.$h=tabBootstrap.BaseUrlFormatter.formatUrlRoot(ik)}if(ss.isValue(tsConfig.site_root)){this.$g=tsConfig.site_root}else{this.$g=ik}this.defaultSessionErrorHandler=new cz(ij,e);if(tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){this.$f=new cR([new cC,this.defaultSessionErrorHandler])}else{this.$f=new cR([this.defaultSessionErrorHandler])}};M.__typeName='tab.BaseSession';global.tab.BaseSession=M;var N=function(){this.$5={};this.$4={};this.$2={};this.$3={};this.$1=true};N.__typeName='tab.BrushingComputer';N.$3=function(){return tab.Logger.lazyGetLogger(N)};N.createBrushingComputer=function(e,ij,ik,il,im){var io=new N;var ip=ij.get_vizDataModel();var iq=s.$2(e,il,ik,ip,il);for(var ir=0;ir<il.length;ir++){var it=il[ir];if(ij.vizDataContainsDuplicateCaption(it)){io.$1=false;return io}}var iu;if(im){iu=ez.getVisualModels(K.get_instance())}else{iu={};var iv=F.getApplicableActions(ij.get_worksheetName(),'on-select','highlight');for(var iw=0;iw<iv.length;iw++){var ix=iv[iw];if(ss.isNullOrUndefined(ix.kDm)){continue}for(var iy=0;iy<ix.kDm.length;iy++){var iz=ix.kDm[iy];var iA=ez.getVisualModel(K.get_instance(),iz);iu[iz]=iA}}}var iB=ez.findContentDashboard();var iC=_.keys(iu);for(var iD=0;iD<iC.length;iD++){var iE=iC[iD];var iF=iu[iE];if(ss.isNullOrUndefined(iF)){continue}var iG=iF.get_vizDataModel();io.$5[iE]=s.$a(iq,iG);io.$4[iE]=s.$9(iF.get_scenePresModel(),iq,iG);var iH=[];var iI=new ss.ObjectEnumerator(N.$2(iF));try{while(iI.moveNext()){var iJ=iI.current();var iK=iJ.value;var iL=s.$c(iF,iK);var iM=_.intersection(iL,il);if(iM.length>0){var iN=s.$2(e,il,ik,ip,iM);iH=iH.concat.apply(iH,s.$7(iN,iF,iK))}}}finally{iI.dispose()}io.$3[iE]=iH;var iO=ez.getModelsForViz(br).call(null,iB,iF);for(var iP=0;iP<iO.length;iP++){var iQ=iO[iP];if(!iQ.get_isHighlightEnabled()){continue}var iR=s.$6(iq,iG,iQ);if(!ss.keyExists(io.$2,iF.get_worksheetName())){io.$2[iF.get_worksheetName()]={}}io.$2[iF.get_worksheetName()][N.$0(iQ.get_legendTypeEnum(),iQ.get_legendNames())]=iR}}return io};N.getTuplesAssociatedWithSelectedNodes=function(e,ij){if(ss.isNullOrUndefined(e.get_vizDataModel())||ss.isNullOrUndefined(K.get_instance().get_dataDictionary())){return[]}var ik=[];for(var il=0;il<ij.length;il++){var im=ij[il];if(fy.isCategoricalAndTupleAssociatedHeader(im.ZHX,im.wwF)){ik.push(im)}}if(ik.length===0){return[]}var io=s.$1(e.get_vizDataModel(),ik);var ip=N.$1(io,e);return ip};N.computeFromTuples=function(e,ij,ik){var il=new N;for(var im=0;im<ik.length;im++){var io=ik[im];if(ss.isNullOrUndefined(io.kDm)){continue}var ip=bR.deserialize(io.Yb$['eDX'.toString()],true);for(var iq=0;iq<io.kDm.length;iq++){var ir=io.kDm[iq];var it=ez.getVisualModel(K.get_instance(),ir);if(ss.isNullOrUndefined(it)){continue}var iu=it.get_vizDataModel();if(ss.isNullOrUndefined(iu)){continue}if(N.isSpecialDateTimeHighlighting(ip)){var iv=K.get_instance().get_dataDictionary();var iw=s.$0(e.get_vizDataModel(),iu,iv,ij);var ix=iw.item1;var iy=iw.item2;il.$5[ir]=s.$b(ix,iy,iu,iv);il.$3[ir]=s.$8(ix,iy,it,iv);il.$0(it,e,ij,ip,io.dMo)}else{var iz=N.getHighlightFieldCaptions(ip,e.get_vizDataModel().get_highlightCaptions(),e.get_vizDataModel().get_fieldCaptions());if(!ss.referenceEquals(e,it)){iz=_.intersection(iz,iu.get_fieldCaptions())}if(tab.MiscUtil.isNullOrEmpty(iz)){continue}for(var iA=0;iA<iz.length;iA++){var iB=iz[iA];if(e.vizDataContainsDuplicateCaption(iB)){il.$1=false;return il}}var iC=s.$3(e.get_vizDataModel(),ij,iz);il.$5[ir]=s.$a(iC,iu);var iD=[];var iE=N.$2(it);var iF=_.keys(iE);for(var iG=0;iG<iF.length;iG++){var iH=iF[iG];var iI=iE[iH];var iJ=s.$c(it,iI);var iK=_.intersection(iJ,iz);if(iK.length>0){var iL=s.$3(e.get_vizDataModel(),ij,iK);iD=iD.concat.apply(iD,s.$7(iL,it,iI))}}il.$3[ir]=iD;il.$0(it,e,ij,ip,io.dMo)}}}return il};N.$2=function(e){var ij={};var ik=e.get_sceneModel().get_visualListModels();var il=new ss.ObjectEnumerator(ik);try{while(il.moveNext()){var im=il.current();ij[im.key]=im.value.get_groupItemNodes()}}finally{il.dispose()}var io=ij['x-labels']||[];ss.arrayAddRange(io,ij['bottom-axis']||[]);ij['x-labels']=io;delete ij['bottom-axis'];return ij};N.isSpecialDateTimeHighlighting=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.commandParams)){return false}var ij=e.commandParams['bFG'];return ss.isValue(ij)&&ij==='date-time'};N.getHighlightFieldCaptions=function(e,ij,ik){var il=[];if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.commandParams)){return il}var im=e.commandParams['oKr'];if(!ss.isNullOrUndefined(im)){il=JSON.parse(im)}else{var io=e.commandParams['bFG'];if(ss.isNullOrUndefined(io)||io!=='all'){}il=ij}if(ss.isValue(ik)){il=_.intersection(ik,il)}return il};N.$0=function(e,ij){return'LegendType:'+e.toString()+' LegendNames:'+ij.join(';')};N.$1=function(e,ij){var ik=[];if(ss.isNullOrUndefined(ij.get_vizDataModel())){return ik}for(var il=0;il<e.length;il++){var im=e[il];ik=_.union(ik,s.$a(im,ij.get_vizDataModel()))}return ik};global.tab.BrushingComputer=N;var O=function(){ss.makeGenericType(L,[Object,P]).call(this)};O.__typeName='tab.BuildAnalysisMainMenuCmd';global.tab.BuildAnalysisMainMenuCmd=O;var P=function(e){this.$c=null;this.$c=e};P.__typeName='tab.BuildAnalysisMainMenuCmd$Response';global.tab.BuildAnalysisMainMenuCmd$Response=P;var Q=function(){ss.makeGenericType(L,[Object,R]).call(this)};Q.__typeName='tab.BuildCaptionContextMenuCmd';global.tab.BuildCaptionContextMenuCmd=Q;var R=function(e){this.$c=null;this.$c=e};R.__typeName='tab.BuildCaptionContextMenuCmd$Response';global.tab.BuildCaptionContextMenuCmd$Response=R;var S=function(){ss.makeGenericType(L,[Object,T]).call(this)};S.__typeName='tab.BuildDashboardMainMenuCmd';global.tab.BuildDashboardMainMenuCmd=S;var T=function(e){this.$c=null;this.$c=e};T.__typeName='tab.BuildDashboardMainMenuCmd$Response';global.tab.BuildDashboardMainMenuCmd$Response=T;var U=function(){ss.makeGenericType(L,[Object,V]).call(this)};U.__typeName='tab.BuildDataMainMenuCmd';global.tab.BuildDataMainMenuCmd=U;var V=function(e){this.$c=null;this.$c=e};V.__typeName='tab.BuildDataMainMenuCmd$Response';global.tab.BuildDataMainMenuCmd$Response=V;var W=function(){ss.makeGenericType(L,[Object,X]).call(this)};W.__typeName='tab.BuildFileMainMenuCmd';global.tab.BuildFileMainMenuCmd=W;var X=function(e){this.$c=null;this.$c=e};X.__typeName='tab.BuildFileMainMenuCmd$Response';global.tab.BuildFileMainMenuCmd$Response=X;var Y=function(){ss.makeGenericType(L,[Object,Z]).call(this)};Y.__typeName='tab.BuildFormatMainMenuCmd';global.tab.BuildFormatMainMenuCmd=Y;var Z=function(e){this.$c=null;this.$c=e};Z.__typeName='tab.BuildFormatMainMenuCmd$Response';global.tab.BuildFormatMainMenuCmd$Response=Z;var ba=function(){ss.makeGenericType(L,[Object,bb]).call(this)};ba.__typeName='tab.BuildMapMainMenuCmd';global.tab.BuildMapMainMenuCmd=ba;var bb=function(e){this.$c=null;this.$c=e};bb.__typeName='tab.BuildMapMainMenuCmd$Response';global.tab.BuildMapMainMenuCmd$Response=bb;var bc=function(){ss.makeGenericType(L,[Object,bd]).call(this)};bc.__typeName='tab.BuildSheetListContextMenuCmd';global.tab.BuildSheetListContextMenuCmd=bc;var bd=function(e){this.$c=null;this.$c=e};bd.__typeName='tab.BuildSheetListContextMenuCmd$Response';global.tab.BuildSheetListContextMenuCmd$Response=bd;var be=function(){ss.makeGenericType(L,[Object,bf]).call(this)};be.__typeName='tab.BuildTitleContextMenuCmd';global.tab.BuildTitleContextMenuCmd=be;var bf=function(e){this.$c=null;this.$c=e};bf.__typeName='tab.BuildTitleContextMenuCmd$Response';global.tab.BuildTitleContextMenuCmd$Response=bf;var bg=function(){ss.makeGenericType(L,[Object,bh]).call(this)};bg.__typeName='tab.BuildWorksheetMainMenuCmd';global.tab.BuildWorksheetMainMenuCmd=bg;var bh=function(e){this.$c=null;this.$c=e};bh.__typeName='tab.BuildWorksheetMainMenuCmd$Response';global.tab.BuildWorksheetMainMenuCmd$Response=bh;var bi=function(e){this.$1=null;this.$0=null;this.$1=e};bi.__typeName='tab.CalcApplyResponse';bi.fromApplyCalculationResult=function(e,ij){var ik=(_.isString(e)?e:e['hfT'.toString()]);var il=new bi(ik);switch(il.get_resultType()){case'invalid-formula':{il.set_errorMessage(ij.get_errorSummary());break}case'invalid-caption-for-new-calc':{il.set_errorMessage(e['bYn'.toString()]);break}}return il};global.tab.CalcApplyResponse=bi;var bj=function(){ss.makeGenericType(L,[Object,bk]).call(this)};bj.__typeName='tab.CalculationAutoCompleteCmd';global.tab.CalculationAutoCompleteCmd=bj;var bk=function(e){this.$c=null;this.$c=e};bk.__typeName='tab.CalculationAutoCompleteCmd$Response';global.tab.CalculationAutoCompleteCmd$Response=bk;var bl=function(e,ij){ew.call(this,e,new eT('id$'.toString()));this.swapPresModel(ij)};bl.__typeName='tab.CalculationAutoCompleteItemModel';global.tab.CalculationAutoCompleteItemModel=bl;var bm=function(e){this.$1=[];ew.call(this,null,new eT('eFp'.toString()));this.swapPresModel(e);var ij=e.CEw||[];for(var ik=0;ik<ij.length;ik++){var il=ij[ik];this.$1.push(new bl(this,il))}};bm.__typeName='tab.CalculationAutoCompleteModel';global.tab.CalculationAutoCompleteModel=bm;var bn=function(){};bn.__typeName='tab.CalculationCommands';bn.registerCommandInterceptors=function(){fB.addCommandInterceptor(bn.$1,'tabdoc'.toString(),'edit-pill'.toString());fB.addCommandInterceptor(bn.$2,'tabdoc'.toString(),'create-calc'.toString());fB.addCommandInterceptor(bn.$3,'tabdoc'.toString(),'edit-calc'.toString())};bn.$2=function(e){if(ss.keyExists(e.commandParams,'HBp')){bn.createCalculation(e.commandParams['UyO'],e.commandParams['HBp'])}else{bn.createCalculation(e.commandParams['UyO'])}return 1};bn.$3=function(e){bn.editCalculation(e.commandParams['HBp']);return 1};bn.$1=function(e){var ij=e.commandParams;bn.editPill(ij['HBp'],ij['Ene'],parseInt(ij['ZMD']),parseInt(ij['FsL']));return 1};bn.createCalculation=function(e,ij){var ik={};ik['UyO']=e;if(ss.isValue(ij)){ik['HBp']=ij}var il=bV.newDocCommand('create-calc',ik);bJ.SendCommand(new bB('immediately',function(im){var io=im.makeMutablePresModel(K.get_instance().get_calculationModel(),false);io.UyO=e;io.MQQ='__temporary calc name__'},il))};bn.editCalculation=function(e){var ij={};ij['HBp']=e;var ik=bV.newDocCommand('edit-calc',ij);var il='';var im='';var io=K.get_instance().get_workbook().get_dataSchema().findDataSourceFromGlobalFieldName(e);if(ss.isValue(io)){im=io.get_name();var ip=io.findField(e);if(ss.isValue(ip)){il=ip.get_displayName()}}bJ.SendCommand(new bB('immediately',function(iq){var ir=iq.makeMutablePresModel(K.get_instance().get_calculationModel(),false);ir.HBp=e;ir.QD=il;ir.UyO=im;ir.MQQ='__temporary calc name__'},ik))};bn.editPill=function(e,ij,ik,il){var im={};im['HBp']=e;im['FsL']=il;im['Ene']=ij;im['ZMD']=ik;var io=bV.newDocCommand('edit-pill',im);return bn.$4(ij,io,bn.$0(ij,ik,il))};bn.createAdHocCalculation=function(e,ij,ik,il){var im={};im['UyO']=e;im['FsL']=il;im['Ene']=ij;im['ZMD']=ik;var io=bV.newDocCommand('create-type-in-pill',im);return bn.$4(ij,io,bn.$0(ij,ik,il))};bn.$0=function(e,ij,ik){return function(il){var im=il.makeMutablePresModel(K.get_instance().get_typeInPillCalculationModel(),false);im.UyO='__fake ds name__';im.MQQ='__temporary calc name__';im.Ene=e;im.ZMD=ij;im.FsL=ik}};bn.$4=function(e,ij,ik){if(!bn.isValidShelfForCalcs(e)){return $.Deferred().reject()}var il=$.Deferred();var im=il.promise().pipe(function(io){var ip=io;return ss.isValue(ip)&&(ss.isNullOrUndefined(ip.GiX)||ip.GiX)});bJ.SendCommand(new bB('immediately',ik,ij,bJ.$3(Object).call(null,il),function(){il.reject()}));return im};bn.requestAutoCompleteInfo=function(e,ij,ik){var il=$.Deferred();var im=new bj;im.c['XPP']=ij;im.c['rsY']=ik|0;var io={};io.UyO=e.get_dataSourceName();io.HBp=e.get_fieldName();io.zZA=e.get_calculationContext();io.oVH=e.get_useParameters();im.c['Oss']=io;im.set_noExceptionDialog(true);im.invoke$1().done(function(ip){il.resolve(new bm(ip.$c['eFp']))}).fail(function(ip){il.reject()});return il.promise()};bn.applyCalculation=function(e,ij,ik,il,im){var io=$.Deferred();var ip=io.promise().pipe(function(iu){return bi.fromApplyCalculationResult(iu,e)});var iq={};var ir;if(e.get_isAdhoc()){ir='apply-type-in-pill';iq['UyO']=e.get_dataSourceName();iq['kMV']=ik;iq['PPe']=true;iq['fUO']=im}else{ir='apply-calculation';iq['TkJ']=ij;iq['kMV']=ik;iq['PPe']=true}var it=function(iu){if(e.get_isAdhoc()&&im){var iv=iu.makeMutablePresModel(e,false);iv.QD=null;iv.MQQ=null;iv.UyO=null}};bJ.SendCommand(new bB('immediately',it,bV.newDocCommand(ir,iq),bJ.$3(Object).call(null,io),function(iu){io.reject()}));return ip};bn.cancelCalculation=function(e){var ij=null;if(e.get_isAdhoc()){ij={};ij['nFA']=true}var ik=bV.newDocCommand('clear-calculation-model',ij);bJ.SendCommand(new bB('none',function(il){var im=il.makeMutablePresModel(e,false);im.QD=null;im.MQQ=null;im.UyO=null},ik))};bn.validateCalculation=function(e,ij,ik){var il=$.Deferred();var im;var io={};io['kMV']=ik;io['PPe']=true;if(e.get_isAdhoc()){im='validate-type-in-pill';io['UyO']=e.get_dataSourceName()}else{im='validate-formula';io['TkJ']=ij}bJ.SendCommand(new m(bV.newDocCommand(im,io),'none',function(){il.resolve()},function(){il.reject()}));return il.promise()};bn.startDraggingText=function(e){var ij=$.Deferred();var ik={};ik['Gge']=tsConfig.current_sheet_name;ik['beN']=false;ik['gjO']=e;bJ.SendCommand(new m(bV.newDocCommand('get-drag-pres-model-for-text',ik),'none',bJ.$3(Object).call(null,ij),function(){ij.reject()}));return ij};bn.dropOnCalcEditor=function(e,ij,ik,il,im,io){var ip=$.Deferred();var iq={};iq['HVp']=e;iq['iF$']=ij;iq['Qah']=ik;if(ss.isValue(il)){iq['BQL']=il}iq['PPe']=true;iq['zZA']=im;if(ss.isValue(io)){iq['gjO']=io}var ir=new m(bV.newDocCommand('drop-on-calc-editor',iq),'immediately',bJ.$3(ss.Int32).call(null,ip),function(){ip.reject()});bJ.SendCommand(ir);return ip.promise()};bn.insertFunctionInFormula=function(e,ij,ik){var il=$.Deferred();if(ss.isNullOrUndefined(ik)||ss.isNullOrUndefined(e)){return il.reject()}var im={};im['RDA']=e;im['Fpl']=ij;im['H_i']=ik.DOV;im['dPR']=ik.wje;var io=new m(bV.newDocCommand('insert-function-in-formula',im),'immediately',bJ.$3(Object).call(null,il),function(){il.reject()});bJ.SendCommand(io);return il.promise()};bn.isValidShelfForCalcs=function(e){return e==='columns-shelf'||e==='rows-shelf'||e==='encoding-shelf'||e==='measures-shelf'||(e==='filter-shelf'||e==='pages-shelf')&&tab.FeatureFlags.isEnabled('TypeInPillsExtraShelves')};global.tab.CalculationCommands=bn;var bo=function(e){this.$2$1=null;ew.call(this,e,new eT('mu_'.toString()));this.pm={}};bo.__typeName='tab.CalculationFunctionListModel';global.tab.CalculationFunctionListModel=bo;var bp=function(e,ij){this.$2=false;this.$2$1=null;ew.call(this,e,new eT((ij?'QjR':'Oss').toString()));this.pm={};this.$2=ij};bp.__typeName='tab.CalculationModel';global.tab.CalculationModel=bp;var bq=function(e){ew.call(this,e,new eT('uPU'.toString()))};bq.__typeName='tab.CategoricalFilterModel';global.tab.CategoricalFilterModel=bq;var br=function(e,ij,ik){this.$4=null;this.$3=true;this.$6=null;this.$5=0;this.$7=0;this.$2$1=null;this.$2$2=null;ew.call(this,e,new eT(ij));this.$4=ik};br.__typeName='tab.CategoricalLegendModel';br.$0=function(e,ij){var ik;switch(e){case'color':case'map':{ik=ij.DKF;break}case'size':{ik=ij.nJz;break}case'shape':{ik=ij.x_f;break}default:{return null}}return ik};global.tab.CategoricalLegendModel=br;var bs=function(e){this.$1=null;this.$3$1=null;eZ.call(this,e,new eT('kKA'.toString()));this.set_categoricalFilter(new bq(this))};bs.__typeName='tab.CategoricalQuickFilterModel';global.tab.CategoricalQuickFilterModel=bs;var bt=function(){ss.makeGenericType(L,[Object,bu]).call(this)};bt.__typeName='tab.ChangeLineInterpolationCmd';global.tab.ChangeLineInterpolationCmd=bt;var bu=function(e){this.$c=null;this.$c=e};bu.__typeName='tab.ChangeLineInterpolationCmd$Response';global.tab.ChangeLineInterpolationCmd$Response=bu;var bv=function(){this.$0=null;this.$0=[]};bv.__typeName='tab.Changelist';global.tab.Changelist=bv;var bw=function(){};bw.__typeName='tab.ChangeType';global.tab.ChangeType=bw;var bx=function(){ss.makeGenericType(L,[Object,by]).call(this)};bx.__typeName='tab.ChangeWorkbookUIModeCmd';global.tab.ChangeWorkbookUIModeCmd=bx;var by=function(e){this.$c=null;this.$c=e};by.__typeName='tab.ChangeWorkbookUIModeCmd$Response';global.tab.ChangeWorkbookUIModeCmd$Response=by;var bz=function(){ss.makeGenericType(L,[Object,bA]).call(this)};bz.__typeName='tab.ClearHighlightingCmd';global.tab.ClearHighlightingCmd=bz;var bA=function(e){this.$c=null;this.$c=e};bA.__typeName='tab.ClearHighlightingCmd$Response';global.tab.ClearHighlightingCmd$Response=bA;var bB=function(e,ij,ik,il,im){this.doRemoteWork=null;this.doLocalWork=null;this.$5=null;this.$4=null;this.$2=null;this.$3=null;this.$1='Unknown';this.hasLocalComponent=false;this.hasRemoteComponent=false;this.$5=e;this.$4='remoteFirst';this.hasLocalComponent=ss.isValue(ij);this.hasRemoteComponent=ss.isValue(ik)&&!K.get_instance().get_isOffline();this.doLocalWork=ij;this.$2=new Array;if(this.hasRemoteComponent){this.$2.push(new bO(ik,il,im));this.$1=ik.commandName}this.doRemoteWork=ss.mkdel(this,this.$0)};bB.__typeName='tab.ClientCommand';global.tab.ClientCommand=bB;var bC=function(){};bC.__typeName='tab.ClipCase';global.tab.ClipCase=bC;var bD=function(e){this.$2$1=null;ew.call(this,e,new eT('bjw'.toString()))};bD.__typeName='tab.CloseDataSourceErrorDialogModel';global.tab.CloseDataSourceErrorDialogModel=bD;var bE=function(){ss.makeGenericType(L,[Object,bF]).call(this)};bE.__typeName='tab.CloseRefLineEditorCmd';global.tab.CloseRefLineEditorCmd=bE;var bF=function(e){this.$c=null;this.$c=e};bF.__typeName='tab.CloseRefLineEditorCmd$Response';global.tab.CloseRefLineEditorCmd$Response=bF;var bG=function(e,ij,ik,il){this.$6=0;this.$5=0;this.$3=0;this.$2=0;this.$7='';this.$4='';this.$6=e;this.$5=ij;this.$3=ik;this.$2=il};bG.__typeName='tab.ColorModel';bG.fromArgbInt=function(e){var ij=(e&16711680)>>>16;var ik=(e&65280)>>>8;var il=e&255;var im=(e&4278190080)>>>24;return new bG(ij,ik,il,im/255)};bG.fromColorCode=function(e){var ij=bG.$b.cl[e];if(ss.isValue(ij)){return ij}var ik=function(iv){return Math.min(Math.max(iv,0),255)};var il;var im;var io;var ip=1;var iq=bG.$7.exec(e);if(ss.isValue(iq)){il=ik(parseInt(iq[1],16));im=ik(parseInt(iq[2],16));io=ik(parseInt(iq[3],16));var ir=new bG(il,im,io,ip);bG.$b.add(e,ir);return ir}iq=bG.$8.exec(e);if(ss.isValue(iq)){il=ik(parseInt(iq[1],10));im=ik(parseInt(iq[2],10));io=ik(parseInt(iq[3],10));var it=new bG(il,im,io,ip);it.setRGBStr(e);bG.$b.add(e,it);return it}iq=bG.$9.exec(e);if(ss.isValue(iq)){il=ik(parseInt(iq[1],10));im=ik(parseInt(iq[2],10));io=ik(parseInt(iq[3],10));ip=parseFloat(iq[4]);if(ip<=1){ip=ip*255}if(ip>255){ip=255}if(ip<0){ip=0}ip=ip/255;var iu=new bG(il,im,io,ip);bG.$b.add(e,iu);return iu}throw new ss.Exception('Unknown color format: '+e)};bG.fromColorModelPlusAlpha=function(e,ij){return new bG(e.get_r(),e.get_g(),e.get_b(),ij)};bG.convertColorForCanvas=function(e){if(e.charCodeAt(3)===40){return e}bG.$2();var ij=bG.$a[e];if(ss.isValue(ij)){return ij}var ik=bG.fromColorCode(e);ij=ik.toString();return ij};bG.isEqual=function(e,ij,ik){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(ij)){return false}if(ik&&e.$2!==ij.$2){return false}return e.$6===ij.$6&&e.$5===ij.$5&&e.$3===ij.$3};bG.alphaBlend=function(e,ij){if(e.get_a()<1){var ik=bG.alphaToTransparency(e.get_a());var il=ij.get_r()*ik+e.get_r()*e.get_a();var im=ij.get_g()*ik+e.get_g()*e.get_a();var io=ij.get_b()*ik+e.get_b()*e.get_a();return new bG(ss.Int32.trunc(il),ss.Int32.trunc(im),ss.Int32.trunc(io),1)}else{return e}};bG.isFullyTransparent=function(e){return e.get_a()===0};bG.alphaComposite=function(e,ij){if(ij.get_a()>=0.999989986419678){return bG.alphaCompositeSolidDest(e,ij)}var ik=bG.alphaToTransparency(e.get_a());var il=e.get_a()+ij.get_a()*ik;return new bG(bG.$0(e.get_r(),e.get_a(),ij.get_r(),ij.get_a(),il),bG.$0(e.get_g(),e.get_a(),ij.get_g(),ij.get_a(),il),bG.$0(e.get_b(),e.get_a(),ij.get_b(),ij.get_a(),il),il)};bG.alphaCompositeSolidDest=function(e,ij){return new bG(bG.$1(e.get_r(),e.get_a(),ij.get_r()),bG.$1(e.get_g(),e.get_a(),ij.get_g()),bG.$1(e.get_b(),e.get_a(),ij.get_b()),1)};bG.$5=function(e,ij){var ik=e.toString(16);while(ik.length<ij){ik='0'+ik}return ik};bG.$0=function(e,ij,ik,il,im){return Math.round((e*ij+ik*il*bG.alphaToTransparency(ij))/im)};bG.$1=function(e,ij,ik){return Math.round(e*ij+ik*bG.alphaToTransparency(ij))};bG.$4=function(e){if(e<=0.0404499992728233){return e/12.9200000762939}else{return Math.pow((e+0.0549999997019768)/1.05499994754791,2.40000009536743)}};bG.$3=function(e){if(e>0.00885639991611242){return Math.pow(e,0.333333313465118)}else{return 7.78703689575195*e+0.137931004166603}};bG.$2=function(){if(ss.isValue(bG.$a)){return}bG.$a={};bG.$a['rgba(0,0,0,255)']='rgba(0,0,0,1)';bG.$a['rgba(0,0,0,0)']='rgba(0,0,0,0)';bG.$a['rgba(255,255,255,255)']='rgba(255,255,255,1)';bG.$a['rgba(255,255,255,0)']='rgba(255,255,255,0)'};bG.transparencyToAlpha=function(e){return Math.min(Math.max(1-e,0),1)};bG.alphaToTransparency=function(e){return bG.transparencyToAlpha(e)};global.tab.ColorModel=bG;var bH=function(e){ew.call(this,e,new eT('HMF'.toString()))};bH.__typeName='tab.ColorPaletteCollectionModel';global.tab.ColorPaletteCollectionModel=bH;var bI=function(e){this.$1$1=null;this.set_command(e)};bI.__typeName='tab.CommandBuilder';global.tab.CommandBuilder=bI;var bJ=function(e,ij){this.$J=null;this.$K=null;this.$P=[];this.$Y=new l;this.$W=new hu;this.$N={};this.$R=[];this.$M=null;this.$X=null;this.$Z=null;this.$V=false;this.$U=null;this.$T=null;this.$Q=null;this.$I=null;this.$S=[];this.$L=null;this.$H=false;this.$O=[];this.$G=false;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$1$6=null;this.$1$7=null;this.$1$8=null;this.$1$9=null;this.$1$10=null;this.$1$11=null;this.e2eAutomationTestHooks=null;this.processingRenderModeChange=false;this.processingStoryPointChange=false;this.$U=e;this.$K=ij;window.window.onerror=ss.mkdel(this,this.$m);this.$Z=new ib(this.$K);this.$X=new x(this.$U);var ik=new c(e);ik.$3('tabsrv'.toString(),'render-tooltip-server'.toString(),135);var il=new bU;il.commandNamespace='tabdoc'.toString();il.commandName='highlight-items'.toString();var im=new bU;im.commandNamespace='tabdoc'.toString();im.commandName='clear-highlighting'.toString();var io=new bU;io.commandNamespace='tabdoc'.toString();io.commandName='highlight-items-by-pattern-match'.toString();var ip=[il,im,io];ik.$2(ip,135);this.$J=ik;this.$J.add_commmandSucceeded(ss.mkdel(this,this.$f));this.$J.add_commandFailed(ss.mkdel(this,this.$e));this.$L=new cB(ij);this.$h();this.e2eAutomationTestHooks=new z(this.$Z,ss.mkdel(this,function(){return ss.getKeyCount(this.$N)}),ss.mkdel(this,this.$i));this.$G=false};bJ.__typeName='tab.CommandController';bJ.add_sheetNameChanged=function(e){bJ.$1$12=ss.delegateCombine(bJ.$1$12,e)};bJ.remove_sheetNameChanged=function(e){bJ.$1$12=ss.delegateRemove(bJ.$1$12,e)};bJ.get_hasInstance=function(){return ss.isValue(bJ._instance)};bJ.$9=function(){return tab.Logger.lazyGetLogger(bJ)};bJ.isAllContentReady=function(){return(ss.isNullOrUndefined(bJ._instance)?false:bJ._instance.$G)};bJ.create=function(e,ij){if(ss.isNullOrUndefined(bJ._instance)){bJ._instance=new bJ(e,ij)}return bJ._instance};bJ.clearInstance=function(){bJ._instance=null;window.window.onerror=null};bJ.get=function(){if(!ss.isValue(bJ._instance)){throw new ss.Exception('Attempted to use CommandController before creating it.')}return bJ._instance};bJ.handleBootstrapException=function(e,ij){if(bJ.$b){return}var ik=new ss.StringBuilder;if(ss.isValue(e['name'])){ik.append(e['name']).append(': ')}ik.append(e.get_message());ij.showAlertDialog(tab.Strings.UnhandledExceptionMessage(ik.toString()),tab.Strings.UnhandledExceptionTitle,true);bJ.sendParentCompletedMessage();bJ.$b=true};bJ.sendParentCompletedMessage=function(){if(bJ.$c){return}bJ.$c=true;tab.BrowserSupport.doPostMessageWithContext('tableau.completed'.toString())};bJ.$6=function(e){return e.get_isBlocking()};bJ.SendCommand=function(e){var ij=bJ.get();if(eV.get_progressiveLoadEnabled()){ij.$0(e)}ij.$Y.$1(e);ij.$j()};bJ.$8=function(e,ij){var ik=$.Deferred();var il=bJ.$3(Object).call(null,$.Deferred().done(function(io){ik.resolve(io)}));var im=bJ.$0($.Deferred().fail(function(io){ik.reject()}));bJ.SendCommand(m.$0(e,ij,il,im));return ik.promise()};bJ.$3=function(e){return function(ij){return bJ.$2(ij)}};bJ.$2=function(e){return function(ij){var ik=bJ.get();var il=null;il=function(){ik.remove_commandQueueComplete(il);e.resolve(ij)};ik.add_commandQueueComplete(il)}};bJ.$0=function(e){return bJ.$1(e)};bJ.$1=function(e){return function(ij){var ik=bJ.get();var il=null;il=function(){ik.remove_commandQueueComplete(il);e.reject(ij)};ik.add_commandQueueComplete(il)}};bJ.$7=function(){var e={};e['t']=tabBootstrap.MetricsController.getTiming();e['d']='CLNTLD'.toString();var ij=new tabBootstrap.MetricsEvent('gen',2,e);tabBootstrap.MetricsController.logEvent(ij)};bJ.$5=function(e){var ij=0;if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.res)||ss.isNullOrUndefined(e.res.mmK)){return null}if(!e.res.mmK.Jqz){return ij}var ik=e.res.mmK.HCq;var il=_.keys(ik);for(var im=0;im<il.length;im++){var io=il[im];var ip=ik[io];if(ss.isNullOrUndefined(ip)||ip.jAM!=='flipboard'){continue}var iq=ih.getContent(ip,'XIo');return(ss.isNullOrUndefined(iq)?null:iq.P_I)}return null};bJ.$4=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.res)||ss.isNullOrUndefined(e.res.mmK)||ss.isNullOrUndefined(e.res.mmK.IJE)){return''}return e.res.mmK.IJE.DDA};global.tab.CommandController=bJ;var bK=function(e,ij){this.succeeded=false;this.error=null;this.succeeded=e;this.error=ij};bK.__typeName='tab.CommandExecutionResult';global.tab.CommandExecutionResult=bK;var bL=function(){};bL.__typeName='tab.CommandInterceptorResult';global.tab.CommandInterceptorResult=bL;var bM=function(){this.$0=null;this.$0=new Object;this.set_commandsType('item')};bM.__typeName='tab.CommandItemWrapper';bM.$ctor1=function(e){this.$0=null;this.$0=e};bM.create=function(e){if(!ss.isValue(e)){return null}return new bM.$ctor1(e)};global.tab.CommandItemWrapper=bM;var bN=function(e){this.$0=null;this.$0={};var ij=ss.getEnumerator(e);try{while(ij.moveNext()){var ik=ij.current();this.$0[ik]='granted'}}finally{ij.dispose()}};bN.__typeName='tab.CommandPermission';global.tab.CommandPermission=bN;var bO=function(e,ij,ik){this.$0=null;this.$2=null;this.$1=null;this.$0=e;this.$2=ij;this.$1=ik};bO.__typeName='tab.CommandRecord';global.tab.CommandRecord=bO;var bP=function(){};bP.__typeName='tab.CommandRedirectRegistry';bP.checkpointRegistry=function(){var e=bP.$0;bP.$0=$.extend(false,{},e);return function(){bP.$0=e}};bP.registerHandler=function(e,ij){tab.Param.verifyValue(e,'commandRedirectType');tab.Param.verifyValue(ij,'handler');if(ss.isNullOrUndefined(bP.$0)){bP.$0={}}bP.$0[e]=ij};bP.handleRedirect=function(e,ij){if(ss.isNullOrUndefined(bP.$0)||!ss.keyExists(bP.$0,e)){throw new ss.Exception('No command redirect registerd for type: '+e)}var ik=bP.$0[e];return ik(ij)};global.tab.CommandRedirectRegistry=bP;var bQ=function(){this.$2$1=null;this.$2$2=null;this.$2$3=false;this.$2$4=false;ss.EventArgs.call(this)};bQ.__typeName='tab.CommandResponseEventArgs';global.tab.CommandResponseEventArgs=bQ;var bR=function(){};bR.__typeName='tab.CommandSerializer';bR.$4=function(){return tab.Logger.lazyGetLogger(bR)};bR.buildDocCommandName=function(e){return bR.buildQualifiedCommandName('tabdoc'.toString(),e.toString())};bR.buildQualifiedCommandName=function(e,ij){return e+':'+ij};bR.deserialize=function(e,ij){var ik;ij=ij||false;if(ij){ik=bR.$6[e];if(ss.isValue(ik)){return ik}}var il=new RegExp('^(\\w+):([\\w-]+)( ((.|\n)*))?$');var im=il.exec(e);if(ss.isNullOrUndefined(im)||im.length===0){return null}ik=new Object;ik.commandNamespace=im[1];ik.commandName=im[2];bR.$1(ik,im[4]);if(ij){bR.$0(e,ik)}return ik};bR.getCommandType=function(e){if(ss.keyExists(bR.$8,e.commandName)){return bR.$8[e.commandName]}else{return null}};bR.$0=function(e,ij){if(bR.$7.length>=15){var ik=bR.$7.shift();delete bR.$6[ik]}bR.$6[e]=ij;bR.$7.push(e)};bR.$1=function(e,ij){if(ss.isNullOrEmptyString(ij)){return}var ik=new ss.StringBuilder;var il=new Array;for(var im=ij.length-1;im>=0;im--){il.push(ij.substr(im,1))}while(il.length>0){var io=bR.$2(il,ik);if(!ss.isValue(io)){return}var ip=bR.$3(il,ik);if(ss.isNullOrUndefined(ip)){return}if(ip==='{}'){continue}if(ss.isNullOrUndefined(e.commandParams)){e.commandParams={}}e.commandParams[ss.unbox(io)]=ip}};bR.$2=function(e,ij){ij.clear();var ik=false;while(e.length>0){var il=e.pop();switch(il){case'=':{return ij.toString().trim()}case'-':{ik=true;break}default:{if(ik){ij.append(il.toUpperCase());ik=false}else{ij.append(il)}break}}}return null};bR.$3=function(e,ij){ij.clear();var ik=new Array;var il=function(){return((ik.length>0)?ss.arrayPeekBack(ik):'')};var im=e.length>1&&ss.arrayPeekBack(e)==='"';while(e.length>0){var io=e.pop();var ip=true;switch(io){case'\\':{if(im){if(il()!=='\\'){ik.push('\\');ip=false}else{ik.pop()}}break}case'"':{if(il()==='\\'){ik.pop()}else if(il()==='"'){ik.pop();if(ik.length===0){ip=false}}else{if(ik.length===0){ip=false}ik.push('"')}break}case'[':{if(il()==='"'){}else{ik.push('[')}break}case']':{if(il()==='"'){}else if(il()!=='['){}else{ik.pop()}break}case'{':{if(il()==='"'){}else{ik.push('{')}break}case'}':{if(il()==='"'){}else if(il()!=='{'){}else{ik.pop()}break}default:{if(il()==='\\'){ik.pop()}break}}if(ip){ij.append(io)}if(ik.length===0){return ij.toString()}}return null};global.tab.CommandSerializer=bR;var bS=function(e){this.$1=true;this.$2$1=null;ew.call(this,e,new eT('Jmx'.toString()))};bS.__typeName='tab.CommandsModel';global.tab.CommandsModel=bS;var bT=function(){this.$0=null;this.$0=new Object};bT.__typeName='tab.CommandsPresModelWrapper';bT.$ctor1=function(e){this.$0=null;this.$0=e};bT.create=function(e){if(!ss.isValue(e)){return null}return new bT.$ctor1(e)};global.tab.CommandsPresModelWrapper=bT;var bU=function(){this.commandNamespace='';this.commandName=''};bU.__typeName='tab.CommandThrottlerTarget';global.tab.CommandThrottlerTarget=bU;var bV=function(){};bV.__typeName='tab.CommandUtils';bV.newDocCommand=function(e,ij){var ik=new Object;ik.commandName=e.toString();ik.commandNamespace='tabdoc'.toString();if(ss.isValue(ij)){ik.commandParams=ij}return ik};bV.newSrvCommand=function(e){var ij=new Object;ij.commandName=e.toString();ij.commandNamespace='tabsrv'.toString();return ij};bV.newSrvCommand$1=function(e,ij){var ik=new Object;ik.commandName=e.toString();ik.commandNamespace='tabsrv'.toString();if(ss.isValue(ij)){ik.commandParams=ij}return ik};bV.addVisualIdToCommand=function(e,ij){if(tab.MiscUtil.isNullOrEmpty$1(ij.Hna)){e['AVP']=ij.AVP;if(ss.isValue(ij.XwZ)&&ij.XwZ.toString().length>0){e['XwZ']=ij.XwZ}}else{e['J_M']=JSON.stringify(ij)}};bV.addStoryPointToCommand=function(e,ij){if(ss.isValue(ij.Hna)){e['Hna']=ij.Hna;e['WIZ']=ij.WIZ.toString();e['hVl']=ij.hVl.toString()}};bV.duplicateCommand=function(e){var ij=new Object;$.extend(true,ij,e);return ij};bV.createCommandRedirectSuccessHandler=function(e){e=e||$.Deferred();var ij=$.Deferred();ij.promise().pipe(function(ik){if(_.isObject(ik)&&'XAS'.toString()in ik){var il=ik['XAS'.toString()];var im=bP.handleRedirect(il,ik);im.pipe(function(){e.resolve(ik);return ik},function(){e.reject();return ik})}else{e.resolve(ik)}return ik},function(){e.reject();return null});return bJ.$3(Object).call(null,ij)};bV.executeSimpleCommand$1=function(e){return function(ij,ik){var il=$.Deferred();var im=$.Deferred().done([function(io){il.resolve(io)}]).fail([function(io){il.reject.apply(il,null)}]);fB.executeServerCommand(bR.deserialize(gc.create(ij).get_simpleCommand()),ik,bV.createCommandRedirectSuccessHandler(im),function(io){il.reject.apply(il,null)});return il}};bV.executeSimpleCommand=function(e,ij){return bV.executeSimpleCommand$1(Object).call(null,e,ij)};global.tab.CommandUtils=bV;var bW=function(){this.select=null;this.deselect=null;this.domain=null;this.select=[];this.deselect=[]};bW.__typeName='tab.CompiledChecklistChangelist';global.tab.CompiledChecklistChangelist=bW;var bX=function(){this.index=0;this.domain=null};bX.__typeName='tab.CompiledRadiolistChangelist';global.tab.CompiledRadiolistChangelist=bX;var bY=function(e){this.$1=null;this.$2=null;this.$2$1=null;ew.call(this,e,new eT('_Ja'.toString()));this.$1=new gC(this);this.$2=new gC(this);var ij=this.$2.get_tableCalcIdentifier();var ik={};ik.cMO='secondary';ik.HBp='';ij.update(ik)};bY.__typeName='tab.CompoundTableCalcModel';bY.$0=function(e,ij){if(ss.isValue(e)&&ss.isValue(e.qGT)&&e.qGT.length>ij){return e.qGT[ij]}return null};global.tab.CompoundTableCalcModel=bY;var bZ=function(e){this.$3=null;this.$2=null;this.$1=null;cX.call(this,e)};bZ.__typeName='tab.CubeDimensionModel';global.tab.CubeDimensionModel=bZ;var ca=function(e){this.$2=null;this.$1=null;cX.call(this,e)};ca.__typeName='tab.CubeFolderModel';global.tab.CubeFolderModel=ca;var cb=function(e){this.$1=null;cX.call(this,e)};cb.__typeName='tab.CubeHierarchyModel';global.tab.CubeHierarchyModel=cb;var cc=function(e){this.$3$1=null;hv.call(this,e,new eT('Wlk'.toString()))};cc.__typeName='tab.CumulativeTableCalcModel';global.tab.CumulativeTableCalcModel=cc;var cd=function(e){this.$3=null;this.$3=e};cd.__typeName='tab.CustomizedViewSession';cd.buildUrl=function(e,ij){var ik=hP.createForViewingSheet(tsConfig.repositoryUrl);if(ss.isValue(e)){ik.updateForCustomizedView(e)}else{ik.set_originalView(true)}ik.removeHash();if(ij){ik.removeAllQueryParams()}return ik.get_absoluteUri()};cd.$0=function(e){var ij=function(ik,il,im){if(!ss.isValue(e)){return}var io=cd.$1(ik);e((ss.isValue(io)?io:(im.toString()||'')))};return ij};cd.$1=function(e){if(ss.isValue(e.responseText)){try{var ij=JSON.parse(e.responseText);if('msg'in ij){return ij['msg']}}catch(ik){var e=ss.Exception.wrap(ik)}}return null};global.tab.CustomizedViewSession=cd;var ce=function(e){this.$3$1=null;this.$3$2=null;hv.call(this,e,new eT('eTk'.toString()));this.set_referenceModel(new gE(this))};ce.__typeName='tab.CustomTableCalcModel';global.tab.CustomTableCalcModel=ce;var cf=function(){};cf.__typeName='tab.DashboardCommands';cf.dropSheetOnDashboard=function(e,ij,ik){var il=bV.newDocCommand('drop-on-dashboard');il.commandParams={};il.commandParams['AVP']=e;il.commandParams['$dg']=ss.coalesce(ik,false);il.commandParams['XwZ']=tsConfig.current_sheet_name;il.commandParams['jAM']='viz';var im=il.commandParams;var io={};io.thj=ij.x|0;io.RAC=ij.y|0;im['cxk']=io;return bJ.$8(il,'immediately')};cf.dropNewZoneObjectOnDashboard=function(e,ij,ik,il,im,io){var ip=bV.newDocCommand('drop-on-dashboard');ip.commandParams={};ip.commandParams['$dg']=ss.coalesce(ik,false);ip.commandParams['XwZ']=tsConfig.current_sheet_name;ip.commandParams['jAM']=e;ip.commandParams['oAu']=ij;var iq=ip.commandParams;var ir={};ir.thj=il.x|0;ir.RAC=il.y|0;iq['cxk']=ir;if(ss.isValue(io)){ip.commandParams['XsN']=io}if(ss.isValue(im)){ip.commandParams['UfB']=im}return bJ.$8(ip,'immediately')};cf.setDashboardDeviceLayout=function(e){var ij=new fH;ij.c['XwZ']=tsConfig.current_sheet_name;ij.c['hWn']=e;ij.c['gbN']=true;ij.set_uiBlocking('immediately');ij.invoke$1()};cf.getSheetDragDropTargets=function(e){var ij=new dq;ij.c['XwZ']=tsConfig.current_sheet_name;ij.set_uiBlocking('none');var ik=ij;if(ss.isValue(e)){ik.c['BCp']=ss.unbox(e)|0}return ik.invoke$1()};cf.addNewObjectToDashboard=function(e,ij,ik,il,im){var io=bV.newDocCommand('add-object-to-dashboard');io.commandParams={};io.commandParams['XwZ']=tsConfig.current_sheet_name;io.commandParams['jAM']=e;io.commandParams['oAu']=ij;io.commandParams['$dg']=ss.coalesce(ik,false);if(ss.isValue(im)){io.commandParams['XsN']=im}if(ss.isValue(il)){io.commandParams['UfB']=il}bJ.SendCommand(m.$0(io,'immediately'))};cf.addSheetToDashboard=function(e,ij){var ik=bV.newDocCommand('add-sheet-to-dashboard');ik.commandParams={};ik.commandParams['AVP']=e;ik.commandParams['$dg']=ss.coalesce(ij,false);bJ.SendCommand(m.$0(ik,'immediately'))};cf.getCurrentSheetSizeConstraints=function(){var e=$.Deferred();if(tsConfig.current_sheet_type==='worksheet'){var ij={};ij.OTU='size-mode-auto';ij.viO='automatic';e.resolve(ij)}else{var ik=new ds;ik.c['XwZ']=tsConfig.current_sheet_name;ik.set_uiBlocking('none');ik.invoke$1().pipe(function(il){return e.resolve(il.$c['_yu'])},function(il){return e.reject()})}return e.promise()};cf.setDashboardSizeFixed=function(e,ij,ik,il,im){var io=function(ip){var iq=ip.makeMutablePresModel(im,false);var ir={};ir.viO='fixed';ir.EUR=il;ir.rec=ik;var it=ir;iq._yu=it};cf.$0(e,ij,'fixed',ik,il,ik,il,io)};cf.setDashboardSizeAutomatic=function(e,ij){var ik=function(il){var im=il.makeMutablePresModel(ij,false);var io={};io.viO='automatic';var ip=io;im._yu=ip};cf.$0(e,'no','automatic',0,0,0,0,ik)};cf.setDashboardSizeRange=function(e,ij,ik,il,im,io,ip){var iq=function(ir){var it=ir.makeMutablePresModel(ip,false);var iu={};iu.viO='range';iu.McJ=ss.coalesce(io,0);iu.PiK=ss.coalesce(im,0);iu.pAn=ss.coalesce(il,0);iu.EVq=ss.coalesce(ik,0);var iv=iu;it._yu=iv};cf.$0(e,ij,'range',ss.coalesce(ik,0),ss.coalesce(il,0),ss.coalesce(im,0),ss.coalesce(io,0),iq)};cf.$0=function(e,ij,ik,il,im,io,ip,iq){var ir=new fJ;ir.c['gKD']=ij;ir.c['XwZ']=e;ir.c['EVq']=il|0;ir.c['pAn']=im|0;ir.c['PiK']=io|0;ir.c['McJ']=ip|0;ir.c['viO']=ik;ir.set_localWork(iq);ir.set_uiBlocking('immediately');ir.invoke$1()};cf.showDashboardTitle=function(e){var ij=new ga;ij.c['XwZ']=e;ij.set_uiBlocking('immediately');var ik=ij;ik.invoke$1()};cf.getUrlSubstitutionParameters=function(){var e=new dE;e.c['XwZ']=tsConfig.current_sheet_name;return e.invoke$1()};cf.isWebZoneUrlValid=function(e){var ij=new ed;ij.c['VvY']=e;return ij.invoke$1()};global.tab.DashboardCommands=cf;var cg=function(e){this.$c={};this.$7=[];this.$6=null;this.$a=0;this.$8=null;this.$b=null;this.$d=null;this.$9=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.$2$9=null;this.$2$10=null;this.$2$11=null;this.zonesModel=null;this.sheetListModel=null;this.autoUpdate=false;this.invalid=false;ew.call(this,e,new eT('mmK'.toString()));this.invalid=false;this.zonesModel=new ii(this);this.$a=0};cg.__typeName='tab.DashboardModel';cg.add_modifiedSheetsChanged=function(e){cg.$2$1=ss.delegateCombine(cg.$2$1,e)};cg.remove_modifiedSheetsChanged=function(e){cg.$2$1=ss.delegateRemove(cg.$2$1,e)};global.tab.DashboardModel=cg;var ch=function(){this.$1=false;ew.call(this,null,null);this.$1=false};ch.__typeName='tab.DashboardNewObjectsModel';global.tab.DashboardNewObjectsModel=ch;var ci=function(e){this.$2$1=null;this.dashboardSizeModel=null;this.layoutInfoModel=null;ew.call(this,e,new eT('OJ$'.toString()))};ci.__typeName='tab.DashboardSizeControlModel';global.tab.DashboardSizeControlModel=ci;var cj=function(e){this.$2$1=null;ew.call(this,e,new eT('_yu'.toString()))};cj.__typeName='tab.DashboardSizeModel';global.tab.DashboardSizeModel=cj;var ck=function(){};ck.__typeName='tab.DashboardZoneCommands';ck.moveZone=function(e,ij,ik,il){var im=bV.newDocCommand('move-zone');im.commandParams={};im.commandParams['BCp']=e;im.commandParams['$dg']=il;im.commandParams['XwZ']=tsConfig.current_sheet_name;var io=im.commandParams;var ip={};ip.thj=ij.x|0;ip.RAC=ij.y|0;io['cxk']=ip;var iq=im.commandParams;var ir={};ir.thj=ik.x|0;ir.RAC=ik.y|0;iq['ClZ']=ir;return bJ.$8(im,'immediately')};ck.hideZone=function(e){var ij=new dI;ij.c['XwZ']=tsConfig.current_sheet_name;ij.c['BCp']=e|0;ij.c['sPc']=false;ij.set_uiBlocking('immediately');ij.set_deferSuccess(true);return ij.invoke$1()};ck.selectZoneParent=function(e){var ij=new fz;ij.c['BCp']=e|0;ij.c['XwZ']=tsConfig.current_sheet_name;ij.invoke$1()};ck.getZoneResizeInfo=function(e,ij){var ik=new dw;ik.c['XwZ']=tsConfig.current_sheet_name;ik.c['thj']=e|0;ik.c['RAC']=ij|0;var il=ik;return il.invoke$1()};ck.resizeTiledZone=function(e,ij,ik,il){var im=new eA;im.c['mjq']=e;im.c['AxN']=ij|0;im.c['TDP']=ik;im.c['OAU']=il;im.set_uiBlocking('immediately');im.invoke$1()};ck.resizeFreeFormZone=function(e,ij,ik,il,im){var io=bV.newDocCommand('move-free-form-zone');io.commandParams={};io.commandParams['XwZ']=tsConfig.current_sheet_name;io.commandParams['BCp']=e;io.commandParams['thj']=ij|0;io.commandParams['RAC']=ik|0;io.commandParams['rec']=il|0;io.commandParams['EUR']=im|0;return bJ.$8(io,'immediately')};ck.toggleZoneTitle=function(e){var ij=bV.newDocCommand('toggle-zone-title');ij.commandParams={};ij.commandParams['BCp']=e;ij.commandParams['XwZ']=tsConfig.current_sheet_name;bJ.SendCommand(m.$0(ij,'immediately'))};ck.toggleFreeFormZone=function(e){var ij=bV.newDocCommand('toggle-freeform-zone');ij.commandParams={};ij.commandParams['BCp']=e;ij.commandParams['XwZ']=tsConfig.current_sheet_name;bJ.SendCommand(m.$0(ij,'immediately'))};ck.editWebZoneUrl=function(e,ij){var ik=new cP;ik.c['XwZ']=tsConfig.current_sheet_name;ik.c['BCp']=e|0;ik.c['VvY']=ij;ik.set_uiBlocking('immediately');var il=ik;il.invoke$1()};global.tab.DashboardZoneCommands=ck;var cl=function(){cl.$ctor1.call(this,{},{})};cl.__typeName='tab.DataAlert';cl.$ctor1=function(e,ij){this.$2=null;this.$3=false;this.$4=null;this.$5=null;this.$1=null;this.$0=null;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$1$6=null;this.$1=e;this.$0=ij};global.tab.DataAlert=cl;var cm=function(){};cm.__typeName='tab.DataAlertCommands';cm.updateCondition=function(e,ij,ik){e.set_threshold(ik);var il=e.get_conditionPresModel().dDA;if(tab.DoubleUtil.isValidDouble(ik)){il=tab.DoubleUtil.parseValidDouble(ik)}var im={};im.Fcc=ij;im.dDA=il;e.set_conditionPresModel(im)};cm.startNewDataAlert=function(e){(new gg).invoke$1().done(function(ij){var ik=ij.$c['wlo'];if(ss.isNullOrUndefined(ik)||ik.length===0){throw new ss.Exception('Unable to find alert measures for selection.')}e.set_threshold(ij.$c['nmL'].dDA.toString());e.set_measurePresModel(ij.$c['oFX']);e.set_conditionPresModel(ij.$c['nmL']);e.set_referenceLineSpecId(ij.$c['gFP'])}).fail(function(){throw new ss.Exception('Failed to fetch alert measures for selection')})};cm.updateReferenceLine=function(e,ij){if(tab.DoubleUtil.isValidDouble(e)&&ss.isValue(ij)){var ik=new Object;ik.commandNamespace='tabdoc';ik.commandName='set-reference-line-constant-value';ik.commandParams={};var il=ik;il.commandParams['gFP']=ij;il.commandParams['is$']=e;fB.executeServerCommand(il,'immediatelySubtle')}};global.tab.DataAlertCommands=cm;var cn=function(e){this.$1=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;ew.call(this,e,null);this.$1=[]};cn.__typeName='tab.DataConnectionAreaModel';global.tab.DataConnectionAreaModel=cn;var co=function(){};co.__typeName='tab.DataConnectionCommands';co.acceptConnectionVariables=function(e){var ij=new fL;ij.c['cmV']=e;ij.set_uiBlocking('immediately');ij.invoke$1()};co.editVariableByIndex=function(e,ij,ik,il,im,io){var ip={};ip['cmV']=e;ip['tLJ']=ij;ip['Ab$']=ik;ip['dJp']=il;ip['esa']=im;ip['fgO']=io;bJ.SendCommand(m.$0(bV.newDocCommand('set-variable-value-by-index',ip),'immediately'))};co.editVariableByInput=function(e,ij,ik,il,im){var io={};io['cmV']=e;io['tLJ']=ij;io['Ab$']=ik;io['dJp']=il;io['vau']=im;bJ.SendCommand(m.$0(bV.newDocCommand('set-variable-value-shim',io),'immediately'))};co.addVariable=function(e,ij){var ik=$.Deferred();var il={};il['cmV']=e;il['tLJ']=ij;bJ.SendCommand(m.$0(bV.newDocCommand('add-new-variable-value',il),'immediately',bJ.$3(ss.Int32).call(null,ik),function(im){ik.reject()}));return ik.promise()};co.deleteVariable=function(e,ij,ik,il){var im={};im['cmV']=e;im['tLJ']=ij;im['Ab$']=ik;bJ.SendCommand(m.$0(bV.newDocCommand('delete-variable-value',im),'immediately',function(io){il()}))};co.openDataConnectionArea=function(){K.get_instance().get_workbook().get_dataConnectionModel().update()};co.addPublishedDataSourceConnection=function(e,ij,ik){var il=new G;il.c['YnR']=e.get_repositoryUrl();il.c['_Zu02']=e.get_name();il.set_uiBlocking('immediatelySubtle');il.invoke$1().fail(ik).done(function(im){bJ.SendCommand(new w(function(io){K.get_instance().get_workbook().get_dataSchema().notifyNewDataSourceAdded(im.$c['UyO'])}));ij()})};global.tab.DataConnectionCommands=co;var cp=function(e){this.$2=null;ew.call(this,e,new eT('_$p'.toString()))};cp.__typeName='tab.DataConnectionPromptModel';global.tab.DataConnectionPromptModel=cp;var cq=function(e){ew.call(this,e,new eT('AlT'.toString(),1))};cq.__typeName='tab.DataConnectionVariableArrayModel';global.tab.DataConnectionVariableArrayModel=cq;var cr=function(e,ij){this.$3=null;this.$2=null;ew.call(this,e,new eT(ij.toString()))};cr.__typeName='tab.DataConnectionVariableModel';global.tab.DataConnectionVariableModel=cr;var cs=function(e){ew.call(this,e,new eT('mFS'.toString(),1))};cs.__typeName='tab.DataConnectionVariableValueArrayModel';global.tab.DataConnectionVariableValueArrayModel=cs;var ct=function(e,ij){ew.call(this,e,new eT(ij.toString()))};ct.__typeName='tab.DataConnectionVariableValueModel';global.tab.DataConnectionVariableValueModel=ct;var cu=function(e){this.$2=null;ew.call(this,e,new eT('vZU'.toString()))};cu.__typeName='tab.DataDictionaryModel';global.tab.DataDictionaryModel=cu;var cv=function(e){this.$3=null;this.$2$1=null;ew.call(this,e,new eT('AEl'.toString()))};cv.__typeName='tab.DataHighlighterModel';global.tab.DataHighlighterModel=cv;var cw=function(e){this.$2=null;this.$2$1=null;this.$2$2=null;this.dataSources=null;this.currentBlendingFields=null;this.blendingFieldCandidates=null;ew.call(this,e,new eT('dJ$1'.toString()));this.dataSources=null};cw.__typeName='tab.DataSchemaModel';global.tab.DataSchemaModel=cw;var cx=function(e,ij){this.$f=null;this.$d=null;this.$h=null;this.$l=null;this.$j=null;this.$g=null;this.$i=null;this.$e=null;this.$m=null;this.$k=0;this.$2$1=null;ew.call(this,e,new eT(ij,0));this.$f={};this.$g={};this.$d={};this.$e={};this.$h={};this.$i={};this.$l={};this.$m={};this.$j=[]};cx.__typeName='tab.DataSourceModel';cx.splitGlobalFieldName=function(e){return cx.$0(e).split('].[')};cx.$0=function(e){var ij=e;if(ij.length>=2&&ij.charCodeAt(0)===91&&ij.charCodeAt(ij.length-1)===93){return ij.substr(1,ij.length-2)}return ij};global.tab.DataSourceModel=cx;var cy=function(e){this.$1=null;ew.call(this,e,new eT('dhm'.toString()));this.$1={}};cy.__typeName='tab.DataSourcesModel';global.tab.DataSourcesModel=cy;var cz=function(e,ij){this.$5=null;this.$6=null;this.$5=e;this.$6=ij};cz.__typeName='tab.DefaultSessionErrorHandler';global.tab.DefaultSessionErrorHandler=cz;var cA=function(){this.$1=false;this.$0=false};cA.__typeName='tab.DeferLayoutImpl';cA.get_instance=function(){if(ss.isNullOrUndefined(cA.$0)){cA.$0=new cA}return cA.$0};global.tab.DeferLayoutImpl=cA;var cB=function(e){this.$2=null;this.$3=tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad');this.$2=e};cB.__typeName='tab.DeferredConnectionsCommandHandler';cB.shouldHandleWithGivenStatus=function(e){switch(e){case 401:case 503:case 500:{return true}default:{return false}}};cB.$0=function(e){var ij={};ij['exception']='DataSourceException';ij['name']=e.Fnn;ij['message']=e.zRk;ij['type']=e.ppl;ij['authoring']=tsConfig.is_authoring;ij['attributes']=e.uEl;var ik=ss.formatString('{0}/{1}/embeddedVizAuthentication.html?',tab.BrowserSupport.getOrigin(document.location),tsConfig.language);ik=ss.formatString('{0}path={1}',ik,encodeURIComponent(tsConfig.requestURI));ik=ss.formatString('{0}&attributes={1}',ik,encodeURIComponent(JSON.stringify(ij)));return ik};cB.$1=function(e){e=e.toLowerCase();var ij=ss.equalsT('badpassword',e)||ss.equalsT('badoauthcredentials',e)||ss.equalsT('NoAssociatedCustomOAuthKey'.toLowerCase(),e);return ij};global.tab.DeferredConnectionsCommandHandler=cB;var cC=function(){this.$0=tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')};cC.__typeName='tab.DeferredConnectionsSessionErrorHandler';global.tab.DeferredConnectionsSessionErrorHandler=cC;var cD=function(e){this.$1=null;this.$2=null;this.$2$1=null;ew.call(this,e,new eT('N_b'.toString()));this.$1=[];this.$2=new g(new f(this))};cD.__typeName='tab.DeviceLayoutInfoItemModel';global.tab.DeviceLayoutInfoItemModel=cD;var cE=function(e){this.$3$1=null;this.$3$2=null;hv.call(this,e,new eT('_fE'.toString()));this.set_referenceModel(new gE(this))};cE.__typeName='tab.DifferenceTableCalcModel';global.tab.DifferenceTableCalcModel=cE;var cF=function(e){this.$2$1=null;ew.call(this,e,new eT('jal1'.toString()));this.pm={}};cF.__typeName='tab.DistributionModel';global.tab.DistributionModel=cF;var cG=function(){};cG.__typeName='tab.DrawItemFontExtractor';global.tab.DrawItemFontExtractor=cG;var cH=function(e){this.$1=null;cX.call(this,e)};cH.__typeName='tab.DrillPathModel';global.tab.DrillPathModel=cH;var cI=function(){ss.makeGenericType(L,[Object,cJ]).call(this)};cI.__typeName='tab.DropReferenceLineOnFilterShelfCmd';global.tab.DropReferenceLineOnFilterShelfCmd=cI;var cJ=function(e){this.$c=null;this.$c=e};cJ.__typeName='tab.DropReferenceLineOnFilterShelfCmd$Response';global.tab.DropReferenceLineOnFilterShelfCmd$Response=cJ;var cK=function(){ss.makeGenericType(L,[Object,cL]).call(this)};cK.__typeName='tab.DropReferenceLineOnSchemaViewerCmd';global.tab.DropReferenceLineOnSchemaViewerCmd=cK;var cL=function(e){this.$c=null;this.$c=e};cL.__typeName='tab.DropReferenceLineOnSchemaViewerCmd$Response';global.tab.DropReferenceLineOnSchemaViewerCmd$Response=cL;var cM=function(){ss.makeGenericType(L,[Object,cN]).call(this)};cM.__typeName='tab.DropReferenceLineOnShelfCmd';global.tab.DropReferenceLineOnShelfCmd=cM;var cN=function(e){this.$c=null;this.$c=e};cN.__typeName='tab.DropReferenceLineOnShelfCmd$Response';global.tab.DropReferenceLineOnShelfCmd$Response=cN;var cO=function(e,ij){this.$2$1=null;ew.call(this,e,new eT(ij.toString()))};cO.__typeName='tab.EditValueWidgetModel';global.tab.EditValueWidgetModel=cO;var cP=function(){ss.makeGenericType(L,[Object,cQ]).call(this)};cP.__typeName='tab.EditWebZoneUrlCmd';global.tab.EditWebZoneUrlCmd=cP;var cQ=function(e){this.$c=null;this.$c=e};cQ.__typeName='tab.EditWebZoneUrlCmd$Response';global.tab.EditWebZoneUrlCmd$Response=cQ;var cR=function(e){this.$0=null;this.$0=e.slice(0)};cR.__typeName='tab.ErrorHandlerChain';global.tab.ErrorHandlerChain=cR;var cS=function(){};cS.__typeName='tab.ExportServerCommands';cS.exportImage=function(e,ij,ik,il,im){var io=new Object;io.commandNamespace='tabsrv'.toString();io.commandName='png-export-server'.toString();io.commandParams={};if(ss.isValue(e)){io.commandParams['Gge']=e}io.commandParams['hVl']=ij;io.commandParams['PUt']=JSON.stringify(il);var ip=im.length;var iq=new Array(ip);for(var ir=0;ir<ip;ir++){var it={};it.thj=ss.round(im[ir].x);it.RAC=ss.round(im[ir].y);iq[ir]=it}io.commandParams['Pzc']=JSON.stringify(iq);fB.executeServerCommand(io,'immediately',function(iu){var iv=iu;var iw=bJ.get().get_legacySession();iw.openDownload(iw.formatSessionTempfileReference(iv.uvn,true,true),ik)},null)};global.tab.ExportServerCommands=cS;var cT=function(){};cT.__typeName='tab.FailureHandler';cT.reportFailures=function(){if(tab.ErrorTrace.hasTraces()){var e=tab.ErrorTrace.dequeueTraces();var ij={};var ik=e[0].url;var il=e[0].userAgent;var im=0;for(var io=0;io<e.length;io++){var ip=e[io];ij['Error #'+im.toString()]=cT.postContentForStackTrace(ip);im++}bJ.get().get_legacySession().$7(ik,il,ij)}};cT.postContentForStackTrace=function(e){var ij=new ss.StringBuilder;ij.appendLine('name: '+e.name);ij.appendLine('message: '+e.message);ij.appendLine('error-mode: '+e.traceMode.toString());if(ss.isValue(e.locations)){ij.appendLine('stack:');for(var ik=0;ik<e.locations.length;ik++){var il=e.locations[ik];if(ss.isNullOrUndefined(il.url)&&ss.isNullOrUndefined(il.lineNo)&&ss.isNullOrUndefined(il.functionName)){continue}ij.appendLine(il.url+':'+il.lineNo+' '+il.functionName);if(ss.isValue(il.context)&&il.context.length>0){for(var im=0;im<il.context.length;im++){var io=il.context[im];var ip=io;if(io.length>120){if(ss.isValue(il.functionName)&&io.indexOf(il.functionName)>0){var iq=io.indexOf(il.functionName);var ir=Math.max(0,iq-60);var it=Math.min(ir+120,io.length-1);ip=io.substring(ir,it)}else{ip=io.substr(0,120)}}ij.append('    '+ip)}}}}return ij.toString()};cT.dispose=function(){cT.reportFailures();window.clearInterval(cT.$2);cT.$2=-1};global.tab.FailureHandler=cT;var cU=function(){};cU.__typeName='tab.FetchOrder';cU.orderFieldFromString=function(e){try{return e}catch(ij){return'unknown'}};global.tab.FetchOrder=cU;var cV=function(e){this.fieldCol=null;cX.call(this,e)};cV.__typeName='tab.FieldColumnModel';global.tab.FieldColumnModel=cV;var cW=function(){};cW.__typeName='tab.FieldInstanceType';global.tab.FieldInstanceType=cW;var cX=function(e){ew.call(this,e,new eT('Dkx'.toString()))};cX.__typeName='tab.FieldModel';global.tab.FieldModel=cX;var cY=function(e){this.$2$1=null;ew.call(this,e,new eT('TkR'.toString()))};cY.__typeName='tab.FieldPickerComboModel';global.tab.FieldPickerComboModel=cY;var cZ=function(e){this.fieldName=null;this.fieldCaption=null;this.fieldSummary=null;this.isInPrimaryDataSource=false;this.isFieldParameter=false;this.isTableCalc=false;this.fieldName=e.HBp;this.fieldCaption=e.OLk;this.fieldSummary=e.pDO;this.isInPrimaryDataSource=e.NZn;this.isFieldParameter=e.bTO;this.isTableCalc=e.trO};cZ.__typeName='tab.FieldPickerFieldModel';global.tab.FieldPickerFieldModel=cZ;var da=function(e){this.$2=0;this.$0=null;this.cl={};this.$1=0;this.$2=e;this.$0=new Array(e)};da.__typeName='tab.FifoCache';global.tab.FifoCache=da;var db=function(){};db.__typeName='tab.FilterClientCommands';db.setQuantitativeFilterRange=function(e,ij,ik,il,im){var io=new Object;io.commandNamespace='tabdoc'.toString();io.commandName='range-filter'.toString();io.commandParams={};bV.addVisualIdToCommand(io.commandParams,e);io.commandParams['lYz']=ij;if(ss.isValue(ik)){io.commandParams['wuE']=ik.toString()}if(ss.isValue(il)){io.commandParams['UrU']=il.toString()}io.commandParams['$mT']=im.toString();fB.executeServerCommand(io,'immediately')};db.setCategoricalFilterValues=function(e,ij,ik,il,im){var io=new Object;io.commandNamespace='tabdoc'.toString();io.commandName='categorical-filter'.toString();io.commandParams={};bV.addVisualIdToCommand(io.commandParams,e);io.commandParams['lYz']=ij;io.commandParams['CCe']=JSON.stringify(il||[]);io.commandParams['Txq']=ik.toString();io.commandParams['jAj']=im;fB.executeServerCommand(io,'immediately')};db.setCategoricalFilterValuesByIndex=function(e,ij,ik,il){if(!ss.isValue(ik)){ik='filter-replace'}if(!ss.isValue(il)){il=[]}var im=new Object;im.commandNamespace='tabdoc'.toString();im.commandName='categorical-filter-by-index'.toString();im.commandParams={};bV.addVisualIdToCommand(im.commandParams,e);im.commandParams['lYz']=ij;im.commandParams['UGd']=JSON.stringify(il);im.commandParams['Txq']=ik.toString();fB.executeServerCommand(im,'immediately')};db.modifyCategoricalFilterValues=function(e,ij,ik,il,im){if((!ss.isValue(ik)||ik.length===0)&&(!ss.isValue(il)||il.length===0)){return}var io=new Object;io.commandNamespace='tabdoc'.toString();io.commandName='categorical-filter'.toString();io.commandParams={};bV.addVisualIdToCommand(io.commandParams,e);io.commandParams['lYz']=ij;if(ss.isValue(ik)&&ik.length>0){io.commandParams['eob']=JSON.stringify(ik)}if(ss.isValue(il)&&il.length>0){io.commandParams['BkY']=JSON.stringify(il)}io.commandParams['Txq']='filter-delta'.toString();if(im){io.commandParams['AQ$']='filter-update-custom-domain'.toString()}fB.executeServerCommand(io,'immediately')};db.modifyCategoricalFilterValuesByIndex=function(e,ij,ik,il){if((!ss.isValue(ik)||ik.length===0)&&(!ss.isValue(il)||il.length===0)){return}var im=new Object;im.commandNamespace='tabdoc'.toString();im.commandName='categorical-filter-by-index'.toString();im.commandParams={};bV.addVisualIdToCommand(im.commandParams,e);im.commandParams['lYz']=ij;if(ss.isValue(ik)){im.commandParams['Vjd']=JSON.stringify(ik)}if(ss.isValue(il)){im.commandParams['ob_']=JSON.stringify(il)}im.commandParams['Txq']='filter-delta'.toString();fB.executeServerCommand(im,'immediately')};db.setCategoricalQuickFilterMode=function(e,ij,ik){var il=new Object;il.commandNamespace='tabdoc'.toString();il.commandName='categorical-quick-filter-mode'.toString();il.commandParams={};bV.addVisualIdToCommand(il.commandParams,e);il.commandParams['etp']=ik.toString();il.commandParams['HBp']=ij;fB.executeServerCommand(il,'immediately')};db.setCategoricalQuickFilterDomain=function(e,ij,ik){var il=new Object;il.commandNamespace='tabdoc'.toString();il.commandName='domain-quick-filter'.toString();il.commandParams={};bV.addVisualIdToCommand(il.commandParams,e);il.commandParams['tWP']=ik.toString();il.commandParams['HBp']=ij;fB.executeServerCommand(il,'immediately')};db.setPatternFilterState=function(e,ij,ik){var il=new Object;il.commandNamespace='tabdoc'.toString();il.commandName='categorical-quick-filter-pattern'.toString();il.commandParams={};bV.addVisualIdToCommand(il.commandParams,e);il.commandParams['QZc']=ik.toString();il.commandParams['HBp']=ij;fB.executeServerCommand(il,'immediately')};db.addManualFilterItems=function(e,ij,ik){var il={};var im={};im.Lox=0;im.dMo='';il.tbM='cstring';il.KSc=im;var io=ik['tuples'];var ip=[];for(var iq=0;iq<io.length;iq++){var ir=io[iq];ip.push(ir['d'])}il.uBu=ip;var it=new Object;it.commandNamespace='tabdoc'.toString();it.commandName='add-manual-items-to-filter'.toString();it.commandParams={};bV.addVisualIdToCommand(it.commandParams,e);it.commandParams['xaM']=JSON.stringify(il);it.commandParams['HBp']=ij;fB.executeServerCommand(it,'immediately')};db.levelDrill=function(e,ij,ik,il){var im=new Object;im.commandNamespace='tabdoc'.toString();im.commandName='level-drill'.toString();im.commandParams={};bV.addVisualIdToCommand(im.commandParams,e);im.commandParams['LIP']=il.toString();im.commandParams['Ene']=ik.toString();im.commandParams['rsY']=ij.toString();fB.executeServerCommand(im,'immediately')};db.updateCategoricalFilter=function(e){if(!K.get_instance().get_isLocalRenderMode()){return}var ij=function(){return true};var ik=function(il,im){var io=hL.lookupAlias(im,il,K.get_instance().get_dataDictionary());return!e.includesValue(io)};db.$5(e.get_filterField(),e.get_targetSheets(),ij,ik,true)};db.updateQuantitativeFilter=function(e){if(!K.get_instance().get_isLocalRenderMode()){return}var ij=function(){var il=!ss.isValue(e.get_currentMinVal())||ss.isValue(e.get_previousMinVal())&&tab.DoubleUtil.isGreaterThanOrApproximatelyEqual(ss.unbox(e.get_currentMinVal()),ss.unbox(e.get_previousMinVal()));var im=!ss.isValue(e.get_currentMaxVal())||ss.isValue(e.get_previousMaxVal())&&tab.DoubleUtil.isLessThanOrApproximatelyEqual(ss.unbox(e.get_currentMaxVal()),ss.unbox(e.get_previousMaxVal()));return il&&im};var ik=function(il,im){var io=hL.lookupRawDataValue(im,il,K.get_instance().get_dataDictionary());if(ss.isNullOrUndefined(io)||io==='%null%'){return false}if(il.get_dataType()==='date'||il.get_dataType()==='datetime'){var ip=tab.DateUtil.parsePresModelDate(io);return!e.valueInRange(tab.DateUtil.dateTimeAsOleDate(ip))}else{return!e.valueInRange(parseFloat(io))}};db.$5(e.get_filterField(),e.get_targetSheets(),ij,ik,false)};db.applyFilter=function(e,ij,ik){var il=e.get_vizDataModel();var im=il.getVizDataField(ij);var io=function(ip){return ik(im,ip)};return im.tupleIdsThatPass(io)};db.doRelativeDateQuickFilter=function(e,ij,ik,il,im){var io=new Object;io.commandNamespace='tabdoc'.toString();io.commandName='relative-date-filter'.toString();io.commandParams=db.createDoRelativeDateQuickFilterParams(e,ij,ik,il,im);fB.executeServerCommand(io,'immediately')};db.doLevelHierarchialFilter=function(e,ij,ik,il,im){var io=new Object;io.commandNamespace='tabdoc'.toString();io.commandName='hierarchical-filter'.toString();io.commandParams=db.$2(e,ij,ik,il,im);fB.executeServerCommand(io,'immediately')};db.doMemberHierarchialFilter=function(e,ij,ik,il,im){var io=new Object;io.commandNamespace='tabdoc'.toString();io.commandName='hierarchical-filter'.toString();io.commandParams=db.$3(e,ij,ik,il,im);fB.executeServerCommand(io,'immediately')};db.doRangeHierarchialFilter=function(e,ij,ik,il,im){var io=new Object;io.commandNamespace='tabdoc'.toString();io.commandName='hierarchical-filter'.toString();io.commandParams=db.$4(e,ij,ik,il,im);fB.executeServerCommand(io,'immediately')};db.resetQuantitativeFilter=function(e,ij){for(var ik=0;ik<ij.length;ik++){var il=ij[ik];var im=ez.getVisualModel(K.get_instance(),il);if(ss.isNullOrUndefined(im)){continue}if(db.$0(e,il)){var io=[];im.setFilteredTuples(e,io);im.setHiddenTuples(e,io)}hJ.validateVisualModel(im)}};db.createDoRelativeDateQuickFilterParams=function(e,ij,ik,il,im,io,ip){var iq={};bV.addVisualIdToCommand(iq,e);iq['lYz']=ij;iq['JAO']=ik;iq['woa']=il;if(il==='lastn'||il==='nextn'){iq['lZR']=im}if(ss.isValue(io)){iq['wNn']=io}if(ss.isValue(ip)){iq['$mT']=ip}return iq};db.$2=function(e,ij,ik,il,im){var io={};bV.addVisualIdToCommand(io,e);var ip={};ip['Wzq']=ik;ip['Gzj']=il;io['lYz']=ij;io['LG_']=ip;io['Txq']=im;return io};db.$3=function(e,ij,ik,il,im){var io={};bV.addVisualIdToCommand(io,e);var ip={};ip['eob']=ik;ip['BkY']=il;io['lYz']=ij;io['LG_']=ip;io['Txq']=im;return io};db.$4=function(e,ij,ik,il,im){var io={};bV.addVisualIdToCommand(io,e);var ip={};ip['Ni$']=ik;ip['yeE']=il;io['lYz']=ij;io['LG_']=ip;io['Txq']=im;return io};db.$0=function(e,ij){var ik=ez.getVisualModel(K.get_instance(),ij);return db.$1(ik,e)};db.$1=function(e,ij){if(ss.isValue(e)){return e.get_shouldUpdate()&&e.hasFilterFieldData(ij)}return false};db.$5=function(e,ij,ik,il,im){var io=new w(function(ip){for(var iq=0;iq<ij.length;iq++){var ir=ij[iq];var it=ez.getVisualModel(K.get_instance(),ir);if(ss.isNullOrUndefined(it)){continue}var iu=db.$1(it,e);if(!iu||!ik()||ss.isNullOrUndefined(it.get_vizDataModel().getVizDataField(e))){if(!im){ez.setVisualValidStateOnModel(ip,it,false)}}else{var iv=[];iv=db.applyFilter(it,e,il);it.setFilteredTuples(e,iv);if(!im){it.setHiddenTuples(e,iv)}ez.setVisualValidStateOnModel(ip,it,true)}}});io.set_commandName((im?'categorical-filter'.toString():'range-filter'.toString()));bJ.SendCommand(io)};global.tab.FilterClientCommands=db;var dc=function(e){this.$1=null;this.$2$1=null;ew.call(this,e,new eT('XIo'.toString()));this.$1=new gl(this);if(tab.FeatureFlags.isEnabled('StoryPointCache')&&ss.isNullOrUndefined(dc.presModelCache)){dc.presModelCache=new gm}};dc.__typeName='tab.FlipboardModel';global.tab.FlipboardModel=dc;var dd=function(e){this.$2$1=null;ew.call(this,e,new eT('lRq'.toString()))};dd.__typeName='tab.FlipboardNavigatorModel';global.tab.FlipboardNavigatorModel=dd;var de=function(){};de.__typeName='tab.FloatingToolbarClientCommands';de.setDefaultMapToolSelectionCommand=function(e){var ij=bV.newDocCommand('default-map-tool-selection');ij.commandParams={};ij.commandParams['DpY']=e;bJ.SendCommand(new m(ij,'immediately',null,null))};global.tab.FloatingToolbarClientCommands=de;var df=function(e){this.$1=null;cX.call(this,e)};df.__typeName='tab.FolderModel';global.tab.FolderModel=df;var dg=function(){this.$1$1=null;this.$1$2=null};dg.__typeName='tab.FontFamily';dg.$ctor1=function(e,ij){this.$1$1=null;this.$1$2=null;this.set_fontGroup(e);this.set_fonts(ij)};global.tab.FontFamily=dg;var dh=function(){};dh.__typeName='tab.FontNotificationUtil';dh.add_fontPropertiesIdentified=function(e){dh.$1$1=ss.delegateCombine(dh.$1$1,e)};dh.remove_fontPropertiesIdentified=function(e){dh.$1$1=ss.delegateRemove(dh.$1$1,e)};dh.add_allFontsFound=function(e){dh.$1$2=ss.delegateCombine(dh.$1$2,e)};dh.remove_allFontsFound=function(e){dh.$1$2=ss.delegateRemove(dh.$1$2,e)};dh.notifyFontsFromVisualListPresModel=function(e){if(ss.isNullOrUndefined(e)){return}var ij=new dG;var ik={};ik.VzB='rOX';ik.tOA=e.tOA;var il=ik;dh.$6(ij.extractFontFromPresModel(il))};dh.notifyFontsFromTextRegionPresModel=function(e){if(ss.isNullOrUndefined(e)){return}dh.$6(dh.$3(e.xBc))};dh.getFontsFromUberTipDataPresModel=function(e){if(ss.isNullOrUndefined(e)){return[]}var ij={};for(var ik=0;ik<e.cJ$.length;ik++){var il=e.cJ$[ik];var im=dh.$3(il.LSs);for(var io=0;io<im.length;io++){var ip=im[io];dh.$1(ij,ip)}}return _.values(ij)};dh.notifyFontsFromUberTipDataPresModel=function(e){dh.$6(dh.getFontsFromUberTipDataPresModel(e))};dh.notifyFontsFromPagePresModel=function(e){if(ss.isNullOrUndefined(e)){return}dh.$6(dh.$3(e.XjF))};dh.notifyFontsFromQuantitativeColorLegendPresModel=function(e){if(ss.isNullOrUndefined(e)){return}var ij={};dh.$1(ij,dh.$4(e.ZBT));dh.$2(ij,e.XjF);dh.$6(_.values(ij))};dh.notifyFontsFromCategoricalLegendPresModel=function(e){if(ss.isNullOrUndefined(e)){return}var ij={};dh.$1(ij,dh.$4(e.mCc));dh.$1(ij,dh.$4(e.viL));dh.$1(ij,dh.$4(e._PQ));dh.$2(ij,e.XjF);dh.$6(_.values(ij))};dh.notifyFontsFromUberTipPresModel=function(e){if(ss.isNullOrUndefined(e)){return}dh.$6(dh.$3(e.LSs))};dh.$3=function(e){var ij={};dh.$2(ij,e);return _.values(ij)};dh.$4=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.sGS)){return new di}var ij=new di;ij.set_fontFamily(e.sGS);ij.set_weight(ss.coalesce(e.cjf,''));ij.set_style(ss.coalesce(e.BxQ,''));return ij};dh.notifyFontsFromTextStylePresModel=function(e){var ij=[];var ik=dh.$4(e);if(!ss.isNullOrEmptyString(ik.get_fontFamily())){ij.push(ik)}dh.$6(ij)};dh.notifyFontsFromPDMarksPresModel=function(e){if(ss.isValue(e)&&ss.isValue(e.Smu)){var ij=e.Smu;var ik=ij['font'];var il=ik.uBu.length;var im={};for(var io=0;io<il;io++){dh.$0(im,ij,io)}if(ss.getKeyCount(im)>0){dh.$6(_.values(im))}}};dh.$1=function(e,ij){if(ss.isNullOrEmptyString(ij.get_fontFamily())){return}e[ij.get_hash()]=ij};dh.$2=function(e,ij){if(ss.isNullOrEmptyString(ij)){return}var ik=$(ij).find('[style]').addBack();for(var il=0;il<ik.length;il++){var im=ik[il].style.fontFamily;var io=ik[il].style.fontWeight;if(ss.isNullOrEmptyString(im)){continue}var ip=new di;ip.set_fontFamily(im);ip.set_weight(io);dh.$1(e,ip)}};dh.$0=function(e,ij,ik){var il='';var im='';var io='';if(ss.keyExists(ij,'font_style')&&parseInt(ij['font_style'].uBu[ik].toString())===1){im='italic'}if(ss.keyExists(ij,'font_weight')&&parseInt(ij['font_weight'].uBu[ik].toString())===1){il='bold'}if(ss.keyExists(ij,'font')){io=ij['font'].uBu[ik].toString()}if(ss.isNullOrEmptyString(io)){return}var ip=new di;ip.set_fontFamily(io);ip.set_weight(il);ip.set_style(im);var iq=ip;dh.$1(e,iq)};dh.$6=function(e){if(!ss.staticEquals(dh.$1$1,null)&&!tab.MiscUtil.isNullOrEmpty(e)){dh.$1$1(e)}};dh.$5=function(){if(!ss.staticEquals(dh.$1$2,null)){dh.$1$2()}};global.tab.FontNotificationUtil=dh;var di=function(){this.$2='normal';this.$3='normal';this.$1='';this.$0=''};di.__typeName='tab.FontProperties';global.tab.FontProperties=di;var dj=function(){};dj.__typeName='tab.FormatCommands';dj.showFormatPane=function(){dk.get_formatPaneModel().set_isVisible(true)};dj.hideFormatPane=function(){dk.get_formatPaneModel().set_isVisible(false)};dj.showFormatQuickNumberMenu=function(){dk.get_formatQuickNumberMenuModel().set_isVisible(true)};dj.hideFormatQuickNumberMenu=function(){dk.get_formatQuickNumberMenuModel().set_isVisible(false)};dj.getFormatQuickNumberMenu=function(){return(new dy).invoke$1().done(function(e){if(ss.isValue(e.$c['qIE'])){dk.get_formatQuickNumberMenuModel().update(e.$c['qIE'])}})};global.tab.FormatCommands=dj;var dk=function(e){this.$3=null;this.$4=false;this.$3$1=null;dm.call(this,e)};dk.__typeName='tab.FormatContainerModel';dk.get_formatPaneModel=function(){return K.get_instance().get_workbook().get_formatPaneModel()};dk.get_formatQuickNumberMenuModel=function(){return K.get_instance().get_workbook().get_formatQuickNumberMenuModel()};global.tab.FormatContainerModel=dk;var dl=function(e){dm.call(this,e)};dl.__typeName='tab.FormatControlModel';global.tab.FormatControlModel=dl;var dm=function(e){this.$2$1=null;ew.call(this,e,new eT('Bbu'.toString()))};dm.__typeName='tab.FormatItemModel';dm.createModel=function(e,ij){switch(ij.XHt){case'formatContainer':{var ik=new dk(e);ik.update(ij);return ik}case'formatControl':{var il=new dl(e);il.update(ij);return il}default:{return null}}};global.tab.FormatItemModel=dm;var dn=function(){ss.makeGenericType(L,[Object,dp]).call(this)};dn.__typeName='tab.GetAlertMeasuresFromSelectionCmd';global.tab.GetAlertMeasuresFromSelectionCmd=dn;var dp=function(e){this.$c=null;this.$c=e};dp.__typeName='tab.GetAlertMeasuresFromSelectionCmd$Response';global.tab.GetAlertMeasuresFromSelectionCmd$Response=dp;var dq=function(){ss.makeGenericType(L,[Object,dr]).call(this)};dq.__typeName='tab.GetDashboardDragDropCmd';global.tab.GetDashboardDragDropCmd=dq;var dr=function(e){this.$c=null;this.$c=e};dr.__typeName='tab.GetDashboardDragDropCmd$Response';global.tab.GetDashboardDragDropCmd$Response=dr;var ds=function(){ss.makeGenericType(L,[Object,dt]).call(this)};ds.__typeName='tab.GetDashboardSizingCmd';global.tab.GetDashboardSizingCmd=ds;var dt=function(e){this.$c=null;this.$c=e};dt.__typeName='tab.GetDashboardSizingCmd$Response';global.tab.GetDashboardSizingCmd$Response=dt;var du=function(){ss.makeGenericType(L,[Object,dv]).call(this)};du.__typeName='tab.GetDragPresModelCmd';global.tab.GetDragPresModelCmd=du;var dv=function(e){this.$c=null;this.$c=e};dv.__typeName='tab.GetDragPresModelCmd$Response';global.tab.GetDragPresModelCmd$Response=dv;var dw=function(){ss.makeGenericType(L,[Object,dx]).call(this)};dw.__typeName='tab.GetDragZoneResizeCmd';global.tab.GetDragZoneResizeCmd=dw;var dx=function(e){this.$c=null;this.$c=e};dx.__typeName='tab.GetDragZoneResizeCmd$Response';global.tab.GetDragZoneResizeCmd$Response=dx;var dy=function(){ss.makeGenericType(L,[Object,dz]).call(this)};dy.__typeName='tab.GetFormatQuickNumberMenuPresModelCmd';global.tab.GetFormatQuickNumberMenuPresModelCmd=dy;var dz=function(e){this.$c=null;this.$c=e};dz.__typeName='tab.GetFormatQuickNumberMenuPresModelCmd$Response';global.tab.GetFormatQuickNumberMenuPresModelCmd$Response=dz;var dA=function(){ss.makeGenericType(L,[Object,dB]).call(this)};dA.__typeName='tab.GetRefLineDragInfoCmd';global.tab.GetRefLineDragInfoCmd=dA;var dB=function(e){this.$c=null;this.$c=e};dB.__typeName='tab.GetRefLineDragInfoCmd$Response';global.tab.GetRefLineDragInfoCmd$Response=dB;var dC=function(){ss.makeGenericType(L,[Object,dD]).call(this)};dC.__typeName='tab.GetRefLineFormulaCmd';global.tab.GetRefLineFormulaCmd=dC;var dD=function(e){this.$c=null;this.$c=e};dD.__typeName='tab.GetRefLineFormulaCmd$Response';global.tab.GetRefLineFormulaCmd$Response=dD;var dE=function(){ss.makeGenericType(L,[Object,dF]).call(this)};dE.__typeName='tab.GetURLSubstitutionKeywordsCmd';global.tab.GetURLSubstitutionKeywordsCmd=dE;var dF=function(e){this.$c=null;this.$c=e};dF.__typeName='tab.GetURLSubstitutionKeywordsCmd$Response';global.tab.GetURLSubstitutionKeywordsCmd$Response=dF;var dG=function(){};dG.__typeName='tab.GroupFontExtractor';global.tab.GroupFontExtractor=dG;var dH=function(e){cV.call(this,e)};dH.__typeName='tab.GroupModel';global.tab.GroupModel=dH;var dI=function(){ss.makeGenericType(L,[Object,dJ]).call(this)};dI.__typeName='tab.HideZoneCmd';global.tab.HideZoneCmd=dI;var dJ=function(e){this.$c=null;this.$c=e};dJ.__typeName='tab.HideZoneCmd$Response';global.tab.HideZoneCmd$Response=dJ;var dK=function(){ss.makeGenericType(L,[Object,dL]).call(this)};dK.__typeName='tab.HighlightItemsByPatternMatchCmd';global.tab.HighlightItemsByPatternMatchCmd=dK;var dL=function(e){this.$c=null;this.$c=e};dL.__typeName='tab.HighlightItemsByPatternMatchCmd$Response';global.tab.HighlightItemsByPatternMatchCmd$Response=dL;var dM=function(){ss.makeGenericType(L,[Object,dN]).call(this)};dM.__typeName='tab.HighlightItemsCmd';global.tab.HighlightItemsCmd=dM;var dN=function(e){this.$c=null;this.$c=e};dN.__typeName='tab.HighlightItemsCmd$Response';global.tab.HighlightItemsCmd$Response=dN;var dO=function(){};dO.__typeName='tab.HistoryManager';dO.setInitialState=function(e){dO.addToHistory(e,null)};dO.addToHistory=function(e,ij){dO.$0();var ik={onBack:e,onForward:ij,id:dO.$7};var il={id:dO.$7,key:'_vql_state_'};dO.$7++;tab.HistoryUtil.pushState(window.self,il,null,null);dO.$4.set(ik.id,ik);dO.$6=dO.$7;return ik};dO.$0=function(){if(dO.$6<dO.$7){for(var e=dO.$6+1;e<=dO.$7;e++){dO.$4.delete(e)}}};dO.$2=function(e){if(ss.isNullOrUndefined(e)){return}var ij=e;if(ss.isNullOrUndefined(ij.state)||ss.isNullOrUndefined(ij.state.key)||ij.state.key!=='_vql_state_'){return}dO.$3(ij.state)};dO.$3=function(e){var ij=e.id<dO.$6;var ik=dO.$4.get(e.id);dO.$1(ij,ik);dO.$6=e.id};dO.$1=function(e,ij){if(e){if(!ss.staticEquals(ij.onBack,null)){ij.onBack()}}else if(!ss.staticEquals(ij.onForward,null)){ij.onForward()}};global.tab.HistoryManager=dO;var dP=function(){ss.makeGenericType(L,[Object,dQ]).call(this)};dP.__typeName='tab.HitTestSceneCmd';global.tab.HitTestSceneCmd=dP;var dQ=function(e){this.$c=null;this.$c=e};dQ.__typeName='tab.HitTestSceneCmd$Response';global.tab.HitTestSceneCmd$Response=dQ;var dR=function(){};dR.__typeName='tab.HTMLEscape';global.tab.HTMLEscape=dR;var dS=function(){};dS.__typeName='tab.IBrushingModelInfo';global.tab.IBrushingModelInfo=dS;var dT=function(){};dT.__typeName='tab.IContinuousRangeModel';global.tab.IContinuousRangeModel=dT;var dU=function(){};dU.__typeName='tab.IDrawItemFontExtractor';global.tab.IDrawItemFontExtractor=dU;var dV=function(){};dV.__typeName='tab.IExportImageHelper';global.tab.IExportImageHelper=dV;var dW=function(){};dW.__typeName='tab.IExportPdfHelper';global.tab.IExportPdfHelper=dW;var dX=function(){};dX.__typeName='tab.IHandleNotifications';global.tab.IHandleNotifications=dX;var dY=function(){this.$1=0;this.$0=null;this.$1=0;this.$0=[]};dY.__typeName='tab.ImageTileTracker';dY.$0=function(){dY.$2=dY.$2||new dY;return dY.$2};dY.$1=function(){return tab.Logger.lazyGetLogger(dY)};dY.incrementPendingCount=function(){dY.$0().$1++};dY.decrementPendingCount=function(){var e=dY.$0();if(e.$1>0){--e.$1;if(e.$1===0){for(var ij=0;ij<e.$0.length;ij++){var ik=e.$0[ij];try{ik()}catch(il){var e=ss.Exception.wrap(il)}}dY.reset()}}else{}};dY.callWhenImagesLoaded=function(e){if(dY.$0().$1===0){try{e()}catch(ij){var e=ss.Exception.wrap(ij)}}else{dY.$0().$0.push(e)}};dY.reset=function(){dY.$2=null};global.tab.ImageTileTracker=dY;var dZ=function(e){this.$1=null;this.$2$1=null;ew.call(this,e,new eT('wBL'.toString()));this.$1=e.get_zone()};dZ.__typeName='tab.ImageZoneModel';global.tab.ImageZoneModel=dZ;var ea=function(){this.primarySheet=null;this.suppressActivation=null;this.layoutStatus=null;this.cmdResult=null};ea.__typeName='tab.InvalidationInfo';global.tab.InvalidationInfo=ea;var eb=function(){};eb.__typeName='tab.IRemoteCommandHandler';global.tab.IRemoteCommandHandler=eb;var ec=function(){};ec.__typeName='tab.ISessionErrorHandler';global.tab.ISessionErrorHandler=ec;var ed=function(){ss.makeGenericType(L,[Object,ee]).call(this)};ed.__typeName='tab.IsWebZoneUrlValidCmd';global.tab.IsWebZoneUrlValidCmd=ed;var ee=function(e){this.$c=null;this.$c=e};ee.__typeName='tab.IsWebZoneUrlValidCmd$Response';global.tab.IsWebZoneUrlValidCmd$Response=ee;var ef=function(e,ij){this.$1=null;this.$2$1=null;ew.call(this,e,new eT('layer-encoding['+ij+']'));this.$1=new eu(this)};ef.__typeName='tab.LayerEncodingModel';global.tab.LayerEncodingModel=ef;var eg=function(e,ij,ik){this.layoutid=null;M.call(this,e,ik);this.layoutid=ij};eg.__typeName='tab.LayoutSession';global.tab.LayoutSession=eg;var eh=function(e,ij,ik,il){this.$3=null;this.$0=null;this.$4=null;this.$1=false;this.$2=false;this.$3=e;this.$0=ij;this.$2=ik;if(ss.isValue(il)){this.$4=il}else{this.$4=[]}};eh.__typeName='tab.LegacyCategoricalQuickFilterData';global.tab.LegacyCategoricalQuickFilterData=eh;var ei=function(e,ij){ej.call(this,e,ij)};ei.__typeName='tab.LegacyCategoricalQuickFilterModel';global.tab.LegacyCategoricalQuickFilterModel=ei;var ej=function(e,ij){this.$2$1=null;ew.call(this,e,new eT('filter['+ij.name.join('_')+']'));this.pm=ij};ej.__typeName='tab.LegacyFilterModel';ej.$1=function(e){if(ss.isValue(e)){var ij={t:e.t,v:e.v};tableau.format.isDateTimeWithNonMidnightTime(ij)}return false};ej.isQuantitativeTimestampFilter=function(e,ij,ik){var il=ej.$1(ij)||ej.$1(ik);if(!il&&ss.isValue(e)){if(ss.isValue(e.data)){il=il||ej.$1(e.data.min)||ej.$1(e.data.max)}if(!il&&ss.isValue(e.range)){il=il||ej.$1(e.range.min)||ej.$1(e.range.max)}}return il};ej.$0=function(e){return e.t==='t'||e.t==='d'};ej.isQuantitativeDateFilter=function(e,ij,ik){if(ss.isValue(ij)){return ej.$0(ij)}else if(ss.isValue(ik)){return ej.$0(ik)}else if(ss.isValue(e)){if(ss.isValue(e.data)){if(ss.isValue(e.data.min)){return ej.$0(e.data.min)}else if(ss.isValue(e.data.max)){return ej.$0(e.data.max)}}if(ss.isValue(e.range)){if(ss.isValue(e.range.min)){return ej.$0(e.range.min)}else if(ss.isValue(e.range.max)){return ej.$0(e.range.max)}}}return false};ej.isNormalValue=function(e){return ss.isValue(e)&&(ss.isNullOrUndefined(e.s)||ss.isNullOrUndefined(e.s))&&ss.isValue(e.v)};ej.timestampsWithSameDateOrNull=function(e){var ij=null;for(var ik=0;ik<e.length;ik++){var il=e[ik];if(ss.isNullOrUndefined(il)||il.s==='n'||ss.isNullOrUndefined(il.v)&&il.t==='t'){continue}if(!ej.isNormalValue(il)||il.t!=='t'){return false}var im=(ss.Nullable$1.ge(il.v,0)?Math.floor(il.v):Math.ceil(il.v));if(ss.isValue(ij)&&im!==ij){return false}ij=im}return ss.isValue(ij)};global.tab.LegacyFilterModel=ej;var ek=function(e,ij){ej.call(this,e,ij)};ek.__typeName='tab.LegacyHierarchicalQuickFilterModel';global.tab.LegacyHierarchicalQuickFilterModel=ek;var el=function(e){this.$2=true;this.$4=null;this.$5=0;this.$3=0;this.$2$1=null;ew.call(this,e,new eT('KmA'.toString()))};el.__typeName='tab.LegacyLegendModel';global.tab.LegacyLegendModel=el;var em=function(e,ij){ej.call(this,e,ij)};em.__typeName='tab.LegacyQuantitativeQuickFilterModel';global.tab.LegacyQuantitativeQuickFilterModel=em;var en=function(e){this.$3=null;this.$4=true;this.$7=0;this.$9=0;this.$8=null;this.$6=null;this.$5=null;this.$2$1=null;ew.call(this,e,new eT('quickFilterDisplay'))};en.__typeName='tab.LegacyQuickFilterDisplayModel';global.tab.LegacyQuickFilterDisplayModel=en;var eo=function(e,ij){ej.call(this,e,ij)};eo.__typeName='tab.LegacyRelativeDateQuickFilterModel';global.tab.LegacyRelativeDateQuickFilterModel=eo;var ep=function(e,ij){this.$1=0;this.$0=0;fb.call(this);if(e<=ij){this.$1=e;this.$0=ij}else{this.$1=ij;this.$0=e}};ep.__typeName='tab.LinearRangeTransform';global.tab.LinearRangeTransform=ep;var eq=function(e,ij,ik,il){this.$1=null;this.$0=null;this.$3=null;this.$2=false;this.$1=e;this.$0=ij;this.$3=ik;this.$2=il};eq.__typeName='tab.LocalUbertipInfo';global.tab.LocalUbertipInfo=eq;var er=function(e,ij){var ik=function(il){this.$0={};this.$2=new(ss.makeGenericType(d,[ss.makeGenericType(A,[e,ij])]));this.$1=0;this.$1=il};ss.registerGenericClassInstance(ik,er,[e,ij],{add:function(il,im){var io=this.$0[il];if(ss.isValue(io)){this.delete$1(il)}if(ss.getKeyCount(this.$0)===this.$1){this.delete$1(this.$2.$4.$0.$0)}io=new(ss.makeGenericType(B,[ss.makeGenericType(A,[e,ij])]))(new(ss.makeGenericType(A,[e,ij]))(il,im));this.$0[il]=io;this.$2.$0(io)},get:function(il){var im=this.$0[il];if(ss.isValue(im)){this.$2.$1(im);this.$2.$0(im);return im.$0.$1}return ss.getDefaultValue(ij)},has:function(il){return ss.keyExists(this.$0,il)},delete$1:function(il){if(!this.has(il)){return}var im=this.$0[il];delete this.$0[il];this.$2.$1(im)},clear:function(){var il=_.keys(this.$0);for(var im=0,io=il.length;im<io;im++){this.delete$1(il[im])}}},function(){return null},function(){return[]});return ik};er.__typeName='tab.LruCache$2';ss.initGenericClass(er,a,2);global.tab.LruCache$2=er;var es=function(e){this.$2=null;this.$2$1=null;this.$2$2=null;ew.call(this,e,new eT('RFX'.toString()));this.$2=new fa(this)};es.__typeName='tab.MapServerModel';global.tab.MapServerModel=es;var et=function(e){this.$3=[];this.$2=null;this.$2$1=null;ew.call(this,e,new eT('Inn'.toString()))};et.__typeName='tab.MarksCardModel';global.tab.MarksCardModel=et;var eu=function(e){this.$2=null;this.$3=null;this.$2$1=null;ew.call(this,e,new eT('DOI'.toString()));this.$2=e};eu.__typeName='tab.MarkSizeModel';global.tab.MarkSizeModel=eu;var ev=function(){};ev.__typeName='tab.MenuBarClientCommands';ev.getFileMainMenu=function(e){var ij=new W;ij.invoke$1().then(e)};ev.getDataMainMenu=function(e){var ij=new U;ij.invoke$1().then(e)};ev.getWorksheetMainMenu=function(e){var ij=new bg;ij.invoke$1().then(e)};ev.getDashboardMainMenu=function(e){var ij=new S;ij.invoke$1().then(e)};ev.getAnalysisMainMenu=function(e,ij){var ik=new O;if(!ss.isNullOrEmptyString(ij)){ik.c['UyO']=ij}ik.invoke$1().then(e)};ev.getMapMainMenu=function(e){var ij=new ba;ij.invoke$1().then(e)};ev.getFormatMainMenu=function(e){var ij=new Y;ij.invoke$1().then(e)};global.tab.MenuBarClientCommands=ev;var ew=function(e,ij){this.pm=null;this.presModelKey=null;this.parent=null;this.parent=e;this.presModelKey=ij};ew.__typeName='tab.Model';ew.fireDeferredEvents=function(ij,ik){var il=ew.$0;ew.$0=null;if(ss.isValue(il)){for(var im=0;im<il.length;im++){var io=il[im];try{io()}catch(ip){var e=ss.Exception.wrap(ip);if(ss.isValue(ij)){ij(e,ik)}}}}ew.$1=tab.MiscUtil.clearTimeout(ew.$1)};ew.clearDeferredEvents=function(){ew.$0=null};global.tab.Model=ew;var ex=function(e){var ij=function(){this.$0=null;this.$1$1=null;this.$1$2=null;this.$1$3=null};ss.registerGenericClassInstance(ij,ex,[e],{$1:function(ik){this.$1$1=ss.delegateCombine(this.$1$1,ik)},$2:function(ik){this.$1$1=ss.delegateRemove(this.$1$1,ik)},$5:function(ik){this.$1$2=ss.delegateCombine(this.$1$2,ik)},$6:function(ik){this.$1$2=ss.delegateRemove(this.$1$2,ik)},$3:function(ik){this.$1$3=ss.delegateCombine(this.$1$3,ik)},$4:function(ik){this.$1$3=ss.delegateRemove(this.$1$3,ik)},get_model:function(){return this.$0},set_model:function(ik){var il=this.$0;this.$0=ik;if(!ss.referenceEquals(il,this.$0)){if(ss.isValue(il)&&!ss.staticEquals(null,this.$1$2)){this.$1$2(il)}if(ss.isValue(this.$0)&&!ss.staticEquals(null,this.$1$1)){this.$1$1(this.$0)}if(!ss.staticEquals(null,this.$1$3)){this.$1$3()}}},addModelChangedHandler:function(ik){this.$3(ik);if(ss.isValue(this.$0)){ik()}return this},removeModelChangedHandler:function(ik){this.$4(ik)},addEventBinding:function(ik,il){this.$1(ik);if(ss.isValue(this.$0)){ik(this.$0)}this.$5(il);return this},removeEventBinding:function(ik,il){this.$2(ik);this.$6(il);if(!ss.staticEquals(null,il)&&ss.isValue(this.$0)){il(this.$0)}},dispose:function(){this.set_model(null);this.$1$1=null;this.$1$2=null;this.$1$3=null},newDisposableContext:function(){return new(ss.makeGenericType(ey,[e]))(this)}},function(){return null},function(){return[ss.IDisposable]});return ij};ex.__typeName='tab.ModelHolder$1';ss.initGenericClass(ex,a,1);global.tab.ModelHolder$1=ex;var ey=function(e){var ij=function(ik){this.$0=null;this.$1=null;this.$0=new tab.DisposableHolder;this.$1=ik};ss.registerGenericClassInstance(ij,ey,[e],{addModelChangedHandler:function(ik){this.$1.addModelChangedHandler(ik);this.$0.add(ss.mkdel(this,function(){this.$1.removeModelChangedHandler(ik)}));return this},addEventBinding:function(ik,il){this.$1.addEventBinding(ik,il);this.$0.add(ss.mkdel(this,function(){this.$1.removeEventBinding(ik,il)}));return this},dispose:function(){this.$0.dispose()}},function(){return null},function(){return[ss.IDisposable]});return ij};ey.__typeName='tab.ModelHolderContext$1';ss.initGenericClass(ey,a,1);global.tab.ModelHolderContext$1=ey;var ez=function(){};ez.__typeName='tab.ModelUtils';ez.getPendingZoneContentModel=function(e){if(!eV.get_progressiveLoadEnabled()){return null}var ij=(bJ.get_hasInstance()?bJ.get():null);if(ss.isNullOrUndefined(ij)||ss.isNullOrUndefined(ij.get_loader())){return null}return ij.get_loader().getPendingZoneContentModel(e)};ez.getViewSession=function(e){return ez.findContentDashboard().getViewSession(e)};ez.getModelsForViz=function(e){return function(ij,ik){var il=[];if(ss.isValue(ij)){var im=ij.get_zoneModels();for(var io=0;io<im.length;io++){var ip=im[io];if(ss.isInstanceOfType(ip.get_model(),e)&&ss.referenceEquals(ip.get_worksheetName(),ik.get_worksheetName())){il.push(ip.get_model())}}}return il}};ez.getVisualModels=function(e){var ij=ez.findContentDashboard(e);return ez.getVisualModelsFromDashboard(ij)};ez.getVisualModelsFromDashboard=function(e){var ij={};if(ss.isNullOrUndefined(e)){return ij}var ik=e.get_zoneModels();for(var il=0;il<ik.length;il++){var im=ik[il];var io=im.get_visualModel();if(ss.isValue(io)){ij[im.get_worksheetName()]=io}}if(eV.get_progressiveLoadEnabled()){var ip=(bJ.get_hasInstance()?bJ.get():null);if(ss.isValue(ip)&&ss.isValue(ip.get_loader())){var iq=ip.get_loader().getPendingVisuals();var ir=_.keys(iq);for(var it=0;it<ir.length;it++){var iu=ir[it];ij[iu]=iq[iu]}}}return ij};ez.getSheetInfoPresModel=function(e,ij){var ik=e.get_workbook();if(ss.isNullOrUndefined(ik)||ss.isNullOrUndefined(ik.get_sheetsInfo())){return null}var il=ik.get_sheetsInfo();for(var im=0;im<il.length;im++){var io=il[im];if(ss.referenceEquals(io.Gge,ij)){return io}}return null};ez.getVisualModel=function(e,ij){var ik=null;var il=ez.findContentDashboard(e);if(ss.isNullOrUndefined(il)){return ik}var im=il.get_zoneModels();for(var io=0;io<im.length;io++){var ip=im[io];var iq=ip.get_visualModel();if(ss.isValue(iq)){var ir=ip.get_worksheetName();if(ss.referenceEquals(ir,ij)){ik=iq;break}}}if(eV.get_progressiveLoadEnabled()&&ss.isNullOrUndefined(ik)){var it=(bJ.get_hasInstance()?bJ.get():null);if(ss.isValue(it)&&ss.isValue(it.get_loader())){ik=it.get_loader().getPendingVisual(ij)}}return ik};ez.getVisualModelFromVisualId=function(e,ij){if(ss.isNullOrUndefined(ij)){ij=K.get_instance()}var ik=null;var il=ez.findContentDashboard(ij);if(ss.isNullOrUndefined(il)){return ik}var im=il.get_zoneModels();for(var io=0;io<im.length;io++){var ip=im[io];var iq=ip.get_visualModel();if(ss.isValue(iq)){if(_.isEqual(iq.get_visualId(),e)){ik=iq;break}}}return ik};ez.getVisualId=function(e){return ez.getVisualModel(K.get_instance(),e).get_visualId()};ez.getFirstAvailableWebZoneName=function(e){var ij=null;var ik=ez.findContentDashboard(e);if(ss.isNullOrUndefined(ik)){return ij}var il=ik.get_zoneModels();for(var im=0;im<il.length;im++){var io=il[im];if(io.get_zoneType()==='web'){var ip=io.get_zoneId();ij='frame_'+ip.toString();break}}return ij};ez.isActiveZone=function(e){switch(tsConfig.current_sheet_type){case'dashboard':case'story':{return e===ez.findContentDashboard().get_activeZoneID()}case'worksheet':default:{return true}}};ez.getZoneIdForSheetName=function(e){var ij=ez.findContentDashboard();var ik=ij.get_zoneModels();for(var il=0;il<ik.length;il++){var im=ik[il];if(im.get_zoneType()==='viz'&&ss.referenceEquals(im.get_worksheetName(),e)){return im.get_zoneId()}}return-1};ez.hasBorder=function(e){return ss.isValue(e)&&e.ysh1!=='bs-none'&&e.s$V!==0};ez.createFilterModel=function(e,ij){switch(ij.type){case'Q':{return new em(e,ij)}case'H':{return new ek(e,ij)}case'C':{return new ei(e,ij)}case'RD':{return new eo(e,ij)}default:{return new ej(e,ij)}}};ez.findMatchingFilterModel=function(e,ij){var ik=ij.get_frame().param;return e.get_filterModels()[ik]};ez.setVisualValidStateOnModel=function(e,ij,ik){if(ss.isNullOrUndefined(ij)){return}ij.set_isVisualValid(ik)};ez.invalidateVisuals=function(e){if(ss.isNullOrUndefined(e)){return}for(var ij=0;ij<e.length;ij++){var ik=e[ij];var il=ez.getVisualModel(K.get_instance(),ik);if(ss.isValue(il)){hJ.invalidateVisualModel(il)}}};ez.setVisualValidStateOnPresModel=function(e,ij){if(ss.isNullOrUndefined(ij)){return}e.makeMutablePresModel(ij,false).GiX=false};ez.findContentDashboard=function(e){if(ss.isNullOrUndefined(e)){e=K.get_instance()}return e.get_workbook().findContentDashboard()};ez.findActiveVisual=function(){var e=ez.findContentDashboard();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_zoneModels())){return null}return e.get_activeVisual()};ez.findActiveOrDefaultVisual=function(){var e=ez.findContentDashboard();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_zoneModels())){return null}var ij=e.get_activeVisual();if(ss.isValue(ij)){return ij}var ik=e.get_zoneModels();for(var il=0;il<ik.length;il++){var im=ik[il];if(ss.isValue(im.get_visualModel())){return im.get_visualModel()}}return null};ez.reValidateVisualModels=function(){var e=ez.getVisualModels(K.get_instance());var ij=_.values(e);for(var ik=0;ik<ij.length;ik++){var il=ij[ik];il.reValidate()}};ez.findActivePaneSpecId=function(){var e=ez.findActiveOrDefaultVisual();if(ss.isValue(e)&&ss.isValue(e.get_marksCardModel())){return e.get_marksCardModel().get_activePaneSpecId()}return null};ez.hasAnyImpliedSelection=function(){var e=ez.getVisualModels(K.get_instance());var ij=_.keys(e);for(var ik=0;ik<ij.length;ik++){var il=ij[ik];var im=e[il];if(!im.get_impliedSelectionModel().isEmpty){return true}}return false};ez.mergeMapPresModelDelta=function(e,ij){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(ij)){return}var ik=_.keys(e);for(var il=0;il<ik.length;il++){var im=ik[il];var io=ij[im];if(typeof(io)==='undefined'){ij[im]=e[im]}else if(io===null){delete ij[im]}}};global.tab.ModelUtils=ez;var eA=function(){ss.makeGenericType(L,[Object,eB]).call(this)};eA.__typeName='tab.MoveDashboardEdgeCmd';global.tab.MoveDashboardEdgeCmd=eA;var eB=function(e){this.$c=null;this.$c=e};eB.__typeName='tab.MoveDashboardEdgeCmd$Response';global.tab.MoveDashboardEdgeCmd$Response=eB;var eC=function(){cX.call(this,null);var e={};e.HBp='';this.swapAndCopyPresModel(e)};eC.__typeName='tab.MultipleFieldsModel';global.tab.MultipleFieldsModel=eC;var eD=function(e){this.$6=null;this.$2=null;this.$3=true;this.$5=null;this.$4=null;this.$2$1=null;ew.call(this,e,new eT('cfW'.toString()));this.$6=e.get_zone()};eD.__typeName='tab.PageModel';global.tab.PageModel=eD;var eE=function(e){var ij=function(){};ss.registerGenericClassInstance(ij,eE,[e],{},function(){return null},function(){return[]});return ij};eE.__typeName='tab.PageOfItem$1';ss.initGenericClass(eE,a,1);global.tab.PageOfItem$1=eE;var eF=function(){};eF.__typeName='tab.PageServerCommands';eF.changePage=function(e,ij){var ik=new Object;ik.commandNamespace='tabdoc'.toString();ik.commandName='change-page'.toString();ik.commandParams=eF.$0(e,ij);fB.executeServerCommand(ik,'immediately')};eF.syncedChangePage=function(e,ij,ik,il){var im=new Object;im.commandNamespace='tabsrv'.toString();im.commandName='synced-change-page-server'.toString();im.commandParams=eF.$1(ij,ik,il);var io=new bB((tab.FeatureFlags.isEnabled('PageCardImprovements')?'none':'immediately'),function(ip){if(tab.FeatureFlags.isEnabled('PageCardImprovements')){var iq=ip.makeMutablePresModel(e,false);iq.f_c=il;var ir=ez.getVisualModel(K.get_instance(),ij.AVP);var it=ir.get_sceneModel();var iu=ip.makeMutablePresModel(it,false);iu.f_c=il;for(var iv=0;iv<iu.HUq.length;iv++){var iw=iu.HUq[iv];for(var ix=0;ix<iw.MdI.length;ix++){var iy=iw.MdI[ix];if(ss.isValue(iy.SgS)){var iz=iy.SgS.cPa[il*2];var iA=iy.SgS.cPa[il*2+1];iy.SgS.QNi=iz;iy.SgS.sDT=iA}}}var iB=ir.get_labelsModel();if(ss.isValue(iB)){var iC=ip.makeMutablePresModel(iB,false);iC.f_c=il;for(var iD=0;iD<iC.HUq.length;iD++){var iE=iC.HUq[iD];for(var iF=0;iF<iE.MdI.length;iF++){var iG=iE.MdI[iF];if(ss.isValue(iG.SgS)){var iH=iG.SgS.cPa[il*2];var iI=iG.SgS.cPa[il*2+1];iG.SgS.QNi=iH;iG.SgS.sDT=iI}}}}}},im);bJ.SendCommand(io)};eF.toggleTrails=function(e){var ij=new Object;ij.commandNamespace='tabdoc'.toString();ij.commandName='page-toggle-trails'.toString();ij.commandParams=eF.$2(e);fB.executeServerCommand(ij,'afterDelay')};eF.$0=function(e,ij){var ik={};bV.addVisualIdToCommand(ik,ij);ik['Onw']=e;return ik};eF.$1=function(e,ij,ik){var il={};bV.addVisualIdToCommand(il,e);il['BCp']=ij;il['Onw']=ik;return il};eF.$2=function(e){var ij={};bV.addVisualIdToCommand(ij,e);return ij};global.tab.PageServerCommands=eF;var eG=function(){};eG.__typeName='tab.PaneClientCommands';eG.setPanePrimitive=function(e,ij){var ik=bV.newDocCommand('set-primitive');ik.commandParams=eG.$0(e);ik.commandParams['WnZ']=ij.toString();bJ.SendCommand(new m(ik,'immediately',null,null))};eG.getDefaultShapeType=function(e,ij){var ik=bV.newDocCommand('get-default-shape');ik.commandParams=eG.$0(e);bJ.SendCommand(new m(ik,'none',function(il){ij((_.isString(il)?fO.fromString(il.toString()):null))},function(){ij(null)}))};eG.setDefaultShapeType=function(e,ij){var ik=bV.newDocCommand('set-default-shape');ik.commandParams=eG.$0(e);ik.commandParams['XRK']=eG.$7(ij);var il=new bB(((K.get_instance().get_renderMode()==='render-mode-client')?'none':'immediately'),function(im){eG.$4(e,ij,im)},ik,null,null);bJ.SendCommand(il)};eG.setShowMarkLabels=function(e,ij){var ik=bV.newDocCommand('toggle-mark-labels');ik.commandParams={};ik.commandParams['AVP']=tsConfig.current_sheet_name;if(ss.isValue(ij)&&ij.get_id()>0){ik.commandParams['FsL']=ij.get_id().toString()}var il=new bB((e?'immediately':'none'),function(im){eG.$6(e,im,(ss.isValue(ij)?ij.get_paneDescriptorKeys():null))},ik);bJ.SendCommand(il)};eG.toggleMarkLabels=function(e){if(tab.FeatureFlags.isEnabled('HideMarkLabelsAsLocalAction')){}var ij=bV.newDocCommand('toggle-mark-labels');ij.commandParams={};ij.commandParams['AVP']=tsConfig.current_sheet_name;if(ss.isValue(e)&&e.get_id()>0){ij.commandParams['FsL']=e.get_id().toString()}bJ.SendCommand(new m(ij,'immediately',null,null))};eG.setMarkSize=function(e,ij){var ik=bV.newDocCommand('set-mark-size');ik.commandParams={};ik.commandParams=eG.$0(e);ik.commandParams['_Tb']=ij.toString();bJ.SendCommand(new m(ik,'immediately',null,null))};eG.resetTooltip=function(e){var ij=bV.newDocCommand('reset-tooltip');ij.commandParams={};ij.commandParams['AVP']=tsConfig.current_sheet_name;if(ss.isValue(e)&&e.get_id()>0){ij.commandParams['FsL']=e.get_id().toString()}bJ.SendCommand(new m(ij,'immediately',null,null))};eG.getDefaultColor=function(e,ij){var ik=bV.newDocCommand('get-default-color');ik.commandParams=eG.$0(e);bJ.SendCommand(new m(ik,'none',function(il){ij((_.isString(il)?bG.fromColorCode(il.toString()):null))},function(){ij(null)}))};eG.setDefaultColor=function(e,ij){var ik=bV.newDocCommand('set-default-color');ik.commandParams=eG.$0(e);ik.commandParams['DFg']=ij.toRgba255();var il=new bB(((K.get_instance().get_renderMode()==='render-mode-client')?'none':'immediately'),function(im){eG.$3(e,ij,im)},ik);bJ.SendCommand(il)};eG.setSteppedColor=function(e,ij){var ik=bV.newDocCommand('set-quantitative-color');ik.commandParams=eG.$0(e);ik.commandParams['uUG']=ij.toString();bJ.SendCommand(new m(ik,'immediately',null,null))};eG.reverseColor=function(e,ij){var ik=bV.newDocCommand('set-quantitative-color');ik.commandParams=eG.$0(e);ik.commandParams['mss']=ij.toString();bJ.SendCommand(new m(ik,'immediately',null,null))};eG.setTotalsInEncoding=function(e,ij){var ik=bV.newDocCommand('set-quantitative-color');ik.commandParams=eG.$0(e);ik.commandParams['HKv']=ij.toString();bJ.SendCommand(new m(ik,'immediately',null,null))};eG.setQuantColorPalette=function(e,ij){var ik=bV.newDocCommand('set-quantitative-color');ik.commandParams=eG.$0(e);ik.commandParams['Uka']=ij;bJ.SendCommand(new m(ik,'immediately',null,null))};eG.setCatColorPalette=function(e,ij){var ik=bV.newDocCommand('set-categorical-color');ik.commandParams=eG.$0(e);ik.commandParams['Uka']=ij;var il=true;ik.commandParams['sNb']=il.toString();bJ.SendCommand(new m(ik,'immediately',null,null))};eG.setColorAlphaLevel=function(e,ij){if(isNaN(ij)){return}var ik=bV.newDocCommand('change-alpha-level');ik.commandParams=eG.$0(e);ik.commandParams['U$I']=ij.toString();var il=new bB(((K.get_instance().get_renderMode()==='render-mode-client')?'none':'immediately'),function(im){eG.$2(e,ij,im)},ik);bJ.SendCommand(il)};eG.boundingBoxPan=function(e,ij){var ik=bV.newDocCommand('bounding-box-pan');var il={};il['v_N']=ij;ik.commandParams=il;if(ss.isValue(e)){bV.addVisualIdToCommand(ik.commandParams,e)}fB.executeServerCommand(ik,'afterDelay',null,null)};eG.geographicSearchQuery=function(e,ij,ik,il,im){var io=bV.newDocCommand('geographic-search-query');var ip={};io.commandParams=ip;io.commandParams['Ikc']=ij;io.commandParams['wPK']=ik;io.commandParams['NjF']=il.toString();if(ss.isValue(e)){bV.addVisualIdToCommand(io.commandParams,e)}fB.executeServerCommand(io,'none',function(iq){im(iq)},null)};eG.setReferenceLineConstantValue=function(e,ij){var ik=bV.newDocCommand('set-reference-line-constant-value');ik.commandParams={};ik.commandParams['is$']=e;ik.commandParams['gFP']=ij;bJ.SendCommand(new m(ik,'immediately',null,null))};eG.$0=function(e){var ij={};ij['AVP']=tsConfig.current_sheet_name;ij['FsL']=e.get_id().toString();return ij};eG.$7=function(e){if(ss.isNullOrUndefined(e)){return null}return e.toString()};eG.$4=function(e,ij,ik){if(ss.isValue(ij.get_palette())&&ss.unbox(ij.get_palette())!=='filled'){return}var il=fo.convertShapeToNumber(ij);eG.$5(e,il,'shape_id',ik)};eG.$2=function(e,ij,ik){eG.$5(e,ij,'alpha',ik)};eG.$3=function(e,ij,ik){eG.$5(e,ij.toArgbInt(),'color',ik)};eG.$6=function(e,ij,ik){if(K.get_instance().get_renderMode()!=='render-mode-client'){return}var il=eG.$1(ij);if(ss.isNullOrUndefined(ik)){ik=_.keys(il)||[]}for(var im=0;im<ik.length;im++){var io=ik[im];var ip=il[io];ip.knq=e}};eG.$5=function(e,ij,ik,il){if(K.get_instance().get_renderMode()!=='render-mode-client'){return}var im=eG.$1(il);var io=e.get_paneDescriptorKeys();for(var ip=0,iq=io.length;ip<iq;ip++){var ir=im[io[ip]];ir.LTd[ik]=ij}};eG.$1=function(e){var ij=ez.getVisualModel(K.get_instance(),tsConfig.current_sheet_name);var ik=e.makeMutablePresModel(ij.get_sceneModel(),false);return ik.ObZ};global.tab.PaneClientCommands=eG;var eH=function(e){this.$0=null;this.update(e)};eH.__typeName='tab.PaneIdModel';eH.$ctor1=function(e,ij,ik){this.$0=null;this.$0={};this.$0['_WI']=e;this.$0['ASo']=ij;if(ik!==0){this.$0['jal']=ik}};global.tab.PaneIdModel=eH;var eI=function(e){this.$1=null;this.$2$1=null;ew.call(this,e,new eT('j_S'.toString()))};eI.__typeName='tab.ParameterCtrlModel';global.tab.ParameterCtrlModel=eI;var eJ=function(e){this.$2$1=null;ew.call(this,e,new eT('j_S'.toString()))};eJ.__typeName='tab.ParameterFilterDisplayModel';eJ.supportsParameterType=function(e){switch(e.NId){case'compact':case'list':{return true}case'type_in':case'slider':case'datetime':default:{return false}}};global.tab.ParameterFilterDisplayModel=eJ;var eK=function(e,ij){this.formattedValue=null;this.domainValue=null;this.formattedValue=e;this.domainValue=ij};eK.__typeName='tab.ParameterFilterItem';global.tab.ParameterFilterItem=eK;var eL=function(){};eL.__typeName='tab.ParameterServerCommands';eL.setParameterValue=function(e,ij,ik){eL.setParameterValue$1(e,ij,ik,null,null)};eL.setParameterValue$1=function(e,ij,ik,il,im){var io=new Object;io.commandNamespace='tabdoc'.toString();io.commandName='set-parameter-value'.toString();io.commandParams=eL.$0(e,ij,ss.coalesce(ik,false));fB.executeServerCommand(io,'immediately',il,im)};eL.$0=function(e,ij,ik){var il={};il['lYz']=e;il['vau']=ij;il['DsK']=ik;return il};global.tab.ParameterServerCommands=eL;var eM=function(e){this.$3$1=null;hv.call(this,e,new eT('oHf'.toString()))};eM.__typeName='tab.PercentTotalTableCalcModel';global.tab.PercentTotalTableCalcModel=eM;var eN=function(){};eN.__typeName='tab.PermissionManager';eN.buildCommandPermission=function(){var e=[];if(tsConfig.allow_filter){e.push(11);e.push(12);e.push(10);e.push(2);e.push(13);e.push(4);e.push(6)}if(tsConfig.allow_select){e.push(1);e.push(9)}if(tsConfig.allow_sheetlink){e.push(8)}if(tsConfig.allow_view_underlying||tsConfig.allow_summary){e.push(7)}if(tsConfig.is_authoring){e.push(15);e.push(17);e.push(18);e.push(19);e.push(20);if(!tsConfig.is_mobile){e.push(21)}if(tab.FeatureFlags.isEnabled('ReferenceLineNonModal')){e.push(22)}}return new bN(e)};eN.filterCommands=function(e,ij){for(var ik=e.length-1;ik>=0;ik--){if(!ij.test(e[ik])){ss.removeAt(e,ik)}}};global.tab.PermissionManager=eN;var eO=function(e,ij){this.$1=null;ew.call(this,e,new eT(ij.toString()))};eO.__typeName='tab.PillModel';global.tab.PillModel=eO;var eP=function(){ss.makeGenericType(L,[Object,eQ]).call(this)};eP.__typeName='tab.PingSessionCmd';global.tab.PingSessionCmd=eP;var eQ=function(e){this.$c=null;this.$c=e};eQ.__typeName='tab.PingSessionCmd$Response';global.tab.PingSessionCmd$Response=eQ;var eR=function(){};eR.__typeName='tab.PresentationModel';eR.commandResultByName=function(e,ij){var ik=bR.buildQualifiedCommandName(ij.commandNamespace,ij.commandName);var il=e['kqB'.toString()];var im=il.mxu;for(var io=0;io<im.length;io++){var ip=im[io];if(ss.referenceEquals(ip.$iY,ik)){return ip.nCR}}return null};eR.fromCommand=function(e,ij){var ik=eR.commandResultByName(e,ij);if(!ij.preserveRootResult&&ss.isValue(ik)&&ss.getKeyCount(ik)===1&&!ss.keyExists(ik,'XAS'.toString())){var il=new ss.ObjectEnumerator(ik);try{while(il.moveNext()){var im=il.current();return im.value}}finally{il.dispose()}}else{return ik}return null};eR.ensurePath=function(e,ij,ik){var il=ij;var im=e;var io;var ip;var iq=ik.get_pathList();for(var ir=0,it=iq.length;ir<it;ir++){var iu=iq[ir];var iv=iu.name;io=il[iv];ip=(ss.isValue(im)?im[iv]:null);if(!ss.isValue(io)){var iw=ir===it-1;var ix=null;if(iu.type===1&&ss.isValue(ip)){var iy=ip;var iz=[];for(var iA=0;iA<iy.length;iA++){iz[iA]=tab.MiscUtil.cloneObject(iy[iA])}ix=iz}else if(!iw&&ss.isValue(ip)){ix=eR.cloneObjWithScalarsOnly(ip)}else if(tab.FeatureFlags.isEnabled('ProgressiveDashboardLoad')&&iu.type===1){ix=[]}else{ix=new Object}il[iv]=ix}il=il[iv];im=ip}return il};eR.insertAtPath=function(e,ij,ik,il){eR.ensurePath(e,ij,ik);eR.$0(ij,ik,il)};eR.cloneObjWithScalarsOnly=function(e){if(!_.isObject(e)){return e}var ij=new Object;var ik=e;var il=Object.keys(ik);for(var im=0;im<il.length;im++){var io=il[im];var ip=ik[io];if(!_.isObject(ip)){ij[io]=ip}}return ij};eR.$0=function(e,ij,ik){if(ij.get_pathList().length===0){var il=ik;var im=new ss.ObjectEnumerator(il);try{while(im.moveNext()){var io=im.current();e[io.key]=io.value}}finally{im.dispose()}}else{var ip,iq;var ir=e;var it=ij.get_pathList();for(ip=0,iq=it.length;ip<iq-1;ip++){ir=ir[it[ip].name]}ir[it[iq-1].name]=ik}};global.tab.PresentationModel=eR;var eS=function(){this.$1=null;this.$0=[]};eS.__typeName='tab.PresModelPath';global.tab.PresModelPath=eS;var eT=function(e,ij){this.name=null;this.type=0;this.name=e;this.type=(ss.isValue(ij)?ij:0)};eT.__typeName='tab.PresModelPathItem';global.tab.PresModelPathItem=eT;var eU=function(){};eU.__typeName='tab.PresModelPathItemType';global.tab.PresModelPathItemType=eU;var eV=function(){this.$h=null;this.$n=null;this.$k=null;this.$m=null;this.$i=null;this.$g=false;this.$o=null;this.$j=null;this.$l=null;this.$1$1=null;this.$1$2=null};eV.__typeName='tab.ProgressiveLoader';eV.get_progressiveLoadEnabled=function(){return tab.FeatureFlags.isEnabled('ProgressiveDashboardLoad')&&!tsConfig.is_authoring&&!tsConfig.isPublic};eV.cloneZone=function(e){if(ss.isNullOrUndefined(e)){return e}var ij=e.wqq;e.wqq=null;var ik=tab.MiscUtil.cloneObject(e);ik.wqq=ij;e.wqq=ij;return ik};eV.removeZoneContent=function(e){if(ss.isValue(e)){var ij=e;delete ij['wqq']}return e};eV.getZoneRoot=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.res)||ss.isNullOrUndefined(e.res.mmK)){return null}var ij=e.res.mmK;if(ij.Jqz){var ik=ij.HCq;ij=null;var il=_.keys(ik);for(var im=0;im<il.length;im++){var io=il[im];var ip=ik[io];if(ip.jAM!=='flipboard'){continue}var iq=ih.getContent(ip,'XIo');if(ss.isNullOrUndefined(iq)||ss.isNullOrUndefined(iq.stK)){return null}var ir=iq.stK[iq.P_I.toString()];if(ss.isNullOrUndefined(ir)){return null}ij=ir.mmK;break}}return ij};eV.$3=function(e){if(ss.isNullOrUndefined(e)){return false}var ij=e.res;if(ss.isNullOrUndefined(ij)){return false}var ik=ij.mmK;if(ss.isNullOrUndefined(ik)){return false}var il=ik.HCq;if(ss.isNullOrUndefined(il)){return false}return true};eV.$1=function(){if(ss.isValue(eV.$7)){return}eV.$7={};eV.$7['flipboard-nav']=1;eV.$7['flipboard']=1;eV.$7['viz']=2;eV.$7['color']=3;eV.$7['shape']=3;eV.$7['size']=3;eV.$7['map']=3;eV.$7['filter']=4;eV.$7['highlighter']=4;eV.$7['paramctrl']=4;eV.$7['current-page']=4;eV.$7['web']=5;eV.$7['bitmap']=5;eV.$5={};eV.$5[1]={item1:-1,item2:1};eV.$5[2]={item1:1,item2:0.33};eV.$5[3]={item1:3,item2:0.33};eV.$5[4]={item1:3,item2:0.33};eV.$5[5]={item1:-1,item2:1};eV.$5[6]={item1:-1,item2:1}};eV.$2=function(e){switch(e){case'color':case'size':case'shape':case'filter':{return true}}return false};eV.$0=function(e,ij){if(ss.isNullOrUndefined(e)){return ij}return eR.cloneObjWithScalarsOnly(e)};global.tab.ProgressiveLoader=eV;var eW=function(e,ij){this.$2=true;this.$3=null;this.$2$1=null;ew.call(this,e,new eT(ij))};eW.__typeName='tab.QuantitativeColorLegendModel';global.tab.QuantitativeColorLegendModel=eW;var eX=function(e,ij,ik,il,im,io){this.$5=null;this.$2=null;this.$1=null;this.$0=null;this.$4=null;this.$3=null;this.$5=e;this.$2=ij;this.$1=ik;this.$0=il;this.$4=im;this.$3=io};eX.__typeName='tab.QuantitativeFilterData';global.tab.QuantitativeFilterData=eX;var eY=function(e){this.$4=true;this.$5=0;this.$7=0;this.$6=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;ew.call(this,e,new eT('WlK'.toString()));this.set_quickFilterType('unknown')};eY.__typeName='tab.QuickFilterDisplayModel';eY.supportsQuickFilterType=function(e){if(e.ps$.VOu==='categorical'){var ij=e.ps$;switch(ij.etp){case'check-list':case'radio-list':{return true}case'check-dropdown':case'dropdown':{return tab.FeatureParamsLookup.getBool(40)}case'slider':case'pattern':case'type-in-list':default:{return false}}}return false};global.tab.QuickFilterDisplayModel=eY;var eZ=function(e,ij){ew.call(this,e,ij)};eZ.__typeName='tab.QuickFilterModel';global.tab.QuickFilterModel=eZ;var fa=function(e){ew.call(this,e,new eT('mZ_'.toString()))};fa.__typeName='tab.RadialSelectionDistanceInfoModel';global.tab.RadialSelectionDistanceInfoModel=fa;var fb=function(){};fb.__typeName='tab.RangeTransform';global.tab.RangeTransform=fb;var fc=function(e){this.$3$1=null;hv.call(this,e,new eT('jFF'.toString()))};fc.__typeName='tab.RankTableCalcModel';global.tab.RankTableCalcModel=fc;var fd=function(){this.range=null;this.index=0;this.type=0;this.checkState=false};fd.__typeName='tab.RawChange';global.tab.RawChange=fd;var fe=function(e){this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;ew.call(this,e,new eT('jal1'.toString()));this.pm={};this.set_fromFieldPickerCombo(new cY(this));this.set_toFieldPickerCombo(new cY(this));this.set_validFormulaTypes([]);this.set_validPairedFormulaTypes([])};fe.__typeName='tab.ReferenceBandModel';global.tab.ReferenceBandModel=fe;var ff=function(e){this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;ew.call(this,e,new eT('Nit'.toString()));this.pm={};this.set_activeModel(null);this.set_activePane('line');this.set_lineModel(new fg(this));this.set_bandModel(new fe(this));this.set_distributionModel(new cF(this))};ff.__typeName='tab.ReferenceLineEditorModel';global.tab.ReferenceLineEditorModel=ff;var fg=function(e){this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;ew.call(this,e,new eT('jal1'.toString()));this.pm={};this.set_fieldPickerCombo(new cY(this));this.set_confidenceLevelCombo(new cO(this,'cuz'))};fg.__typeName='tab.ReferenceLineModel';global.tab.ReferenceLineModel=fg;var fh=function(e){this.$1=null;cX.call(this,e)};fh.__typeName='tab.RelationalTableModel';global.tab.RelationalTableModel=fh;var fi=function(e){this.$2=null;this.$1=null;this.$0=null;var ij=e.split('/');this.$2=ij[0].replace(new RegExp('^ds:'),'');this.$1=ij[1];if(ij.length>2){if(ij.length===3){throw new ss.Exception("new RepoPathObject() encountered repo path'"+e+"' with a badly formed customized view")}this.$0=ij[2]+'/'+ij[3]}else{this.$0=''}};fi.__typeName='tab.RepoPathObject';global.tab.RepoPathObject=fi;var fj=function(){ss.makeGenericType(L,[Object,fk]).call(this)};fj.__typeName='tab.ResizeAxisRegionCmd';global.tab.ResizeAxisRegionCmd=fj;var fk=function(e){this.$c=null;this.$c=e};fk.__typeName='tab.ResizeAxisRegionCmd$Response';global.tab.ResizeAxisRegionCmd$Response=fk;var fl=function(){ss.makeGenericType(L,[Object,fm]).call(this)};fl.__typeName='tab.ResizeHeaderRegionCmd';global.tab.ResizeHeaderRegionCmd=fl;var fm=function(e){this.$c=null;this.$c=e};fm.__typeName='tab.ResizeHeaderRegionCmd$Response';global.tab.ResizeHeaderRegionCmd$Response=fm;var fn=function(){};fn.__typeName='tab.SaveServerCommands';fn.saveWorkbook=function(e){var ij=function(ik){id.getWorldUpdate(function(){if(ss.isValue(e)){e(ik)}})};bJ.get().SaveWorkbook(tsConfig.current_workbook_name,tsConfig.current_project_id,tsConfig.showTabsWorkbook,ij)};fn.saveWorkbookAs=function(e,ij,ik,il,im,io,ip){bJ.get().SaveWorkbookAs(e,ij.id,ik,il,im,io,ip)};fn.transitionSessionAfterLogon=function(e){bJ.get().$A(e)};global.tab.SaveServerCommands=fn;var fo=function(){};fo.__typeName='tab.SceneDataUtil';fo.isPaneFlagSet=function(e,ij){return(e&fo.$1[ij])!==0};fo.isMarkFlagSet=function(e,ij){return(e&fo.$0[ij])!==0};fo.isCustomShape=function(e){return!ss.keyExists(fo.shapeMapping,e.toString())};fo.getFogBlendFactor=function(e){var ij=0.185000002384186;var ik=0.275000005960464;var il=75;var im=e.get_r()<=il&&e.get_g()<=il&&e.get_b()<=il;return(im?ik:ij)};fo.fogColorTransform=function(e,ij,ik){var il=ss.Int32.trunc(ij.get_r()+e.get_r()*ik);var im=ss.Int32.trunc(ij.get_g()+e.get_g()*ik);var io=ss.Int32.trunc(ij.get_b()+e.get_b()*ik);return new bG(il,im,io,e.get_a())};fo.applyFogToBackgroundColor=function(e,ij){var ik=245;if(e.get_r()>=ik&&e.get_g()>=ik&&e.get_b()>=ik){e=new bG(ik,ik,ik,e.get_a())}var il=ss.Int32.trunc((1-ij)*e.get_r());var im=ss.Int32.trunc((1-ij)*e.get_g());var io=ss.Int32.trunc((1-ij)*e.get_b());return new bG(il,im,io,e.get_a())};fo.createColorCollection=function(e,ij,ik){var il={};il['colorOverrideOpaque']=e.toRgb();il['colorOverrideNone']=e.toRgba();il['colorOverrideFog']=fo.fogColorTransform(e,ij,ik).toRgba();return il};fo.createOpaqueColorCollection=function(e){var ij={};var ik;ik=bG.fromColorCode(e['colorOverrideNone']);ij['colorOverrideNone']=ik.toRgb();ik=bG.fromColorCode(e['colorOverrideFog']);ij['colorOverrideFog']=ik.toRgb();ik=bG.fromColorCode(e['colorOverrideOpaque']);ij['colorOverrideOpaque']=ik.toRgb();return ij};fo.applyFoggingToColor=function(e,ij){var ik=fo.getFogBlendFactor(ij);var il=fo.applyFogToBackgroundColor(ij,ik);return fo.fogColorTransform(e,il,ik)};fo.convertShapeToNumber=function(e){var ij='shapeIDAsterisk';var ik=ss.isValue(e.get_palette())&&ss.unbox(e.get_palette())==='filled';switch(e.get_shapeType()){case'circle':{ij=(ik?'shapeIDFilledCircle':'shapeIDCircle');break}case'square':{ij=(ik?'shapeIDFilledSquare':'shapeIDSquare');break}case'plus':{ij=(ik?'shapeIDFilledPlus':'shapeIDPlus');break}case'times':{ij=(ik?'shapeIDFilledTimes':'shapeIDTimes');break}case'asterisk':{ij=(ik?'shapeIDFilledStar':'shapeIDAsterisk');break}case'diamond':{ij=(ik?'shapeIDFilledDiamond':'shapeIDDiamond');break}case'triangle':{ij=(ik?'shapeIDFilledTriangle':'shapeIDTriangle');break}case'down-triangle':{ij=(ik?'shapeIDFilledDownTriangle':'shapeIDDownTriangle');break}case'left-triangle':{ij=(ik?'shapeIDFilledLeftTriangle':'shapeIDLeftTriangle');break}case'right-triangle':{ij=(ik?'shapeIDFilledRightTriangle':'shapeIDRightTriangle');break}default:{throw new ss.Exception('Unable to map ShapeType to ShapeID')}}return parseInt(fo.reverseShapeMapping[ij])};fo.getNumPaneItems=function(e){return e.sDT-e.QNi};fo.getPaneDomainExtents=function(e){if(ss.isValue(e.MdI)){for(var ij=0;ij<e.MdI.length;ij++){var ik=e.MdI[ij];var il=ik.SgS;if(ss.isValue(il)&&ss.isValue(il.NQL)){return tab.RecordCast.doubleRectPresModelAsDoubleRectXY(il.NQL)}}}return null};fo.calcCellClip=function(e){var ij=0;var ik=fo.isPaneFlagSet(e,'clip-to-cell-x');var il=fo.isPaneFlagSet(e,'clip-to-cell-y');if(ik&&il){ij=3}else if(ik){ij=1}else if(il){ij=2}return ij};fo.isSupportedStampShape=function(e){if(!ss.keyExists(fo.reverseShapeMapping,e)){return false}var ij=true;switch(e){case'shapeIDFilledSquare':case'shapeIDSquare':{ij=false;break}default:{break}}return ij};global.tab.SceneDataUtil=fo;var fp=function(e){this.$2$1=null;this.$2$2=null;this.$2$3=null;ew.call(this,null,new eT('ZBC'.toString()));this.swapPresModel(e);this.set_sceneElementPM(e);this.set_paneId(new eH(e.Zpj));this.set_bounds({minX:e.DO$,minY:e.eIN,maxX:e.DO$+e.HBM,maxY:e.eIN+e.XGN})};fp.__typeName='tab.SceneElementModel';global.tab.SceneElementModel=fp;var fq=function(e){this.$8={};this.$4=[];this.$5=[];this.$6=null;this.$7=null;this.$3=null;this.$2$1=null;ew.call(this,e,new eT('X$'.toString()));this.$6=[];this.$7=[]};fq.__typeName='tab.SceneModel';fq.$0=function(e,ij){if(ss.keyExists(e,'background')){var ik=e['background'].get_visualListPresModel().tOA;for(var il=0;il<ik.length;il++){var im=ik[il];if(im.VzB==='nuS'){var io=im;return bG.fromColorCode(io.YhU)}}}return(ss.isValue(ij.oiS)?bG.fromColorCode(ij.oiS):fq.$1)};global.tab.SceneModel=fq;var fr=function(){};fr.__typeName='tab.SceneUtils';fr.getPaneDescriptorKeyFromTupleId=function(e,ij){for(var ik=0;ik<ij.HUq.length;ik++){var il=ij.HUq[ik];for(var im=0;im<il.MdI.length;im++){var io=il.MdI[im];if(ss.isValue(io.SgS)){var ip=ij.ObZ;var iq=new ss.ObjectEnumerator(ip);try{while(iq.moveNext()){var ir=iq.current();var it=ir.value.GKA['tuple_id'];var iu=_.find(it.uBu,function(iv){return iv===e});if(ss.isValue(iu)){return ir.key}}}finally{iq.dispose()}}}}return''};global.tab.SceneUtils=fr;var fs=function(e){this.$9=null;this.$8=null;this.$9=e;this.$8=this.generateFrequencyDescription()};fs.__typeName='tab.Schedule';fs.$1=function(e){var ij=new Date;ij.setHours(ss.Int32.div(e,60));ij.setMinutes(e%60);ij.setSeconds(0);return ij.toLocaleTimeString()};fs.$2=function(e,ij){var ik=e+ij;ik=ik%1440;if(ik<0){ik=1440+ik}return ik};fs.$0=function(e,ij){var ik=e+ij;if(ik>1440){return 1}else if(ik<0){return-1}return 0};global.tab.Schedule=fs;var ft=function(){};ft.__typeName='tab.SchemaClientCommands';ft.addFieldToSheet=function(e,ij){var ik=new Object;ik.commandNamespace='tabdoc'.toString();ik.commandName='add-to-sheet'.toString();ik.commandParams={};ik.commandParams['HBp']=e;ik.commandParams['AVP']=tsConfig.current_sheet_name;bJ.SendCommand(m.$0(ik,'immediately',function(il){ij()},function(il){ij()}))};ft.$0=function(e,ij){var ik=bV.newDocCommand(e);ik.commandParams={};ik.commandParams['HVp']=ij;bJ.SendCommand(new m(ik,'immediately',null,null))};ft.convertToMeasure=function(e){ft.$0('convert-to-measure',e)};ft.convertToDimension=function(e){ft.$0('convert-to-dimension',e)};ft.validateFieldCaption=function(e,ij,ik){var il=new Object;il.commandNamespace='tabdoc';il.commandName='validate-field-caption';il.commandParams={};il.commandParams['GOk']=e;il.commandParams['CST']=ij;fB.executeServerCommand(il,'afterDelay',function(im){ik(im)},null)};ft.editFieldCaption=function(e,ij,ik){var il=new Object;il.commandNamespace='tabdoc';il.commandName='edit-schema-caption';il.commandParams={};il.commandParams['GOk']=e;il.commandParams['CST']=ij;bJ.SendCommand(new bB('none',function(im){var io=im.makeMutablePresModel(ik.get_dataSourceModel(),false);for(var ip=0;ip<io.Dfq.length;++ip){if(ss.referenceEquals(io.Dfq[ip].HBp,e)){io.Dfq[ip].Mej=ij;break}}},il))};ft.setActiveDataSourceName=function(e){var ij={};ij['UyO']=e;var ik=bV.newDocCommand('set-active-datasource',ij);ik.commandParams['UyO']=e;bJ.SendCommand(new bB('none',function(il){var im=il.makeMutablePresModel(K.get_instance().get_workbook().get_dataSchema(),false);im.UyO=e},ik))};ft.requestSchemaContextMenu=function(e,ij){var ik=bV.newDocCommand('build-data-schema-context-menu');var il={};il['UyO']=e.get_name();ik.commandParams=il;bJ.SendCommand(m.$0(ik,'none',function(im){ij(im)},null))};ft.requestSchemaFieldContextMenu=function(e,ij,ik){var il=bV.newDocCommand('build-data-schema-field-context-menu');var im={};im['UyO']=e.get_name();im['HBp']=ij;il.commandParams=im;bJ.SendCommand(m.$0(il,'none',function(io){ik(io)},null))};ft.requestSchemaDataSourceContextMenu=function(e,ij){var ik=bV.newDocCommand('build-data-schema-data-source-context-menu');var il={};il['UyO']=e.get_name();ik.commandParams=il;bJ.SendCommand(m.$0(ik,'none',function(im){ij(im)},null))};ft.convertUnnamedFields=function(e){var ij=$.Deferred();var ik={};ik['HVp']=e;var il=new m(bV.newDocCommand('convert-unnamed-fields',ik),'immediately',bJ.$3(Array).call(null,ij),function(){ij.reject()});bJ.SendCommand(il);return ij.promise()};ft.toggleFieldBlending=function(e,ij){var ik=$.Deferred();var il={};il['lYz']=e;il['AVP']=tsConfig.current_sheet_name;var im=new bB('immediately',ij,bV.newDocCommand('toggle-field-blending',il),bJ.$3(Object).call(null,ik),function(){ik.reject()});bJ.SendCommand(im);return ik.promise()};ft.renameDataSource=function(e,ij){if(ss.isNullOrUndefined(e)){return}if(ss.referenceEquals(e.get_caption(),ij)){return}var ik=function(io){var ip=io.makeMutablePresModel(e,false);ip.Fnn=ij};var il={};il['UyO']=e.get_name();il['TyD']=ij;var im=new bB('none',ik,bV.newDocCommand('rename-data-source',il));bJ.SendCommand(im)};global.tab.SchemaClientCommands=ft;var fu=function(){};fu.__typeName='tab.SelectionClientCommands';fu.$k=function(){return tab.Logger.lazyGetLogger(fu)};fu.setActiveZone=function(e){if(!tsConfig.allow_select){return}if(ez.isActiveZone(e)){return}bJ.SendCommand(fu.buildActiveZoneClientCommand(e))};fu.clearActiveZone=function(){fu.setActiveZone(0)};fu.buildActiveZoneClientCommand=function(e){var ij=new bB('none',function(ik){fu.setActiveZoneLocal(e,ik)},fu.$1(e));return ij};fu.updateShowMeCommandsForSelectedFields=function(e,ij,ik){var il=new Object;il.commandNamespace='tabdoc'.toString();il.commandName='get-show-me'.toString();var im={};im['HVp']=e;im['AVP']=tsConfig.current_sheet_name;im['UyO']=ij;il.commandParams=im;bJ.SendCommand(m.$0(il,'none',function(io){ik(io)},function(io){ik(null)}))};fu.toggleLegendHighlight=function(e,ij,ik,il,im){if(!tsConfig.allow_highlight){return}var io=fu.buildToggleLegendHighlightCommand(ij,ik,il,im,e);bJ.SendCommand(io)};fu.buildToggleLegendHighlightCommand=function(e,ij,ik,il,im){var io=!ez.isActiveZone(im);var ip={};ip['dpp']=ij;ip['HhR']=ik;bV.addVisualIdToCommand(ip,e);if(io){fu.$0(im,ip)}var iq=new Object;iq.commandNamespace='tabsrv'.toString();iq.commandName='toggle-legend-server'.toString();iq.commandParams=ip;var ir=iq;var it=function(iu){if(ss.isValue(il)){il(iu)}};return new bB('immediately',function(iu){if(io){fu.setActiveZoneLocal(im,iu)}},ir,it,null)};fu.$0=function(e,ij){ij['TBd']=ez.findContentDashboard().pm.IJE;ij['BCp']=e};fu.selectRegion=function(e,ij,ik,il,im){if(!tsConfig.allow_select||K.get_instance().get_isOffline()){return}var io=new Object;io.commandNamespace='tabsrv'.toString();io.commandName='select-region-no-return-server'.toString();io.commandParams=fu.$9(ij,e,ik,il,im);fB.executeServerCommand(io,'afterDelay')};fu.selectRectRegionAndDoUbertip=function(e,ij,ik,il,im,io){if(!tsConfig.allow_select){return}var ip=new Object;ip.commandName='select-region-no-return-server'.toString();ip.commandParams=fu.$9(ij,e,ik,il,io);fu.$c(im,ip)};fu.selectCircleRegionAndDoUbertip=function(e,ij,ik,il,im,io,ip){if(!tsConfig.allow_select){return}var iq=new Object;iq.commandName='select-radial-region-no-return-server'.toString();var ir=fu.$9(ij,e,il,im);var it={};it.f_W={};it.f_W.thj=Math.round(ik.center.x);it.f_W.RAC=Math.round(ik.center.y);it.IEh=Math.round(ik.radius);ir['SWH']=it;ir['Xyn']=ip;iq.commandParams=ir;fu.$c(io,iq)};fu.selectPolyRegionAndDoUbertip=function(e,ij,ik,il,im,io){if(!tsConfig.allow_select){return}var ip=new Object;ip.commandName='select-lasso-region-no-return-server'.toString();var iq=fu.$9(ij,e,il,im);var ir=ik.length;var it=new Array(ir);for(var iu=0;iu<ir;iu++){var iv={};iv.thj=Math.round(ik[iu].x);iv.RAC=Math.round(ik[iu].y);it[iu]=iv}iq['WiQ']=it;ip.commandParams=iq;fu.$c(io,ip)};fu.$c=function(e,ij){ij.commandNamespace='tabsrv'.toString();var ik=new bB('afterDelay',null,ij,function(){e()},null);bJ.SendCommand(ik)};fu.clearAllSelections=function(e){if(!tsConfig.allow_select){return}var ij=ez.getZoneIdForSheetName(e.AVP);if(ij!==-1&&!ez.isActiveZone(ij)){fu.setActiveZone(ij);return}var ik=fu.buildClearAllSelectionsCommand(e);bJ.SendCommand(ik)};fu.buildClearAllSelectionsCommand=function(e){var ij=bV.newSrvCommand('select-none');var ik={};bV.addVisualIdToCommand(ik,e);ij.commandParams=ik;var il=new bB((K.get_instance().get_isLocalRenderMode()?'none':'afterDelay'),function(im){if(K.get_instance().get_isLocalRenderMode()){var io=fu.$4(im);if(io){F.executeActions(e.AVP,'on-select',[],im,true)}}},ij);return il};fu.clearAllSelectionsIncludingMaster=function(){if(!tsConfig.allow_select){return}var e=fu.buildClearAllSelectionsIncludingMasterCommand();bJ.SendCommand(e)};fu.buildClearAllSelectionsIncludingMasterCommand=function(){var e=new Object;e.commandNamespace='tabdoc'.toString();e.commandName='select-none-including-master'.toString();e.commandParams={};e.commandParams['Gge']=tsConfig.current_sheet_name;var ij=new bB((K.get_instance().get_isLocalRenderMode()?'none':'afterDelay'),function(ik){fu.$4(ik);fu.$2(ik);var il=ez.getVisualModelsFromDashboard(ez.findContentDashboard());var im=ss.getEnumerator(Object.keys(il));try{while(im.moveNext()){var io=im.current();var ip=il[io];F.executeActions(ip.get_visualId().AVP,'on-select',[],ik,true)}}finally{im.dispose()}},e);return ij};fu.selectLegendItemsLocal=function(e,ij,ik,il,im,io){if(!tsConfig.allow_select){return}var ip=fu.buildSelectLegendItemsLocalCommand(e,ij,ik,il,im,io);bJ.SendCommand(ip)};fu.$5=function(e,ij){var ik=ez.getVisualModelFromVisualId(ij);var il=ik.get_selectionsModel();var im=il.get_allLegendSelections();for(var io=0;io<im.length;io++){var ip=im[io];fu.$7(e,ip,false)}};fu.clearHighlighting=function(e,ij,ik,il){var im=bV.newDocCommand('clear-highlighting');var io={};bV.addVisualIdToCommand(io,ik);io['HBp']=ij;im.commandParams=io;var ip=new bB('none',function(iq){if(il){fu.$5(iq,ik);fu.$d([],e,ez.getVisualModelFromVisualId(ik),iq)}},im);bJ.SendCommand(ip)};fu.highlightItems=function(e,ij,ik,il,im){var io=bV.newDocCommand('highlight-items');var ip={};bV.addVisualIdToCommand(ip,il);ip['HBp']=ij;ip['kyj']=ik;io.commandParams=ip;var iq=new bB('none',function(ir){if(im){if(ik.length===0){fu.$5(ir,il)}fu.$d(ik,e,ez.getVisualModelFromVisualId(il),ir)}},io);bJ.SendCommand(iq)};fu.buildSelectLegendItemsLocalCommand=function(e,ij,ik,il,im,io){var ip=ez.getVisualModelFromVisualId(il);var iq=ip.get_selectionsModel();var ir=iq.getLegendSelection(io,im.get_legendNames());var it=fy.resolveLegendSelection(ij,ik,im,ir);var iu=new Object;iu.commandNamespace='tabdoc'.toString();iu.commandName='select-legend-items'.toString();iu.commandParams=fu.$8(it,il,im,io,e);var iv=iu;var iw=new bB('none',function(ix){fu.setActiveZoneLocal(e,ix);if(!ir.isAnyLegendItemSelected()&&it.length===0&&!ez.isActiveZone(e)){return}var iy=ix.makeMutablePresModel(ir,false);iy.kyj=it;var iz={};iz.jhL=im.get_legendTypeEnum();iz.pMg=im.get_legendNames();iy.VNi=iz;fu.$6(ix,iq.tupleSelection,ip);fu.$6(ix,iq.nodeSelection,ip);var iA=iq.get_allLegendSelections();for(var iB=0;iB<iA.length;iB++){var iC=iA[iB];if(!ss.referenceEquals(iC,ir)){fu.$6(ix,iC,ip)}}fu.$3(ix,il,true);fu.$f(it,im,ip,ix)},iv);return iw};fu.buildSelectNodeCommand=function(e,ij,ik,il,im,io,ip){var iq=ez.getZoneIdForSheetName(io.AVP);var ir=ez.getVisualModelFromVisualId(io);var it=ir.get_selectionsModel();var iu=it.nodeSelection;var iv=(F.willActionCauseTabChange(io.AVP,'on-select')?'afterDelay':'none');var iw=2;var ix=null;if(ss.isValue(im.XqN)&&ss.isValue(im.$UU)){var iy=im.nTH||0;var iz=im.Mk_||0;ix={x:iy,y:iz,w:im.XqN,h:im.$UU}}var iA=tab.RectXYUtil.shiftCoordsTowardsCenter(ij,ix,iw);var iB={x:iA.x,y:iA.y,w:0,h:0};var iC=bV.newSrvCommand('select-region-no-return-server');iC.commandParams=fu.$9(iB,e,ik,io);var iD=iq!==-1&&!ez.isActiveZone(iq);if(iD){fu.$0(iq,iC.commandParams)}var iE=iD||!K.get_instance().get_isTableCalcHighlightingMode();var iF=function(iH){if(iD){fu.setActiveZoneLocal(iq,iH)}if(K.get_instance().get_isTableCalcHighlightingMode()){return}var iI=iH.makeMutablePresModel(iu,false);fy.resolveNodeSelection(ik,il.get_groupItemNodes(),im,iu,iI);var iJ=ik!=='toggle'&&ik!=='range';var iK=it.tupleSelection.get_ids();if(iJ){fu.$6(iH,it.tupleSelection,ir);iK=[]}var iL=it.get_allLegendSelections();for(var iM=0;iM<iL.length;iM++){var iN=iL[iM];fu.$6(iH,iN,ir)}fu.$3(iH,io,true);ir.$4(iI.p$U);F.executeActions(io.AVP,'on-select',ir.getEffectiveSelectedTuples(iK),iH,true)};var iG=new bB(iv,(iE?iF:null),iC,function(){if(ss.isValue(ip)){ip()}},null);return iG};fu.selectNode=function(e,ij,ik,il,im,io,ip){if(!tsConfig.allow_select){return}var iq=fu.buildSelectNodeCommand(e,ij,ik,il,im,io,ip);bJ.SendCommand(iq)};fu.$b=function(e,ij){var ik=false;for(var il=0;il<e.length;il++){var im=e[il];for(var io=0;io<im.kDm.length;io++){var ip=im.kDm[io];if(ss.referenceEquals(ip,ij)){ik=true;break}}if(ik){break}}return ik};fu.selectMarksLocal=function(e,ij,ik,il,im,io){if(!tsConfig.allow_select){return}if(tab.MiscUtil.isNullOrEmpty(e)){fu.clearAllSelections(ij);return}if(K.get_instance().get_isOffline()){var ip=fu.buildSelectMarksLocalCommand(e,ij,ik,il,null,null);bJ.SendCommand(ip);im()}else{var iq=fu.buildSelectMarksLocalCommand(e,ij,ik,il,im,io);bJ.SendCommand(iq)}};fu.buildSelectMarksLocalCommand=function(e,ij,ik,il,im,io){var ip=ez.getZoneIdForSheetName(ij.AVP);var iq=ez.getVisualModelFromVisualId(ij);var ir=iq.get_selectionsModel();var it=ir.tupleSelection;var iu=F.getApplicableActions(iq.get_visualId().AVP,'on-select','filter');var iv=iu.length>0;var iw=iv&&!K.get_instance().get_isOffline();var ix=false;var iy;if(iw){iy='afterDelay';ix=fu.$b(iu,ij.AVP)}else{iy=(F.willActionCauseTabChange(ij.AVP,'on-select')?'afterDelay':'none')}var iz=new Object;iz.commandNamespace='tabdoc'.toString();iz.commandName='select'.toString();iz.commandParams=fu.$a(e,'tuples',ik,ij);var iA=iz;var iB=ip!==-1&&!ez.isActiveZone(ip);var iC=iB||!K.get_instance().get_isTableCalcHighlightingMode();var iD=function(iF){if(iB){fu.setActiveZoneLocal(ip,iF)}if(K.get_instance().get_isTableCalcHighlightingMode()){return}var iG=fy.resolveMarkSelection(ik,e,it,il);var iH=iF.makeMutablePresModel(it,false);iH.kyj=iG;if(ik!=='toggle'&&ik!=='range'){fu.$6(iF,ir.nodeSelection,iq)}var iI=ir.get_allLegendSelections();for(var iJ=0;iJ<iI.length;iJ++){var iK=iI[iJ];fu.$6(iF,iK,iq)}fu.$3(iF,ij,true);if(iw&&ix&&ss.isValue(io)){io(true)}F.executeActions(ij.AVP,'on-select',iq.getEffectiveSelectedTuples(iG),iF,true)};var iE=new bB(iy,(iC?iD:null),iA,function(iF){if(ss.isValue(im)){im()}if(ss.isValue(io)){io(false)}},function(iF){if(ss.isValue(io)){io(false)}});return iE};fu.$g=function(e,ij){if(ss.isNullOrUndefined(e)||!e.get_isBrushingComputed()){return}var ik=ez.getVisualModels(K.get_instance());var il=_.keys(ik);for(var im=0;im<il.length;im++){var io=il[im];if(!e.hasBrushingForSheet(io)){continue}var ip=ik[io];fu.$j(e,ij,ip,io);fu.$i(e,ij,ip,io);fu.$h(e,ij,ip,io);var iq=e.getLegendBrushing(io);var ir=ip.get_brushingsModel().get_allLegendSelections();for(var it=0;it<ir.length;it++){var iu=ir[it];fu.$e(ij,iu,iq)}}};fu.$e=function(e,ij,ik){var il=ij.get_selectionPresModel().VNi;var im=[];var io=N.$0(il.jhL,il.pMg);if(ss.isValue(ik[io])){im=ik[io]}if(im.length!==0||ij.get_selectionPresModel().kyj.length!==0){var ip=e.makeMutablePresModel(ij,false);ip.kyj=im}};fu.$h=function(e,ij,ik,il){var im=e.getNodeBrushing(il);if(im.length!==0||!ik.get_brushingsModel().nodeSelection.isEmpty){var io=ij.makeMutablePresModel(ik.get_brushingsModel().nodeSelection,false);io.p$U=im}};fu.$i=function(e,ij,ik,il){var im=ik.get_brushingsModel().trendLineSelection;var io=e.getTrendlineBrushing(il);if(io.length!==0||im.get_selectionPresModel().kyj.length!==0){var ip=ij.makeMutablePresModel(im,false);ip.kyj=io}};fu.$j=function(e,ij,ik,il){var im=e.getTupleBrushing(il);if(im.length!==0||ik.get_brushingsModel().tupleSelection.get_selectionPresModel().kyj.length!==0){var io=ij.makeMutablePresModel(ik.get_brushingsModel().tupleSelection,false);io.kyj=im}};fu.$2=function(e){var ij=ez.getVisualModels(K.get_instance());var ik=ss.getEnumerator(Object.keys(ij));try{while(ik.moveNext()){var il=ik.current();var im=ij[il];if(im.get_brushingsModel().get_isEmpty()){continue}var io=e.makeMutablePresModel(im.get_brushingsModel().tupleSelection,false);io.kyj=[];var ip=e.makeMutablePresModel(im.get_brushingsModel().nodeSelection,false);ip.p$U=[];var iq=im.get_brushingsModel().get_allLegendSelections();for(var ir=0;ir<iq.length;ir++){var it=iq[ir];if(it.isEmpty){continue}var iu=e.makeMutablePresModel(it,false);var iv=[];iu.kyj=iv}}}finally{ik.dispose()}};fu.$1=function(e){var ij=bV.newDocCommand('set-active-zone');var ik={};ik['TBd']=ez.findContentDashboard().pm.IJE;ik['BCp']=e;ij.commandParams=ik;return ij};fu.$d=function(e,ij,ik,il){var im=ik.get_vizDataModel();if(ss.isNullOrUndefined(im)){return}var io=im.getVizDataField(ij.get_fieldName());var ip=[io.get_fieldCaption()];var iq=N.createBrushingComputer(ij,ik,e,ip,true);fu.$g(iq,il)};fu.$f=function(e,ij,ik,il){var im=null;if(ij.get_isHighlightEnabled()){im=N.createBrushingComputer(ij,ik,e,ij.get_fieldCaptions(),ij.get_isOneWay())}fu.$g(im,il)};fu.$3=function(e,ij,ik){var il=false;var im=ez.getVisualModels(K.get_instance());var io=ss.getEnumerator(Object.keys(im));try{while(io.moveNext()){var ip=io.current();var iq=!ss.isNullOrUndefined(ij)&&ss.referenceEquals(ip,ij.AVP);if(!ik||!iq){var ir=ez.findContentDashboard();var it=!ik&&iq||!F.isFilterSource(ir,ip);var iu=im[ip];var iv=iu.get_selectionsModel().selectionModels;for(var iw=0;iw<iv.length;iw++){var ix=iv[iw];if(it||ix.get_selectionType()!=='tuples'&&ix.get_selectionType()!=='nodes'){il=fu.$7(e,ix,true)||il}}}}}finally{io.dispose()}return il};fu.$4=function(e){var ij=false;var ik=ez.getVisualModels(K.get_instance());var il=ss.getEnumerator(Object.keys(ik));try{while(il.moveNext()){var im=il.current();var io=ik[im];var ip=io.get_selectionsModel().selectionModels;for(var iq=0;iq<ip.length;iq++){var ir=ip[iq];ij=fu.$7(e,ir,true)||ij}}}finally{il.dispose()}return ij};fu.$9=function(e,ij,ik,il,im){var io={};bV.addVisualIdToCommand(io,il);var ip=new Object;var iq=hO.create(ip);iq.set_x(Math.round(e.x));iq.set_y(Math.round(e.y));iq.set_w(Math.round(e.w||0));iq.set_h(Math.round(e.h||0));iq.set_r(ij);if(ss.isValue(im)){iq.set_fns(im)}io['vpK']=ip;io['Mph0']=ik;return io};fu.$8=function(e,ij,ik,il,im){var io={};bV.addVisualIdToCommand(io,ij);io['HhR']=ik.get_legendNames();io['jhL']=il;io['kyj']=e;io['BCp']=im;return io};fu.$6=function(e,ij,ik){if(ss.isValue(ij)){fu.$7(e,ij,false);if(ij.get_selectionType()==='nodes'){ik.$1()}}};fu.$a=function(e,ij,ik,il){var im={};if(ss.isValue(il)){bV.addVisualIdToCommand(im,il)}var io={};io.kyj=e;io.coe=ij;im['Gvh']=io;im['bis']=fu.$l[ik];return im};fu.setActiveZoneLocal=function(e,ij){var ik=ez.findContentDashboard();var il=ij.makeMutablePresModel(ik,false);il.xdK=e};fu.$7=function(e,ij,ik){if(ij.isEmpty){return false}var il=e.makeMutablePresModel(ij,false);il.kyj=[];il.p$U=[];if(ik){ij.setOverriddenTupleIds([])}return true};global.tab.SelectionClientCommands=fu;var fv=function(e,ij){this.$4=null;this.$6=null;this.$5=null;this.$2$1=null;this.isEmpty=false;ew.call(this,e,new eT(ij.toString()));this.isEmpty=true};fv.__typeName='tab.SelectionModel';fv.$0=function(e,ij){var ik=new ss.StringBuilder;if(ss.isValue(e)){ik.append(e.join(';'))}ik.append('=');if(ss.isValue(ij)){ik.append(ij.join(';'))}return ik.toString()};global.tab.SelectionModel=fv;var fw=function(e,ij){this.$2$1=null;this.selectionModels=null;this.tupleSelection=null;this.nodeSelection=null;this.refLineSelection=null;this.trendLineSelection=null;ew.call(this,e,new eT(ij,1));this.selectionModels=[];this.tupleSelection=this.$1('tuples');this.nodeSelection=this.$1('nodes');this.trendLineSelection=this.$1('trend-lines');this.refLineSelection=this.$1('ref-lines')};fw.__typeName='tab.SelectionsModel';fw.$1=function(e){var ij={};ij.coe=e;switch(e){case'ref-lines':case'trend-lines':case'annotations':case'tuples':{ij.kyj=[];break}case'legend-items':{ij.VNi={};ij.kyj=[];break}case'nodes':{ij.p$U=[];break}default:{break}}return ij};fw.$0=function(e,ij){var ik=[];var il=new Set;for(var im=0;im<e.length;im++){var io=e[im];il.add(io)}for(var ip=0;ip<ij.length;ip++){var iq=ij[ip];if(il.has(iq)){il.delete(iq)}else{ik.push(iq)}}il.forEach(function(ir){ik.push(ir)});return ik};fw.computeTupleDictionaryDifference=function(e,ij){var ik=$.extend(true,new Object,e);var il=$.extend(true,new Object,ij);var im=[];var io=ss.getEnumerator(Object.keys(ik));try{while(io.moveNext()){var ip=io.current();if(!ss.keyExists(il,ip)){im.push(ik[ip])}else{delete il[ip]}}}finally{io.dispose()}var iq=ss.getEnumerator(Object.keys(il));try{while(iq.moveNext()){var ir=iq.current();im.push(il[ir])}}finally{iq.dispose()}return im};global.tab.SelectionsModel=fw;var fx=function(){this.selections=null};fx.__typeName='tab.SelectionsPresModel';global.tab.SelectionsPresModel=fx;var fy=function(){};fy.__typeName='tab.SelectionUtils';fy.isCategoricalAndTupleAssociatedHeader=function(e,ij){return!fy.isHeaderFullyQuantitativeOrHaveNoAssociatedTuples(ij)&&e.length===ij.length};fy.isHeaderFullyQuantitativeOrHaveNoAssociatedTuples=function(e){return tab.MiscUtil.isNullOrEmpty(e)};fy.resolveLegendSelection=function(e,ij,ik,il){var im=[];if(ss.isValue(ij)){var io=il.get_selectionPresModel()||{};switch(e){case'toggle':{if(ss.isValue(io.kyj)){ss.arrayAddRange(im,io.kyj)}for(var ip=0;ip<ij.length;ip++){var iq=ij[ip];var ir=ss.indexOf(im,iq.YLs);if(ir>=0){ss.removeAt(im,ir)}else{im.push(iq.YLs)}}break}case'range':{im=fy.$2(ij,ik,io);break}case'simple':{var it=(ss.isValue(io.kyj)?io.kyj:[]);if(it.length<=1){for(var iu=0;iu<ij.length;iu++){var iv=ij[iu];var iw=ss.indexOf(it,iv.YLs);if(iw>=0){ss.removeAt(im,iw)}else{im.push(iv.YLs)}}}else{ss.arrayAddRange(im,_.pluck(ij,'YLs'.toString()))}break}}}return Array.prototype.slice.call(im)};fy.resolveMarkSelection=function(e,ij,ik,il){var im=[];switch(e){case'simple':{if(!il&&ij.length===1&&ik.get_ids().length===1&&ij[0]===ik.get_ids()[0]){ss.clear(im)}else{ss.arrayAddRange(im,ij)}break}case'range':case'toggle':{ss.arrayAddRange(im,ik.get_ids());for(var io=0;io<ij.length;io++){var ip=ij[io];if(!ik.isObjectSelected(ip)){im.push(ip)}else if(!il){ss.remove(im,ip)}}break}}return Array.prototype.slice.call(im)};fy.resolveNodeSelection=function(e,ij,ik,il,im){var io=null;if(ss.isValue(ik)){switch(e){case'simple':{io=fy.$4(ik,il);break}case'toggle':{io=fy.$5(ik,il);break}case'range':{io=fy.$3(ij,ik,il);break}}}im.p$U=io||[]};fy.$2=function(e,ij,ik){var il=[];if(!ss.isValue(ik.kyj)){return il}ss.arrayAddRange(il,ik.kyj);ss.arrayAddRange(il,_.pluck(e,'YLs'.toString()));var im=ik.kyj[ik.kyj.length-1];var io=-1;for(var ip=0;ip<ij.get_items().length;ip++){if(ij.get_items()[ip].YLs===im){io=ip}}var iq=((e.length>0)?ss.indexOf(ij.get_items(),e[0]):-1);if(io<0||iq<0){return _.uniq(il)}var ir=Math.min(io,iq);var it=ir+Math.abs(io-iq)+1;for(var iu=ir;iu<it;iu++){il.push(ij.get_items()[iu].YLs)}return _.uniq(il)};fy.$0=function(e,ij,ik,il){var im=new Set;for(var io=0;io<e.length;io++){var ip=e[io];if(ss.isValue(ip.ZHX)){tab.SetUtilities.addAll(ss.Int32).call(null,im,ip.ZHX)}}for(var iq=0;iq<ij.length;iq++){var ir=(ik?ij[ij.length-1-iq]:ij[iq]);if(tab.SetUtilities.interserctWith(ss.Int32).call(null,im,ir.ZHX).size===0){continue}var it=fy.$1(e,ir,il);if(it!==-1){return it}}return-1};fy.$1=function(e,ij,ik){for(var il=0;il<e.length;il++){var im=e[il];var io=ss.isNullOrUndefined(ik)||_.isEqual(ik,ij.ZHX);if(io&&_.isEqual(im.ZHX,ij.ZHX)){var ip=tab.MiscUtil.isNullOrEmpty(im.wwF)&&tab.MiscUtil.isNullOrEmpty(ij.wwF);if(ip||_.isEqual(im.wwF,ij.wwF)){return il}}}return-1};fy.$3=function(e,ij,ik){var il=fy.$6(ij);var im=ik.get_nodes().slice(0);if(tab.MiscUtil.isNullOrEmpty(il.ZHX)){return im}if(im.length===0){im.push(il);return im}var io=fy.isCategoricalAndTupleAssociatedHeader(il.ZHX,il.wwF);var ip=fy.isHeaderFullyQuantitativeOrHaveNoAssociatedTuples(il.wwF);var iq=!io&&!ip;var ir=fy.$0(e,ik.get_nodes(),true,(io?il.ZHX:null));if(ir===-1){if(io||iq&&!ik.isNodeAncestorSelected(ij,false)){im.push(il)}return im}if(ik.isNodeSelected(ij)||ik.isNodeAncestorSelected(ij,io)){return im}var it=fy.$0(e,ik.get_nodes(),false,null);var iu=fy.$6(e[it]);if(io){if(!_.isEqual(iu.ZHX,il.ZHX)){im.push(il);return im}}else{var iv=fy.$1(e,iu,null)!==-1;if(ip&&!iv){return im}if(iq&&!iv){im.push(il);return im}}var iw=ss.indexOf(e,ij);var ix=Math.min(ir,iw);var iy=ix+Math.abs(ir-iw)+1;for(var iz=ix;iz<iy;iz++){var iA=e[iz];var iB=!io||_.isEqual(iA.ZHX,il.ZHX);if(iB&&!ik.isNodeAncestorSelected(iA,io)&&!ik.isNodeSelected(iA)){im.push(fy.$6(iA))}}return im};fy.$4=function(e,ij){if(!ij.isNodeSelected(e)||ij.get_nodes().length>1){return[fy.$6(e)]}return null};fy.$5=function(e,ij){var ik=[];ss.arrayAddRange(ik,ij.get_nodes());var il=ij.findNodeSelection(e);if(ss.isValue(il)){ss.remove(ik,il)}else{var im=fy.isCategoricalAndTupleAssociatedHeader(e.ZHX,e.wwF);if(!ij.isNodeAncestorSelected(e,im)){ik.push(fy.$6(e))}}return Array.prototype.slice.call(ik)};fy.$6=function(e){var ij={};ij.ZHX=e.ZHX||[];ij.wwF=e.wwF||[];return ij};global.tab.SelectionUtils=fy;var fz=function(){ss.makeGenericType(L,[Object,fA]).call(this)};fz.__typeName='tab.SelectZoneParentCmd';global.tab.SelectZoneParentCmd=fz;var fA=function(e){this.$c=null;this.$c=e};fA.__typeName='tab.SelectZoneParentCmd$Response';global.tab.SelectZoneParentCmd$Response=fA;var fB=function(){};fB.__typeName='tab.ServerCommands';fB.get_interceptorCount=function(){var e=0;var ij=new ss.ObjectEnumerator(fB.$1);try{while(ij.moveNext()){var ik=ij.current();e+=ik.value.length}}finally{ij.dispose()}return e};fB.$0=function(e,ij){return e+':'+ij};fB.executeServerCommand=function(e,ij,ik,il){var im=fB.$1[fB.$0(e.commandNamespace,e.commandName)];if(ss.isValue(im)){for(var io=0;io<im.length;io++){var ip=im[io];if(ip(e)===1){return}}}bJ.SendCommand(m.$0(e,ij,ik,il))};fB.intercept=function(e,ij){var ik='tabdoc'.toString();for(var il=0;il<e.length;il++){var im=e[il];fB.addCommandInterceptor(ij,ik,im.toString())}return ij};fB.addCommandInterceptor=function(e,ij,ik){var il=fB.$0(ij,ik);var im=fB.$1[il];if(ss.isNullOrUndefined(im)){im=[];fB.$1[il]=im}im.push(e);return e};fB.removeIntercept=function(e,ij){var ik='tabdoc'.toString();for(var il=0;il<e.length;il++){var im=e[il];fB.removeCommandInterceptor(ij,ik,im.toString())}};fB.removeCommandInterceptor=function(e,ij,ik){var il=fB.$0(ij,ik);var im=fB.$1[il];if(!ss.isNullOrUndefined(im)){for(var io=0;io<im.length;io++){if(ss.staticEquals(im[io],e)){ss.removeAt(im,io);if(im.length===0){delete fB.$1[il];return}}}}};fB.clearAllCommandInterceptors=function(){ss.clearKeys(fB.$1)};global.tab.ServerCommands=fB;var fC=function(e,ij,ik,il,im,io){this.$5=null;this.$2=null;this.$4=null;this.$3=null;this.$1=false;this.$5=e;this.$2=ij;this.$4=ik;this.$3=il;if(ss.isNullOrUndefined(im)||im){this.$1=this.$5.incrementWait(io)}};fC.__typeName='tab.SessionAjaxCallManager';global.tab.SessionAjaxCallManager=fC;var fD=function(e,ij){this.$6=false;this.$5=null;this.$7=0;this.$4=1000;this.$9='';this.$8=null;this.$8=e;this.$5=ij;this.$9=e.$4('status')};fD.__typeName='tab.SessionAjaxHandler';var fE=function(){};fE.__typeName='tab.SessionCommands';fE.ping=function(){(new eP).invoke$1()};global.tab.SessionCommands=fE;var fF=function(){};fF.__typeName='tab.SessionHeartbeat';fF.onVizportalPinged=function(){var e=tab.DateUtil.get_nowAsTime();fF.$0=e;if(e-fF.$1>fF.$3){fF.$1=e;fE.ping()}};fF.onVizqlPinged=function(){var e=tab.DateUtil.get_nowAsTime();fF.$1=e;if(e-fF.$0>fF.$2){fF.$0=e;hY.extendWorkgroupSession()}};global.tab.SessionHeartbeat=fF;var fG=function(){};fG.__typeName='tab.SessionServerCommands';fG.cancelLatestSetTimeout=function(){window.clearTimeout(fG.$0)};fG.destroySessionAndForward$1=function(e,ij){var ik=2000;var il=function(){if(ss.referenceEquals(tab.WindowHelper.getLocation(e).href,ij)){tab.WindowHelper.reload(e,true)}else{tab.WindowHelper.setLocationHref(e,ij)}};var im=null;im=function(){il();fG.cancelLatestSetTimeout();ik*=2;fG.$0=window.setTimeout(im,ik)};var io=function(){il();if(tab.BrowserSupport.get_isMac()&&(tab.BrowserSupport.get_isChrome()||tab.BrowserSupport.get_isFF())){fG.$0=window.setTimeout(im,ik)}};fG.destroySessionAndForward(io)};fG.destroySessionAndForward=function(e){var ij=bJ.get().get_legacySession();ij.get_waitHandler().showAndLock(false);var ik=ij.$0(function(){e()},function(){},function(){},'immediately');var il=ss.mkdict([]);il.type='DELETE';il.url=ij.$4('destroy');il.headers=ss.mkdict(['Accept','text/javascript']);il.dataType='json';ij.$b(il,ik)};global.tab.SessionServerCommands=fG;var fH=function(){ss.makeGenericType(L,[Object,fI]).call(this)};fH.__typeName='tab.SetDashboardCurrentLayoutCmd';global.tab.SetDashboardCurrentLayoutCmd=fH;var fI=function(e){this.$c=null;this.$c=e};fI.__typeName='tab.SetDashboardCurrentLayoutCmd$Response';global.tab.SetDashboardCurrentLayoutCmd$Response=fI;var fJ=function(){ss.makeGenericType(L,[Object,fK]).call(this)};fJ.__typeName='tab.SetDashboardSizingWithValidationCmd';global.tab.SetDashboardSizingWithValidationCmd=fJ;var fK=function(e){this.$c=null;this.$c=e};fK.__typeName='tab.SetDashboardSizingWithValidationCmd$Response';global.tab.SetDashboardSizingWithValidationCmd$Response=fK;var fL=function(){ss.makeGenericType(L,[Object,fM]).call(this)};fL.__typeName='tab.SetVariablesPromptRespondedCmd';global.tab.SetVariablesPromptRespondedCmd=fL;var fM=function(e){this.$c=null;this.$c=e};fM.__typeName='tab.SetVariablesPromptRespondedCmd$Response';global.tab.SetVariablesPromptRespondedCmd$Response=fM;var fN=function(){this.$2={};this.$1={};this.$3={};this.$1$1=null};fN.__typeName='tab.ShapeManager';fN.get_canvasCacheCapacity=function(){return fN.$1};fN.getCacheKey$1=function(e,ij,ik,il,im,io){return e+';'+ij+';'+ik+';'+il+';'+im+';'+io};fN.getCacheKey=function(e,ij,ik,il,im){return e+';'+ij+';'+ik+';'+il+';'+im};global.tab.ShapeManager=fN;var fO=function(e,ij){this.$0=null;this.$1=null;this.$0=e;this.$1=ij};fO.__typeName='tab.ShapeModel';fO.fromString=function(e){var ij=new RegExp('^(:([^\\/]+)\\/)?([^\\/]+)$');var ik=ij.exec(e);if(ss.isNullOrUndefined(ik)){return null}var il=ik[2];var im=ik[3];if(ss.isNullOrUndefined(im)){return null}var io=null;if(ss.isValue(il)){if(ss.referenceEquals(il,'filled'.toString())){io='filled'}else{return null}}var ip=im;return new fO(io,ip)};global.tab.ShapeModel=fO;var fP=function(){};fP.__typeName='tab.SheetClientCommands';fP.switchSheets=function(e){if(ss.isNullOrUndefined(e.oldSheetName)){e.oldSheetName=tsConfig.current_sheet_name}if(ss.equals(e.sheetName,e.oldSheetName)&&tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){return}bJ.get().prepareForSheetChange();var ij=fP.createSwitchSheetsCommand(e.sheetName);fB.executeServerCommand(ij,'immediately',e.successCallback,e.errorCallback)};fP.createSwitchSheetsCommand=function(e){var ij=new Object;ij.commandNamespace='tabsrv'.toString();ij.commandName='ensure-layout-for-sheet'.toString();ij.commandParams={};ij.commandParams['DYs']=e;return ij};fP.goToSheet=function(e){bJ.get().prepareForSheetChange();var ij=new Object;ij.commandNamespace='tabdoc'.toString();ij.commandName='goto-sheet'.toString();ij.commandParams={};ij.commandParams['Gge']=e;fB.executeServerCommand(ij,'immediately')};fP.createSheet=function(e,ij){var ik=new Object;ik.commandNamespace='tabdoc'.toString();ik.commandName='new-worksheet'.toString();fP.$0(ik,e,ij);fB.executeServerCommand(ik,'immediately',null,null)};fP.renameSheet=function(e,ij){var ik=new Object;ik.commandNamespace='tabdoc'.toString();ik.commandName='rename-sheet'.toString();ik.commandParams={};ik.commandParams['Gge']=e;ik.commandParams['tox']=ij;fB.executeServerCommand(ik,'immediately',null,null)};fP.createDashboardOrStory=function(e,ij,ik){var il=(ik?'new-storyboard':'new-dashboard');var im=bV.newDocCommand(il);fP.$0(im,e,ij);fB.executeServerCommand(im,'immediately',null,null)};fP.$0=function(e,ij,ik){e.commandParams={};if(ss.isValue(ij)){e.commandParams['tox']=ij}if(ik){e.commandParams['ncI']=ik.toString()}};fP.getSheetTabContextMenu=function(e,ij){var ik=bV.newDocCommand('build-sheet-tab-context-menu');ik.commandParams={};if(ss.isValue(e)){ik.commandParams['DDA']=e}fB.executeServerCommand(ik,'none',function(il){ij(il)},null)};fP.getSheetListContextMenu=function(e,ij,ik){var il=new bc;il.c['DDA']=e;il.c['$dg']=ij;var im=il;im.invoke$1().then(ik)};fP.getCaptionContextMenu=function(e,ij){var ik=new Q;ik.c['DDA']=e;var il=ik;il.invoke$1().then(ij)};fP.getTitleContextMenu=function(e,ij){var ik=new be;ik.c['DDA']=e;var il=ik;il.invoke$1().then(ij)};fP.$1=function(e){var ij={};ij.EUR=Math.floor(e.EUR);ij.rec=Math.floor(e.rec);return ij};fP.setPortSize=function(e){var ij=bV.newSrvCommand('set-port-size');ij.commandParams={};ij.commandParams['Gge']=tsConfig.current_sheet_name;var ik=tabBootstrap.ViewerBootstrap.get_instance().getWebClientPortSize('dashboard');var il=tabBootstrap.ViewerBootstrap.get_instance().getWebClientPortSize('worksheet');var im=ij.commandParams;var io={};io.EUR=il.h;io.rec=il.w;im['Yqf']=fP.$1(io);var ip=ij.commandParams;var iq={};iq.EUR=ik.h;iq.rec=ik.w;ip['jWP']=fP.$1(iq);fB.executeServerCommand(ij,'immediately');K.get_instance().get_workbook().withDashboard(function(ir){ir.set_portSize(e)})};global.tab.SheetClientCommands=fP;var fQ=function(e,ij){ew.call(this,e,new eT(ij.toString()))};fQ.__typeName='tab.SheetListItemModel';global.tab.SheetListItemModel=fQ;var fR=function(e){this.$2=null;this.$1=null;this.$2$1=null;ew.call(this,e,new eT('Tbf'.toString()));this.$1=new h(this)};fR.__typeName='tab.SheetListModel';global.tab.SheetListModel=fR;var fS=function(e,ij,ik){this.sheetid=null;this.$2$1=null;M.call(this,e,ik);this.sheetid=ij};fS.__typeName='tab.SheetSession';global.tab.SheetSession=fS;var fT=function(){};fT.__typeName='tab.ShelfClientCommands';fT.setItemEncodingType=function(e,ij,ik){var il=new Object;il.commandNamespace='tabdoc'.toString();il.commandName='set-item-encoding-type'.toString();il.commandParams={};bV.addVisualIdToCommand(il.commandParams,fT.$4());il.commandParams['FsL']=e.get_paneId().toString();il.commandParams['rsY']=ss.indexOf(e.get_pills(),ij).toString();il.commandParams['Srb']=ik.toString();il.commandParams['Ene']=e.get_shelfType().toString();fB.executeServerCommand(il,'immediately')};fT.startDrag=function(e,ij,ik){var il=$.Deferred();var im=new Object;im.commandNamespace='tabdoc'.toString();im.commandName='get-drag-pres-model'.toString();im.commandParams={};im.commandParams['AVP']=tsConfig.current_sheet_name;im.commandParams['beN']=JSON.stringify(false);if(ss.isValue(ik)){im.commandParams['FsL']=JSON.stringify(ik)}fT.$2(im.commandParams,e,ij);fB.executeServerCommand(im,'none',bJ.$3(Object).call(null,il),function(){il.reject()});return il};fT.drillOnPill=function(e,ij,ik){var il=new Object;il.commandName='level-drill'.toString();il.commandNamespace='tabdoc'.toString();il.commandParams={};il.commandParams['AVP']=tsConfig.current_sheet_name;il.commandParams['Ene']=e.get_shelfType().toString();il.commandParams['rsY']=ik.toString();il.commandParams['LIP']=JSON.stringify(ij.get_shouldDrill());if(e.get_shelfType()==='encoding-shelf'){il.commandParams['FsL']=e.get_paneId().toString()}bJ.SendCommand(m.$0(il,'immediately'))};fT.removeShelfPill=function(e,ij){var ik=fT.$1();ik.commandName='drop-nowhere'.toString();var il=ik.commandParams;il['FsL']=e.get_paneId();il['tQC']=e.get_shelfType().toString();fT.$6(il,ij.get_column(),ij.get_encodingType());il['AEa']=[ij.pm.bbx];il['Qah']='drag-drop-shelf';var im=il['HzK'];im.Ene=e.get_shelfType();im.ZMD=ss.indexOf(e.get_pills(),ij);im.UYq='replace';var io=new bB('immediately',function(ip){fT.$5(ip.makeMutablePresModel(e,false),ij.pm)},ik);bJ.SendCommand(io)};fT.replaceShelfPill=function(e,ij,ik,il,im,io){var ip=ss.indexOf(e.get_pills(),ij);var iq=im.ZMD;var ir=fT.$1();var it=ir.commandParams;fT.$6(it,ij.get_column(),ij.get_encodingType());it['AEa']=[ij.pm.bbx];it['Qah']='drag-drop-shelf';var iu=it['HzK'];iu.Ene=e.get_shelfType();iu.ZMD=ip;iu.UYq='replace';it['FsL']=ik.get_paneId();it['QjG']='drag-drop-shelf';if(ss.isNullOrUndefined(im)){im=it['FpB'];im.Ene=ik.get_shelfType();im.ZMD=iq;im.Srb=il.get_encodingType();im.UYq='replace'}else{it['FpB']=im}if(io){it['ikr']=fT.$8}var iv=new k(function(iw){if(!io){var ix=iw.makeMutablePresModel(e,false);fT.$5(ix,ij.pm)}var iy=iw.makeMutablePresModel(ik,false);fT.$5(iy,il.pm);var iz={};iz.MzX=ij.pm.MzX;iz.HBp=ij.pm.HBp;iz.Srb=il.get_encodingType();iz.Sfw=il.pm.Sfw;fT.$0(iy,iz,im,0)},ir,ik.get_shelfType());bJ.SendCommand(iv)};fT.moveShelfPill=function(e,ij,ik,il,im){var io=fT.$1();var ip=io.commandParams;ip['AEa']=[ik.pm.bbx];fT.$6(ip,ik.get_column(),ik.get_encodingType());if(im){ip['ikr']=fT.$8}ip['Qah']='drag-drop-shelf';var iq=ip['HzK'];iq.Ene=e.get_shelfType();iq.ZMD=ss.indexOf(e.get_pills(),ik);iq.UYq='replace';if(ss.isNullOrUndefined(il)){il=ip['FpB'];il.Ene=ij.get_shelfType();il.ZMD=0;il.UYq=(ss.referenceEquals(e,ij)?'swap':'insert')}ip['QjG']='drag-drop-shelf';ip['FsL']=ij.get_paneId();ip['FpB']=il;var ir=new k(function(it){var iu={};iu.MzX=ik.pm.MzX;iu.HBp=ik.pm.HBp;iu.Srb=il.Srb;var iv=it.makeMutablePresModel(ij,false);fT.$0(iv,iu,il,0);if(!im){var iw=it.makeMutablePresModel(e,false);fT.$5(iw,ik.pm)}},io,ij.get_shelfType());bJ.SendCommand(ir)};fT.movePillToEncoding=function(e,ij,ik,il,im,io){var ip=fT.$1();var iq=ip.commandParams;iq['AEa']=[il.pm.bbx];iq['Qah']='drag-drop-shelf';var ir=iq['HzK'];ir.Ene=e.get_shelfType();ir.ZMD=ss.indexOf(e.get_pills(),il);ir.Srb=il.get_encodingType();ir.UYq='replace';ir.AYC=false;fT.$6(iq,il.get_column(),il.get_encodingType());if(im){iq['ikr']=fT.$8}if(ss.isNullOrUndefined(io)){io=iq['FpB'];io.Ene='encoding-shelf';io.ZMD=0;io.UYq='insert';io.Srb=ik;io.AYC=true}iq['QjG']='drag-drop-shelf';iq['FsL']=ij.get_paneId();iq['FpB']=JSON.stringify(io);var it=new k(function(iu){var iv=iu.makeMutablePresModel(e,false);if(!im){fT.$5(iv,il.pm)}var iw={};iw.MzX=il.get_column().get_description();iw.HBp=il.get_column().get_globalName();iw.Srb=ik;iw.Sfw=il.pm.Sfw;fT.$0(iv,iw,io,0)},ip,ij.get_shelfType());bJ.SendCommand(it)};fT.addEncodingFields=function(e,ij,ik,il,im){var io=fT.$1();var ip=io.commandParams;if(ss.isNullOrUndefined(il)){il=ip['FpB'];il.Ene='encoding-shelf';il.ZMD=0;il.UYq='insert';il.Srb=ik}if(im){ip['wXB']=fT.$8}fT.$2(ip,ij,'invalid-encoding');ip['FsL']=e.get_paneId();ip['Qah']='drag-drop-schema';ip['QjG']='drag-drop-shelf';ip['FpB']=JSON.stringify(il);var iq=new k(function(ir){var it=ir.makeMutablePresModel(e,false);for(var iu=0;iu<ij.length;iu++){var iv=ij[iu];var iw={};iw.MzX=iv.get_description();iw.HBp=iv.get_globalName();iw.Srb=ik;iw.Sfw=[{}];iw.Sfw[0].DIk=true;iw.Sfw[0].Tsz=true;iw.Sfw[0].Srb=iw.Srb;fT.$0(it,iw,il,0)}},io,e.get_shelfType());bJ.SendCommand(iq)};fT.addShelfField=function(e,ij,ik,il){var im=fT.$1();var io=im.commandParams;if(ss.isNullOrUndefined(il)){il=io['FpB'];il.Ene=e.get_shelfType();il.ZMD=0;il.UYq='insert';il.Srb=ik}fT.$2(io,ij,'invalid-encoding');io['FsL']=e.get_paneId();io['Qah']='drag-drop-schema';io['QjG']='drag-drop-shelf';io['FpB']=il;if(ik!=='invalid-encoding'){io['Srb']=ik.toString()}var ip=new k(function(iq){var ir=0;for(var it=0;it<ij.length;it++){var iu=ij[it];var iv={};iv.MzX=iu.get_description();iv.HBp=iu.get_globalName();iv.Srb=((e.get_shelfType()==='encoding-shelf'&&ik==='invalid-encoding')?'level-of-detail-encoding':ik);var iw=iq.makeMutablePresModel(e,false);fT.$0(iw,iv,il,ir);ir++}},im,e.get_shelfType());bJ.SendCommand(ip)};fT.replaceShelfPillWithField=function(e,ij,ik,il){var im=fT.$1();var io=im.commandParams;if(ss.isNullOrUndefined(il)){il=io['FpB'];il.Ene=e.get_shelfType();il.ZMD=ss.indexOf(e.get_pills(),ij);il.UYq='replace';il.Srb=ij.get_encodingType()}fT.$2(io,ik,'invalid-encoding');io['FsL']=e.get_paneId();io['AEa']=[];io['Qah']='drag-drop-schema';io['QjG']='drag-drop-shelf';io['FpB']=il;var ip=new k(function(iq){var ir=iq.makeMutablePresModel(e,false);var it=0;for(var iu=0;iu<ik.length;iu++){var iv=ik[iu];var iw={};iw.MzX=iv.get_description();iw.HBp=iv.get_globalName();iw.Srb=ij.get_encodingType();iw.Sfw=ij.pm.Sfw;fT.$0(ir,iw,il,it);it++}},im,e.get_shelfType());bJ.SendCommand(ip)};fT.setCommandParams=function(e,ij){bV.addVisualIdToCommand(ij,fT.$4());var ik=new ss.ObjectEnumerator(ij);try{while(ik.moveNext()){var il=ik.current();var im=il.value;if(ss.isNullOrUndefined(im)||_.isString(im)||_.isBoolean(im)||_.isNumber(im)){}else if(_.isObject(im)||_.isArray(im)){ij[il.key]=JSON.stringify(im)}}}finally{ik.dispose()}e.commandParams=ij};fT.$1=function(){var e=new Object;e.commandNamespace='tabdoc'.toString();e.commandName='drop-on-shelf'.toString();var ij={};ij['Qah']='drag-drop-none';ij['QjG']='drag-drop-none';ij['tQC']='';ij['ikr']=false;ij['Pq_']=false;ij['beN']=false;ij['xyL']='none';ij['HzK']={};ij['FpB']={};e.commandParams=ij;return e};fT.$3=function(e,ij){var ik={};ik.HBp=e.get_globalName();if(ss.isValue(ij)&&ij!=='invalid-encoding'){ik.Srb=ij}return ik};fT.$6=function(e,ij,ik){e['JPc']=JSON.stringify([fT.$3(ij,ik)])};fT.$2=function(e,ij,ik){var il=_.map(ij,function(im){return fT.$3(im,ik)});e['JPc']=JSON.stringify(il)};fT.$0=function(e,ij,ik,il){var im=((il>0)?'insert':(ik.UYq||'insert'));switch(im){case'insert':{ss.insert(fT.$7(e.zcg),ik.ZMD+il,ij);break}case'replace':{e.zcg[ik.ZMD]=ij;break}case'replace-all':{e.zcg[ik.ZMD]=ij;e.zcg=_.filter(e.zcg,function(io){return io.Srb!==ik.Srb||ss.referenceEquals(io,ij)});break}}};fT.$5=function(e,ij){e.zcg=_.filter(e.zcg,function(ik){return!_.isEqual(ik,ij)})};fT.$7=function(e){return e};fT.$4=function(){return ez.getVisualId(tsConfig.current_sheet_name)};global.tab.ShelfClientCommands=fT;var fU=function(e){ew.call(this,e,new eT('zcg'.toString(),1))};fU.__typeName='tab.ShelfItemsArrayModel';global.tab.ShelfItemsArrayModel=fU;var fV=function(e){ew.call(this,e,new eT('PmI'.toString(),1))};fV.__typeName='tab.ShelfListArrayModel';global.tab.ShelfListArrayModel=fV;var fW=function(e,ij){this.$2=null;this.$2$1=null;ew.call(this,e,new eT(ij.toString()))};fW.__typeName='tab.ShelfModel';global.tab.ShelfModel=fW;var fX=function(e){this.$3=[];this.$2$1=null;ew.call(this,e,new eT('MiB'.toString()))};fX.__typeName='tab.ShelvesModel';fX.createShelfModel=function(e,ij,ik,il){var im=new fW(new fV(e),il);im.update(ij,ik);return im};global.tab.ShelvesModel=fX;var fY=function(){ss.makeGenericType(L,[Object,fZ]).call(this)};fY.__typeName='tab.ShowCaptionCmd';global.tab.ShowCaptionCmd=fY;var fZ=function(e){this.$c=null;this.$c=e};fZ.__typeName='tab.ShowCaptionCmd$Response';global.tab.ShowCaptionCmd$Response=fZ;var ga=function(){ss.makeGenericType(L,[Object,gb]).call(this)};ga.__typeName='tab.ShowDashboardTitleCmd';global.tab.ShowDashboardTitleCmd=ga;var gb=function(e){this.$c=null;this.$c=e};gb.__typeName='tab.ShowDashboardTitleCmd$Response';global.tab.ShowDashboardTitleCmd$Response=gb;var gc=function(e){this.$0=null;this.$0=e};gc.__typeName='tab.SimpleCommandsPresModelWrapper';gc.create=function(e){if(ss.isNullOrUndefined(e)){return null}return new gc(e)};global.tab.SimpleCommandsPresModelWrapper=gc;var gd=function(e,ij){this.$2$1=null;ew.call(this,e,new eT(ij.toString()))};gd.__typeName='tab.SizeItemModel';global.tab.SizeItemModel=gd;var ge=function(e){this.$2$1=null;ew.call(this,e,new eT('$tK'.toString()))};ge.__typeName='tab.SortIndicatorsModel';global.tab.SortIndicatorsModel=ge;var gf=function(){};gf.__typeName='tab.SortServerCommands';gf.sortFromIndicator=function(e,ij,ik){var il=ez.getZoneIdForSheetName(ik.AVP);var im=new Object;im.commandNamespace='tabdoc'.toString();im.commandName='sort-from-indicator'.toString();im.commandParams=gf.$2(e,ij,ik,il);var io=new bB('afterDelay',function(ip){if(gf.$0(il)){fu.setActiveZoneLocal(il,ip)}},im);bJ.SendCommand(io)};gf.quickSort=function(e,ij){var ik=new Object;ik.commandNamespace='tabdoc'.toString();ik.commandName='quick-sort'.toString();ik.commandParams=gf.$1(e,ij);var il=new bB('afterDelay',null,ik);bJ.SendCommand(il)};gf.$2=function(e,ij,ik,il){var im={};var io={x:Math.floor(e.x),y:Math.floor(e.y)};var ip={x:Math.floor(ij.x),y:Math.floor(ij.y)};bV.addVisualIdToCommand(im,ik);im['hcY']=JSON.stringify(tab.PointUtil.toPresModel(io));im['xxA']=JSON.stringify(tab.PointUtil.toPresModel(ip));if(gf.$0(il)){im['TBd']=ez.findContentDashboard().pm.IJE;im['BCp']=il}return im};gf.$0=function(e){return tsConfig.allow_select&&e!==-1&&!ez.isActiveZone(e)};gf.$1=function(e,ij){var ik={};bV.addVisualIdToCommand(ik,e);ik['rei']=ij;return ik};global.tab.SortServerCommands=gf;var gg=function(){ss.makeGenericType(L,[Object,gh]).call(this)};gg.__typeName='tab.StartNewDataAlertCmd';global.tab.StartNewDataAlertCmd=gg;var gh=function(e){this.$c=null;this.$c=e};gh.__typeName='tab.StartNewDataAlertCmd$Response';global.tab.StartNewDataAlertCmd$Response=gh;var gi=function(){};gi.__typeName='tab.StartupUtils';gi.add_modelsInitialized=function(e){gi.$1$1=ss.delegateCombine(gi.$1$1,e)};gi.remove_modelsInitialized=function(e){gi.$1$1=ss.delegateRemove(gi.$1$1,e)};gi.add_clientFullyLoaded=function(e){gi.$1$2=ss.delegateCombine(gi.$1$2,e)};gi.remove_clientFullyLoaded=function(e){gi.$1$2=ss.delegateRemove(gi.$1$2,e)};gi.callAfterBootstrap=function(e){if(gi.$1){e()}else{var ij=null;ij=function(){e();gi.remove_clientFullyLoaded(ij)};gi.add_clientFullyLoaded(ij)}};gi.callAfterModelsInitialized=function(e){if(gi.$2){e()}else{var ij=null;ij=function(){e();gi.remove_modelsInitialized(ij)};gi.add_modelsInitialized(ij)}};gi.notifyModelsInitialized=function(){if(gi.$2){return}gi.$2=true;if(!ss.staticEquals(gi.$1$1,null)){gi.$1$1()}};gi.$0=function(){if(gi.$1){return}gi.$1=true;if(!ss.staticEquals(gi.$1$2,null)){gi.$1$2()}};global.tab.StartupUtils=gi;var gj=function(){};gj.__typeName='tab.StoryClientCommands';gj.setActiveStoryPoint=function(e,ij){var ik=$.Deferred();if(!K.get_instance().get_workbook().get_isCurrentSheetStoryboard()||ij.get_currentPointIndex()===e){ik.resolve();return ik.promise()}var il=K.get_instance().get_workbook().get_storyboard().get_flipboard();var im=ij.get_storyPoints()[e].hVl;var io=new bB('none',function(ip){gj.$9(im,ij,ip,il)},gj.$0(ij.get_storyPoints()[e].hVl),bJ.$2(ik),bJ.$1(ik));bJ.SendCommand(io);return ik.promise()};gj.nextStoryPoint=function(e){var ij=$.Deferred();if(!K.get_instance().get_workbook().get_isCurrentSheetStoryboard()){ij.reject("The workbook's current sheet is not a story");return ij.promise()}var ik=e.get_currentPointIndex()+1;var il=K.get_instance().get_workbook().get_storyboard().get_flipboard();var im=gj.$4(e,ij,il,ik);var io=e.get_storyPoints()[ik].hVl;var ip=new bB('none',function(iq){gj.$9(io,e,iq,il)},gj.$1(),bJ.$2(ij),bJ.$1(ij));bJ.SendCommand(ip);return im};gj.previousStoryPoint=function(e){var ij=$.Deferred();if(ss.isNullOrUndefined(K.get_instance().get_workbook().get_storyboard())){ij.reject("The workbook's current sheet is not a story");return ij.promise()}var ik=e.get_currentPointIndex()-1;var il=K.get_instance().get_workbook().get_storyboard().get_flipboard();var im=gj.$4(e,ij,il,ik);var io=e.get_storyPoints()[ik].hVl;var ip=new bB('none',function(iq){gj.$9(io,e,iq,il)},gj.$2(),bJ.$2(ij),bJ.$1(ij));bJ.SendCommand(ip);return im};gj.revertStoryPoint=function(e,ij){var ik=$.Deferred();var il=new bB('none',function(im){gj.$8()},gj.$3(e,ij),bJ.$2(ik),bJ.$1(ik));bJ.SendCommand(il);return ik.promise()};gj.$4=function(e,ij,ik,il){var im=ij.promise();if(tab.FeatureFlags.isEnabled('StoryPointPrefetch')){var io=il+(il-e.get_currentPointIndex());if(io>=0&&io<e.get_flipboardNavPresModel().mhR.length){var ip=e.get_flipboardNavPresModel().mhR[io].hVl;im=im.then(function(){_.defer(function(){gj.$7(ik,ip)})},null)}}return im};gj.$7=function(e,ij){if(dc.presModelCache.hasStoryPoint(ij)){return}var ik=bV.newSrvCommand('get-storypoint');var il={};il['Hna']=tsConfig.current_sheet_name;il['WIZ']=e.get_zoneId();il['hVl']=ij;ik.commandParams=il;var im=function(ip){var iq=ip;if(ss.isValue(iq)&&ss.isValue(iq.mmK)){dc.presModelCache.addStoryPoint(ij,iq)}};var io=new m(ik,'none',im,null);bJ.SendCommand(io)};gj.$8=function(){gj.$6()};gj.$3=function(e,ij){var ik=bV.newDocCommand('revert-story-point');ik.commandParams={};bV.addStoryPointToCommand(ik.commandParams,e);ik.commandParams['hVl']=ij.toString();return ik};gj.$9=function(e,ij,ik,il){if(ss.isValue(ij)){var im=ij.get_flipboardNavPresModel();var io=0;var ip=false;var iq=im.mhR;for(var ir=0,it=iq.length;ir<it;ir++){if(iq[ir].hVl===e){io=ir;ip=true;break}}if(ip){im=ik.makeMutablePresModel(ij,false);im.yTB=io}}if(ss.isValue(il)&&tab.FeatureFlags.isEnabled('StoryPointCache')&&dc.presModelCache.hasStoryPoint(e)){var iu=dc.presModelCache.getStoryPoint(e);if(K.get_instance().get_renderMode()!=='render-mode-client'){var iv=ik.makeMutablePresModel(K.get_instance(),false);iv.ABX='render-mode-client'}var iw=ik.makeMutablePresModel(il,true);iw.P_I=e;iw.stK[e.toString()]=iu;var ix=ik.makeMutablePresModel(K.get_instance().get_dataDictionary(),false);ix.SR_={};if(tab.FeatureParamsLookup.getBool(43)){tab.MetricsLogger.get_instance().logEvent(new tabBootstrap.MetricsEvent('gen',8,ss.mkdict(['Story','CacheHit'])))}}else{gj.$6()}};gj.$0=function(e){var ij=gj.$5('set-active-story-point');ij.commandParams['hVl']=e.toString();ij.commandParams['pLR']='false';ij.commandParams['XLf']='true';return ij};gj.$1=function(){var e=gj.$5('next-story-point');e.commandParams['pLR']='false';e.commandParams['XLf']='true';return e};gj.$2=function(){var e=gj.$5('previous-story-point');e.commandParams['pLR']='false';e.commandParams['XLf']='true';return e};gj.$5=function(e){var ij=bV.newDocCommand(e);var ik=K.get_instance().get_workbook().get_storyboard().get_flipboard();var il={};il['Hna']=tsConfig.current_sheet_name;il['WIZ']=ik.get_zoneId();ij.commandParams=il;return ij};gj.$6=function(){var e=K.get_instance().get_workbook().get_storyboard().get_flipboard();if(ss.isValue(e)){e.invalidated()}};global.tab.StoryClientCommands=gj;var gk=function(e,ij){this.$3=null;this.$2$1=null;this.$2$2=null;ew.call(this,e,new eT(ij.toString(),0));this.$3=new cg(this)};gk.__typeName='tab.StoryPointModel';global.tab.StoryPointModel=gk;var gl=function(e){this.$1=null;ew.call(this,e,new eT('stK'.toString()))};gl.__typeName='tab.StoryPointsModel';global.tab.StoryPointsModel=gl;var gm=function(){this.$3=null;this.$3=new(ss.makeGenericType(er,[String,u]))(gm.$6);ic.get().add_onCommandResponse(ss.mkdel(this,this.$0));gm.$5=new ss.Lazy(function(){return['set-active-story-point'.toString(),'next-story-point'.toString(),'previous-story-point'.toString(),'ensure-layout-for-sheet'.toString(),'replace-story-point'.toString(),'revert-workbook'.toString(),'revert-story-point'.toString(),'revert'.toString()]});if(ss.isValue(gm.$4)){this.$3.add(gm.$4.item1.toString(),gm.$4.item2);gm.$4=null}};gm.__typeName='tab.StoryPointsPresModelCache';gm.$0=function(e){if(!gm.$3(e)){return}var ij=gm.$1(e);if(ss.isValue(ij)){var ik=new u(ij);gm.$4={item1:ij.hVl,item2:ik}}ic.get().remove_onBootstrapResponse(gm.$0)};gm.$3=function(e){if(gm.$2(e)||!e.res.mmK.Jqz||e.ABX!=='render-mode-client'){return false}return true};gm.$2=function(e){if(ss.isNullOrUndefined(e.res)||ss.isNullOrUndefined(e.res.mmK)||ss.isNullOrUndefined(e.res.mmK.HCq)){return true}return false};gm.$1=function(e){if(e.ABX!=='render-mode-client'){return null}if(gm.$2(e)){return null}var ij=null;var ik=e.res.mmK.HCq;var il=_.keys(ik);for(var im=0;im<il.length;im++){var io=il[im];var ip=ik[io];if(ss.isNullOrUndefined(ip)||ip.jAM!=='flipboard'){continue}ij=ih.getContent(ip,'XIo');break}if(ss.isNullOrUndefined(ij)){return null}var iq=ij.P_I.toString();var ir=ij.stK[iq];return ir};global.tab.StoryPointsPresModelCache=gm;var gn=function(){ss.makeGenericType(L,[Object,go]).call(this)};gn.__typeName='tab.TableCalcAddCmd';global.tab.TableCalcAddCmd=gn;var go=function(e){this.$c=null;this.$c=e};go.__typeName='tab.TableCalcAddCmd$Response';global.tab.TableCalcAddCmd$Response=go;var gp=function(){ss.makeGenericType(L,[Object,gq]).call(this)};gp.__typeName='tab.TableCalcChangeTypeCmd';global.tab.TableCalcChangeTypeCmd=gp;var gq=function(e){this.$c=null;this.$c=e};gq.__typeName='tab.TableCalcChangeTypeCmd$Response';global.tab.TableCalcChangeTypeCmd$Response=gq;var gr=function(){ss.makeGenericType(L,[Object,gs]).call(this)};gr.__typeName='tab.TableCalcCloseCmd';global.tab.TableCalcCloseCmd=gr;var gs=function(e){this.$c=null;this.$c=e};gs.__typeName='tab.TableCalcCloseCmd$Response';global.tab.TableCalcCloseCmd$Response=gs;var gt=function(){ss.makeGenericType(L,[Object,gu]).call(this)};gt.__typeName='tab.TableCalcDialogActivatedCmd';global.tab.TableCalcDialogActivatedCmd=gt;var gu=function(e){this.$c=null;this.$c=e};gu.__typeName='tab.TableCalcDialogActivatedCmd$Response';global.tab.TableCalcDialogActivatedCmd$Response=gu;var gv=function(){ss.makeGenericType(L,[Object,gw]).call(this)};gv.__typeName='tab.TableCalcEditCmd';global.tab.TableCalcEditCmd=gv;var gw=function(e){this.$c=null;this.$c=e};gw.__typeName='tab.TableCalcEditCmd$Response';global.tab.TableCalcEditCmd$Response=gw;var gx=function(){ss.makeGenericType(L,[Object,gy]).call(this)};gx.__typeName='tab.TableCalcEditDefaultsCmd';global.tab.TableCalcEditDefaultsCmd=gx;var gy=function(e){this.$c=null;this.$c=e};gy.__typeName='tab.TableCalcEditDefaultsCmd$Response';global.tab.TableCalcEditDefaultsCmd$Response=gy;var gz=function(){ss.makeGenericType(L,[Object,gA]).call(this)};gz.__typeName='tab.TableCalcEditNestedTableCalcCmd';global.tab.TableCalcEditNestedTableCalcCmd=gz;var gA=function(e){this.$c=null;this.$c=e};gA.__typeName='tab.TableCalcEditNestedTableCalcCmd$Response';global.tab.TableCalcEditNestedTableCalcCmd$Response=gA;var gB=function(e){this.$1=null;this.$0=null;this.update(e)};gB.__typeName='tab.TableCalcIdentifierModel';global.tab.TableCalcIdentifierModel=gB;var gC=function(e){this.$4=null;this.$3=null;this.$2$1=null;this.$2$2=null;ew.call(this,e,new eT('OKS'.toString()));this.set_tableCalcIdentifier(new gB(null));this.$3=new gD(this)};gC.__typeName='tab.TableCalcModel';gC.$0=function(e,ij){if(!(ij in e.wqq)){return null}return e.wqq[ij]};global.tab.TableCalcModel=gC;var gD=function(e){this.$2$1=null;ew.call(this,e,new eT('xtX'.toString()))};gD.__typeName='tab.TableCalcOrderingModel';global.tab.TableCalcOrderingModel=gD;var gE=function(e){this.$2$1=null;ew.call(this,e,new eT('bUz'.toString()))};gE.__typeName='tab.TableCalcReferenceModel';global.tab.TableCalcReferenceModel=gE;var gF=function(){ss.makeGenericType(L,[Object,gG]).call(this)};gF.__typeName='tab.TableCalcSetAddressingFieldsCmd';global.tab.TableCalcSetAddressingFieldsCmd=gF;var gG=function(e){this.$c=null;this.$c=e};gG.__typeName='tab.TableCalcSetAddressingFieldsCmd$Response';global.tab.TableCalcSetAddressingFieldsCmd$Response=gG;var gH=function(){ss.makeGenericType(L,[Object,gI]).call(this)};gH.__typeName='tab.TableCalcSetAddressingFieldsOrderCmd';global.tab.TableCalcSetAddressingFieldsOrderCmd=gH;var gI=function(e){this.$c=null;this.$c=e};gI.__typeName='tab.TableCalcSetAddressingFieldsOrderCmd$Response';global.tab.TableCalcSetAddressingFieldsOrderCmd$Response=gI;var gJ=function(){ss.makeGenericType(L,[Object,gK]).call(this)};gJ.__typeName='tab.TableCalcSetAtTheLevelFieldCmd';global.tab.TableCalcSetAtTheLevelFieldCmd=gJ;var gK=function(e){this.$c=null;this.$c=e};gK.__typeName='tab.TableCalcSetAtTheLevelFieldCmd$Response';global.tab.TableCalcSetAtTheLevelFieldCmd$Response=gK;var gL=function(){ss.makeGenericType(L,[Object,gM]).call(this)};gL.__typeName='tab.TableCalcSetCompoundRateCmd';global.tab.TableCalcSetCompoundRateCmd=gL;var gM=function(e){this.$c=null;this.$c=e};gM.__typeName='tab.TableCalcSetCompoundRateCmd$Response';global.tab.TableCalcSetCompoundRateCmd$Response=gM;var gN=function(){ss.makeGenericType(L,[Object,gO]).call(this)};gN.__typeName='tab.TableCalcSetCumulativeOptionsCmd';global.tab.TableCalcSetCumulativeOptionsCmd=gN;var gO=function(e){this.$c=null;this.$c=e};gO.__typeName='tab.TableCalcSetCumulativeOptionsCmd$Response';global.tab.TableCalcSetCumulativeOptionsCmd$Response=gO;var gP=function(){ss.makeGenericType(L,[Object,gQ]).call(this)};gP.__typeName='tab.TableCalcSetNullIfIncompleteCmd';global.tab.TableCalcSetNullIfIncompleteCmd=gP;var gQ=function(e){this.$c=null;this.$c=e};gQ.__typeName='tab.TableCalcSetNullIfIncompleteCmd$Response';global.tab.TableCalcSetNullIfIncompleteCmd$Response=gQ;var gR=function(){ss.makeGenericType(L,[Object,gS]).call(this)};gR.__typeName='tab.TableCalcSetOrderingTypeCmd';global.tab.TableCalcSetOrderingTypeCmd=gR;var gS=function(e){this.$c=null;this.$c=e};gS.__typeName='tab.TableCalcSetOrderingTypeCmd$Response';global.tab.TableCalcSetOrderingTypeCmd$Response=gS;var gT=function(){ss.makeGenericType(L,[Object,gU]).call(this)};gT.__typeName='tab.TableCalcSetPercentTotalOptionsCmd';global.tab.TableCalcSetPercentTotalOptionsCmd=gT;var gU=function(e){this.$c=null;this.$c=e};gU.__typeName='tab.TableCalcSetPercentTotalOptionsCmd$Response';global.tab.TableCalcSetPercentTotalOptionsCmd$Response=gU;var gV=function(){ss.makeGenericType(L,[Object,gW]).call(this)};gV.__typeName='tab.TableCalcSetRankSortDirectionCmd';global.tab.TableCalcSetRankSortDirectionCmd=gV;var gW=function(e){this.$c=null;this.$c=e};gW.__typeName='tab.TableCalcSetRankSortDirectionCmd$Response';global.tab.TableCalcSetRankSortDirectionCmd$Response=gW;var gX=function(){ss.makeGenericType(L,[Object,gY]).call(this)};gX.__typeName='tab.TableCalcSetRankTypeCmd';global.tab.TableCalcSetRankTypeCmd=gX;var gY=function(e){this.$c=null;this.$c=e};gY.__typeName='tab.TableCalcSetRankTypeCmd$Response';global.tab.TableCalcSetRankTypeCmd$Response=gY;var gZ=function(){ss.makeGenericType(L,[Object,ha]).call(this)};gZ.__typeName='tab.TableCalcSetReferenceOptionsCmd';global.tab.TableCalcSetReferenceOptionsCmd=gZ;var ha=function(e){this.$c=null;this.$c=e};ha.__typeName='tab.TableCalcSetReferenceOptionsCmd$Response';global.tab.TableCalcSetReferenceOptionsCmd$Response=ha;var hb=function(){ss.makeGenericType(L,[Object,hc]).call(this)};hb.__typeName='tab.TableCalcSetRestartEveryFieldCmd';global.tab.TableCalcSetRestartEveryFieldCmd=hb;var hc=function(e){this.$c=null;this.$c=e};hc.__typeName='tab.TableCalcSetRestartEveryFieldCmd$Response';global.tab.TableCalcSetRestartEveryFieldCmd$Response=hc;var hd=function(){ss.makeGenericType(L,[Object,he]).call(this)};hd.__typeName='tab.TableCalcSetSortAggregationCmd';global.tab.TableCalcSetSortAggregationCmd=hd;var he=function(e){this.$c=null;this.$c=e};he.__typeName='tab.TableCalcSetSortAggregationCmd$Response';global.tab.TableCalcSetSortAggregationCmd$Response=he;var hf=function(){ss.makeGenericType(L,[Object,hg]).call(this)};hf.__typeName='tab.TableCalcSetSortDirectionCmd';global.tab.TableCalcSetSortDirectionCmd=hf;var hg=function(e){this.$c=null;this.$c=e};hg.__typeName='tab.TableCalcSetSortDirectionCmd$Response';global.tab.TableCalcSetSortDirectionCmd$Response=hg;var hh=function(){ss.makeGenericType(L,[Object,hi]).call(this)};hh.__typeName='tab.TableCalcSetSortFieldCmd';global.tab.TableCalcSetSortFieldCmd=hh;var hi=function(e){this.$c=null;this.$c=e};hi.__typeName='tab.TableCalcSetSortFieldCmd$Response';global.tab.TableCalcSetSortFieldCmd$Response=hi;var hj=function(){ss.makeGenericType(L,[Object,hk]).call(this)};hj.__typeName='tab.TableCalcSetSortModeCmd';global.tab.TableCalcSetSortModeCmd=hj;var hk=function(e){this.$c=null;this.$c=e};hk.__typeName='tab.TableCalcSetSortModeCmd$Response';global.tab.TableCalcSetSortModeCmd$Response=hk;var hl=function(){ss.makeGenericType(L,[Object,hm]).call(this)};hl.__typeName='tab.TableCalcSetWindowOptionsCmd';global.tab.TableCalcSetWindowOptionsCmd=hl;var hm=function(e){this.$c=null;this.$c=e};hm.__typeName='tab.TableCalcSetWindowOptionsCmd$Response';global.tab.TableCalcSetWindowOptionsCmd$Response=hm;var hn=function(){ss.makeGenericType(L,[Object,ho]).call(this)};hn.__typeName='tab.TableCalcToggleSecondaryCalcCmd';global.tab.TableCalcToggleSecondaryCalcCmd=hn;var ho=function(e){this.$c=null;this.$c=e};ho.__typeName='tab.TableCalcToggleSecondaryCalcCmd$Response';global.tab.TableCalcToggleSecondaryCalcCmd$Response=ho;var hp=function(){};hp.__typeName='tab.TabResources';hp.getResourceName=function(e){return e.substring(e.lastIndexOf('/')+1,e.lastIndexOf('.'))};hp.lookupResourceAlias=function(e){return(ss.keyExists(hp.$0,e)?hp.$0[e]:'')};hp.lookupFullResourceAlias=function(e){var ij=e.split('/');var ik=((ij.length>0)?ij[ij.length-1]:e);return hp.lookupResourceAlias(ik)};hp.lookupTabRes=function(e){return hp.lookupResourceAlias(e)};hp.lookupDefaultTabRes=function(e){return':/'+tsConfig.locale+'/'+hp.lookupResourceAlias(e)};global.tab.TabResources=hp;var hq=function(e,ij){this.$2$1=null;ew.call(this,e,new eT(ij))};hq.__typeName='tab.TextRegionModel';global.tab.TextRegionModel=hq;var hr=function(e){this.$2$1=null;ew.call(this,e,new eT('R_T1'.toString()))};hr.__typeName='tab.ToolbarModel';global.tab.ToolbarModel=hr;var hs=function(){};hs.__typeName='tab.ToolbarServerCommands';hs.get_authoringVizUri=function(){var e;var ij=null;if(ss.isNullOrEmptyString(ij)){e=hP.createForAuthoringPublishedSheet(tsConfig.repositoryUrl)}else{e=hP.createForAuthoringUnpublishedSheet(tsConfig.repositoryUrl,ij)}e.removeHash();return e};hs.setAutoUpdate=function(e){var ij=new Object;ij.commandNamespace='tabsrv'.toString();ij.commandName='set-auto-update-server'.toString();var ik={};ik['chK']=e;ij.commandParams=ik;fB.executeServerCommand(ij,'immediately')};hs.refreshData=function(){var e=new Object;e.commandNamespace='tabsrv'.toString();e.commandName='refresh-data-server'.toString();var ij={};ij['IDV']=0;ij['jug']=true;e.commandParams=ij;fB.executeServerCommand(e,'immediately')};hs.launchEditing=function(){var e=hs.get_authoringVizUri();if(!tsConfig.openAuthoringInTopWindow&&(tabBootstrap.Utility.get_embedMode()==='embeddedNotInWg'||tsConfig.is_mobile_app)){tab.WindowHelper.open(e.get_uri(),'tableauAuthoring')}else{e.setTopWindowLocation()}};hs.downloadWorkbook=function(e){var ij;if(ss.isValue(e)){ij=e}else{ij=tsConfig.downloadURI}var ik;if(tsConfig.is_metrics_view){ik=bJ.get().get_legacySession().metricsViewDownloadUrl()}else{ik=hs.$0(ij)}window.open(ik)};hs.exportData=function(e){if(ss.isNullOrUndefined(e)&&ss.isValue(ez.findActiveOrDefaultVisual())){e=ez.findActiveOrDefaultVisual().get_worksheetName()}var ij=ez.findContentDashboard().getViewSession(e);if(ss.isValue(ij)){window.open(ij.formatUnderlyingDataURL(null),ij.getWindow('vud'),'scrollbars,resizable')}};hs.exportImage=function(e){var ij=K.get_instance().get_workbook().get_currentSheetStoryPointId();var ik=tableau.types.ExportDialogType['ExportImage'];var il=[];var im=[];if(ez.findContentDashboard().get_isDashboard()){var io=e.get_sheetScrollPositions();if(ss.isValue(io)){var ip=ss.getEnumerator(Object.keys(io));try{while(ip.moveNext()){var iq=ip.current();var ir=io[iq];var it=ir.x;var iu=ir.y;if(it!==0||iu!==0){im.push({x:it,y:iu});il.push(iq)}}}finally{ip.dispose()}}}cS.exportImage(tsConfig.current_sheet_name,ij,ik,il,im)};hs.exportCrosstab=function(e){if(ss.isNullOrUndefined(e)&&ss.isValue(ez.findActiveOrDefaultVisual())){e=ez.findActiveOrDefaultVisual().get_worksheetName()}var ij=ez.findContentDashboard().getViewSession(e);if(ss.isValue(ij)){var ik=tableau.types.ExportDialogType['ExportCrosstab'];ij.openDownload(ij.formatExportCrossTabURL('utf16'),ik)}};hs.exportPdf=function(e){e.triggerExportPdfUI()};hs.$0=function(e){if(ss.isValue(e)){var ij=e.match(hs.$1);if(ss.isValue(ij)&&ij.length>=2){return tabBootstrap.ViewerBootstrap.get_instance().location.protocol+'//'+tabBootstrap.ViewerBootstrap.get_instance().location.host+ij[1]}}return e};global.tab.ToolbarServerCommands=hs;var ht=function(){this.$2=null;this.$1=null;this.$2=[];this.$1=[]};ht.__typeName='tab.Transaction';ht.$0=function(e){if(e.length===0){return null}e=_.sortBy(e,function(ip){return ip.$1().get_pathList().length});var ij=K.get_instance().pm;var ik=eR.cloneObjWithScalarsOnly(ij);if(ss.isNullOrUndefined(ik)){ik=new Object}var il=ik;for(var im=0;im<e.length;im++){var io=e[im];eR.insertAtPath(ij,il,io.$1(),io.$0())}return il};global.tab.Transaction=ht;var hu=function(){this.$1=null;this.$0={}};hu.__typeName='tab.Transactor';global.tab.Transactor=hu;var hv=function(e,ij){ew.call(this,e,ij)};hv.__typeName='tab.TypeSpecificTableCalcModel';global.tab.TypeSpecificTableCalcModel=hv;var hw=function(){};hw.__typeName='tab.UberTipClientCommands';hw.$4=function(){return tab.MiscUtil.lazyInitStaticField(hw,'commandPermissions',function(){return eN.buildCommandPermission()})};hw.executeUbertipAction=function(e,ij,ik){var il=new w(function(im){F.executeAction(e,ij,ik,im)});bJ.SendCommand(il)};hw.executeUbertipCommand=function(e){switch(e.commandType){case 1:{fu.clearAllSelections(ez.findActiveOrDefaultVisual().get_visualId());break}case 2:case 10:{var ij=hw.$3(e);fB.executeServerCommand(ij,'immediately');break}case 4:case 11:case 12:case 13:case 15:case 17:case 18:case 22:{fB.executeServerCommand(e.command,'immediately');break}case 21:{fB.executeServerCommand(e.command,'immediately',bV.createCommandRedirectSuccessHandler(null),null);break}case 6:case 9:case 7:default:{return}}};hw.localAndRemoteUberTipCommand=function(e,ij,ik,il,im,io,ip,iq,ir,it){var iu=hw.$0(e,ij,ik,il,io,ip,iq,ir,it,im);bJ.SendCommand(iu)};hw.$0=function(e,ij,ik,il,im,io,ip,iq,ir,it){var iu=new b(function(iv){if(!K.get_instance().get_isLocalRenderMode()){return}var iw=hx.createLocalUberTipModel(e,ez.getVisualModelFromVisualId(ik),im,tsConfig.is_authoring);if(ss.isValue(iw)){iw.isUpdate=false;eN.filterCommands(iw.commands,hw.$4())}io(iw);F.executeActions(ik.AVP,'on-hover',im.get_interactedTupleIds(),iv)},hw.$2(ij,ik,il,ir,it),hw.$1(true,ip),iq);return iu};hw.localOnlyUbertipCommand=function(e,ij,ik,il){var im=hw.buildLocalOnlyUbertipCommand(e,ij,ik,il);im.set_commandName('render-tooltip-server'.toString());bJ.SendCommand(im)};hw.buildLocalOnlyUbertipCommand=function(e,ij,ik,il){var im=new b(function(io){var ip=hx.createLocalUberTipModel(e,ez.getVisualModelFromVisualId(ij),ik,tsConfig.is_authoring);if(ss.isValue(ip)){ip.isUpdate=false;eN.filterCommands(ip.commands,hw.$4())}il(ip);F.executeActions(ij.AVP,'on-hover',ik.get_interactedTupleIds(),io)},null,null,null);return im};hw.remoteOnlyUbertipCommand=function(e,ij,ik,il,im,io,ip,iq){var ir=hw.buildRemoteOnlyUberTipCommand(e,ij,ik,il,im,io,ip,iq);bJ.SendCommand(ir)};hw.buildRemoteOnlyUberTipCommand=function(e,ij,ik,il,im,io,ip,iq){var ir=null;if(iq&&ss.isValue(ip)){ir=function(iu){F.executeActions(ij.AVP,'on-hover',ip,iu)}}var it=new b(ir,hw.$2(e,ij,ik,io),hw.$1(false,il),im);return it};hw.$2=function(e,ij,ik,il,im){var io=new Object;io.commandNamespace='tabsrv'.toString();io.commandName='render-tooltip-server'.toString();var ip={};bV.addVisualIdToCommand(ip,ij);if(ss.isValue(im)){ip['nSc']=[im]}var iq=new Object;var ir=hO.create(iq);ir.set_r(e);ir.set_x(Math.round(ik.x));ir.set_y(Math.round(ik.y));ir.set_w(Math.round(ik.w));ir.set_h(Math.round(ik.h));ip['vpK']=iq;ip['QoN']=tsConfig.is_mobile||il==='on-hover';ip['dhR']=true;ip['_JU']=tsConfig.is_mobile;ip['dkd']=true;io.commandParams=ip;return io};hw.$1=function(e,ij){return function(ik){if(!ss.isValue(ik)){return}var il=ik.toString();var im=(ss.isNullOrEmptyString(il)?null:JSON.parse(il));dh.notifyFontsFromUberTipPresModel(im);var io=hx.deserializeUbertip(im);if(ss.isValue(io)){io.isUpdate=e;eN.filterCommands(io.commands,hw.$4())}if(ss.isValue(ij)){ij(io)}dh.$5()}};hw.$3=function(e){var ij=bV.duplicateCommand(e.command);var ik=ij.commandParams;var il=ik['OBN'];delete ik['OBN'];if(!ss.keyExists(ik,'ArG')&&ss.isValue(il)){var im=[parseInt(il.toString())];var io={};io.kyj=im;io.coe='tuples';ik['Gvh']=io}return ij};global.tab.UberTipClientCommands=hw;var hx=function(){};hx.__typeName='tab.UbertipSerializer';hx.deserializeUbertip=function(e){if(ss.isNullOrUndefined(e)){return null}var ij=[];var ik=[];var il=[];if(ss.isValue(e.Jmx)){hx.$3(e.Jmx,ij,ik,il)}var im=[];if(ss.isValue(e.slk)){hx.$2(e.slk,im,0)}var io={};io.tooltipHtml=hx.$6(e.LSs);io.selectionHtml=hx.$6(e.lBv);io.overlayImage=hx.$6(e.tkp);io.overlayImageKey=hx.$6(e.MHp);io.tupleId=e.OBN;io.imageRegion=e.dpp;if(io.tupleId!==0){io.interactedTupleId=io.tupleId}io.tupleSelected=e.vPt||false;io.refLineSelected=e.CsR||false;io.trendLineSelected=e.ioD||false;io.isExplicitlyEmpty=e.ByD||false;io.tooltipOffset=tab.PointUtil.fromPresModel(e.vGG);io.markBounds=tab.RecordCast.rectPresModelAsRectXY(e.nwZ);io.commands=ij;io.subcommands=ik;io.commandsAndSubcommands=il;io.actions=im;if(ss.isValue(io.overlayImage)||ss.isValue(io.overlayImageKey)){var ip=e.CNg.length;io.overlayAnchors=new Array(ip);for(var iq=0;iq<ip;++iq){var ir=e.CNg[iq];var it=tab.PointUtil.fromPresModel(ir);io.overlayAnchors[iq]={x:it.x,y:it.y}}}hx.$1(e,ij,il,null);if(ss.isValue(io.tooltipHtml)||ss.isValue(io.selectionHtml)||ij.length>0||im.length>0){return io}return null};hx.createLocalUberTipModel=function(e,ij,ik,il){var im=ik.get_interactedTupleIds();var io=ik.get_affectedTupleIds();var ip=ik.get_paneDescriptorKey();var iq=ij.get_vizDataModel();if(ss.isNullOrUndefined(iq)){return null}var ir=iq.get_ubertipData();var it=hx.$5(ir,ip);var iu=K.get_instance().get_dataDictionary();var iv=null;var iw;var ix=it.LSs.toString().length===0;if(im.length===1){iv=hx.$7(iu,it,iq,im);iw=im[0]}else{iw=0}var iy=null;var iz=false;if(io.length>1&&it.BWC){iz=true;iy=hx.$4(iu,iq,io,it.zDK)}var iA=[];var iB=((io.length>1)?0:io[0]);if(iB<0){iB=0}var iC=[];var iD=hN.hasTupleWithNonTotalValue(iq,iu,io);if(it.BWC&&iq.hasDimensionColumnNotMeasureNames()){if(iD){hx.$2(ir.qCD,iA,iB)}if(iz){hx.$2(ir.NV$,iA,iB)}iA=iA.filter(function(iJ){return iJ.commandType!==10});hx.$1(null,iA,null,e);if(il){var iE={};iE.commandType=10;iE.imageRes=hp.lookupResourceAlias('TQRC_SPLIT');iE.name='';if(tsConfig.is_mobile){var iF=tab.Strings.UbertipMergeMobile;var iG=tab.Strings.UbertipSplitMobile;iE.description=((iG.length>iF.length)?iG:iF)}iC.push(iE)}}var iH;if(iD){iH=F.getApplicableActions(ij.get_visualId().AVP,'explicitly');iH=_.filter(iH,function(iJ){if(iJ.bg$==='explicitly'&&F.getActionType(iJ)!=='url'&&iJ.kDm.length===0){return false}return true})}else{iH=[]}if(ss.isValue(iv)||ss.isValue(iy)||iA.length>0||iH.length>0){var iI={};iI.tooltipHtml=iv;iI.selectionHtml=iy;iI.tupleId=iB;iI.interactedTupleId=iw;iI.isExplicitlyEmpty=ix;iI.actionPMs=iH;iI.commands=iA;iI.placeHolders=iC;iI.visualId=ij.get_visualId();return iI}return null};hx.$5=function(e,ij){if(e.cJ$.length===1){return e.cJ$[0]}for(var ik=0;ik<e.cJ$.length;ik++){var il=e.cJ$[ik];if(ss.isValue(il.uNv)){if(ss.referenceEquals(il.uNv.fDN,ij)){return il}}}return null};hx.$7=function(e,ij,ik,il){return hN.constructHtml(e,ij.LSs,ik,il)};hx.$4=function(e,ij,ik,il){var im=ij.getVizDataField(il||'');if(ss.isValue(im)){var io=[];$.extend.apply(null,[true,io].concat(hx.$8));io[2]=ik.length.toString();io[4]=tab.Strings.UbertipItemsSelected;if(im.get_aggType()!=='sum'){io[8]=tab.Strings.SumOf}io[10]=il;io[14]='&lt;'+il+'&gt;';var ip=io.join('');return hN.constructHtml(e,ip,ij,ik)}else{hx.$9[2]=ik.length.toString();hx.$9[4]=tab.Strings.UbertipItemsSelected;return hx.$9.join('')}};hx.$1=function(e,ij,ik,il){var im=ss.isNullOrUndefined(il);if(ij.length<=0){return}var io=false;if(ss.isValue(e)&&ss.isValue(e.dpp)){switch(e.dpp){case'viz':case'xheader':case'yheader':case'bottomaxis':case'leftaxis':case'rightaxis':case'topaxis':{io=true;break}}io=io&&!e.CsR&&!e.ioD}if(!tsConfig.previewMode&&(io||!im)){var ip={};ip.commandType=7;ip.status='enabled';ip.description=tab.Strings.UbertipViewData;ip.command=new Object;ip.command.commandName='viewData';ip.command.commandNamespace='tabdoc'.toString();ip.command.commandParams={};if(im){for(var iq=0;iq<ij.length;iq++){var ir=ij[iq];if(ss.isValue(ir.command)&&ss.isValue(ir.command.commandParams)&&ss.keyExists(ir.command.commandParams,'ArG')){ip.command.commandParams['ArG']=ir.command.commandParams['ArG'];break}}}else{ip.command.commandParams['ArG']=JSON.stringify(tab.PointUtil.toPresModel(il))}hx.$0(ip,ij,ik)}if(tsConfig.is_mobile){var it={};it.commandType=1;it.name=tab.Strings.UbertipClearSelection;it.status='enabled';hx.$0(it,ij,ik)}};hx.$0=function(e,ij,ik){ij.push(e);if(ss.isValue(ik)){ik.push({item1:true,item2:ij.length-1})}};hx.$2=function(e,ij,ik){var il=bT.create(e);if(ss.isNullOrUndefined(il)||ss.isNullOrUndefined(il.get_commandItems())){return}var im=il.get_commandItems();for(var io=0;io<im.length;io++){var ip=im[io];var iq=bM.create(ip);var ir={};ir.command=bR.deserialize(iq.get_command());if(ss.isValue(ir.command)){hx.buildCommandModelFromWrapper(ir,iq,ik);ij.push(ir)}if(ss.isValue(iq.get_commands())){hx.$2(iq.get_commands(),ij,ik)}}};hx.$3=function(e,ij,ik,il){var im=bT.create(e);if(ss.isNullOrUndefined(im)||ss.isNullOrUndefined(im.get_commandItems())){return}var io=0;var ip=0;var iq=im.get_commandItems();for(var ir=0;ir<iq.length;ir++){var it=iq[ir];var iu=bM.create(it);var iv={};iv.command=bR.deserialize(iu.get_command());if(ss.isValue(iv.command)){hx.buildCommandModelFromWrapper(iv,iu,0);ij.push(iv);il.push({item1:true,item2:io});io++}if(ss.isValue(iu.get_commands())){ik.push(iu);il.push({item1:false,item2:ip});ip++}}};hx.buildCommandModelFromWrapper=function(e,ij,ik){hx.setCommandType(e);e.name=ij.get_name();e.description=ij.get_description();if(!tab.MiscUtil.isNullOrEmpty$1(ij.get_iconRes())){e.imageRes=hp.lookupFullResourceAlias(ij.get_iconRes())}var il=ij.get_enabled();e.status=((ss.isNullOrUndefined(il)||il)?'enabled':'disabled');if(ik!==0&&!ss.isValue(e.command.commandParams['ArG'])){e.command.commandParams['OBN']=ik.toString()}};hx.setCommandType=function(e){var ij=bR.getCommandType(e.command);if(ss.isValue(ij)){e.commandType=ss.unbox(ij)}};hx.$6=function(e){return(ss.isNullOrEmptyString(e)?null:e)};global.tab.UbertipSerializer=hx;var hy=function(){ss.makeGenericType(L,[Object,hz]).call(this)};hy.__typeName='tab.UpdateReferenceLineCmd';global.tab.UpdateReferenceLineCmd=hy;var hz=function(e){this.$c=null;this.$c=e};hz.__typeName='tab.UpdateReferenceLineCmd$Response';global.tab.UpdateReferenceLineCmd$Response=hz;var hA=function(){};hA.__typeName='tab.UriPathStripper';hA.getModuleFromPath=function(e,ij){var ik=tsConfig.site_root||'';var il=e.indexOf(ik,0);var im;if(il===-1){im=e.substr(1)}else{var io=il+ik.length;im=e.substr(io+1)}for(var ip=0;ip<ij.length;ip++){var iq=ij[ip];if(ss.startsWithString(im,iq+'/')){return iq}}return''};hA.getMeatFromPath=function(e,ij){var ik=hA.getModuleFromPath(e,ij);var il=e.indexOf(ik,0);return e.substr(il+ik.length+1)};global.tab.UriPathStripper=hA;var hB=function(){};hB.__typeName='tab.UrlStringReplacementOutcome';global.tab.UrlStringReplacementOutcome=hB;var hC=function(){this.id=0;this.friendlyName=null;this.username=null};hC.__typeName='tab.User';global.tab.User=hC;var hD=function(e){ew.call(this,e,new eT('geometry'))};hD.__typeName='tab.ViewGeometryModel';global.tab.ViewGeometryModel=hD;var hE=function(e,ij,ik,il){this.$l=null;this.viewid=null;fS.call(this,e,ij,il);this.viewid=ik;this.$l=eN.buildCommandPermission()};hE.__typeName='tab.ViewSession';hE.add_onTabSelect=function(e){hE.$3$1=ss.delegateCombine(hE.$3$1,e)};hE.remove_onTabSelect=function(e){hE.$3$1=ss.delegateRemove(hE.$3$1,e)};hE.fireOnTabSelect=function(e){if(!ss.staticEquals(hE.$3$1,null)){hE.$3$1(e)}};hE.$0=function(e){var ij=e;if(ss.isValue(e)){ij={x:Math.round(e.x),y:Math.round(e.y)}}return ij};global.tab.ViewSession=hE;var hF=function(){};hF.__typeName='tab.VisualColumnHelpers';hF.transformColumn=function(e,ij){if(ss.isNullOrUndefined(e)){return false}e.transform(ij);return true};hF.createDataArray=function(e,ij,ik){var il=e.uBu.slice(ij,ij+ik);return hG.create(il)};hF.parseColumns=function(e,ij,ik){var il=hF.$0(e);var im=_.keys(e.GKA);for(var io=0;io<im.length;io++){var ip=im[io];il[ip]=hF.createDataArray(e.GKA[ip],ij,ik)}return il};hF.buildColorTable=function(e,ij,ik,il){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(ij)||!ss.keyExists(ij,'color_idx')){return null}var im=1;if(ss.keyExists(ij,'alpha')&&ij['alpha'].c){var io=ij['alpha'];im=io.v[(io.c?0:0)]}var ip=[];var iq={};var ir=ij['color_idx'];var it=ir.length;for(var iu=0;iu<it;iu++){var iv=ir.v[(ir.c?0:iu)];if(ss.keyExists(iq,iv)){ir.v[(ir.c?0:iu)]=iq[iv]}else{var iw=bG.fromArgbInt(e.DiR[iv]);iw=new bG(iw.get_r(),iw.get_g(),iw.get_b(),im*iw.get_a());ip.push(fo.createColorCollection(iw,ik,il));ir.v[(ir.c?0:iu)]=ip.length-1;iq[iv]=ir.v[(ir.c?0:iu)]}}return ip};hF.buildOpaqueColorTable=function(e){if(ss.isNullOrUndefined(e)){return null}var ij=[];for(var ik=0,il=e.length;ik<il;ik++){ij[ik]=fo.createOpaqueColorCollection(e[ik])}return ij};hF.$0=function(e){var ij={};var ik=[e.LTd,e.DTe,e.HDS];for(var il=0;il<ik.length;il++){var im=ik[il];if(ss.isNullOrUndefined(im)){continue}var io=Object.keys(im);for(var ip=0;ip<io.length;ip++){var iq=io[ip];var ir=[im[iq]];ij[iq]=hG.create(ir)}}return ij};global.tab.VisualColumnHelpers=hF;var hG=function(e){this.v=null;this.length=0;this.isValid=false;this.c=false;this.v=e;this.isValid=ss.isValue(this.v)&&this.v.length>0;this.length=(this.isValid?this.v.length:0);this.c=false};hG.__typeName='tab.VisualColumnIterator';hG.create=function(e){if(ss.isNullOrUndefined(e)){return null}if(e.length===1){return new r(e)}return new hG(e)};global.tab.VisualColumnIterator=hG;var hH=function(e){this.$1=null;this.$2$1=null;ew.call(this,e,new eT('visuallist'))};hH.__typeName='tab.VisualListModel';global.tab.VisualListModel=hH;var hI=function(e){this.$p=null;this.$k=null;this.$b=null;this.$f={};this.$h=null;this.$9=null;this.$q=null;this.$o=null;this.$l=null;this.$n=null;this.$m=null;this.$r=null;this.$v=null;this.$d=null;this.$t=null;this.$s=null;this.$i=null;this.$j=null;this.$8=null;this.$g=null;this.$7=null;this.$c=null;this.$u=false;this.$a=false;this.$e=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.$2$9=null;ew.call(this,e,new eT('uqP'.toString()));this.$j={};this.$8={};this.$g={};this.$7={};this.$p=new fw(this,'pUG'.toString());this.$k=new fv(null,-1);this.$b=new fw(this,'iyL'.toString());this.$u=true;this.$a=false;this.$e=false;this.$k.update(fw.$1('tuples'))};hI.__typeName='tab.VisualModel';hI.$0=function(){return tab.Logger.lazyGetLogger(hI)};global.tab.VisualModel=hI;var hJ=function(){};hJ.__typeName='tab.VizClientCommands';hJ.invalidateVisualModel=function(e){hJ.$0(e,false)};hJ.validateVisualModel=function(e){hJ.$0(e,true)};hJ.$0=function(e,ij){var ik=new w(function(il){ez.setVisualValidStateOnModel(il,e,ij)});bJ.SendCommand(ik)};hJ.setUIMode=function(e,ij){var ik=K.get_instance().get_workbook();if(ik.get_uiMode()===e){return}var il=new bx;il.c['Olx']=e;var im=il;im.set_localWork(function(io){if(e!=='document'||ss.referenceEquals(ij,tsConfig.current_sheet_name)){var ip=io.makeMutablePresModel(ik,false);ip.Olx=e}});im.invoke$1()};global.tab.VizClientCommands=hJ;var hK=function(e,ij){this.$a=null;this.$d=null;this.$c=false;this.$b=false;this.$e=null;this.$a=e;this.$d=ij;this.$e={};this.$6();this.$c=this.$1();this.$b=this.$0()};hK.__typeName='tab.VizDataField';global.tab.VizDataField=hK;var hL=function(){};hL.__typeName='tab.VizDataLookup';hL.lookupDisplayValue=function(e,ij,ik){if(!ij.isTupleIdValid(e)){hL.$2(e,ij.get_fieldCaption());return null}if(ij.get_hasAliases()){var il=hL.lookupAlias(e,ij,ik);if(ss.isValue(il)){return il}}if(ij.get_hasDataValues()){var im=hL.$3(e,ij,ik);if(ss.isValue(im)){return im}}hL.$2(e,ij.get_fieldCaption());return null};hL.$2=function(e,ij){var ik=ss.formatString('Failed trying to look up the display value for tuple id "{0}" because it is invalid for field "{1}"',e,ij)};hL.$1=function(e){return ss.Nullable$1.lt(e,0)};hL.$0=function(e){return ss.Nullable$1.sub(ss.Nullable$1.neg(e),1)};hL.lookupAlias=function(e,ij,ik){if(!ij.isTupleIdValid(e)){hL.$2(e,ij.get_fieldCaption());return null}var il=ij.getAliasIndex(e);return hL.lookupAliasFromIndex(il,ij,ik)};hL.lookupAliasFromIndex=function(e,ij,ik){var il=null;if(ss.isValue(e)){if(hL.$1(e)){e=hL.$0(e);il=ik.getRawValue('cstring',ss.unbox(e));if(tableau.format.isSpecialValue(il)){il=tableau.format.formatSpecial(il,ij.get_specialValuesOverride())}}else{var im=e;il=hL.$4(im,ij,ik)}}return il};hL.lookupRawDataValue=function(e,ij,ik){var il=ij.getDataValueIndex(e);return hL.lookupRawDataValueFromIndex(il,ij,ik)};hL.lookupRawDataValueFromIndex=function(e,ij,ik){var il=null;if(ss.isValue(e)){var im;var io=ss.unbox(e);if(io>=0){im=ij.get_dataType()}else{io=-io-1;im='cstring'}var ip=ik.getRawValue(im,io);if(ss.isValue(ip)){il=ip.toString()}}return il};hL.$3=function(e,ij,ik){var il=ij.getDataValueIndex(e);return hL.$4(il,ij,ik)};hL.$4=function(e,ij,ik){var il=null;var im=hL.lookupRawDataValueFromIndex(e,ij,ik);if(ss.isValue(im)){if(tableau.format.isSpecialValue(im)){il=tableau.format.formatSpecial(im,ij.get_specialValuesOverride())}else{il=tableau.format.formatString(im,ij.get_vizColumnDoNotUse())}}return il};hL.reverseLookupAlias=function(e,ij,ik,il){var im=null;if(ik.get_hasAliases()){ij.forEachTupleId(function(io){var ip=hL.lookupAlias(io,ik,il);if(ss.compareStrings(ip,e,false)===0){im=ik.getAliasIndex(io);return false}return true})}return im};hL.buildAliasReverseLookup=function(e,ij,ik){var il={};if(ij.get_hasAliases()){e.forEachTupleId(function(im){var io=hL.lookupAlias(im,ij,ik);if(ss.isNullOrUndefined(il[io])){il[io]=ij.getAliasIndex(im)}return true})}return il};hL.isSpecial=function(e,ij,ik,il){var im=hL.lookupRawDataValue(e,ij,ik);if(ss.isNullOrUndefined(im)){var io=ij.getAliasIndex(e);if(ss.isValue(io)){if(hL.$1(io)){io=hL.$0(io)}var ip=io;im=hL.lookupRawDataValueFromIndex(ip,ij,ik)}if(ss.isNullOrUndefined(im)){return false}}return(ss.isNullOrUndefined(il)?tableau.format.isSpecialValue(im):ss.referenceEquals(im,il))};global.tab.VizDataLookup=hL;var hM=function(e){this.$4=null;this.$6=null;this.$5=null;this.$2$1=null;ew.call(this,e,new eT('zFl'.toString()));this.$4=[];this.$5=[]};hM.__typeName='tab.VizDataModel';global.tab.VizDataModel=hM;var hN=function(){};hN.__typeName='tab.VizDataUtils';hN.constructUrl=function(e,ij,ik,il,im){var io=function(ip,iq,ir){if(ss.isNullOrEmptyString(iq)){if(ss.isValue(il)){return hN.$6(e,ip,il,1,ij)}return null}var it=hN.$1(e,ip,iq);if(ij.KAU){it=encodeURIComponent(it)}return it};return hN.decodeAndReplaceData(ij.ZNi,'<','>',ik,io)};hN.constructUrlForFilterActionFromTargetURL=function(e,ij,ik,il,im){var io=function(ix,iy,iz){return hN.$5(e,ix,im,iz,ik)};var ip=ij.toString().split('?');if(ip.length===1){return ij}var iq=ip[0]+'?';var ir=ip[1].split('&');var it=[];for(var iu=0;iu<ir.length;iu++){var iv=ir[iu];var iw=hN.decodeAndReplaceData(iv,'<','>',il,io);if(iw.item2==='success'){it.push(iw.item1)}}iq+=it.join('&');return iq};hN.constructUrlFromString=function(e,ij,ik,il,im){var io=function(iq,ir,it){if(ss.isNullOrEmptyString(ir)){return hN.$2(e,iq,il,1)}else{return hN.$1(e,iq,ir)}};var ip=hN.decodeAndReplaceData(ij,'<','>',ik,io);return ip.item1};hN.constructHtml=function(e,ij,ik,il){var im=function(ir,it,iu){return hN.$2(e,ir,il,0)};var io=hN.decodeAndReplaceData(ij,'&lt;','&gt;',ik,im);var ip=$(io.item1);var iq=[];hN.getNodesOfInvalidFields(ip,iq);hN.$0(ip,iq);if(tab.MiscUtil.isNullOrEmpty$1(ip.text())){return''}return ip.wrap('<div>').parent().html()};hN.decodeAndReplaceData=function(e,ij,ik,il,im){var io='success';var ip=hN.$4(e,'escaped_open_tag');var iq=hN.$4(e,'escaped_close_tag');var ir=ss.replaceAllString(ss.replaceAllString(e,ij+ij,ip),ik+ik,iq);var it=ir.split(ij);var iu=new ss.StringBuilder(it.shift());for(var iv=0;iv<it.length;iv++){var iw=it[iv];var ix=iw.split(ik);var iy=ss.htmlDecode(ss.replaceAllString(ss.replaceAllString(ix[0],ip,ij),iq,ik));var iz=ix[1];var iA=true;var iB=iy.lastIndexOf(String.fromCharCode(126));var iC=iy.lastIndexOf(String.fromCharCode(93));if(iB>=0&&(iC===-1||iC<iB)){var iD=iy.substr(iB);iy=iy.substr(0,iB);if(iD==='~na'){iA=false}}var iE=null;if(hN.$7(iy)){var iF=iy.indexOf('(');iE=iy.substring(0,iF);iy=iy.substring(iF+1,iy.length-1)}var iG=iy.indexOf(String.fromCharCode(91));var iH=iy.lastIndexOf(String.fromCharCode(93));if(iG>=0&&iG<iH){iy=iy.substring(iG+1,iH)}if(ss.startsWithString(iy,'Parameters.')){return{item1:'',item2:'notEnoughInfoYet'}}var iI=il.getVizDataField(iy);if(ss.isNullOrUndefined(iI)){return{item1:'',item2:'urlConstructionFail'}}var iJ=im(iI,iE,iA);if(ss.isNullOrUndefined(iJ)){io='urlConstructionFail'}else{iu.append(iJ)}iu.append(iz)}var iK=ss.replaceAllString(ss.replaceAllString(iu.toString(),ip,ij),iq,ik);return{item1:iK,item2:io}};hN.hasTupleWithNonTotalValue=function(e,ij,ik){for(var il=0;il<ik.length;il++){var im={$:ik[il]};var io={$:false};e.forEachVizDataField(ss.mkdel({tupleId:im,tupleHasTotal:io},function(ip,iq){if(ip.get_role()==='dimension'){if(hL.isSpecial(this.tupleId.$,ip,ij,'%all%')){this.tupleHasTotal.$=true;return false}}return true}));if(!io.$){return true}}return false};hN.isFieldNameOfColumn=function(e,ij){var ik=hN.stripNewlines(e.HBp);var il=hN.stripNewlines(ij);var im='['+il+']';return ss.referenceEquals(il,ik)||ss.referenceEquals(il,hN.stripNewlines(e._cX))||ss.referenceEquals(im,ik)||ss.referenceEquals(im,hN.stripNewlines(e.JDJ))};hN.isFieldCaptionOfColumn=function(e,ij){return ss.referenceEquals(hN.stripNewlines(ij),hN.stripNewlines(e.OLk))};hN.$4=function(e,ij){var ik=ij;while(e.indexOf(ik)>-1){ik+=Math.random()*10000|0}return ik};hN.stripNewlines=function(e){return(ss.isValue(e)?e.replace(hN.$8,''):null)};hN.getNodesOfInvalidFields=function(e,ij){var ik='';var il=e.contents().get();for(var im=0;im<il.length;im++){var io=il[im];if(io.nodeType===3){ik+=io.textContent||(io.textContent||'')}else{hN.getNodesOfInvalidFields($(io),ij)}}if(ik.indexOf('~~~???~~~')!==-1){ij.push(e)}};hN.addVizDataToZones=function(e,ij){var ik=_.keys(ij);var il=_.keys(e);for(var im=0;im<il.length;im++){var io=il[im];for(var ip=0;ip<ik.length;ip++){var iq=ik[ip];var ir=ij[iq];if(ir.jAM==='viz'&&ss.referenceEquals(ir.Gge,io)){var it=ir.wqq['uqP'.toString()];if(ss.isValue(it)){var iu=e[io].wqq;it.zFl=iu['genVizDataPresModel']}break}}}};hN.$0=function(e,ij){for(var ik=0;ik<ij.length;ik++){var il=ij[ik];var im=hN.$3(e,il,'tr');if(ss.isValue(im)){im.remove()}else{var io=hN.$3(e,il,'div');if(ss.isValue(io)){io.remove()}else{il.remove()}}}};hN.$3=function(e,ij,ik){var il=ij;if(ss.isValue(e)&&ss.isValue(ij)&&e.find(ij).length===1){while(!ss.referenceEquals(il[0],e[0])){if(ss.referenceEquals(il[0].tagName.toLowerCase(),ik)){return il}il=il.parent()}}return null};hN.$6=function(e,ij,ik,il,im){var io=[];for(var ip=0;ip<ik.length;ip++){var iq=ik[ip];var ir=hL.lookupAlias(iq,ij,e);if(ss.isNullOrUndefined(ir)){continue}if(hL.isSpecial(iq,ij,e,null)){continue}if(ir.indexOf(im.cqY)!==-1){ir=ss.replaceAllString(ir,im.cqY,im.ivU+im.cqY)}if(im.KAU){ir=encodeURIComponent(ir)}io.push(ir)}if(io.length===0){return null}if(io.length>1&&ss.isNullOrUndefined(im.cqY)){return null}var it=io.join(im.cqY);if(il===0){it=tableau.format.escapeHTML(it)}return it};hN.$5=function(e,ij,ik,il,im){var io=[];for(var ip=0;ip<ik.length;ip++){var iq=ik[ip];var ir=(il?hL.lookupAlias(iq,ij,e):hL.lookupRawDataValue(iq,ij,e));ir=hN.replaceUrlStringSpecialValues(ir);ir=ss.replaceAllString(ir,im.cqY,im.ivU+im.cqY);io.push(ir)}return encodeURIComponent(io.join(im.cqY))};hN.replaceUrlStringSpecialValues=function(e){switch(e){case'%null%':{return'~~null~'}case'%skipped%':{return'~~skipped~'}case'%ragged%':{return'~~ragged~'}default:{return e}}};hN.$2=function(e,ij,ik,il){var im;if(ik.length>1){if(!ij.get_hasDataValues()){return'...'}var io=new Array(ik.length);for(var ip=0;ip<ik.length;++ip){var iq=hL.lookupRawDataValue(ik[ip],ij,e);if(iq===null||tableau.format.isSpecialValue(iq)){iq='0'}else if(typeof(iq)==='undefined'||iq.length===0){return'...'}io[ip]=iq}var ir=0;for(var it=0;it<io.length;++it){ir+=parseFloat(io[it])}im=tableau.format.formatString(ir.toString(),ij.get_vizColumnDoNotUse())}else if(ik.length===1){var iu=hL.lookupDisplayValue(ik[0],ij,e);if(ss.isNullOrUndefined(iu)){return'~~~???~~~'}im=iu}else{return''}if(il===0){return tableau.format.escapeHTML(im)}else{return im}};hN.$7=function(e){return ss.startsWithString(e,'FILTERMIN(')||ss.startsWithString(e,'FILTERMAX(')||ss.startsWithString(e,'FILTERVALUES(')};hN.$1=function(e,ij,ik){if(ss.isNullOrUndefined(ij)||ss.isNullOrUndefined(ij.get_filterContext())){return''}var il=ij.get_filterContext();var im;switch(ik){case'FILTERMIN':{im=il.lHq;break}case'FILTERMAX':{im=il.jBo;break}case'FILTERVALUES':{im=il.kLT;break}default:{return''}}if(tab.MiscUtil.isNullOrEmpty(im)){return''}var io=[];for(var ip=0;ip<im.length;ip++){var iq=im[ip];var ir=hL.lookupRawDataValueFromIndex(iq,ij,e);io.push(ir)}return io.join(',')};global.tab.VizDataUtils=hN;var hO=function(e){this.$0=null;this.$0=e};hO.__typeName='tab.VizRegionRectWrapper';hO.create=function(e){return new hO(e)};global.tab.VizRegionRectWrapper=hO;var hP=function(e){this.explicitNotGuest=false;this.$m=0;this.$n='';this.$l='';this.$f='';this.$j={};this.$g='';this.$h='';this.$i='';this.$k='';if(ss.getKeyCount(hP.$9)===0){hP.$2()}if(ss.isValue(e)){this.$5(e)}};hP.__typeName='tab.VizUriModel';hP.createForCurrentWindowLocation=function(e){if(tab.MiscUtil.isNullOrEmpty(e)){e=tabBootstrap.Utility.get_locationWindow()}var ij=new hP(tab.WindowHelper.getLocation(e));return ij};hP.createForViewingSheet=function(e){var ij=hP.$0();ij.$m=(tsConfig.is_revision_history_preview?6:(ij.$m=1));var ik=new fi(e);ij.$n=ik.get_workbookId();ij.$l=ik.get_sheetId();ij.$g=ik.get_customizedView();ij.$f='';return ij};hP.createForViewingSheets=function(e,ij){if(ss.isNullOrUndefined(e)||e.length===0){return[]}var ik=e.length;var il=new Array(ik);var im=hP.$0();im.$m=1;im.$f='';if(!ij){im.removeAllQueryParams()}for(var io=0;io<ik;io++){var ip=im.clone();var iq=e[io];var ir=new fi(iq);ip.$n=ir.get_workbookId();ip.$l=ir.get_sheetId();ip.$g=ir.get_customizedView();il[io]=ip}return il};hP.createForCurrentWindowLocationAndVizState=function(e,ij){var ik=hP.createForCurrentWindowLocation();var il=new fi(e);ik.$n=il.get_workbookId();ik.$l=il.get_sheetId();ik.$g=il.get_customizedView();ik.$f=ij;return ik};hP.createForAuthoringUnpublishedSheet=function(e,ij){var ik=hP.createForAuthoringPublishedSheet(e);ik.$f=ij;return ik};hP.createForAuthoringPublishedSheet=function(e){var ij=hP.$0();ij.$m=2;var ik=new fi(e);ij.$n=ik.get_workbookId();ij.$l=ik.get_sheetId();ij.$f='';ij.$e();return ij};hP.createInvalid=function(){var e=new hP;e.$m=0;return e};hP.$2=function(){var e=ss.getEnumerator(Object.keys(hP.$d));try{while(e.moveNext()){var ij=e.current();hP.$9[hP.$d[ij]]=ij}}finally{e.dispose()}};hP.$0=function(e){if(tab.MiscUtil.isNullOrEmpty(e)){e=tabBootstrap.Utility.get_locationWindow()}var ij=tab.WindowHelper.getLocation(e);var ik=new hP(ij);ik.$j=hP.$1(ij);ik.$h=ij.hash;ik.$i=tab.BrowserSupport.getOrigin(ij);return ik};hP.$1=function(e){var ij=tab.MiscUtil.getUriQueryParameters(e.href);for(var ik=0;ik<hP.$c.length;ik++){var il=hP.$c[ik];if(ss.keyExists(ij,il)){delete ij[il]}}return ij};hP.encodeUserName=function(e){var ij=tab.MiscUtil.percentEncode(e,hP.$a);return ss.replaceAllString(ij,'%40','@')};global.tab.VizUriModel=hP;var hQ=function(){};hQ.__typeName='tab.VizUriType';global.tab.VizUriType=hQ;var hR=function(){this.$7=null;this.$d=null;this.$b=0;this.$8=null;this.$e=null;this.$c=null;this.$a=false;this.$9=false;this.$7=$('#loadingGlassPane');this.$7.on('mousedown',function(e){e.stopImmediatePropagation()});this.$7.on('mousewheel DOMMouseScroll',function(e){e.preventDefault()});this.$d=$('#loadingSpinner');this.$b=0;this.$a=true;this.$9=false};hR.__typeName='tab.WaitHandler';global.tab.WaitHandler=hR;var hS=function(e){this.$2$1=null;ew.call(this,e,new eT('lhW'.toString()))};hS.__typeName='tab.WarningDialogModel';global.tab.WarningDialogModel=hS;var hT=function(e){this.$1=null;this.$2$1=null;ew.call(this,e,new eT('_Ss'.toString()));this.$1=e.get_zone()};hT.__typeName='tab.WebZoneModel';global.tab.WebZoneModel=hT;var hU=function(e){this.$3$1=null;hv.call(this,e,new eT('xKN'.toString()))};hU.__typeName='tab.WindowTableCalcModel';global.tab.WindowTableCalcModel=hU;var hV=function(e){this.$4=null;this.$6=null;this.$8=null;this.$9=null;this.$7=null;this.$5=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.$2$9=null;this.$2$10=null;ew.call(this,e,new eT('res'.toString()));this.$4=new bS(this);this.$8=new cw(this);this.$7=new cn(this);if(tab.FeatureFlags.isEnabled('FormatWorkbookWeb')){this.set_formatPaneModel(new dk(this))}if(tab.FeatureFlags.isEnabled('WebQuickNumberFormatting')){this.set_formatQuickNumberMenuModel(new dk(this))}};hV.__typeName='tab.WorkbookModel';hV.add_workbookModifiedChanged=function(e){hV.$2$1=ss.delegateCombine(hV.$2$1,e)};hV.remove_workbookModifiedChanged=function(e){hV.$2$1=ss.delegateRemove(hV.$2$1,e)};hV.$1=function(e){if(hV.$0(e)){return e.mmK.nhM.xD}return null};hV.$0=function(e){return ss.isValue(e)&&ss.isValue(e.mmK)&&ss.isValue(e.mmK.nhM)};hV.fireWorkbookModifiedChanged=function(e){if(!ss.staticEquals(hV.$2$1,null)){hV.$2$1(e)}D.get().onWorkbookModifiedChanged(e);dojo.publish('workbookModifiedChanged',[e])};global.tab.WorkbookModel=hV;var hW=function(){};hW.__typeName='tab.WorkbookViewObjectUtils';hW.createVizUriModelForAuthoringSheetInWorkbook=function(e,ij){var ik;var il=hW.findSheetIdBySheetNameInWorkbook(e,ij);if(il.length>0){ik=hP.createForAuthoringPublishedSheet(ij.repositoryUrl+'/'+il)}else{var im=hW.findFirstSheetInWorkbook(ij);ik=hP.createForAuthoringUnpublishedSheet(ij.repositoryUrl+'/'+im,e)}if(tab.MiscUtil.isNullOrEmpty(ik)){ik=hP.createInvalid()}return ik};hW.createVizUriModelForViewingSheetInWorkbook=function(e,ij){var ik;var il=hW.findSheetIdBySheetNameInWorkbook(e,ij);if(il.length>0){ik=hP.createForViewingSheet(ij.repositoryUrl+'/'+il)}else{ik=hP.createInvalid()}return ik};hW.findSheetIdBySheetNameInWorkbook=function(e,ij){var ik=_.find(ij.views,function(il){return ss.referenceEquals(il.name,e)});if(ss.isNullOrUndefined(ik)){return''}return ik.sheetId};hW.findFirstSheetInWorkbook=function(e){var ij=_.first(e.views);if(ss.isNullOrUndefined(ij)){return''}return ij.sheetId};global.tab.WorkbookViewObjectUtils=hW;var hX=function(e,ij,ik){this.$1=null;this.$2=null;this.$0=null;this.$1=e;this.$2=ij;this.$0=ik};hX.__typeName='tab.WorkgroupDataSource';hX.$0=function(e){var ij=(ss.isValue(e)?e.match(hX.$1):null);return(ss.isValue(ij)?ij[1]:e)};global.tab.WorkgroupDataSource=hX;var hY=function(){};hY.__typeName='tab.WorkgroupServerCommands';hY.getWritableProjects=function(e){var ij=[];hY.$6(Object).call(null,'getWritableProjects',new j,ss.mkdel(this,function(ik){var il=hY.$h(Object).call(null,ik,hY.$e);ss.arrayAddRange(ij,il.items);return il}),function(){e(ij)})};hY.extendWorkgroupSession=function(){if(!tsConfig.is_guest){ie.helper(hY.$3('getSessionInfo',null,function(){},function(){}))}};hY.getSchedules=function(e){var ij=[];hY.$6(fs).call(null,'getSchedules',new j,ss.mkdel(this,function(ik){var il=hY.$h(fs).call(null,ik,hY.$f);ss.arrayAddRange(ij,il.items);return il}),function(){e(ij)})};hY.getSiteUsers=function(e,ij){var ik=[];hY.$6(hC).call(null,'getUsers',hY.$2(e),ss.mkdel(this,function(il){var im=hY.$h(hC).call(null,il,hY.$g);_.each(im.items,function(io){ik.push(io)});return im}),function(){ij(ik)})};hY.fetchPageOfDataSources=function(e,ij,ik){var il=$.Deferred();hY.$7(Object).call(null,'getDatasources',hY.$1(e,ij,ik),ss.mkdel(this,function(im){var io=hY.$h(Object).call(null,im,hY.$d);var ip=_.indexBy(hY.$e(im),'id');var iq=_.indexBy(hY.$g(im),'id');var ir={items:_.map(io.items,function(it){var iu=ip[it.projectId.toString()];var iv=iq[it.ownerId.toString()];return new hX(it,iu,iv)}),moreItems:io.moreItems};il.resolve(ir);return io}));return il.promise()};hY.getDatasources=function(e,ij,ik){var il=[];hY.$6(Object).call(null,'getDatasources',hY.$1(0,ij,ik),ss.mkdel(this,function(im){var io=hY.$h(Object).call(null,im,hY.$d);var ip=_.indexBy(hY.$e(im),'id');var iq=_.indexBy(hY.$g(im),'id');if(ss.isValue(io)){il=il.concat(_.map(io.items,function(ir){var it=ip[ir.projectId.toString()];var iu=iq[ir.ownerId.toString()];return new hX(ir,it,iu)}))}return io}),function(){e(il)})};hY.$7=function(e){return function(ij,ik,il){var im=$.Deferred();var io=hY.$3(ij,ik.$2(),function(){},function(){});io.success=function(ip,iq,ir){fF.onVizportalPinged();var it=hY.$9(ip);if(hY.$c(it)){im.reject();return}var iu=il(it);im.resolve(iu)};ie.helper(io);return im.promise()}};hY.fetchPageOfSiteUsers=function(e,ij){var ik=$.Deferred();var il=hY.$2(e);il.$1(ij);il.$2()['includeGuestIfEnabled']=false;hY.$7(hC).call(null,'getUsers',il,ss.mkdel(this,function(im){var io=hY.$h(hC).call(null,im,hY.$g);ik.resolve(io);return io}));return ik.promise()};hY.$h=function(e){return function(ij,ik){var il=ik(ij);var im=ij['moreItems'].toString().toLowerCase()==='true';return{items:il,moreItems:im}}};hY.$2=function(e){var ij={field:'displayName',ascending:true};var ik={operator:'and',clauses:[{operator:'matches',value:e}]};return new j.$2(ij,ik)};hY.$1=function(e,ij,ik){var il={operator:'and',clauses:[{field:'isPublished',operator:'eq',value:true}]};if(ss.isValue(ik)){il.clauses=il.clauses.concat([{operator:'matches',value:ik}])}var im=new j.$1(ij,il);im.$1(e);return im};hY.$6=function(e){return function(ij,ik,il,im){var io=hY.$7(e).call(null,ij,ik,il);io.done(function(ip){if(!ip.moreItems){im();return}ik.$1(ik.$0()+ip.items.length);hY.$6(e).call(null,ij,ik,il,im)});io.fail(im)}};hY.setUserEmail=function(e,ij,ik){hY.$a(function(il){var im=ss.mkdict(['userId',il,'email',e]);ie.helper(hY.$3('updateUserEmail',im,ij,ik))},ik)};hY.$a=function(e,ij){var ik=tsConfig.current_user_name;var il=tsConfig.current_user_domain_name;var im=[{field:'username',operator:'eq',value:ik},{field:'domainName',operator:'eq',value:il}];var io=ss.mkdict(['filter',{clauses:im}]);ie.helper(hY.$3('getServerUsers',io,function(ip){var iq=ip['users'];if(ss.isValue(iq)&&iq.length>0&&ss.keyExists(iq[0],'id')){var ir=iq[0]['id'];e(ir)}else{ij(hY.$8(ip))}},ij))};hY.createSubscription=function(e,ij,ik,il,im,io){var ip=hY.$0(ik.get_schedulePresModel().id,e,ij,ss.coalesce(il,'Always'));ie.helper(hY.$3('createSubscription',ip,im,io))};hY.createSubscriptions=function(e,ij,ik,il,im,io,ip,iq){var ir=hY.$0(il.get_schedulePresModel().id,e,ij,ss.coalesce(im,'Always'));ir['userIds']=ik;ie.helper(hY.$5('createSubscriptions',ir,io,ip,iq))};hY.createDataAlert=function(e,ij,ik){var il=hY.buildCreateDataAlertRequestParams(e);ie.helper(hY.$3('createDataAlert',il,ij,ik))};hY.buildCreateDataAlertRequestParams=function(e){var ij='view';var ik=tsConfig.current_view_id;var il=ss.mkdict(['title',e.get_subject(),'dataAlertSpecification',JSON.stringify(e.get_measurePresModel()),'dataAlertCondition',JSON.stringify(e.get_conditionPresModel()),'trigger',ss.mkdict(['triggerType','schedule','id',e.get_triggerType().get_schedulePresModel().id]),'context',ss.mkdict(['contextType',ij,'id',ik])]);return il};hY.logOff=function(e){var ij=function(ik){var il=ik['redirectUrl'];tab.WindowHelper.setLocationHref(window.self,(ss.isValue(il)?il:'/'))};ie.helper(hY.$3('logout',{},ij,e))};hY.$3=function(e,ij,ik,il){var im=function(io){if(hY.$c(io)){il(hY.$8(io))}else{ik(io)}};return hY.$4(e,ij,im,il)};hY.$5=function(e,ij,ik,il,im){var io=function(ip){if(hY.$c(ip)){il(ip)}else{ik(ip)}};return hY.$4(e,ij,io,im)};hY.$4=function(e,ij,ik,il){var im=new Object;im.type='POST';im.contentType='application/json;charset=UTF-8';im.dataType='json';im.url='/vizportal/api/web/v1/'+e;var io=hY.$b();if(ss.isValue(io)){im.headers=ss.mkdict(['X-XSRF-TOKEN',io])}im.data=JSON.stringify(ss.mkdict(['method',e,'params',ij]));im.success=function(ip,iq,ir){ik(hY.$9(ip))};im.error=function(){il(0)};return im};hY.$0=function(e,ij,ik,il){return ss.mkdict(['scheduleId',e,'subject',ij.trim(),'targetType',(ik?'Workbook':'View'),'targetId',(ik?tsConfig.current_workbook_id:tsConfig.current_view_id),'customizedViewId',tsConfig.current_custom_view_id,'dataConditionType',il])};hY.$b=function(){var e=document.cookie.match(new RegExp('(^|;) ?XSRF-TOKEN=([^;]*)(;|$)'));return(ss.isValue(e)?e[2]:null)};hY.$c=function(e){if(ss.keyExists(e,'errors')){var ij=e['errors'];return ij.length>0}else{return false}};hY.$8=function(e){if(ss.keyExists(e,'errors')){var ij=e['errors'];if(ij.length>0&&ss.keyExists(ij[0],'code')){return ij[0]['code']}}return 0};hY.$e=function(e){return _.map(e['projects'],function(ij){return ij})};hY.$f=function(e){return _.map(e['schedules'],function(ij){return new fs(ij)})};hY.$g=function(e){return _.map(e['users'],function(ij){var ik=new hC;ik.username=ij['username'].toString();ik.friendlyName=ij['displayName'].toString();ik.id=parseInt(ij['id'].toString());return ik})};hY.$d=function(e){return e['datasources']};hY.$9=function(e){var ij=e;return ij['result']};global.tab.WorkgroupServerCommands=hY;var hZ=function(){};hZ.__typeName='tab.WorkgroupServerErrorCode';global.tab.WorkgroupServerErrorCode=hZ;var ia=function(){};ia.__typeName='tab.WorksheetServerCommands';ia.revert=function(){var e=bV.newSrvCommand('revert-workbook');bJ.SendCommand(m.$0(e,'immediately'))};ia.undoToPosition=function(e){var ij=bV.newDocCommand('undo');ij.commandParams=ia.$0(e);bJ.SendCommand(m.$0(ij,'immediately'))};ia.redoToPosition=function(e){var ij=bV.newDocCommand('redo');ij.commandParams=ia.$0(e);bJ.SendCommand(m.$0(ij,'immediately'))};ia.$0=function(e){var ij={};ij['DfV']=e;return ij};global.tab.WorksheetServerCommands=ia;var ib=function(e){this.$0=null;this.$1=null;this.currentWorldDiffersFromCheckpoint=false;this.$0=e;this.currentWorldDiffersFromCheckpoint=false};ib.__typeName='tab.WorldCheckpointHolder';global.tab.WorldCheckpointHolder=ib;var ic=function(){this.$1$1=null;this.$1$2=null;this.$1$3=null};ic.__typeName='tab.WorldUpdateInterceptor';ic.get=function(){return ic.$0.value()};global.tab.WorldUpdateInterceptor=ic;var id=function(){};id.__typeName='tab.WorldUpdateServerCommands';id.getWorldUpdate=function(e){var ij=new Object;ij.commandNamespace='tabdoc'.toString();ij.commandName='get-world-update'.toString();ij.commandParams=id.$0();fB.executeServerCommand(ij,'immediately',e,e)};id.$0=function(){var e={};e['Gge']=tsConfig.current_sheet_name;return e};global.tab.WorldUpdateServerCommands=id;var ie=function(){};ie.__typeName='tab.XhrUtil';ie.get_currentTabName=function(){return ie.$0};ie.set_currentTabName=function(e){ie.$0=e};ie.helper=function(e,ij){var ik=new ie;if(!ss.isValue(e.success)&&ss.isValue(ij)){e.success=ij.get_successDelegate()}if(!ss.isValue(e.complete)&&ss.isValue(ij)){e.complete=ij.get_completedDelegate()}if(!ss.isValue(e.error)&&ss.isValue(ij)){e.error=ij.get_errorDelegate()}return ik.request(e)};ie.getMultipartData=function(e,ij){var ik=ie.randomString();var il='--'+ik;var im='\r\n';var io=new ss.StringBuilder;if(ss.isValue(e)){io.append(il);io.append(im);io.append('Content-Disposition: form-data; name="');io.append(e['name']);io.append('"');if('filename'in e){io.append('; filename="');io.append(e['filename']);io.append('"')}io.append(im);io.append('Content-Type: ');io.append(e['contentType']);io.append(im);io.append(im);io.append(e['content']);io.append(im)}if(ss.isValue(ij)){var ip=new ss.ObjectEnumerator(ij);try{while(ip.moveNext()){var iq=ip.current();io.append(il);io.append(im);io.append('Content-Disposition: form-data; name="');io.append(iq.key);io.append('"');io.append(im);io.append(im);if(ss.isInstanceOfType(iq.value,String)){io.append(iq.value)}else{io.append(JSON.stringify(iq.value))}io.append(im)}}finally{ip.dispose()}}io.append(il);io.append('--');io.append(im);var ir={};ir.header=ik;ir.body=io.toString();return ir};ie.randomString=function(){var e='0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz';var ij=8;var ik='';for(var il=0;il<ij;il++){var im=Math.random()*e.length;var io=im|0;ik+=e.substring(io,io+1)}return ik};global.tab.XhrUtil=ie;var ig=function(e){ew.call(this,e,new eT('wqq'.toString()))};ig.__typeName='tab.ZoneContentWrapperModel';global.tab.ZoneContentWrapperModel=ig;var ih=function(e,ij,ik){this.$b=null;this.$f=null;this.$9=null;this.$6=null;this.$a=null;this.$8=false;this.$7=false;this.$d=null;this.$c=0;this.$e=0;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;ew.call(this,e,new eT(ik.toString(),0));this.$b=ij;this.$6=new bS(this)};ih.__typeName='tab.ZoneModel';ih.typeOfContent=function(e){var ij=e.wqq;if(ss.isNullOrUndefined(ij)){return null}if(ss.getKeyCount(ij)===1){var ik=ss.getEnumerator(Object.keys(ij));try{while(ik.moveNext()){var il=ik.current();return il}}finally{ik.dispose()}}switch(e.jAM){case'filter':case'layout-basic':case'layout-flow':case'layout-free-form':case'empty':{return''}}return''};ih.getContent=function(e,ij){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.wqq)){return null}if(!(ij in e.wqq)){return null}return e.wqq[ij]};ih.$1=function(e){return(ss.isNullOrEmptyString(e)?null:JSON.parse(e))};ih.$0=function(e){switch(e){case'color':{return'color'}case'shape':{return'shape'}case'size':{return'size'}case'map':{return'map'}}return'color'};global.tab.ZoneModel=ih;var ii=function(e){this.$7=null;this.$6=null;this.$5=null;this.$2$1=null;this.$2$2=null;ew.call(this,e,new eT('HCq'.toString()));this.set_zonePresModels({});this.$7={};this.$6={}};ii.__typeName='tab.ZonesModel';ii.$0=function(e){return'z_'+e};global.tab.ZonesModel=ii;ss.initClass(bB,a,{get_isBlocking:function(){return this.$5!=='none'},get_blockType:function(){return this.$5},get_isOneAtATime:function(){return false},get_commandName:function(){return this.$1},set_commandName:function(e){this.$1=e},get_hasLocalComponent:function(){return this.hasLocalComponent},get_hasRemoteComponent:function(){return this.hasRemoteComponent},execute:function(e,ij,ik){var il=null;if(!ss.staticEquals(ik,null)){il=function(im){_.defer(function(){ik(im)})}}if(this.$4==='localFirst'){this.executeLocal(e);this.executeRemote(ij,il)}else if(this.$4==='remoteFirst'){this.executeRemote(ij,il);this.executeLocal(e)}if(!ss.isValue(this.doRemoteWork)&&ss.isValue(il)){il(bK.successResult)}},executeLocal:function(e){if(ss.isValue(this.doLocalWork)){{var ij=tabBootstrap.MetricsController.createContext('EXELOC'.toString(),8,this.buildCommandMetricsParameters());try{this.doLocalWork(e)}finally{if(ss.isValue(ij)){ij.dispose()}}}}},executeRemote:function(e,ij){if(ss.isValue(this.doRemoteWork)){this.$3=new Array;this.doRemoteWork(e,function(ik){fF.onVizqlPinged();if(ss.isValue(ij)){ij(ik)}})}},buildCommandMetricsParameters:function(){var e={};e['cn']=this.get_commandName();return e},reEnqueueCompletedCommandRecords:function(){if(ss.isNullOrUndefined(this.$3)){return}var e=this.$3;var ij=this.$2;while(ij.length>0){e.push(ij.shift())}this.$2=e;this.$3=ij},enqueueCommand:function(e){this.$2.push(e)},handleRemoteCommandSuccess:function(e,ij){if(ss.isValue(e.get_successCallback())){e.get_successCallback()(ij)}},handleRemoteCommandFailure:function(e,ij){if(ss.isValue(e.get_errorCallback())){e.get_errorCallback()(ij)}},$0:function(e,ij){if(this.$2.length===0){if(ss.isValue(ij)){ij(bK.successResult)}return}var ik=this.$2.shift();this.$3.push(ik);var il=ik.get_commandToExecute();if(ss.isNullOrUndefined(il)){if(ss.isValue(ij)){ij(bK.successResult)}return}e.executeCommand(il,ss.mkdel(this,function(im){try{this.handleRemoteCommandSuccess(ik,im)}finally{this.$0(e,ij)}}),ss.mkdel(this,function(im){try{this.handleRemoteCommandFailure(ik,im)}finally{if(ss.isValue(ij)){ij(new bK(false,im))}}}))}});ss.initClass(b,a,{get_isOneAtATime:function(){return true}},bB);ss.initInterface(eb,a,{add_commmandSucceeded:null,remove_commmandSucceeded:null,add_commandFailed:null,remove_commandFailed:null,executeCommand:null});ss.initClass(c,a,{add_commmandSucceeded:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_commmandSucceeded:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_commandFailed:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_commandFailed:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},$0:function(e){var ij=e['kqB'.toString()];if(ss.isValue(ij)&&ij.mxu.length>0){var ik=ij.mxu[0];var il=ik.nCR;if(ss.isValue(il)&&ss.keyExists(il,'TXj')){var im=il['TXj'];if(!im.GiX){return new ss.Exception(ss.formatString('{0}: {1}',ik.$iY,im.BNT))}}}return null},executeCommand:function(e,ij,ik){for(var il=0;il<this.$6.length;il++){var im=this.$6[il];if(im.$2(e,ij,ik)===0){return}}var io={};io['cn']=e.commandName;var ip=tabBootstrap.MetricsController.createContext('EXEREM'.toString(),8,io);var iq=this.$5;var ir=ss.mkdel(this,function(iu){ip.dispose();if(ss.isValue(this.$1$2)){this.$1$2(iq,e,iu)}ik(iu)});var it=ss.mkdel(this,function(iu){ip.dispose();var iv=this.$0(iu);if(ss.isNullOrUndefined(iv)){if(ss.isValue(this.$1$1)){this.$1$1(iq,e,iu)}var iw=eR.fromCommand(iu,e);ij(iw)}else{ir(iv)}});this.$7.executeServerCommand(e,it,ir);++this.$5},$3:function(e,ij,ik){var il=new bU;il.commandNamespace=e;il.commandName=ij;this.$2([il],ik)},$2:function(e,ij){this.$4(e,ij,null,null)},$4:function(e,ij,ik,il){var im=new v(this,e,ij,ik,il);im.$g(ss.mkdel(this,this.$1));this.$6.push(im)},$1:function(e,ij,ik){var il=new ss.Exception('Command '+e.commandName+' was dropped by the CommandThrottler');if(!ss.staticEquals(this.$1$2,null)){this.$1$2(0,e,il)}ik(il)}},null,[eb]);ss.initClass(ew,a,{getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(false)},getPresModelPath:function(){return this.$0(new eS)},reparent:function(e){this.parent=e},getMutableCopyOfPresModelInternal:function(e){var ij=(e?tab.MiscUtil.cloneObject(this.pm):eR.cloneObjWithScalarsOnly(this.pm));return ij||new Object},swapAndCopyPresModel:function(e){var ij=this.pm;if(ss.isValue(ij)&&ss.isValue(e)){var ik=e;var il=ij;var im=Object.keys(il);for(var io=0;io<im.length;io++){var ip=im[io];if((!ss.keyExists(ik,ip)||typeof(ik[ip])==='undefined')&&(!_.isBoolean(il[ip])||!ew.removeUndefinedBoolsOnSwapCopy)){ik[ip]=il[ip]}}}this.pm=e},swapPresModel:function(e){this.pm=e},simpleSwapToUpdate$1:function(e){return function(ij,ik,il){this.simpleSwapToUpdate(ij,function(){if(!ss.staticEquals(ik,null)){ik(il)}})}},simpleSwapToUpdate:function(e,ij){if(this.isNewPresModelSameAsOld(e)){return false}this.swapAndCopyPresModel(e);this.raiseEvent(ij);return true},isNewPresModelSameAsOld:function(e){return _.isEqual(this.pm,e)},raiseEvent$1:function(e){return function(ij,ik){if(ss.staticEquals(ij,null)){return}this.raiseEvent(function(){ij(ik)})}},raiseEvent$2:function(e,ij){return function(ik,il,im){if(ss.staticEquals(ik,null)){return}this.raiseEvent(function(){ik(il,im)})}},raiseEvent:function(e){if(ss.staticEquals(e,null)){return}if(ss.isValue(this.pm)){}if(ss.isNullOrUndefined(ew.$0)){ew.$0=[]}ew.$0.push(e);if(ss.isNullOrUndefined(ew.$1)){ew.$1=window.setTimeout(function(){ew.fireDeferredEvents(null,null)},0)}},$0:function(e){if(!ss.isValue(this.parent)){e.reverse();return e}if(ss.isValue(this.presModelKey)){e.add(this.presModelKey)}var ij=this.parent;return ij.$0(e)}});ss.initClass(f,a,{},ew);ss.initClass(g,a,{},ew);ss.initClass(h,a,{},ew);ss.initClass(i,a,{});ss.initClass(j,a,{$0:function(){return this.$5.startIndex},$1:function(e){this.$5.startIndex=e},$2:function(){if(ss.isValue(this.$6)){return this.$6}var e=_.map(this.$4,function(ij){return ss.mkdict(['field',ij.field,'ascending',ij.ascending])});this.$6=ss.mkdict(['page',this.$5,'order',e]);if(ss.isValue(this.$3)){this.$6['filter']=this.$3}return this.$6}});j.$2.prototype=j.$1.prototype=j.$0.prototype=j.prototype;ss.initClass(k,a,{handleRemoteCommandSuccess:function(e,ij){bB.prototype.handleRemoteCommandSuccess.call(this,e,ij);if(this.$8){return}this.$8=true;var ik=ij;if(ss.isNullOrUndefined(ik)||ss.getKeyCount(ik)===0){return}var il=this.$7;var im=this.$7.commandParams;if(ss.keyExists(ik,'Iee')){var io=ik['Iee'];var ip=bR.deserialize(gc.create(io).get_simpleCommand());if(ss.isValue(ip)){il=ip;im=ip.commandParams}}if(ss.keyExists(ik,'JPc')){im['JPc']=ik['JPc']}else if(ss.keyExists(ik,'HBp')){var iq={};iq.HBp=ik['HBp'];im['JPc']=JSON.stringify([iq])}fT.setCommandParams(il,im);this.enqueueCommand(new bO(il));if(ss.keyExists(ik,'lSS')&&ik['lSS']&&this.$6==='filter-shelf'){var ir=ik['iDH'];var it=bV.newDocCommand('create-default-quick-filter');var iu={};iu['HBp']=ir.HBp;fT.setCommandParams(it,iu);this.enqueueCommand(new bO(it))}}},bB);ss.initClass(l,a,{$3:function(){return this.$4.length},$1:function(e){if(e.get_isOneAtATime()){this.$2(ss.getInstanceType(e))}this.$4.push(e)},$0:function(){if(this.$4.length<=0){return null}var e=this.$4[0];ss.removeAt(this.$4,0);return e},$2:function(e){var ij=0;for(var ik=this.$4.length-1;ik>=0;--ik){if(ss.referenceEquals(ss.getInstanceType(this.$4[ik]),e)){++ij;ss.removeAt(this.$4,ik)}}if(ij>0){}}});ss.initClass(m,a,{},bB);ss.initClass(n,a,{$0:function(){return this.$2},$1:function(){return this.$3}});ss.initEnum(o,a,{$0:0,$1:1});ss.initClass(p,a,{$4:function(){return this.$9},$5:function(){return ss.getKeyCount(this.$a)===0},$6:function(){return _.map(this.$a,function(e,ij){return e})},$0:function(e,ij){if(ss.isNullOrUndefined(e)||e.length===0){return}this.$8.push(p.$0(ij,e));this.$7=this.$7||this.$2(e);e=p.$1(ij,e);this.$a[e.join(',')]=e},$1:function(e,ij){if(ss.isNullOrUndefined(ij)||ij.length===0){return false}var ik;if(this.$7||this.$2(ij)){ik=this.$3(e,ij)}else{var il=p.$1(e,ij);ik=ss.keyExists(this.$a,il.join(','))}return ik},$2:function(e){for(var ij=0;ij<e.length;ij++){var ik=e[ij];if(!ss.isValue(ik)){return true}}return false},$3:function(e,ij){var ik=p.$0(e,ij);for(var il=0;il<this.$8.length;il++){var im=this.$8[il];var io=true;var ip=false;var iq=0;var ir=0;while(io&&ir<im.length&&iq<ik.length){var it=im[ir];var iu=ik[iq];if(it.item1<iu.item1){++ir}else if(it.item1>iu.item1){++iq}else{io=!ss.isValue(it.item2)||!ss.isValue(iu.item2)||ss.referenceEquals(it.item2,iu.item2);ip=ip||ss.referenceEquals(it.item2,iu.item2);++ir;++iq}}if(io&&ip){return true}}return false}});ss.initEnum(q,a,{$0:1,$1:2,$2:3,$3:4,$4:5,$5:6});ss.initClass(hG,a,{gv:function(e){return this.v[e]},setValue:function(e,ij){this.v[e]=ij},transform:function(e){if(this.isValid&&!ss.staticEquals(e,null)){for(var ij=0;ij<this.length;ij++){this.v[ij]=e(this.v[ij])}}}});ss.initClass(r,a,{gv:function(e){return this.v[0]},setValue:function(e,ij){this.v[0]=ij}},hG);ss.initClass(s,a,{});ss.initClass(t,a,{});ss.initClass(u,a,{$0:function(){if(ss.isNullOrUndefined(this.$1)){return this.$2}var e=_.keys(this.$1);var ij=this.$2.mmK.HCq;var ik=this.$1;for(var il=0,im=e.length;il<im;il++){var io=e[il];ij[io].wqq=ik[io]}return this.$2}});ss.initClass(v,a,{$g:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},$h:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},$2:function(e,ij,ik){var il=false;for(var im=0;im<this.$5.length;im++){var io=this.$5[im];if(ss.referenceEquals(io.commandName,e.commandName)&&ss.referenceEquals(io.commandNamespace,e.commandNamespace)){il=true;break}}if(!il){return 1}if(this.$6){return 1}if(ss.isValue(this.$b)&&ss.isValue(this.$f)){this.$1(this.$b,this.$d,this.$c);this.$b=e;this.$d=ij;this.$c=ik;return 0}var ip=Math.floor(tabBootstrap.MetricsController.getTiming());var iq=ip-this.$7;if(this.$e!==-1&&iq<this.$e){this.$3(e,ij,ik,this.$e-iq)}else if(this.$a!==-1&&this.$8>=this.$a){this.$3(e,ij,ik,this.$9*this.$8)}else{this.$6=true;++this.$8;try{this.$4.executeCommand(e,ss.mkdel(this,function(ir){if(this.$8>0){--this.$8}ij(ir)}),ss.mkdel(this,function(ir){if(this.$8>0){--this.$8}ik(ir)}))}finally{this.$6=false;this.$7=ip}}return 0},$0:function(){var e=this.$b;var ij=this.$d;var ik=this.$c;this.$b=null;this.$d=null;this.$c=null;if(!ss.isValue(e)){return}this.$4.executeCommand(e,ij,ik)},$3:function(e,ij,ik,il){this.$b=e;this.$d=ij;this.$c=ik;this.$f=window.setTimeout(ss.mkdel(this,function(){this.$f=null;this.$0()}),il)},$1:function(e,ij,ik){if(ss.isValue(this.$1$1)){this.$1$1(e,ij,ik)}}});ss.initClass(w,a,{},bB);ss.initClass(x,a,{$3:function(){return this.$1$1},$4:function(e){this.$1$1=e},$2:function(){this.$1(true,false)},$1:function(e,ij){this.$4(this.$3()+1);if(e){this.$5.get_waitHandler().addrefAndTurnOnImmediately(ij)}else{this.$5.incrementWait(false)}},$0:function(){while(this.$3()>0){this.$4(this.$3()-1);this.$5.decrementWait()}}});ss.initClass(y,a,{$0:function(){return this.$1$1},$1:function(e){this.$1$1=e},$4:function(){return this.$1$2},$5:function(e){this.$1$2=e},$2:function(){return this.$1$3},$3:function(e){this.$1$3=e}});ss.initClass(z,a,{get_waitingOnCommands:function(){return this.$1()},get_deferredServerResponseQueueSize:function(){return this.$0()},get_currentWorldDiffersFromCheckpoint:function(){return this.$2.currentWorldDiffersFromCheckpoint},getWorldCheckpoint:function(){return this.$2.worldCheckpoint()}});ss.initClass(fb,a,{fractionToValue:null,valueToFraction:null});ss.initClass(C,a,{fractionToValue:function(e){if(e<=this.$3){return this.$7+e*(this.$5-this.$7)/this.$3}if(e<=this.$4){var ij=(this.$6-this.$5)/(this.$4-this.$3);var ik=this.$5-ij*this.$3;return e*ij+ik}return this.$0*e*e+this.$1*e+this.$2},valueToFraction:function(e){if(e<=this.$5){return this.$3*(e-this.$7)/(this.$5-this.$7)}if(e<=this.$6){var ij=(this.$6-this.$5)/(this.$4-this.$3);var ik=this.$5-ij*this.$3;return(e-ik)/ij}var il=Math.sqrt(this.$1*this.$1-4*this.$0*(this.$2-e));return(-this.$1+il)/(2*this.$0)}},fb);ss.initClass(D,a,{add_doLaunchAuthoring:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_doLaunchAuthoring:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_newLayoutId:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_newLayoutId:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_workbookModifiedChanged:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_workbookModifiedChanged:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_orientationChange:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_orientationChange:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},onAuthoringLaunchRequested:function(){var e=this.$1$1;if(!ss.staticEquals(e,null)){e()}},onNewLayoutId:function(e){var ij=this.$1$2;if(!ss.staticEquals(ij,null)){ij(e)}},onWorkbookModifiedChanged:function(e){var ij=this.$1$3;if(!ss.staticEquals(ij,null)){ij(e)}},onOrientationChange:function(){var e=this.$1$4;if(!ss.staticEquals(e,null)){e()}}});ss.initEnum(E,a,{highlight:'highlight',filter:'filter',url:'url'},true);ss.initClass(F,a,{});ss.initClass(G,a,{invoke$1:function(){return this.invoke(bV.newSrvCommand$1('add-dataserver-data-source',this.c))}},ss.makeGenericType(L,[Object,H]));ss.initClass(H,a,{});ss.initClass(I,a,{add_newAnalyticsPane:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newAnalyticsPane:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_analyticsPresModel:function(){return this.pm},update:function(e){this.simpleSwapToUpdate(e,this.$2$1)}},ew);ss.initClass(J,a,{});ss.initClass(K,a,{add_newWorkbook:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newWorkbook:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_applicationUpdate:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_applicationUpdate:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_toolbar:function(){return this.$a},get_workbook:function(){return this.$c},get_colorPalettes:function(){return this.$4},get_calculationModel:function(){return this.$3},get_compoundTableCalcModel:function(){return this.$5},get_isTableCalcHighlightingMode:function(){return tab.FeatureFlags.isEnabled('TableCalcsHighlighting')&&this.$5.get_hasTableCalc()},get_typeInPillCalculationModel:function(){return this.$b},get_calculationFunctionListModel:function(){return this.$2},get_shapeManager:function(){return this.$9},get_dataDictionary:function(){return this.$6},get_serverFonts:function(){return this.$2$3},set_serverFonts:function(e){this.$2$3=e},get_renderMode:function(){return(ss.isValue(this.get_appPresModel())?this.get_appPresModel().ABX:'render-mode-server')},get_localeDateFormat:function(){return((ss.isValue(this.get_appPresModel())&&!tab.MiscUtil.isNullOrEmpty$1(this.get_appPresModel().hkF))?this.get_appPresModel().hkF:'M/d/yyyy')},get_localeTimeFormat:function(){return((ss.isValue(this.get_appPresModel())&&!tab.MiscUtil.isNullOrEmpty$1(this.get_appPresModel().IzU))?this.get_appPresModel().IzU:'h:mm tt')},get_isLocalRenderMode:function(){return this.get_renderMode()==='render-mode-client'},get_appPresModel:function(){return this.pm},get_autoUpdate:function(){var e=ez.findContentDashboard();return ss.isValue(e)&&e.autoUpdate},set_autoUpdate:function(e){var ij=ez.findContentDashboard();if(ss.isValue(ij)){ij.autoUpdate=e}},get_invalid:function(){return ez.findContentDashboard().invalid},set_invalid:function(e){ez.findContentDashboard().invalid=e},get_showTabs:function(){return tsConfig.showTabs&&!this.get_isOffline()},get_showToolbar:function(){return!this.get_isOffline()},get_isOffline:function(){return tab.FeatureParamsLookup.getBool(41)},registerNotificationHandler:function(e,ij){var ik=this.$8[e];if(ss.isNullOrUndefined(ik)){ik=[];this.$8[e]=ik}for(var il=0;il<ik.length;il++){if(ss.staticEquals(ik[il],ij)){throw new ss.Exception('This handler for '+e.toString()+' already registered')}}ik.push(ij);return ij},unRegisterNotificationHandler:function(e,ij){var ik=this.$8[e];if(ss.isValue(ik)){for(var il=ik.length-1;il>=0;il--){if(ss.staticEquals(ik[il],ij)){ss.removeAt(ik,il);if(ik.length===0){delete this.$8[e];return}}}}},$1:function(e){var ij=e.NdE;if(ss.isNullOrUndefined(ij)){return}var ik=new ss.ObjectEnumerator(ij);try{while(ik.moveNext()){var il=ik.current();var im=il.key;var io=this.$8[im];if(ss.isNullOrUndefined(io)){continue}var ip=il.value.wqq;var iq=new ss.ObjectEnumerator(ip);var ir=(iq.moveNext()?iq.current().value:null);for(var it=0;it<io.length;it++){var iu=io[it];iu(ir)}}}finally{ik.dispose()}},addModel:function(e){return function(){var ij=ss.createInstance(e);var ik=ss.safeCast(ij,dX);if(ss.isValue(ik)){this.registerNotificationHandler(ik.get_notificationId(),ss.mkdel(ik,ik.onNotify))}this.$7[e]=ij;return ij}},removeModel:function(e){return function(){var ij=this.$7[e];if(ss.isNullOrUndefined(ij)){return}var ik=ss.safeCast(ij,dX);if(ss.isValue(ik)){this.unRegisterNotificationHandler(ik.get_notificationId(),ss.mkdel(ik,ik.onNotify))}delete this.$7[e]}},modelInstance:function(e){return function(){var ij=this.$7[e];if(ss.isNullOrUndefined(ij)){ij=this.addModel(e).call(this)}return ij}},update:function(e,ij){if(ss.isNullOrUndefined(this.pm)){this.pm={}}if(ss.isValue(e.ABX)){this.get_appPresModel().ABX=e.ABX}if(ss.isValue(e.vZU)){this.$6.update(e.vZU)}if(ss.isValue(e._QK)){this.$1(e._QK)}if(ss.isValue(e.res)){if(!ss.isValue(this.$c)){this.$c=new hV(this);this.raiseEvent$1(hV).call(this,this.$2$1,this.$c)}this.$c.update(e.res,ij)}if(ss.isValue(e.ZgT1)){this.$4.update(e.ZgT1)}if(ss.isValue(e.Oss)){this.$3.update(e.Oss)}if(ss.isValue(e.QjR)){this.$b.update(e.QjR)}if(ss.isValue(e.Oss)&&ss.isValue(e.Oss.mu_)){this.$2.update(e.Oss.mu_)}if(tab.FeatureFlags.isEnabled('TableCalcsNonModal')){if(ss.isValue(e._Ja)){this.$5.update(e._Ja)}}if(ss.isValue(e.R_T1)){this.$a.update(e.R_T1)}if(ss.isValue(e.nrh)){this.set_serverFonts(ss.arrayClone(e.nrh.m_V))}this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$2)},getMutableCopyOfPresModel:function(){if(ss.isNullOrUndefined(this.pm)){return null}var e={};e=$.extend(false,e,this.pm);return e}},ew);ss.initClass(M,a,{add_stateChanged:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_stateChanged:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},get_urlRoot:function(){return this.$h},get_id:function(){return tsConfig.sessionid},get_historyPosition:function(){return M.$2},set_historyPosition:function(e){M.$2=e},get_waitHandler:function(){if(ss.isNullOrUndefined(M.$3)){M.$3=new hR}return M.$3},get_sessionErrorHandler:function(){return this.defaultSessionErrorHandler},get_commonDialogProvider:function(){return this.$e},$d:function(){return this.$h+'/sessions/'+tsConfig.sessionid},formatThumbnailReference:function(e){return this.$g+'/thumb/views/'+e},formatSessionTempfileReference:function(e,ij,ik){return this.$h+'/tempfile/sessions/'+tsConfig.sessionid+'/?key='+e+(ij?'&keepfile=yes':'')+(ik?'&attachment=yes':'')},railsEncode:function(e){var ij=new ss.ObjectEnumerator(M.$1);try{while(ij.moveNext()){var ik=ij.current();e=e.replace(ik.value,ik.key)}}finally{ij.dispose()}return e},nudgeWait:function(){if(ss.isNullOrUndefined(M.$3)){return false}M.$3.nudge();return true},incrementWait:function(e){if(ss.isNullOrUndefined(M.$3)){return false}M.$3.addref(e);return true},decrementWait:function(){if(ss.isNullOrUndefined(M.$3)){return false}M.$3.release();return true},handleAuthenticationFailure:function(){this.defaultSessionErrorHandler.handleAuthenticationFailure()},getWindow:function(e){return e+tsConfig.sessionid.replace(new RegExp('[^A-Za-z0-9_]','g'),'_')},fireStateChanged:function(e){if(ss.isValue(this.$1$1)){this.$1$1(e)}},openDownload:function(e,ij){if(ss.isValue(ij.popup)){var ik=ij.popup;var il=window.open('about:blank',ik);window.setTimeout(ss.mkdel(this,function(){var iw=new tab.WindowHelper(il);if(ss.isValue(il)&&!il.closed&&iw.get_innerWidth()!==0&&iw.get_innerHeight()!==0){il.location.href=e}else{if(ss.isValue(il)){il.close()}ij.popup=null;this.openDownload(e,ij)}}),500)}else{var im="\n<div style='text-align:center'>{0}</div><br/>\n  <div class='tab-dialog-actions'>\n    <div name='cancel' class='tabStyledTextButton tabMediumStyledTextButton tabStyledTextButtonFilledGrey' onclick='dijit.getEnclosingWidget(this).hide();'>\n        <span class='label'>{4}</span></div>\n    <a name='ok' class='tabStyledTextButton tabMediumStyledTextButton tabStyledTextButtonFilledGreen left' target='{1}' href='{2}' \n        style='margin-left:10px;text-decoration:none'  onclick='dijit.getEnclosingWidget(this).hide();'><span class='label'>{3}</span></a>\n  </div>";var io=((e.indexOf(String.fromCharCode(63))===-1)?'?':'&');e+=io+'download=true';var ip='_blank';var iq=ss.formatString(im,ij.message,ip,e,tab.Strings.DialogButtonDownload,tab.Strings.DialogButtonCancel);var ir=ss.mkdel(this,function(){this.$e.showAlertDialog(iq,ij.title,false)});if(ss.isNullOrUndefined(ij.noping)){var it=((e.indexOf(String.fromCharCode(63))===-1)?'?':'&');e+=it+'nodata=true';var iu=this.$0(null,ir,null,'none');var iv=ss.mkdict([]);iv.headers=ss.mkdict(['Accept','text/plain']);iv.dataType='text';iv.type='GET';iv.url=e;this.$b(iv,iu)}else{this.$e.showAlertDialog(iq,ij.title,false)}}},showDownloads:function(e,ij){var ik="\n<div style='text-align:center'>{0}</div><br />\n<div class='dlgDownloads' style='text-align:center'>";var il="<a href='{1}' target='_blank'>{0}</a><br />";var im="</div>\n  <div class='tab-dialog-footer'>\n    <div class='tab-dialog-actions'>\n      <input onclick='dijit.getEnclosingWidget(this).hide(); return false;' type='button' value='{0}' name='cancel' />\n    </div>\n  </div>\n</div>";var io=new ss.StringBuilder(ss.formatString(ik,ij['message']));var ip=ss.getEnumerator(Object.keys(e));try{while(ip.moveNext()){var iq=ip.current();io.append(ss.formatString(il,iq,e[iq]))}}finally{ip.dispose()}io.append(ss.formatString(im,tab.Strings.DialogButtonCancel));var ir=io.toString();this.$e.showAlertDialog(ir,ij['title'],false)},$7:function(e,ij,ik){var il=ss.mkdict([]);il.type='POST';il.url=this.$4('inform');il.headers=ss.mkdict(['Accept','text/plain']);il.contentType='text/plain';var im=tsConfig.clientErrorReportingMaxRequestSizeBytes;var io=new ss.StringBuilder;io.appendLine('url: '+e);io.appendLine('user-agent: '+ij);var ip=ss.Int32.div(im-io.toString().length,ss.getKeyCount(ik));var iq=new ss.ObjectEnumerator(ik);try{while(iq.moveNext()){var ir=iq.current();io.appendLine(ir.key);io.appendLine(ir.value.substr(0,ip-ir.key.length-2))}}finally{iq.dispose()}il.data=io.toString();this.$b(il)},sendSessionCommand:function(e,ij,ik,il,im){var io=ss.mkdict([]);io.type='POST';io.url=this.$3(e,ij);io.headers=ss.mkdict(['Accept','application/json, text/javascript']);io.dataType='json';io.success=il;io.error=im;var ip=ie.getMultipartData(null,ik);io.contentType='multipart/form-data; boundary='+ip.header;io.data=ip.body;var iq=this.$1(null,il,null);this.$b(io,iq)},$c:function(e,ij){if(ij){ia.redoToPosition(e)}else{ia.undoToPosition(e)}},requestRestoreFixedAxes:function(e){if(!tsConfig.allow_filter){return}var ij=new Object;ij.commandNamespace='tabsrv'.toString();ij.commandName='restore-fixed-axes'.toString();var ik={};bV.addVisualIdToCommand(ik,e);ij.commandParams=ik;var il=ss.mkdel(this,function(im){this.fireStateChanged(im)});bJ.SendCommand(new m(ij,'immediately',il,function(){}))},executeServerCommand:function(e,ij,ik){var il=ss.mkdict([]);this.$8(il,e);il.headers=ss.mkdict(['Accept','text/javascript']);var im=function(iq,ir,it){if(ss.isValue(ij)){iq=tab.RleDecoder.decode(iq);ij(iq)}};var io=ss.mkdel(this,function(iq,ir,it){this.$6(it,iq,e.noExceptionDialog,e);if(ss.isValue(ik)){var iu=new ss.Exception(iq.responseText);iu['status']=iq.status;ik(iu)}});var ip=this.$1(null,im,(ss.isValue(ik)?io:null));this.$b(il,ip)},basicPostOpts:function(e,ij){var ik=ss.mkdict([]);ik.type='POST';ik.url=e;ik.headers=ss.mkdict(['Accept','text/javascript']);ik.dataType='json';ik.data=ij;return ik},basicGetOpts:function(e){var ij=ss.mkdict([]);ij.type='GET';ij.url=e;ij.headers=ss.mkdict(['Accept','text/javascript']);ij.dataType='json';return ij},$8:function(e,ij){var ik=ie.getMultipartData(null,ij.commandParams);e.type='POST';e.dataType='json';e.contentType='multipart/form-data; boundary='+ik.header;e.data=ik.body;e.url=this.$3(ij.commandNamespace,ij.commandName)},$9:function(e){var ij=this.get_historyPosition();var ik=ss.mkdel(this,function(){this.$c(ij,false)});var il=ss.mkdel(this,function(){this.$c(ij+1,true)});this.$a(ik,il);++M.$2},$2:function(e){return this.$h+'/'+e},$4:function(e){return tabBootstrap.BaseUrlFormatter.formatSessionMethod(e,tsConfig.sessionid,this.$h)},$3:function(e,ij){return this.$d()+'/commands/'+e+'/'+ij},$a:function(e,ij){if(!tsConfig.embedded||tsConfig.browserBackButtonUndo){if(ss.isValue(M.$0)){M.$0.onBack=e}else{dO.setInitialState(e)}M.$0=dO.addToHistory(null,ij)}},$6:function(e,ij,ik,il){this.$f.handle(e,ij,il,ik)},$b:function(e,ij){return ie.helper(e,ij)},$1:function(e,ij,ik){return new fC(this,e,ij,ik,false,false)},$0:function(e,ij,ik,il){var im=il!=='none';var io=il==='immediately'||il==='immediatelySubtle';return new fC(this,e,ij,ik,im,io)},formatLayoutMethod:function(e,ij){var ik=(ss.isValue(ij)?this.$4(ij):this.$d());ik+='/layouts/'+e;return ik},formatViewMethod:function(e,ij){var ik=(ss.isValue(ij)?this.$4(ij):this.$d());ik+='/views/'+e;return ik},formatFilterReference:function(e,ij,ik){return this.$5(e,ij,ik,'filters')},$5:function(e,ij,ik,il){e=encodeURIComponent(this.railsEncode(e));var im;if(ss.isValue(ik)){im=this.$4(ik)}else{im=this.$d()}im+='/sheets/'+e+'/'+il;if(ss.isValue(ij)){im+='/'+encodeURIComponent(this.railsEncode(ij))}return im}});ss.initClass(N,a,{get_isBrushingComputed:function(){return this.$1},hasBrushingForSheet:function(e){return ss.isValue(this.$5[e])||ss.isValue(this.$3[e])||ss.isValue(this.$2[e])},getTupleBrushing:function(e){return this.$5[e]||[]},getTrendlineBrushing:function(e){return this.$4[e]||[]},getNodeBrushing:function(e){return this.$3[e]||[]},getLegendBrushing:function(e){return this.$2[e]||{}},$0:function(e,ij,ik,il,im){var io=e.get_vizDataModel();var ip=ez.getModelsForViz(br).call(null,ez.findContentDashboard(),e);for(var iq=0;iq<ip.length;iq++){var ir=ip[iq];if(ss.isNullOrUndefined(io)){continue}if(!ir.get_isHighlightEnabled()||im.length===0&&ir.get_isOneWay()){continue}var it=_.intersection(ij.get_vizDataModel().get_fieldCaptions(),ir.get_fieldCaptions());it=N.getHighlightFieldCaptions(il,ij.get_vizDataModel().get_highlightCaptions(),it);var iu=s.$3(ij.get_vizDataModel(),ik,it);var iv=s.$6(iu,io,ir);if(!ss.keyExists(this.$2,e.get_worksheetName())){this.$2[e.get_worksheetName()]={}}this.$2[e.get_worksheetName()][N.$0(ir.get_legendTypeEnum(),ir.get_legendNames())]=iv}}});ss.initClass(O,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('build-analysis-main-menu',this.c))}},ss.makeGenericType(L,[Object,P]));ss.initClass(P,a,{});ss.initClass(Q,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('build-caption-context-menu',this.c))}},ss.makeGenericType(L,[Object,R]));ss.initClass(R,a,{});ss.initClass(S,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('build-dashboard-main-menu',this.c))}},ss.makeGenericType(L,[Object,T]));ss.initClass(T,a,{});ss.initClass(U,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('build-data-main-menu',this.c))}},ss.makeGenericType(L,[Object,V]));ss.initClass(V,a,{});ss.initClass(W,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('build-file-main-menu',this.c))}},ss.makeGenericType(L,[Object,X]));ss.initClass(X,a,{});ss.initClass(Y,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('build-format-main-menu',this.c))}},ss.makeGenericType(L,[Object,Z]));ss.initClass(Z,a,{});ss.initClass(ba,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('build-map-main-menu',this.c))}},ss.makeGenericType(L,[Object,bb]));ss.initClass(bb,a,{});ss.initClass(bc,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('build-sheet-list-context-menu',this.c))}},ss.makeGenericType(L,[Object,bd]));ss.initClass(bd,a,{});ss.initClass(be,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('build-title-context-menu',this.c))}},ss.makeGenericType(L,[Object,bf]));ss.initClass(bf,a,{});ss.initClass(bg,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('build-worksheet-main-menu',this.c))}},ss.makeGenericType(L,[Object,bh]));ss.initClass(bh,a,{});ss.initClass(bi,a,{get_resultType:function(){return this.$1},get_errorMessage:function(){return this.$0},set_errorMessage:function(e){this.$0=e}});ss.initClass(bj,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('calculation-auto-complete',this.c))}},ss.makeGenericType(L,[Object,bk]));ss.initClass(bk,a,{});ss.initClass(bl,a,{$1:function(){return this.pm},get_itemType:function(){return(ss.isValue(this.$1().RBQ)?this.$1().RBQ:'func')},get_label:function(){return this.$1().pHt},get_styledLabel:function(){return this.$1().GMD},get_iconResource:function(){return this.$1().OxY},get_tooltip:function(){return this.$1().ApM},get_replaceText:function(){return this.$1().$e$},get_caretIndex:function(){return this.$1().$IL}},ew);ss.initClass(bm,a,{get_functionTooltip:function(){return this.pm.hzT},get_functionHelpPosition:function(){return this.pm.uHK},get_calculation:function(){return this.pm.nKr},get_startIndex:function(){return this.pm.QNi},get_endIndex:function(){return this.pm.sDT},get_items:function(){return this.$1}},ew);ss.initClass(bn,a,{});ss.initClass(bo,a,{add_functionListUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_functionListUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$1:function(){return this.pm},get_functions:function(){return this.$1().giJ||[]},update:function(e){this.simpleSwapToUpdate(e,this.$2$1)}},ew);ss.initClass(bp,a,{add_calculationUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_calculationUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_hasCalculation:function(){return ss.isValue(this.pm)&&(!tab.MiscUtil.isNullOrEmpty$1(this.$1().QD)||!tab.MiscUtil.isNullOrEmpty$1(this.$1().MQQ)||!tab.MiscUtil.isNullOrEmpty$1(this.$1().UyO))},get_isNewCalculation:function(){return tab.MiscUtil.isNullOrEmpty$1(this.$1().HBp)},get_isAdhoc:function(){return this.$2&&this.$1().nFA},get_adHocShelf:function(){return this.$1().Ene||'none-shelf'},get_adHocShelfPosition:function(){return this.$1().ZMD},get_adHocPaneSpecId:function(){return this.$1().FsL},$1:function(){return this.pm},get_tokens:function(){return this.$1().rxV||[]},get_name:function(){return this.$1().MQQ||''},get_fieldName:function(){return this.$1().HBp||''},get_errors:function(){return this.$1().hit||[]},get_errorSummary:function(){return this.$1().bYn||''},get_caption:function(){return this.$1().QD||''},get_formula:function(){return this.$1().Fpl||''},get_dependencies:function(){return this.$1().AAa||''},get_dataSourceName:function(){return this.$1().UyO||''},get_dataSourceCaption:function(){var e=K.get_instance().get_workbook().get_dataSchema();if(ss.isNullOrUndefined(e)){return null}var ij=e.findDataSourceByName(this.get_dataSourceName());if(ss.isNullOrUndefined(ij)){return null}return ij.get_caption()},get_useParameters:function(){return ss.coalesce(this.$1().oVH,false)},get_calculationContext:function(){return ss.coalesce(this.$1().zZA,'calculation-dialog')},update:function(e){this.simpleSwapToUpdate(e,this.$2$1)}},ew);ss.initClass(bq,a,{get_items:function(){return this.$1().L_v},$1:function(){return this.pm},update:function(e){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e)}}},ew);ss.initInterface(dS,a,{getItemNamesFromObjectId:null});ss.initClass(br,a,{add_legendChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_legendChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_legendNameChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_legendNameChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_worksheetName:function(){return this.$2().get_worksheetName()},get_id:function(){return this.get_legendNames().join(';')+this.$4},get_catLegendPresModel:function(){return this.pm},get_isHighlightEnabled:function(){return this.get_catLegendPresModel().MJI||false},get_isHighlightAllowed:function(){return this.get_catLegendPresModel().JuD||false},get_isOneWay:function(){return this.get_catLegendPresModel().i$I||false},get_fieldCaptions:function(){return this.get_catLegendPresModel().oKr},get_legendNames:function(){return this.get_catLegendPresModel().HhR},get_legendTypeEnum:function(){return this.$4},get_items:function(){return br.$0(this.get_legendTypeEnum(),this.get_catLegendPresModel())},$2:function(){var e=ss.safeCast(this.parent,ig);return e.get_zone()},getItemNamesFromObjectId:function(e){var ij=_.find(this.get_items(),function(ik){return ik.YLs===e});return ij.nbD},update:function(e,ij){if(this.isNewPresModelSameAsOld(e)){return}dh.notifyFontsFromCategoricalLegendPresModel(e);var ik=this.get_catLegendPresModel();this.swapAndCopyPresModel(e);this.$6=e.XjF;if(ss.isValue(e.vNc)){this.$5=e.vNc.jZr;this.$7=e.vNc.nkG1}this.$1(ij);if(ss.isValue(ik)&&!_.isEqual(ik.HhR,e.HhR)){this.raiseEvent(this.$2$2)}this.raiseEvent(this.$2$1)},setHasTitle:function(e){if(this.$3!==e){this.$1(e);this.raiseEvent(this.$2$1)}},$1:function(e){this.$3=e;this.get_catLegendPresModel().XjF=(e?this.$6:'');if(ss.isValue(this.get_catLegendPresModel().vNc)){this.get_catLegendPresModel().vNc.jZr=(e?this.$5:0);this.get_catLegendPresModel().vNc.nkG1=(e?this.$7:0)}}},ew,[dS]);ss.initClass(eZ,a,{update:function(e){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e)}}},ew);ss.initClass(bs,a,{get_categoricalFilter:function(){return this.$3$1},set_categoricalFilter:function(e){this.$3$1=e},get_mode:function(){return this.$1.etp},get_isAllButtonVisible:function(){return this.$1.dqD},get_isAllButtonSelected:function(){return this.$1.uPU.GtG},get_isSelectionExclusive:function(){return this.$1.uPU.jeJ},get_showApplyAndCancelButtons:function(){return this.$1.WZq},get_showSearchButton:function(){return this.$1.NLs},get_showMoreLessButton:function(){return this.$1.EQS},get_showClearButton:function(){return this.$1.shF},get_getDomainValue:function(){return this.$1.tWP},getDomains:function(){return this.$1.ysh},update:function(e){eZ.prototype.update.call(this,e);this.$1=e;this.get_categoricalFilter().update(this.$1.uPU)}},eZ);ss.initClass(bt,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('change-line-interpolation',this.c))}},ss.makeGenericType(L,[Object,bu]));ss.initClass(bu,a,{});ss.initClass(bv,a,{addChange:function(e){this.$0.push(e)},compileForChecklist:function(e){var ij={};for(var ik=0;ik<this.$0.length;++ik){var il=this.$0[ik];switch(il.type){case 0:{ij[il.index]=il.checkState;break}case 1:{var im=il.range;var io=il.checkState;var ip=Math.min(im.get_from(),im.get_to());var iq=Math.max(im.get_from(),im.get_to());for(var ir=ip;ir<=iq;++ir){ij[ir]=io}break}}}var it=[];var iu=[];var iv=new ss.ObjectEnumerator(ij);try{while(iv.moveNext()){var iw=iv.current();var ix=parseInt(iw.key,10);var iy=iw.value;if(iy){it.push(ix)}else{iu.push(ix)}}}finally{iv.dispose()}var iz=new bW;iz.select=it;iz.deselect=iu;iz.domain=e;return iz},compileForRadiolist:function(e){var ij=this.$0.length-1;var ik=this.$0[ij];var il=new bX;il.index=ik.index;il.domain=e;return il},reset:function(){ss.clear(this.$0)},appendChangelist:function(e){for(var ij=0;ij<e.$0.length;ij++){this.$0.push(e.$0[ij])}}});ss.initEnum(bw,a,{single:0,range:1});ss.initClass(bx,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('change-workbook-ui-mode',this.c))}},ss.makeGenericType(L,[Object,by]));ss.initClass(by,a,{});ss.initClass(bz,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('clear-highlighting',this.c))}},ss.makeGenericType(L,[Object,bA]));ss.initClass(bA,a,{});ss.initEnum(bC,a,{clipNone:0,clipX:1,clipY:2,clipXY:3});ss.initInterface(dX,a,{get_notificationId:null,onNotify:null});ss.initClass(bD,a,{add_newError:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newError:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_sheetNames:function(){return this.$1().gxJ},get_dataSourceName:function(){return this.$1().UyO},get_notificationId:function(){return'bjw'},$1:function(){return this.pm},onNotify:function(e){this.swapPresModel(e);if(this.$1().Ixx){this.raiseEvent(this.$2$1)}}},ew,[dX]);ss.initClass(bE,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('close-ref-line-editor',this.c))}},ss.makeGenericType(L,[Object,bF]));ss.initClass(bF,a,{});ss.initClass(bG,a,{get_r:function(){return this.$6},get_g:function(){return this.$5},get_b:function(){return this.$3},get_a:function(){return this.$2},isLuminanceAboveThreshold:function(e){return this.$1()>e},isLStarAboveThreshold:function(e){return this.$0()>e},setRGBStr:function(e){this.$7=e},isValueAboveThreshold:function(e){var ij=bG.alphaBlend(this,bG.white);return Math.max(Math.max(ij.get_r(),ij.get_g()),ij.get_b())>e},toString:function(){if(this.$4===''){this.$4=((this.$2>=0.999989986419678)?this.toRgb():this.toRgba())}return this.$4},$0:function(){var e=this.$1();var ij=116*bG.$3(e)-16;return ij},$1:function(){return 0.2126*bG.$c[this.get_r()]+0.7152*bG.$c[this.get_g()]+0.0722*bG.$c[this.get_b()]},toRgba:function(){return'rgba('+this.$6+','+this.$5+','+this.$3+','+this.$2+')'},toRgba255:function(){return'rgba('+this.$6+','+this.$5+','+this.$3+','+ss.Int32.trunc(this.$2*255)+')'},toRgb:function(){if(this.$7===''){return'rgb('+this.$6+','+this.$5+','+this.$3+')'}return this.$7},toArgbHex:function(){var e=ss.Int32.trunc(this.$2)*255;return'#'+bG.$5(e,2)+bG.$5(this.$6,2)+bG.$5(this.$5,2)+bG.$5(this.$3,2)},toArgbInt:function(){var e=ss.Int32.trunc(this.$2)*255;return(e<<24)+(this.$6<<16)+(this.$5<<8)+this.$3}});ss.initClass(bH,a,{get_paletteCollectionPresModel:function(){return this.pm},get_qColorPaletteGroups:function(){return this.get_paletteCollectionPresModel().Jxz},get_catColorPaletteGroups:function(){return this.get_paletteCollectionPresModel().RSE},get_colorPalettes:function(){var e=this.pm;if(ss.isNullOrUndefined(e)){return[]}return e.HMF},colorPaletteGroup:function(e){var ij=e.HWn;return _.map(ij,ss.mkdel(this,function(ik){return this.get_colorPalettes()[ik]}))},update:function(e){this.simpleSwapToUpdate(e,null)}},ew);ss.initClass(bI,a,{get_command:function(){return this.$1$1},set_command:function(e){this.$1$1=e},addParameter:function(e,ij){if(ss.isNullOrUndefined(this.get_command().commandParams)){this.get_command().commandParams=ss.mkdict([e,ij])}else{this.get_command().commandParams[e]=ij}},toCommandAction$1:function(e){return function(ij,ik){return ss.mkdel(this,function(il){var im=ik(il);this.addParameter(ij,im);fB.executeServerCommand(this.get_command(),'immediately')})}},toCommandAction:function(e){return ss.mkdel(this,function(){fB.executeServerCommand(this.get_command(),e)})}});ss.initClass(bJ,a,{add_onUrlActionsResponse:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_onUrlActionsResponse:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_onInvalidation:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_onInvalidation:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_tabChangeCompleted:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_tabChangeCompleted:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_newLayoutId:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_newLayoutId:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},add_onPrimaryBootstrapSuccess:function(e){this.$1$5=ss.delegateCombine(this.$1$5,e)},remove_onPrimaryBootstrapSuccess:function(e){this.$1$5=ss.delegateRemove(this.$1$5,e)},add_destroyView:function(e){this.$1$6=ss.delegateCombine(this.$1$6,e)},remove_destroyView:function(e){this.$1$6=ss.delegateRemove(this.$1$6,e)},add_commandQueueComplete:function(e){this.$1$7=ss.delegateCombine(this.$1$7,e)},remove_commandQueueComplete:function(e){this.$1$7=ss.delegateRemove(this.$1$7,e)},add_undoCommand:function(e){this.$1$8=ss.delegateCombine(this.$1$8,e)},remove_undoCommand:function(e){this.$1$8=ss.delegateRemove(this.$1$8,e)},add_modelsUpdated:function(e){this.$1$9=ss.delegateCombine(this.$1$9,e)},remove_modelsUpdated:function(e){this.$1$9=ss.delegateRemove(this.$1$9,e)},add_intermediateUpdate:function(e){this.$1$10=ss.delegateCombine(this.$1$10,e)},remove_intermediateUpdate:function(e){this.$1$10=ss.delegateRemove(this.$1$10,e)},add_remoteCommandFailure:function(e){this.$1$11=ss.delegateCombine(this.$1$11,e)},remove_remoteCommandFailure:function(e){this.$1$11=ss.delegateRemove(this.$1$11,e)},get_loader:function(){return this.$T},$F:function(){return this.$P.length===0&&this.$Y.$3()===0},$E:function(){return _.any(this.$P,bJ.$6)},get_legacySession:function(){return this.$U},resetInvalidationHandlers:function(){this.$1$1=null;this.$1$2=null;this.$1$5=null},setBrowserViewportFunc:function(e){this.$Q=e;if(eV.get_progressiveLoadEnabled()){this.$Q(ss.mkdel(this,function(ij){this.$T.setViewport(ij)}))}},prepareForSheetChange:function(){this.$U.get_waitHandler().showAndLock(false)},refreshLayout:function(){if(tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){return}var ij=ss.mkdel(this,function(im){{var io=tabBootstrap.MetricsController.createContext('RLE Decode Primary',32,null);try{im=tab.RleDecoder.decode(im)}finally{if(ss.isValue(io)){io.dispose()}}}var ip=im;try{this.$C(ip);if(!ss.staticEquals(this.$1$5,null)){this.$1$5()}this.$d(ip.worldUpdate.hyc);this.$L.handlePotentialBootstrapDataSourceException(ip)}catch(iq){var e=ss.Exception.wrap(iq);bJ.handleBootstrapException(e,this.$K)}});var ik=ss.mkdel(this,function(e){var im=e;if(ss.isValue(im)){_.defer(ss.mkdel(this,function(){{var io=tabBootstrap.MetricsController.createContext('RLE Decode Secondary',32,null);try{im=tab.RleDecoder.decode(im)}finally{if(ss.isValue(io)){io.dispose()}}}{var ip=tabBootstrap.MetricsController.createContext('PROSEC'.toString(),2,null);try{try{this.$g(im)}catch(iq){var e1=ss.Exception.wrap(iq);bJ.handleBootstrapException(e1,this.$K)}}finally{if(ss.isValue(ip)){ip.dispose()}}}if(eV.get_progressiveLoadEnabled()){this.$z()}else{this.$l()}}))}});var il=ss.mkdel(this,function(e){fF.onVizqlPinged();var im=e['status'];if(im===200){var io=e['message'];if(io.substr(0,12)==='Invalid JSON'){bJ.sendParentCompletedMessage();var ip=tab.Strings.ServerErrorInvalidJSON+'<br>';this.$K.showAlertDialog(ip,tab.Strings.SessionUnknownErrorTitle,true);throw new ss.Exception('Invalid JSON')}}else if(im===403){var iq=0;var ir='';try{var it=JSON.parse(e['responseText']);if(ss.isValue(it)){iq=it.code;ir=it.message}}catch(iA){}bJ.sendParentCompletedMessage();this.$U.get_sessionErrorHandler().handleSessionForbiddenAction(iq,ir)}else if(im===401){if(tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){var iu=e['responseText'];var iv=tab.DataSourceConnectionAttemptErrorResponse.tryDeserialize(iu);var iw=(ss.isNullOrUndefined(iv)?iu:iv.RedirectUrl);tab.WindowHelper.locationReplace(window.self,iw)}else{var ix=e['responseText'];tab.WindowHelper.locationReplace(window.self,ix)}}else if(im===410){this.$U.get_sessionErrorHandler().handleSessionExpiration(true)}else if(im===413){bJ.sendParentCompletedMessage();this.$U.get_sessionErrorHandler().handleSessionLimitExceeded()}else if(im!==0){bJ.sendParentCompletedMessage();var iy=e['responseText'];if(tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){var iz=tab.DataSourceConnectionAttemptErrorResponse.tryDeserialize(iy);if(ss.isValue(iz)){iy=iz.ErrorMessage}}if(im===502||im===503){this.$U.get_sessionErrorHandler().handleSessionKilled(iy)}else{this.$U.get_sessionErrorHandler().handleUnknownErrorStatus(iy)}this.$U.nudgeWait()}});tabBootstrap.ViewerBootstrap.get_instance().waitOnInitialLayoutModel(ij,il,ik)},delayLocalUrlActions:function(e){this.$O=this.$O.concat.apply(this.$O,e)},worldCheckpoint:function(){return this.$Z.worldCheckpoint()},SaveWorkbook:function(e,ij,ik,il){this.$7('publish',e,ij,ik,null,null,il,null)},SaveWorkbookAs:function(e,ij,ik,il,im,io,ip){this.$7('publish_as',e,ij,ik,il,im,io,ip)},$A:function(e){var ij=function(){e()};var ik=ss.mkdict([]);ik.type='POST';ik.url=this.$9('transitionGuest');var il=tab.MiscUtil.get_urlPathnameParts();var im=(ss.keyExists(il,3)?il[3]:'');var io=tsConfig.current_sheet_name;var ip=ss.mkdict([':authSheet',io,'sheet_id',im]);ik.data=ip;var iq=new fC(this.$U,null,ij,null,true,true);ie.helper(ik,iq)},$9:function(e){return tabBootstrap.BaseUrlFormatter.formatSessionMethod(e,this.$U.get_id(),this.$U.get_urlRoot())},$m:function(e,ij,ik,il,im){this.$K.showAlertDialog(tab.Strings.UnhandledExceptionMessage(e),tab.Strings.UnhandledExceptionTitle,true);return false},$o:function(e,ij){if(ss.isValue(e)){K.get_instance().update(e,this.$K);this.$Z.checkpointAppPresModel();ew.fireDeferredEvents(null,this.$K);this.$u();if(!ij){this.$k()}}},$k:function(){if(!ss.staticEquals(this.$1$10,null)){this.$1$10()}},$h:function(){if(eV.get_progressiveLoadEnabled()){this.$T=new eV;this.$T.add_progressiveLoad(ss.mkdel(this,this.$o));this.$T.add_progressiveLoadComplete(ss.mkdel(this,this.$n));this.$I=[]}},$z:function(){this.$T.start()},$1:function(){if(eV.get_progressiveLoadEnabled()&&this.$T.get_hasZonesToLoad()){this.$T.abort();this.$I=[];this.$n()}},$n:function(){this.$y();this.$l();ic.get().raiseOnProgressiveLoadComplete();for(var e=0;e<this.$I.length;e++){var ij=this.$I[e];ij()}this.$I=[]},$d:function(e){{var ij=tabBootstrap.MetricsController.createContext('PROPRI',2,null);try{ic.get().raiseOnBootstrapResponse(e);if(eV.get_progressiveLoadEnabled()){e=this.$T.extractZoneContent(e)}{var ik=tabBootstrap.MetricsController.createContext('MDLINI'.toString(),2,null);try{var il=K.get_instance();il.update(e,this.$K)}finally{if(ss.isValue(ik)){ik.dispose()}}}this.$Z.checkpointAppPresModel();gi.notifyModelsInitialized();{var im=tabBootstrap.MetricsController.createContext('MDLEVT'.toString(),2,null);try{ew.fireDeferredEvents(bJ.handleBootstrapException,this.$K)}finally{if(ss.isValue(im)){im.dispose()}}}}finally{if(ss.isValue(ij)){ij.dispose()}}}this.$u();if(!eV.get_progressiveLoadEnabled()){this.$y()}this.get_legacySession().nudgeWait()},$g:function(e){var ij=e['UdM'.toString()];if(!ss.isValue(ij)||!ss.isValue(ij.NdE)||ss.getKeyCount(ij.NdE)===0){return}var ik=K.get_instance().get_appPresModel();if(ss.keyExists(ij.NdE,'dataDictionary')){var il=ij.NdE['dataDictionary'].wqq;var im=il['genDataDictionaryPresModel'];if(ss.isValue(im)){ik.vZU=im}}if(ss.keyExists(ij.NdE,'vizData')){var io=ik.res.mmK;var ip=ij.NdE['vizData'].wqq;var iq=ip['genPresModelMapPresModel'];if(eV.get_progressiveLoadEnabled()&&this.$T.get_hasZonesToLoad()){this.$T.updateZonesWithVizData(iq)}else{hN.addVizDataToZones(iq.NdE,io.HCq)}}K.get_instance().update(ik,this.$K);this.$Z.checkpointAppPresModel();if(ez.hasAnyImpliedSelection()){ew.fireDeferredEvents(bJ.handleBootstrapException,this.$K)}else{ew.clearDeferredEvents()}this.$u()},$C:function(e){tsConfig.layoutid=e.layoutId;this.$U.set_layoutId(tsConfig.layoutid);var ij=e.newSessionId;if(!tab.MiscUtil.isNullOrEmpty$1(ij)){tsConfig.sessionid=ij}var ik=e.workbookLocale;if(!ss.isNullOrEmptyString(ik)){tsConfig.workbookLocale=ik}var il=e.newClientNum;if(!ss.isNullOrEmptyString(il)){tsConfig.clientNumber=il;tabBootstrap.Utility.addToUrlHash(tabBootstrap.Utility.CLIENTNO,il)}tsConfig.current_sheet_name=e.sheetName;ie.set_currentTabName(tsConfig.current_sheet_name);tsConfig.workbook_allow_subscriptions=e.allowSubscriptions;tsConfig.allow_subscribe_on_data_present=e.allowSubscribeOnDataPresent;if(ss.isValue(e.worldUpdate)&&ss.isValue(e.worldUpdate.hyc.res.mmK)){tsConfig.current_sheet_type=e.worldUpdate.hyc.res.mmK.nhM.xD}},$7:function(e,ij,ik,il,im,io,ip,iq){var ir=function(iy,iz,iA){var iB=iy;if(ss.keyExists(iB,'workbook')){var iC=iB['workbook'];ip(iC)}else{ip(null)}};var it=ss.mkdel(this,function(iy,iz,iA){var iB;try{iB=JSON.parse(iy.responseText)}catch(iD){iB=null}if(ss.isValue(iq)&&ss.isValue(iB)){var iC=iB;iq(iC)}else{this.$U.$6(iA,iy,false,null)}});var iu=ss.mkdict([]);iu.type='POST';iu.dataType='json';iu.url=this.$9(e);var iv=ss.mkdict(['project',ik,'name',ij,'display_tabs',il]);if(ss.isValue(im)){iv['save_db_passwords']=ss.unbox(im)}if(ss.isValue(io)){iv['no_overwrite']=ss.unbox(io)}var iw=ie.getMultipartData(null,iv);iu.contentType='multipart/form-data; boundary='+iw.header;iu.data=iw.body;var ix=new fC(this.$U,null,ir,it,true,true);ie.helper(iu,ix)},$j:function(){while(this.$Y.$3()>0&&!this.$E()){this.$6(this.$Y.$0())}},$6:function(ij){this.$P.push(ij);if(ij.get_isBlocking()){this.$X.$1(ij.get_blockType()==='immediately'||ij.get_blockType()==='immediatelySubtle',ij.get_blockType()==='immediatelySubtle')}var ik=this.$W.beginTransaction();var il;try{ij.execute(ik,this.$J,ss.mkdel(this,function(e){this.$3(ij,e)}));il=this.$W.endTransaction();if(K.get_instance().get_isLocalRenderMode()&&!bJ.fireDeferredUrlActions){this.$8(this.$O)}}catch(ip){var e=ss.Exception.wrap(ip);tab.ErrorTrace.report(e,false);this.$W.rollbackTransaction();ew.clearDeferredEvents();this.$3(ij,new bK(false,e));return}finally{this.$x()}var im=null;if(ij.get_hasLocalComponent()){im=tabBootstrap.MetricsController.createContext('PROLOC'.toString(),8,ij.buildCommandMetricsParameters())}{var io=im;try{if(ss.isValue(il)){if(eV.get_progressiveLoadEnabled()){il=this.$s(il,true)}K.get_instance().update(il,this.$K);this.$Z.markCurrentWorldAsDirty();ew.fireDeferredEvents(null,this.$K);this.$u()}}finally{if(ss.isValue(io)){io.dispose()}}}if(this.$P.length>0){this.$G=false}},$3:function(e,ij){var ik=null;if(e.get_hasRemoteComponent()){ik=tabBootstrap.MetricsController.createContext('PROREM'.toString(),8,e.buildCommandMetricsParameters())}{var il=ik;try{try{ss.remove(this.$P,e);if(this.$F()){this.$p()}}finally{this.processingRenderModeChange=false;this.processingStoryPointChange=false}}finally{if(ss.isValue(il)){il.dispose()}}}this.$b(e,ij);if(this.$F()){this.$X.$0()}this.$j()},$b:function(e,ij){if(!ij.succeeded&&tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){var ik=this.$L.handle(ij.error,e);if(ik){this.$Z.revertLocalChanges();this.$X.$0()}}},$8:function(e){var ij=(ss.isValue(e)?ss.arrayClone(e):[]);this.$x();if(ss.isValue(this.$1$1)){if(ij.length>0){this.$1$1(ij,this.$K)}}},$x:function(){this.$O.length=0},$f:function(e,ij,ik){if(!ss.isValue(ij)||!ss.isValue(ik)){return}var il=ik['kqB'.toString()];if(!ss.isValue(il)){return}if(ss.isValue(il.$LE)){var im=il.$LE;if(ss.isValue(im.Uwh)){this.$V|=im.Uwh}if(ss.isValue(im.LXK)&&!K.get_instance().get_isLocalRenderMode()||bJ.fireDeferredUrlActions){if(im.LXK.length>0){bJ.fireDeferredUrlActions=false;this.$8(im.LXK)}}this.$B(im);var io=null;if(ss.isValue(ij.commandParams)&&!ss.referenceEquals(ij.commandName,'render-tooltip-server'.toString())){if(ss.keyExists(ij.commandParams,'AVP')){io=ij.commandParams['AVP']}else if(ss.keyExists(ij.commandParams,'J_M')){var ip;if(typeof(ij.commandParams['J_M'])==='string'){var iq=ij.commandParams['J_M'];ip=JSON.parse(iq)}else{ip=ij.commandParams['J_M']}io=(ss.isValue(ip.AVP)?ip.AVP:null)}}var ir=new ea;ir.primarySheet=io;ir.layoutStatus=il.$LE;ir.cmdResult=il.mxu[0];var it=null;if(ss.isValue(il.$LE.hyc)){it=il.$LE.hyc}var iu={item1:it,item2:ir};this.$5(e,iu);var iv=ss.isValue(this.$M)&&!ss.referenceEquals(tsConfig.current_sheet_name,this.$M.DDA);var iw=new bQ;iw.set_applicationPresModel(it);iw.set_worldUpdateCommand(ij);iw.set_sheetChanged(iv);iw.set_rebuildTheWorld(this.$V);var ix=iw;ic.get().raiseOnCommandResponse(ix)}},$B:function(e){if(ss.isValue(e.hyc)&&ss.isValue(e.hyc.res)&&ss.isValue(e.hyc.res.mmK)&&ss.isValue(e.hyc.res.mmK.nhM)){this.$M=e.hyc.res.mmK.nhM}},$e:function(e,ij,ik){var il=new ea;var im={};im.$iY=ij.commandName;im.nCR=ik;il.cmdResult=im;var io=il;var ip={item1:null,item2:io};this.$5(e,ip);this.$v(ik)},$p:function(){if(K.get_instance().get_isOffline()){return}var e=ss.getKeyCount(this.$N)>0;var ij=false;var ik=tsConfig.current_sheet_name;if(ss.isValue(this.$M)){ij=!ss.referenceEquals(tsConfig.current_sheet_name,this.$M.DDA);ik=this.$M.DDA;this.get_legacySession().set_layoutId(this.$M.JAR.toString());if(ij){if(!ss.staticEquals(bJ.$1$12,null)){bJ.$1$12()}}if(ij||this.$V){this.$1$6()}}var il=this._getRenderMode();var im=this.$a();this.$W.rollbackTransactions(this.$K);if(this.$V){K.get_instance().get_workbook().handleWorldReset()}if(this.$V||ij){this.$1()}this.$2(ik,il);ss.clearKeys(this.$N);this.$Z.checkpointAppPresModel();this.$W.resetTransactedState();this.$r(im);this.$q(ij);if(e){ez.reValidateVisualModels()}ew.fireDeferredEvents(null,this.$K);this.$c();this.$u();this.$D()},$D:function(){this.$S.push(ss.mkdel(this,this.$t));this.$S.push(ss.mkdel(this,function(){dY.callWhenImagesLoaded(ss.mkdel(this,function(){this.$G=true}))}));if(eV.get_progressiveLoadEnabled()&&this.$T.get_hasZonesToLoad()){this.$I.push(ss.mkdel(this,function(){this.$4()}))}else{this.$4()}this.$V=false},$4:function(){for(var e=0;e<this.$S.length;e++){var ij=this.$S[e];ij()}ss.clear(this.$S)},$r:function(e){if(e.$0()){var ij=this.$a();if(ij.$0()&&e.$4()!==ij.$4()&&ss.isValue(e.$2())&&ss.referenceEquals(e.$2(),ij.$2())){this.processingStoryPointChange=true}}},$q:function(e){if(ss.isNullOrUndefined(this.$M)){return}if(!e&&!this.$V){return}if(e){try{if(ss.isValue(window.parent)&&typeof(window.parent['handleSheetChanged'])==='function'){window.parent['handleSheetChanged'](this.$M.DDA,this.$M.YnR)}}catch(ik){}}if(tsConfig.is_mobile_app&&!('sheetname'in this.$M)){this.$M['sheetName']=this.$M.DDA}var ij={item1:tsConfig.current_sheet_name,item2:this.$M.DDA};if(!ss.staticEquals(this.$1$4,null)){this.$1$4(this.$M)}D.get().onNewLayoutId([this.$M]);dojo.publish('newLayoutId',[this.$M]);this.$S.push(ss.mkdel(this,function(){if(!ss.staticEquals(this.$1$3,null)){this.$1$3(ij)}}));this.$M=null},$2:function(e,ij){var ik=_.keys(this.$N);ik=ik.sort(function(iu,iv){var iw=parseInt(iu);var ix=parseInt(iv);return((iw>ix)?1:-1)});var il=K.get_instance();for(var im=0;im<ik.length;im++){var io=ik[im];var ip=this.$N[io];var iq=ip.item1;var ir=ip.item2;if(ss.isNullOrUndefined(iq)||ss.isNullOrUndefined(ir)||ss.isNullOrUndefined(ir.layoutStatus)){continue}var it=ir.layoutStatus.Twp||'';if(!ss.referenceEquals(it,e)){continue}if(eV.get_progressiveLoadEnabled()){iq=this.$s(iq,false)}il.update(iq,this.$K);this.$R.push(ir);if(ss.isValue(ir.layoutStatus.DfV)){if(ir.layoutStatus.DfV<this.get_legacySession().get_historyPosition()){this.$w()}if(ir.layoutStatus.DfV>this.get_legacySession().get_historyPosition()){this.$U.$9('')}this.get_legacySession().set_historyPosition(ir.layoutStatus.DfV)}if(!this.processingRenderModeChange&&iq.ABX!==ij){this.processingRenderModeChange=true;this.$X.$2()}}},$s:function(e,ij){if(eV.get_progressiveLoadEnabled()){var ik=K.get_instance().get_appPresModel();var il=false;if(K.get_instance().get_workbook().get_isCurrentSheetStoryboard()){var im=K.get_instance().get_workbook().get_storyboard().get_flipboard().get_currentStoryPointId();var io=bJ.$5(e);il=ss.isValue(io)&&io!==im}var ip=bJ.$4(e);var iq=!ss.isNullOrEmptyString(ip)&&!ss.referenceEquals(ip,bJ.$4(ik));if(il||iq){this.$1();e=this.$T.extractZoneContent(e);this.$z()}else{e=this.$T.processModelUpdate(e,ij)}}return e},$c:function(){for(var e=0;e<this.$R.length;e++){var ij=this.$R[e];if(!ss.staticEquals(this.$1$2,null)){this.$1$2(ij)}this.$L.handlePotentialTabSwitchDataSourceException(ij.layoutStatus)}ss.clear(this.$R)},$l:function(){if(this.$H){return}this.$H=true;bJ.$7();gi.$0();dY.callWhenImagesLoaded(ss.mkdel(this,function(){this.$G=true}));bJ.sendParentCompletedMessage();fF.onVizqlPinged()},$5:function(e,ij){if(ss.isValue(ij)){this.$N[e.toString()]=ij}},_getRenderMode:function(){return K.get_instance().get_renderMode()},$a:function(){return new y},$t:function(){if(ss.isValue(this.$1$7)){this.$1$7()}},$w:function(){if(ss.isValue(this.$1$8)){this.$1$8()}},$u:function(){if(ss.isValue(this.$1$9)){this.$1$9()}},$v:function(e){if(ss.isValue(this.$1$11)){this.$1$11(e)}},$y:function(){dY.callWhenImagesLoaded(function(){var e={};e['t']=tabBootstrap.MetricsController.getTiming();e['d']='ALLZNS';var ij=new tabBootstrap.MetricsEvent('gen',2,e);tabBootstrap.MetricsController.logEvent(ij)})},$0:function(e){var ij=e.get_commandName();if(ij==='next-story-point'||ij==='previous-story-point'||ij==='set-active-story-point'||ij==='ensure-layout-for-sheet'||ij==='revert-workbook'){this.$1()}},$i:function(){return ss.getKeyCount(this.$N)>0||this.$P.length>0||this.$Y.$3()>0}});ss.initClass(bK,a,{});ss.initEnum(bL,a,{proceed:0,stop:1});ss.initClass(bM,a,{get_item:function(){return this.$0},get_name:function(){return this.$0['dMo'.toString()]},set_name:function(e){this.$0['dMo'.toString()]=e},get_description:function(){return this.$0['Mej'.toString()]},set_description:function(e){this.$0['Mej'.toString()]=e},get_commandsType:function(){return this.$0['jWE'.toString()]},set_commandsType:function(e){this.$0['jWE'.toString()]=e},get_enabled:function(){var e=this.$0['chK'.toString()];if(ss.isNullOrUndefined(e)){return true}return e},set_enabled:function(e){this.$0['chK'.toString()]=e},get_isChecked:function(){return this.$0['mgL'.toString()]},set_isChecked:function(e){this.$0['mgL'.toString()]=e},get_isDefault:function(){return this.$0['wZB'.toString()]},set_isDefault:function(e){this.$0['wZB'.toString()]=e},get_isRadioOn:function(){return this.$0['Gff'.toString()]},set_isRadioOn:function(e){this.$0['Gff'.toString()]=e},get_isVisible:function(){return this.$0['DIk'.toString()]},set_isVisible:function(e){this.$0['DIk'.toString()]=e},get_commands:function(){return this.$0['Jmx'.toString()]},set_commands:function(e){this.$0['Jmx'.toString()]=e},get_command:function(){return this.$0['zRu'.toString()]},set_command:function(e){this.$0['zRu'.toString()]=e},get_argumentParams:function(){return this.$0['WQt'.toString()]},set_argumentParams:function(e){this.$0['WQt'.toString()]=e},get_iconRes:function(){return this.$0['yFv'.toString()]},set_iconRes:function(e){this.$0['yFv'.toString()]=e}});bM.$ctor1.prototype=bM.prototype;ss.initClass(bN,a,{test:function(e){tab.Param.verifyValue(e,'command');if(ss.isNullOrUndefined(e.commandType)){}return ss.isValue(e.commandType)&&ss.keyExists(this.$0,e.commandType)&&this.$0[e.commandType]==='granted'}});ss.initClass(bO,a,{get_commandToExecute:function(){return this.$0},get_successCallback:function(){return this.$2},get_errorCallback:function(){return this.$1}});ss.initClass(bP,a,{});ss.initClass(bQ,a,{get_applicationPresModel:function(){return this.$2$1},set_applicationPresModel:function(e){this.$2$1=e},get_worldUpdateCommand:function(){return this.$2$2},set_worldUpdateCommand:function(e){this.$2$2=e},get_sheetChanged:function(){return this.$2$3},set_sheetChanged:function(e){this.$2$3=e},get_rebuildTheWorld:function(){return this.$2$4},set_rebuildTheWorld:function(e){this.$2$4=e}},ss.EventArgs);ss.initClass(bR,a,{});ss.initClass(bS,a,{add_commandsChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_commandsChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_shouldUpdate:function(){return this.$1},set_shouldUpdate:function(e){this.$1=e},get_commands:function(){return this.pm},update:function(e){if(this.get_shouldUpdate()){this.forceUpdate(e)}},forceUpdate:function(e){this.simpleSwapToUpdate$1(bS).call(this,e,this.$2$1,this)}},ew);ss.initClass(bT,a,{get_presModel:function(){return this.$0},get_commandItems:function(){return this.$0['Szr'.toString()]},set_commandItems:function(e){this.$0['Szr'.toString()]=e},get_defaultItem:function(){return this.$0['Ayc'.toString()]},set_defaultItem:function(e){this.$0['Ayc'.toString()]=e}});bT.$ctor1.prototype=bT.prototype;ss.initClass(bU,a,{});ss.initClass(bV,a,{});ss.initClass(bW,a,{});ss.initClass(bX,a,{});ss.initClass(bY,a,{add_compoundTableCalcUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_compoundTableCalcUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_tableCalcsPresModel:function(){return this.pm},get_hasTableCalc:function(){return this.get_primaryTableCalc().get_hasTableCalc()},get_fieldCaption:function(){return this.get_tableCalcsPresModel().OLk},get_primaryTableCalc:function(){return this.$1},get_allowSecondaryTableCalc:function(){return ss.isValue(this.get_tableCalcsPresModel())&&this.get_tableCalcsPresModel().YkF},get_hasSecondaryTableCalc:function(){return this.get_allowSecondaryTableCalc()&&this.get_secondaryTableCalc().get_hasTableCalc()},get_secondaryTableCalc:function(){return this.$2},update:function(e){if(this.isNewPresModelSameAsOld(e)){return}var ij=e;this.$1.update(bY.$0(ij,0));this.$2.update(bY.$0(ij,1));this.swapAndCopyPresModel(ij);this.raiseEvent(this.$2$1)}},ew);ss.initClass(cX,a,{get_instanceType:null,get_dataSourceModel:function(){return this.parent},get_canHaveChildren:function(){return false},get_isUnsortedContainer:function(){return false},get_isSelectable:function(){return!this.get_isUnsortedContainer()},get_isDraggable:function(){return this.get_isSelectable()&&!this.get_isHidden()&&!this.get_isInvalid()},get_childToSelect:function(){return(this.get_isUnsortedContainer()?null:this)},get_isDerived:function(){if(this.get_canHaveChildren()){return false}return this.get_isGenerated()||this.get_isAutoColumn()||this.get_isColumn()&&this.asColumn().get_isInstance()},get_isMeasureNamesOrValues:function(){return ss.referenceEquals(this.get_localName(),cX.nameOfMeasuresColumn)||ss.referenceEquals(this.get_localName(),cX.nameOfMeasureValuesColumn)},get_fieldIconResource:function(){if(tab.FeatureFlags.isEnabled('AuthoringBeautification')){var e=this.pm.OxY||'';if(e.length===0){return e}if(this.pm.SkN){e=e+'-invalid'}return e+'-ab'}return this.get_dataSourceModel().getFieldIconResource(this.pm.wDF)},get_isInstance:function(){return!this.get_isGenerated()&&this.get_isDerived()},get_isHidden:function(){return this.pm.XCW||this.get_isInstance()},get_isAutoHidden:function(){return this.pm.egc},get_isInvalid:function(){return this.pm.SkN},get_isOrphaned:function(){return this.pm.CUl},get_isGenerated:function(){return this.pm.r_$},get_isAutoColumn:function(){return this.pm.$su},get_isAllowedInCalcs:function(){return this.pm._kV},get_isUnnamedCalc:function(){return this.pm.qu||false},get_isQuickTableCalc:function(){return this.pm.uxk},get_globalName:function(){return this.pm.HBp},get_localName:function(){return this.pm.dMo},get_description:function(){return this.pm.Mej},get_userCaption:function(){return this.pm.KDF},get_ordinal:function(){return this.pm.hUu},get_isColumn:function(){return this.get_instanceType()==='column'||this.get_instanceType()==='group'},get_isGroup:function(){return this.get_instanceType()==='group'},get_isCubeDimension:function(){return this.get_instanceType()==='cubeDimension'},get_isDrillPath:function(){return this.get_instanceType()==='drillPath'},get_isCubeHierarchy:function(){return this.get_instanceType()==='cubeHierarchy'},get_isCubeFolder:function(){return this.get_instanceType()==='cubeFolder'},get_isFolder:function(){return this.get_instanceType()==='folder'},get_isRelationalTable:function(){return this.get_instanceType()==='relationalTable'},get_defaultRole:function(){return this.pm.tgs},get_role:function(){return this.pm.YIQ},get_defaultFieldType:function(){return(this.get_isColumn()?this.pm.TOg:'unknown')},get_fieldType:function(){return(this.get_isColumn()?this.pm.SEI:'unknown')},get_displayName:function(){return(this.get_isDrillPath()?(this.get_localName()||this.get_description()):(this.get_description()||this.get_localName()))},get_tooltip:function(){return this.get_userCaption()||(this.get_description()||this.get_displayName())},get_canBeUsedInCalculation:function(){return this.get_isAllowedInCalcs()||this.get_isUnnamedCalc()||this.get_isQuickTableCalc()},get_canBeAddedToDataSchema:function(){return this.get_isUnnamedCalc()||this.get_isQuickTableCalc()},matchesFolderRole:function(e){if(this.get_isFolder()){return this.asFolder().get_folderRole()===e}else{switch(e){case'dimensions':{return this.get_defaultRole()==='dimension'}case'measure':{return this.get_defaultRole()==='measure'}case'groups':{return this.get_isGroup()}case'parameters':{return true}default:{return false}}}},asColumn:function(){return ss.safeCast(this,cV)},asGroup:function(){return ss.safeCast(this,dH)},asDimension:function(){return ss.safeCast(this,bZ)},asHierarchy:function(){return ss.safeCast(this,cb)},asCubeFolder:function(){return ss.safeCast(this,ca)},asFolder:function(){return ss.safeCast(this,df)},asDrillPath:function(){return ss.safeCast(this,cH)},asRelationalTable:function(){return ss.safeCast(this,fh)}},ew);ss.initClass(bZ,a,{get_hierarchies:function(){return this.$3},get_childToSelect:function(){var e=this.pm.nkG;if(!ss.isNullOrEmptyString(e)){for(var ij=0;ij<this.$3.length;ij++){var ik=this.$3[ij];if(ss.referenceEquals(ik.get_localName(),e)){return ik.get_levels()[0]}}}var il=[];for(var im=0;im<this.$3.length;im++){var io=this.$3[im];il.push(io)}for(var ip=0;ip<this.$2.length;ip++){var iq=this.$2[ip];var ir=iq.get_hierarchies();for(var it=0;it<ir.length;it++){var iu=ir[it];il.push(iu)}}il.sort(function(iv,iw){if(iv.get_levels().length>1&&iw.get_levels().length<=1){return-1}else if(iv.get_levels().length<=1&&iw.get_levels().length>1){return 1}else{return 0}});return((il.length>0)?il[0].get_levels()[0]:null)},get_folders:function(){return this.$2},get_attributes:function(){return this.$1},get_instanceType:function(){return'cubeDimension'},get_canHaveChildren:function(){return true},update:function(e,ij,ik,il){this.swapAndCopyPresModel(e);this.$3=ij;this.$2=ik;this.$1=il}},cX);ss.initClass(ca,a,{get_hierarchies:function(){return this.$2},get_childToSelect:function(){return this.$2[0]},get_columns:function(){return this.$1},get_instanceType:function(){return'cubeFolder'},get_canHaveChildren:function(){return true},get_isUnsortedContainer:function(){return true},update:function(e,ij,ik){this.swapAndCopyPresModel(e);this.$2=ij;this.$1=ik}},cX);ss.initClass(cb,a,{get_levels:function(){return this.$1},get_childToSelect:function(){return this.$1[0]},get_instanceType:function(){return'cubeHierarchy'},get_canHaveChildren:function(){return true},update:function(e,ij){this.swapAndCopyPresModel(e);this.$1=ij}},cX);ss.initClass(hv,a,{get_tableCalcIdentifier:function(){var e=this.parent;return(ss.isNullOrUndefined(e)?new gB(null):e.get_tableCalcIdentifier())},update:null},ew);ss.initClass(cc,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_aggregationIndex:function(){return this.$1().LLA},get_aggregationValues:function(){return this.$1().VRG},get_aggregationCaptions:function(){return this.$1().iSd},get_hasAggregation:function(){return ss.isValue(this.get_aggregationValues())&&this.get_aggregationValues().length>0},update:function(e){this.simpleSwapToUpdate(e,this.$3$1)}},hv);ss.initClass(cd,a,{navigateToCustomizedView:function(e){var ij=tabBootstrap.Utility.get_locationWindow();fG.destroySessionAndForward$1(ij,cd.buildUrl(e,false))},navigateToOriginalView:function(){var e=tabBootstrap.Utility.get_locationWindow();fG.destroySessionAndForward$1(e,cd.buildUrl(null,false))},getCustomizedViews:function(e,ij){var ik=function(il,im,io){if(!ss.isValue(e)){return}var ip;var iq=null;if('customizedViews'in il){ip=il['customizedViews']}else{ip=[]}if('defaultCustomizedViewId'in il){iq=il['defaultCustomizedViewId']}e(ip,iq)};this.$2(ik,cd.$0(ij),'get_customized_views',ss.mkdict(['sheet_id',tsConfig.current_sheet_name]),'GET','none')},setDefaultCustomizedView:function(e,ij,ik){var il=function(io,ip,iq){if(!ss.isValue(ij)){return}var ir=null;if('defaultCv'in io){ir=io['defaultCv']}ij(ir)};var im=ss.mkdict(['sheet_id',tsConfig.current_sheet_name]);if(ss.isValue(e)){im['cvId']=e.id}this.$2(il,cd.$0(ik),'set_default_customized_view',im)},destroyCustomizedView:function(e,ij,ik){tab.Param.verifyValue(e,'cv');var il=function(im,io,ip){if(!ss.isValue(ij)){return}ij()};this.$1(il,cd.$0(ik),'destroy_customized_view',ss.mkdict(['cvId',e.id]))},saveCustomizedView:function(e,ij,ik){tab.Param.verifyValue(e,'cv');var il=ss.mkdel(this,function(io,ip,iq){if(!ss.isValue(ij)){return}var ir=null;if('cv'in io){ir=io['cv'];this.updateTsConfig(ir,true)}ij(ir)});var im=ss.mkdict(['sheet_id',tsConfig.current_sheet_name,'name',e.name,'shared',e.isPublic]);if(ss.isValue(e.id)){im['cvId']=e.id}this.$2(il,cd.$0(ik),'save_customized_view',im)},updateTsConfig:function(e,ij){tsConfig.repositoryUrl=this.$0(e);if(ij){if(ss.isNullOrUndefined(e)){tsConfig.current_custom_view_id=null}else{tsConfig.current_custom_view_id=e.id}}},$0:function(e){var ij=new fi(tsConfig.repositoryUrl);if(ss.isNullOrUndefined(e)){return ss.formatString('{0}/{1}',ij.get_workbookId(),ij.get_sheetId())}return ss.formatString('{0}/{1}/{2}/{3}',ij.get_workbookId(),ij.get_sheetId(),hP.encodeUserName(e.owner.username),e.urlId)},updateCustomizedView:function(e,ij,ik){tab.Param.verifyValue(e,'cv');var il=ss.mkdel(this,function(io,ip,iq){if(!ss.isValue(ij)){return}var ir=null;if('cv'in io){ir=io['cv'];this.updateTsConfig(ir,false)}ij(ir)});var im=ss.mkdict(['sheet_id',tsConfig.current_sheet_name,'name',e.name,'shared',e.isPublic,'cvId',e.id]);this.$2(il,cd.$0(ik),'update_customized_view',im)},$1:function(e,ij,ik,il){var im=this.$3.$0(null,e,ij,'immediately');var io=ss.mkdict([]);io.type='POST';io.url=this.$3.$2(ik);io.headers=ss.mkdict(['Accept','text/javascript']);io.dataType='json';if(ss.isValue(il)){io.data=il}this.$3.$b(io,im)},$2:function(e,ij,ik,il,im,io){var ip=ss.mkdict([]);ip.type=im||'POST';ip.url=this.$3.$4(ik);ip.headers=ss.mkdict(['Accept','text/javascript']);ip.dataType='json';if(ss.isValue(il)){ip.data=il}var iq=io||'immediately';var ir=this.$3.$0(null,e,ij,iq);this.$3.$b(ip,ir)}});ss.initClass(ce,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_referenceModel:function(){return this.$3$2},set_referenceModel:function(e){this.$3$2=e},get_nullIfIncomplete:function(){return this.$1().SvL},get_nullIfIncompleteState:function(){return this.$1().UWR},get_allPages:function(){return this.$1().buS},get_allPagesState:function(){return this.$1().YtV},get_nestedCalcsWidgetState:function(){return this.$1().qdd},get_nestedCalcsIndex:function(){return this.$1().Zaq},get_nestedTableCalcInfoArray:function(){return this.$1().A_J},update:function(e){var ij=e;if(this.isNewPresModelSameAsOld(ij)){return}this.swapAndCopyPresModel(ij);this.get_referenceModel().update(ij.bUz);this.raiseEvent(this.$3$1)}},hv);ss.initClass(cf,a,{});ss.initClass(cg,a,{add_newDashboard:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newDashboard:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_activeZoneChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_activeZoneChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_readyZoneChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_readyZoneChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_renderModeChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_renderModeChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_portSizeChanged:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_portSizeChanged:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_sizeChanged:function(e){this.$2$7=ss.delegateCombine(this.$2$7,e)},remove_sizeChanged:function(e){this.$2$7=ss.delegateRemove(this.$2$7,e)},add_formatsChanged:function(e){this.$2$8=ss.delegateCombine(this.$2$8,e)},remove_formatsChanged:function(e){this.$2$8=ss.delegateRemove(this.$2$8,e)},add_titleVisibilityChanged:function(e){this.$2$9=ss.delegateCombine(this.$2$9,e)},remove_titleVisibilityChanged:function(e){this.$2$9=ss.delegateRemove(this.$2$9,e)},add_currentDeviceLayoutChanged:function(e){this.$2$10=ss.delegateCombine(this.$2$10,e)},remove_currentDeviceLayoutChanged:function(e){this.$2$10=ss.delegateRemove(this.$2$10,e)},add_currentDeviceLayoutListChanged:function(e){this.$2$11=ss.delegateCombine(this.$2$11,e)},remove_currentDeviceLayoutListChanged:function(e){this.$2$11=ss.delegateRemove(this.$2$11,e)},get_zoneModels:function(){return this.zonesModel.get_zoneModels()},get_contentDashboard:function(){if(ss.isValue(this.pm)&&this.pm.Jqz){this.$b=this.$b||this.$2();return this.$b}return this},get_actionPresModels:function(){if(ss.isValue(this.pm)){return this.pm.SJs}return null},get_backgroundColor:function(){if(ss.isValue(this.pm)&&ss.isValue(this.pm.xYr1)){return this.pm.xYr1['backgroundColor']}return null},get_zonePlaceholderColor:function(){var e=this.$d;if(ss.isNullOrUndefined(e)){e=this.$1()}this.$d=e;return this.$d},get_sheetName:function(){if(ss.isValue(this.pm)&&ss.isValue(this.pm.nhM)){return this.pm.nhM.DDA}return null},get_sheetPath:function(){if(ss.isValue(this.pm)){return this.pm.IJE}return null},get_invalidSheets:function(){if(ss.isValue(this.pm)){return this.pm.JiV}return[]},get_activeZoneID:function(){if(ss.isValue(this.pm)){return this.pm.xdK}return 0},get_readyZoneID:function(){return this.$a},set_readyZoneID:function(e){if(e===this.$a){return}this.$a=e;if(!ss.staticEquals(this.$2$4,null)){this.$2$4()}},get_hasActiveZone:function(){if(this.get_activeZoneID()!==0){return true}return false},get_activeVisual:function(){if(ss.isNullOrUndefined(this.pm)){return null}if(this.get_activeZoneID()>0){var e=this.get_zoneModels();for(var ij=0;ij<e.length;ij++){var ik=e[ij];if(ik.get_zoneId()===this.get_activeZoneID()){return ik.get_visualModel()}}}return null},get_renderMode:function(){return K.get_instance().get_renderMode()},get_formats:function(){if(ss.isValue(this.pm)){return this.pm.xYr1}return null},get_portSize:function(){return this.$9},set_portSize:function(e){if(_.isEqual(this.$9,e)){return}this.$9=e;if(!ss.staticEquals(this.$2$6,null)){this.$2$6()}},get_dashboardSize:function(){return(ss.isValue(this.pm)?this.pm.DqN:null)},get_dashboardSizeControlModel:function(){return this.$6},get_isDashboard:function(){if(ss.isValue(this.pm)&&ss.isValue(this.pm.IJE)){return this.pm.IJE.WeS}return false},get_flipboard:function(){var e=_.find(this.get_zoneModels(),function(ij){return ij.get_zoneType()==='flipboard'});return e.get_model()},get_deviceLayouts:function(){return this.pm.YOM},get_currentDeviceLayout:function(){if(ss.isNullOrUndefined(this.pm)||typeof(this.pm.hWn)==='undefined'){return'default'}return this.pm.hWn},get_isTitleVisible:function(){if(ss.isNullOrUndefined(this.pm)){return false}return this.pm.yqe},getViewId:function(e){if(!ss.keyExists(this.pm.dux,e)){return null}return this.pm.dux[e]},getViewSession:function(e){return this.$c[e]},getZone:function(e){return this.zonesModel.getZone(e)},hasZone:function(e){return this.zonesModel.hasZone(e)},isValidSheet:function(e){return ss.isValue(this.pm.JiV)&&(e.get_zoneType()!=='viz'||!_.any(this.pm.JiV,function(ij){return ss.referenceEquals(ij.AVP,e.get_worksheetName())}))},getMutableCopyOfPresModel:function(){var e=this.pm.HCq;delete this.pm['HCq'.toString()];var ij=ew.prototype.getMutableCopyOfPresModel.call(this);ij.YOM=this.pm.YOM;this.pm.HCq=e;return ij},update:function(e,ij){if(ss.isValue(this.$8)&&this.$8!==this.get_renderMode()){this.raiseEvent(this.$2$5)}this.$8=this.get_renderMode();e.Jqz=e.Jqz||false;e.yqe=e.yqe||false;e.hWn=ss.coalesce(e.hWn,'default');e.YOM=ss.coalesce(e.YOM,this.$7);this.$b=null;if(ss.isValue(e.HCq)){this.zonesModel.update(e.HCq,ij)}if(ss.isValue(e.XgC)){}if(ss.isValue(e.syO)){this.autoUpdate=e.syO}if(ss.isValue(e.dux)){var ik=_.keys(e.dux);for(var il=0;il<ik.length;il++){var im=ik[il];var io=e.dux[im];var ip=this.$c[im];if(ss.isNullOrUndefined(ip)){ip=new hE(bJ.get().get_legacySession().get_urlRoot(),im,io,ij);this.$c[im]=ip}ip.set_viewId(io)}var iq=_.keys(this.$c);var ir=_.difference(iq,_.keys(e.dux));for(var it=0;it<ir.length;it++){var iu=ir[it];delete this.$c[iu]}}if(ss.isValue(e.xdK)){if(ss.isNullOrUndefined(this.pm)||this.pm.xdK!==e.xdK){this.raiseEvent(this.$2$3)}}if(!(typeof(e.kc$)==='undefined')&&(ss.isNullOrUndefined(this.pm)||!_.isEqual(e.kc$,this.pm.kc$))){this.raiseEvent(ss.mkdel(this,function(){this.$3()}))}if(ss.isNullOrUndefined(this.$9)){this.set_portSize(e.DqN)}if(ss.isValue(e.Tbf)){if(ss.isNullOrUndefined(this.sheetListModel)){this.sheetListModel=new fR(this)}this.sheetListModel.update(e.Tbf)}if(ss.isValue(e.OJ$)){if(ss.isNullOrUndefined(this.$6)){this.$6=new ci(this)}this.$6.update(e.OJ$)}if(ss.isValue(this.pm)){if(ss.isValue(e.DqN)&&!_.isEqual(e.DqN,this.pm.DqN)){this.raiseEvent(this.$2$7)}if(ss.isValue(e.xYr1)&&!_.isEqual(e.xYr1,this.pm.xYr1)){this.raiseEvent(this.$2$8)}}if(ss.isNullOrUndefined(this.pm)||this.pm.yqe!==e.yqe){this.raiseEvent(this.$2$9)}if(ss.isNullOrUndefined(this.pm)||this.pm.hWn!==e.hWn){this.raiseEvent(this.$2$10)}if(ss.isNullOrUndefined(this.pm)||!_.isEqual(this.pm.YOM,e.YOM)){this.raiseEvent(this.$2$11)}this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$2);this.$4()},$4:function(){if(!K.get_instance().get_isLocalRenderMode()){return}var e=ez.getVisualModelsFromDashboard(this);var ij=_.keys(e);var ik={};var il=null;for(var im=0;im<ij.length;im++){var io=ij[im];var ip=e[io];if(!ip.get_selectionsModel().tupleSelection.isEmpty||ip.get_selectionsModel().get_brushVizForNodeSelection()){var iq=F.getApplicableActions(io,'on-select','highlight');if(!tab.MiscUtil.isNullOrEmpty(iq)){il=io;var ir=ip.get_vizDataModel();for(var it=0;it<iq.length;it++){var iu=iq[it];if(ss.contains(iu.QGQ,il)){var iv=bR.deserialize(gc.create(iu.Yb$).get_simpleCommand(),true);var iw=ss.isNullOrUndefined(ir)||N.isSpecialDateTimeHighlighting(iv);if(!iw){var ix=N.getHighlightFieldCaptions(iv,ir.get_highlightCaptions(),ir.get_fieldCaptions());iw=!tab.MiscUtil.isNullOrEmpty(ix)}if(iw){for(var iy=0;iy<iu.kDm.length;iy++){var iz=iu.kDm[iy];ik[iz]=true}}}}}}}if(ss.isNullOrUndefined(il)){for(var iA=0;iA<ij.length;iA++){var iB=ij[iA];var iC=e[iB];if(this.$5(iC)){for(var iD=0;iD<ij.length;iD++){var iE=ij[iD];ik[iE]=true}break}}}for(var iF=0;iF<ij.length;iF++){var iG=ij[iF];var iH=e[iG];var iI=ss.keyExists(ik,iG);iH.set_isBrushedFromAction(iI)}},$5:function(e){var ij=ez.getModelsForViz(br).call(null,this.get_contentDashboard(),e);for(var ik=0;ik<ij.length;ik++){var il=ij[ik];if(il.get_isHighlightEnabled()&&!e.get_selectionsModel().getLegendSelection(il.get_legendTypeEnum(),il.get_legendNames()).isEmpty){return true}}var im=ez.getModelsForViz(cv).call(null,this.get_contentDashboard(),e);for(var io=0;io<im.length;io++){var ip=im[io];if(!e.get_selectionsModel().getLegendSelection('highlight',[ip.get_fieldName()]).isEmpty){return true}}return false},$2:function(){if(!this.pm.Jqz){return null}var e=null;var ij=this.zonesModel.get_zoneModels();for(var ik=0;ik<ij.length;ik++){var il=ij[ik];if(ss.isInstanceOfType(il.get_model(),dc)){e=il.get_model().get_dashboardModel();break}}return e},$1:function(){var e=bG.fromColorCode(this.get_backgroundColor());e=e||bG.white;var ij=e.isLuminanceAboveThreshold(0.314999997615814);var ik=(ij?0.0199999995529652:0.0299999993294477);var il=(ij?new bG(0,0,0,ik):new bG(255,255,255,ik));return bG.alphaBlend(il,e).toRgba255()},$3:function(){if(!ss.staticEquals(cg.$2$1,null)){cg.$2$1()}}},ew);ss.initClass(ch,a,{get_addNewZoneAsFloating:function(){return this.$1},set_addNewZoneAsFloating:function(e){if(this.$1===e){return}this.$1=e}},ew);ss.initClass(ci,a,{add_sizeInfoUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sizeInfoUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_minDimension:function(){return this.pm.Y_V},get_maxDimension:function(){return this.pm.FUv},get_stepSize:function(){return this.pm.XZP},get_sizeModeOptions:function(){return this.pm.iCp||[]},update:function(e){if(ss.isValue(e._yu)){if(ss.isNullOrUndefined(this.dashboardSizeModel)){this.dashboardSizeModel=new cj(this)}this.dashboardSizeModel.update(e._yu)}if(ss.isValue(e.N_b)){if(ss.isNullOrUndefined(this.layoutInfoModel)){this.layoutInfoModel=new cD(this)}this.layoutInfoModel.update(e.N_b)}this.simpleSwapToUpdate(e,this.$2$1)}},ew);ss.initClass(cj,a,{add_sizeUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sizeUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_currentSizeText:function(){return this.pm.$hZ},get_sizeMode:function(){if(this.pm.viO!=='unspecified'){return this.pm.viO}switch(this.pm.OTU){case'size-mode-auto':{return'automatic'}case'size-mode-fixed':{return'fixed'}default:{return'range'}}},get_currentWidth:function(){return this.pm.rec},get_currentMinWidth:function(){return this.pm.EVq},get_currentMaxWidth:function(){return this.pm.PiK},get_currentHeight:function(){return this.pm.EUR},get_currentMinHeight:function(){return this.pm.pAn},get_currentMaxHeight:function(){return this.pm.McJ},update:function(e){this.simpleSwapToUpdate(e,this.$2$1)}},ew);ss.initClass(ck,a,{});ss.initClass(cl,a,{add_titleChanged:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_titleChanged:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_triggerTypeChanged:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_triggerTypeChanged:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_measureChanged:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_measureChanged:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_conditionChanged:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_conditionChanged:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},get_title:function(){return this.$4},set_title:function(e){if(!ss.referenceEquals(this.$4,e)){this.$4=e;if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}},get_subject:function(){return this.$1$5},set_subject:function(e){this.$1$5=e},get_triggerType:function(){return this.$5},set_triggerType:function(e){if(!ss.referenceEquals(this.$5,e)){this.$5=e;if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}}},get_measurePresModel:function(){return this.$1},set_measurePresModel:function(e){if(!ss.referenceEquals(this.$1,e)){this.$1=e;if(!ss.staticEquals(this.$1$3,null)){this.$1$3()}}},get_fieldCaption:function(){return this.$1.CST},get_conditionPresModel:function(){return this.$0},set_conditionPresModel:function(e){if(!ss.referenceEquals(this.$0,e)){this.$0=e;if(!ss.staticEquals(this.$1$4,null)){this.$1$4()}}},get_operator:function(){return this.$0.Fcc},get_threshold:function(){return this.$2},set_threshold:function(e){if(!ss.referenceEquals(this.$2,e)){this.$2=e;this.$3=tab.DoubleUtil.isValidDouble(e)}},get_thresholdIsValid:function(){return this.$3},get_referenceLineSpecId:function(){return this.$1$6},set_referenceLineSpecId:function(e){this.$1$6=e}});cl.$ctor1.prototype=cl.prototype;ss.initClass(cm,a,{});ss.initClass(cn,a,{add_show:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_show:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_serverDataSourcesUpdated:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_serverDataSourcesUpdated:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_serverDataSourcesAppended:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_serverDataSourcesAppended:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_serverDataSources:function(){return this.$1},updateServerDataSources:function(e,ij){if(ij){this.$1=e;this.raiseEvent(this.$2$2)}else{ss.arrayAddRange(this.$1,e);this.raiseEvent$1(Array).call(this,this.$2$3,e)}},update:function(){this.updateServerDataSources(this.$1,true);this.raiseEvent(this.$2$1)}},ew);ss.initClass(co,a,{});ss.initClass(cp,a,{$1:function(){return this.pm},get_connectionName:function(){return this.$1().cmV||''},get_promptTitle:function(){return this.$1().lYk||''},get_variableListInstruction:function(){return this.$1().Ku_||''},get_variableListNameLabel:function(){return this.$1().qyO||''},get_variableListValueLabel:function(){return this.$1().CDS||''},get_addVariableLabel:function(){return this.$1().QRI||''},get_addVariableTooltip:function(){return this.$1().hhx||''},get_deleteVariableTooltip:function(){return this.$1().lvX||''},get_requiredVariableMessage:function(){return this.$1().XDV||''},get_editSectionTitle:function(){return this.$1().Pog||''},get_editSectionInstruction:function(){return this.$1().IoH||''},get_editSectionFromLabel:function(){return this.$1().IsA||''},get_editSectionToLabel:function(){return this.$1().umJ||''},get_connectionVariables:function(){return this.$2},update:function(e){this.swapAndCopyPresModel(e);if(ss.isValue(this.$1().AlT)){this.$2=[];for(var ij=0;ij<this.$1().AlT.length;ij++){var ik=new cr(new cq(this),ij);ik.update(this.$1().AlT[ij]);this.$2.push(ik)}}}},ew);ss.initClass(cq,a,{},ew);ss.initClass(cr,a,{$1:function(){return this.pm},get_displayName:function(){return this.$1()._Ks},get_description:function(){return this.$1().ZWM},get_guid:function(){return this.$1().tLJ},get_isRequired:function(){return this.$1().Ysn},get_defaultValue:function(){return this.$2},get_supportMultiValue:function(){return this.$1().Bdp},get_values:function(){return this.$3},get_selectableOperations:function(){return this.$1().Isb.lag},get_selectableValues:function(){return this.$1().Isb.Tmi},update:function(e){this.swapAndCopyPresModel(e);this.$2=new ct(null,-1);this.$2.update(this.$1().Isb.WSP);if(ss.isValue(this.$1().mFS)){this.$3=[];for(var ij=0;ij<this.$1().mFS.length;ij++){var ik=new ct(new cs(this),ij);ik.update(this.$1().mFS[ij]);this.$3.push(ik)}}}},ew);ss.initClass(cs,a,{},ew);ss.initClass(ct,a,{$1:function(){return this.pm},get_displayValue:function(){return this.$1().Ltd},get_valueIndex:function(){return this.$1().Ab$},get_operation:function(){return this.$1().uLd.dJp},set_operation:function(e){this.$1().uLd.dJp=e},get_firstValue:function(){return this.$1().uLd.RXR},get_firstValueIndex:function(){return this.$1().uLd.esa},get_secondValue:function(){return(this.$1().uLd.tSM?this.$1().uLd.HcP:null)},get_secondValueIndex:function(){return(this.$1().uLd.tSM?this.$1().uLd.fgO:-1)},update:function(e){this.swapAndCopyPresModel(e)}},ew);ss.initClass(cu,a,{get_isEmpty:function(){return tab.MiscUtil.isNullOrEmpty(this.$1())||tab.MiscUtil.isNullOrEmpty(this.$1().SR_)},$1:function(){return this.pm},update:function(e){if(ss.isValue(this.$1())&&ss.isValue(e)){var ij=e.SR_;if(ss.isValue(ij)){var ik=this.$1().SR_;if(ss.isValue(ik)){var il=new ss.ObjectEnumerator(ik);try{while(il.moveNext()){var im=il.current();if(!ss.keyExists(ij,im.key)){ij[im.key]=im.value}}}finally{il.dispose()}}var io=new ss.ObjectEnumerator(ij);try{while(io.moveNext()){var ip=io.current();if(ip.value===null){delete ij[ip.key]}}}finally{io.dispose()}this.$2=null}}this.pm=e},getRawValue:function(e,ij){if(ss.isNullOrUndefined(this.$1())||ss.isNullOrUndefined(this.$1().SR_)){return null}if(ss.isNullOrUndefined(this.$2)){this.$2=ss.getKeyCount(this.$1().SR_)}for(var ik=0;ss.Nullable$1.lt(ik,this.$2);ik++){var il=this.$1().SR_[ik.toString()];for(var im=0;im<il.mDL.length;im++){var io=il.mDL[im];if(ss.isNullOrUndefined(io)||io.tbM!==e){continue}if(ij<io.uBu.length){return io.uBu[ij]}ij-=io.uBu.length;break}}return null}},ew);ss.initClass(cv,a,{add_newDataHighlighterPresModel:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newDataHighlighterPresModel:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_fieldName:function(){return this.$2().HBp},get_searchPlaceholderString:function(){return this.$2().udV},$2:function(){return this.pm},get_fullDomainItemSet:function(){return this.$2().DBQ},get_searchText:function(){return this.$2().gub},get_maxNumberListItems:function(){return this.$2().Zns},get_isActive:function(){return this.$2().Sic},get_bodyTextStyle:function(){return this.$2().mCc},get_numHighlighted:function(){return this.$2().oDj},get_zoneHasBorder:function(){if(ss.isNullOrUndefined(this.parent)){return false}return this.parent.get_zone().get_hasBorder()},get_zoneWidth:function(){if(ss.isNullOrUndefined(this.parent)){return 0}return this.parent.get_zone().get_width()},get_zoneBorderWidth:function(){if(!this.get_zoneHasBorder()){return 0}return this.parent.get_zone().borderWidth()},update:function(e){if(ss.isValue(e)){dh.notifyFontsFromTextStylePresModel(e.mCc)}this.$3=null;this.simpleSwapToUpdate(e,this.$2$1)},getItemNamesFromObjectId:function(e){if(ss.isNullOrUndefined(this.$3)){this.$1()}return[this.$3[e]]},$1:function(){this.$3={};var e=this.get_fullDomainItemSet().NGM;for(var ij=0;ij<e.length;ij++){var ik=e[ij];this.$3[ik.YLs]=ik.gjO}}},ew,[dS]);ss.initClass(cw,a,{add_newDataSchema:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newDataSchema:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newDataSourceAdded:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newDataSourceAdded:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_parametersDataSource:function(){return(ss.isNullOrUndefined(this.dataSources)?null:this.dataSources.getDataSource(this.$2))},get_dataSchemaPresModel:function(){return this.pm},$1:function(){if(ss.isValue(this.get_dataSchemaPresModel())&&ss.isValue(this.get_dataSchemaPresModel().UyO)){return this.get_dataSchemaPresModel().UyO}else{return''}},get_activeDataSource:function(){return(ss.isNullOrUndefined(this.dataSources)?null:this.dataSources.getDataSource(this.$1()))},notifyNewDataSourceAdded:function(e){this.raiseEvent$1(String).call(this,this.$2$2,e)},getDefaultDataSourceForSheet:function(e){if(ss.isNullOrUndefined(this.get_dataSchemaPresModel())){return null}var ij=null;if(ss.isValue(this.get_dataSchemaPresModel().zmP)&&ss.keyExists(this.get_dataSchemaPresModel().zmP,e)){ij=this.get_dataSchemaPresModel().zmP[e].PoP}if(ss.isNullOrEmptyString(ij)){return _.chain(this.dataSources.get_dataSources()).filter(ss.mkdel(this,function(ik){return!ss.referenceEquals(ik.get_name(),this.get_dataSchemaPresModel().TTN)})).first().value()}return this.dataSources.getDataSource(ij)},getDataSourceCount:function(e){var ij=0;if(ss.isValue(this.dataSources)&&ss.isValue(this.dataSources.get_dataSources())){ij=this.dataSources.get_dataSources().length;if(!e&&ss.isValue(this.get_parametersDataSource())){ij--}}return ij},findField:function(e){var ij=this.findDataSourceFromGlobalFieldName(e);if(ss.isNullOrUndefined(ij)){return null}return ij.findField(e)},findDataSourceByName:function(e){return(ss.isNullOrUndefined(this.dataSources)?null:this.dataSources.getDataSource(e))},findDataSourceFromGlobalFieldName:function(e){var ij=cx.splitGlobalFieldName(e);if(ij.length<=1){return null}var ik=ij[0].replace(new RegExp('\\]\\]'),']');return this.findDataSourceByName(ik)},update:function(e){if(ss.isNullOrUndefined(e)){return}if(_.isEqual(e,this.pm)){return}var ij=(ss.isValue(e.Zqk1)?e.Zqk1:[]);var ik=(ss.isValue(e.MLW)?e.MLW:[]);this.currentBlendingFields=ss.arrayClone(ij);this.blendingFieldCandidates=ss.arrayClone(ik);if(ss.isValue(e.TTN)){this.$2=e.TTN}var il=this.getDataSourceCount(true);if(ss.isValue(e.dhm)){this.dataSources=this.dataSources||new cy(this);this.dataSources.update(e.dhm)}if(this.getDataSourceCount(true)>il){this.notifyNewDataSourceAdded('')}if(ss.isValue(this.pm)){var im=this.pm.zmP;var io=e.zmP;ez.mergeMapPresModelDelta(im,io)}this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1)}},ew);ss.initClass(cx,a,{add_updatedDataSource:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updatedDataSource:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_name:function(){return this.pm.UyO},get_caption:function(){return this.pm.Fnn},get_fields:function(){return this.$j},get_dataSourceLayoutPresModel:function(){return this.pm.uVu},get_specifiedWidth:function(){return this.$k},set_specifiedWidth:function(e){this.$k=e},getFieldIconResource:function(e){var ij=this.pm.AFW;if(ss.isNullOrUndefined(ij)){return''}if(e<0||e>=ij.Rvq.length){return'invalid'}return ij.Rvq[e]},findField:function(e){if(ss.isValue(this.$f)&&ss.keyExists(this.$f,e)){return this.$f[e]}return null},update:function(e){if(this.isNewPresModelSameAsOld(e)){return}if(ss.isValue(e.Dfq)){ss.clear(this.$j);this.$g=$.extend({},this.$f);this.$i=$.extend({},this.$h);this.$e=$.extend({},this.$d);this.$m=$.extend({},this.$l);for(var ij=0;ij<e.Dfq.length;ij++){var ik=e.Dfq[ij];ik.OxY=ik.OxY||'';switch(ik.VzB){case'fhq':{this.$b(this.$8(ik),true);break}case'Xvi':{var il=[];for(var im=0;im<ik.MWY.length;im++){var io=ik.MWY[im];il.push(this.$2(io));this.$b(il[il.length-1],false)}this.$b(this.$7(ik,il),true);break}case'NJp':{var ip=[];for(var iq=0;iq<ik.MWY.length;iq++){var ir=ik.MWY[iq];ip.push(this.$2(ir));this.$b(ip[ip.length-1],false)}this.$b(this.$a(ik,ip),true);break}case'byN':{this.$b(this.$4(ik),true);break}case'KEq':{var it=ik;var iu=[];var iv=[];for(var iw=0;iw<it.nIx.length;iw++){var ix=it.nIx[iw];var iy=[];for(var iz=0;iz<ix.MWY.length;iz++){var iA=ix.MWY[iz];iy.push(this.$2(iA));this.$b(iy[iy.length-1],false)}iu.push(this.$6(ix,iy));this.$b(iu[iu.length-1],false)}for(var iB=0;iB<it.MWY.length;iB++){var iC=it.MWY[iB];var iD=this.$2(iC);iv.push(iD);this.$b(iD,false)}this.$b(this.$5(it,iu,iv),true);break}case'ZqW':{this.$b(this.$9(ik),true);break}case'wAR':{this.$b(this.$2(ik),true);break}}}var iE=new ss.ObjectEnumerator(this.$h);try{while(iE.moveNext()){var iF=iE.current();var iG=iF.value;var iH=iG.pm;var iI=[];for(var iJ=0;iJ<iH.rZD.length;iJ++){var iK=iH.rZD[iJ];var iL=(ss.keyExists(this.$f,iK)?this.$f[iK]:null);if(ss.isValue(iL)){iI.push(iL);ss.remove(this.$j,iL)}}for(var iM=0;iM<iH.hIp.length;iM++){var iN=iH.hIp[iM];var iO=(ss.keyExists(this.$d,iN)?this.$d[iN]:null);if(ss.isValue(iO)){iI.push(iO);ss.remove(this.$j,iO)}}iG.update(iH,iI)}}finally{iE.dispose()}if(ss.isValue(e.MWY)){for(var iP=0;iP<e.MWY.length;iP++){var iQ=e.MWY[iP];this.$b(this.$2(iQ),false)}}this.$1()}else{ss.clear(this.$j);ss.clearKeys(this.$f);ss.clearKeys(this.$d);ss.clearKeys(this.$h);ss.clearKeys(this.$l)}this.raiseEvent(this.$2$1);this.swapAndCopyPresModel(e)},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},$c:function(e){this.$j.push(e)},$b:function(e,ij){if(e.get_isColumn()&&!e.asColumn().get_isInstance()){delete this.$g[e.get_localName()];this.$f[e.get_localName()]=e}var ik=(ss.isNullOrEmptyString(e.get_globalName())?e.get_localName():e.get_globalName());switch(e.get_instanceType()){case'drillPath':{this.$d[ik]=e;delete this.$e[ik];break}case'folder':{ik=ik+e.get_folderRole();this.$h[ik]=e;delete this.$i[ik];break}case'relationalTable':{this.$l[ik]=e;delete this.$m[ik];break}case'cubeFolder':{break}default:{this.$f[ik]=e;delete this.$g[ik];break}}if(ij){this.$c(e)}},$1:function(){var e=new ss.ObjectEnumerator(this.$g);try{while(e.moveNext()){var ij=e.current();delete this.$f[ij.key]}}finally{e.dispose()}ss.clearKeys(this.$g);var ik=new ss.ObjectEnumerator(this.$e);try{while(ik.moveNext()){var il=ik.current();delete this.$d[il.key]}}finally{ik.dispose()}ss.clearKeys(this.$e);var im=new ss.ObjectEnumerator(this.$i);try{while(im.moveNext()){var io=im.current();delete this.$h[io.key]}}finally{im.dispose()}ss.clearKeys(this.$i);var ip=new ss.ObjectEnumerator(this.$m);try{while(ip.moveNext()){var iq=ip.current();delete this.$l[iq.key]}}finally{ip.dispose()}ss.clearKeys(this.$m)},$7:function(e,ij){var ik=null;if(ss.keyExists(this.$d,e.dMo)){var il=this.$d[e.dMo];if(il.get_isDrillPath()){ik=il}else{}}if(ss.isNullOrUndefined(ik)){ik=new cH(this)}ik.update(e,ij);return ik},$8:function(e){var ij=null;var ik=e.dMo+e.HGC;if(ss.keyExists(this.$h,ik)){var il=this.$h[ik];if(il.get_isFolder()){ij=il}else{}}if(ss.isNullOrUndefined(ij)){ij=new df(this)}ij.update(e,[]);return ij},$2:function(e){var ij=null;if(ss.keyExists(this.$f,e.HBp)){var ik=this.$f[e.HBp];if(ik.get_isColumn()){ij=ik.asColumn()}else{}}if(ss.isNullOrUndefined(ij)){ij=new cV(this)}ij.update(e);return ij},$9:function(e){var ij=null;if(ss.keyExists(this.$f,e.HBp)){var ik=this.$f[e.HBp];if(ik.get_isGroup()){ij=ik.asGroup()}else{}}if(ss.isNullOrUndefined(ij)){ij=new dH(this)}ij.update(e);return ij},$a:function(e,ij){var ik=null;if(ss.keyExists(this.$l,e.dMo)){var il=this.$l[e.dMo];if(il.get_isRelationalTable()){ik=il.asRelationalTable()}else{}}if(ss.isNullOrUndefined(ik)){ik=new fh(this)}ik.update(e,ij);return ik},$4:function(e){var ij=[];for(var ik=0;ik<e.nIx.length;ik++){var il=e.nIx[ik];var im=[];for(var io=0;io<il.MWY.length;io++){var ip=il.MWY[io];im.push(this.$2(ip));this.$b(im[im.length-1],false)}ij.push(this.$6(il,im));this.$b(ij[ij.length-1],false)}var iq=[];for(var ir=0;ir<e.hQl.length;ir++){var it=e.hQl[ir];var iu=[];var iv=[];for(var iw=0;iw<it.nIx.length;iw++){var ix=it.nIx[iw];var iy=[];for(var iz=0;iz<ix.MWY.length;iz++){var iA=ix.MWY[iz];iy.push(this.$2(iA));this.$b(iy[iy.length-1],false)}iu.push(this.$6(ix,iy));this.$b(iu[iu.length-1],false)}for(var iB=0;iB<it.MWY.length;iB++){var iC=it.MWY[iB];iv.push(this.$2(iC))}iq.push(this.$5(it,iu,iv))}var iD=[];for(var iE=0;iE<e.NLZ.length;iE++){var iF=e.NLZ[iE];iD.push(this.$4(iF))}return this.$3(e,ij,iq,iD)},$3:function(e,ij,ik,il){var im=null;if(ss.keyExists(this.$f,e.HBp)){var io=this.$f[e.HBp];if(io.get_isCubeDimension()){im=io.asDimension()}else{}}if(ss.isNullOrUndefined(im)){im=new bZ(this)}im.update(e,ij,ik,il);return im},$6:function(e,ij){var ik=null;if(ss.keyExists(this.$f,e.HBp)){var il=this.$f[e.HBp];if(il.get_isCubeHierarchy()){ik=il.asHierarchy()}else{}}if(ss.isNullOrUndefined(ik)){ik=new cb(this)}ik.update(e,ij);return ik},$5:function(e,ij,ik){var il=null;if(ss.keyExists(this.$f,e.dMo)){var im=this.$f[e.dMo];if(im.get_isCubeFolder()){il=im.asCubeFolder()}else{}}if(ss.isNullOrUndefined(il)){il=new ca(this)}il.update(e,ij,ik);return il}},ew);ss.initClass(cy,a,{get_dataSources:function(){return _.values(this.$1)},get_dataSourceCount:function(){return ss.getKeyCount(this.$1)},getDataSource:function(e){return this.$1[e]},update:function(e){var ij=_.keys(e);for(var ik=0;ik<ij.length;ik++){var il=ij[ik];var im=e[il];if(im===null){delete this.$1[il]}else{var io=this.$1[il];if(ss.isNullOrUndefined(io)){io=new cx(this,il);this.$1[il]=io}io.update(im)}}if(ss.isValue(this.pm)){ez.mergeMapPresModelDelta(this.pm,e)}this.swapPresModel(e)}},ew);ss.initInterface(ec,a,{handleCommandFailure:null});ss.initClass(cz,a,{handleCommandFailure:function(e,ij,ik,il){if(tabBootstrap.ViewerBootstrap.get_instance().get_sessionBeingCleared()){return false}var im=null;if(!tab.MiscUtil.isNullOrEmpty$1(ij.responseText)){im=ij.responseText.match(new RegExp('Fatal exception in vizql engine'))}if(ij.status===410||ij.status===404||ij.status===403){this.handleSessionExpiration(false)}else if(ij.status===401){this.handleAuthenticationFailure()}else if(ij.status===502||ij.status===503){this.handleSessionKilled(null)}else if(ij.status===500&&ss.isValue(im)&&im.length>0){this.handleUnknownErrorStatus(ij.responseText)}else if(ij.status===413){this.handleSessionLimitExceeded()}else if(ij.status===0){var io;if(!tab.MiscUtil.isNullOrEmpty$1(ij.responseText)){var ip=new ss.StringBuilder;ip.append('XHR Response Status: 0\nReadyState:');ip.append(ij.readyState);ip.append('\nHeaders:\n');ip.append(ij.getAllResponseHeaders());ip.append('\nResponse:\n');ip.append(ij.responseText);io=ss.mkdel(this,function(){this.$5.showAlertDialog(ip.toString(),tab.Strings.RequestAbortedByBrowser,true)})}else{io=ss.mkdel(this,function(){this.$1(e,ij)})}window.setTimeout(io,5000)}else if(ss.isNullOrUndefined(il)||!il){this.$1(e,ij)}return true},handleSessionExpiration:function(e){var ij=hP.createForCurrentWindowLocation();if(e&&ij.get_retry()){throw new ss.Exception('Failed to re-initialize session')}this.$2(e)},handleAuthenticationFailure:function(){this.$2(false)},$1:function(e,ij){var ik=ss.safeCast(e,String);var il=ss.safeCast(e,ss.Exception);var im='';if(ss.isValue(ik)){im=ss.replaceAllString(ik,'XMLHttpTransport.watchInFlight Error: ','')}else if(ss.isValue(il)){im=ss.replaceAllString(il.get_message(),'XMLHttpTransport.watchInFlight Error: ','')}im=ss.replaceAllString(im,'XMLHttpTransport Error: ','');var io=tab.Strings.ServerErrorUnexpected;if(ij.status<400){io=tab.Strings.BrowserErrorProcessing;im=tab.Strings.BrowserErrorProcessingMessage+'<br>'+im}else if(ij.status===400){io=tab.Strings.ServerErrorRejected;im=tab.Strings.ServerErrorRejectedMessage+'<br>'}else{var ip;try{ip=eval('('+ij.responseText+')');ip=ip.replace(new RegExp('\n(?=s*[A-Z])','g'),'<li>').replace(new RegExp('\n','g'),'<br>');ip='<ul><li>'+ip+'</ul>'}catch(iq){ip=ij.responseText}if(ss.isNullOrEmptyString(ip)){im=tab.Strings.ServerErrorGeneral(ij.status)+'<br>'}else{im=ip}}this.$5.showAlertDialog(im,io,true)},$0:function(e,ij,ik){var il=null;try{il=window.parent.location}catch(ip){}e=ss.coalesce(e,'').trim();var im=tab.Strings.UnhandledExceptionMessage(e);if(!ss.isNullOrEmptyString(e)){im+='<br/><br/>'}var io=ss.mkdel(this,function(){im+=ik;var ip=ss.mkdel(this,function(){this.$4();document.body.style.cursor='wait';this.$2(false)});this.$5.showConfirmationDialog(im,ij,true,ip,null)});if(tsConfig.single_frame){io()}else if(ss.isNullOrUndefined(il)){this.$5.showAlertDialog(im,ij,true)}else{io()}},$2:function(e){document.body.style.cursor='wait';var ij=tsConfig.repositoryUrl||tsConfig.origin_repository_url;var ik=hP.createForCurrentWindowLocationAndVizState(ij,tsConfig.current_sheet_name);ik.set_retry(e);ik.explicitNotGuest=tsConfig.is_authoring&&!tsConfig.is_guest;ik.fullPageLoad()},handleSessionForbiddenAction:function(e,ij){var ik=tab.Strings.SessionForbiddenActionTitle;var il=tab.Strings.SessionForbiddenActionMsg;switch(e){case 16:case 19:case 21:{il=ij;break}}this.$5.showAlertDialog(il,ik,true)},handleSessionLimitExceeded:function(){if(cz.$0){return}var e=tab.Strings.TimeLimitExceededWarning;e+='\n';e+=tab.Strings.PressBackButtonMessage;var ij=tab.Strings.TimeLimitExceededTitle;cz.$0=true;this.$5.showAlertDialog(e,ij,true)},handleSessionKilled:function(e){this.$0(e,tab.Strings.SessionEndedAlertTitle,tab.Strings.SessionEndedAlertMessage)},handleUnknownErrorStatus:function(e){this.$0(e,tab.Strings.SessionUnknownErrorTitle,tab.Strings.SessionEndedAlertMessage)},$4:function(){var e=ss.mkdict([]);e.error=null;e.success=null;e.type='POST';e.url=this.$6+'/setignore/sessions';var ij=e;var ik=ss.mkdict(['_method','PUT','target',tsConfig.sessionid]);ij.data=ik;ij.async=false;this.$3(ij)},$3:function(e,ij){return ie.helper(e,ij)}},null,[ec]);ss.initClass(cA,a,{get_isZoomin:function(){return this.$0},set_isZoomin:function(e){this.$0=e},shouldDeferLayoutUpdates:function(){return this.$1},setDeferLayoutUpdates:function(e){this.$1=e}});ss.initClass(cB,a,{handle:function(e,ij){if(!this.$3){return false}if(ss.isNullOrUndefined(e)){return false}var ik=tab.DataSourceConnectionAttemptErrorResponse.tryDeserialize(e.get_message());if(ss.isNullOrUndefined(ik)){return false}var il=e['status'];if(ss.isNullOrUndefined(il)){return false}if(!cB.shouldHandleWithGivenStatus(il)){return false}this.$0(ij,ik,false);return true},$1:function(e){if(!this.$3){return}if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.sq)||e.sq.length===0){return}var ij=fP.createSwitchSheetsCommand(tsConfig.current_sheet_name);ij.commandParams['ESN']=true;var ik=m.$0(ij,'immediately');var il=e.sq[0];var im=new tab.DataSourceConnectionAttemptErrorResponse;im.ErrorType=il.ppl;var io=im;var ip=cB.$1(il.ppl);if(ip){var iq=cB.$0(il);io.RedirectUrl=iq}else{io.ErrorMessage=il.zRk}var ir=!il.r_S;this.$0(ik,io,ir)},handlePotentialTabSwitchDataSourceException:function(e){if(!this.$3){return}if(!ss.isNullOrUndefined(e)){this.$1(e.NHY1)}},handlePotentialBootstrapDataSourceException:function(e){if(!this.$3){return}if(!ss.isNullOrUndefined(e)){this.$1(e.connectionAttemptInfo)}},$0:function(e,ij,ik){if(!ss.isNullOrEmptyString(ij.RedirectUrl)){var il=(ik?'&skippopup=1':'');ij.RedirectUrl=ss.formatString('{0}{1}&vizqlSessionId={2}',ij.RedirectUrl,il,tsConfig.sessionid)}e.reEnqueueCompletedCommandRecords();var im=function(){bJ.SendCommand(e)};var io=!ss.isNullOrUndefined(e.get_commandName())&&ss.equalsT(e.get_commandName().toString(),'ensure-layout-for-sheet'.toString());var ip=cB.$1(ij.ErrorType);if(io){if(ip){this.$2.showSheetAuthenticationOverlay(ij,im)}else{this.$2.showGenericDataSourceErrorOverlay(ij,im)}}else if(ip){this.$2.showSheetAuthenticationDialog(ij,im)}else{this.$2.showGenericDataSourceErrorDialog(ij,im)}}});ss.initClass(cC,a,{handleCommandFailure:function(e,ij,ik,il){if(!this.$0){return false}if(!cB.shouldHandleWithGivenStatus(ij.status)){return false}var im=tab.DataSourceConnectionAttemptErrorResponse.tryDeserialize(ij.responseText);if(ss.isNullOrUndefined(im)){return false}return true}},null,[ec]);ss.initClass(cD,a,{add_layoutInfoUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_layoutInfoUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_presetSizes:function(){return this.$1},get_defaultWidth:function(){return this.pm.Bgt},get_defaultHeight:function(){return this.pm.EVK},get_defaultMaxWidth:function(){return this.pm.PiK},get_defaultMaxHeight:function(){return this.pm.McJ},get_defaultMinWidth:function(){return this.pm.EVq},get_defaultMinHeight:function(){return this.pm.pAn},update:function(e){if(ss.isValue(e.ino)){this.$1.length=0;for(var ij=0;ij<e.ino.VGH.length;ij++){var ik=new gd(this.$2,ij);ik.update(e.ino.VGH[ij]);this.$1.push(ik)}}this.simpleSwapToUpdate(e,this.$2$1)}},ew);ss.initClass(cE,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_referenceModel:function(){return this.$3$2},set_referenceModel:function(e){this.$3$2=e},get_computeCompoundedRate:function(){return this.$1().BVS},get_computeCompoundedRateState:function(){return this.$1().iPy},update:function(e){var ij=e;if(this.isNewPresModelSameAsOld(ij)){return}this.swapAndCopyPresModel(ij);this.get_referenceModel().update(ij.bUz);this.raiseEvent(this.$3$1)}},hv);ss.initClass(cF,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_refLinePresModel:function(){return this.pm},get_refLineId:function(){return this.get_refLinePresModel().hGF||''},get_pairedId:function(){return this.get_refLinePresModel().wal||''},get_visualId:function(){return this.get_refLinePresModel().J_M},get_axisColumn:function(){return this.get_refLinePresModel().TLN||''},get_valueColumn:function(){return this.get_refLinePresModel().PNP||''},get_referenceParam:function(){return this.get_refLinePresModel().ltC||''},get_scopeType:function(){return ss.coalesce(this.get_refLinePresModel().CAX,'per-pane')},get_labelType:function(){return ss.coalesce(this.get_refLinePresModel().Fj,'automatic')},get_customLabel:function(){return this.get_refLinePresModel().pHt||''},get_formulaGroup:function(){return ss.coalesce(this.get_refLinePresModel().iCj,'line')},get_formulaType:function(){return ss.coalesce(this.get_refLinePresModel().lqd,'average')},get_factors:function(){return this.get_refLinePresModel().max||[]},get_percentiles:function(){return this.get_refLinePresModel().UDP||[]},get_constantValue:function(){return this.get_refLinePresModel().is$||''},get_constantType:function(){return ss.coalesce(this.get_refLinePresModel().tbM,'real')},get_formattedConstantValue:function(){return this.get_refLinePresModel().ybD||''},get_tileCount:function(){return this.get_refLinePresModel().VoR},get_stDevType:function(){return ss.coalesce(this.get_refLinePresModel().eci,'stdev-sample')},get_showBounds:function(){return ss.coalesce(this.get_refLinePresModel().KB_,'show-both')},get_confidencePercentage:function(){return this.get_refLinePresModel().lI_},get_percentageBands:function(){return this.get_refLinePresModel().cYW},get_percentages:function(){return this.get_refLinePresModel()._xO||[]},get_fillAbove:function(){return this.get_refLinePresModel().fwK},get_fillBelow:function(){return this.get_refLinePresModel().XqO},get_symmetric:function(){return this.get_refLinePresModel().gaG},get_zOrder:function(){return this.get_refLinePresModel().jwq},update:function(e){this.simpleSwapToUpdate(e,this.$2$1)}},ew);ss.initInterface(dU,a,{canExtractFont:null,extractFontFromPresModel:null});ss.initClass(cG,a,{canExtractFont:function(e){return e.VzB==='MqA'},extractFontFromPresModel:function(e){if(!this.canExtractFont(e)){return null}var ij=e;var ik=ij.sGS;if(ss.isNullOrEmptyString(ik)){return null}var il=[];var im=new di;im.set_fontFamily(ik);im.set_weight((ij.xjH?'bold':'normal'));il.push(im);return il}},null,[dU]);ss.initClass(cH,a,{get_levels:function(){return this.$1},get_childToSelect:function(){return this.$1[0]},get_instanceType:function(){return'drillPath'},get_canHaveChildren:function(){return true},update:function(e,ij){this.swapAndCopyPresModel(e);this.$1=ij}},cX);ss.initClass(cI,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('drop-ref-line-on-filter-shelf',this.c))}},ss.makeGenericType(L,[Object,cJ]));ss.initClass(cJ,a,{});ss.initClass(cK,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('drop-ref-line-on-schema-viewer',this.c))}},ss.makeGenericType(L,[Object,cL]));ss.initClass(cL,a,{});ss.initClass(cM,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('drop-ref-line-on-shelf',this.c))}},ss.makeGenericType(L,[Object,cN]));ss.initClass(cN,a,{});ss.initClass(cO,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$1:function(){return this.pm},get_selectedParameter:function(){var e=this.$1().Nyl;if(ss.isNullOrUndefined(e)){return null}return{key:e.OLk,value:e.HBp}},get_parameters:function(){return _.map(this.$1().Ppg,function(e){return{key:e.OLk,value:e.HBp}})},get_selectedDataValue:function(){return this.$1().gui},get_precannedValues:function(){var e=[];var ij=this.$1().Rff;for(var ik=0;ik<ij.length;ik++){var il=ij[ik];e.push(il)}return e},update:function(e){this.swapPresModel(e);this.raiseEvent(this.$2$1)}},ew);ss.initClass(cP,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('edit-web-zone-url',this.c))}},ss.makeGenericType(L,[Object,cQ]));ss.initClass(cQ,a,{hasCurrentUrl:function(){return ss.keyExists(this.$c,'VvY')},hasZoneID:function(){return ss.keyExists(this.$c,'BCp')},hasCommandRedirectType:function(){return ss.keyExists(this.$c,'XAS')}});ss.initClass(cR,a,{handle:function(e,ij,ik,il){var im=this.$0;for(var io=0;io<im.length;io++){var ip=im[io];if(ip.handleCommandFailure(e,ij,ik,il)){return}}}});ss.initClass(cS,a,{});ss.initClass(cT,a,{});ss.initClass(cU,a,{});ss.initClass(cV,a,{get_instanceType:function(){return'column'},get_defaultRole:function(){return this.fieldCol.tgs},get_role:function(){return this.fieldCol.YIQ},get_baseColumnName:function(){return(this.get_isInstance()?this.fieldCol._HL:this.get_globalName())},get_baseColumn:function(){return(this.get_isInstance()?this.parent.findField(this.get_baseColumnName()):this)},get_isInstance:function(){return!ss.isNullOrUndefined(this.fieldCol.sNb)&&this.fieldCol.sNb},get_isAllowedInCalcs:function(){var e=this.get_baseColumn();return(ss.referenceEquals(e,this)?cX.prototype.get_isAllowedInCalcs.call(this):e.get_isAllowedInCalcs())},get_isCalculated:function(){return this.fieldCol.TO_},get_formattedFamilyName:function(){return this.fieldCol.ANq},update:function(e){this.fieldCol=e;this.swapAndCopyPresModel(e)}},cX);ss.initEnum(cW,a,{column:'column',drillPath:'drillPath',cubeDimension:'cubeDimension',group:'group',cubeHierarchy:'cubeHierarchy',relationalTable:'relationalTable',cubeFolder:'cubeFolder',folder:'folder',multiple:'multiple'},true);ss.initClass(cY,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_fieldPickerComboPresModel:function(){return this.pm},get_selectedField:function(){return this.get_fieldPickerComboPresModel().HBp},get_fields:function(){return _.map(this.get_fieldPickerComboPresModel().pnG,function(e){return new cZ(e)})},update:function(e){this.simpleSwapToUpdate(e,this.$2$1)}},ew);ss.initClass(cZ,a,{});ss.initClass(da,a,{clear:function(){ss.clearKeys(this.cl);this.$1=0},add:function(e,ij){var ik=this.$0[this.$1];delete this.cl[ik];this.$0[this.$1]=e;this.cl[e]=ij;this.$1=(this.$1+1)%this.$2}});ss.initClass(db,a,{});ss.initClass(dc,a,{add_invalidateZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_invalidateZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_flipboardPresModel:function(){return this.pm},get_storyPointModel:function(){return this.$1.get_currentStoryPoint()},get_dashboardModel:function(){return this.get_storyPointModel().get_dashboardModel()},get_zoneId:function(){return this.parent.get_zone().get_zoneId()},get_currentStoryPointId:function(){return this.get_flipboardPresModel().P_I},invalidated:function(){this.raiseEvent(this.$2$1)},update:function(e,ij){if(ss.isValue(e.P_I)){var ik=e.stK[e.P_I.toString()];this.$1.update(ik,ij)}this.swapPresModel(e)},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)}},ew);ss.initClass(dd,a,{add_newFlipboardNav:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newFlipboardNav:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_flipboardNavPresModel:function(){return this.pm},get_currentPointIndex:function(){return this.get_flipboardNavPresModel().yTB},get_storyPoints:function(){return this.get_flipboardNavPresModel().mhR},get_zone:function(){return this.parent.get_zone()},update:function(e){if(ss.isValue(e)){if(ss.isValue(e.czn)){dh.notifyFontsFromTextStylePresModel(e.czn.mCc)}if(ss.isValue(e.TaK)){dh.notifyFontsFromTextStylePresModel(e.TaK.mCc)}}this.simpleSwapToUpdate(e,this.$2$1)}},ew);ss.initClass(de,a,{});ss.initClass(df,a,{get_fields:function(){return this.$1},get_folderRole:function(){return this.pm.HGC},get_instanceType:function(){return'folder'},get_canHaveChildren:function(){return true},get_isUnsortedContainer:function(){return true},update:function(e,ij){this.swapAndCopyPresModel(e);this.$1=ij}},cX);ss.initClass(dg,a,{get_fontGroup:function(){return this.$1$1},set_fontGroup:function(e){this.$1$1=e},get_fonts:function(){return this.$1$2},set_fonts:function(e){this.$1$2=e}});dg.$ctor1.prototype=dg.prototype;ss.initClass(dh,a,{});ss.initClass(di,a,{get_fontFamily:function(){return this.$1},set_fontFamily:function(e){this.$1=e;this.$0=''},get_weight:function(){return this.$3},set_weight:function(e){if(ss.isNullOrEmptyString(e)){this.$3='normal'}else{this.$3=e}this.$0=''},get_style:function(){return this.$2},set_style:function(e){if(ss.isNullOrEmptyString(e)){this.$2='normal'}else{this.$2=e}this.$0=''},get_hash:function(){if(this.$0===''){this.$0=this.get_fontFamily().replace(di.matchQuotes,'').toLowerCase()+'-<%>-'+this.$3.toLowerCase()+'-<%>-'+this.$2.toLowerCase()}return this.$0},equals$1:function(e){var ij=ss.replaceAllString(ss.replaceAllString(this.get_fontFamily(),"'",''),'"','');var ik=ss.replaceAllString(ss.replaceAllString(e.get_fontFamily(),"'",''),'"','');return ss.compareStrings(ij,ik,true)===0&&ss.compareStrings(this.get_weight(),e.get_weight(),true)===0&&ss.compareStrings(this.get_style(),e.get_style(),true)===0}});ss.initClass(dj,a,{});ss.initClass(dm,a,{add_updated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$1:function(){return this.pm},get_typeOfFormatItem:function(){return this.$1().XHt},get_widgetIdentifier:function(){return this.$1().KP$},get_isFormatContainer:function(){return this.get_typeOfFormatItem()==='formatContainer'},get_isFormatPane:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='formatPane'},get_isFormatQuickNumberMenu:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='formatQuickNumberMenu'},get_isFormatSection:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='formatSection'},get_isCollapsibleSection:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='collapsibleSection'},get_isCompositeContainer:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='compositeContainer'},get_isUnitContainer:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='unitContainer'},get_isTabGroup:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='tabGroup'},get_isTab:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='tab'},get_isFormatControl:function(){return this.get_typeOfFormatItem()==='formatControl'},get_isTextControl:function(){return this.get_isFormatControl()&&this.asFormatControl().get_typeOfFormatControl()==='text-control'},raiseUpdated:function(){if(!ss.staticEquals(this.$2$1,null)&&ss.isValue(this.$1())){this.$2$1()}},asFormatContainer:function(){return ss.safeCast(this,dk)},asFormatControl:function(){return ss.safeCast(this,dl)},update:function(e){this.simpleSwapToUpdate(e,this.$2$1)}},ew);ss.initClass(dk,a,{get_typeOfFormatContainer:function(){return this.pm.hfR},get_items:function(){return this.$3},get_name:function(){if(this.get_isFormatSection()){return this.pm.dMo}else if(this.get_isFormatPane()){return this.pm.dMo}else if(this.get_isFormatQuickNumberMenu()){return this.pm.dMo}else{return null}},get_pickerType:function(){if(this.get_isCompositeContainer()){return this.pm.OOg}else if(this.get_isTabGroup()){return this.pm.OOg}else{return'none'}},get_previewProperties:function(){return this.$3$1},set_previewProperties:function(e){this.$3$1=e},get_label:function(){if(this.get_isUnitContainer()){return this.pm.pHt}else if(this.get_isTab()){return this.pm.pHt}else{return null}},get_isChanged:function(){if(this.get_isUnitContainer()){return this.pm.x$I}else{return false}},get_clearCommand:function(){if(this.get_isUnitContainer()){return this.pm.YOY}else{return null}},get_isVisible:function(){return this.$4},set_isVisible:function(e){this.$4=e;this.raiseUpdated()},get_subsections:function(){var e=[];var ij=tab.FeatureFlags.isEnabled('FormatWorkbookWebAll');var ik=this.asFormatContainer().get_items();for(var il=0;il<ik.length;il++){var im=ik[il];if(ij||im.get_widgetIdentifier()==='font'||tab.FeatureFlags.isEnabled('WebQuickNumberFormatting')){e.push(im)}}return e},$2:function(e){this.set_previewProperties({});for(var ij=0;ij<e.length;ij++){var ik=e[ij];if(!ik.get_isFormatControl()){continue}var il=ik.asFormatControl();var im=il.get_widgetKey();switch(im){case'fontSize':case'lineSize':{this.get_previewProperties()[im]=il.get_numericValue();break}case'fontFamily':case'lineVisibility':case'linePattern':{this.get_previewProperties()[im]=il.get_textValue();break}case'colorSwatch':{this.get_previewProperties()[im]=il.get_colorValue();break}case'bold':case'italics':case'underline':{this.get_previewProperties()[im]=il.get_toggleValue();break}case'percent':case'comma':case'currency':{this.get_previewProperties()[im]=il.get_toggleValue();break}case'decimalLeft':case'decimalRight':{this.get_previewProperties()[im]=il.get_selectorValue();break}default:{break}}}},updatePreviewForTab:function(e){if(e>=0&&this.get_items().length>=e+1&&this.get_items()[e].get_isTab()){this.$2(this.get_items()[e].asFormatContainer().get_items())}},update:function(e){this.simpleSwapToUpdate(e,ss.mkdel(this,function(){this.raiseUpdated()}));if(ss.isNullOrUndefined(this.$3)){this.$3=[];for(var ij=0;ij<this.pm.bRh.length;ij++){var ik=this.pm.bRh[ij];this.$3.push(dm.createModel(this,ik))}}else if(ss.isValue(this.pm.bRh)){for(var il=0;il<this.pm.bRh.length;il++){var im=this.pm.bRh[il];this.$3[il].update(im)}}switch(this.get_pickerType()){case'font':{this.$2(this.get_items());break}case'line':{this.updatePreviewForTab(0);break}}}},dm);ss.initClass(dl,a,{get_typeOfFormatControl:function(){return this.pm.CFz},get_commandRedirectType:function(){return this.pm.XAS},get_formatCommand:function(){return this.pm.Fks},get_simpleCommand:function(){return bR.deserialize(gc.create(this.get_formatCommand()).get_simpleCommand())},get_widgetKey:function(){return this.pm.eKx},get_textValue:function(){return this.pm.vau},get_numericValue:function(){return this.pm.hUw},get_colorValue:function(){return this.pm.YhU},get_canBeAuto:function(){return this.pm.yVr},get_canBeNone:function(){return this.pm.FEU},get_canMatchMarkColor:function(){return this.pm.uyN},get_hasOpacity:function(){return this.pm.HUJ},get_colorSwatchType:function(){return this.pm.VZa},get_selectorValue:function(){return this.pm.vau},get_toggleValue:function(){return this.pm.gbN}},dm);ss.initClass(dn,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('get-alert-measures-from-selection',this.c))}},ss.makeGenericType(L,[Object,dp]));ss.initClass(dp,a,{});ss.initClass(dq,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('get-dashboard-drag-drop',this.c))}},ss.makeGenericType(L,[Object,dr]));ss.initClass(dr,a,{});ss.initClass(ds,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('get-dashboard-sizing',this.c))}},ss.makeGenericType(L,[Object,dt]));ss.initClass(dt,a,{});ss.initClass(du,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('get-drag-pres-model',this.c))}},ss.makeGenericType(L,[Object,dv]));ss.initClass(dv,a,{});ss.initClass(dw,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('get-drag-zone-resize',this.c))}},ss.makeGenericType(L,[Object,dx]));ss.initClass(dx,a,{hasResizeInfo:function(){return ss.keyExists(this.$c,'kYM')}});ss.initClass(dy,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('get-format-quick-number-menu-layout',this.c))}},ss.makeGenericType(L,[Object,dz]));ss.initClass(dz,a,{});ss.initClass(dA,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('get-ref-line-drag-info',this.c))}},ss.makeGenericType(L,[Object,dB]));ss.initClass(dB,a,{});ss.initClass(dC,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('get-ref-line-formula',this.c))}},ss.makeGenericType(L,[Object,dD]));ss.initClass(dD,a,{});ss.initClass(dE,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('get-url-substitution-keywords',this.c))}},ss.makeGenericType(L,[Object,dF]));ss.initClass(dF,a,{});ss.initClass(dG,a,{canExtractFont:function(e){return e.VzB==='rOX'},extractFontFromPresModel:function(e){if(!this.canExtractFont(e)){return null}var ij=e.tOA;return this.$0(ij)},$0:function(e){var ij={};for(var ik=0;ik<e.length;ik++){var il=e[ik];for(var im=0;im<dG.$0.length;im++){var io=dG.$0[im];if(io.canExtractFont(il)){var ip=io.extractFontFromPresModel(il);if(ss.isValue(ip)){for(var iq=0;iq<ip.length;iq++){var ir=ip[iq];ij[ir.get_hash()]=ir}}break}}}return _.values(ij)}},null,[dU]);ss.initClass(dH,a,{get_instanceType:function(){return'group'},get_isCombinedField:function(){return this.fieldCol.dhu||false}},cV);ss.initClass(dI,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('hide-zone',this.c))}},ss.makeGenericType(L,[Object,dJ]));ss.initClass(dJ,a,{});ss.initClass(dK,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('highlight-items-by-pattern-match',this.c))}},ss.makeGenericType(L,[Object,dL]));ss.initClass(dL,a,{hasMatchedItemSet:function(){return ss.keyExists(this.$c,'DBQ')}});ss.initClass(dM,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('highlight-items',this.c))}},ss.makeGenericType(L,[Object,dN]));ss.initClass(dN,a,{});ss.initClass(dO,a,{});ss.initClass(dP,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('hit-test-scene',this.c))}},ss.makeGenericType(L,[Object,dQ]));ss.initClass(dQ,a,{});ss.initEnum(dR,a,{escape:0,noEscape:1});ss.initInterface(dT,a,{add_sliderFractionUpdated:null,remove_sliderFractionUpdated:null,get_currentFraction:null,setCurrentFraction:null});ss.initInterface(dV,a,{get_sheetScrollPositions:null});ss.initInterface(dW,a,{triggerExportPdfUI:null});ss.initClass(dY,a,{});ss.initClass(dZ,a,{add_newImageZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newImageZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_zone:function(){return this.$1.pm},update:function(e){this.simpleSwapToUpdate(e,this.$2$1)}},ew);ss.initClass(ea,a,{});ss.initClass(ed,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('is-web-zone-url-valid',this.c))}},ss.makeGenericType(L,[Object,ee]));ss.initClass(ee,a,{hasValidationMessage:function(){return ss.keyExists(this.$c,'Azw')}});ss.initClass(ef,a,{add_newLayerEncoding:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newLayerEncoding:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_id:function(){return this.pm.FsL},get_name:function(){return this.pm.dMo},get_isTableCalc:function(){return this.pm.trO},get_paneDescriptorKeys:function(){return this.pm.N_E},get_encodings:function(){return _.filter(this.pm.Sfw,function(e){return e.DIk&&e.Tsz})},get_textEncodingDropdown:function(){return this.getDropdownPresModel('text-encoding')},get_colorEncodingDropdown:function(){return this.getDropdownPresModel('color-encoding')},get_currentPrimitiveType:function(){var e=_.find(this.get_primitiveTypes(),function(ij){return ij.NPh});return e},get_primitiveTypes:function(){return _.filter(this.pm.Arf,function(e){return e.DIk&&e.Tsz})},get_markSizeModel:function(){return this.$1},update:function(e){this.simpleSwapToUpdate(e,this.$2$1);if(ss.isNullOrUndefined(this.$1)){this.$1=new eu(this)}this.$1.update(this.getDropdownPresModel('size-encoding'))},equals$1:function(e){return this.get_id()===e.FsL},getDropdownPresModel:function(e){var ij=_.filter(this.pm.Sfw,function(ik){return ik.DIk&&ik.Tsz&&ik.Srb===e});if(ss.isNullOrUndefined(ij)||ij.length!==1){return null}return ij[0].URw}},ew);ss.initClass(eg,a,{get_layoutId:function(){return this.layoutid},set_layoutId:function(e){this.layoutid=e},formatDashboardTempfileReference:function(e,ij,ik){return this.formatLayoutMethod(this.layoutid,'tempfile')+'/?key='+e+(ij?'&keepfile=yes':'')+(ik?'&attachment=yes':'')},saveSharedView:function(e,ij,ik){var il=function(ir,it,iu){ir['button']=e;if(ss.isValue(ir['guid'])){ie.guid=ir['guid']}};var im=ss.mkdel(this,function(ir,it,iu){ie.guid=null;if(ir.status===410||ir.status===403){this.defaultSessionErrorHandler.handleSessionExpiration(false)}else if(ir.status===401){this.handleAuthenticationFailure()}else{var iv=new Object;iv['button']=e;ik(iv)}});var io=this.$0(null,il,im,'none');var ip={};ip['sheet_id']=ie.get_currentTabName();ip['parent_id']=ie.parentID;ip['primary_content_url']=ij;ip['share_button']=e;var iq=this.basicPostOpts(this.$4('save_shared_view'),ip);iq.async=false;iq.timeout=2000;this.$b(iq,io)},saveAndOpenMetricsView:function(){window.open(this.$4('save_metrics_view'),'metrics','scrollbars,resizable')},metricsViewDownloadUrl:function(){return this.$4('download_metrics_view')},getAutocompleteInfo:function(e,ij,ik){var il=function(ip,iq,ir){ij(ip['new_value'])};var im=this.basicGetOpts(this.formatLayoutMethod(this.layoutid,'getautocomplete'));var io=ss.mkdict(['fieldname',ik,'input_string',e]);im.data=io;im.success=il;this.$b(im)},performPostLoadOperations:function(e,ij){var ik=function(iq,ir,it){if(ss.isValue(ij)){ij(iq)}};var il=ss.mkdel(this,function(iq,ir,it){this.$6(it,iq,true,null)});var im=this.$0(null,ik,il,'none');var io=ss.mkdict(['sheet_id',e]);var ip=ss.mkdict([]);ip.data=io;ip.async=true;ip.type='GET';ip.headers=ss.mkdict(['Accept','text/javascript']);ip.dataType='json';ip.url=this.formatLayoutMethod(this.layoutid,'performPostLoadOperations');this.$b(ip,im)}},M);ss.initClass(eh,a,{get_filterField:function(){return this.$0},get_targetSheets:function(){return this.$3},set_targetSheets:function(e){this.$3=e},get_includeAll:function(){return this.$1},set_includeAll:function(e){this.$1=e;this.clearValues()},get_isExclude:function(){return this.$2},addValue:function(e){if(ss.contains(this.$4,e)){return false}this.$4.push(e);return true},clearValues:function(){ss.clear(this.$4)},getFilterValues:function(){return Array.prototype.slice.call(this.$4)},includesValue:function(e){if(this.get_includeAll()){return true}return this.$2!==ss.contains(this.$4,e)},removeValue:function(e){if(ss.contains(this.$4,e)){return false}ss.remove(this.$4,e);return true}});ss.initClass(ej,a,{add_filterUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_filterUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_filterPresModel:function(){return this.pm},get_filterType:function(){switch(this.get_filterPresModel().type){case'Q':{return'Quantitative'}case'H':{return'Hierarchical'}case'C':{return'Categorical'}case'RD':{if(this.get_filterPresModel().showRelDatePick){return'RelativeDatePick'}else{return'RelativeDate'}}default:{return'FilterDefault'}}},get_globalFieldName:function(){var e=this.pm;var ij=new String;ij='[';for(var ik=0;ik<e.name.length;++ik){if(ss.endsWithString(ij,']')){ij+='.';ij+='['}ij+=e.name[ik];ij+=']'}return ij},update:function(e){if(!this.isNewPresModelSameAsOld(e)){this.pm=e;this.raiseEvent(this.$2$1)}else if(ss.isValue(e)&&e.isTiled){this.raiseEvent(this.$2$1)}}},ew);ss.initClass(ei,a,{get_filterType:function(){return'Categorical'},get_mode:function(){switch(this.get_filterPresModel().mode){case'checklist':{return'check-list'}case'radiolist':{return'radio-list'}case'dropdown':{return'dropdown'}case'checkdropdown':{return'check-dropdown'}case'slider':{return'slider'}case'pattern':{return'pattern'}case'typeinlist':{return'type-in-list'}default:{return'check-list'}}},get_pattern:function(){return this.get_filterPresModel().pattern},get_isAllMode:function(){return this.get_filterPresModel().all},get_allItemsAreChecked:function(){return this.get_filterPresModel().allChecked},get_noItemsAreChecked:function(){return this.get_filterPresModel().allNotChecked},get_exclude:function(){return this.get_filterPresModel().exclude},get_isTiled:function(){return this.get_filterPresModel().isTiled},get_isSearchable:function(){return this.get_filterPresModel().is_searchable},get_summary:function(){return this.get_filterPresModel().summary},get_underlyingDataSourceIsCube:function(){return this.get_filterPresModel().catIsHier},get_condition:function(){return this.get_filterPresModel().condition},get_limit:function(){return this.get_filterPresModel().limit},get_rangeType:function(){return this.get_filterPresModel().rangeType},get_catFilterTable:function(){return this.get_filterPresModel().table},get_domainActualSize:function(){return this.get_catFilterTable().actual_size},get_tuples:function(){return this.get_catFilterTable().tuples}},ej);ss.initClass(ek,a,{get_filterType:function(){return'Hierarchical'},get_hierarchyTables:function(){return this.get_filterPresModel().table},get_levels:function(){return this.get_filterPresModel().levels},get_isSearchable:function(){return this.get_filterPresModel().is_searchable}},ej);ss.initClass(el,a,{add_newLegacyLegend:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newLegacyLegend:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},update:function(e,ij){this.simpleSwapToUpdate(e,this.$2$1);this.$4=e.XjF;this.$3=e.jZr;this.$5=e.nkG1;this.$1(ij)},setHasTitle:function(e){if(e!==this.$2){this.$1(e);this.raiseEvent(this.$2$1)}},$1:function(e){this.$2=e;var ij=this.pm;ij.jZr=(e?this.$3:0);ij.nkG1=(e?this.$5:0);ij.XjF=(e?this.$4:'')}},ew);ss.initClass(em,a,{get_filterType:function(){return'Quantitative'},get_range:function(){return this.get_filterPresModel().range},get_data:function(){return this.get_filterPresModel().data},get_dateFormat:function(){return this.get_filterPresModel().date_format},get_editingFormat:function(){return this.get_filterPresModel().editing_format},get_format:function(){return this.get_filterPresModel().format},get_calendarControlStartOfWeek:function(){return this.get_filterPresModel().first_day_of_week},get_dataSourceStartOfWeek:function(){return this.get_filterPresModel().start_of_week},get_quantitativeFilterTable:function(){return this.get_filterPresModel().table}},ej);ss.initClass(en,a,{add_quickFilterDisplayUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_quickFilterDisplayUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_quickFilterTitle:function(){return this.get_quickFilterDisplayPresModel().jOs},get_quickFilterCommands:function(){return this.get_quickFilterDisplayPresModel().D_I},get_quickFilterModeMatrix:function(){var e=tab.FeatureParamsLookup.getBool(4);if(e){return this.$1()}else{return null}},get_quickFilterDisplayPresModel:function(){return this.pm},get_zone:function(){return this.get_zoneModel().pm},get_frame:function(){return this.$3},get_zoneModel:function(){return this.parent.get_zone()},update:function(e,ij,ik){var il=!_.isEqual(this.$3,ij);this.$3=ij;if(this.isNewPresModelSameAsOld(e)){if(il){this.raiseEvent$1(Object).call(this,this.$2$1,e)}return}if(ss.isValue(e)){dh.notifyFontsFromTextStylePresModel(e.mCc)}if(ss.isValue(e)&&ss.isValue(e.jOs)){this.$6=new hq(this,'jOs'.toString())}this.$6.update(e.jOs);if(ss.isValue(e)&&ss.isValue(e.D_I)){this.$5=new bS(this)}this.$5.update(e.D_I);this.simpleSwapToUpdate$1(Object).call(this,e,this.$2$1,e);this.$7=e.jOs.EUR;this.$9=e.jOs.rec;this.$8=e.jOs.xBc;this.$2(ik)},setHasTitle:function(e){if(this.$4!==e){this.$2(e);this.raiseEvent$1(Object).call(this,this.$2$1,this.get_quickFilterDisplayPresModel())}},$2:function(e){this.$4=e;if(e){this.get_quickFilterDisplayPresModel().jOs.EUR=this.$7;this.get_quickFilterDisplayPresModel().jOs.rec=this.$9;this.get_quickFilterDisplayPresModel().jOs.xBc=this.$8}else{this.get_quickFilterDisplayPresModel().jOs.EUR=0;this.get_quickFilterDisplayPresModel().jOs.rec=0;this.get_quickFilterDisplayPresModel().jOs.xBc=''}},$1:function(){var e=[];var ij=['year','qtr','month','day','hour','minute','second','week','weekday','month-year','mdy','none','trunc-year','trunc-qtr','trunc-month','trunc-week','trunc-day','trunc-hour','trunc-minute','trunc-second'];var ik=['check-list','radio-list','dropdown','slider','pattern','type-in-list','check-dropdown'];var il=['min-max','min-only','max-only','rel-date','rel-pick'];for(var im=0;im<ij.length;im++){var io=ij[im];for(var ip=0;ip<ik.length;ip++){var iq=ik[ip];var ir={};ir.Ymv1=io;ir.etp=iq;e.push(ir)}for(var it=0;it<il.length;it++){var iu=il[it];var iv={};iv.Ymv1=io;iv.SPS=iu;e.push(iv)}}return e}},ew);ss.initClass(eo,a,{get_filterType:function(){return(this.get_isRelativeDatePick()?'RelativeDatePick':'RelativeDate')},get_defaultFormat:function(){return this.get_filterPresModel().default_format},get_fiscalYearStart:function(){return this.get_filterPresModel().fy},get_noTime:function(){return this.get_filterPresModel().noTime},get_isRelativeDatePick:function(){return this.get_filterPresModel().showRelDatePick},get_text:function(){return this.get_filterPresModel().text},get_relativeDateTable:function(){return this.get_filterPresModel().table},get_periodType:function(){return this.get_relativeDateTable().periodType},get_rangeType:function(){return this.get_relativeDateTable().rangeType},get_rangeN:function(){return this.get_relativeDateTable().rangeN},get_anchor:function(){return this.get_relativeDateTable().anchor}},ej);ss.initClass(ep,a,{fractionToValue:function(e){return this.$1+e*(this.$0-this.$1)},valueToFraction:function(e){return((this.$1===this.$0)?0:((e-this.$1)/(this.$0-this.$1)))}},fb);ss.initClass(eq,a,{get_interactedTupleIds:function(){return this.$1},get_affectedTupleIds:function(){return this.$0},get_paneDescriptorKey:function(){return this.$3},get_needRemoteUbertip:function(){return this.$2},shouldDoLocalUbertip:function(){return ss.isValue(this.$1)&&ss.isValue(this.$3)&&this.$1.length>0}});ss.initClass(es,a,{add_newMapServerInfo:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newMapServerInfo:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_tileUrlChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_tileUrlChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_useFastMaps:function(){return this.get_hasPresModel()&&this.get_mapServerPresModel().wKy},get_hasPresModel:function(){return ss.isValue(this.pm)},get_isAttributionVisible:function(){return this.get_mapServerPresModel().cpo},get_minZoom:function(){return this.get_mapServerPresModel().Tvg},get_maxZoom:function(){return this.get_mapServerPresModel().AqY},get_zoom:function(){var e=Math.log(this.get_mapServerPresModel().nyL)/Math.LN2;var ij=this.get_mapServerPresModel().Vot+e;if(this.get_useFastMaps()){ij-=tab.MapUtil.getLeafletZoomOffsetForTileSize(this.get_tilePixelSize())}return ij},get_centerLatitude:function(){return this.get_mapServerPresModel().koK},get_centerLongitude:function(){return this.get_mapServerPresModel().gJt},get_tilePixelSize:function(){return this.get_mapServerPresModel().WLq},get_numWorldRepeats:function(){return this.get_mapServerPresModel().gub1},get_tileUrl:function(){var e=this.get_mapServerPresModel();var ij;if(ss.startsWithString(e.ywq.toString(),'http://')||ss.startsWithString(e.ywq.toString(),'https://')){ij=''}else{var ik=tab.WindowHelper.getLocation(window.self).protocol;ij=ik+'//'}ij+=e.ywq;if(!ss.endsWithString(ij,String.fromCharCode(47))&&!ss.startsWithString(e.hbM.toString(),String.fromCharCode(47))){ij+='/'}ij+=e.hbM;ij=ss.replaceAllString(ij,'{K}',e.Dwf);ij=ss.replaceAllString(ij,'{L}',e.buX);var il=tab.DoubleUtil.isGreaterThanOrApproximatelyEqual(tab.BrowserSupport.get_devicePixelRatio(),2);ij=ss.replaceAllString(ij,'{D}',(il?'@2x':''));ij=ss.replaceAllString(ij,'{X}','{x}');ij=ss.replaceAllString(ij,'{Y}','{y}');ij=ss.replaceAllString(ij,'{Z}','{z}');ij=ss.replaceAllString(ij,'{P}','{p}');return ij},get_hasValidTileLayer:function(){return this.get_mapServerPresModel().gxH},get_attributionUrl:function(){return this.get_mapServerPresModel().FMn},get_attributionText:function(){return this.get_mapServerPresModel().IRP},get_attributionTextColor:function(){return this.get_mapServerPresModel().Qfp},get_attributionTextSize:function(){return this.get_mapServerPresModel().iff},get_attributionBGColor:function(){return this.$1(this.get_mapServerPresModel().voD)},get_mapBGFillColor:function(){return this.$1(this.get_mapServerPresModel().mZp)},get_hasWashout:function(){return this.get_mapServerPresModel().gEj>0},get_washoutColor:function(){var e=Math.max(0,Math.min(1,this.get_mapServerPresModel().gEj));return new bG(255,255,255,e)},get_intermediateTileLevels:function(){return this.get_mapServerPresModel().nUd},get_mapServerPresModel:function(){return this.pm},get_radialSelectionDistanceInfoModel:function(){return this.$2},update:function(e){var ij=ss.isValue(this.get_mapServerPresModel())&&ss.isValue(e);if(ij&&!ss.referenceEquals(this.get_mapServerPresModel().hbM,e.hbM)){this.raiseEvent(this.$2$2)}this.simpleSwapToUpdate(e,this.$2$1);if(this.get_hasPresModel()){this.$2.update(this.get_mapServerPresModel().mZ_)}},$1:function(e){return bG.fromColorCode(e||'rgb(255,255,255)').toString()}},ew);ss.initClass(et,a,{add_newMarksCard:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newMarksCard:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_layers:function(){return this.$3},get_activePaneSpecId:function(){return this.$2},set_activePaneSpecId:function(e){this.$2=e},update:function(e){if(this.isNewPresModelSameAsOld(e)){return}var ij=[];if(ss.isValue(e)&&ss.isValue(e.baQ)){this.$1(e.baQ,ij)}if(ss.isValue(e)&&ss.isValue(e.CGV)){for(var ik=0;ik<e.CGV.length;ik++){var il=e.CGV[ik];this.$1(il,ij)}}this.$3=ij;this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1)},$1:function(e,ij){var ik=_.find(this.$3,function(il){return il.equals$1(e)});if(ss.isNullOrUndefined(ik)){ik=new ef(this,e.FsL)}ik.update(e);ij.push(ik)}},ew);ss.initClass(eu,a,{add_sliderFractionUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sliderFractionUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_minMarkSize:function(){return this.pm.wFL},get_maxMarkSize:function(){return this.pm.Utx},get_currentMarkSize:function(){return this.pm.DOI},get_currentSliderFraction:function(){return this.$3.valueToFraction(this.get_currentMarkSize())},get_transform:function(){return this.$3},get_parentModel:function(){return this.$2},get_currentFraction:function(){return this.get_currentSliderFraction()},setCurrentFraction:function(e){},markSizeUpdated:function(){if(ss.isValue(this.$2$1)){this.$2$1(this.get_currentSliderFraction())}},update:function(e){if(ss.isValue(e)){this.$1(e)}this.simpleSwapToUpdate(e,ss.mkdel(this,this.markSizeUpdated))},$1:function(e){switch(e.Iqw.length){case 0:{this.$3=new ep(e.wFL,e.Utx);break}case 1:{var ij=e.Iqw[0];this.$3=new C(e.wFL,e.Utx,ij.mOt,ij.dbq,ij.mOt,ij.dbq);break}case 2:default:{var ik=e.Iqw[0];var il=e.Iqw[1];this.$3=new C(e.wFL,e.Utx,ik.mOt,ik.dbq,il.mOt,il.dbq);break}}}},ew,[dT]);ss.initClass(ev,a,{});ss.initClass(ez,a,{});ss.initClass(eA,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('move-dashboard-edge',this.c))}},ss.makeGenericType(L,[Object,eB]));ss.initClass(eB,a,{});ss.initClass(eC,a,{get_instanceType:function(){return'multiple'}},cX);ss.initClass(eD,a,{add_newPage:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newPage:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_title:function(){return tableau.format.stripFormattedText(this.pm.us$)},get_zone:function(){return this.$6.pm},get_frame:function(){return this.$2},get_zoneModel:function(){return this.$6},update:function(e,ij,ik,il){this.$2=ij;if(this.isNewPresModelSameAsOld(e)){return}dh.notifyFontsFromPagePresModel(e);if(ik){this.simpleSwapToUpdate$1(Object).call(this,e,this.$2$1,e)}else{this.swapAndCopyPresModel(e)}this.$5=e.XjF;this.$4=e.us$;this.$1(il)},setHasTitle:function(e){if(this.$3!==e){this.$1(e);this.raiseEvent$1(Object).call(this,this.$2$1,this.pm)}},$1:function(e){this.$3=e;this.pm.XjF=(e?this.$5:'');this.pm.us$=(e?this.$4:'')}},ew);ss.initClass(eF,a,{});ss.initClass(eG,a,{});ss.initClass(eH,a,{get_rowIndex:function(){return this.$0['ASo']},get_columnIndex:function(){return this.$0['_WI']},get_pageIndex:function(){return(ss.keyExists(this.$0,'jal')?this.$0['jal']:0)},get_presModel:function(){return this.$0},update:function(e){if(ss.isValue(e)){this.$0=e}else{this.$0={};this.$0['_WI']=0;this.$0['ASo']=0}}});eH.$ctor1.prototype=eH.prototype;ss.initClass(eI,a,{add_newParameterCtrl:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newParameterCtrl:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_parameterCtrlPresModel:function(){return this.pm},get_parameterCtrlJsonPresModel:function(){return this.get_parameterCtrlPresModel().nql},get_zone:function(){return this.get_zoneModel().pm},get_frame:function(){return this.$1},get_zoneModel:function(){return this.parent.get_zone()},update:function(e,ij){if(ss.isValue(e)){dh.notifyFontsFromTextStylePresModel(e.mCc)}this.$1=ij;this.simpleSwapToUpdate$1(Object).call(this,e,this.$2$1,e)},updateFrame:function(e){if(!ss.referenceEquals(this.$1,e)){this.$1=e;this.raiseEvent$1(Object).call(this,this.$2$1,this.get_parameterCtrlPresModel())}}},ew);ss.initClass(eJ,a,{add_filterUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_filterUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_displayMode:function(){return this.$2().NId},get_fieldName:function(){return this.$2().DMC},get_titleHtml:function(){return(this.$3().yqe?this.$3().KDk.xBc:'')},get_titleCaption:function(){return(this.$3().yqe?this.$3().KDk.CST:'')},get_titleHeight:function(){return(this.$3().yqe?this.$3().jZr:0)},get_zoneBackgroundColor:function(){return this.$3().rPC.eBu},get_itemsHeight:function(){return this.$2().$tN},get_itemsFontName:function(){return this.$2().mCc.sGS.toString()},get_itemsFontSize:function(){return this.$2().mCc.Qvi+'pt'},get_itemsTextColor:function(){return this.$2().mCc.YhU},get_itemsFontWeight:function(){return this.$2().mCc.cjf},get_itemsFontStyle:function(){return this.$2().mCc.BxQ},get_itemsTextDecoration:function(){return this.$2().mCc.zwp},get_items:function(){var e=[];for(var ij=0;ij<this.$2().wwu.length;ij++){e.push(new eK(this.$2().wwu[ij],this.$1().domain[ij]))}return e},get_selectedItem:function(){return this.$2().ybD},$2:function(){return this.pm},$1:function(){return this.$2().nql},$3:function(){return this.parent.get_zone().pm},update:function(e){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e);if(!ss.staticEquals(this.$2$1,null)){this.$2$1(e)}}}},ew);ss.initClass(eK,a,{});ss.initClass(eL,a,{});ss.initClass(eM,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_allPages:function(){return this.$1().buS},get_allPagesState:function(){return this.$1().YtV},update:function(e){this.simpleSwapToUpdate(e,this.$3$1)}},hv);ss.initClass(eN,a,{});ss.initClass(eO,a,{get_encodingType:function(){if(ss.isNullOrUndefined(this.pm)||ss.isNullOrUndefined(this.pm.Srb)){return'invalid-encoding'}return this.pm.Srb},get_alternateEncodings:function(){if(ss.isNullOrUndefined(this.pm)||ss.isNullOrUndefined(this.pm.Sfw)){return[]}return _.filter(this.pm.Sfw,function(e){return e.DIk&&e.Tsz})},get_filterType:function(){if(ss.isNullOrUndefined(this.pm)||ss.isNullOrUndefined(this.pm.Obm)){return'no-filter'}return this.pm.Obm},get_hasDrill:function(){return this.pm.IXT||false},get_shouldDrill:function(){return this.get_hasDrill()&&(this.pm._lm||false)},get_column:function(){return this.$1},get_tooltip:function(){return tableau.format.stripFormattedText(this.pm.iHY)},get_sideIconToolip:function(){return tableau.format.stripFormattedText(this.pm.tCk)},get_displayName:function(){return this.pm.MzX},get_contextMenuCommands:function(){return this.pm.Jmx},get_isMultipleFields:function(){return this.pm.Srb!=='invalid-encoding'&&ss.isInstanceOfType(this.$1,eC)},update:function(e,ij){if(this.isNewPresModelSameAsOld(e)){return}this.$1=ij;this.swapAndCopyPresModel(e)}},ew);ss.initClass(eP,a,{invoke$1:function(){return this.invoke(bV.newSrvCommand$1('ping-session',this.c))}},ss.makeGenericType(L,[Object,eQ]));ss.initClass(eQ,a,{});ss.initClass(eR,a,{});ss.initClass(eS,a,{get_pathList:function(){return this.$0},get_pathAsString:function(){if(ss.isNullOrUndefined(this.$1)){this.$1=_.map(this.$0,function(e){return e.name}).join(':')}return this.$1},add:function(e){this.$0.push(e);this.$1=null},reverse:function(){this.$0.reverse();this.$1=null}});ss.initClass(eT,a,{});ss.initEnum(eU,a,{simple:0,array:1});ss.initClass(eV,a,{add_progressiveLoad:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_progressiveLoad:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_progressiveLoadComplete:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_progressiveLoadComplete:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},get_hasZonesToLoad:function(){if(ss.isValue(this.$i)&&ss.getKeyCount(this.$i)>0){return true}if(ss.isNullOrUndefined(this.$h)){return false}for(var e=0;e<eV.$6.length;e++){var ij=eV.$6[e];if(ss.isNullOrUndefined(this.$h[ij])){continue}return true}return false},extractZoneContent:function(e){if(!eV.$3(e)){return e}var ij=this.$4(e);if(ss.isNullOrUndefined(ij)){return e}ij.HCq=this.$5(ij.HCq);return e},updateZonesWithVizData:function(e){if(ss.isNullOrUndefined(this.$n)||ss.getKeyCount(this.$n)===0){return}hN.addVizDataToZones(e.NdE,this.$n);var ij=_.keys(this.$n);for(var ik=0;ik<ij.length;ik++){var il=ij[ik];var im=this.$o[il]||this.$3(this.$n[il]);if(ss.isValue(im)&&ss.isValue(im.get_visualModel())){var io=im.get_visualModel();io.update(io.pm)}}},processModelUpdate:function(e,ij){if(!eV.$3(e)||!this.get_hasZonesToLoad()){return e}var ik=this.$4(e);if(ss.isNullOrUndefined(ik)){return e}var il=ew.removeUndefinedBoolsOnSwapCopy;if(ij){ew.removeUndefinedBoolsOnSwapCopy=false}try{var im=ik.HCq;var io=_.keys(im);for(var ip=0;ip<io.length;ip++){var iq=io[ip];var ir=im[iq];if(ss.isNullOrUndefined(ir)){continue}if(!ss.contains(eV.zonesThatDeferContentCreation,ir.jAM)){continue}var it=false;var iu=ir.BCp;var iv=[eV.$7[ir.jAM],6];for(var iw=0;iw<iv.length;iw++){var ix=iv[iw];var iy=this.$h[ix];if(ss.isValue(iy)){var iz=iy.length;for(var iA=0;iA<iz;iA++){var iB=iy[iA];if(ss.isValue(iB)&&iB.BCp===iu){it=true;iy[iA]=this.$1(iB,ir);break}}}if(it){break}}if(!it&&ir.jAM==='viz'){var iC=_.keys(this.$i);for(var iD=0;iD<iC.length;iD++){var iE=iC[iD];var iF=this.$i[iE];if(iu===iF.BCp){it=true;this.$i[iE]=this.$1(iF,ir);break}}}if(it){ir=eV.removeZoneContent(ir)}}}finally{ew.removeUndefinedBoolsOnSwapCopy=il}return e},start:function(){if(!this.get_hasZonesToLoad()){this.$6();this.$c();return}this.$d();this.$b();this.$e()},abort:function(){this.stopTimers();this.$c()},setViewport:function(e){var ij=e.get_dimensions();if(ij.w===1&&ij.h===1){return}this.$m={x:ij.l,y:ij.t,w:ij.w,h:ij.h};this.$b()},getPendingVisuals:function(){var e={};var ij=_.keys(this.$n);for(var ik=0;ik<ij.length;ik++){var il=ij[ik];var im=this.$n[il].AVP;var io=this.getPendingVisual(im);if(ss.isValue(io)){e[im]=io}}return e},getPendingVisual:function(e){var ij=null;var ik=_.keys(this.$n);for(var il=0;il<ik.length;il++){var im=ik[il];if(ss.referenceEquals(this.$n[im].AVP,e)){ij=this.$n[im];break}}if(ss.isNullOrUndefined(ij)){return null}var io=this.$o[ij.BCp]||this.$3(ij);return io.get_visualModel()},getPendingZoneContentModel:function(e){if(ss.isNullOrUndefined(this.$j)){return null}return this.$j[e]},stopTimers:function(){if(ss.isValue(this.$k)){if(ss.isValue(tab.FeatureParamsLookup.getInt(39))){window.clearTimeout(ss.unbox(this.$k))}else{tab.WindowHelper.cancelAnimationFrame(ss.unbox(this.$k))}this.$k=null}},$c:function(){this.$h=null;this.$i=null;this.$n=null;this.$o=null;this.$j=null;this.$l=null;this.$k=null;this.$m=null},$8:function(){var e={};for(var ij=0;ij<eV.$6.length;ij++){var ik=eV.$6[ij];if(ik===6&&ss.isValue(this.$i)&&ss.getKeyCount(this.$i)>0){this.$h[6]=this.$h[6]||[];var il=_.keys(this.$i);for(var im=0;im<il.length;im++){var io=il[im];this.$h[6].push(this.$i[io])}this.$i=null}var ip=this.$h[ik];if(ss.isNullOrUndefined(ip)){continue}var iq=ip.length;var ir=eV.$5[ik];var it=0;if(ir.item1===-1){it=iq}else{var iu=ir.item2*iq;if(ir.item1<iu){var iv=0;for(var iw=0;iw<ip.length;iw++){var ix=ip[iw];if(ss.isValue(ix)){++iv}}it=Math.floor(iu);if(iv%it>0){it=it+1}}else{it=ir.item1}}var iy=0;var iz=0;while(iy<it&&iz<iq){var iA=ip[iz];ip[iz]=null;iz++;if(ss.isNullOrUndefined(iA)){continue}if(eV.$2(iA.jAM)){var iB=iA.AVP;if(ss.isValue(this.$i)&&ss.keyExists(this.$i,iB)){var iC=this.$i[iB];delete this.$i[iB];delete this.$n[iC.BCp];e[iC.BCp.toString()]=iC}}delete this.$n[iA.BCp];var iD=this.$o[iA.BCp];if(ss.isValue(iD)){delete this.$o[iA.BCp];this.$j=this.$j||{};this.$j[iA.BCp]=iD.get_model()}e[iA.BCp.toString()]=iA;++iy}if(iz===iq){this.$h[ik]=null}break}return e},$9:function(e){if(ss.isNullOrUndefined(this.$m)){var ij=new tab.WindowHelper(window.self);var ik=ij.get_innerWidth();var il=ij.get_innerHeight();var im=ij.get_pageXOffset();var io=ij.get_pageYOffset();this.$m={x:im,y:io,w:ik,h:il}}var ip={x:e.thj,y:e.RAC,w:e.rec,h:e.EUR};return tab.RectXYUtil.intersectsWith(ip,this.$m)},$0:function(){var e=this.$8();if(ss.isNullOrUndefined(e)||ss.getKeyCount(e)===0){return null}var ij=tab.MiscUtil.cloneObject(this.$l);eV.getZoneRoot(ij).HCq=e;return ij},$d:function(){var e=tab.FeatureParamsLookup.getInt(39);if(ss.isValue(e)){this.$k=window.setTimeout(ss.mkdel(this,this.$a),ss.unbox(e))}else{this.$k=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,function(){this.$a()}))}},$a:function(){var e=this.$0();var ij=this.get_hasZonesToLoad();if(ij){this.$d()}this.$7(e,!ij);if(!ij){this.$6();this.$c()}},$7:function(e,ij){if(!ss.staticEquals(this.$1$1,null)){this.$1$1(e,ij)}},$6:function(){if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}},$4:function(e){if(ss.isNullOrUndefined(e)){return null}var ij=eV.getZoneRoot(e);if(ss.isNullOrUndefined(ij)&&ss.isNullOrUndefined(this.$l)){return null}this.$2(e);return ij},$5:function(e){if(ss.isNullOrUndefined(e)){return null}eV.$1();this.$n={};this.$h={};this.$o={};var ij=_.keys(e);for(var ik=0;ik<ij.length;ik++){var il=ij[ik];var im=e[il];if(!ss.contains(eV.zonesThatDeferContentCreation,im.jAM)){continue}var io=eV.cloneZone(im);im=eV.removeZoneContent(im);if(io.jAM==='viz'){this.$n[il]=io}var ip=5;if(ss.keyExists(eV.$7,io.jAM)){ip=eV.$7[io.jAM]}this.$h[ip]=this.$h[ip]||[];this.$h[ip].push(io)}return e},$b:function(){if(ss.isNullOrUndefined(this.$h)||this.$g){return}this.$i=this.$i||{};for(var e=0;e<eV.$6.length;e++){var ij=eV.$6[e];if(ij===6){continue}var ik=this.$h[ij];if(ss.isNullOrUndefined(ik)||ik.length===0){continue}var il=0;var im=new Array(ik.length);for(var io=0;io<ik.length;io++){var ip=ik[io];if(this.$9(ip)){im[il]=ip;il++}else if(ip.jAM==='viz'){this.$i[ip.AVP]=ip}else{this.$h[6]=this.$h[6]||[];this.$h[6].push(ip)}}if(il>0){im.length=il;this.$h[ij]=im}else{this.$h[ij]=null}}this.$g=true},$f:function(e){if(ss.isNullOrUndefined(e)||e.length===0){return null}var ij=e.length;var ik={};var il=new Array(ij);for(var im=0;im<ij;im++){var io=e[im];var ip=io.RAC*5000+io.thj;while(ss.isValue(ik[ip])){ip+=1}ik[ip]=io;il[im]=ip}il=il.sort(function(iu,iv){return((iu>iv)?1:-1)});for(var iq=0;iq<ij;iq++){var ir=il[iq];var it=ik[ir];e[iq]=it}return e},$e:function(){if(ss.isNullOrUndefined(this.$h)){return}for(var e=0;e<eV.$6.length;e++){var ij=eV.$6[e];if(ij===6){continue}var ik=this.$h[ij];this.$h[ij]=this.$f(ik)}},$3:function(e){var ij=ez.findContentDashboard();var ik=new ih(ij.zonesModel,ij,e.BCp);ik.update(e,null);this.$o[e.BCp]=ik;return ik},$1:function(e,ij){var ik=this.$o[e.BCp]||this.$3(e);var il=eV.cloneZone(ij);ik.update(il,null);return il},$2:function(e){if(ss.isNullOrUndefined(e)){return}var ij=this.$l;var ik=e;var il=null;this.$l=eV.$0(ik,ij);il=this.$l;ik=ik.res;ij=(ss.isNullOrUndefined(ij)?null:ij.res);il.res=eV.$0(ik,ij);if(ss.isNullOrUndefined(ik)){return}il=il.res;ik=ik.mmK;ij=(ss.isNullOrUndefined(ij)?null:ij.mmK);il.mmK=eV.$0(ik,ij);if(ss.isNullOrUndefined(ik)){return}if(e.res.mmK.Jqz){il=il.mmK;ik=ik.HCq;ij=(ss.isNullOrUndefined(ij)?null:ij.HCq);var im=null;var io='';if(ss.isValue(ik)){var ip=ik;var iq=_.keys(ip);for(var ir=0;ir<iq.length;ir++){var it=iq[ir];if(ip[it].jAM!=='flipboard'){continue}im=ip[it];io=it;break}}if(ss.isNullOrUndefined(im)){il.HCq=ij;return}il.HCq={};il.HCq[io]=eR.cloneObjWithScalarsOnly(im);il=il.HCq[io];ik=ik[io].wqq;ij=(ss.isNullOrUndefined(ij)?null:ij[io].wqq);il.wqq=eV.$0(ik,ij);if(ss.isNullOrUndefined(ik)){return}il=il.wqq;ik=ik['XIo'];ij=(ss.isNullOrUndefined(ij)?null:ij['XIo']);il['XIo']=eV.$0(ik,ij);if(ss.isNullOrUndefined(ik)){return}var iu=ik.P_I;il=il['XIo'];ik=ik.stK;ij=(ss.isNullOrUndefined(ij)?null:ij.stK);il.stK=eV.$0(ik,ij);if(ss.isNullOrUndefined(ik)){return}il=il.stK;ik=ik[iu.toString()];ij=(ss.isNullOrUndefined(ij)?null:ij[iu.toString()]);il[iu.toString()]=eV.$0(ik,ij);if(ss.isNullOrUndefined(ik)){return}il=il[iu.toString()];ik=ik.mmK;ij=(ss.isNullOrUndefined(ij)?null:ij.mmK);il.mmK=eV.$0(ik,ij)}}});ss.initClass(eW,a,{add_legendChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_legendChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_quantColorLegendPresModel:function(){return this.pm},update:function(e,ij){if(this.isNewPresModelSameAsOld(e)){return}dh.notifyFontsFromQuantitativeColorLegendPresModel(e);this.swapAndCopyPresModel(e);this.$3=e.XjF;this.$1(ij);this.raiseEvent(this.$2$1)},setHasTitle:function(e){if(this.$2!==e){this.$1(e);this.raiseEvent(this.$2$1)}},$1:function(e){this.$2=e;this.get_quantColorLegendPresModel().XjF=(e?this.$3:'')}},ew);ss.initClass(eX,a,{get_filterField:function(){return this.$2},get_currentMaxVal:function(){return this.$0},get_currentMinVal:function(){return this.$1},get_targetSheets:function(){return this.$5},get_previousMaxVal:function(){return this.$3},get_previousMinVal:function(){return this.$4},valueInRange:function(e){var ij=true;if(ss.isValue(this.$1)){ij=ij&&tab.DoubleUtil.isGreaterThanOrApproximatelyEqual(e,ss.unbox(this.$1))}if(ss.isValue(this.$0)){ij=ij&&tab.DoubleUtil.isLessThanOrApproximatelyEqual(e,ss.unbox(this.$0))}return ij}});ss.initClass(eY,a,{add_filterUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_filterUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_quickFilterModel:function(){return this.$2$2},set_quickFilterModel:function(e){this.$2$2=e},get_quickFilterType:function(){return this.$2$3},set_quickFilterType:function(e){this.$2$3=e},get_quickFilterCommands:function(){return this.$3().D_I},get_titleCaption:function(){return this.$3().jOs.CST},get_titleHtml:function(){return this.$3().jOs.xBc},get_titleHeight:function(){return this.$3().jOs.EUR},get_itemsHeight:function(){return this.$3().$tN},get_itemsFontName:function(){return this.$3().mCc.sGS.toString()},get_itemsFontSize:function(){return this.$3().mCc.Qvi+'pt'},get_itemsTextColor:function(){return this.$3().mCc.YhU},get_itemsFontWeight:function(){return this.$3().mCc.cjf},get_itemsFontStyle:function(){return this.$3().mCc.BxQ},get_itemsTextDecoration:function(){return this.$3().mCc.zwp},get_zoneBackgroundColor:function(){var e=this.parent;return e.get_zone().pm.rPC.eBu},get_visualId:function(){var e=this.parent;return ez.getVisualId(e.get_zone().pm.Gge)},get_fieldName:function(){return this.$3().ps$.HBp},$3:function(){return this.pm},update:function(e,ij){if(!this.isNewPresModelSameAsOld(e)){if(ss.isValue(e)){dh.notifyFontsFromTextStylePresModel(e.mCc)}this.swapAndCopyPresModel(e);if(e.ps$.VOu!==this.get_quickFilterType()){this.set_quickFilterModel(this.$1(e.ps$));this.set_quickFilterType(e.ps$.VOu)}if(ss.isValue(this.get_quickFilterModel())){this.get_quickFilterModel().update(e.ps$)}this.$5=e.jOs.EUR;this.$7=e.jOs.rec;this.$6=e.jOs.xBc;this.$2(ij);if(!ss.staticEquals(this.$2$1,null)){this.$2$1()}}},setHasTitle:function(e){if(this.$4!==e){this.$2(e);this.raiseEvent(this.$2$1)}},$2:function(e){this.$4=e;if(e){this.$3().jOs.EUR=this.$5;this.$3().jOs.rec=this.$7;this.$3().jOs.xBc=this.$6}else{this.$3().jOs.EUR=0;this.$3().jOs.rec=0;this.$3().jOs.xBc=''}},$1:function(e){switch(e.VOu){case'categorical':{return new bs(this)}default:{return null}}}},ew);ss.initClass(fa,a,{get_radialSelectionDistanceInfoPresModel:function(){return this.pm},get_earthRadius:function(){return this.get_radialSelectionDistanceInfoPresModel().uwy},get_fontSizePixels:function(){return this.get_radialSelectionDistanceInfoPresModel().Qvi},get_largeUnitDisplay:function(){return this.get_radialSelectionDistanceInfoPresModel().Wec},get_latLongRect:function(){return this.get_radialSelectionDistanceInfoPresModel().v_N},get_mapHeight:function(){return this.get_radialSelectionDistanceInfoPresModel().EUR},get_mapWidth:function(){return this.get_radialSelectionDistanceInfoPresModel().rec},get_readoutOffsetPixels:function(){return this.get_radialSelectionDistanceInfoPresModel().fDh},get_shouldShowDistance:function(){return this.get_radialSelectionDistanceInfoPresModel().vZo},get_sigFigs:function(){return this.get_radialSelectionDistanceInfoPresModel().nKM},get_smallToLargeUnitDivisor:function(){return this.get_radialSelectionDistanceInfoPresModel().goC},get_smallUnitDisplay:function(){return this.get_radialSelectionDistanceInfoPresModel().zIs},get_unitTransition:function(){return this.get_radialSelectionDistanceInfoPresModel().FRN},get_decimalMark:function(){return this.get_radialSelectionDistanceInfoPresModel().QFu},get_fontColor:function(){return this.get_radialSelectionDistanceInfoPresModel().hlO},update:function(e){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e)}}},ew);ss.initClass(fc,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_rankTypeValues:function(){return this.$1().weN},get_rankTypeCaptions:function(){return this.$1().QIk},get_rankTypeIndex:function(){return this.$1().SWx},get_rankType:function(){return this.get_rankTypeValues()[this.get_rankTypeIndex()]},get_rankTypeState:function(){return this.$1().JGE},get_sortDirectionValues:function(){return this.$1().GJK},get_sortDirectionCaptions:function(){return this.$1().sxj},get_sortDirectionIndex:function(){return this.$1().HcK},get_sortDirection:function(){return this.get_sortDirectionValues()[this.get_sortDirectionIndex()]},update:function(e){this.simpleSwapToUpdate(e,this.$3$1)}},hv);ss.initClass(fd,a,{setRange:function(e,ij){this.type=1;this.range=e;this.checkState=ij},setSingle:function(e,ij){this.type=0;this.index=e;this.checkState=ij}});ss.initClass(fe,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_refBandPresModel:function(){return this.pm},get_refLineId:function(){return this.get_refBandPresModel().hGF||''},get_pairedId:function(){return this.get_refBandPresModel().wal||''},get_visualId:function(){return this.get_refBandPresModel().J_M},get_referenceParam:function(){return this.get_refBandPresModel().ltC||''},get_scopeType:function(){return ss.coalesce(this.get_refBandPresModel().CAX,'per-pane')},get_fromLabelType:function(){return ss.coalesce(this.get_refBandPresModel().Fj,'automatic')},get_toLabelType:function(){return ss.coalesce(this.get_refBandPresModel().wQb,'automatic')},get_fromCustomLabel:function(){return this.get_refBandPresModel().pHt||''},get_toCustomLabel:function(){return this.get_refBandPresModel().gjX||''},get_validFormulaTypes:function(){return this.$2$2},set_validFormulaTypes:function(e){this.$2$2=e},get_validPairedFormulaTypes:function(){return this.$2$3},set_validPairedFormulaTypes:function(e){this.$2$3=e},get_validLabelTypes:function(){var e=[];if(ss.isNullOrUndefined(this.get_refBandPresModel().Uzh)){return e}var ij=this.get_refBandPresModel().Uzh;for(var ik=0;ik<ij.length;ik++){var il=ij[ik];e.push({key:il.Fj,value:il.MzX})}return e},get_validCustomLabelTags:function(){var e=[];if(ss.isNullOrUndefined(this.get_refBandPresModel().ZfF)){return e}var ij=this.get_refBandPresModel().ZfF;for(var ik=0;ik<ij.length;ik++){var il=ij[ik];e.push(il)}return e},get_fromFormulaType:function(){return ss.coalesce(this.get_refBandPresModel().lqd,'min')},get_toFormulaType:function(){return ss.coalesce(this.get_refBandPresModel().fuT1,'max')},get_fromFieldPickerCombo:function(){return this.$2$4},set_fromFieldPickerCombo:function(e){this.$2$4=e},get_toFieldPickerCombo:function(){return this.$2$5},set_toFieldPickerCombo:function(e){this.$2$5=e},get_fromConstantValue:function(){return this.get_refBandPresModel().is$||''},get_toConstantValue:function(){return this.get_refBandPresModel().GXD||''},get_fromFormattedConstantValue:function(){return this.get_refBandPresModel().ybD||''},get_toFormattedConstantValue:function(){return this.get_refBandPresModel().LFt||''},get_showBounds:function(){return ss.coalesce(this.get_refBandPresModel().KB_,'show-both')},get_fillAbove:function(){return this.get_refBandPresModel().fwK},get_fillBelow:function(){return this.get_refBandPresModel().XqO},$1:function(e){var ij=[];if(ss.isNullOrUndefined(e)){return ij}return ij.concat.apply(ij,e)},update:function(e){if(ss.isValue(e)){this.get_fromFieldPickerCombo().update(e.TkR);this.get_toFieldPickerCombo().update(e.gIj);this.set_validFormulaTypes(this.$1(e.dcD));this.set_validPairedFormulaTypes(this.$1(e.yEp))}this.simpleSwapToUpdate(e,this.$2$1)}},ew);ss.initClass(ff,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_activePane:function(){return this.$2$2},set_activePane:function(e){this.$2$2=e},get_activeModel:function(){return this.$2$3},set_activeModel:function(e){this.$2$3=e},get_lineModel:function(){return this.$2$4},set_lineModel:function(e){this.$2$4=e},get_bandModel:function(){return this.$2$5},set_bandModel:function(e){this.$2$5=e},get_distributionModel:function(){return this.$2$6},set_distributionModel:function(e){this.$2$6=e},get_editorPresModel:function(){return this.pm},get_isEditing:function(){return ss.isValue(this.get_activeModel())},get_notificationId:function(){return'D$L'},onNotify:function(e){this.update(e)},update:function(e){this.swapAndCopyPresModel(e);this.set_activePane(ss.coalesce(e.iCj,this.get_activePane()));switch(this.get_activePane()){case'none':{this.set_activeModel(null);break}case'line':{this.set_activeModel(this.get_lineModel());break}case'band':{this.set_activeModel(this.get_bandModel());break}case'distribution':{this.set_activeModel(this.get_distributionModel());break}default:{break}}this.get_lineModel().update(e.vsM);this.get_bandModel().update(e.UOR);this.get_distributionModel().update(e.xkU);this.raiseEvent(this.$2$1)}},ew,[dX]);ss.initClass(fg,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_refLinePresModel:function(){return this.pm},get_refLineId:function(){return this.get_refLinePresModel().hGF||''},get_visualId:function(){return this.get_refLinePresModel().J_M},get_scopeType:function(){return ss.coalesce(this.get_refLinePresModel().CAX,'per-pane')},get_labelType:function(){return ss.coalesce(this.get_refLinePresModel().Fj,'automatic')},get_customLabel:function(){return this.get_refLinePresModel().pHt||''},get_formulaType:function(){return ss.coalesce(this.get_refLinePresModel().lqd,'average')},get_validFormulaTypes:function(){return this.$2$2},set_validFormulaTypes:function(e){this.$2$2=e},get_validLabelTypes:function(){var e=[];if(ss.isNullOrUndefined(this.get_refLinePresModel().Uzh)){return e}var ij=this.get_refLinePresModel().Uzh;for(var ik=0;ik<ij.length;ik++){var il=ij[ik];e.push({key:il.Fj,value:il.MzX})}return e},get_validCustomLabelTags:function(){var e=[];if(ss.isNullOrUndefined(this.get_refLinePresModel().ZfF)){return e}var ij=this.get_refLinePresModel().ZfF;for(var ik=0;ik<ij.length;ik++){var il=ij[ik];e.push(il)}return e},get_fieldPickerCombo:function(){return this.$2$3},set_fieldPickerCombo:function(e){this.$2$3=e},get_confidenceLevelCombo:function(){return this.$2$4},set_confidenceLevelCombo:function(e){this.$2$4=e},get_formattedConstantValue:function(){return this.get_refLinePresModel().ybD||''},get_isConfidenceIntervalAllowed:function(){return this.get_refLinePresModel().jQO},get_confidenceIntervalSelectedState:function(){return this.get_refLinePresModel().ZUb},get_confidenceIntervalStates:function(){var e=[];if(ss.isNullOrUndefined(this.get_refLinePresModel().rpZ)){return e}var ij=this.get_refLinePresModel().rpZ;for(var ik=0;ik<ij.length;ik++){var il=ij[ik];e.push({key:il.ll,value:il.MzX})}return e},get_showBounds:function(){return ss.coalesce(this.get_refLinePresModel().KB_,'show-both')},get_fillAbove:function(){return this.get_refLinePresModel().fwK},get_fillBelow:function(){return this.get_refLinePresModel().XqO},get_zOrder:function(){return this.get_refLinePresModel().jwq},$1:function(e){var ij=[];if(ss.isNullOrUndefined(e)){return ij}return ij.concat.apply(ij,e)},update:function(e){if(ss.isValue(e)){this.get_fieldPickerCombo().update(e.TkR);this.get_confidenceLevelCombo().update(e.cuz);this.set_validFormulaTypes(this.$1(e.dcD))}this.simpleSwapToUpdate(e,this.$2$1)}},ew);ss.initClass(fh,a,{get_columns:function(){return this.$1},get_instanceType:function(){return'relationalTable'},get_canHaveChildren:function(){return true},get_isUnsortedContainer:function(){return true},update:function(e,ij){this.swapAndCopyPresModel(e);this.$1=ij}},cX);ss.initClass(fi,a,{get_workbookId:function(){return this.$2},get_sheetId:function(){return this.$1},get_customizedView:function(){return this.$0},get_originalViewURL:function(){return ss.formatString('{0}/{1}',this.get_workbookId(),this.get_sheetId())}});ss.initClass(fj,a,{invoke$1:function(){return this.invoke(bV.newSrvCommand$1('resize-axis-region',this.c))}},ss.makeGenericType(L,[Object,fk]));ss.initClass(fk,a,{});ss.initClass(fl,a,{invoke$1:function(){return this.invoke(bV.newSrvCommand$1('resize-header-region',this.c))}},ss.makeGenericType(L,[Object,fm]));ss.initClass(fm,a,{});ss.initClass(fn,a,{});ss.initClass(fo,a,{});ss.initClass(fp,a,{get_sceneElementPM:function(){return this.$2$1},set_sceneElementPM:function(e){this.$2$1=e},get_paneId:function(){return this.$2$2},set_paneId:function(e){this.$2$2=e},get_index:function(){return this.get_sceneElementPM().imC},get_paneIndex:function(){return this.get_sceneElementPM().hJq},get_tupleId:function(){return this.get_sceneElementPM().OBN},get_bounds:function(){return this.$2$3},set_bounds:function(e){this.$2$3=e},get_visualPart:function(){return this.get_sceneElementPM().oqX},get_detail:function(){return this.get_sceneElementPM().NtP},get_hitType:function(){return this.get_sceneElementPM().FCs},get_detailId:function(){return this.get_sceneElementPM().ATa},get_cellId:function(){return this.get_sceneElementPM().OCD},get_worldOffset:function(){return this.get_sceneElementPM().kAz},get_markState:function(){return this.get_sceneElementPM().cwS},get_hitDistance:function(){return this.get_sceneElementPM().JWU},get_overlayHit:function(){return this.get_sceneElementPM().GN_}},ew);ss.initClass(fq,a,{add_newSceneModel:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newSceneModel:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_visualListModels:function(){return this.$8},get_refLineVisualLists:function(){return this.$6},get_trendLineVisualLists:function(){return this.$7},get_drawFirstParts:function(){return this.$4},get_drawLastParts:function(){return this.$5},get_backgroundColor:function(){return this.$3},get_paneDescriptorCount:function(){return ss.getKeyCount(this.pm.ObZ)},update:function(e){if(ss.isValue(e.QV$)){K.get_instance().get_shapeManager().updateCustomImageMap(e.QV$)}this.$2(e);if(ss.isValue(e.KCi)){ss.clear(this.$4);for(var ij=0;ij<e.KCi.length;ij++){var ik=e.KCi[ij];dh.notifyFontsFromVisualListPresModel(ik);var il=ik.oqX;if(!ss.keyExists(this.$8,il)){this.$8[il]=new hH(this)}if(ss.contains(this.$4,il)){continue}this.$4.push(il);this.$8[il].update(ik)}}if(ss.isValue(e.lb_)){ss.clear(this.$5);for(var im=0;im<e.lb_.length;im++){var io=e.lb_[im];dh.notifyFontsFromVisualListPresModel(io);var ip=io.oqX;if(!ss.keyExists(this.$8,ip)){this.$8[ip]=new hH(this)}this.$5.push(ip);this.$8[ip].update(io)}}if(ss.isValue(e.HUq)){for(var iq=0;iq<e.HUq.length;iq++){var ir=e.HUq[iq];for(var it=0;it<ir.MdI.length;it++){var iu=ir.MdI[it];dh.notifyFontsFromVisualListPresModel(iu)}}}if(ss.isValue(e.ObZ)){var iv=_.values(e.ObZ);for(var iw=0;iw<iv.length;iw++){var ix=iv[iw];if(ss.isValue(ix)){dh.notifyFontsFromPDMarksPresModel(ix)}}}var iy=ss.isNullOrUndefined(e.$Ww);this.swapAndCopyPresModel(e);if(iy){this.pm.$Ww=null}this.$3=fq.$0(this.$8,e);this.$1();this.raiseEvent(this.$2$1)},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},$1:function(){ss.clear(this.$6);ss.clear(this.$7);if(ss.isValue(this.pm.HUq)){for(var e=0;e<this.pm.HUq.length;e++){var ij=this.pm.HUq[e];if(ss.isValue(ij.MdI)){for(var ik=0;ik<ij.MdI.length;ik++){var il=ij.MdI[ik];if(ss.isValue(il)){if(il.oqX==='ref-lines'){this.$6.push(il)}else if(il.oqX==='trend-lines'){this.$7.push(il)}}}}}}},$2:function(e){var ij=new ss.ObjectEnumerator(this.get_visualListModels());try{while(ij.moveNext()){var ik=ij.current();var il={$:ik.key};var im=_.find(e.KCi,ss.mkdel({currentPart:il},function(io){return this.currentPart.$===io.oqX}));if(ss.isNullOrUndefined(im)){im=_.find(e.lb_,ss.mkdel({currentPart:il},function(io){return this.currentPart.$===io.oqX}))}if(ss.isNullOrUndefined(im)){delete this.get_visualListModels()[il.$]}}}finally{ij.dispose()}}},ew);ss.initClass(fr,a,{});ss.initClass(fs,a,{get_schedulePresModel:function(){return this.$9},set_schedulePresModel:function(e){this.$9=e},get_scheduleFrequencyDescription:function(){return this.$8},set_scheduleFrequencyDescription:function(e){this.$8=e},generateFrequencyDescription:function(){var e=new Date;var ij=0-e.getTimezoneOffset();var ik=0;var il=this.$9.scheduleDetails.startTime;var im=0;var io='';if(tsConfig.display_schedules_in_client_timezone){ik=ij-this.$9.serverTimezoneOffset;il=fs.$2(this.$9.scheduleDetails.startTime,ik);im=fs.$0(this.$9.scheduleDetails.startTime,ik)}switch(this.$9.scheduleType){case'Hourly':{io=this.$2(il,ik);break}case'Daily':{io=this.$0(il);break}case'Weekly':{io=this.$4(il,im);break}case'Monthly':{io=this.$3(il,im);break}default:{throw new ss.Exception('Unknown schedule type: '+this.$9.scheduleType)}}if(!this.$9.parallel){io=tab.Strings.SerialScheduleDescription(io,tab.Strings.SerialScheduleDescriptionSuffix)}return io},$7:function(e,ij,ik){var il=ss.Int32.div(e,60);if(ij===0){if(e<60){return tab.Strings.ScheduleEveryXMinutesDescription(e)}else if(il===1){return tab.Strings.ScheduleEveryOneHourDescription}else{return tab.Strings.ScheduleEveryXHoursStartingAtYDescription(ss.Int32.div(e,60),fs.$1(ik))}}else if(ij===15){if(e<60){if(e===30){return tab.Strings.ScheduleEvery30MinutesDescription}else{return tab.Strings.ScheduleEveryXMinutesDescription(e)}}else{if(il===1){return tab.Strings.ScheduleEveryOneHourAtXMinutesPastDescription(ij)}return tab.Strings.ScheduleEveryXHoursStartingAtYDescription(il,fs.$1(ik))}}else if(ij===30){if(e<60){return tab.Strings.ScheduleEveryXMinutesDescription(e)}else{if(il===1){return tab.Strings.ScheduleEveryOneHourAtXMinutesPastDescription(ij)}return tab.Strings.ScheduleEveryXHoursStartingAtYDescription(il,fs.$1(ik))}}else if(ij===45){if(e<60){if(e===30){return tab.Strings.ScheduleEvery30MinutesDescription}else{return tab.Strings.ScheduleEveryXMinutesDescription(e)}}else{if(il===1){return tab.Strings.ScheduleEveryOneHourAtXMinutesPastDescription(ij)}return tab.Strings.ScheduleEveryXHoursStartingAtYDescription(il,fs.$1(ik))}}else{throw new ss.Exception('Unsupported schedule minutes after the hour: '+ij)}},$2:function(e,ij){var ik=(this.$9.scheduleDetails.endTime+ij)%1440;if(e===ik){return this.$7(this.$9.scheduleDetails.recurrenceMinutes,e%60,e)}var il;if(this.$9.scheduleDetails.recurrenceMinutes<60){il=tab.Strings.Minutes(this.$9.scheduleDetails.recurrenceMinutes)}else if(this.$9.scheduleDetails.recurrenceMinutes>60){il=tab.Strings.Hours(ss.Int32.div(this.$9.scheduleDetails.recurrenceMinutes,60))}else{il=tab.Strings.Hour}return tab.Strings.ScheduleHourlyDescription(il,fs.$1(e),fs.$1(ik))},$0:function(e){return tab.Strings.ScheduleDailyDescription(fs.$1(e))},$4:function(e,ij){var ik=this.$9.scheduleDetails.recurrenceDaysOfWeek;if(ij!==0){ik=this.$6(this.$9.scheduleDetails.recurrenceDaysOfWeek,ij)}var il=this.$1(ik);return tab.Strings.ScheduleWeeklyDescription(fs.$1(e),il)},$6:function(e,ij){var ik=[];for(var il=0;il<e.length;il++){var im=ss.indexOf(fs.$7,e[il]);var io=(im+ij+fs.$7.length)%fs.$7.length;ik.push(fs.$7[io])}return ik},$1:function(e){switch(e.length){case 1:{return fs.$6[e[0]]}case 2:{return tab.Strings.ListLengthTwo(fs.$6[e[0]],fs.$6[e[1]])}case 3:{return tab.Strings.ListLengthThree(fs.$6[e[0]],fs.$6[e[1]],fs.$6[e[2]])}case 4:{return tab.Strings.ListLengthFour(fs.$6[e[0]],fs.$6[e[1]],fs.$6[e[2]],fs.$6[e[3]])}case 5:{return tab.Strings.ListLengthFive(fs.$6[e[0]],fs.$6[e[1]],fs.$6[e[2]],fs.$6[e[3]],fs.$6[e[4]])}case 6:{return tab.Strings.ListLengthSix(fs.$6[e[0]],fs.$6[e[1]],fs.$6[e[2]],fs.$6[e[3]],fs.$6[e[4]],fs.$6[e[5]])}case 7:{return tab.Strings.ListLengthSeven(fs.$6[e[0]],fs.$6[e[1]],fs.$6[e[2]],fs.$6[e[3]],fs.$6[e[4]],fs.$6[e[5]],fs.$6[e[6]])}default:{throw new ss.Exception('Unknown list length: '+e.length)}}},$3:function(e,ij){var ik=this.$9.scheduleDetails.recurrenceDayOfMonth;if(ij!==0){ik=this.$5(this.$9.scheduleDetails.recurrenceDayOfMonth,ij)}if(ik==='Last'){return tab.Strings.ScheduleMonthlyDescriptionLast(fs.$1(e))}else if(ik==='SecondToLast'){return tab.Strings.ScheduleMonthlyDescriptionSecondToLast(fs.$1(e))}var il=ik.charCodeAt(ik.length-1);var im='';if(il===49){im=tab.Strings.FirstEnding(ik)}else if(il===50&&ik!=='12'){im=tab.Strings.SecondEnding(ik)}else if(il===51&&ik!=='13'){im=tab.Strings.ThirdEnding(ik)}else{im=tab.Strings.NumberEnding(ik)}return tab.Strings.ScheduleMonthlyDescription(im,fs.$1(e))},$5:function(e,ij){var ik=new Date;var il=(new Date(ik.getFullYear(),ik.getMonth()+1,0)).getDate();if(e==='Last'){if(ij>0){return'1'}else if(ij<0){return'SecondToLast'}else{return'Last'}}if(e==='1'&&ij<0){return'Last'}var im=parseInt(e);var io=(im+ij+il)%il;return io.toString()}});ss.initClass(ft,a,{});ss.initClass(fu,a,{});ss.initClass(fv,a,{add_newSelection:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newSelection:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_selectionPresModel:function(){if(ss.isValue(this.$4)){var e={};e.coe='tuples';e.kyj=this.$4;return e}return this.$3()},get_selectionType:function(){return this.$3().coe},get_nodes:function(){return this.$3().p$U},get_ids:function(){if(ss.isValue(this.$4)){return this.$4}return this.$3().kyj},get_hashKey:function(){var e=this.get_selectionType().toString();if(this.get_selectionType()==='legend-items'){e+='-'+this.get_selectionPresModel().VNi.jhL+':'+this.get_selectionPresModel().VNi.pMg.join(';')}return e},$3:function(){return this.pm},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},isObjectSelected:function(e){if(ss.isNullOrUndefined(this.$3())){return false}if(ss.isNullOrUndefined(this.get_ids())){return false}return ss.contains(this.get_ids(),e)},isLegendItemSelected:function(e){if(this.get_selectionType()!=='legend-items'){return false}if(ss.isNullOrUndefined(this.$5)){this.$5={};if(ss.isValue(this.get_ids())){var ij=this.get_ids();for(var ik=0;ik<ij.length;ik++){var il=ij[ik];this.$5[il]=true}}}return ss.keyExists(this.$5,e.YLs)},isAnyLegendItemSelected:function(){if(this.get_selectionType()!=='legend-items'){return false}if(ss.isValue(this.get_ids())){return this.get_ids().length>0}return false},isNodeSelected:function(e){if(this.isEmpty){return false}return ss.isValue(this.$1(e.ZHX,e.wwF))},findNodeSelection:function(e){return this.$1(e.ZHX,e.wwF)},isNodeAncestorSelected:function(e,ij){if(ss.isNullOrUndefined(e.ZHX)||ss.isNullOrUndefined(e.wwF)){return false}var ik=(ij?0:1);for(var il=1;il<e.ZHX.length;il++){var im=ss.arrayExtract(e.ZHX,il);var io=ss.arrayExtract(e.wwF,il-ik);if(ss.isValue(this.$1(im,io))){return true}}return false},setOverriddenTupleIds:function(e){if(this.$3().coe!=='tuples'){return}if(_.isEqual(this.$4,e)||tab.MiscUtil.isNullOrEmpty(this.$4)&&tab.MiscUtil.isNullOrEmpty(e)){return}this.$4=e;this.$2();this.raiseEvent(this.$2$1)},update:function(e){if(this.isNewPresModelSameAsOld(e)&&ss.isNullOrUndefined(this.$4)){return}this.$6=null;this.$5=null;this.$4=null;this.swapAndCopyPresModel(e);this.$2();this.raiseEvent(this.$2$1)},isNewPresModelSameAsOld:function(e){if(ss.isNullOrUndefined(this.pm)!==ss.isNullOrUndefined(e)){return false}var ij=e;if(ij.coe!==this.get_selectionPresModel().coe){return false}if(ss.isValue(ij.kyj)&&!_.isEqual(ij.kyj,this.get_selectionPresModel().kyj)){return false}if(ss.isValue(ij.p$U)&&!_.isEqual(ij.p$U,this.get_selectionPresModel().p$U)){return false}if(ss.isValue(ij.VNi)&&!_.isEqual(ij.VNi,this.get_selectionPresModel().VNi)){return false}return true},$1:function(e,ij){if(ss.isNullOrUndefined(e)&&ss.isNullOrUndefined(ij)){return null}if(ss.isNullOrUndefined(this.$6)){this.$6={};var ik=this.$3();if(ss.isValue(ik.p$U)){for(var il=0;il<ik.p$U.length;il++){var im=ik.p$U[il];this.$6[fv.$0(im.ZHX,im.wwF)]=im}}}if(ss.getKeyCount(this.$6)===0){return null}return this.$6[fv.$0(e,ij)]},createSelectionToken:function(){return this.get_selectionPresModel()},$2:function(){this.isEmpty=tab.MiscUtil.isNullOrEmpty(this.get_ids())&&tab.MiscUtil.isNullOrEmpty(this.$3().p$U)}},ew);ss.initClass(fw,a,{add_newSelections:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newSelections:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_isEmpty:function(){for(var e=0;e<this.selectionModels.length;e++){var ij=this.selectionModels[e];if(!ij.isEmpty){return false}}return true},get_hasPaneTableObjectSelection:function(){for(var e=0;e<this.selectionModels.length;e++){var ij=this.selectionModels[e];if(!ij.isEmpty&&ij.get_selectionType()!=='legend-items'&&ij.get_selectionType()!=='nodes'){return true}}return false},get_allLegendSelections:function(){return _.filter(this.selectionModels,function(e){return e.get_selectionType()==='legend-items'})},get_brushVizForNodeSelection:function(){if(this.nodeSelection.isEmpty){return false}var e=this.nodeSelection.get_nodes();for(var ij=0;ij<e.length;ij++){var ik=e[ij];if(fy.isCategoricalAndTupleAssociatedHeader(ik.ZHX,ik.wwF)){return true}}return false},getLegendSelection:function(e,ij){var ik=_.find(this.selectionModels,function(il){return il.get_selectionType()==='legend-items'&&ss.isValue(il.get_selectionPresModel())&&il.get_selectionPresModel().VNi.jhL===e&&_.isEqual(il.get_selectionPresModel().VNi.pMg,ij)});if(ss.isNullOrUndefined(ik)){ik=this.$1('legend-items');ik.get_selectionPresModel().VNi.jhL=e;ik.get_selectionPresModel().VNi.pMg=ij}return ik},update:function(e){var ij=_.compact(e);var ik=[];var il=[];for(var im=0;im<ij.length;im++){var io=ij[im];var ip;if(io.coe==='legend-items'){ip=this.getLegendSelection(io.VNi.jhL,io.VNi.pMg)}else{ip=this.$2(io.coe)}if(ss.isNullOrUndefined(ip)){ip=new fv(this,this.selectionModels.length);this.selectionModels.push(ip)}var iq=parseInt(ip.presModelKey.name);ik[iq]=io;ip.update(io);il.push(ip.get_hashKey())}for(var ir=0;ir<this.selectionModels.length;ir++){var it=this.selectionModels[ir];if(ss.contains(il,it.get_hashKey())){continue}var iu=fw.$1(it.get_selectionType());if(iu.coe==='legend-items'){iu.VNi=it.get_selectionPresModel().VNi}it.update(iu);var iv=parseInt(it.presModelKey.name);ik[iv]=it.get_selectionPresModel()}for(var iw=0;iw<ik.length;++iw){e[iw]=ik[iw]}var ix=new fx;ix.selections=e;if(this.isNewPresModelSameAsOld(ix)){return}this.swapAndCopyPresModel(ix);this.raiseEvent(this.$2$1)},$2:function(e){return _.find(this.selectionModels,function(ij){return ij.get_selectionType()===e})},$1:function(e){var ij=new fv(this,this.selectionModels.length);this.selectionModels.push(ij);var ik=fw.$1(e);ij.update(ik);return ij},createSelectionsToken:function(){return this.pm},computeSelectionsDiff:function(e,ij,ik){if(ss.isNullOrUndefined(e)){return{item1:true,item2:[]}}var il={item1:false,item2:[]};for(var im=0;im<e.selections.length;im++){var io=e.selections[im];switch(io.coe){case'ref-lines':case'trend-lines':{var ip=io.kyj||[];var iq=fw.$0(ip,this.$2(io.coe).get_ids());if(iq.length>0){return{item1:true,item2:[]}}break}case'tuples':{var ir=io.kyj;var it=this.tupleSelection.get_ids();var iu=(ss.isValue(ij)?ij.kyj:[]);var iv=(ss.isValue(ik)?ik.get_ids():[]);var iw=ir.length+iu.length!==0!==(it.length+iv.length!==0);if(iw){return{item1:true,item2:[]}}var ix=fw.$0(ir,it);var iy=fw.$0(iu,iv);var iz=[];ss.arrayAddRange(iz,ix);ss.arrayAddRange(iz,iy);il={item1:il.item1,item2:Array.prototype.slice.call(iz)};break}default:{break}}}return il}},ew);ss.initClass(fx,a,{});ss.initClass(fy,a,{});ss.initClass(fz,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('select-zone-parent',this.c))}},ss.makeGenericType(L,[Object,fA]));ss.initClass(fA,a,{});ss.initClass(fB,a,{});ss.initClass(fC,a,{get_completedDelegate:function(){return ss.mkdel(this,this.onComplete)},get_successDelegate:function(){return ss.mkdel(this,this.onSuccess)},get_errorDelegate:function(){return ss.mkdel(this,this.onError)},onComplete:function(e,ij){try{if(ss.isValue(this.$2)){this.$2(e,ij)}}finally{this.$0()}},onSuccess:function(e,ij,ik){try{var il=ss.isInstanceOfType(e,Error);if(il){this.$5.$6(e,ik,false,null)}else if(ik.status===202){var im=ik['args'];var io=new fD(this.$5,im);io.requestStatus();il=true}if(!il){if(ss.isValue(this.$4)){this.$4(e,ij,ik)}}}finally{this.$0()}},onError:function(e,ij,ik){try{if(ss.isValue(this.$3)){this.$3(e,ij,ik)}else{this.$5.$6(ik,e,false,null)}}finally{this.$0()}},$0:function(){if(this.$1){this.$1=false;this.$5.decrementWait()}}});ss.initClass(fD,a,{requestStatus:function(){var e=ss.mkdel(this,function(im,io,ip){this.$1(io,ip)});var ij=ss.mkdel(this,function(im,io,ip){this.$0(im,io)});var ik=new fC(this.$8,null,e,ij,false,false);var il=ss.mkdict([]);il.type='GET';il.url=this.$9;il.cache=false;ie.helper(il,ik)},$1:function(e,ij){if(ij.status===204){this.$6=true}this.$2(e,ij)},$0:function(e,ij){if(ss.isNullOrUndefined(this.$5.complete)){this.$5.complete(e,ij)}},$2:function(e,ij){++this.$7;if(this.$7%10===0&&this.$4<4000){this.$4*=2}if(!this.$6){window.setTimeout(ss.mkdel(this,function(){this.requestStatus()}),this.$4)}else{var ik=this.$5['skipResendOriginal'];if(ss.isValue(ik)&&ik){if(ss.isValue(this.$5.complete)){this.$5.complete(ij,e)}}else{window.setTimeout(ss.mkdel(this,function(){this.$3()}),0)}}},$3:function(){if(!this.$5.async){delete this.$5['async']}ie.helper(this.$5)}});ss.initClass(fE,a,{});ss.initClass(fF,a,{});ss.initClass(fG,a,{});ss.initClass(fH,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('set-dashboard-current-layout',this.c))}},ss.makeGenericType(L,[Object,fI]));ss.initClass(fI,a,{});ss.initClass(fJ,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('set-dashboard-sizing-with-validation',this.c))}},ss.makeGenericType(L,[Object,fK]));ss.initClass(fK,a,{});ss.initClass(fL,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('set-variables-prompt-responded',this.c))}},ss.makeGenericType(L,[Object,fM]));ss.initClass(fM,a,{});ss.initClass(fN,a,{add_shapeLoaded:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_shapeLoaded:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},get_imageKeys:function(){return _.keys(this.$2)},getImageElement:function(e){return this.$2[e]},getCachedCanvas:function(e){return this.$1[e]},generateCachedCanvas:function(e,ij){var ik=null;if(ss.isValue(ij)){ik=ij();if(ss.isValue(ik)){this.$1[e]=ik}}return ik},getCachedStampCanvas:function(e){return this.$3[e]},generateCachedStampCanvas:function(e,ij){var ik=null;if(ss.getKeyCount(this.$3)<fN.$1){if(ss.isValue(ij)){ik=ij();if(ss.isValue(ik)){this.$3[e]=ik}}}return ik},updateCustomImageMap:function(e){for(var ij=0;ij<e.length;ij++){var ik=e[ij];if(ss.isValue(ik)){var il={$:ik.Yi};var im=il.$.toString();var io=null;var ip={$:false};if(ss.keyExists(this.$2,im)){ip.$=true;io=this.$2[im]}var iq=ik.Gqc;var ir={$:document.createElement('img')};ir.$.src='data:image/png;base64,'+iq;if(!ip.$||ss.isValue(io)&&ir.$.height>io.height&&ir.$.width>io.width){this.$2[im]=ir.$;var it={$:null};it.$=ss.thisFix(ss.mkdel({doesMapContainImage:ip,shapeId:il,imgElt:ir,imageFinishedLoad:it,$this:this},function(){if(this.doesMapContainImage.$){ss.clearKeys(this.$this.$1)}this.$this.$0(this.shapeId.$);this.imgElt.$.removeEventListener('load',this.imageFinishedLoad.$,false)}));ir.$.addEventListener('load',it.$,false)}}}},hasShape:function(e){return ss.keyExists(this.$2,e.toString())&&this.$2[e.toString()].complete},$0:function(e){if(!ss.staticEquals(this.$1$1,null)){this.$1$1(e)}},clearShapeStampCache:function(){ss.clearKeys(this.$3)}});ss.initClass(fO,a,{get_palette:function(){return this.$0},get_shapeType:function(){return this.$1},equals$1:function(e){return ss.isValue(e)&&ss.referenceEquals(this.$0,e.$0)&&this.$1===e.$1},toString:function(){if(ss.isNullOrUndefined(this.$0)){return this.get_shapeType().toString()}return':'+this.get_palette()+'/'+this.get_shapeType()}});ss.initClass(fP,a,{});ss.initClass(fQ,a,{get_isDashboard:function(){return this.pm.WeS},get_isIncluded:function(){return this.pm.RuK},get_name:function(){return this.pm.dMo},update:function(e){this.swapAndCopyPresModel(e)}},ew);ss.initClass(fR,a,{add_sheetListUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sheetListUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_sheets:function(){return this.$2},update:function(e){if(ss.isValue(e.xl_)){this.$2=[];for(var ij=0;ij<e.xl_.length;ij++){var ik=new fQ(this.$1,ij);ik.update(e.xl_[ij]);this.$2.push(ik)}}this.simpleSwapToUpdate(e,this.$2$1)}},ew);ss.initClass(fS,a,{add_sheetDataChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sheetDataChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_visualId:function(){return ez.getVisualId(this.sheetid)},requestHSMChildren:function(e,ij,ik,il){if(!tsConfig.allow_filter){return}var im=function(iu,iv,iw){ik(iu)};var io=this.$0(null,im,null,'none');var ip=new Object;ip['name']='file';ip['filename']='file';ip['contentType']='text/javascript';ip['content']=JSON.stringify(ij);var iq=ss.mkdict(['_method','PUT']);var ir=ie.getMultipartData(ip,iq);var it=ss.mkdict([]);it.type='POST';it.url=this.formatFilterReference(this.sheetid,e,'show_children');it.dataType='json';it.contentType='multipart/form-data; boundary='+ir.header;it.data=ir.body;this.$b(it,io)},getFilterItems:function(e,ij,ik,il,im){if(!tsConfig.allow_filter){return}var io=function(it,iu,iv){il(it)};var ip=this.$0(null,io,null,'none');var iq={};iq['fromIndex']=ik.get_from();iq['toIndex']=ik.get_to();iq['domain']=ij;var ir=this.basicGetOpts(this.formatFilterReference(this.sheetid,e,'getfilteritems'));ir.data=iq;this.$b(ir,ip)},setPatternFilterState:function(e,ij){var ik=ij['field'];db.setPatternFilterState(this.get_visualId(),ik,e.toString())},addManualFilterItems:function(e,ij){var ik=ij['field'];db.addManualFilterItems(this.get_visualId(),ik,e)},searchFilter:function(e,ij,ik,il,im,io,ip){if(!tsConfig.allow_filter){return null}var iq=function(ix,iy,iz){var iA=ix;io(iA)};var ir=function(ix,iy,iz){ip(iz)};var it=this.$0(null,iq,ir,'none');var iu=(il?'searchwithindex':'search');var iv=this.basicGetOpts(this.formatFilterReference(this.sheetid,e,iu));var iw=ss.mkdict(['query',ij,'maxRows',ik,'domain',im]);iv.data=iw;return this.$b(iv,it)},restoreSheetAxes:function(){this.requestRestoreFixedAxes(this.get_visualId())},fireSheetDataChanged:function(){if(ss.isValue(this.$2$1)){this.$2$1()}}},M);ss.initClass(fT,a,{});ss.initClass(fU,a,{},ew);ss.initClass(fV,a,{},ew);ss.initClass(fW,a,{add_shelfChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_shelfChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_paneId:function(){return(ss.isValue(this.$1().FsL)?this.$1().FsL:0)},get_shelfType:function(){return this.$1().Ene},get_pills:function(){return this.$2},get_tooltip:function(){return tableau.format.stripFormattedText(this.$1().iHY)},$1:function(){return this.pm},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},update:function(e,ij){if(this.isNewPresModelSameAsOld(e)){return}if(e.zcg===null){this.$2=[]}else if(ss.isValue(e.zcg)){var ik=[];var il=new fU(this);for(var im=0;im<e.zcg.length;im++){var io=e.zcg[im];var ip=io.HBp;var iq;if(ss.isNullOrEmptyString(ip)&&e.Ene==='encoding-shelf'){iq=new eC}else{iq=ij.findField(ip)}if(ss.isNullOrUndefined(iq)){io.SkN=true}if(io.SkN){var ir=new cV(ij.findDataSourceFromGlobalFieldName(ip));var it={};it.VzB='wAR';it.HBp=ip;it.Mej=ip;it.wDF=0;ir.update(it);iq=ir}var iu=new eO(il,im);iu.update(io,iq);ik.push(iu)}this.$2=ik}this.swapAndCopyPresModel(e);this.raiseEvent$1(fW).call(this,this.$2$1,this)}},ew);ss.initClass(fX,a,{add_newShelves:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newShelves:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_shelves:function(){return this.$3},findShelf:function(e){return this.$2(this.$3,e)},update:function(e,ij,ik){if(this.isNewPresModelSameAsOld(e)){return}this.swapAndCopyPresModel(e);this.$1(e,ij,ik);this.raiseEvent(this.$2$1)},$1:function(e,ij,ik){if(ss.isValue(e)){var il=ss.arrayClone(this.$3);for(var im=0;im<e.PmI.length;im++){var io={$:e.PmI[im]};if(ss.isNullOrUndefined(io.$.FsL)&&ss.isValue(ik)){io.$.FsL=ss.unbox(ik)}var ip=_.find(this.$3,ss.mkdel({shelf:io},function(it){return it.get_shelfType()===this.shelf.$.Ene&&it.get_paneId()===(this.shelf.$.FsL||0)}));if(ss.isValue(ip)){ss.remove(il,ip);ip.update(io.$,ij)}else{this.$3.push(fX.createShelfModel(this,io.$,ij,im))}}for(var iq=0;iq<il.length;iq++){var ir=il[iq];ss.remove(this.$3,ir)}}},$2:function(e,ij){return _.find(e,function(ik){return ik.get_shelfType()===ij})}},ew);ss.initClass(fY,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('show-caption',this.c))}},ss.makeGenericType(L,[Object,fZ]));ss.initClass(fZ,a,{});ss.initClass(ga,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('show-dashboard-title',this.c))}},ss.makeGenericType(L,[Object,gb]));ss.initClass(gb,a,{});ss.initClass(gc,a,{get_simpleCommand:function(){return this.$0['eDX'.toString()]},set_simpleCommand:function(e){this.$0['eDX'.toString()]=e}});ss.initClass(gd,a,{add_sizeInfoUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sizeInfoUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_name:function(){return this.pm.dMo},get_width:function(){return this.pm.rec},get_height:function(){return this.pm.EUR},update:function(e){this.simpleSwapToUpdate(e,this.$2$1)}},ew);ss.initClass(ge,a,{add_newSortIndicators:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newSortIndicators:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_sortIndicatorsPresModel:function(){return this.pm},update:function(e){this.simpleSwapToUpdate$1(Object).call(this,e,this.$2$1,e)}},ew);ss.initClass(gf,a,{});ss.initClass(gg,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('start-new-data-alert',this.c))}},ss.makeGenericType(L,[Object,gh]));ss.initClass(gh,a,{});ss.initClass(gi,a,{});ss.initClass(gj,a,{});ss.initClass(gk,a,{add_dashboardDisposal:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_dashboardDisposal:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newStoryPoint:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newStoryPoint:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_dashboardModel:function(){return this.$3},get_isBackingSheetDashboard:function(){return this.$2().QTm},$2:function(){return this.pm},get_storyPointId:function(){return this.$2().hVl},get_currentSheet:function(){return this.$2().U$A},update:function(e,ij){if(ss.isValue(this.$2())&&(ss.isNullOrEmptyString(this.get_currentSheet())||this.get_storyPointId()!==e.hVl)){this.presModelKey=new eT(e.hVl.toString(),0);if(ss.isValue(this.$3)){this.raiseEvent(this.$2$1);this.$3=null}this.$3=new cg(this);this.$1(e.mmK,ij);this.raiseEvent(this.$2$2)}else{this.$1(e.mmK,ij)}this.swapPresModel(e)},$1:function(e,ij){if(ss.isValue(e)){this.get_dashboardModel().update(e,ij)}}},ew);ss.initClass(gl,a,{get_currentStoryPoint:function(){return this.$1},update:function(e,ij){if(!ss.isValue(this.$1)){this.$1=new gk(this,e.hVl)}this.$1.update(e,ij)}},ew);ss.initClass(gm,a,{hasStoryPoint:function(e){return this.$3.has(e.toString())},getStoryPoint:function(e){var ij=this.$3.get(e.toString());return ij.$0()},addStoryPoint:function(e,ij){this.$3.add(e.toString(),new u(ij))},$0:function(e){var ij=e.get_worldUpdateCommand();var ik=e.get_applicationPresModel();var il=e.get_sheetChanged();if(this.$2(ik,il)){this.$1()}if(!gm.$3(ik)){return}if(!_.contains(gm.$5.value(),ij.commandName)){return}var im=gm.$1(ik);if(ss.isNullOrUndefined(im)){return}var io=im.hVl.toString();this.$3.add(io,new u(im))},$2:function(e,ij){if(gm.$2(e)){return false}if(!e.res.mmK.Jqz||ij){return true}return false},$1:function(){this.$3.clear();gm.$4=null},dispose:function(){this.$1();ic.get().remove_onCommandResponse(ss.mkdel(this,this.$0))}},null,[ss.IDisposable]);ss.initClass(gn,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('table-calc-add',this.c))}},ss.makeGenericType(L,[Object,go]));ss.initClass(go,a,{});ss.initClass(gp,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('table-calc-change-type',this.c))}},ss.makeGenericType(L,[Object,gq]));ss.initClass(gq,a,{});ss.initClass(gr,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('table-calc-close',this.c))}},ss.makeGenericType(L,[Object,gs]));ss.initClass(gs,a,{});ss.initClass(gt,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('table-calc-dialog-activated',this.c))}},ss.makeGenericType(L,[Object,gu]));ss.initClass(gu,a,{});ss.initClass(gv,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('table-calc-edit',this.c))}},ss.makeGenericType(L,[Object,gw]));ss.initClass(gw,a,{});ss.initClass(gx,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('table-calc-edit-defaults',this.c))}},ss.makeGenericType(L,[Object,gy]));ss.initClass(gy,a,{});ss.initClass(gz,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('table-calc-edit-nested',this.c))}},ss.makeGenericType(L,[Object,gA]));ss.initClass(gA,a,{});ss.initClass(gB,a,{get_nestingLevel:function(){return this.$1},get_fieldName:function(){return this.$0},update:function(e){if(ss.isNullOrUndefined(e)){this.$1='primary';this.$0='';return}this.$1=e.cMO;this.$0=e.HBp}});ss.initClass(gC,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$2:function(){return this.pm},get_hasTableCalc:function(){return ss.isValue(this.pm)},get_tableCalcTypeWidgetState:function(){return this.$2().too},get_tableCalcType:function(){return(this.get_hasTableCalc()?this.get_tableCalcTypeValues()[this.get_tableCalcTypeIndex()]:'none')},get_tableCalcTypeIndex:function(){return this.$2().kPv},get_tableCalcTypeCaptions:function(){return this.$2().ygw},get_tableCalcTypeValues:function(){return this.$2().TR$},get_typeSpecificTableCalcModel:function(){return this.$4},get_tableCalcOrderingModel:function(){return this.$3},get_tableCalcIdentifier:function(){return this.$2$2},set_tableCalcIdentifier:function(e){this.$2$2=e},update:function(e){var ij=e;if(this.isNewPresModelSameAsOld(ij)){return}this.swapAndCopyPresModel(ij);if(this.get_hasTableCalc()){this.get_tableCalcIdentifier().update(ij.LDF);this.$3.update(ij.xtX);this.$1()}else{this.get_tableCalcIdentifier().update(null);this.$3.update(null)}this.raiseEvent(this.$2$1)},$1:function(){var e=null;var ij=null;switch(this.get_tableCalcType()){case'diff':case'pct-diff':case'pct-value':{e=cE;ij='_fE'.toString();break}case'pct-total':{e=eM;ij='oHf'.toString();break}case'rank':case'pct-rank':{e=fc;ij='jFF'.toString();break}case'cumulative':{e=cc;ij='Wlk'.toString();break}case'window':{e=hU;ij='xKN'.toString();break}case'custom':{e=ce;ij='eTk'.toString();break}default:{break}}if(ss.isNullOrUndefined(e)){this.$4=null;return}if(ss.isNullOrUndefined(this.$4)||!ss.referenceEquals(ss.getInstanceType(this.$4),e)){this.$4=new e(this)}this.$4.update(gC.$0(this.$2(),ij))}},ew);ss.initClass(gD,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_orderingTypeValues:function(){return this.get_ordering().Hin},get_orderingTypeIndex:function(){return this.get_ordering().Ok$},get_orderingTypeCaptions:function(){return this.get_ordering().BOC},get_addressingIndexes:function(){return this.get_ordering().RoD},get_addressingInvalidIndexes:function(){return this.get_ordering().kxD},get_addressingCaptions:function(){return this.get_ordering().NXj},get_addressingValues:function(){return this.get_ordering().IuE},get_addressingState:function(){return this.get_ordering().hCr},get_atTheLevelState:function(){return this.get_ordering().OVd},get_atTheLevelCaptions:function(){return this.get_ordering().VLX},get_atTheLevelValues:function(){return this.get_ordering().cHO},get_atTheLevelIndex:function(){return this.get_ordering().KsW},get_isAtTheLevelFieldInvalid:function(){return this.get_ordering().uCv},get_atTheLevelInvalidFieldCaption:function(){return this.get_ordering().veT},get_atTheLevelSpecialCaption:function(){return this.get_ordering().tnI},get_atTheLevelSpecialValue:function(){return''},get_atTheLevelValue:function(){return((this.get_atTheLevelIndex()===-1)?this.get_atTheLevelSpecialValue():this.get_atTheLevelValues()[this.get_atTheLevelIndex()])},get_restartEveryState:function(){return this.get_ordering().OIM},get_restartEveryCaptions:function(){return this.get_ordering().WJC},get_restartEveryIndex:function(){return this.get_ordering().NaB},get_isRestartEveryFieldInvalid:function(){return this.get_ordering().GDE},get_restartEveryValues:function(){return this.get_ordering().yqF},get_restartEverySpecialCaption:function(){return this.get_ordering().kyd},get_restartEverySpecialValue:function(){return''},get_restartEveryValue:function(){return((this.get_restartEveryIndex()===-1)?this.get_restartEverySpecialValue():this.get_restartEveryValues()[this.get_restartEveryIndex()])},get_sortState:function(){return this.get_ordering().IyP},get_sortAggState:function(){return this.get_ordering().mIX},get_sortModeIsAuto:function(){return this.get_ordering().IHq},get_sortModeCaption:function(){return this.get_ordering().IeG},get_sortField:function(){if(this.get_ordering().IHq){return null}return this.get_ordering().uBB[this.get_ordering().C$V]},get_isSortFieldInvalid:function(){return this.get_ordering().ekT},get_sortFieldCaptions:function(){return this.get_ordering().lAu},get_sortFieldIndex:function(){return this.get_ordering().C$V},get_sortFieldValues:function(){return this.get_ordering().uBB},get_sortAgg:function(){if(this.get_ordering().IHq){return null}return this.get_ordering().kqU[this.get_ordering().JeY]},get_sortAggCaptions:function(){return this.get_ordering().eLv},get_sortAggIndex:function(){return this.get_ordering().JeY},get_sortAggValues:function(){return this.get_ordering().kqU},get_sortDirectionValues:function(){return this.get_ordering().GJK},get_sortDirectionIndex:function(){return this.get_ordering().HcK},get_sortDirectionCaptions:function(){return this.get_ordering().sxj},get_ordering:function(){return(ss.isValue(this.pm)?this.pm:null)},get_hasOrdering:function(){return ss.isValue(this.get_ordering())},get_tableCalcIdentifier:function(){return(ss.isNullOrUndefined(this.parent)?new gB(null):this.parent.get_tableCalcIdentifier())},update:function(e){this.simpleSwapToUpdate(e,this.$2$1)}},ew);ss.initClass(gE,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_relativeValues:function(){return this.pm._LW},get_relativeCaptions:function(){return this.pm.meB},get_fixedValues:function(){return this.pm.xMY},get_fixedCaptions:function(){return this.pm.oGN},get_paramValues:function(){return this.pm.Wkp},get_paramCaptions:function(){return this.pm.QNO},get_referenceOptionsSets:function(){return this.pm.CrB},get_selectionIndex:function(){return this.pm.RP},get_referenceWidgetState:function(){return this.pm.ngD},get_tableCalcIdentifier:function(){var e=this.parent;return(ss.isNullOrUndefined(e)?new gB(null):e.get_tableCalcIdentifier())},update:function(e){this.simpleSwapToUpdate(e,this.$2$1)}},ew);ss.initClass(gF,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('table-calc-set-addressing-fields',this.c))}},ss.makeGenericType(L,[Object,gG]));ss.initClass(gG,a,{});ss.initClass(gH,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('table-calc-set-addressing-fields-order',this.c))}},ss.makeGenericType(L,[Object,gI]));ss.initClass(gI,a,{});ss.initClass(gJ,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('table-calc-set-at-the-level-field',this.c))}},ss.makeGenericType(L,[Object,gK]));ss.initClass(gK,a,{});ss.initClass(gL,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('table-calc-set-compound-rate',this.c))}},ss.makeGenericType(L,[Object,gM]));ss.initClass(gM,a,{});ss.initClass(gN,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('table-calc-set-cumulative-options',this.c))}},ss.makeGenericType(L,[Object,gO]));ss.initClass(gO,a,{});ss.initClass(gP,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('table-calc-set-null-if-incomplete',this.c))}},ss.makeGenericType(L,[Object,gQ]));ss.initClass(gQ,a,{});ss.initClass(gR,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('table-calc-set-ordering-type',this.c))}},ss.makeGenericType(L,[Object,gS]));ss.initClass(gS,a,{});ss.initClass(gT,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('table-calc-set-percent-total-options',this.c))}},ss.makeGenericType(L,[Object,gU]));ss.initClass(gU,a,{});ss.initClass(gV,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('table-calc-set-rank-sort-direction',this.c))}},ss.makeGenericType(L,[Object,gW]));ss.initClass(gW,a,{});ss.initClass(gX,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('table-calc-set-rank-type',this.c))}},ss.makeGenericType(L,[Object,gY]));ss.initClass(gY,a,{});ss.initClass(gZ,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('table-calc-set-reference-options',this.c))}},ss.makeGenericType(L,[Object,ha]));ss.initClass(ha,a,{});ss.initClass(hb,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('table-calc-set-restart-every-field',this.c))}},ss.makeGenericType(L,[Object,hc]));ss.initClass(hc,a,{});ss.initClass(hd,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('table-calc-set-sort-aggregation',this.c))}},ss.makeGenericType(L,[Object,he]));ss.initClass(he,a,{});ss.initClass(hf,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('table-calc-set-sort-direction',this.c))}},ss.makeGenericType(L,[Object,hg]));ss.initClass(hg,a,{});ss.initClass(hh,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('table-calc-set-sort-field',this.c))}},ss.makeGenericType(L,[Object,hi]));ss.initClass(hi,a,{});ss.initClass(hj,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('table-calc-set-sort-mode',this.c))}},ss.makeGenericType(L,[Object,hk]));ss.initClass(hk,a,{});ss.initClass(hl,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('table-calc-set-window-options',this.c))}},ss.makeGenericType(L,[Object,hm]));ss.initClass(hm,a,{});ss.initClass(hn,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('table-calc-toggle-secondary-calc',this.c))}},ss.makeGenericType(L,[Object,ho]));ss.initClass(ho,a,{});ss.initClass(hp,a,{});ss.initClass(hq,a,{add_newText:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newText:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_hAlign:function(){return this.pm.weu},get_html:function(){return this.pm.xBc},get_orientation:function(){return this.pm.JxR},get_styledBox:function(){return this.pm.rPC},get_vAlign:function(){return this.pm.Uec},update:function(e){dh.notifyFontsFromTextRegionPresModel(e);this.simpleSwapToUpdate(e,this.$2$1)}},ew);ss.initClass(hr,a,{add_newToolbar:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newToolbar:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_vizCommandItems:function(){var e=null;if(ss.isValue(this.pm)){var ij=bT.create(this.pm.sjb);e=ij.get_commandItems()}return e},get_nonVizCommandItems:function(){if(ss.isNullOrUndefined(this.pm)){return null}var e=bT.create(this.pm.xvl);return e.get_commandItems()},get_legacyMenuItems:function(){return this.pm.kB},update:function(e){if(ss.isValue(e)){this.simpleSwapToUpdate(e,this.$2$1)}},isLegacyMenuItemEnabled:function(e){if(ss.isNullOrUndefined(this.get_legacyMenuItems())){return false}var ij=_.find(this.get_legacyMenuItems(),function(ik){return ik.rhe===e});return ss.isValue(ij)&&_.every(ij.FwB,function(ik){return ik!=='grayed'})}},ew);ss.initClass(hs,a,{});ss.initClass(ht,a,{$0:function(){return this.$1},get_transactedChange:function(){return ht.$0(this.$2)},makeMutablePresModel:function(e,ij){var ik=e.getPresModelPath();for(var il=0;il<this.$2.length;il++){var im=this.$2[il];if(_.isEqual(im.$1(),ik)){return im.$0()}}var io=e.getMutableCopyOfPresModel();this.$2.push(new n(ik,io));if(!ij){this.$1.push(new n(ik,e.pm))}return io}});ss.initClass(hu,a,{beginTransaction:function(){if(ss.isValue(this.$1)){throw new ss.Exception('Internal error: nested transaction')}this.$1=new ht;return this.$1},rollbackTransaction:function(){this.$1=null},endTransaction:function(){var e=ss.getEnumerator(this.$1.$0());try{while(e.moveNext()){var ij=e.current();if(!ss.keyExists(this.$0,ij.$1().get_pathAsString())){this.$0[ij.$1().get_pathAsString()]=ij}}}finally{e.dispose()}var ik=this.$1.get_transactedChange();this.$1=null;return ik},doTransaction:function(e){this.beginTransaction();e(this.$1);return this.endTransaction()},resetTransactedState:function(){ss.clearKeys(this.$0)},rollbackTransactions:function(e){if(ss.getKeyCount(this.$0)>0){K.get_instance().update(ht.$0(_.values(this.$0)),e)}}});ss.initClass(hw,a,{});ss.initClass(hx,a,{});ss.initClass(hy,a,{invoke$1:function(){return this.invoke(bV.newDocCommand('update-reference-line',this.c))}},ss.makeGenericType(L,[Object,hz]));ss.initClass(hz,a,{});ss.initClass(hA,a,{});ss.initEnum(hB,a,{success:'success',urlConstructionFail:'urlConstructionFail',notEnoughInfoYet:'notEnoughInfoYet'},true);ss.initClass(hC,a,{});ss.initClass(hD,a,{update:function(e){this.pm=e}},ew);ss.initClass(hE,a,{get_viewId:function(){return this.viewid},set_viewId:function(e){if(ss.referenceEquals(this.viewid,e)){return}this.viewid=e},$j:function(e){return this.formatViewMethod(this.viewid,'region')+'?r='+e},formatRegionTileURL:function(e,ij,ik){if(e.useUrl){return this.formatTileURL(e,ij,0,0,'',ik)}return this.$j(ij)+'&'+ik},$i:function(e,ij){var ik='';if(!tab.MiscUtil.isNullOrEmpty$1(ij)){ik='&fn='+encodeURIComponent(ij)}return this.formatViewMethod(this.viewid,'region')+'?r='+e+ik},formatLegendRegionTileURL:function(e,ij,ik,il,im){il=(ss.isNullOrUndefined(il)?'':il);if(e.useUrl){return this.formatTileURL(e,ij+il,0,0,ik,im)}return this.$i(ij,ik)+'&'+im},formatTileURL:function(e,ij,ik,il,im,io){if(e.useUrl){var ip=e.url;var iq;if(!tab.MiscUtil.isNullOrEmpty$1(im)){iq='?fn='+encodeURIComponent(im)+'&'+io}else{iq='?='+io}return ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(ip,'%SESSIONID%',tsConfig.sessionid),'[r]',ij),'[x]',ik.toString()),'[y]',il.toString())+iq}var ir=this.formatViewMethod(this.viewid,'tile');return ir+'?r='+ij+'&x='+ik+'&y='+il+'&'+io},formatUnderlyingDataURL:function(e){var ij=new ss.StringBuilder(this.formatViewMethod(this.viewid,'viewData'));ij.append('?maxrows=200');if(ss.isValue(e)){ij.append('&select_x=').append(e.x);ij.append('&select_y=').append(e.y)}return ij.toString()},formatExportCrossTabURL:function(e){if(ss.isNullOrUndefined(e)){e='utf8'}return this.formatViewMethod(this.viewid,'exportcrosstab')+'?charset='+e},zoomDoubleClick:function(e,ij,ik,il,im){il.set_isZoomin(ik);this.zoom(e,ij,ik,il,im)},zoomIn:function(e,ij,ik){this.zoom(e,ij,true,null,ik)},zoomOut:function(e,ij,ik){this.zoom(e,ij,false,null,ik)},zoomWithAnchorPoint:function(e,ij,ik,il){var im=new Object;var io=hO.create(im);io.set_r(e);io.set_x(ij.x);io.set_y(ij.y);var ip={};ip['vpK']=im;ip['BdT']=tab.PointUtil.toPresModel(ij);ip['WR_']=ik;var iq=new Object;iq.commandNamespace='tabsrv'.toString();iq.commandName='pane-anchor-zoom-server'.toString();iq.commandParams=ip;bV.addVisualIdToCommand(iq.commandParams,this.get_visualId());var ir=ss.mkdel(this,function(it){this.fireSheetDataChanged();il()});this.$k(iq,ir,null)},zoom:function(e,ij,ik,il,im){if(!tsConfig.allow_filter){return}var io={};var ip={};ip.thj=e['x'];ip.RAC=e['y'];ip.thj=Math.round(ip.thj);ip.RAC=Math.round(ip.RAC);if(ss.isValue(e['h'])&&ss.isValue(e['w'])){ip.EUR=e['h'];ip.rec=e['w']}io['cBw']=ip;io['kFe']=ik;io['tmF']=false;io['WR_']=im;if(ss.isValue(ij)){ij=hE.$0(ij);var iq=tab.PointUtil.toPresModel(ij);io['koe']=iq}var ir=new Object;ir.commandNamespace='tabdoc'.toString();ir.commandName='pane-zoom'.toString();ir.commandParams=io;bV.addVisualIdToCommand(ir.commandParams,this.get_visualId());var it=ss.mkdel(this,function(iu){if(ss.isValue(il)){il.setDeferLayoutUpdates(false)}this.fireSheetDataChanged()});this.$k(ir,it,null)},pan:function(e,ij,ik,il){if(!tsConfig.allow_filter){return}var im={};im['dpp']=e;im['KIO']=tab.PointUtil.toPresModel(hE.$0(ij));im['vGR']=tab.PointUtil.toPresModel(hE.$0(ik));var io=new Object;io.commandNamespace='tabsrv'.toString();io.commandName='pane-pan-server'.toString();io.commandParams=im;bV.addVisualIdToCommand(io.commandParams,this.get_visualId());var ip=ss.mkdel(this,function(ir){this.fireSheetDataChanged()});var iq=function(ir){il()};this.$k(io,ip,iq)},toggleHighlight:function(e,ij){var ik=ij.split('\n');var il=ez.getZoneIdForSheetName(this.sheetid);if(il!==-1){fu.toggleLegendHighlight(il,this.get_visualId(),e,ik,null)}},executeAction:function(e,ij,ik){if(e.commandType===9){this.executeCommand(e)}else{var il=new Object;il.commandNamespace='tabdoc'.toString();il.commandName='run-action';il.commandParams=e.command.commandParams;fB.executeServerCommand(il,'immediately',ij,ik)}},executeCommand:function(e){if(ss.isNullOrUndefined(e)){return}switch(e.commandType){case 9:{var ij={};ij.ZNi=e.command.commandParams.ZNi;ij.ALQ=e.command.commandParams.ALQ;F.launchActionUrls([ij],this.get_commonDialogProvider());break}case 7:{var ik=null;if(ss.isValue(e.command)&&ss.isValue(e.command.commandParams)&&ss.keyExists(e.command.commandParams,'ArG')){var il=JSON.parse(e.command.commandParams['ArG']);ik=tab.PointUtil.fromPresModel(il)}window.open(this.formatUnderlyingDataURL(ik),this.getWindow('vud'),'scrollbars,resizable');break}case 1:case 2:case 4:case 6:case 11:case 12:case 10:case 13:{break}default:{break}}},levelDrill:function(e,ij,ik){if(!tsConfig.allow_filter||ss.isNullOrUndefined(ik)){return}var il=((ik.toString()==='yheader')?'rows-shelf':'columns-shelf');var im=ij==='down';db.levelDrill(this.get_visualId(),e,il,im)},createUbertipModel:function(e){var ij=hx.deserializeUbertip(e);if(ss.isValue(ij)){eN.filterCommands(ij.commands,this.$l)}return ij},$k:function(e,ij,ik){var il=new bB('none',ss.mkdel(this,function(im){var io=ez.getVisualModel(K.get_instance(),this.sheetid);ez.setVisualValidStateOnModel(im,io,false)}),e,ij,ik);bJ.SendCommand(il)}},fS);ss.initClass(hF,a,{});ss.initClass(hH,a,{add_newVisualList:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newVisualList:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_visualListPresModel:function(){return this.pm},get_groupItemNodes:function(){if(ss.isNullOrUndefined(this.$1)){this.$1=[];var e=this.get_visualListPresModel().tOA;for(var ij=0;ij<e.length;ij++){var ik=e[ij];if(ik.VzB==='rOX'){this.$1.push(ik)}}}return this.$1},update:function(e){dh.notifyFontsFromVisualListPresModel(e);if(this.isNewPresModelSameAsOld(e)){return}this.$1=null;this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1)}},ew);ss.initClass(hI,a,{add_newVisual:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newVisual:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newHiddenTuples:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newHiddenTuples:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_newFilteredTuples:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_newFilteredTuples:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_urlInfoCacheChange:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_urlInfoCacheChange:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_visualValidStateChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_visualValidStateChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_brushingFromActionChanged:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_brushingFromActionChanged:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_colorDictionaryChanged:function(e){this.$2$7=ss.delegateCombine(this.$2$7,e)},remove_colorDictionaryChanged:function(e){this.$2$7=ss.delegateRemove(this.$2$7,e)},add_vizNavigationSettingChanged:function(e){this.$2$8=ss.delegateCombine(this.$2$8,e)},remove_vizNavigationSettingChanged:function(e){this.$2$8=ss.delegateRemove(this.$2$8,e)},add_emptyHighlightFogAllChanged:function(e){this.$2$9=ss.delegateCombine(this.$2$9,e)},remove_emptyHighlightFogAllChanged:function(e){this.$2$9=ss.delegateRemove(this.$2$9,e)},get_worksheetName:function(){return this.get_visualId().AVP},get_visualId:function(){return this.pm.J_M},get_containerGeometry:function(){return this.get_zone().get_zoneContentRect()},get_tooltipMode:function(){return this.pm.SmW},get_scenePresModel:function(){return this.pm.X$},get_shelves:function(){return this.$q},get_analyticsModel:function(){return this.$9},get_marksCardModel:function(){return this.$n},get_selectionsModel:function(){return this.$p},get_impliedSelectionModel:function(){return this.$k},get_brushingsModel:function(){return this.$b},get_showMeModel:function(){return this.$r},get_sceneModel:function(){return this.$o},get_labelsModel:function(){return this.$l},get_mapServerModel:function(){return this.$m},get_filters:function(){return _.values(this.$f)},get_filterModels:function(){return this.$f},get_geometryModel:function(){return this.$i},get_sortIndicatorsModel:function(){return this.$s},get_vizDataModel:function(){return this.$v},get_titleModel:function(){return this.$t},get_captionModel:function(){return this.$d},get_hiddenTuples:function(){return this.$8},get_filteredTuples:function(){return this.$7},get_isMap:function(){return this.pm.ri},get_hasBackgroundImage:function(){return this.pm.mqY},get_floatingToolbarVisibility:function(){return this.pm.cqq},get_geoSearchVisibility:function(){return this.pm.pKy},get_vizNavigationSetting:function(){return this.pm.haE},get_defaultMapTool:function(){return this.pm.DpY},get_cacheUrlInfo:function(){return this.$c},get_hasModifiedAxes:function(){return this.pm.qFh},get_backgroundColor:function(){return this.pm.oiS},get_paneBGColor:function(){return this.pm.QLN},get_headerBGColor:function(){return this.pm.ogc},get_shouldUpdate:function(){return K.get_instance().get_autoUpdate()},get_invalidSheets:function(){var e=ez.findContentDashboard();return e.get_invalidSheets()},get_isVisualValid:function(){return this.$u},set_isVisualValid:function(e){if(this.pm.GiX&&e!==this.$u){this.$u=e;this.raiseEvent(this.$2$5)}},get_isBrushedFromAction:function(){return this.$a},set_isBrushedFromAction:function(e){if(this.$a!==e){this.$a=e;this.raiseEvent(this.$2$6)}},get_emptyHighlightFogAll:function(){return this.$e},set_emptyHighlightFogAll:function(e){if(this.$e!==e){this.$e=e;this.raiseEvent(this.$2$9)}},get_zone:function(){var e=ss.safeCast(this.parent,ig);return e.get_zone()},vizDataContainsDuplicateCaption:function(e){if(ss.isNullOrUndefined(this.get_vizDataModel())){return false}return _.filter(this.get_vizDataModel().get_fieldCaptions(),function(ij){return ss.referenceEquals(ij,e)}).length>1},setFilteredTuples:function(e,ij){this.$g[e]=ij;var ik={};var il=ss.getEnumerator(Object.keys(this.$g));try{while(il.moveNext()){var im=il.current();var io=this.$g[im];for(var ip=0;ip<io.length;ip++){var iq=io[ip];ik[iq.toString()]=iq}}}finally{il.dispose()}var ir=ss.getKeyCount(this.$7)!==ss.getKeyCount(ik);if(!ir){var it=ss.getEnumerator(Object.keys(this.$7));try{while(it.moveNext()){var iu=it.current();if(!ss.keyExists(ik,iu)){ir=true;break}}}finally{it.dispose()}}if(ir){this.$7=ik;if(ss.isValue(this.$2$3)){this.$2$3()}}},setHiddenTuples:function(e,ij){this.$j[e]=ij;var ik={};var il=ss.getEnumerator(Object.keys(this.$j));try{while(il.moveNext()){var im=il.current();var io=this.$j[im];for(var ip=0;ip<io.length;ip++){var iq=io[ip];ik[iq.toString()]=iq}}}finally{il.dispose()}var ir=ss.getKeyCount(this.$8)!==ss.getKeyCount(ik);if(!ir){var it=ss.getEnumerator(Object.keys(this.$8));try{while(it.moveNext()){var iu=it.current();if(!ss.keyExists(ik,iu)){ir=true;break}}}finally{it.dispose()}}if(ir){this.$8=ik;if(ss.isValue(this.$2$2)){this.$2$2()}}},getMutableCopyOfPresModel:function(){var e=this.pm.X$;var ij=this.pm.vnA;var ik=this.pm.zFl;delete this.pm['X$'.toString()];delete this.pm['zFl'.toString()];delete this.pm['vnA'.toString()];var il=ew.prototype.getMutableCopyOfPresModel.call(this);this.pm.X$=e;this.pm.zFl=ik;this.pm.vnA=ij;return il},reValidate:function(){if(this.get_isVisualValid()!==this.pm.GiX){this.$u=this.pm.GiX;this.raiseEvent(this.$2$5)}},update:function(e){if(ss.isNullOrUndefined(this.$q)){this.$q=new fX(this)}if(ss.isValue(e.MiB)){var ij=this.$2(e);this.$q.update(e.MiB,K.get_instance().get_workbook().get_dataSchema(),ij)}if(ss.isValue(e.OIO)){if(ss.isNullOrUndefined(this.$9)){this.$9=new I(this)}this.$9.update(e.OIO)}if(ss.isValue(e.zFl)){if(ss.isNullOrUndefined(this.$v)){this.$v=new hM(this)}this.$v.update(e.zFl)}if(ss.isNullOrUndefined(this.$o)){this.$o=new fq(this)}if(ss.isValue(e.X$)){if(ss.isValue(this.$j)){var ik=ss.getKeyCount(this.$8)>0;this.$j={};this.$8={};if(ik){this.raiseEvent(this.$2$2)}}if(ss.isValue(this.$g)){var il=ss.getKeyCount(this.$7)>0;this.$g={};this.$7={};if(il){this.raiseEvent(this.$2$3)}}this.$o.update(e.X$)}if(ss.isValue(e.Ucd)&&ss.isValue(this.pm)){if(!_.isEqual(this.pm.Ucd,e.Ucd)){this.raiseEvent(this.$2$7)}}if(ss.isValue(e.haE)&&ss.isValue(this.pm)){if(!_.isEqual(this.pm.haE,e.haE)){this.raiseEvent(this.$2$8)}}if(ss.isNullOrUndefined(this.$l)){this.$l=new fq(this)}if(ss.isValue(e.vnA)){this.$l.update(e.vnA)}if(ss.isNullOrUndefined(this.$n)){this.$n=new et(this)}if(ss.isValue(e.Inn)){this.$n.update(e.Inn)}if(ss.isValue(e.pUG)&&e.pUG.length>0){this.$p.update(e.pUG)}if(ss.isValue(e.iyL)){this.$b.update(e.iyL)}this.$4(this.$p.nodeSelection.get_nodes());if(!ss.isValue(this.$r)){this.$r=new bS(this)}if(ss.isValue(e.kCM)){this.$r.update(e.kCM)}if(ss.isNullOrUndefined(this.$m)){this.$m=new es(this)}if(ss.isValue(e.RFX)||!e.ri){var im=(e.ri?e.RFX:null);this.$m.update(im)}var io=e.DbF||'';var ip=(ss.isNullOrEmptyString(io)?null:JSON.parse(io));if(this.$5(ip,io)){this.$h=io;if(ss.isValue(ip)){var iq={};for(var ir=0;ir<ip.length;ir++){var it=ip[ir];var iu=tableau.format.formatQualifiedName(it.name);var iv=this.$f[iu];if(ss.isNullOrUndefined(iv)){iv=ez.createFilterModel(this,it)}iv.update(it);iq[iu]=iv}this.$f=iq}}var iw=e.XJV||'';var ix=(ss.isNullOrEmptyString(iw)?null:JSON.parse(iw));if(!_.isEqual(ix,this.get_cacheUrlInfo())){this.$c=ix;this.$3()}var iy=e.kI||'';if(!ss.isValue(this.$i)){this.$i=new hD(this)}var iz=(ss.isNullOrEmptyString(iy)?null:JSON.parse(iy));this.$i.update(iz);if(ss.isNullOrUndefined(this.$t)){this.$t=new hq(this,'CTm'.toString())}if(ss.isValue(e.CTm)){this.$t.update(e.CTm)}if(!ss.isValue(this.$d)){this.$d=new hq(this,'vv_'.toString())}if(ss.isValue(e.vv_)){this.$d.update(e.vv_)}if(!ss.isValue(this.$s)){this.$s=new ge(this)}if(ss.isValue(e.$tK)){this.$s.update(e.$tK)}this.set_emptyHighlightFogAll(e.u);this.swapAndCopyPresModel(e);this.reValidate();this.$6()},$6:function(){this.raiseEvent(this.$2$1)},$3:function(){if(ss.isValue(this.get_cacheUrlInfo())){this.raiseEvent(this.$2$4)}},$5:function(e,ij){if(ss.isNullOrUndefined(this.$h)){return true}if(ss.isValue(e)){var ik=_.find(e,function(il){return il.isTiled});if(ss.isValue(ik)){return true}}return!ss.referenceEquals(this.$h,ij)},hasFilterFieldData:function(e){return ss.isValue(this.get_vizDataModel())&&ss.indexOf(this.get_vizDataModel().get_filterFields(),e)!==-1},getEffectiveSelectedTuples:function(e){var ij;var ik=this.$k.get_ids();if(tab.MiscUtil.isNullOrEmpty(ik)){ij=e}else if(tab.MiscUtil.isNullOrEmpty(e)){ij=ik}else{var il=[];ss.arrayAddRange(il,e);ss.arrayAddRange(il,ik);ij=Array.prototype.slice.call(il)}return ij},$4:function(e){var ij=N.getTuplesAssociatedWithSelectedNodes(this,e);this.$k.setOverriddenTupleIds(ij)},$1:function(){this.$k.setOverriddenTupleIds([])},$2:function(e){if(ss.isValue(e)&&ss.isValue(e.Inn)&&ss.isValue(e.Inn.FsL)){return e.Inn.FsL}return ez.findActivePaneSpecId()}},ew);ss.initClass(hJ,a,{});ss.initClass(hK,a,{get_hasDataValues:function(){return this.$c},get_hasAliases:function(){return this.$b},get_dataType:function(){return this.$a.tbM},get_fieldName:function(){return this.$a.HBp},get_fieldCaption:function(){return this.$a.OLk},get_baseColumnName:function(){return this.$a._HL},get_role:function(){return this.$a.YIQ},get_aggType:function(){return this.$a.Ymv1},get_specialValuesOverride:function(){return this.$a.ywi},get_filterContext:function(){return this.$a.HWT},get_vizColumnDoNotUse:function(){return this.$a},$8:function(){return this.$a.ISx},$9:function(){return this.$a.ZHX},$7:function(){return tab.Logger.lazyGetLogger(hK)},isTupleIdValid:function(e){for(var ij=0;ij<this.$a.ISx.length;++ij){var ik=this.$a.ISx[ij];var il=this.$5(e,ik);if(ss.isValue(il)){return true}}return false},tupleIdsThatPass:function(e){var ij=[];for(var ik=0;ik<this.$a.ISx.length;ik++){var il=this.$a.ISx[ik];var im=this.$d[il].ZKj[0];for(var io=0;io<im.nSc.length;io++){var ip=im.nSc[io];if(e(ip)){ij.push(ip)}}}return ij},$2:function(e){var ij=this.$3(e,0);var ik={};var il=0;for(var im=0;im<ij.nSc.length;im++){var io=ij.nSc[im];ik[io]=il++}this.$e[e]=ik},$5:function(e,ij){if(!ss.keyExists(this.$e,ij)){this.$2(ij)}return this.$e[ij][e]},getAliasIndex:function(e){var ij=null;if(!this.get_hasAliases()){return ij}for(var ik=0;ik<this.$a.ISx.length;++ik){var il=this.$a.ISx[ik];var im=this.$5(e,il);if(ss.isValue(im)){var io=this.$a.ZHX[ik];var ip=this.$3(il,io);ij=ip.wwF[im];break}}return ij},getDataValueIndex:function(e){var ij=null;if(this.get_hasDataValues()){for(var ik=0;ik<this.$a.ISx.length;++ik){var il=this.$a.ISx[ik];var im=this.$5(e,il);if(ss.isValue(im)){var io=this.$a.ZHX[ik];var ip=this.$3(il,io);ij=ip.qtG[im];break}}}return ij},getPaneDescriptorKey:function(e){var ij=null;for(var ik=0;ik<this.$a.ISx.length;++ik){var il=this.$8()[ik];var im=this.$5(e,il);if(ss.isValue(im)){var io=this.$4(il);ij=io.uNv.fDN;break}}return ij},$4:function(e){var ij=null;if(this.$d.length>e){ij=this.$d[e]}else{}return ij},$3:function(e,ij){var ik=null;var il=this.$4(e);if(ss.isValue(il)){if(il.ZKj.length>ij){ik=il.ZKj[ij]}else{}}return ik},$1:function(){var e=false;for(var ij=0;ij<this.$8().length;ij++){var ik=this.$8()[ij];var il=this.$9()[ij];var im=this.$3(ik,il);if(ss.isValue(im)){e=e||ss.isValue(im.qtG)&&im.qtG.length>0}}return e},$0:function(){var e=false;for(var ij=0;ij<this.$8().length;ij++){var ik=this.$8()[ij];var il=this.$9()[ij];var im=this.$3(ik,il);if(ss.isValue(im)){e=e||ss.isValue(im.wwF)&&im.wwF.length>0}}return e},$6:function(){}});ss.initClass(hL,a,{});ss.initClass(hM,a,{add_newVizData:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newVizData:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_hasTupleIdColumn:function(){return ss.isValue(this.$6)},get_highlightCaptions:function(){return this.$3().RjV},get_filterFields:function(){return this.$3().Ubv},get_fieldCaptions:function(){return this.$5},get_ubertipData:function(){return this.$3().sZN},$3:function(){return this.pm},$1:function(){return this.$3().FOi},$2:function(){return this.$1().wIG},getVizDataFieldByIndex:function(e){if(e>=0&&e<this.$4.length){return this.$4[e]}return null},getColumnIndex:function(e){if(ss.isNullOrUndefined(this.$1())){return-1}var ij=this.$1().Ekt;for(var ik=0;ik<ij.length;++ik){if(hN.isFieldCaptionOfColumn(ij[ik],e)){return ik}}for(var il=0;il<ij.length;++il){if(hN.isFieldNameOfColumn(ij[il],e)){return il}}return-1},getVizDataField:function(e){return this.getVizDataFieldByIndex(this.getColumnIndex(e))},hasDimensionColumnNotMeasureNames:function(){if(ss.isValue(this.$1())){var e=this.$1().Ekt;for(var ij=0;ij<e.length;ij++){var ik=e[ij];if(ik.YIQ==='dimension'&&ik.JDJ!=='[:Measure Names]'){return true}}}return false},hasTupleId:function(e){var ij=false;if(this.get_hasTupleIdColumn()){this.forEachVizDataField(function(ik,il){if(ik.isTupleIdValid(e)){ij=true;return false}return true})}return ij},forEachTupleId:function(e){for(var ij=0;ij<this.$2().length;++ij){var ik=this.$2()[ij].ZKj[0];for(var il=0;il<ik.nSc.length;il++){var im=ik.nSc[il];var io=!e(im);if(io){break}}}},forEachVizDataField:function(e){var ij=this.$4.length;for(var ik=0;ik<ij;++ik){var il=this.$4[ik];if(ss.isNullOrUndefined(il)){continue}var im=!e(il,ik);if(im){break}}},update:function(e){var ij=this.simpleSwapToUpdate(e,this.$2$1);if(!ij){return}if(ss.isValue(e.sZN)){dh.notifyFontsFromUberTipDataPresModel(e.sZN)}if(ss.isValue(this.$1())){this.$6=null;ss.clear(this.$4);this.$5=[];var ik=this.$1().Ekt;for(var il=0;il<ik.length;il++){var im=ik[il];if(im.HBp==='[system:visual].[tuple_id]'){this.$6=im;this.$4.push(null);continue}this.$5.push(im.OLk);var io=new hK(im,this.$1().wIG);this.$4.push(io)}}}},ew);ss.initClass(hN,a,{});ss.initClass(hO,a,{get_r:function(){return this.$0['dpp'.toString()]},set_r:function(e){this.$0['dpp'.toString()]=e},get_fns:function(){return this.$0['HVp'.toString()]},set_fns:function(e){this.$0['HVp'.toString()]=e},get_x:function(){return this.$0['thj'.toString()]},set_x:function(e){this.$0['thj'.toString()]=e},get_y:function(){return this.$0['RAC'.toString()]},set_y:function(e){this.$0['RAC'.toString()]=e},get_w:function(){return this.$0['rec'.toString()]},set_w:function(e){this.$0['rec'.toString()]=e},get_h:function(){return this.$0['EUR'.toString()]},set_h:function(e){this.$0['EUR'.toString()]=e}});ss.initClass(hP,a,{get_isViewingUri:function(){return this.$m===1},get_isAuthoringUri:function(){return this.$m===2},get_isAuthorNewWorkbookUri:function(){return this.$m===3},get_isInvalid:function(){return this.$m===0},get_isAdminUri:function(){return this.$m===4},get_isSharedViewUri:function(){return this.$m===5},get_isRevisionHistoryUri:function(){return this.$m===6},get_absoluteUri:function(){return this.$6()},get_uri:function(){return this.$a()},get_path:function(){return this.$9()},get_queryParams:function(){return this.$j},get_retry:function(){return this.$7(':retry')},set_retry:function(e){this.$d(':retry',e)},get_originalView:function(){return this.$7(':original_view')},set_originalView:function(e){this.$d(':original_view',e);if(e){this.$g=''}},get_showSaveAs:function(){return this.$7(':showSaveAs')},set_showSaveAs:function(e){this.$d(':showSaveAs',e)},$7:function(e){return ss.keyExists(this.$j,e)&&tab.MiscUtil.toBoolean(this.$j[e][0],false)},$d:function(e,ij){if(ij){this.$j[e]=[];this.$j[e].push('yes')}else{delete this.$j[e]}},removeQueryParam:function(e){delete this.$j[e];return this},removeAllQueryParams:function(){ss.clearKeys(this.$j);return this},clone:function(){var e=new hP;e.$m=this.$m;e.$n=this.$n;e.$l=this.$l;e.$f=this.$f;e.$j=this.$j;e.$g=this.$g;e.$h=this.$h;e.$i=this.$i;e.explicitNotGuest=this.explicitNotGuest;return e},$e:function(){var e={};var ij=ss.getEnumerator(Object.keys(this.$j));try{while(ij.moveNext()){var ik=ij.current();var il=decodeURIComponent(ik);if(ss.startsWithString(il,':ff_')||ss.contains(hP.$b,il)){e[ik]=this.$j[ik]}}}finally{ij.dispose()}this.$j=e;return this},fullPageLoad:function(e){e=e||tabBootstrap.Utility.get_locationWindow();this.setWindowLocation();window.setTimeout(function(){tab.WindowHelper.reload(e,false)},300)},replaceState:function(e){if(tab.MiscUtil.isNullOrEmpty(e)){e=tabBootstrap.Utility.get_locationWindow()}tab.HistoryUtil.replaceState(e,new Object,'',this.get_uri())},setWindowLocation:function(e){if(tab.MiscUtil.isNullOrEmpty(e)){e=tabBootstrap.Utility.get_locationWindow()}tab.WindowHelper.setLocationHref(e,this.get_uri())},setTopWindowLocation:function(){this.setWindowLocation(window.top)},matchesCurrentWindowLocationUri:function(e){return ss.referenceEquals(this.get_uri(),hP.createForCurrentWindowLocation(e).get_uri())},matchesCurrentWindowLocationAbsoluteUri:function(){return ss.referenceEquals(this.get_absoluteUri(),hP.createForCurrentWindowLocation().get_absoluteUri())},matchesCurrentWindowLocationPath:function(e){return ss.referenceEquals(this.get_path(),hP.createForCurrentWindowLocation(e).get_path())},removeHash:function(){this.$h=''},$6:function(){var e=this.$a();var ij=this.$i;if(!ss.startsWithString(e,'/')){ij+='/'}ij+=e;return ij},$a:function(){var e=new ss.StringBuilder;e.append(this.$9());var ij=tab.MiscUtil.replaceUriQueryParameters('',this.$j);if(!tab.MiscUtil.isNullOrEmpty$1(ij)){e.append(ij)}e.append(this.$8());return e.toString()},$9:function(){var e=[];if(!tab.MiscUtil.isNullOrEmpty$1(tsConfig.site_root)&&!this.get_isAdminUri()){e.push(tsConfig.site_root)}else{e.push('')}e.push(this.$c(this.$m));if(this.$m===2){e.push(this.$n);e.push(this.$l);if(!tab.MiscUtil.isNullOrEmpty$1(this.$f)){e.push(encodeURIComponent(this.$f))}}else if(this.$m===1){e.push(this.$n);e.push(this.$l);if(!tab.MiscUtil.isNullOrEmpty$1(this.$g)){e.push(this.$g)}}else if(this.$m===4){e.push(this.$n);e.push(this.$l)}else if(this.$m===3){e.push(this.$n)}else if(this.$m===5){e.push(tsConfig.guid)}else if(this.$m===6){e.push(this.$n);if(!tab.MiscUtil.isNullOrEmpty$1(this.$l)){e.push(this.$l)}e.push('history');e.push(this.$k)}return e.join('/')},$8:function(){if(this.explicitNotGuest){return'#guest=n'}return this.$h},$5:function(e){var ij=_.keys(hP.$d);var ik=hA.getModuleFromPath(e.pathname,ij);this.$m=this.$b(ik);var il=hA.getMeatFromPath(e.pathname,ij);if(this.$m===1){this.$4(il)}else if(this.$m===2){this.$2(il)}else if(this.$m===3){this.$1(il)}else if(this.$m===4){this.$0(il)}else if(this.$m===6){this.$3(il)}this.$j=hP.$1(e);this.$h=e.hash;this.$i=tab.BrowserSupport.getOrigin(e)},$4:function(e){var ij=e.split('/');this.$n=ij[0];this.$l=ij[1];if(ij.length>2){if(ij.length===3){this.$g=ij[2]}this.$g=ij[2]+'/'+ij[3]}},$2:function(e){var ij=e.split('/');this.$n=ij[0];this.$l=ij[1];if(ij.length>2){this.$f=decodeURIComponent(ij[2])}},$0:function(e){var ij=e.split('/');this.$n=ij[0];this.$l=ij[1]},$1:function(e){this.$n=e},$3:function(e){var ij=e.split('/');this.$n=ij[0];if(ij.length>3){this.$l=decodeURIComponent(ij[1]);this.$k=decodeURIComponent(ij[3])}else{this.$k=decodeURIComponent(ij[2])}},$c:function(e){return hP.$9[e]},$b:function(e){return hP.$d[e]},updateForViewingSheet:function(e){if(!this.get_isViewingUri()&&!this.get_isAuthoringUri()&&!this.get_isAdminUri()&&!this.get_isSharedViewUri()&&!this.get_isRevisionHistoryUri()){throw new ss.Exception('Cannot call UpdateForViewingNewTab() from a VizUriModel that does not have VizUriType Viewing')}var ij=new fi(e);this.$n=ij.get_workbookId();this.$l=ij.get_sheetId();this.$f='';return this},updateForCustomizedView:function(e){if(!this.get_isViewingUri()){throw new ss.Exception('Cannot call UpdateForCustomizedView() from a VizUriModel that does not have VizUriType Viewing')}var ij=e.startViewId;if(ss.isNullOrUndefined(ij)){ij=this.$l}this.$l=ij;this.$g=ss.formatString('{0}/{1}',hP.encodeUserName(e.owner.username),e.urlId);this.$f='';this.set_originalView(false);return this}});ss.initEnum(hQ,a,{invalid:0,viewing:1,authoring:2,authorNewWorkbook:3,admin:4,sharedView:5,revisionHistory:6});ss.initClass(hR,a,{isBusy:function(){return this.$b>0},addref:function(e){this.$b+=1;if(this.$b===1&&!this.$a&&!this.$9){this.$6(e,false,false)}},addrefAndTurnOnImmediately:function(e){this.$b+=1;this.$6(true,true,e)},showAndLock:function(e){if(!this.$a){this.$6(true,true,e)}this.$3()},$3:function(){this.$9=true},unlock:function(){this.$9=false},release:function(){this.$b-=1;if(this.$b<0){this.$b=0}this.nudge()},nudge:function(){if(this.$b>0||this.$9){return}this.$1()},reset:function(){this.$0();var e=300;this.$d.hide().css('opacity','0');if(this.$7.length===0){return}var ij=ss.mkdel(this,function(ik){ik.css('cursor','default').hide();var il=$('.facadedom');if(il.length>0){il.remove()}});this.loadingElementFadeOut(this.$7,e,ij)},onNextHide:function(e){this.$c=e},$0:function(){this.$8=tab.MiscUtil.clearTimeout(this.$8);this.$e=tab.MiscUtil.clearTimeout(this.$e)},$1:function(){if(ss.isValue(this.$c)){this.$c();this.$c=null;this.$0()}else{this.reset()}this.$a=false},$6:function(e,ij,ik){var il=400;var im=500;var io=1900;var ip=250;var iq=0.419999986886978;var ir=(ik?0:iq);if(e){il=0;io-=400}this.$0();if(ij){this.$4(im,ir);if(!ik){this.$5(ip)}}else{this.$8=window.setTimeout(ss.mkdel(this,function(){this.$4(im,ir)}),il);if(!ik){this.$e=window.setTimeout(ss.mkdel(this,function(){this.$5(ip)}),io)}}this.$a=true},$4:function(e,ij){if(this.$7.css('display')!=='none'){return}this.$7.css('cursor','wait');this.$2(this.$7,e,ij)},$5:function(e){this.$2(this.$d,e,1)},$2:function(e,ij,ik){e.css('opacity','0');e.css('transition',ij+'ms opacity');e.show();e.css('display');e.css('opacity',ik.toString())},loadingElementFadeOut:function(e,ij,ik){e.css('transition',ij+'ms opacity');window.setTimeout(function(){e.css('opacity','0')},0);window.setTimeout(function(){ik(e)},ij)}});ss.initClass(hS,a,{add_newWarningMessage:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newWarningMessage:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_title:function(){if(!tab.MiscUtil.isNullOrEmpty(this.pm)){return this.pm.dqH}return''},get_text:function(){if(!tab.MiscUtil.isNullOrEmpty(this.pm)){return this.pm.$VV}return''},get_warningType:function(){return this.pm.puI},get_notificationId:function(){return'lhW'},onNotify:function(e){this.swapPresModel(e);this.raiseEvent(this.$2$1)}},ew,[dX]);ss.initClass(hT,a,{add_newWebZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newWebZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_zone:function(){return this.$1.pm},update:function(e){this.simpleSwapToUpdate(e,this.$2$1)}},ew);ss.initClass(hU,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$2:function(){return this.pm},$1:function(){return this.$2().LLA},get_aggregationValues:function(){return this.$2().VRG},get_aggregationCaptions:function(){return this.$2().iSd},get_aggregation:function(){return this.get_aggregationValues()[this.$1()]},get_hasAggregation:function(){return ss.isValue(this.get_aggregationValues())&&this.get_aggregationValues().length>0},get_numberOfPrevValues:function(){return this.$2().EQP},get_numberOfNextValues:function(){return this.$2().Xsn},get_minPrevOrNextValues:function(){return this.$2().d$o},get_maxPrevOrNextValues:function(){return this.$2().ysc},get_summaryCaption:function(){return this.$2().Bcu},get_includeCurrentValue:function(){return this.$2().sBD},get_nullIfIncomplete:function(){return this.$2().SvL},update:function(e){this.simpleSwapToUpdate(e,this.$3$1)}},hv);ss.initClass(hV,a,{add_newDashboard:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newDashboard:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_dashboardDeleted:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_dashboardDeleted:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_sheetsChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_sheetsChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_uiModeChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_uiModeChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_newDataConnectionPrompt:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_newDataConnectionPrompt:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_dataConnectionPromptDismissed:function(e){this.$2$7=ss.delegateCombine(this.$2$7,e)},remove_dataConnectionPromptDismissed:function(e){this.$2$7=ss.delegateRemove(this.$2$7,e)},add_sheetTypeChanged:function(e){this.$2$8=ss.delegateCombine(this.$2$8,e)},remove_sheetTypeChanged:function(e){this.$2$8=ss.delegateRemove(this.$2$8,e)},get_sheetType:function(){return ss.coalesce(hV.$1(this.pm),'worksheet')},get_dataSchema:function(){return this.$8},get_dataConnectionModel:function(){return this.$7},get_commands:function(){return this.$4},get_uiMode:function(){return(ss.isNullOrUndefined(this.pm)?'document':this.pm.Olx)},$3:function(){return this.$6},get_isCurrentSheetStoryboard:function(){return ss.isValue(this.$6)&&ss.isValue(this.$6.pm)&&this.$6.pm.Jqz},get_currentSheetStoryPointId:function(){if(this.get_isCurrentSheetStoryboard()){var e=this.get_storyboard().get_flipboard();if(ss.isValue(e)){return e.get_currentStoryPointId()}}return 0},get_storyboard:function(){var e=this.findContentDashboard();if(ss.isValue(e)&&ss.referenceEquals(e.get_sheetName(),this.$6.get_sheetName())){return null}return this.$6},get_hasPublishedSheets:function(){return this.get_sheetsInfo().some(function(e){return e.GJq})},get_sheetsInfo:function(){return this.$9},get_isWorkbookIncomplete:function(){return this.get_removedDataSourceCount()>0||this.get_removedSheetCount()>0},get_isWorkbookModifiedAuthoring:function(){return ss.isValue(this.pm)&&this.pm.$Dn},get_isCurrentDashboardModified:function(){return ss.isValue(this.$3())&&ss.isValue(this.$3().pm)&&ss.isValue(this.$3().pm.kc$)&&this.$3().pm.kc$.length>0},get_removedDataSourceCount:function(){return this.pm.DxN||0},get_removedSheetCount:function(){return this.pm.yNn||0},get_outerDashboardRepositoryUrl:function(){return((ss.isValue(this.$6)&&ss.isValue(this.$6.pm)&&ss.isValue(this.$6.pm.nhM))?this.$6.pm.nhM.YnR:null)},get_outerDashboardSize:function(){if(ss.isNullOrUndefined(this.$6)){return null}var e=this.$6.get_dashboardSize();return{w:e.rec,h:e.EUR}},get_connectionPromptModel:function(){return this.$5},get_formatPaneModel:function(){return this.$2$9},set_formatPaneModel:function(e){this.$2$9=e},get_formatQuickNumberMenuModel:function(){return this.$2$10},set_formatQuickNumberMenuModel:function(e){this.$2$10=e},handleWorldReset:function(){this.$6=null;this.$8=null},withDashboard:function(e){var ij=this.findContentDashboard();if(ss.isValue(ij)){e(ij);return}var ik=null;ik=ss.mkdel(this,function(il){e(il);this.remove_newDashboard(ik)});this.add_newDashboard(ik)},$2:function(e){return hV.$0(e)&&ss.isValue(hV.$1(this.pm))&&this.get_sheetType()!==e.mmK.nhM.xD},addNewDashboardHandler:function(e){this.add_newDashboard(e);if(ss.isValue(this.$6)){e(this.$6)}},removeDashboardHandler:function(e){this.remove_newDashboard(e)},findContentDashboard:function(){if(ss.isNullOrUndefined(this.$6)){return null}return this.$6.get_contentDashboard()},$1:function(e){return ss.isValue(e.mmK)&&ss.isValue(e.mmK.nhM)&&!ss.referenceEquals(e.mmK.nhM.DDA,tsConfig.current_sheet_name)},get_hasPrompt:function(){return ss.isValue(this.$5)&&!ss.isNullOrEmptyString(this.$5.get_connectionName())},update:function(e,ij){if(ss.isValue(e._$p)){this.$5=new cp(this);this.get_connectionPromptModel().update(e._$p);if(!ss.isNullOrEmptyString(this.$5.get_connectionName())){this.raiseEvent$1(cp).call(this,this.$2$6,this.get_connectionPromptModel())}else{this.raiseEvent(this.$2$7)}}if(ss.isValue(e.$Dn)&&(ss.isNullOrUndefined(this.pm)||this.get_isWorkbookModifiedAuthoring()!==e.$Dn)){this.raiseEvent(function(){hV.fireWorkbookModifiedChanged(e.$Dn)})}if(this.$2(e)){this.raiseEvent$1(Object).call(this,this.$2$8,e.mmK.nhM.xD)}var ik=false;if(this.$1(e)){this.handleWorldReset();ik=true}if(!ss.isValue(this.$8)){this.$8=new cw(this)}if(ss.isValue(e.dJ$1)){this.$8.update(e.dJ$1)}if(typeof(e.mmK)==='undefined'){}else if(e.mmK===null){var il=this.$6;this.$6=null;this.raiseEvent$1(cg).call(this,this.$2$3,il)}else{if(!ss.isValue(this.$6)){this.$6=new cg(this);this.raiseEvent$1(cg).call(this,this.$2$2,this.$6)}this.$6.update(e.mmK,ij)}if(ss.isValue(e.Jmx)){this.$4.update(e.Jmx)}if(ss.isValue(e.jky)&&!_.isEqual(e.jky,this.$9)){this.$9=e.jky;ik=true}if(ik){this.raiseEvent$1(hV).call(this,this.$2$4,this)}e.Olx=e.Olx||'document';if(ss.isValue(this.pm)){if(this.pm.Olx!==e.Olx){this.raiseEvent$1(Object).call(this,this.$2$5,e.Olx)}}if(tab.FeatureFlags.isEnabled('FormatWorkbookWeb')&&ss.isValue(e.tfj)){this.get_formatPaneModel().update(e.tfj)}this.swapAndCopyPresModel(e)}},ew);ss.initClass(hW,a,{});ss.initClass(hX,a,{get_name:function(){return this.$1.name},get_description:function(){return this.$1.description},get_id:function(){return this.$1.id},get_connectionTypeDisplayName:function(){return this.$1.connectionTypeDisplayName},get_repositoryUrl:function(){return this.$1.repositoryUrl},get_connectedWorkbooksCount:function(){return this.$1.connectedWorkbooksCount},get_dataConnectionsCount:function(){return this.$1.dataConnectionsCount},get_ownerId:function(){return this.$1.ownerId},get_owner:function(){return this.$0},get_projectId:function(){return this.$1.projectId},get_project:function(){return this.$2},get_usageInfo:function(){return this.$1.usageInfo},get_connectionDetails:function(){return this.$1.connectionDetails},get_lastRefreshedDescription:function(){if(tab.MiscUtil.isNullOrEmpty$1(this.$1.lastRefreshedAt)){return tab.Strings.ServerDataSourceLive}var e=tableau.format.formatToJSCompliantFormat(this.$1.lastRefreshedAt,tableau.format.get_isO8601DateTimeFormat(),2,tableau.format.get_baseTimestamp());var ij={};ij.format=K.get_instance().get_localeDateFormat();ij.locale=tsConfig.locale;ij.timeFormat=K.get_instance().get_localeTimeFormat();ij.locale_formatting_strings=tableau.format.get_defaultLocaleStrings();return tableau.format.formatJsDateTime(new Date(e),ij,2,'t')},get_connectsToDescription:function(){var e;if(this.get_connectionDetails().type==='database'||this.get_connectionDetails().type==='webdata-direct'){e=this.get_connectionDetails().serverName}else if(this.get_connectionDetails().type==='file'){e=hX.$0(this.get_connectionDetails().fileName)}else{e=this.get_connectionDetails().name}if(this.get_dataConnectionsCount()>1){return tab.Strings.ServerDataSourceConnectsToSeveral(e,this.get_dataConnectionsCount()-1)}else{return e}}});ss.initClass(hY,a,{});ss.initEnum(hZ,a,{none:0,userInvalidEmailAddress:10011});ss.initClass(ia,a,{});ss.initClass(ib,a,{checkpointAppPresModel:function(){this.$1=K.get_instance().pm;this.currentWorldDiffersFromCheckpoint=false},revertLocalChanges:function(){if(this.currentWorldDiffersFromCheckpoint){K.get_instance().update(this.$1,this.$0);this.currentWorldDiffersFromCheckpoint=false}},markCurrentWorldAsDirty:function(){this.currentWorldDiffersFromCheckpoint=true},worldCheckpoint:function(){var e=tab.MiscUtil.cloneObject(this.$1);return e}});ss.initClass(ic,a,{add_onBootstrapResponse:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_onBootstrapResponse:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_onCommandResponse:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_onCommandResponse:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_onProgressiveLoadComplete:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_onProgressiveLoadComplete:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},raiseOnProgressiveLoadComplete:function(){if(!ss.staticEquals(this.$1$3,null)){this.$1$3()}},raiseOnBootstrapResponse:function(e){var ij=this.$1$1;if(!ss.staticEquals(ij,null)){ij(e)}},raiseOnCommandResponse:function(e){var ij=this.$1$2;if(!ss.staticEquals(ij,null)){ij(e)}}});ss.initClass(id,a,{});ss.initClass(ie,a,{request:function(e){var ij='X-Tsi-Supports-Accepted';e.headers=e.headers||{};if(ss.keyExists(e.headers,ij)&&e.headers[ij]===false){delete e.headers[ij]}else{e.headers[ij]=true}if(ss.isValue(ie.$0)&&ie.$0.length>0){e.headers['X-Tsi-Active-Tab']=encodeURIComponent(ie.$0)}if(ss.isValue(e.complete)){var ik=e.complete;e.complete=function(iq,ir){iq['args']=e;ik(iq,ir)}}if(ss.isValue(e.success)){var il=e.success;e.success=function(iq,ir,it){it['args']=e;il(iq,ir,it)}}if(ss.isValue(e.error)){var im=e.error;e.error=function(iq,ir,it){iq['args']=e;im(iq,ir,it)}}if(ss.isValue(e.beforeSend)){var io=e.beforeSend;e.beforeSend=function(iq){iq['args']=e;io(iq)}}var ip=e;return $.ajax(ip)}});ss.initClass(ig,a,{get_zone:function(){return ss.safeCast(this.parent,ih)}},ew);ss.initClass(ih,a,{add_newZoneContent:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newZoneContent:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_removeZoneContent:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_removeZoneContent:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_updateZone:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_updateZone:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_resizeZone:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_resizeZone:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_childrenAdded:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_childrenAdded:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_changeZoneTitleVisibility:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_changeZoneTitleVisibility:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_changeZoneFloatingState:function(e){this.$2$7=ss.delegateCombine(this.$2$7,e)},remove_changeZoneFloatingState:function(e){this.$2$7=ss.delegateRemove(this.$2$7,e)},get_model:function(){return this.$f},get_dashboardModel:function(){return this.$b},get_visualModel:function(){if(this.get_zoneType()==='viz'){return this.$f}return null},get_zoneDescription:function(){return this.pm.dMo},get_zoneType:function(){return this.$2(this.pm)},get_parentZoneId:function(){return this.pm.SWe},get_contentHeight:function(){return this.pm.PVX},get_contentWidth:function(){return this.pm.NSQ},get_contentX:function(){return this.pm.$HD},get_contentY:function(){return this.pm.x_W},get_height:function(){return this.pm.EUR},get_width:function(){return this.pm.rec},get_x:function(){return this.pm.thj},get_y:function(){return this.pm.RAC},get_heightWithMargin:function(){return(this.get_isFloating()?this.get_height():(this.get_height()+8))},get_widthWithMargin:function(){return(this.get_isFloating()?this.get_width():(this.get_width()+8))},get_xWithMargin:function(){return(this.get_isFloating()?this.get_x():(this.get_x()-4))},get_yWithMargin:function(){return(this.get_isFloating()?this.get_y():(this.get_y()-4))},get_zoneContentRect:function(){return{x:this.get_contentX(),y:this.get_contentY(),w:this.get_contentWidth(),h:this.get_contentHeight()}},get_zoneId:function(){return this.pm.BCp},get_worksheetName:function(){return this.pm.AVP},get_contentType:function(){return ih.typeOfContent(this.pm)},get_isFloating:function(){return this.pm.Qba},get_hasTitle:function(){return this.pm.yqe},get_canHaveTitle:function(){return this.pm.mqv},get_canFloat:function(){return this.pm.YmA},get_isHorizontal:function(){return this.pm.oAu},get_hasSpace:function(){return this.pm.zGq},get_isSelectionDisabled:function(){return this.pm.OKP},get_contextMenuCommands:function(){if(this.get_zoneType()==='filter'){if(tab.FeatureFlags.isEnabled('VizCatQF')&&!this.$8){var e=this.get_model();return e.get_quickFilterCommands()}else{var ij=this.get_model();return ij.get_quickFilterCommands()}}return new Object},get_chromeCommands:function(){return this.$6},get_backgroundColor:function(){if(ss.isValue(this.pm.oiS)){this.$a=this.$a||bG.convertColorForCanvas(this.pm.oiS);return this.$a}return null},get_relativeZoneZIndex:function(){return this.pm.Vk$+1},get_associatedSheet:function(){return this.pm.Gge},get_isDependentOnViz:function(){switch(this.get_zoneType()){case'viz':case'color':case'shape':case'size':case'map':{return true}}return false},get_hasBorder:function(){return ez.hasBorder(this.pm.rPC)},raiseRemoveZoneContent:function(){this.raiseEvent(this.$2$2)},raiseChildrenAdded:function(){this.raiseEvent(this.$2$5)},update:function(e,ij){if(ss.isValue(e)){if(ss.isValue(e.KDk)){this.$d=e.KDk.xBc;this.$c=e.KDk.EUR;this.$e=e.KDk.rec}{e.Gge=e.Gge||'';e.nkG1=e.nkG1||0;e.jZr=e.jZr||0;e.SWe=e.SWe||0;e.Qba=e.Qba||false;e.OKP=e.OKP||false;e.oAu=e.oAu||false;e.zGq=e.zGq||false;e.mqv=ss.coalesce(e.mqv,true);e.YmA=ss.coalesce(e.YmA,true);e.x_W=e.x_W||e.RAC;e.$HD=e.$HD||e.thj;e.NSQ=e.NSQ||e.rec;e.PVX=e.PVX||e.EUR}var ik=!this.$3(e);if(ik){this.raiseEvent(this.$2$4)}if(ss.isNullOrUndefined(this.pm)||!ss.referenceEquals(this.pm.oiS,e.oiS)){this.$a=null}if(ss.isValue(e.OnR)){this.$6.update(e.OnR)}if(ss.isValue(e.wqq)){if(!ss.isValue(this.$9)){this.$9=new ig(this)}var il=ih.typeOfContent(e);if(ss.isValue(this.pm)&&!ss.referenceEquals(this.get_contentType(),il)){this.$f=null}var im=false;if(ss.isNullOrUndefined(this.$f)){var io=ez.getPendingZoneContentModel(e.BCp);if(ss.isValue(io)){im=true;this.$f=io;this.$f.reparent(this.$9);this.$4(this.$f)}}if(!im){this.$1(il,e,ik,ij)}}else{if(this.$8&&e.jAM==='filter'){if(ss.isValue(this.pm)&&!ss.referenceEquals(e.dCB,this.pm.dCB)){if(ss.isValue(this.$f)){var ip=ih.$1(e.dCB);var iq=this.$f;iq.update(iq.get_quickFilterDisplayPresModel(),ip,e.yqe)}}}if(ss.isValue(this.pm)&&ss.isValue(this.$f)){var ir=ih.typeOfContent(this.pm);if(ss.referenceEquals(ir,ih.$b)){var it=ih.getContent(e,ih.$b);if(tab.FeatureFlags.isEnabled('VizCatQF')&&eY.supportsQuickFilterType(it)){var iu=this.$f;iu.setHasTitle(e.yqe)}else{var iv=this.$f;iv.setHasTitle(e.yqe)}}else if(ss.referenceEquals(ir,ih.$a)){if(K.get_instance().get_isLocalRenderMode()){var iw=this.$f;iw.setHasTitle(e.yqe)}}else if(ss.referenceEquals(ir,ih.$2)||ss.referenceEquals(ir,ih.$e)||ss.referenceEquals(ir,ih.$d)||ss.referenceEquals(ir,ih.$7)){if(K.get_instance().get_isLocalRenderMode()){var ix=this.$f;ix.setHasTitle(e.yqe)}}else if(ss.referenceEquals(ir,ih.$c)){var iy=this.$f;iy.setHasTitle(e.yqe)}else if(ss.referenceEquals(ir,ih.$9)&&ss.isValue(e.dCB)){var iz=ih.$1(e.dCB);var iA=ih.getContent(e,ih.$9);if(tab.FeatureFlags.isEnabled('VizParam')&&eJ.supportsParameterType(iA)){}else{var iB=this.$f;iB.updateFrame(iz)}}else if(ss.referenceEquals(ir,ih.$8)){var iC=this.$f;iC.setHasTitle(e.yqe)}}}if(ss.isValue(e.KDk)){dh.notifyFontsFromTextRegionPresModel(e.KDk)}}if(ss.isValue(this.pm)&&(this.pm.yqe!==e.yqe||this.pm.mqv!==e.mqv)){this.raiseEvent(this.$2$6)}if(ss.isValue(this.pm)&&(this.pm.Qba!==e.Qba||this.pm.YmA!==e.YmA)){this.raiseEvent(this.$2$7)}this.swapAndCopyPresModel(e);this.$5(e.yqe);this.raiseEvent(this.$2$3)},$1:function(e,ij,ik,il){if(ss.referenceEquals(e,ih.$h)){var im=ih.getContent(ij,ih.$h);if(ss.isNullOrUndefined(this.$f)){this.$f=new hI(this.$9);this.$4(this.$f)}var io=this.$f;io.update(im)}else if(ss.referenceEquals(e,ih.$g)){var ip=ih.getContent(ij,ih.$g);if(ss.isNullOrUndefined(this.$f)){this.$f=new hq(this.$9,ih.$g);this.$4(this.$f)}var iq=this.$f;iq.update(ip)}else if(ss.referenceEquals(e,ih.$f)){var ir=ih.getContent(ij,ih.$f);if(ss.isNullOrUndefined(this.$f)){this.$f=new hq(this.$9,ih.$f);this.$4(this.$f)}var it=this.$f;it.update(ir)}else if(ss.referenceEquals(e,ih.$b)){var iu=ih.getContent(ij,ih.$b);var iv=this.$8;if(tab.FeatureFlags.isEnabled('VizCatQF')&&eY.supportsQuickFilterType(iu)){this.$8=false;if(ss.isNullOrUndefined(this.$f)||iv){this.$f=new eY(this.$9);this.$4(this.$f)}var iw=this.$f;iw.update(iu,ij.yqe)}else{this.$8=true;if(ss.isNullOrUndefined(this.$f)||!iv){this.$f=new en(this.$9);this.$4(this.$f)}var ix=ih.$1(ij.dCB);var iy=this.$f;iy.update(iu,ix,ij.yqe)}}else if(ss.referenceEquals(e,ih.$a)){if(K.get_instance().get_isLocalRenderMode()){var iz=ih.getContent(ij,e);if(ss.isNullOrUndefined(this.$f)){this.$f=new eW(this.$9,e);this.$4(this.$f)}var iA=this.$f;iA.update(iz,ij.yqe)}}else if(ss.referenceEquals(e,ih.$2)||ss.referenceEquals(e,ih.$e)||ss.referenceEquals(e,ih.$d)||ss.referenceEquals(e,ih.$7)){if(K.get_instance().get_isLocalRenderMode()){var iB=ih.getContent(ij,e);if(ss.isNullOrUndefined(this.$f)){var iC=this.$2(ij);this.$f=new br(this.$9,e,ih.$0(iC));this.$4(this.$f)}var iD=this.$f;iD.update(iB,ij.yqe)}}else if(ss.referenceEquals(e,ih.$9)){var iE=ih.getContent(ij,ih.$9);var iF=ih.$1(iE.Vn);iE.nql=iF;var iG=this.$7;if(tab.FeatureFlags.isEnabled('VizParam')&&eJ.supportsParameterType(iE)){this.$7=false;if(ss.isNullOrUndefined(this.$f)||iG){this.$f=new eJ(this.$9);this.$4(this.$f)}var iH=this.$f;iH.update(iE)}else{this.$7=true;if(ss.isNullOrUndefined(this.$f)||!iG){this.$f=new eI(this.$9);this.$4(this.$f)}var iI=ih.$1(ij.dCB);var iJ=this.$f;iJ.update(iE,iI)}}else if(ss.referenceEquals(e,ih.$8)){var iK=ih.getContent(ij,ih.$8);if(ss.isNullOrUndefined(this.$f)){this.$f=new eD(this.$9);this.$4(this.$f)}var iL=!ik||ss.isNullOrUndefined(this.pm);var iM=ih.$1(ij.dCB);var iN=this.$f;iN.update(iK,iM,iL,ij.yqe)}else if(ss.referenceEquals(e,ih.$5)){var iO=ih.getContent(ij,ih.$5);if(ss.isNullOrUndefined(this.$f)){this.$f=new dd(this.$9);this.$4(this.$f)}var iP=this.$f;iP.update(iO)}else if(ss.referenceEquals(e,ih.$4)){var iQ=ih.getContent(ij,ih.$4);if(ss.isNullOrUndefined(this.$f)){this.$f=new dc(this.$9);this.$4(this.$f)}var iR=this.$f;iR.update(iQ,il)}else if(ss.referenceEquals(e,ih.$c)){var iS=ih.getContent(ij,ih.$c);if(ss.isNullOrUndefined(this.$f)){this.$f=new el(this.$9);this.$4(this.$f)}var iT=this.$f;iT.update(iS,ij.yqe)}else if(ss.referenceEquals(e,ih.$i)){var iU=ih.getContent(ij,ih.$i);if(ss.isNullOrUndefined(this.$f)){this.$f=new hT(this.$9);this.$4(this.$f)}var iV=this.$f;iV.update(iU)}else if(ss.referenceEquals(e,ih.$6)){var iW=ih.getContent(ij,ih.$6);if(ss.isNullOrUndefined(this.$f)){this.$f=new dZ(this.$9);this.$4(this.$f)}var iX=this.$f;iX.update(iW)}else if(ss.referenceEquals(e,ih.$3)){var iY=ih.getContent(ij,ih.$3);if(ss.isNullOrUndefined(this.$f)){this.$f=new cv(this.$9);this.$4(this.$f)}var iZ=this.$f;iZ.update(iY)}},$5:function(e){if(ss.isValue(this.pm.KDk)){this.pm.KDk.xBc=(e?this.$d:'');this.pm.KDk.EUR=(e?this.$c:0);this.pm.KDk.rec=(e?this.$e:0)}this.pm.jZr=(e?this.pm.jZr:0);this.pm.nkG1=(e?this.pm.nkG1:0)},$2:function(e){if(ss.isValue(e)){return e.jAM}return'invalid'},$3:function(e){if(ss.isValue(this.pm)){return e.PVX===this.get_contentHeight()&&e.NSQ===this.get_contentWidth()&&e.$HD===this.get_contentX()&&e.x_W===this.get_contentY()&&e.EUR===this.get_height()&&e.rec===this.get_width()&&e.thj===this.get_x()&&e.RAC===this.get_y()}return false},borderWidth:function(){var e=0;if(this.get_hasBorder()){e=this.pm.rPC.s$V}return e},$4:function(e){this.raiseEvent$1(ew).call(this,this.$2$1,e)}},ew);ss.initClass(ii,a,{add_newZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_removedZone:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_removedZone:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_zoneModels:function(){if(ss.isNullOrUndefined(this.$5)){this.$5=_.values(this.$7)}return this.$5},get_zonePresModels:function(){return this.pm},set_zonePresModels:function(e){this.pm=e},getZone:function(e){return this.$7[ii.$0(e)]},hasZone:function(e){return ss.keyExists(this.$7,ii.$0(e))},getChildren:function(e){var ij=ii.$0(e);if(!ss.keyExists(this.$6,ij)){this.$6[ij]=_.filter(this.get_zoneModels(),function(ik){return ik.get_parentZoneId()===e})}return this.$6[ii.$0(e)].slice(0)},update:function(ij,ik){this.$2('Zones before update: ');this.$3(ij);this.$6={};var il={};var im=_.keys(ij);for(var io=0;io<im.length;io++){var ip=im[io];var iq=ij[ip];if(ss.isValue(iq)){var ir=iq.BCp;try{var it=ii.$0(ir);if(!ss.isValue(this.$7[it])){var iu=new ih(this,this.parent,ir);this.$7[it]=iu;this.raiseEvent$1(ih).call(this,this.$2$1,this.$7[it]);this.$5=null;il[iq.SWe]=true}else{if(this.$7[it].get_parentZoneId()!==iq.SWe){il[iq.SWe]=true}if(ss.isValue(iq.wqq)&&(this.$1(it,iq)||this.$4(it,iq))){this.$7[it].raiseRemoveZoneContent();this.raiseEvent$1(ih).call(this,this.$2$1,this.$7[it])}}this.$7[it].update(iq,ik)}catch(iz){var e=ss.Exception.wrap(iz);tab.ErrorTrace.report(e,false)}}}this.swapAndCopyPresModel(ij);if(tsConfig.is_authoring){var iv=_.keys(il);for(var iw=0;iw<iv.length;iw++){var ix=iv[iw];var iy=this.getZone(ix);if(ss.isValue(iy)){iy.raiseChildrenAdded()}}}this.$2('Zones after update: ')},$1:function(e,ij){if(tab.FeatureFlags.isEnabled('VizCatQF')){var ik=this.$7[e].pm;if(ss.isValue(ik.wqq)){var il='WlK'.toString();if(ss.referenceEquals(ih.typeOfContent(ij),il)){var im=ih.getContent(ik,il);var io=ih.getContent(ij,il);if(eY.supportsQuickFilterType(im)!==eY.supportsQuickFilterType(io)){return true}}}}return ss.isValue(this.$7[e].get_contentType())&&!ss.referenceEquals(this.$7[e].get_contentType(),ih.typeOfContent(ij))},$4:function(e,ij){return ss.isValue(this.$7[e].get_worksheetName())&&!ss.referenceEquals(this.$7[e].get_worksheetName(),ij.Gge)},$3:function(e){var ij=_.keys(this.$7);for(var ik=0;ik<ij.length;ik++){var il=ij[ik];var im=this.$7[il];var io=e[im.get_zoneId().toString()];if(io===null){var ip=im.get_zoneId().toString();delete e[ip];delete this.get_zonePresModels()[ip];this.removeZone(im);continue}if(ss.isValue(io)&&im.get_zoneType()!==io.jAM){this.removeZone(im)}}},removeZone:function(e){e.raiseRemoveZoneContent();this.raiseEvent$1(ih).call(this,this.$2$2,e);delete this.$7[ii.$0(e.get_zoneId())];this.$5=null},$2:function(e){var ij=new ss.StringBuilder;ij.appendLine(e);var ik=new ss.ObjectEnumerator(this.get_zonePresModels());try{while(ik.moveNext()){var il=ik.current();if(ss.isValue(il.value)){ij.append('[ ');ij.append(il.value.BCp);ij.append(' ');ij.append(il.value.jAM);ij.append(' ] ');ij.appendLine()}}}finally{ik.dispose()}}},ew);(function(){bK.successResult=new bK(true,null)})();(function(){bP.$0=null})();(function(){hN.unknownFieldMarker='~~~???~~~';hN.noLocalSummary='...';hN.invalidTupleId=0;hN.urlStringNull='~~null~';hN.urlStringSkipped='~~skipped~';hN.urlStringRagged='~~ragged~';hN.$8=new RegExp('(\\r|\\n)','g')})();(function(){bR.$5=15;bR.$8={};bR.$6={};bR.$7=[];bR.$8['keep-only-or-exclude']=2;bR.$8['quick-sort']=4;bR.$8['clear-sorts']=6;bR.$8['run-action']=8;bR.$8['load-url']=9;bR.$8['merge-or-split']=10;bR.$8['legend-group-or-ungroup']=13;bR.$8['label-drill']=11;bR.$8['level-drill']=12;bR.$8['level-drill-up-down']=12;bR.$8['remove-reference-line']=15;bR.$8['show-reference-line-constant-value-editor']=21;bR.$8['trend-lines']=17;bR.$8['show-col-totals']=18;bR.$8['show-row-totals']=18;bR.$8['remove-subtotals']=18;bR.$8['set-totals-type']=19;bR.$8['set-reference-line-formula']=20;bR.$8['show-reference-line-editor']=22})();(function(){ew.removeUndefinedBoolsOnSwapCopy=true;ew.$0=null;ew.$1=null})();(function(){cX.nameOfMeasuresColumn=':Measure Names';cX.nameOfMeasureValuesColumn='Multiple Values'})();(function(){bG.defaultAlpha=1;bG.white=new bG(255,255,255,1);bG.$6=0.999989986419678;bG.$c=[0,5.07705190066E-06,2.33280046661E-05,5.69217657122E-05,0.000107187362341,0.000175123977503,0.000261543754548,0.000367136269816,0.000492503787191,0.000638182842167,0.000804658499513,0.000992374304074,0.00120173952244,0.00143313458967,0.00168691531679,0.0019634162134,0.00226295316071,0.00258582559623,0.00293231832394,0.003302703032,0.0036972395789,0.00411617709328,0.00455975492253,0.00502820345686,0.00552174485024,0.00604059365485,0.00658495738258,0.00715503700457,0.00775102739766,0.00837311774515,0.00902149189801,0.00969632870166,0.0103978022926,0.0111260823684,0.0118813344348,0.0126637200316,0.0134733969401,0.0143105193749,0.0151752381596,0.0160677008909,0.0169880520893,0.01793643334,0.0189129834237,0.0199178384388,0.0209511319148,0.0220129949193,0.0231035561579,0.0242229420675,0.0253712769047,0.0265486828285,0.0277552799781,0.0289911865471,0.0302565188524,0.0315513914002,0.0328759169484,0.0342302065651,0.0356143696849,0.037028514162,0.0384727463202,0.0399471710015,0.0414518916115,0.0429870101627,0.0445526273164,0.0461488424224,0.0477757535562,0.0494334575559,0.0511220500565,0.0528416255229,0.0545922772818,0.056374097552,0.0581871774737,0.0600316071363,0.0619074756055,0.0638148709487,0.0657538802603,0.0677245896854,0.0697270844426,0.0717614488462,0.0738277663278,0.0759261194563,0.0780565899581,0.0802192587362,0.0824142058885,0.0846415107254,0.0869012517877,0.0891935068622,0.0915183529989,0.0938758665256,0.0962661230633,0.0986891975411,0.10114516421,0.103634096655,0.106156067813,0.108711149979,0.111299414825,0.113920933406,0.116575776179,0.119264013005,0.12198571317,0.124740945387,0.127529777813,0.130352278056,0.133208513184,0.136098549737,0.139022453735,0.141980290686,0.144972125597,0.147998022983,0.151058046871,0.154152260812,0.15728072789,0.160443510725,0.163640671485,0.166872271891,0.170138373223,0.173439036332,0.176774321641,0.180144289154,0.183548998465,0.186988508759,0.190462878822,0.193972167048,0.19751643144,0.201095729621,0.204710118837,0.208359655961,0.212044397502,0.215764399609,0.219519718075,0.223310408341,0.227136525505,0.230998124323,0.234895259216,0.238827984272,0.242796353254,0.246800419602,0.250840236436,0.254915856566,0.25902733249,0.263174716398,0.267358060184,0.271577415438,0.275832833461,0.280124365261,0.28445206156,0.288815972797,0.293216149132,0.297652640449,0.302125496359,0.306634766203,0.311180499058,0.315762743736,0.320381548792,0.325036962521,0.329729032968,0.334457807924,0.339223334935,0.344025661302,0.348864834083,0.353740900097,0.358653905926,0.363603897921,0.368590922197,0.373615024646,0.37867625093,0.383774646488,0.388910256539,0.394083126083,0.399293299903,0.404540822568,0.409825738436,0.415148091656,0.420507926168,0.425905285707,0.431340213807,0.4368127538,0.442322948819,0.4478708418,0.453456475486,0.459079892424,0.464741134974,0.470440245304,0.476177265397,0.481952237051,0.487765201878,0.493616201311,0.499505276603,0.505432468828,0.511397818885,0.517401367497,0.523443155214,0.529523222417,0.535641609315,0.54179835595,0.547993502197,0.554227087766,0.560499152204,0.566809734897,0.573158875068,0.579546611783,0.58597298395,0.592438030321,0.598941789493,0.605484299911,0.612065599866,0.618685727499,0.625344720802,0.632042617621,0.638779455651,0.645555272445,0.652370105411,0.659223991813,0.666116968776,0.673049073281,0.680020342172,0.687030812155,0.694080519797,0.701169501531,0.708297793656,0.715465432335,0.7226724536,0.729918893352,0.737204787361,0.744530171267,0.751895080583,0.759299550695,0.766743616862,0.774227314218,0.781750677774,0.789313742416,0.796916542908,0.804559113895,0.812241489898,0.819963705324,0.827725794455,0.835527791461,0.843369730392,0.851251645185,0.859173569659,0.867135537521,0.875137582365,0.883179737673,0.891262036813,0.899384513047,0.907547199522,0.915750129279,0.923993335252,0.932276850265,0.940600707036,0.948964938178,0.9573695762,0.965814653503,0.974300202389,0.982826255054,0.991392843593,1];bG.$7=new RegExp('#([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})','i');bG.$8=new RegExp('rgb\\((\\d+), ?(\\d+), ?(\\d+)\\)','i');bG.$9=new RegExp('rgba\\((\\d+), ?(\\d+), ?(\\d+), ?(\\d+|0\\.\\d+|1\\.0)\\)','i');bG.$a=null;bG.$b=new da(100)})();(function(){di.defaultWeight='normal';di.defaultStyle='normal';di.hashSeparator='-<%>-';di.matchQuotes=new RegExp('[\'"]','g')})();(function(){cG.boldWeight='bold';cG.normalWeight='normal'})();(function(){dG.$0=[new dG,new cG]})();(function(){dh.fontPropertyName='font';dh.$1$1=null;dh.$1$2=null})();(function(){hM.tupleIdColumnName='[system:visual].[tuple_id]';hM.measureNamesColumnName='[:Measure Names]'})();(function(){es.$1='@2x';es.$0='rgb(255,255,255)'})();(function(){ic.$0=new ss.Lazy(function(){return new ic})})();(function(){ie.guid='';ie.parentID='';ie.$0=''})();(function(){dO.$5='_vql_state_';dO.$4=new Map;dO.$7=0;dO.$6=0;tab.WindowHelper.addListener(window.self,'popstate',dO.$2)})();(function(){hP.$7=':retry';hP.$5=':original_view';hP.$8=':showSaveAs';hP.$4=':jsdebug';hP.$6=':render';hP.$3=':app';hP.$b=[':app',':jsdebug',':render'];hP.$d=ss.mkdict(['authoring',2,'authoringNewWorkbook',3,'views',1,'vizql/showadminview',4,'shared',5,'workbooks',6]);hP.$c=[':bootstrapWhenNotified'];hP.$9={};hP.$a={};var e=function(ij,ik){for(var il=ij;il<=ik;il++){var im=String.fromCharCode(il);hP.$a[im]=im}};e(97,122);e(65,90);e(48,57);e(95,95);e(45,46)})();(function(){cz.$0=false})();(function(){hp.$0={};hp.$0['TQRC_DRILL_DOWN']='tableau-1.3/res/vizTooltips/Tooltip_Action_Down.png';hp.$0['TQRC_DRILL_DOWN_2X']='tableau-1.3/res/vizTooltips/Tooltip_Action_Down@2x.png';hp.$0['TQRC_DRILL_DOWN_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Action_Down_Active.png';hp.$0['TQRC_DRILL_DOWN_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Action_Down_Active@2x.png';hp.$0['TQRC_DRILL_UP']='tableau-1.3/res/vizTooltips/Tooltip_Action_Up.png';hp.$0['TQRC_DRILL_UP_2x']='tableau-1.3/res/vizTooltips/Tooltip_Action_Up@2x.png';hp.$0['TQRC_DRILL_UP_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Action_Up_Active.png';hp.$0['TQRC_DRILL_UP_ACTIVE_2x']='tableau-1.3/res/vizTooltips/Tooltip_Action_Up_Action@2x.png';hp.$0['TQRC_EXCLUDE']='tableau-1.3/res/vizTooltips/Tooltip_Exclude.png';hp.$0['TQRC_EXCLUDE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Exclude@2x.png';hp.$0['TQRC_EXCLUDE_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Exclude_Active.png';hp.$0['TQRC_EXCLUDE_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Exclude_Active@2x.png';hp.$0['TQRC_KEEP_ONLY']='tableau-1.3/res/vizTooltips/Tooltip_KeepOnly.png';hp.$0['TQRC_KEEP_ONLY_2X']='tableau-1.3/res/vizTooltips/Tooltip_KeepOnly@2x.png';hp.$0['TQRC_KEEP_ONLY_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_KeepOnly_Active.png';hp.$0['TQRC_KEEP_ONLY_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_KeepOnly_Active@2x.png';hp.$0['TQRC_MERGE']='tableau-1.3/res/vizTooltips/Tooltip_Group.png';hp.$0['TQRC_MERGE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Group@2x.png';hp.$0['TQRC_MERGE_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Group_Active.png';hp.$0['TQRC_MERGE_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Group_Active@2x.png';hp.$0['TQRC_VIEWDATA']='tableau-1.3/res/vizTooltips/Tooltip_ViewData.png';hp.$0['TQRC_VIEWDATA_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_ViewData_Active.png';hp.$0['TQRC_SORT_ASCENDING']='tableau-1.3/res/vizTooltips/Tooltip_SortAscending.png';hp.$0['TQRC_SORT_ASCENDING_2X']='tableau-1.3/res/vizTooltips/Tooltip_Sort_Ascending@2x.png';hp.$0['TQRC_SORT_ASCENDING_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_SortAscending_Active.png';hp.$0['TQRC_SORT_ASCENDING_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Sort_Ascending_Active@2x.png';hp.$0['TQRC_SORT_DESCENDING']='tableau-1.3/res/vizTooltips/Tooltip_SortDescending.png';hp.$0['TQRC_SORT_DESCENDING_2X']='tableau-1.3/res/vizTooltips/Tooltip_Sort_Descending@2x.png';hp.$0['TQRC_SORT_DESCENDING_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_SortDescending_Active.png';hp.$0['TQRC_SORT_DESCENDING_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Sort_Descending_Active@2x.png';hp.$0['TQRC_SPLIT']='tableau-1.3/res/vizTooltips/Tooltip_Split.png';hp.$0['TQRC_SPLIT_2X']='tableau-1.3/res/vizTooltips/Tooltip_Split@2x.png';hp.$0['TQRC_SPLIT_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Split_Active.png';hp.$0['TQRC_SPLIT_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Split_Active@2x.png';hp.$0['TQRC_SHOWME_BIN']='tableau-1.3/res/showme/ShowMe_NumericBin.png';hp.$0['TQRC_SHOWME_BIN_2X']='tableau-1.3/res/showme/ShowMe_NumericBin@2x.png';hp.$0['TQRC_SHOWME_SUGGESTED']='tableau-1.3/res/showme/ShowMe_Check.png';hp.$0['TQRC_SHOWME_SUGGESTED_2X']='tableau-1.3/res/showme/ShowMe_Check@2x.png';hp.$0['TQRC_SHOWME_CLOSE']='tableau-1.3/res/showme/ShowMe_Close.png';hp.$0['TQRC_SHOWME_CLOSE_2X']='tableau-1.3/res/showme/ShowMe_Close@2x.png';hp.$0['TQRC_SHOWME_CLOSE_PRESS']='tableau-1.3/res/showme/ShowMe_Close_Active.png';hp.$0['TQRC_SHOWME_CLOSE_PRESS_2X']='tableau-1.3/res/showme/ShowMe_Close_Active@2x.png';hp.$0['TQRC_SHOWME_DATE']='tableau-1.3/res/showme/ShowMe_Date.png';hp.$0['TQRC_SHOWME_DATE_2X']='tableau-1.3/res/showme/ShowMe_Date@2x.png';hp.$0['TQRC_SHOWME_GEO']='tableau-1.3/res/showme/ShowMe_Geo.png';hp.$0['TQRC_SHOWME_GEO_2X']='tableau-1.3/res/showme/ShowMe_Geo@2x.png';hp.$0['TQRC_SHOWME_GLOW']='tableau-1.3/res/showme/glow.png';hp.$0['TQRC_SHOWME_GLOW_2X']='tableau-1.3/res/showme/glow@2x.png';hp.$0['TQRC_SHOWME_GRIPPER']='tableau-1.3/res/showme/gripper.png';hp.$0['TQRC_SHOWME_GRIPPER_2X']='tableau-1.3/res/showme/gripper@2x.png';hp.$0['TQRC_SHOWME_SHOWME']='tableau-1.3/res/showme/showme.png';hp.$0['TQRC_SHOWME_SHOWME_2X']='tableau-1.3/res/showme/showme@2x.png';hp.$0['TQRC_SHOWME_TITLE_BACKGROUND_HOVER']='tableau-1.3/res/showme/Title-background-hover.png';hp.$0['TQRC_SHOWME_TITLE_BACKGROUND_HOVER_2X']='tableau-1.3/res/showme/Title-background-hover@2x.png';hp.$0['TQRC_SHOWME_TITLE_BACKGROUND_REST']='tableau-1.3/res/showme/Title-background-rest.png';hp.$0['TQRC_SHOWME_TITLE_BACKGROUND_REST_2X']='tableau-1.3/res/showme/Title-background-rest@2x.png';hp.$0['TQRC_SHOWME_AREAMEAS']='tableau-1.3/res/showme/ShowMe_AreaContinuous.png';hp.$0['TQRC_SHOWME_AREADIM']='tableau-1.3/res/showme/ShowMe_AreaDiscrete.png';hp.$0['TQRC_SHOWME_FILLEDMAPS']='tableau-1.3/res/showme/ShowMe_AreaMap.png';hp.$0['TQRC_SHOWME_BOXPLOT']='tableau-1.3/res/showme/ShowMe_BoxAndWhisker.png';hp.$0['TQRC_SHOWME_BUBBLE']='tableau-1.3/res/showme/ShowMe_Bubble.png';hp.$0['TQRC_SHOWME_BULLET']='tableau-1.3/res/showme/ShowMe_Bullet.png';hp.$0['TQRC_SHOWME_CIRCLE']='tableau-1.3/res/showme/ShowMe_Circles.png';hp.$0['TQRC_SHOWME_BARLINE']='tableau-1.3/res/showme/ShowMe_DualCombination.png';hp.$0['TQRC_SHOWME_DUALLINE']='tableau-1.3/res/showme/ShowMe_DualLine.png';hp.$0['TQRC_SHOWME_GANTT']='tableau-1.3/res/showme/ShowMe_Gantt.png';hp.$0['TQRC_SHOWME_HEATMAP']='tableau-1.3/res/showme/ShowMe_HeatMap.png';hp.$0['TQRC_SHOWME_SPOTTABLE']='tableau-1.3/res/showme/ShowMe_HighlightTable.png';hp.$0['TQRC_SHOWME_HISTOGRAM']='tableau-1.3/res/showme/ShowMe_Histogram.png';hp.$0['TQRC_SHOWME_BARHORIZONTAL']='tableau-1.3/res/showme/ShowMe_HorizontalBars.png';hp.$0['TQRC_SHOWME_LINEMEAS']='tableau-1.3/res/showme/ShowMe_LinesContinuous.png';hp.$0['TQRC_SHOWME_LINEDIM']='tableau-1.3/res/showme/ShowMe_LinesDiscrete.png';hp.$0['TQRC_SHOWME_PIES']='tableau-1.3/res/showme/ShowMe_Pie.png';hp.$0['TQRC_SHOWME_SCATSING']='tableau-1.3/res/showme/ShowMe_Scatter.png';hp.$0['TQRC_SHOWME_BARSIDEBY']='tableau-1.3/res/showme/ShowMe_SideBySideBars.png';hp.$0['TQRC_SHOWME_CIRCLESIDEBYSIDE']='tableau-1.3/res/showme/ShowMe_SideBySideCircles.png';hp.$0['TQRC_SHOWME_BARSTACKED']='tableau-1.3/res/showme/ShowMe_StackedBars.png';hp.$0['TQRC_SHOWME_MAPS']='tableau-1.3/res/showme/ShowMe_SymbolMap.png';hp.$0['TQRC_SHOWME_TEXTTABLE']='tableau-1.3/res/showme/ShowMe_TextTable.png';hp.$0['TQRC_SHOWME_TREEMAP']='tableau-1.3/res/showme/ShowMe_TreeMap.png';hp.$0['TQRC_SHOWME_AREAMEAS_2X']='tableau-1.3/res/showme/ShowMe_AreaContinuous@2x.png';hp.$0['TQRC_SHOWME_AREADIM_2X']='tableau-1.3/res/showme/ShowMe_AreaDiscrete@2x.png';hp.$0['TQRC_SHOWME_FILLEDMAPS_2X']='tableau-1.3/res/showme/ShowMe_AreaMap@2x.png';hp.$0['TQRC_SHOWME_BOXPLOT_2X']='tableau-1.3/res/showme/ShowMe_BoxAndWhisker@2x.png';hp.$0['TQRC_SHOWME_BUBBLE_2X']='tableau-1.3/res/showme/ShowMe_Bubble@2x.png';hp.$0['TQRC_SHOWME_BULLET_2X']='tableau-1.3/res/showme/ShowMe_Bullet@2x.png';hp.$0['TQRC_SHOWME_CIRCLE_2X']='tableau-1.3/res/showme/ShowMe_Circles@2x.png';hp.$0['TQRC_SHOWME_BARLINE_2X']='tableau-1.3/res/showme/ShowMe_DualCombination@2x.png';hp.$0['TQRC_SHOWME_DUALLINE_2X']='tableau-1.3/res/showme/ShowMe_DualLine@2x.png';hp.$0['TQRC_SHOWME_GANTT_2X']='tableau-1.3/res/showme/ShowMe_Gantt@2x.png';hp.$0['TQRC_SHOWME_HEATMAP_2X']='tableau-1.3/res/showme/ShowMe_HeatMap@2x.png';hp.$0['TQRC_SHOWME_SPOTTABLE_2X']='tableau-1.3/res/showme/ShowMe_HighlightTable@2x.png';hp.$0['TQRC_SHOWME_HISTOGRAM_2X']='tableau-1.3/res/showme/ShowMe_Histogram@2x.png';hp.$0['TQRC_SHOWME_BARHORIZONTAL_2X']='tableau-1.3/res/showme/ShowMe_HorizontalBars@2x.png';hp.$0['TQRC_SHOWME_LINEDIM_2X']='tableau-1.3/res/showme/ShowMe_LinesDiscrete@2x.png';hp.$0['TQRC_SHOWME_LINEMEAS_2X']='tableau-1.3/res/showme/ShowMe_LinesContinuous@2x.png';hp.$0['TQRC_SHOWME_PIES_2X']='tableau-1.3/res/showme/ShowMe_Pie@2x.png';hp.$0['TQRC_SHOWME_SCATSING_2X']='tableau-1.3/res/showme/ShowMe_Scatter@2x.png';hp.$0['TQRC_SHOWME_BARSIDEBY_2X']='tableau-1.3/res/showme/ShowMe_SideBySideBars@2x.png';hp.$0['TQRC_SHOWME_CIRCLESIDEBYSIDE_2X']='tableau-1.3/res/showme/ShowMe_SideBySideCircles@2x.png';hp.$0['TQRC_SHOWME_BARSTACKED_2X']='tableau-1.3/res/showme/ShowMe_StackedBars@2x.png';hp.$0['TQRC_SHOWME_MAPS_2X']='tableau-1.3/res/showme/ShowMe_SymbolMap@2x.png';hp.$0['TQRC_SHOWME_TEXTTABLE_2X']='tableau-1.3/res/showme/ShowMe_TextTable@2x.png';hp.$0['TQRC_SHOWME_TREEMAP_2X']='tableau-1.3/res/showme/ShowMe_TreeMap@2x.png';hp.$0['TQRC_SHOWME_1_BARSTACKED']='tableau-1.3/res/showme/enabled/BarStacked.png';hp.$0['TQRC_SHOWME_1_BARSIDEBY']='tableau-1.3/res/showme/enabled/BarSideBySide.png';hp.$0['TQRC_SHOWME_1_BARHORIZONTAL']='tableau-1.3/res/showme/enabled/BarHorizontal.png';hp.$0['TQRC_SHOWME_1_BARLINE']='tableau-1.3/res/showme/enabled/BarLine.png';hp.$0['TQRC_SHOWME_1_CIRCLE']='tableau-1.3/res/showme/enabled/Circle.png';hp.$0['TQRC_SHOWME_1_CIRCLESIDEBYSIDE']='tableau-1.3/res/showme/enabled/CircleSideBySide.png';hp.$0['TQRC_SHOWME_1_GANTT']='tableau-1.3/res/showme/enabled/Gantt.png';hp.$0['TQRC_SHOWME_1_HEATMAP']='tableau-1.3/res/showme/enabled/HeatMap.png';hp.$0['TQRC_SHOWME_1_HISTOGRAM']='tableau-1.3/res/showme/enabled/Histogram.png';hp.$0['TQRC_SHOWME_1_LINEDIM']='tableau-1.3/res/showme/enabled/LineDimension.png';hp.$0['TQRC_SHOWME_1_LINEMEAS']='tableau-1.3/res/showme/enabled/LineMeasure.png';hp.$0['TQRC_SHOWME_1_AREAMEAS']='tableau-1.3/res/showme/enabled/FilledLineContinuous.png';hp.$0['TQRC_SHOWME_1_AREADIM']='tableau-1.3/res/showme/enabled/FilledLineDiscrete.png';hp.$0['TQRC_SHOWME_1_SCATSING']='tableau-1.3/res/showme/enabled/ScatterSingle.png';hp.$0['TQRC_SHOWME_1_TEXTTABLE']='tableau-1.3/res/showme/enabled/TextTable.png';hp.$0['TQRC_SHOWME_1_SPOTTABLE']='tableau-1.3/res/showme/enabled/SpotTable.png';hp.$0['TQRC_SHOWME_1_MAPS']='tableau-1.3/res/showme/enabled/Maps.png';hp.$0['TQRC_SHOWME_1_FILLEDMAPS']='tableau-1.3/res/showme/enabled/FilledMaps.png';hp.$0['TQRC_SHOWME_1_PIES']='tableau-1.3/res/showme/enabled/Pies.png';hp.$0['TQRC_SHOWME_1_DUALLINE']='tableau-1.3/res/showme/enabled/DualAxis.png';hp.$0['TQRC_SHOWME_1_BULLET']='tableau-1.3/res/showme/enabled/Bullet.png';hp.$0['TQRC_SHOWME_1_TREEMAP']='tableau-1.3/res/showme/enabled/Treemap.png';hp.$0['TQRC_SHOWME_1_BUBBLE']='tableau-1.3/res/showme/enabled/Bubble.png';hp.$0['TQRC_SHOWME_1_BOXPLOT']='tableau-1.3/res/showme/enabled/Boxplot.png';hp.$0['TQRC_SHOWME_1_BARSTACKED_2X']='tableau-1.3/res/showme/enabled/BarStacked@2x.png';hp.$0['TQRC_SHOWME_1_BARSIDEBY_2X']='tableau-1.3/res/showme/enabled/BarSideBySide@2x.png';hp.$0['TQRC_SHOWME_1_BARHORIZONTAL_2X']='tableau-1.3/res/showme/enabled/BarHorizontal@2x.png';hp.$0['TQRC_SHOWME_1_BARLINE_2X']='tableau-1.3/res/showme/enabled/BarLine@2x.png';hp.$0['TQRC_SHOWME_1_CIRCLE_2X']='tableau-1.3/res/showme/enabled/Circle@2x.png';hp.$0['TQRC_SHOWME_1_CIRCLESIDEBYSIDE_2X']='tableau-1.3/res/showme/enabled/CircleSideBySide@2x.png';hp.$0['TQRC_SHOWME_1_GANTT_2X']='tableau-1.3/res/showme/enabled/Gantt@2x.png';hp.$0['TQRC_SHOWME_1_HEATMAP_2X']='tableau-1.3/res/showme/enabled/HeatMap@2x.png';hp.$0['TQRC_SHOWME_1_HISTOGRAM_2X']='tableau-1.3/res/showme/enabled/Histogram@2x.png';hp.$0['TQRC_SHOWME_1_LINEDIM_2X']='tableau-1.3/res/showme/enabled/LineDimension@2x.png';hp.$0['TQRC_SHOWME_1_LINEMEAS_2X']='tableau-1.3/res/showme/enabled/LineMeasure@2x.png';hp.$0['TQRC_SHOWME_1_AREAMEAS_2X']='tableau-1.3/res/showme/enabled/FilledLineContinuous@2x.png';hp.$0['TQRC_SHOWME_1_AREADIM_2X']='tableau-1.3/res/showme/enabled/FilledLineDiscrete@2x.png';hp.$0['TQRC_SHOWME_1_SCATSING_2X']='tableau-1.3/res/showme/enabled/ScatterSingle@2x.png';hp.$0['TQRC_SHOWME_1_TEXTTABLE_2X']='tableau-1.3/res/showme/enabled/TextTable@2x.png';hp.$0['TQRC_SHOWME_1_SPOTTABLE_2X']='tableau-1.3/res/showme/enabled/SpotTable@2x.png';hp.$0['TQRC_SHOWME_1_MAPS_2X']='tableau-1.3/res/showme/enabled/Maps@2x.png';hp.$0['TQRC_SHOWME_1_FILLEDMAPS_2X']='tableau-1.3/res/showme/enabled/FilledMaps@2x.png';hp.$0['TQRC_SHOWME_1_PIES_2X']='tableau-1.3/res/showme/enabled/Pies@2x.png';hp.$0['TQRC_SHOWME_1_DUALLINE_2X']='tableau-1.3/res/showme/enabled/DualAxis@2x.png';hp.$0['TQRC_SHOWME_1_BULLET_2X']='tableau-1.3/res/showme/enabled/Bullet@2x.png';hp.$0['TQRC_SHOWME_1_TREEMAP_2X']='tableau-1.3/res/showme/enabled/Treemap@2x.png';hp.$0['TQRC_SHOWME_1_BUBBLE_2X']='tableau-1.3/res/showme/enabled/Bubble@2x.png';hp.$0['TQRC_SHOWME_1_BOXPLOT_2X']='tableau-1.3/res/showme/enabled/Boxplot@2x.png';hp.$0['TQRC_SHOWME_0_BARSTACKED']='tableau-1.3/res/showme/disabled/BarStacked.png';hp.$0['TQRC_SHOWME_0_BARSIDEBY']='tableau-1.3/res/showme/disabled/BarSideBySide.png';hp.$0['TQRC_SHOWME_0_BARHORIZONTAL']='tableau-1.3/res/showme/disabled/BarHorizontal.png';hp.$0['TQRC_SHOWME_0_BARLINE']='tableau-1.3/res/showme/disabled/BarLine.png';hp.$0['TQRC_SHOWME_0_CIRCLE']='tableau-1.3/res/showme/disabled/Circle.png';hp.$0['TQRC_SHOWME_0_CIRCLESIDEBYSIDE']='tableau-1.3/res/showme/disabled/CircleSideBySide.png';hp.$0['TQRC_SHOWME_0_GANTT']='tableau-1.3/res/showme/disabled/Gantt.png';hp.$0['TQRC_SHOWME_0_HEATMAP']='tableau-1.3/res/showme/disabled/HeatMap.png';hp.$0['TQRC_SHOWME_0_HISTOGRAM']='tableau-1.3/res/showme/disabled/Histogram.png';hp.$0['TQRC_SHOWME_0_LINEDIM']='tableau-1.3/res/showme/disabled/LineDimension.png';hp.$0['TQRC_SHOWME_0_LINEMEAS']='tableau-1.3/res/showme/disabled/LineMeasure.png';hp.$0['TQRC_SHOWME_0_AREAMEAS']='tableau-1.3/res/showme/disabled/FilledLineContinuous.png';hp.$0['TQRC_SHOWME_0_AREADIM']='tableau-1.3/res/showme/disabled/FilledLineDiscrete.png';hp.$0['TQRC_SHOWME_0_SCATSING']='tableau-1.3/res/showme/disabled/ScatterSingle.png';hp.$0['TQRC_SHOWME_0_TEXTTABLE']='tableau-1.3/res/showme/disabled/TextTable.png';hp.$0['TQRC_SHOWME_0_SPOTTABLE']='tableau-1.3/res/showme/disabled/SpotTable.png';hp.$0['TQRC_SHOWME_0_MAPS']='tableau-1.3/res/showme/disabled/Maps.png';hp.$0['TQRC_SHOWME_0_FILLEDMAPS']='tableau-1.3/res/showme/disabled/FilledMaps.png';hp.$0['TQRC_SHOWME_0_PIES']='tableau-1.3/res/showme/disabled/Pies.png';hp.$0['TQRC_SHOWME_0_DUALLINE']='tableau-1.3/res/showme/disabled/DualAxis.png';hp.$0['TQRC_SHOWME_0_BULLET']='tableau-1.3/res/showme/disabled/Bullet.png';hp.$0['TQRC_SHOWME_0_TREEMAP']='tableau-1.3/res/showme/disabled/Treemap.png';hp.$0['TQRC_SHOWME_0_BUBBLE']='tableau-1.3/res/showme/disabled/Bubble.png';hp.$0['TQRC_SHOWME_0_BOXPLOT']='tableau-1.3/res/showme/disabled/Boxplot.png';hp.$0['TQRC_SHOWME_0_BARSTACKED_2X']='tableau-1.3/res/showme/disabled/BarStacked@2x.png';hp.$0['TQRC_SHOWME_0_BARSIDEBY_2X']='tableau-1.3/res/showme/disabled/BarSideBySide@2x.png';hp.$0['TQRC_SHOWME_0_BARHORIZONTAL_2X']='tableau-1.3/res/showme/disabled/BarHorizontal@2x.png';hp.$0['TQRC_SHOWME_0_BARLINE_2X']='tableau-1.3/res/showme/disabled/BarLine@2x.png';hp.$0['TQRC_SHOWME_0_CIRCLE_2X']='tableau-1.3/res/showme/disabled/Circle@2x.png';hp.$0['TQRC_SHOWME_0_CIRCLESIDEBYSIDE_2X']='tableau-1.3/res/showme/disabled/CircleSideBySide@2x.png';hp.$0['TQRC_SHOWME_0_GANTT_2X']='tableau-1.3/res/showme/disabled/Gantt@2x.png';hp.$0['TQRC_SHOWME_0_HEATMAP_2X']='tableau-1.3/res/showme/disabled/HeatMap@2x.png';hp.$0['TQRC_SHOWME_0_HISTOGRAM_2X']='tableau-1.3/res/showme/disabled/Histogram@2x.png';hp.$0['TQRC_SHOWME_0_LINEDIM_2X']='tableau-1.3/res/showme/disabled/LineDimension@2x.png';hp.$0['TQRC_SHOWME_0_LINEMEAS_2X']='tableau-1.3/res/showme/disabled/LineMeasure@2x.png';hp.$0['TQRC_SHOWME_0_AREAMEAS_2X']='tableau-1.3/res/showme/disabled/FilledLineContinuous@2x.png';hp.$0['TQRC_SHOWME_0_AREADIM_2X']='tableau-1.3/res/showme/disabled/FilledLineDiscrete@2x.png';hp.$0['TQRC_SHOWME_0_SCATSING_2X']='tableau-1.3/res/showme/disabled/ScatterSingle@2x.png';hp.$0['TQRC_SHOWME_0_TEXTTABLE_2X']='tableau-1.3/res/showme/disabled/TextTable@2x.png';hp.$0['TQRC_SHOWME_0_SPOTTABLE_2X']='tableau-1.3/res/showme/disabled/SpotTable@2x.png';hp.$0['TQRC_SHOWME_0_MAPS_2X']='tableau-1.3/res/showme/disabled/Maps@2x.png';hp.$0['TQRC_SHOWME_0_FILLEDMAPS_2X']='tableau-1.3/res/showme/disabled/FilledMaps@2x.png';hp.$0['TQRC_SHOWME_0_PIES_2X']='tableau-1.3/res/showme/disabled/Pies@2x.png';hp.$0['TQRC_SHOWME_0_DUALLINE_2X']='tableau-1.3/res/showme/disabled/DualAxis@2x.png';hp.$0['TQRC_SHOWME_0_BULLET_2X']='tableau-1.3/res/showme/disabled/Bullet@2x.png';hp.$0['TQRC_SHOWME_0_TREEMAP_2X']='tableau-1.3/res/showme/disabled/Treemap@2x.png';hp.$0['TQRC_SHOWME_0_BUBBLE_2X']='tableau-1.3/res/showme/disabled/Bubble@2x.png';hp.$0['TQRC_SHOWME_0_BOXPLOT_2X']='tableau-1.3/res/showme/disabled/Boxplot@2x.png';hp.$0['TQRC_TREE_MINUS']='tableau-1.3/res/others/TreeMinus.png';hp.$0['TQRC_TREE_MINUS_2X']='tableau-1.3/res/others/TreeMinus@2x.png';hp.$0['TQRC_TREE_PLUS']='tableau-1.3/res/others/TreePlus.png';hp.$0['TQRC_TREE_PLUS_2X']='tableau-1.3/res/others/TreePlus@2x.png';hp.$0['TQRC_ANALYTICSPANE_DROP_TABLE']='tableau-1.3/res/analyticspane/drop/table.png';hp.$0['TQRC_ANALYTICSPANE_DROP_PANE']='tableau-1.3/res/analyticspane/drop/pane.png';hp.$0['TQRC_ANALYTICSPANE_DROP_CELL']='tableau-1.3/res/analyticspane/drop/cell.png';hp.$0['TQRC_ANALYTICSPANE_DROP_LINEAR']='tableau-1.3/res/analyticspane/drop/trend-linear.png';hp.$0['TQRC_ANALYTICSPANE_DROP_POLY']='tableau-1.3/res/analyticspane/drop/trend-polynomial.png';hp.$0['TQRC_ANALYTICSPANE_DROP_LOG']='tableau-1.3/res/analyticspane/drop/trend-logarithmic.png';hp.$0['TQRC_ANALYTICSPANE_DROP_EXP']='tableau-1.3/res/analyticspane/drop/trend-exponential.png';hp.$0['TQRC_ANALYTICSPANE_DROP_SUBTOTAL']='tableau-1.3/res/analyticspane/drop/sub-total.png';hp.$0['TQRC_ANALYTICSPANE_DROP_COLUMN']='tableau-1.3/res/analyticspane/drop/column-total.png';hp.$0['TQRC_ANALYTICSPANE_DROP_ROW']='tableau-1.3/res/analyticspane/drop/row-total.png';hp.$0['TQRC_ANALYTICSPANE_DROP_FORECAST']='tableau-1.3/res/analyticspane/drop/forecast.png';hp.$0['TQRC_ANALYTICSPANE_DROP_CLUSTER']='tableau-1.3/res/analyticspane/drop/cluster.png';hp.$0['TQRC_ANALYTICSPANE_DROP_OUTLIER']='tableau-1.3/res/analyticspane/drop/outliers.png';hp.$0['TQRC_ANALYTICSPANE_REFLINE']='tableau-1.3/res/analyticspane/refline.png';hp.$0['TQRC_ANALYTICSPANE_REFBAND']='tableau-1.3/res/analyticspane/refband.png';hp.$0['TQRC_ANALYTICSPANE_DISTBAND']='tableau-1.3/res/analyticspane/distband.png';hp.$0['TQRC_ANALYTICSPANE_BOXPLOT']='tableau-1.3/res/analyticspane/boxplot.png';hp.$0['TQRC_ANALYTICSPANE_TOTAL']='tableau-1.3/res/analyticspane/total.png';hp.$0['TQRC_ANALYTICSPANE_TRENDLINE']='tableau-1.3/res/analyticspane/trendline.png';hp.$0['TQRC_ANALYTICSPANE_95ANDMEDIAN']='tableau-1.3/res/analyticspane/95andmedian.png';hp.$0['TQRC_ANALYTICSPANE_FORECAST']='tableau-1.3/res/analyticspane/forecast.png';hp.$0['TQRC_ANALYTICSPANE_CLUSTER']='tableau-1.3/res/analyticspane/cluster.png';hp.$0['TQRC_ANALYTICSPANE_OUTLIER']='tableau-1.3/res/analyticspane/outliers.png'})();(function(){bN.$0='granted'})();(function(){D.instance=null})();(function(){bY.primaryTableCalcIndex=0;bY.secondaryTableCalcIndex=1})();(function(){fN.$0='data:image/png;base64,';fN.selectionBorderSize=1;fN.$1=(tab.BrowserSupport.get_isMobile()?50:200)})();(function(){gi.$1=false;gi.$2=false;gi.$1$1=null;gi.$1$2=null})();(function(){dY.$2=null})();(function(){v.$0=35;v.$1=1})();(function(){fs.$4='Last';fs.$5='SecondToLast';fs.$3=1440;fs.$7=['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];fs.$6=ss.mkdict(['Sun',tab.Strings.Sunday,'Mon',tab.Strings.Monday,'Tue',tab.Strings.Tuesday,'Wed',tab.Strings.Wednesday,'Thu',tab.Strings.Thursday,'Fri',tab.Strings.Friday,'Sat',tab.Strings.Saturday])})();(function(){hX.$1=new RegExp('[/\\\\]([^/\\\\]*)$')})();(function(){fF.$2=300000;fF.$0=tab.DateUtil.get_nowAsTime();fF.$3=300000;fF.$1=tab.DateUtil.get_nowAsTime()})();(function(){K._instance=null})();(function(){dk.$0='font'})();(function(){ih.zoneMargin=4;ih.rootZoneID=0;ih.$h='uqP'.toString();ih.$g='YYO'.toString();ih.$f='tLp'.toString();ih.$a='ylS'.toString();ih.$2='lDC'.toString();ih.$e='ylX'.toString();ih.$d='nud'.toString();ih.$7='C$K'.toString();ih.$9='j_S'.toString();ih.$8='cfW'.toString();ih.$c='KmA'.toString();ih.$6='wBL'.toString();ih.$i='_Ss'.toString();ih.$b='WlK'.toString();ih.$3='AEl'.toString();ih.$5='lRq'.toString();ih.$4='XIo'.toString()})();(function(){eV.$4=6;eV.zonesThatDeferContentCreation=['viz','size','shape','color','map','filter','paramctrl','current-page','bitmap','web','flipboard','flipboard-nav','highlighter'];eV.$6=[1,2,3,4,5,6];eV.$7=null;eV.$5=null})();(function(){bJ.$a=135;bJ.$b=false;bJ.$c=false;bJ._instance=null;bJ.$1$12=null;bJ.fireDeferredUrlActions=false})();(function(){ez.visualPartToRegionMap=null;ez.regionToVisualPartMap=null;ez.visualPartToRegionMap={};ez.visualPartToRegionMap['left-axis']='leftaxis';ez.visualPartToRegionMap['right-axis']='rightaxis';ez.visualPartToRegionMap['top-axis']='topaxis';ez.visualPartToRegionMap['bottom-axis']='bottomaxis';ez.visualPartToRegionMap['y-labels']='yheader';ez.visualPartToRegionMap['x-labels']='xheader';ez.regionToVisualPartMap={};ez.regionToVisualPartMap['leftaxis']='left-axis';ez.regionToVisualPartMap['rightaxis']='right-axis';ez.regionToVisualPartMap['topaxis']='top-axis';ez.regionToVisualPartMap['bottomaxis']='bottom-axis';ez.regionToVisualPartMap['yheader']='y-labels';ez.regionToVisualPartMap['xheader']='x-labels'})();(function(){fB.$1={}})();(function(){M.linkTarget=null;M.autoUpdate=true;M.$0=null;M.$1=null;M.$2=0;M.$3=null;M.$1=ss.mkdict(['%25',new RegExp('%','g'),'%3B',new RegExp(';','g'),'%2C',new RegExp(',','g'),'%2E',new RegExp('\\.','g'),'%2F',new RegExp('\\/','g'),'%3F',new RegExp('\\?','g'),'%2B',new RegExp('\\+','g'),'%20',new RegExp(' ','g'),'%5C',new RegExp('\\\\','g')])})();(function(){fu.$l=null;fu.$l={};fu.$l['simple']='select-options-simple';fu.$l['toggle']='select-options-toggle';fu.$l['range']='select-options-range';fu.$l['menu']='select-options-menu'})();(function(){N.$5='date-time';N.$4='all'})();(function(){F.$c=['http:','https:','mailto:','news:','gopher:','tsc:','tsl:'];F.$b=false;F.$a=false})();(function(){hx.$8=['<span style="white-space:pre"><div class="uberSelection"style="text-align:center;"><span>&nbsp;&nbsp;</span>','<span style="font-weight:bold;">','','</span><span> ','','  </span><span>','·','  </span><span>','',' </span><span>','','</span><span>',': ','</span><span style="font-weight:bold;">','','</span><span>&nbsp;&nbsp;','</span></div></span>'];hx.$9=['<div class="uberSelection"style="text-align:center;"><span></span>','<span style="font-weight:bold;"> ','',' </span><span>','','</span><div> ']})();(function(){cB.sheetChangedEventName='SheetChangedEvt';cB.$3='badpassword';cB.$2='badoauthcredentials';cB.$4='NoAssociatedCustomOAuthKey'})();(function(){gm.$6=(tsConfig.is_mobile?4:8);gm.$5=null;gm.$4=null;if(tab.FeatureFlags.isEnabled('StoryPointCache')){ic.get().add_onBootstrapResponse(gm.$0)}})();(function(){dc.presModelCache=null})();(function(){fq.$1=new bG(0,0,0,1)})();(function(){hE.$3$1=null})();(function(){cg.$2$1=null})();(function(){hV.$2$1=null})();(function(){fT.$8=JSON.stringify(true)})();(function(){bn.registerCommandInterceptors()})();(function(){var e=K.get_instance();e.addModel(bD).call(e)})();(function(){fG.$0=0})();(function(){cd.$4='get_customized_views';cd.$6='set_default_customized_view';cd.$3='destroy_customized_view';cd.$5='save_customized_view';cd.$7='update_customized_view';cd.$2=tab.Logger.getLogger(cd)})();(function(){cA.$0=null})();(function(){cT.$0=5000;cT.$1=120;cT.$2=0;if(typeof(tsConfig)==='undefined'){return}var e=tsConfig.clientErrorReportingLevel;if(!ss.isNullOrEmptyString(e)){tab.ErrorTrace.install();cT.$2=window.setInterval(cT.reportFailures,5000)}})();(function(){fo.shapeMapping=null;fo.reverseShapeMapping=null;fo.$1=null;fo.$0=null;fo.lineInterpolationMapping=null;fo.lineMarkerPositionMapping=null;fo.$1={};fo.$1['enable-pan-x']=1;fo.$1['enable-pan-y']=2;fo.$1['enable-zoom-x']=4;fo.$1['enable-zoom-y']=8;fo.$1['enable-scale-x']=16;fo.$1['enable-scale-y']=32;fo.$1['clip-to-cell-x']=64;fo.$1['clip-to-cell-y']=128;fo.$1['clip-to-cell-for-selection']=256;fo.$1['x-axis-on-top']=512;fo.$1['y-axis-on-right']=1024;fo.$1['has-cells-x']=2048;fo.$1['has-cells-y']=4096;fo.$0={};fo.$0['end']=1;fo.$0['endprimitive']=2;fo.$0['closedprimitive']=4;fo.$0['marked']=8;fo.$0['markediflabel']=16;fo.$0['debug']=128;fo.$0['user']=65536;fo.shapeMapping=ss.mkdict(['0','shapeIDCircle','1','shapeIDSquare','2','shapeIDPlus','3','shapeIDTimes','4','shapeIDAsterisk','5','shapeIDDiamond','6','shapeIDTriangle','7','shapeIDDownTriangle','8','shapeIDLeftTriangle','9','shapeIDRightTriangle','4194304','shapeIDFilledCircle','4194305','shapeIDFilledSquare','4194306','shapeIDFilledPlus','4194307','shapeIDFilledTimes','4194308','shapeIDFilledStar','4194309','shapeIDFilledDiamond','4194310','shapeIDFilledTriangle','4194311','shapeIDFilledDownTriangle','4194312','shapeIDFilledLeftTriangle','4194313','shapeIDFilledRightTriangle','-4194304','shapeIDUnscaledFilledCircle']);fo.reverseShapeMapping={};var e=_.keys(fo.shapeMapping);for(var ij=0;ij<e.length;ij++){var ik=e[ij];fo.reverseShapeMapping[fo.shapeMapping[ik]]=ik}fo.lineInterpolationMapping=ss.mkdict(['0','lim-linear','1','lim-step','2','lim-jump']);fo.lineMarkerPositionMapping=ss.mkdict(['0','lmp-left','1','lmp-center','2','lmp-right'])})();(function(){eH.currentPage=4294967295})();(function(){if(tab.FeatureFlags.isEnabled('ReferenceLineNonModal')){var e=K.get_instance();e.addModel(ff).call(e)}})();(function(){fr.blackColor=null;var e=(new bG(0,0,0,1)).toRgba();fr.blackColor={};fr.blackColor['colorOverrideNone']=e;fr.blackColor['colorOverrideFog']=e;fr.blackColor['colorOverrideOpaque']=e})();(function(){hs.$1=new RegExp('^https?://[^/]+(.*)$')})();(function(){var e=K.get_instance();e.addModel(hS).call(e)})()})();;
/*! BEGIN SpiffUI */
/*! iScroll v5.0.6 ~ (c) 2008-2013 Matteo Spinelli ~ http://cubiq.org/license */
var IScroll=function(n,t,i){function u(n,i){this.wrapper=typeof n=="string"?t.querySelector(n):n,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeIndicator:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var u in i)this.options[u]=i[u];this.translateZ=this.options.HWCompositing&&r.hasPerspective?" translateZ(0)":"",this.options.useTransition=r.hasTransition&&this.options.useTransition,this.options.useTransform=r.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY=this.options.eventPassthrough=="vertical"?!1:this.options.scrollY,this.options.scrollX=this.options.eventPassthrough=="horizontal"?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing=typeof this.options.bounceEasing=="string"?r.ease[this.options.bounceEasing]||r.ease.circular:this.options.bounceEasing,this.options.resizePolling=this.options.resizePolling===undefined?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function f(n,i,r){var u=t.createElement("div"),f=t.createElement("div");return r===!0&&(u.style.cssText="position:absolute;z-index:9999",f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),f.className="iScrollIndicator",n=="h"?(r===!0&&(u.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",f.style.height="100%"),u.className="iScrollHorizontalScrollbar"):(r===!0&&(u.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",f.style.width="100%"),u.className="iScrollVerticalScrollbar"),i||(u.style.pointerEvents="none"),u.appendChild(f),u}function e(i,u){this.wrapper=typeof u.el=="string"?t.querySelector(u.el):u.el,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=i,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,speedRatioX:0,speedRatioY:0};for(var f in u)this.options[f]=u[f];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(r.addEvent(this.indicator,"touchstart",this),r.addEvent(n,"touchend",this)),this.options.disablePointer||(n.PointerEvent?(r.addEvent(this.indicator,"pointerdown",this),r.addEvent(n,"pointerup",this)):n.MSPointerEvent&&(r.addEvent(this.indicator,"MSPointerDown",this),r.addEvent(n,"MSPointerUp",this))),this.options.disableMouse||(r.addEvent(this.indicator,"mousedown",this),r.addEvent(n,"mouseup",this)))}var o=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame||function(t){n.setTimeout(t,1e3/60)},r=function(){function u(n){return e===!1?!1:e===""?n:e+n.charAt(0).toUpperCase()+n.substr(1)}var r={},f=t.createElement("div").style,e=function(){for(var t=["t","webkitT","MozT","msT","OT"],i,n=0,r=t.length;n<r;n++)if(i=t[n]+"ransform",i in f)return t[n].substr(0,t[n].length-1);return!1}(),o;return r.getTime=Date.now||function(){return+new Date},r.extend=function(n,t){for(var i in t)n[i]=t[i]},r.addEvent=function(n,t,i,r){n.addEventListener(t,i,!!r)},r.removeEvent=function(n,t,i,r){n.removeEventListener(t,i,!!r)},r.momentum=function(n,t,r,u,f){var s=n-t,o=i.abs(s)/r,e,h,c=.0006;return e=n+o*o/(2*c)*(s<0?-1:1),h=o/c,e<u?(e=f?u-f/2.5*(o/8):u,s=i.abs(e-n),h=s/o):e>0&&(e=f?f/2.5*(o/8):0,s=i.abs(n)+e,h=s/o),{destination:i.round(e),duration:h}},o=u("transform"),r.extend(r,{hasTransform:o!==!1,hasPerspective:u("perspective")in f,hasTouch:"ontouchstart"in n,hasPointer:navigator.msPointerEnabled,hasTransition:u("transition")in f}),r.isAndroidBrowser=/Android/.test(n.navigator.appVersion)&&/Version\/\d/.test(n.navigator.appVersion),r.extend(r.style={},{transform:o,transitionTimingFunction:u("transitionTimingFunction"),transitionDuration:u("transitionDuration"),transformOrigin:u("transformOrigin")}),r.hasClass=function(n,t){var i=new RegExp("(^|\\s)"+t+"(\\s|$)");return i.test(n.className)},r.addClass=function(n,t){if(!r.hasClass(n,t)){var i=n.className.split(" ");i.push(t),n.className=i.join(" ")}},r.removeClass=function(n,t){if(r.hasClass(n,t)){var i=new RegExp("(^|\\s)"+t+"(\\s|$)","g");n.className=n.className.replace(i," ")}},r.offset=function(n){for(var t=-n.offsetLeft,i=-n.offsetTop;n=n.offsetParent;)t-=n.offsetLeft,i-=n.offsetTop;return{left:t,top:i}},r.preventDefaultException=function(n,t){for(var i in t)if(t[i].test(n[i]))return!0;return!1},r.extend(r.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),r.extend(r.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(n){return n*(2-n)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(n){return i.sqrt(1- --n*n)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(n){var t=4;return(n=n-1)*n*((t+1)*n+t)+1}},bounce:{style:"",fn:function(n){return(n/=1)<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}},elastic:{style:"",fn:function(n){var t=.22,r=.4;return n===0?0:n==1?1:r*i.pow(2,-10*n)*i.sin((n-t/4)*2*i.PI/t)+1}}}),r.tap=function(n,i){var r=t.createEvent("Event");r.initEvent(i,!0,!0),r.pageX=n.pageX,r.pageY=n.pageY,n.target.dispatchEvent(r)},r.click=function(n){var i=n.target,r;i.tagName!="SELECT"&&i.tagName!="INPUT"&&i.tagName!="TEXTAREA"&&(r=t.createEvent("MouseEvents"),r.initMouseEvent("click",!0,!0,n.view,1,i.screenX,i.screenY,i.clientX,i.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,0,null),r._constructed=!0,i.dispatchEvent(r))},r}();return u.prototype={version:"5.0.6",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(n){n.target==this.scroller&&(this._transitionTime(0),this.resetPosition(this.options.bounceTime)||this._execEvent("scrollEnd"))},_start:function(n){if((r.eventType[n.type]==1||n.button===0)&&this.enabled&&(!this.initiated||r.eventType[n.type]===this.initiated)){!this.options.preventDefault||r.isAndroidBrowser||r.preventDefaultException(n.target,this.options.preventDefaultException)||n.preventDefault();var u=n.touches?n.touches[0]:n,t;this.initiated=r.eventType[n.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.isAnimating=!1,this.startTime=r.getTime(),this.options.useTransition&&this.isInTransition&&(t=this.getComputedPosition(),this._translate(i.round(t.x),i.round(t.y)),this._execEvent("scrollEnd"),this.isInTransition=!1),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=u.pageX,this.pointY=u.pageY,this._execEvent("beforeScrollStart")}},_move:function(n){if(this.enabled&&r.eventType[n.type]===this.initiated){this.options.preventDefault&&n.preventDefault();var o=n.touches?n.touches[0]:n,t=o.pageX-this.pointX,u=o.pageY-this.pointY,c=r.getTime(),f,e,s,h;if(this.pointX=o.pageX,this.pointY=o.pageY,this.distX+=t,this.distY+=u,s=i.abs(this.distX),h=i.abs(this.distY),!(c-this.endTime>300)||!(s<10)||!(h<10)){if(this.directionLocked||this.options.freeScroll||(this.directionLocked=s>h+this.options.directionLockThreshold?"h":h>=s+this.options.directionLockThreshold?"v":"n"),this.directionLocked=="h"){if(this.options.eventPassthrough=="vertical")n.preventDefault();else if(this.options.eventPassthrough=="horizontal"){this.initiated=!1;return}u=0}else if(this.directionLocked=="v"){if(this.options.eventPassthrough=="horizontal")n.preventDefault();else if(this.options.eventPassthrough=="vertical"){this.initiated=!1;return}t=0}t=this.hasHorizontalScroll?t:0,u=this.hasVerticalScroll?u:0,f=this.x+t,e=this.y+u,(f>0||f<this.maxScrollX)&&(f=this.options.bounce?this.x+t/3:f>0?0:this.maxScrollX),(e>0||e<this.maxScrollY)&&(e=this.options.bounce?this.y+u/3:e>0?0:this.maxScrollY),this.directionX=t>0?-1:t<0?1:0,this.directionY=u>0?-1:u<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(f,e),c-this.startTime>300&&(this.startTime=c,this.startX=this.x,this.startY=this.y)}}},_end:function(n){var f;if(this.enabled&&r.eventType[n.type]===this.initiated){this.options.preventDefault&&!r.preventDefaultException(n.target,this.options.preventDefaultException)&&n.preventDefault();var v=n.changedTouches?n.changedTouches[0]:n,o,s,e=r.getTime()-this.startTime,t=i.round(this.x),u=i.round(this.y),l=i.abs(t-this.startX),a=i.abs(u-this.startY),h=0,c="";if(this.scrollTo(t,u),this.isInTransition=0,this.initiated=0,this.endTime=r.getTime(),!this.resetPosition(this.options.bounceTime)){if(!this.moved){this.options.tap&&r.tap(n,this.options.tap),this.options.click&&r.click(n);return}if(this._events.flick&&e<200&&l<100&&a<100){this._execEvent("flick");return}if(this.options.momentum&&e<300&&(o=this.hasHorizontalScroll?r.momentum(this.x,this.startX,e,this.maxScrollX,this.options.bounce?this.wrapperWidth:0):{destination:t,duration:0},s=this.hasVerticalScroll?r.momentum(this.y,this.startY,e,this.maxScrollY,this.options.bounce?this.wrapperHeight:0):{destination:u,duration:0},t=o.destination,u=s.destination,h=i.max(o.duration,s.duration),this.isInTransition=1),this.options.snap&&(f=this._nearestSnap(t,u),this.currentPage=f,h=this.options.snapSpeed||i.max(i.max(i.min(i.abs(t-f.x),1e3),i.min(i.abs(u-f.y),1e3)),300),t=f.x,u=f.y,this.directionX=0,this.directionY=0,c=this.options.bounceEasing),t!=this.x||u!=this.y){(t>0||t<this.maxScrollX||u>0||u<this.maxScrollY)&&(c=r.ease.quadratic),this.scrollTo(t,u,h,c);return}this._execEvent("scrollEnd")}}},_resize:function(){var n=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){n.refresh()},this.options.resizePolling)},resetPosition:function(n){var t=this.x,i=this.y;return(n=n||0,!this.hasHorizontalScroll||this.x>0?t=0:this.x<this.maxScrollX&&(t=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),t==this.x&&i==this.y)?!1:(this.scrollTo(t,i,n,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){var n=this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=r.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(n,t){this._events[n]||(this._events[n]=[]),this._events[n].push(t)},_execEvent:function(n){if(this._events[n]){var t=0,i=this._events[n].length;if(i)for(;t<i;t++)this._events[n][t].call(this)}},scrollBy:function(n,t,i,r){n=this.x+n,t=this.y+t,i=i||0,this.scrollTo(n,t,i,r)},scrollTo:function(n,t,i,u){u=u||r.ease.circular,!i||this.options.useTransition&&u.style?(this._transitionTimingFunction(u.style),this._transitionTime(i),this._translate(n,t)):this._animate(n,t,i,u.fn)},scrollToElement:function(n,t,u,f,e){if(n=n.nodeType?n:this.scroller.querySelector(n),n){var o=r.offset(n);o.left-=this.wrapperOffset.left,o.top-=this.wrapperOffset.top,u===!0&&(u=i.round(n.offsetWidth/2-this.wrapper.offsetWidth/2)),f===!0&&(f=i.round(n.offsetHeight/2-this.wrapper.offsetHeight/2)),o.left-=u||0,o.top-=f||0,o.left=o.left>0?0:o.left<this.maxScrollX?this.maxScrollX:o.left,o.top=o.top>0?0:o.top<this.maxScrollY?this.maxScrollY:o.top,t=t===undefined||t===null||t==="auto"?i.max(i.abs(this.x-o.left),i.abs(this.y-o.top)):t,this.scrollTo(o.left,o.top,t,e)}},_transitionTime:function(n){if(n=n||0,this.scrollerStyle[r.style.transitionDuration]=n+"ms",this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTime(n)},_transitionTimingFunction:function(n){if(this.scrollerStyle[r.style.transitionTimingFunction]=n,this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTimingFunction(n)},_translate:function(n,t){if(this.options.useTransform?this.scrollerStyle[r.style.transform]="translate("+n+"px,"+t+"px)"+this.translateZ:(n=i.round(n),t=i.round(t),this.scrollerStyle.left=n+"px",this.scrollerStyle.top=t+"px"),this.x=n,this.y=t,this.indicators)for(var u=this.indicators.length;u--;)this.indicators[u].updatePosition()},_initEvents:function(t){var i=t?r.removeEvent:r.addEvent,u=this.options.bindToWrapper?this.wrapper:n;i(n,"orientationchange",this),i(n,"resize",this),this.options.click&&i(this.wrapper,"click",this,!0),this.options.disableMouse||(i(this.wrapper,"mousedown",this),i(u,"mousemove",this),i(u,"mousecancel",this),i(u,"mouseup",this)),r.hasPointer&&!this.options.disablePointer&&(n.PointerEvent?(i(this.wrapper,"pointerdown",this),i(u,"pointermove",this),i(u,"pointercancel",this),i(u,"pointerup",this)):n.MSPointerEvent&&(i(this.wrapper,"MSPointerDown",this),i(u,"MSPointerMove",this),i(u,"MSPointerCancel",this),i(u,"MSPointerUp",this))),r.hasTouch&&!this.options.disableTouch&&(i(this.wrapper,"touchstart",this),i(u,"touchmove",this),i(u,"touchcancel",this),i(u,"touchend",this)),i(this.scroller,"transitionend",this),i(this.scroller,"webkitTransitionEnd",this),i(this.scroller,"oTransitionEnd",this),i(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t=n.getComputedStyle(this.scroller,null),i,u;return this.options.useTransform?(t=t[r.style.transform].split(")")[0].split(", "),i=+(t[12]||t[4]),u=+(t[13]||t[5])):(i=+t.left.replace(/[^-\d]/g,""),u=+t.top.replace(/[^-\d]/g,"")),{x:i,y:u}},_initIndicators:function(){var i=this.options.interactiveScrollbars,o=typeof this.options.scrollbars!="object",u=typeof this.options.scrollbars!="string",n=[],t,r;for(this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(t={el:f("v",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:u,resize:this.options.resizeIndicator,listenX:!1},this.wrapper.appendChild(t.el),n.push(t)),this.options.scrollX&&(t={el:f("h",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:u,resize:this.options.resizeIndicator,listenY:!1},this.wrapper.appendChild(t.el),n.push(t))),this.options.indicators&&(n=n.concat(this.options.indicators)),r=n.length;r--;)this.indicators[r]=new e(this,n[r]);this.on("refresh",function(){if(this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].refresh()});this.on("destroy",function(){if(this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].destroy();delete this.indicators})},_initWheel:function(){r.addEvent(this.wrapper,"mousewheel",this),r.addEvent(this.wrapper,"DOMMouseScroll",this);this.on("destroy",function(){r.removeEvent(this.wrapper,"mousewheel",this),r.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(n){if(this.enabled){n.preventDefault();var f,u,t,r,e=this;if(clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){e._execEvent("scrollEnd")},400),"wheelDeltaX"in n)f=n.wheelDeltaX/120,u=n.wheelDeltaY/120;else if("wheelDelta"in n)f=u=n.wheelDelta/120;else if("detail"in n)f=u=-n.detail/3;else return;if(f*=this.options.mouseWheelSpeed,u*=this.options.mouseWheelSpeed,this.hasVerticalScroll||(f=u,u=0),this.options.snap){t=this.currentPage.pageX,r=this.currentPage.pageY,f>0?t--:f<0&&t++,u>0?r--:u<0&&r++,this.goToPage(t,r);return}t=this.x+i.round(this.hasHorizontalScroll?f*this.options.invertWheelDirection:0),r=this.y+i.round(this.hasVerticalScroll?u*this.options.invertWheelDirection:0),t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),r>0?r=0:r<this.maxScrollY&&(r=this.maxScrollY),this.scrollTo(t,r,0)}},_initSnap:function(){this.currentPage={},typeof this.options.snap=="string"&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap));this.on("refresh",function(){var n=0,f,e=0,h,o,s,r=0,u,c=this.options.snapStepX||this.wrapperWidth,l=this.options.snapStepY||this.wrapperHeight,t;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(o=i.round(c/2),s=i.round(l/2);r>-this.scrollerWidth;){for(this.pages[n]=[],f=0,u=0;u>-this.scrollerHeight;)this.pages[n][f]={x:i.max(r,this.maxScrollX),y:i.max(u,this.maxScrollY),width:c,height:l,cx:r-o,cy:u-s},u-=l,f++;r-=c,n++}else for(t=this.options.snap,f=t.length,h=-1;n<f;n++)(n===0||t[n].offsetLeft<=t[n-1].offsetLeft)&&(e=0,h++),this.pages[e]||(this.pages[e]=[]),r=i.max(-t[n].offsetLeft,this.maxScrollX),u=i.max(-t[n].offsetTop,this.maxScrollY),o=r-i.round(t[n].offsetWidth/2),s=u-i.round(t[n].offsetHeight/2),this.pages[e][h]={x:r,y:u,width:t[n].offsetWidth,height:t[n].offsetHeight,cx:o,cy:s},r>this.maxScrollX&&e++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}});this.on("flick",function(){var n=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.x-this.startX),1e3),i.min(i.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,n)})},_nearestSnap:function(n,t){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var r=0,f=this.pages.length,u=0;if(i.abs(n-this.absStartX)<this.snapThresholdX&&i.abs(t-this.absStartY)<this.snapThresholdY)return this.currentPage;for(n>0?n=0:n<this.maxScrollX&&(n=this.maxScrollX),t>0?t=0:t<this.maxScrollY&&(t=this.maxScrollY);r<f;r++)if(n>=this.pages[r][0].cx){n=this.pages[r][0].x;break}for(f=this.pages[r].length;u<f;u++)if(t>=this.pages[0][u].cy){t=this.pages[0][u].y;break}return r==this.currentPage.pageX&&(r+=this.directionX,r<0?r=0:r>=this.pages.length&&(r=this.pages.length-1),n=this.pages[r][0].x),u==this.currentPage.pageY&&(u+=this.directionY,u<0?u=0:u>=this.pages[0].length&&(u=this.pages[0].length-1),t=this.pages[0][u].y),{x:n,y:t,pageX:r,pageY:u}},goToPage:function(n,t,r,u){u=u||this.options.bounceEasing,n>=this.pages.length?n=this.pages.length-1:n<0&&(n=0),t>=this.pages[n].length?t=this.pages[n].length-1:t<0&&(t=0);var f=this.pages[n][t].x,e=this.pages[n][t].y;r=r===undefined?this.options.snapSpeed||i.max(i.max(i.min(i.abs(f-this.x),1e3),i.min(i.abs(e-this.y),1e3)),300):r,this.currentPage={x:f,y:e,pageX:n,pageY:t},this.scrollTo(f,e,r,u)},next:function(n,t){var i=this.currentPage.pageX,r=this.currentPage.pageY;i++,i>=this.pages.length&&this.hasVerticalScroll&&(i=0,r++),this.goToPage(i,r,n,t)},prev:function(n,t){var i=this.currentPage.pageX,r=this.currentPage.pageY;i--,i<0&&this.hasVerticalScroll&&(i=0,r--),this.goToPage(i,r,n,t)},_initKeys:function(){var u={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40},i;if(typeof this.options.keyBindings=="object")for(i in this.options.keyBindings)typeof this.options.keyBindings[i]=="string"&&(this.options.keyBindings[i]=this.options.keyBindings[i].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(i in u)this.options.keyBindings[i]=this.options.keyBindings[i]||u[i];r.addEvent(n,"keydown",this);this.on("destroy",function(){r.removeEvent(n,"keydown",this)})},_key:function(n){if(this.enabled){var t=this.options.snap,u=t?this.currentPage.pageX:this.x,f=t?this.currentPage.pageY:this.y,o=r.getTime(),s=this.keyTime||0,h=.25,e;this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(i.round(e.x),i.round(e.y)),this.isInTransition=!1),this.keyAcceleration=o-s<200?i.min(this.keyAcceleration+h,50):0;switch(n.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?u+=t?1:this.wrapperWidth:f+=t?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?u-=t?1:this.wrapperWidth:f-=t?1:this.wrapperHeight;break;case this.options.keyBindings.end:u=t?this.pages.length-1:this.maxScrollX,f=t?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:u=0,f=0;break;case this.options.keyBindings.left:u+=t?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:f+=t?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:u-=t?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:f-=t?1:5+this.keyAcceleration>>0;break;default:return}if(t){this.goToPage(u,f);return}u>0?(u=0,this.keyAcceleration=0):u<this.maxScrollX&&(u=this.maxScrollX,this.keyAcceleration=0),f>0?(f=0,this.keyAcceleration=0):f<this.maxScrollY&&(f=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(u,f,0),this.keyTime=o}},_animate:function(n,t,i,u){function c(){var a=r.getTime(),y,p,v;if(a>=l){f.isAnimating=!1,f._translate(n,t),f.resetPosition(f.options.bounceTime)||f._execEvent("scrollEnd");return}a=(a-h)/i,v=u(a),y=(n-e)*v+e,p=(t-s)*v+s,f._translate(y,p),f.isAnimating&&o(c)}var f=this,e=this.x,s=this.y,h=r.getTime(),l=h+i;this.isAnimating=!0,c()},handleEvent:function(n){if(n.type!="MSPointerDown"&&n.type!="MSPointerMove"&&n.type!="MSPointerCancel"&&n.type!="MSPointerUp"&&n.type!="pointerdown"&&n.type!="pointermove"&&n.type!="pointercancel"&&n.type!="pointerup"||n.pointerType!="mouse"&&n.pointerType!=4)switch(n.type){case"touchstart":case"MSPointerDown":case"pointerdown":case"mousedown":this._start(n);break;case"touchmove":case"MSPointerMove":case"pointermove":case"mousemove":this._move(n);break;case"touchend":case"MSPointerUp":case"pointerup":case"mouseup":case"touchcancel":case"MSPointerCancel":case"pointercancel":case"mousecancel":this._end(n);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(n);break;case"DOMMouseScroll":case"mousewheel":this._wheel(n);break;case"keydown":this._key(n);break;case"click":n._constructed||(n.preventDefault(),n.stopPropagation())}}},e.prototype={handleEvent:function(n){switch(n.type){case"touchstart":case"MSPointerDown":case"pointerdown":case"mousedown":this._start(n);break;case"touchmove":case"MSPointerMove":case"pointermove":case"mousemove":this._move(n);break;case"touchend":case"MSPointerUp":case"pointerup":case"mouseup":case"touchcancel":case"MSPointerCancel":case"pointercancel":case"mousecancel":this._end(n)}},destroy:function(){this.options.interactive&&(r.removeEvent(this.indicator,"touchstart",this),r.removeEvent(this.indicator,"MSPointerDown",this),r.removeEvent(this.indicator,"pointerdown",this),r.removeEvent(this.indicator,"mousedown",this),r.removeEvent(n,"touchmove",this),r.removeEvent(n,"MSPointerMove",this),r.removeEvent(n,"pointermove",this),r.removeEvent(n,"mousemove",this),r.removeEvent(n,"touchend",this),r.removeEvent(n,"MSPointerUp",this),r.removeEvent(n,"pointerup",this),r.removeEvent(n,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(t){var i=t.touches?t.touches[0]:t;t.preventDefault(),t.stopPropagation(),this.transitionTime(0),this.initiated=!0,this.moved=!1,this.lastPointX=i.pageX,this.lastPointY=i.pageY,this.startTime=r.getTime(),this.options.disableTouch||r.addEvent(n,"touchmove",this),this.options.disablePointer||(n.PointerEvent?r.addEvent(n,"pointermove",this):n.MSPointerEvent&&r.addEvent(n,"MSPointerMove",this)),this.options.disableMouse||r.addEvent(n,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(n){var t=n.touches?n.touches[0]:n,i,u,f,e,o=r.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,i=t.pageX-this.lastPointX,this.lastPointX=t.pageX,u=t.pageY-this.lastPointY,this.lastPointY=t.pageY,f=this.x+i,e=this.y+u,this._pos(f,e),n.preventDefault(),n.stopPropagation()},_end:function(t){if(this.initiated){if(this.initiated=!1,t.preventDefault(),t.stopPropagation(),r.removeEvent(n,"touchmove",this),r.removeEvent(n,"MSPointerMove",this),r.removeEvent(n,"pointermove",this),r.removeEvent(n,"mousemove",this),this.scroller.options.snap){var u=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),f=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.scroller.x-u.x),1e3),i.min(i.abs(this.scroller.y-u.y),1e3)),300);(this.scroller.x!=u.x||this.scroller.y!=u.y)&&(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=u,this.scroller.scrollTo(u.x,u.y,f,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(n){n=n||0,this.indicatorStyle[r.style.transitionDuration]=n+"ms"},transitionTimingFunction:function(n){this.indicatorStyle[r.style.transitionTimingFunction]=n},refresh:function(){this.transitionTime(0),this.indicatorStyle.display=this.options.listenX&&!this.options.listenY?this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.scroller.hasVerticalScroll?"block":"none":this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(r.addClass(this.wrapper,"iScrollBothScrollbars"),r.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(r.removeClass(this.wrapper,"iScrollBothScrollbars"),r.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));var n=this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=i.max(i.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=i.max(i.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var n=i.round(this.sizeRatioX*this.scroller.x)||0,t=i.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(n<0?n=0:n>this.maxPosX&&(n=this.maxPosX),t<0?t=0:t>this.maxPosY&&(t=this.maxPosY)),this.x=n,this.y=t,this.scroller.options.useTransform?this.indicatorStyle[r.style.transform]="translate("+n+"px,"+t+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=n+"px",this.indicatorStyle.top=t+"px")},_pos:function(n,t){n<0?n=0:n>this.maxPosX&&(n=this.maxPosX),t<0?t=0:t>this.maxPosY&&(t=this.maxPosY),n=this.options.listenX?i.round(n/this.sizeRatioX):this.scroller.x,t=this.options.listenY?i.round(t/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(n,t)}},u.ease=r.ease,u}(window,document,Math);Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});Array.prototype.every||(Array.prototype.every=function(a,d){var c,e;if(null==this)throw new TypeError("this is null or not defined");var b=Object(this),f=b.length>>>0;if("function"!==typeof a)throw new TypeError;1<arguments.length&&(c=d);for(e=0;e<f;){var g;if(e in b&&(g=b[e],!a.call(c,g,e,b)))return!1;e++}return!0});Array.prototype.indexOf||(Array.prototype.indexOf=function(a,d){var c;if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),b=e.length>>>0;if(0===b)return-1;c=+d||0;Infinity===Math.abs(c)&&(c=0);if(c>=b)return-1;for(c=Math.max(0<=c?c:b-Math.abs(c),0);c<b;){if(c in e&&e[c]===a)return c;c++}return-1});Array.prototype.map||(Array.prototype.map=function(a,d){var c,e,b;if(null==this)throw new TypeError(" this is null or not defined");var f=Object(this),g=f.length>>>0;if("function"!==typeof a)throw new TypeError(a+" is not a function");1<arguments.length&&(c=d);e=Array(g);for(b=0;b<g;){var m;b in f&&(m=f[b],m=a.call(c,m,b,f),e[b]=m);b++}return e});Date.now||(Date.now=function(){return(new Date).getTime()});(function(){var a=Array.prototype.slice,d=Function.prototype;d.bind||(d.bind=function(c){function d(){return b.apply(!(b.prototype&&this instanceof b)&&c||this,f.concat(a.call(arguments)))}var b=this,f=a.call(arguments,1);d.prototype=b.prototype;return d})})();Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,d=!{toString:null}.propertyIsEnumerable("toString"),c="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),e=c.length;return function(b){if("object"!==typeof b&&("function"!==typeof b||null===b))throw new TypeError("Object.keys called on non-object");var f=[],g;for(g in b)a.call(b,g)&&f.push(g);if(d)for(g=0;g<e;g++)a.call(b,c[g])&&f.push(c[g]);return f}}());var StringPrototype=String.prototype,string_split=StringPrototype.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||1<".".split(/()()/).length?function(){var a=Object.prototype.toString,d="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,c,e=RegExp.prototype.exec;c=function(b){if("object"!==typeof b)return!1;var c;if(d)try{e.call(b),c=!0}catch(m){c=!1}else c="[object RegExp]"===a.call(b);return c};var b="undefined"===typeof/()??/.exec("")[1];StringPrototype.split=function(a,d){var e=this;if("undefined"===typeof a&&0===d)return[];if(!c(a))return string_split.call(this,a,d);var k=[],n=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.extended?"x":"")+(a.sticky?"y":""),p=0,r,h,t,l=new RegExp(a.source,n+"g"),e=e+"";b||(r=new RegExp("^"+l.source+"$(?!\\s)",n));var q="undefined"===typeof d?4294967295:ES.ToUint32(d);for(h=l.exec(e);h;){n=h.index+h[0].length;if(n>p&&(k.push(e.slice(p,h.index)),!b&&1<h.length&&h[0].replace(r,function(){for(var a=1;a<arguments.length-2;a++)"undefined"===typeof arguments[a]&&(h[a]=void 0)}),1<h.length&&h.index<e.length&&array_push.apply(k,h.slice(1)),t=h[0].length,p=n,k.length>=q))break;l.lastIndex===h.index&&l.lastIndex++;h=l.exec(e)}p===e.length?!t&&l.test("")||k.push(""):k.push(e.slice(p));return k.length>q?k.slice(0,q):k}}():"0".split(void 0,0).length&&(StringPrototype.split=function(a,d){return"undefined"===typeof a&&0===d?[]:string_split.call(this,a,d)});String.prototype.trim||function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}}();"function"!=typeof Object.create&&(Object.create=function(){function a(){}var d=Object.prototype.hasOwnProperty;return function(c){if("object"!=typeof c)throw TypeError("Object prototype may only be an Object or null");a.prototype=c;var e=new a;a.prototype=null;if(1<arguments.length){var b=Object(arguments[1]),f;for(f in b)d.call(b,f)&&(e[f]=b[f])}return e}}());Object.freeze||(Object.freeze=function(a){if(Object(a)!==a)throw new TypeError("Object.freeze can only be called on Objects.");return a});try{Object.freeze(function(){})}catch(exception$$1){Object.freeze=function(a){return function(d){return"function"===typeof d?d:a(d)}}(Object.freeze)}(function(a){a.console=a.console||{};a=a.console;for(var d,c={},e=function(){},b=["memory"],f="assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profiles profileEnd show table time timeEnd timeline timelineEnd timeStamp trace warn".split(" ");d=b.pop();)a[d]||(a[d]=c);for(;d=f.pop();)a[d]||(a[d]=e)})("undefined"===typeof window?this:window);var React=function(){var e=function(){"use strict";var e={current:null};return e}(),t=function(){"use strict";var e=!("undefined"==typeof window||!window.document||!window.document.createElement),t={canUseDOM:e,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:e&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:e&&!!window.screen,isInWorker:!e};return t}(),n=function(){"use strict";var e=function(e,t,n,r,o,i,a,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,a,u],c=0;s=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return l[c++]}))}throw s.framesToPop=1,s}};return e}(),r=function(){"use strict";function e(e){var n=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?t(!1):void 0,"number"!=typeof n?t(!1):void 0,0===n||n-1 in e?void 0:t(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(r){}for(var o=Array(n),i=0;n>i;i++)o[i]=e[i];return o}var t=n;return e}(),o=function(){"use strict";function e(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function t(t){return e(t)?Array.isArray(t)?t.slice():n(t):[t]}var n=r;return t}(),i=function(){"use strict";function e(e){return i?void 0:o(!1),p.hasOwnProperty(e)||(e="*"),a.hasOwnProperty(e)||("*"===e?i.innerHTML="<link />":i.innerHTML="<"+e+"></"+e+">",a[e]=!i.firstChild),a[e]?p[e]:null}var r=t,o=n,i=r.canUseDOM?document.createElement("div"):null,a={},u=[1,'<select multiple="true">',"</select>"],s=[1,"<table>","</table>"],l=[3,"<table><tbody><tr>","</tr></tbody></table>"],c=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],p={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:u,option:u,caption:s,colgroup:s,tbody:s,tfoot:s,thead:s,td:l,th:l},d=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];return d.forEach(function(e){p[e]=c,a[e]=!0}),e}(),a=function(){"use strict";function e(e){var t=e.match(p);return t&&t[1].toLowerCase()}function r(t,n){var r=c;c?void 0:l(!1);var o=e(t),i=o&&s(o);if(i){r.innerHTML=i[1]+t+i[2];for(var a=i[0];a--;)r=r.lastChild}else r.innerHTML=t;var p=r.getElementsByTagName("script");p.length&&(n?void 0:l(!1),u(p).forEach(n));for(var d=u(r.childNodes);r.lastChild;)r.removeChild(r.lastChild);return d}var a=t,u=o,s=i,l=n,c=a.canUseDOM?document.createElement("div"):null,p=/^\s*<(\w+)/;return r}(),u=function(){"use strict";function e(e){return function(){return e}}function t(){}return t.thatReturns=e,t.thatReturnsFalse=e(!1),t.thatReturnsTrue=e(!0),t.thatReturnsNull=e(null),t.thatReturnsThis=function(){return this},t.thatReturnsArgument=function(e){return e},t}(),s=function(){"use strict";function e(e){return e.substring(1,e.indexOf(" "))}var r=t,o=a,s=u,l=i,c=n,p=/^(<[^ \/>]+)/,d="data-danger-index",f={dangerouslyRenderMarkup:function(t){r.canUseDOM?void 0:c(!1);for(var n,i={},a=0;a<t.length;a++)t[a]?void 0:c(!1),n=e(t[a]),n=l(n)?n:"*",i[n]=i[n]||[],i[n][a]=t[a];var u=[],f=0;for(n in i)if(i.hasOwnProperty(n)){var h,m=i[n];for(h in m)if(m.hasOwnProperty(h)){var v=m[h];m[h]=v.replace(p,"$1 "+d+'="'+h+'" ')}for(var g=o(m.join(""),s),y=0;y<g.length;++y){var C=g[y];C.hasAttribute&&C.hasAttribute(d)&&(h=+C.getAttribute(d),C.removeAttribute(d),u.hasOwnProperty(h)?c(!1):void 0,u[h]=C,f+=1)}}return f!==u.length?c(!1):void 0,u.length!==t.length?c(!1):void 0,u},dangerouslyReplaceNodeWithMarkup:function(e,t){r.canUseDOM?void 0:c(!1),t?void 0:c(!1),"html"===e.tagName.toLowerCase()?c(!1):void 0;var n;n="string"==typeof t?o(t,s)[0]:t,e.parentNode.replaceChild(n,e)}};return f}(),l=function(){"use strict";var e=n,t=function(t){var n,r={};t instanceof Object&&!Array.isArray(t)?void 0:e(!1);for(n in t)t.hasOwnProperty(n)&&(r[n]=n);return r};return t}(),c=function(){"use strict";var e=l,t=e({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});return t}(),p=function(){"use strict";function e(e,t,n){return n}var t={enableMeasure:!1,storedMeasure:e,measureMethods:function(e,t,n){},measure:function(e,t,n){return n},injection:{injectMeasure:function(e){t.storedMeasure=e}}};return t}(),d=function(){"use strict";var e=t,n=/^[ \r\n\t\f]/,r=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,o=function(e,t){e.innerHTML=t};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(o=function(e,t){MSApp.execUnsafeLocalFunction(function(){e.innerHTML=t})}),e.canUseDOM){var i=document.createElement("div");i.innerHTML=" ",""===i.innerHTML&&(o=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),n.test(t)||"<"===t[0]&&r.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var o=e.firstChild;1===o.data.length?e.removeChild(o):o.deleteData(0,1)}else e.innerHTML=t})}return o}(),f=function(){"use strict";function e(e){return n[e]}function t(t){return(""+t).replace(r,e)}var n={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},r=/[&><"']/g;return t}(),h=function(){"use strict";var e=t,n=f,r=d,o=function(e,t){e.textContent=t};return e.canUseDOM&&("textContent"in document.documentElement||(o=function(e,t){r(e,n(t))})),o}(),m=function(){"use strict";function e(e,t,n){var r=n>=e.childNodes.length?null:e.childNodes.item(n);e.insertBefore(t,r)}var t=s,r=c,o=p,i=d,a=h,u=n,l={dangerouslyReplaceNodeWithMarkup:t.dangerouslyReplaceNodeWithMarkup,updateTextContent:a,processUpdates:function(n,o){for(var s,l=null,c=null,p=0;p<n.length;p++)if(s=n[p],s.type===r.MOVE_EXISTING||s.type===r.REMOVE_NODE){var d=s.fromIndex,f=s.parentNode.childNodes[d],h=s.parentID;f?void 0:u(!1),l=l||{},l[h]=l[h]||[],l[h][d]=f,c=c||[],c.push(f)}var m;if(m=o.length&&"string"==typeof o[0]?t.dangerouslyRenderMarkup(o):o,c)for(var v=0;v<c.length;v++)c[v].parentNode.removeChild(c[v]);for(var g=0;g<n.length;g++)switch(s=n[g],s.type){case r.INSERT_MARKUP:e(s.parentNode,m[s.markupIndex],s.toIndex);break;case r.MOVE_EXISTING:e(s.parentNode,l[s.parentID][s.fromIndex],s.toIndex);break;case r.SET_MARKUP:i(s.parentNode,s.content);break;case r.TEXT_CONTENT:a(s.parentNode,s.content);break;case r.REMOVE_NODE:}}};return o.measureMethods(l,"DOMChildrenOperations",{updateTextContent:"updateTextContent"}),l}(),v=function(){"use strict";function e(e,t){return(e&t)===t}var t=n,r={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(n){var o=r,a=n.Properties||{},u=n.DOMAttributeNamespaces||{},s=n.DOMAttributeNames||{},l=n.DOMPropertyNames||{},c=n.DOMMutationMethods||{};n.isCustomAttribute&&i._isCustomAttributeFunctions.push(n.isCustomAttribute);for(var p in a){i.properties.hasOwnProperty(p)?t(!1):void 0;var d=p.toLowerCase(),f=a[p],h={attributeName:d,attributeNamespace:null,propertyName:p,mutationMethod:null,mustUseAttribute:e(f,o.MUST_USE_ATTRIBUTE),mustUseProperty:e(f,o.MUST_USE_PROPERTY),hasSideEffects:e(f,o.HAS_SIDE_EFFECTS),hasBooleanValue:e(f,o.HAS_BOOLEAN_VALUE),hasNumericValue:e(f,o.HAS_NUMERIC_VALUE),hasPositiveNumericValue:e(f,o.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:e(f,o.HAS_OVERLOADED_BOOLEAN_VALUE)};if(h.mustUseAttribute&&h.mustUseProperty?t(!1):void 0,!h.mustUseProperty&&h.hasSideEffects?t(!1):void 0,h.hasBooleanValue+h.hasNumericValue+h.hasOverloadedBooleanValue<=1?void 0:t(!1),s.hasOwnProperty(p)){var m=s[p];h.attributeName=m}u.hasOwnProperty(p)&&(h.attributeNamespace=u[p]),l.hasOwnProperty(p)&&(h.propertyName=l[p]),c.hasOwnProperty(p)&&(h.mutationMethod=c[p]),i.properties[p]=h}}},o={},i={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<i._isCustomAttributeFunctions.length;t++){var n=i._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},getDefaultValueForProperty:function(e,t){var n,r=o[e];return r||(o[e]=r={}),t in r||(n=document.createElement(e),r[t]=n[t]),r[t]},injection:r};return i}(),g=function(){"use strict";function e(e){return'"'+t(e)+'"'}var t=f;return e}(),y=(function(){"use strict";var e=u,t=e;return t}(),function(){"use strict";function e(e){return u.hasOwnProperty(e)?!0:a.hasOwnProperty(e)?!1:i.test(e)?(u[e]=!0,!0):(a[e]=!0,!1)}function t(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&1>t||e.hasOverloadedBooleanValue&&t===!1}var n=v,r=p,o=g,i=/^[a-zA-Z_][\w\.\-]*$/,a={},u={},s={createMarkupForID:function(e){return n.ID_ATTRIBUTE_NAME+"="+o(e)},setAttributeForID:function(e,t){e.setAttribute(n.ID_ATTRIBUTE_NAME,t)},createMarkupForProperty:function(e,r){var i=n.properties.hasOwnProperty(e)?n.properties[e]:null;if(i){if(t(i,r))return"";var a=i.attributeName;return i.hasBooleanValue||i.hasOverloadedBooleanValue&&r===!0?a+'=""':a+"="+o(r)}return n.isCustomAttribute(e)?null==r?"":e+"="+o(r):null},createMarkupForCustomAttribute:function(t,n){return e(t)&&null!=n?t+"="+o(n):""},setValueForProperty:function(e,r,o){var i=n.properties.hasOwnProperty(r)?n.properties[r]:null;if(i){var a=i.mutationMethod;if(a)a(e,o);else if(t(i,o))this.deleteValueForProperty(e,r);else if(i.mustUseAttribute){var u=i.attributeName,l=i.attributeNamespace;l?e.setAttributeNS(l,u,""+o):i.hasBooleanValue||i.hasOverloadedBooleanValue&&o===!0?e.setAttribute(u,""):e.setAttribute(u,""+o)}else{var c=i.propertyName;i.hasSideEffects&&""+e[c]==""+o||(e[c]=o)}}else n.isCustomAttribute(r)&&s.setValueForAttribute(e,r,o)},setValueForAttribute:function(t,n,r){e(n)&&(null==r?t.removeAttribute(n):t.setAttribute(n,""+r))},deleteValueForProperty:function(e,t){var r=n.properties.hasOwnProperty(t)?n.properties[t]:null;if(r){var o=r.mutationMethod;if(o)o(e,void 0);else if(r.mustUseAttribute)e.removeAttribute(r.attributeName);else{var i=r.propertyName,a=n.getDefaultValueForProperty(e.nodeName,i);r.hasSideEffects&&""+e[i]===a||(e[i]=a)}}else n.isCustomAttribute(t)&&e.removeAttribute(t)}};return r.measureMethods(s,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),s}()),C=function(){"use strict";var e=l,t=e({bubbled:null,captured:null}),n=e({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),r={topLevelTypes:n,PropagationPhases:t};return r}(),E=function(){"use strict";function e(){if(i)for(var e in a){var n=a[e],r=i.indexOf(e);if(r>-1?void 0:o(!1),!u.plugins[r]){n.extractEvents?void 0:o(!1),u.plugins[r]=n;var s=n.eventTypes;for(var l in s)t(s[l],n,l)?void 0:o(!1)}}}function t(e,t,n){u.eventNameDispatchConfigs.hasOwnProperty(n)?o(!1):void 0,u.eventNameDispatchConfigs[n]=e;var i=e.phasedRegistrationNames;if(i){for(var a in i)if(i.hasOwnProperty(a)){var s=i[a];r(s,t,n)}return!0}return e.registrationName?(r(e.registrationName,t,n),!0):!1}function r(e,t,n){u.registrationNameModules[e]?o(!1):void 0,u.registrationNameModules[e]=t,u.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var o=n,i=null,a={},u={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(t){i?o(!1):void 0,i=Array.prototype.slice.call(t),e()},injectEventPluginsByName:function(t){var n=!1;for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];a.hasOwnProperty(r)&&a[r]===i||(a[r]?o(!1):void 0,a[r]=i,n=!0)}n&&e()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return u.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var r=u.registrationNameModules[t.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){i=null;for(var e in a)a.hasOwnProperty(e)&&delete a[e];u.plugins.length=0;var t=u.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=u.registrationNameModules;for(var o in r)r.hasOwnProperty(o)&&delete r[o]}};return u}(),_=function(){"use strict";function e(e,n,r,o){try{return n(r,o)}catch(i){return void(null===t&&(t=i))}}var t=null,n={invokeGuardedCallback:e,invokeGuardedCallbackWithCatch:e,rethrowCaughtError:function(){if(t){var e=t;throw t=null,e}}};return n}(),b=function(){"use strict";function e(e){return e===h.topMouseUp||e===h.topTouchEnd||e===h.topTouchCancel}function t(e){return e===h.topMouseMove||e===h.topTouchMove}function r(e){return e===h.topMouseDown||e===h.topTouchStart}function o(e,t,n,r){var o=e.type||"unknown-event";e.currentTarget=f.Mount.getNode(r),t?p.invokeGuardedCallbackWithCatch(o,n,e,r):p.invokeGuardedCallback(o,n,e,r),e.currentTarget=null}function i(e,t){var n=e._dispatchListeners,r=e._dispatchIDs;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)o(e,t,n[i],r[i]);else n&&o(e,t,n,r);e._dispatchListeners=null,e._dispatchIDs=null}function a(e){var t=e._dispatchListeners,n=e._dispatchIDs;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function u(e){var t=a(e);return e._dispatchIDs=null,e._dispatchListeners=null,t}function s(e){var t=e._dispatchListeners,n=e._dispatchIDs;Array.isArray(t)?d(!1):void 0;var r=t?t(e,n):null;return e._dispatchListeners=null,e._dispatchIDs=null,r}function l(e){return!!e._dispatchListeners}var c=C,p=_,d=n,f={Mount:null,injectMount:function(e){f.Mount=e}},h=c.topLevelTypes,m={isEndish:e,isMoveish:t,isStartish:r,executeDirectDispatch:s,executeDispatchesInOrder:i,executeDispatchesInOrderStopAtTrue:u,hasDispatches:l,getNode:function(e){return f.Mount.getNode(e)},getID:function(e){return f.Mount.getID(e)},injection:f};return m}(),D=function(){"use strict";function e(e,n){if(null==n?t(!1):void 0,null==e)return n;var r=Array.isArray(e),o=Array.isArray(n);return r&&o?(e.push.apply(e,n),e):r?(e.push(n),e):o?[e].concat(n):[e,n]}var t=n;return e}(),T=function(){"use strict";var e=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)};return e}(),M=function(){"use strict";var e=E,t=b,r=_,o=D,i=T,a=n,u={},s=null,l=function(e,n){e&&(t.executeDispatchesInOrder(e,n),e.isPersistent()||e.constructor.release(e))},c=function(e){return l(e,!0)},p=function(e){return l(e,!1)},d=null,f={injection:{injectMount:t.injection.injectMount,injectInstanceHandle:function(e){d=e},getInstanceHandle:function(){return d},injectEventPluginOrder:e.injectEventPluginOrder,injectEventPluginsByName:e.injectEventPluginsByName},eventNameDispatchConfigs:e.eventNameDispatchConfigs,registrationNameModules:e.registrationNameModules,putListener:function(t,n,r){"function"!=typeof r?a(!1):void 0;var o=u[n]||(u[n]={});o[t]=r;var i=e.registrationNameModules[n];i&&i.didPutListener&&i.didPutListener(t,n,r)},getListener:function(e,t){var n=u[t];return n&&n[e]},deleteListener:function(t,n){var r=e.registrationNameModules[n];r&&r.willDeleteListener&&r.willDeleteListener(t,n);var o=u[n];o&&delete o[t]},deleteAllListeners:function(t){for(var n in u)if(u[n][t]){var r=e.registrationNameModules[n];r&&r.willDeleteListener&&r.willDeleteListener(t,n),delete u[n][t]}},extractEvents:function(t,n,r,i,a){for(var u,s=e.plugins,l=0;l<s.length;l++){var c=s[l];if(c){var p=c.extractEvents(t,n,r,i,a);p&&(u=o(u,p))}}return u},enqueueEvents:function(e){e&&(s=o(s,e))},processEventQueue:function(e){var t=s;s=null,e?i(t,c):i(t,p),s?a(!1):void 0,r.rethrowCaughtError()},__purge:function(){u={}},__getListenerBank:function(){return u}};return f}(),P=function(){"use strict";function e(e){t.enqueueEvents(e),t.processEventQueue(!1)}var t=M,n={handleTopLevel:function(n,r,o,i,a){var u=t.extractEvents(n,r,o,i,a);e(u)}};return n}(),N=function(){"use strict";var e={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(t){e.currentScrollLeft=t.x,e.currentScrollTop=t.y}};return e}(),w=function(){"use strict";function e(e,t){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var n=Object(e),r=Object.prototype.hasOwnProperty,o=1;o<arguments.length;o++){var i=arguments[o];if(null!=i){var a=Object(i);for(var u in a)r.call(a,u)&&(n[u]=a[u])}}return n}return e}(),R=function(){"use strict";function e(e,t){if(!r.canUseDOM||t&&!("addEventListener"in document))return!1;var o="on"+e,i=o in document;if(!i){var a=document.createElement("div");a.setAttribute(o,"return;"),i="function"==typeof a[o]}return!i&&n&&"wheel"===e&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}var n,r=t;return r.canUseDOM&&(n=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),e}(),S=function(){"use strict";function e(e){return Object.prototype.hasOwnProperty.call(e,h)||(e[h]=d++,l[e[h]]={}),l[e[h]]}var t=C,n=M,r=E,o=P,i=p,a=N,u=w,s=R,l={},c=!1,d=0,f={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},h="_reactListenersID"+String(Math.random()).slice(2),m=u({},o,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(m.handleTopLevel),m.ReactEventListener=e}},setEnabled:function(e){m.ReactEventListener&&m.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!m.ReactEventListener||!m.ReactEventListener.isEnabled())},listenTo:function(n,o){for(var i=o,a=e(i),u=r.registrationNameDependencies[n],l=t.topLevelTypes,c=0;c<u.length;c++){var p=u[c];a.hasOwnProperty(p)&&a[p]||(p===l.topWheel?s("wheel")?m.ReactEventListener.trapBubbledEvent(l.topWheel,"wheel",i):s("mousewheel")?m.ReactEventListener.trapBubbledEvent(l.topWheel,"mousewheel",i):m.ReactEventListener.trapBubbledEvent(l.topWheel,"DOMMouseScroll",i):p===l.topScroll?s("scroll",!0)?m.ReactEventListener.trapCapturedEvent(l.topScroll,"scroll",i):m.ReactEventListener.trapBubbledEvent(l.topScroll,"scroll",m.ReactEventListener.WINDOW_HANDLE):p===l.topFocus||p===l.topBlur?(s("focus",!0)?(m.ReactEventListener.trapCapturedEvent(l.topFocus,"focus",i),m.ReactEventListener.trapCapturedEvent(l.topBlur,"blur",i)):s("focusin")&&(m.ReactEventListener.trapBubbledEvent(l.topFocus,"focusin",i),m.ReactEventListener.trapBubbledEvent(l.topBlur,"focusout",i)),a[l.topBlur]=!0,a[l.topFocus]=!0):f.hasOwnProperty(p)&&m.ReactEventListener.trapBubbledEvent(p,f[p],i),a[p]=!0)}},trapBubbledEvent:function(e,t,n){return m.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return m.ReactEventListener.trapCapturedEvent(e,t,n)},ensureScrollValueMonitoring:function(){if(!c){var e=a.refreshScrollValues;m.ReactEventListener.monitorScrollValue(e),c=!0}},eventNameDispatchConfigs:n.eventNameDispatchConfigs,registrationNameModules:n.registrationNameModules,putListener:n.putListener,getListener:n.getListener,deleteListener:n.deleteListener,deleteAllListeners:n.deleteAllListeners});return i.measureMethods(m,"ReactBrowserEventEmitter",{putListener:"putListener",deleteListener:"deleteListener"}),m}(),I=function(){"use strict";var e={useCreateElement:!1};return e}(),O=function(){"use strict";var e=!1;return e}(),k=function(){"use strict";var t=e,n=w,r="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103,o={key:!0,ref:!0,__self:!0,__source:!0},i=function(e,t,n,o,i,a,u){var s={$$typeof:r,type:e,key:t,ref:n,props:u,_owner:a};return s};return i.createElement=function(e,n,r){var a,u={},s=null,l=null,c=null,p=null;if(null!=n){l=void 0===n.ref?null:n.ref,s=void 0===n.key?null:""+n.key,c=void 0===n.__self?null:n.__self,p=void 0===n.__source?null:n.__source;for(a in n)n.hasOwnProperty(a)&&!o.hasOwnProperty(a)&&(u[a]=n[a])}var d=arguments.length-2;if(1===d)u.children=r;else if(d>1){for(var f=Array(d),h=0;d>h;h++)f[h]=arguments[h+2];u.children=f}if(e&&e.defaultProps){var m=e.defaultProps;for(a in m)"undefined"==typeof u[a]&&(u[a]=m[a])}return i(e,s,l,c,p,t.current,u)},i.createFactory=function(e){var t=i.createElement.bind(null,e);return t.type=e,t},i.cloneAndReplaceKey=function(e,t){var n=i(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n},i.cloneAndReplaceProps=function(e,t){var n=i(e.type,e.key,e.ref,e._self,e._source,e._owner,t);return n},i.cloneElement=function(e,r,a){var u,s=n({},e.props),l=e.key,c=e.ref,p=e._self,d=e._source,f=e._owner;if(null!=r){void 0!==r.ref&&(c=r.ref,f=t.current),void 0!==r.key&&(l=""+r.key);for(u in r)r.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(s[u]=r[u])}var h=arguments.length-2;if(1===h)s.children=a;else if(h>1){for(var m=Array(h),v=0;h>v;v++)m[v]=arguments[v+2];s.children=m}return i(e.type,l,c,p,d,f,s)},i.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},i}(),x=function(){"use strict";function e(e){return!!r[e]}function t(e){r[e]=!0}function n(e){delete r[e]}var r={},o={isNullComponentID:e,registerNullComponentID:t,deregisterNullComponentID:n};return o}(),A=function(){"use strict";var e={injectCreateReactRootIndex:function(e){t.createReactRootIndex=e}},t={createReactRootIndex:null,injection:e};return t}(),L=function(){"use strict";function e(e){return p+e.toString(36)}function t(e,t){return e.charAt(t)===p||t===e.length}function r(e){return""===e||e.charAt(0)===p&&e.charAt(e.length-1)!==p}function o(e,n){return 0===n.indexOf(e)&&t(n,e.length)}function i(e){return e?e.substr(0,e.lastIndexOf(p)):""}function a(e,n){if(r(e)&&r(n)?void 0:c(!1),o(e,n)?void 0:c(!1),e===n)return e;var i,a=e.length+d;for(i=a;i<n.length&&!t(n,i);i++);return n.substr(0,i)}function u(e,n){var o=Math.min(e.length,n.length);if(0===o)return"";for(var i=0,a=0;o>=a;a++)if(t(e,a)&&t(n,a))i=a;else if(e.charAt(a)!==n.charAt(a))break;var u=e.substr(0,i);return r(u)?void 0:c(!1),u}function s(e,t,n,r,u,s){e=e||"",t=t||"",e===t?c(!1):void 0;var l=o(t,e);l||o(e,t)?void 0:c(!1);for(var p=0,d=l?i:a,h=e;;h=d(h,t)){var m;if(u&&h===e||s&&h===t||(m=n(h,l,r)),m===!1||h===t)break;p++<f?void 0:c(!1)}}var l=A,c=n,p=".",d=p.length,f=1e4,h={createReactRootID:function(){return e(l.createReactRootIndex())},createReactID:function(e,t){return e+t},getReactRootIDFromNodeID:function(e){if(e&&e.charAt(0)===p&&e.length>1){var t=e.indexOf(p,1);return t>-1?e.substr(0,t):e}return null},traverseEnterLeave:function(e,t,n,r,o){var i=u(e,t);i!==e&&s(e,i,n,r,!1,!0),i!==t&&s(i,t,n,o,!0,!1)},traverseTwoPhase:function(e,t,n){e&&(s("",e,t,n,!0,!1),s(e,"",t,n,!1,!0))},traverseTwoPhaseSkipTarget:function(e,t,n){e&&(s("",e,t,n,!0,!0),s(e,"",t,n,!0,!0))},traverseAncestors:function(e,t,n){s("",e,t,n,!0,!1)},getFirstCommonAncestorID:u,_getNextDescendantID:a,isAncestorIDOf:o,SEPARATOR:p};return h}(),U=function(){"use strict";var e={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};return e}(),F=function(){"use strict";function e(e){for(var n=1,r=0,o=0,i=e.length,a=-4&i;a>o;){for(;o<Math.min(o+4096,a);o+=4)r+=(n+=e.charCodeAt(o))+(n+=e.charCodeAt(o+1))+(n+=e.charCodeAt(o+2))+(n+=e.charCodeAt(o+3));n%=t,r%=t}for(;i>o;o++)r+=n+=e.charCodeAt(o);return n%=t,r%=t,n|r<<16}var t=65521;return e}(),V=function(){"use strict";var e=F,t=/\/?>/,n={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(r){var o=e(r);return r.replace(t," "+n.CHECKSUM_ATTR_NAME+'="'+o+'"$&')},canReuseMarkup:function(t,r){var o=r.getAttribute(n.CHECKSUM_ATTR_NAME);o=o&&parseInt(o,10);var i=e(t);return i===o}};return n}(),B=function(){"use strict";var e=n,t={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(n,r,o){t.isValidOwner(o)?void 0:e(!1),o.attachRef(r,n)},removeComponentAsRefFrom:function(n,r,o){t.isValidOwner(o)?void 0:e(!1),o.getPublicInstance().refs[r]===n.getPublicInstance()&&o.detachRef(r)}};return t}(),W=function(){"use strict";function e(e,t,r){"function"==typeof e?e(t.getPublicInstance()):n.addComponentAsRefTo(t,e,r)}function t(e,t,r){"function"==typeof e?e(null):n.removeComponentAsRefFrom(t,e,r)}var n=B,r={};return r.attachRefs=function(t,n){if(null!==n&&n!==!1){var r=n.ref;null!=r&&e(r,t,n._owner)}},r.shouldUpdateRefs=function(e,t){var n=null===e||e===!1,r=null===t||t===!1;return n||r||t._owner!==e._owner||t.ref!==e.ref},r.detachRefs=function(e,n){if(null!==n&&n!==!1){var r=n.ref;null!=r&&t(r,e,n._owner)}},r}(),j=function(){"use strict";function e(){t.attachRefs(this,this._currentElement)}var t=W,n={mountComponent:function(t,n,r,o){var i=t.mountComponent(n,r,o);return t._currentElement&&null!=t._currentElement.ref&&r.getReactMountReady().enqueue(e,t),i},unmountComponent:function(e){t.detachRefs(e,e._currentElement),e.unmountComponent()},receiveComponent:function(n,r,o,i){var a=n._currentElement;if(r!==a||i!==n._context){var u=t.shouldUpdateRefs(a,r);u&&t.detachRefs(n,a),n.receiveComponent(r,o,i),u&&n._currentElement&&null!=n._currentElement.ref&&o.getReactMountReady().enqueue(e,n)}},performUpdateIfNecessary:function(e,t){e.performUpdateIfNecessary(t)}};return n}(),K=function(){"use strict";var e=n,t=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},r=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},o=function(e,t,n){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,e,t,n),o}return new r(e,t,n)},i=function(e,t,n,r){var o=this;if(o.instancePool.length){var i=o.instancePool.pop();return o.call(i,e,t,n,r),i}return new o(e,t,n,r)},a=function(e,t,n,r,o){var i=this;if(i.instancePool.length){var a=i.instancePool.pop();return i.call(a,e,t,n,r,o),a}return new i(e,t,n,r,o)},u=function(t){var n=this;t instanceof n?void 0:e(!1),t.destructor(),n.instancePool.length<n.poolSize&&n.instancePool.push(t)},s=10,l=t,c=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||l,n.poolSize||(n.poolSize=s),n.release=u,n},p={addPoolingTo:c,oneArgumentPooler:t,twoArgumentPooler:r,threeArgumentPooler:o,fourArgumentPooler:i,fiveArgumentPooler:a};return p}(),q=function(){"use strict";function e(){this._callbacks=null,this._contexts=null}var t=K,r=w,o=n;return r(e.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){e.length!==t.length?o(!1):void 0,this._callbacks=null,this._contexts=null;for(var n=0;n<e.length;n++)e[n].call(t[n]);e.length=0,t.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),t.addPoolingTo(e),e}(),H=function(){"use strict";var e=n,t={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(t,n,r,o,i,a,u,s){this.isInTransaction()?e(!1):void 0;var l,c;try{this._isInTransaction=!0,l=!0,this.initializeAll(0),c=t.call(n,r,o,i,a,u,s),l=!1}finally{try{if(l)try{this.closeAll(0)}catch(p){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var o=t[n];try{this.wrapperInitData[n]=r.OBSERVED_ERROR,this.wrapperInitData[n]=o.initialize?o.initialize.call(this):null}finally{if(this.wrapperInitData[n]===r.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(i){}}}},closeAll:function(t){this.isInTransaction()?void 0:e(!1);for(var n=this.transactionWrappers,o=t;o<n.length;o++){var i,a=n[o],u=this.wrapperInitData[o];try{i=!0,u!==r.OBSERVED_ERROR&&a.close&&a.close.call(this,u),i=!1}finally{if(i)try{this.closeAll(o+1)}catch(s){}}}this.wrapperInitData.length=0}},r={Mixin:t,OBSERVED_ERROR:{}};return r}(),z=function(){"use strict";function e(){M.ReactReconcileTransaction&&C?void 0:m(!1)}function t(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=s.getPooled(),this.reconcileTransaction=M.ReactReconcileTransaction.getPooled(!1)}function r(t,n,r,o,i,a){e(),C.batchedUpdates(t,n,r,o,i,a)}function o(e,t){return e._mountOrder-t._mountOrder}function i(e){var t=e.dirtyComponentsLength;t!==v.length?m(!1):void 0,v.sort(o);for(var n=0;t>n;n++){var r=v[n],i=r._pendingCallbacks;if(r._pendingCallbacks=null,d.performUpdateIfNecessary(r,e.reconcileTransaction),i)for(var a=0;a<i.length;a++)e.callbackQueue.enqueue(i[a],r.getPublicInstance())}}function a(t){return e(),C.isBatchingUpdates?void v.push(t):void C.batchedUpdates(a,t)}function u(e,t){C.isBatchingUpdates?void 0:m(!1),g.enqueue(e,t),y=!0}var s=q,l=K,c=p,d=j,f=H,h=w,m=n,v=[],g=s.getPooled(),y=!1,C=null,E={initialize:function(){this.dirtyComponentsLength=v.length},close:function(){this.dirtyComponentsLength!==v.length?(v.splice(0,this.dirtyComponentsLength),D()):v.length=0}},_={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},b=[E,_];h(t.prototype,f.Mixin,{getTransactionWrappers:function(){return b},destructor:function(){this.dirtyComponentsLength=null,s.release(this.callbackQueue),this.callbackQueue=null,M.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return f.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),l.addPoolingTo(t);var D=function(){for(;v.length||y;){if(v.length){var e=t.getPooled();e.perform(i,null,e),t.release(e)}if(y){y=!1;var n=g;g=s.getPooled(),n.notifyAll(),s.release(n)}}};D=c.measure("ReactUpdates","flushBatchedUpdates",D);var T={injectReconcileTransaction:function(e){e?void 0:m(!1),M.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:m(!1),"function"!=typeof e.batchedUpdates?m(!1):void 0,"boolean"!=typeof e.isBatchingUpdates?m(!1):void 0,C=e}},M={ReactReconcileTransaction:null,batchedUpdates:r,enqueueUpdate:a,flushBatchedUpdates:D,injection:T,asap:u};return M}(),Y=function(){"use strict";function e(e){i.enqueueUpdate(e)}function t(e,t){var n=o.get(e);return n?n:null}var r=k,o=U,i=z,a=w,u=n,s={isMounted:function(e){var t=o.get(e);return t?!!t._renderedComponent:!1},enqueueCallback:function(n,r){"function"!=typeof r?u(!1):void 0;var o=t(n);return o?(o._pendingCallbacks?o._pendingCallbacks.push(r):o._pendingCallbacks=[r],void e(o)):null},enqueueCallbackInternal:function(t,n){"function"!=typeof n?u(!1):void 0,t._pendingCallbacks?t._pendingCallbacks.push(n):t._pendingCallbacks=[n],e(t)},enqueueForceUpdate:function(n){var r=t(n,"forceUpdate");r&&(r._pendingForceUpdate=!0,e(r))},enqueueReplaceState:function(n,r){var o=t(n,"replaceState");o&&(o._pendingStateQueue=[r],o._pendingReplaceState=!0,e(o))},enqueueSetState:function(n,r){var o=t(n,"setState");if(o){var i=o._pendingStateQueue||(o._pendingStateQueue=[]);i.push(r),e(o)}},enqueueSetProps:function(e,n){var r=t(e,"setProps");r&&s.enqueueSetPropsInternal(r,n)},enqueueSetPropsInternal:function(t,n){var o=t._topLevelWrapper;o?void 0:u(!1);var i=o._pendingElement||o._currentElement,s=i.props,l=a({},s.props,n);o._pendingElement=r.cloneAndReplaceProps(i,r.cloneAndReplaceProps(s,l)),e(o)},enqueueReplaceProps:function(e,n){var r=t(e,"replaceProps");r&&s.enqueueReplacePropsInternal(r,n)},enqueueReplacePropsInternal:function(t,n){var o=t._topLevelWrapper;o?void 0:u(!1);var i=o._pendingElement||o._currentElement,a=i.props;o._pendingElement=r.cloneAndReplaceProps(i,r.cloneAndReplaceProps(a,n)),e(o)},enqueueElementInternal:function(t,n){t._pendingElement=n,e(t)}};return s}(),G=function(){"use strict";var e={};return e}(),Q=function(){"use strict";function e(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}return e}(),X=function(){"use strict";function e(e){return t(e)&&3==e.nodeType}var t=Q;return e}(),$=function(){"use strict";function e(e,n){var r=!0;e:for(;r;){var o=e,i=n;if(r=!1,o&&i){if(o===i)return!0;if(t(o))return!1;if(t(i)){e=o,n=i.parentNode,r=!0;continue e}return o.contains?o.contains(i):o.compareDocumentPosition?!!(16&o.compareDocumentPosition(i)):!1}return!1}}var t=X;return e}(),Z=function(){"use strict";var e=n,t=!1,r={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(n){t?e(!1):void 0,r.unmountIDFromEnvironment=n.unmountIDFromEnvironment,r.replaceNodeWithMarkupByID=n.replaceNodeWithMarkupByID,r.processChildrenUpdates=n.processChildrenUpdates,t=!0}}};return r}(),J=function(){"use strict";var e=l,t=e({prop:null,context:null,childContext:null});return t}(),ee=function(){"use strict";var e={};return e}(),te=function(){"use strict";function e(e,t){var n=null===e||e===!1,r=null===t||t===!1;if(n||r)return n===r;var o=typeof e,i=typeof t;return"string"===o||"number"===o?"string"===i||"number"===i:"object"===i&&e.type===t.type&&e.key===t.key}return e}(),ne=function(){"use strict";function t(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" Check the render method of `"+n+"`."}return""}function r(e){}var o=Z,i=e,a=k,u=U,s=p,l=J,c=j,d=Y,f=w,h=G,m=n,v=te;r.prototype.render=function(){var e=u.get(this)._currentElement.type;return e(this.props,this.context,this.updater)};var g=1,y={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null},mountComponent:function(e,t,n){this._context=n,this._mountOrder=g++,this._rootNodeID=e;var o,i,s=this._processProps(this._currentElement.props),l=this._processContext(n),p=this._currentElement.type,f="prototype"in p;f&&(o=new p(s,l,d)),(!f||null===o||o===!1||a.isValidElement(o))&&(i=o,o=new r(p)),o.props=s,o.context=l,o.refs=h,o.updater=d,this._instance=o,u.set(o,this);var v=o.state;void 0===v&&(o.state=v=null),"object"!=typeof v||Array.isArray(v)?m(!1):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,o.componentWillMount&&(o.componentWillMount(),this._pendingStateQueue&&(o.state=this._processPendingState(o.props,o.context))),void 0===i&&(i=this._renderValidatedComponent()),this._renderedComponent=this._instantiateReactComponent(i);var y=c.mountComponent(this._renderedComponent,e,t,this._processChildContext(n));return o.componentDidMount&&t.getReactMountReady().enqueue(o.componentDidMount,o),y},unmountComponent:function(){var e=this._instance;e.componentWillUnmount&&e.componentWillUnmount(),c.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._instance=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,u.remove(e)},_maskContext:function(e){var t=null,n=this._currentElement.type,r=n.contextTypes;if(!r)return h;t={};for(var o in r)t[o]=e[o];return t},_processContext:function(e){var t=this._maskContext(e);return t},_processChildContext:function(e){var t=this._currentElement.type,n=this._instance,r=n.getChildContext&&n.getChildContext();if(r){"object"!=typeof t.childContextTypes?m(!1):void 0;for(var o in r)o in t.childContextTypes?void 0:m(!1);return f({},e,r)}return e},_processProps:function(e){return e},_checkPropTypes:function(e,n,r){var o=this.getName();for(var i in e)if(e.hasOwnProperty(i)){var a;try{"function"!=typeof e[i]?m(!1):void 0,a=e[i](n,i,o,r)}catch(u){a=u}a instanceof Error&&(t(this),r===l.prop)}},receiveComponent:function(e,t,n){var r=this._currentElement,o=this._context;this._pendingElement=null,this.updateComponent(t,r,e,o,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement&&c.receiveComponent(this,this._pendingElement||this._currentElement,e,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(e,t,n,r,o){var i,a=this._instance,u=this._context===o?a.context:this._processContext(o);t===n?i=n.props:(i=this._processProps(n.props),a.componentWillReceiveProps&&a.componentWillReceiveProps(i,u));var s=this._processPendingState(i,u),l=this._pendingForceUpdate||!a.shouldComponentUpdate||a.shouldComponentUpdate(i,s,u);l?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,i,s,u,e,o)):(this._currentElement=n,this._context=o,a.props=i,a.state=s,a.context=u)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,o=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(o&&1===r.length)return r[0];for(var i=f({},o?r[0]:n.state),a=o?1:0;a<r.length;a++){var u=r[a];f(i,"function"==typeof u?u.call(n,i,e,t):u)}return i},_performComponentUpdate:function(e,t,n,r,o,i){var a,u,s,l=this._instance,c=Boolean(l.componentDidUpdate);c&&(a=l.props,u=l.state,s=l.context),l.componentWillUpdate&&l.componentWillUpdate(t,n,r),this._currentElement=e,this._context=i,l.props=t,l.state=n,l.context=r,this._updateRenderedComponent(o,i),c&&o.getReactMountReady().enqueue(l.componentDidUpdate.bind(l,a,u,s),l)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,o=this._renderValidatedComponent();if(v(r,o))c.receiveComponent(n,o,e,this._processChildContext(t));else{var i=this._rootNodeID,a=n._rootNodeID;c.unmountComponent(n),this._renderedComponent=this._instantiateReactComponent(o);var u=c.mountComponent(this._renderedComponent,i,e,this._processChildContext(t));this._replaceNodeWithMarkupByID(a,u)}},_replaceNodeWithMarkupByID:function(e,t){o.replaceNodeWithMarkupByID(e,t)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,t=e.render();return t},_renderValidatedComponent:function(){var e;i.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{i.current=null}return null===e||e===!1||a.isValidElement(e)?void 0:m(!1),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n?m(!1):void 0;var r=t.getPublicInstance(),o=n.refs===h?n.refs={}:n.refs;o[e]=r},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return e instanceof r?null:e},_instantiateReactComponent:null};s.measureMethods(y,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var C={Mixin:y};return C}(),re=function(){"use strict";var e,t=k,n=x,r=j,o=w,i={injectEmptyComponent:function(n){e=t.createElement(n)}},a=function(t){this._currentElement=null,this._rootNodeID=null,this._renderedComponent=t(e)};return o(a.prototype,{construct:function(e){},mountComponent:function(e,t,o){return n.registerNullComponentID(e),this._rootNodeID=e,r.mountComponent(this._renderedComponent,e,t,o)},receiveComponent:function(){},unmountComponent:function(e,t,o){r.unmountComponent(this._renderedComponent),n.deregisterNullComponentID(this._rootNodeID),this._rootNodeID=null,this._renderedComponent=null}}),a.injection=i,a}(),oe=function(){"use strict";function e(e){if("function"==typeof e.type)return e.type;var t=e.type,n=l[t];return null==n&&(l[t]=n=u(t)),n}function t(e){return s?void 0:a(!1),new s(e.type,e.props)}function r(e){return new c(e)}function o(e){return e instanceof c}var i=w,a=n,u=null,s=null,l={},c=null,p={injectGenericComponentClass:function(e){s=e},injectTextComponentClass:function(e){c=e},injectComponentClasses:function(e){i(l,e)}},d={getComponentClassForElement:e,createInternalComponent:t,createInstanceForText:r,isTextComponent:o,injection:p};return d}(),ie=function(){"use strict";function e(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function t(n){var r;if(null===n||n===!1)r=new o(t);else if("object"==typeof n){var a=n;!a||"function"!=typeof a.type&&"string"!=typeof a.type?u(!1):void 0,r="string"==typeof a.type?i.createInternalComponent(a):e(a.type)?new a.type(a):new s}else"string"==typeof n||"number"==typeof n?r=i.createInstanceForText(n):u(!1);return r.construct(n),r._mountIndex=0,r._mountImage=null,r}var r=ne,o=re,i=oe,a=w,u=n,s=function(){};return a(s.prototype,r.Mixin,{_instantiateReactComponent:t}),t}(),ae=(function(){"use strict";var e=u,t=e;return t}(),function(){"use strict";function e(e,t){for(var n=Math.min(e.length,t.length),r=0;n>r;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function t(e){return e?e.nodeType===re?e.documentElement:e.firstChild:null}function r(e){var n=t(e);return n&&de.getID(n)}function o(e){var t=i(e);if(t)if(ee.hasOwnProperty(t)){var n=ee[t];n!==e&&(l(n,t)?Q(!1):void 0,ee[t]=e)}else ee[t]=e;return t}function i(e){return e&&e.getAttribute&&e.getAttribute(J)||""}function a(e,t){var n=i(e);n!==t&&delete ee[n],e.setAttribute(J,t),ee[t]=e}function u(e){return ee.hasOwnProperty(e)&&l(ee[e],e)||(ee[e]=de.findReactNodeByID(e)),ee[e]}function s(e){var t=N.get(e)._rootNodeID;return M.isNullComponentID(t)?null:(ee.hasOwnProperty(t)&&l(ee[t],t)||(ee[t]=de.findReactNodeByID(t)),ee[t])}function l(e,t){if(e){i(e)!==t?Q(!1):void 0;var n=de.findReactContainerForID(t);if(n&&q(n,e))return!0}return!1}function c(e){delete ee[e]}function f(e){var t=ee[e];return t&&l(t,e)?void(ce=t):!1}function h(e){ce=null,P.traverseAncestors(e,f);var t=ce;return ce=null,t}function m(e,t,n,r,o,i){D.useCreateElement&&(i=W({},i),n.nodeType===re?i[ae]=n:i[ae]=n.ownerDocument);var a=A.mountComponent(e,t,r,i);e._renderedComponent._topLevelWrapper=e,de._mountImageIntoNode(a,n,o,r)}function g(e,t,n,r,o){var i=B.ReactReconcileTransaction.getPooled(r);i.perform(m,null,e,t,n,i,r,o),B.ReactReconcileTransaction.release(i)}function y(e,t){for(A.unmountComponent(e),t.nodeType===re&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function C(e){var t=r(e);return t?t!==P.getReactRootIDFromNodeID(t):!1}function E(e){for(;e&&e.parentNode!==e;e=e.parentNode)if(1===e.nodeType){var t=i(e);if(t){var n,r=P.getReactRootIDFromNodeID(t),o=e;do if(n=i(o),o=o.parentNode,null==o)return null;while(n!==r);if(o===se[r])return e}}return null}var _=v,b=S,D=I,T=k,M=x,P=L,N=U,R=V,O=p,A=j,F=Y,B=z,W=w,K=G,q=$,H=ie,Q=n,X=d,Z=te,J=_.ID_ATTRIBUTE_NAME,ee={},ne=1,re=9,oe=11,ae="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),ue={},se={},le=[],ce=null,pe=function(){};pe.prototype.isReactComponent={},pe.prototype.render=function(){return this.props};var de={TopLevelWrapper:pe,_instancesByReactRootID:ue,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r){return de.scrollMonitor(n,function(){F.enqueueElementInternal(e,t),r&&F.enqueueCallbackInternal(e,r)}),e},_registerComponent:function(e,t){!t||t.nodeType!==ne&&t.nodeType!==re&&t.nodeType!==oe?Q(!1):void 0,b.ensureScrollValueMonitoring();var n=de.registerContainer(t);return ue[n]=e,n},_renderNewRootComponent:function(e,t,n,r){var o=H(e,null),i=de._registerComponent(o,t);return B.batchedUpdates(g,o,i,t,n,r),o},renderSubtreeIntoContainer:function(e,t,n,r){return null==e||null==e._reactInternalInstance?Q(!1):void 0,de._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,n,o,a){T.isValidElement(n)?void 0:Q(!1);var u=new T(pe,null,null,null,null,null,n),s=ue[r(o)];if(s){var l=s._currentElement,c=l.props;if(Z(c,n)){var p=s._renderedComponent.getPublicInstance(),d=a&&function(){a.call(p)};return de._updateRootComponent(s,u,o,d),p}de.unmountComponentAtNode(o)}var f=t(o),h=f&&!!i(f),m=C(o),v=h&&!s&&!m,g=de._renderNewRootComponent(u,o,v,null!=e?e._reactInternalInstance._processChildContext(e._reactInternalInstance._context):K)._renderedComponent.getPublicInstance();return a&&a.call(g),g},render:function(e,t,n){return de._renderSubtreeIntoContainer(null,e,t,n)},registerContainer:function(e){var t=r(e);return t&&(t=P.getReactRootIDFromNodeID(t)),t||(t=P.createReactRootID()),se[t]=e,t},unmountComponentAtNode:function(e){!e||e.nodeType!==ne&&e.nodeType!==re&&e.nodeType!==oe?Q(!1):void 0;var t=r(e),n=ue[t];if(!n){var o=(C(e),i(e));return o&&o===P.getReactRootIDFromNodeID(o),!1}return B.batchedUpdates(y,n,e),delete ue[t],delete se[t],!0},findReactContainerForID:function(e){var t=P.getReactRootIDFromNodeID(e),n=se[t];return n},findReactNodeByID:function(e){var t=de.findReactContainerForID(e);return de.findComponentRoot(t,e)},getFirstReactDOM:function(e){return E(e)},findComponentRoot:function(e,t){var n=le,r=0,o=h(t)||e;for(n[0]=o.firstChild,n.length=1;r<n.length;){for(var i,a=n[r++];a;){var u=de.getID(a);u?t===u?i=a:P.isAncestorIDOf(u,t)&&(n.length=r=0,n.push(a.firstChild)):n.push(a.firstChild),a=a.nextSibling}if(i)return n.length=0,i}n.length=0,Q(!1)},_mountImageIntoNode:function(n,r,o,i){if(!r||r.nodeType!==ne&&r.nodeType!==re&&r.nodeType!==oe?Q(!1):void 0,o){var a=t(r);if(R.canReuseMarkup(n,a))return;var u=a.getAttribute(R.CHECKSUM_ATTR_NAME);a.removeAttribute(R.CHECKSUM_ATTR_NAME);var s=a.outerHTML;a.setAttribute(R.CHECKSUM_ATTR_NAME,u);var l=n,c=e(l,s);" (client) "+l.substring(c-20,c+20)+"\n (server) "+s.substring(c-20,c+20),r.nodeType===re?Q(!1):void 0}if(r.nodeType===re?Q(!1):void 0,i.useCreateElement){for(;r.lastChild;)r.removeChild(r.lastChild);r.appendChild(n)}else X(r,n)},ownerDocumentContextKey:ae,getReactRootID:r,getID:o,setID:a,getNode:u,getNodeFromInstance:s,isValid:l,purgeID:c};return O.measureMethods(de,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),de}()),ue=function(){"use strict";var e=m,t=y,r=ae,o=p,i=n,a={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},u={updatePropertyByID:function(e,n,o){var u=r.getNode(e);a.hasOwnProperty(n)?i(!1):void 0,null!=o?t.setValueForProperty(u,n,o):t.deleteValueForProperty(u,n)},dangerouslyReplaceNodeWithMarkupByID:function(t,n){var o=r.getNode(t);e.dangerouslyReplaceNodeWithMarkup(o,n)},dangerouslyProcessChildrenUpdates:function(t,n){for(var o=0;o<t.length;o++)t[o].parentNode=r.getNode(t[o].parentID);e.processUpdates(t,n)}};return o.measureMethods(u,"ReactDOMIDOperations",{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),u}(),se=function(){"use strict";var e=ue,t=ae,n={processChildrenUpdates:e.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:e.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(e){t.purgeID(e)}};return n}(),le=function(){"use strict";var e=m,t=y,n=se,r=ae,o=w,i=f,a=h,u=function(e){};return o(u.prototype,{construct:function(e){this._currentElement=e,this._stringText=""+e,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(e,n,o){if(this._rootNodeID=e,n.useCreateElement){var u=o[r.ownerDocumentContextKey],s=u.createElement("span");return t.setAttributeForID(s,e),r.getID(s),a(s,this._stringText),s}var l=i(this._stringText);return n.renderToStaticMarkup?l:"<span "+t.createMarkupForID(e)+">"+l+"</span>"},receiveComponent:function(t,n){if(t!==this._currentElement){this._currentElement=t;var o=""+t;if(o!==this._stringText){this._stringText=o;var i=r.getNode(this._rootNodeID);e.updateTextContent(i,o)}}},unmountComponent:function(){n.unmountIDFromEnvironment(this._rootNodeID)}}),u}(),ce=function(){"use strict";function e(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return m(e,r)}function t(t,n,r){var o=n?h.bubbled:h.captured,i=e(t,r,o);i&&(r._dispatchListeners=d(r._dispatchListeners,i),r._dispatchIDs=d(r._dispatchIDs,t))}function n(e){e&&e.dispatchConfig.phasedRegistrationNames&&p.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker,t,e)}function r(e){e&&e.dispatchConfig.phasedRegistrationNames&&p.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(e.dispatchMarker,t,e)}function o(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,o=m(e,r);o&&(n._dispatchListeners=d(n._dispatchListeners,o),n._dispatchIDs=d(n._dispatchIDs,e))}}function i(e){e&&e.dispatchConfig.registrationName&&o(e.dispatchMarker,null,e)}function a(e){f(e,n)}function u(e){f(e,r)}function s(e,t,n,r){p.injection.getInstanceHandle().traverseEnterLeave(n,r,o,e,t)}function l(e){f(e,i)}var c=C,p=M,d=D,f=T,h=c.PropagationPhases,m=p.getListener,v={accumulateTwoPhaseDispatches:a,accumulateTwoPhaseDispatchesSkipTarget:u,accumulateDirectDispatches:l,accumulateEnterLeaveDispatches:s};return v}(),pe=function(){"use strict";function e(){return!r&&n.canUseDOM&&(r="textContent"in document.documentElement?"textContent":"innerText"),r}var n=t,r=null;return e}(),de=function(){"use strict";function e(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var t=K,n=w,r=pe;return n(e.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[r()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,o=this.getText(),i=o.length;for(e=0;r>e&&n[e]===o[e];e++);var a=r-e;for(t=1;a>=t&&n[r-t]===o[i-t];t++);var u=t>1?1-t:void 0;return this._fallbackText=o.slice(e,u),this._fallbackText}}),t.addPoolingTo(e),e}(),fe=function(){"use strict";function e(e,t,n,o){this.dispatchConfig=e,this.dispatchMarker=t,this.nativeEvent=n,this.target=o,this.currentTarget=o;var i=this.constructor.Interface;for(var a in i)if(i.hasOwnProperty(a)){var u=i[a];u?this[a]=u(n):this[a]=n[a]}var s=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;s?this.isDefaultPrevented=r.thatReturnsTrue:this.isDefaultPrevented=r.thatReturnsFalse,this.isPropagationStopped=r.thatReturnsFalse}var t=K,n=w,r=u,o={type:null,currentTarget:r.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};return n(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=r.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=r.thatReturnsTrue)},persist:function(){this.isPersistent=r.thatReturnsTrue},isPersistent:r.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),e.Interface=o,e.augmentClass=function(e,r){var o=this,i=Object.create(o.prototype);n(i,e.prototype),e.prototype=i,e.prototype.constructor=e,e.Interface=n({},o.Interface,r),e.augmentClass=o.augmentClass,t.addPoolingTo(e,t.fourArgumentPooler)},t.addPoolingTo(e,t.fourArgumentPooler),e}(),he=function(){"use strict";function e(e,n,r,o){t.call(this,e,n,r,o)}var t=fe,n={data:null};return t.augmentClass(e,n),e}(),me=function(){"use strict";function e(e,n,r,o){t.call(this,e,n,r,o)}var t=fe,n={data:null};return t.augmentClass(e,n),e}(),ve=function(){"use strict";var e=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};return e}(),ge=function(){"use strict";function e(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function n(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function r(e){switch(e){case N.topCompositionStart:return w.compositionStart;case N.topCompositionEnd:return w.compositionEnd;case N.topCompositionUpdate:return w.compositionUpdate}}function o(e,t){return e===N.topKeyDown&&t.keyCode===E}function i(e,t){switch(e){case N.topKeyUp:return-1!==y.indexOf(t.keyCode);case N.topKeyDown:return t.keyCode!==E;case N.topKeyPress:case N.topMouseDown:case N.topBlur:return!0;default:return!1}}function a(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function u(e,t,n,u,s){var l,c;if(_?l=r(e):S?i(e,u)&&(l=w.compositionEnd):o(e,u)&&(l=w.compositionStart),!l)return null;T&&(S||l!==w.compositionStart?l===w.compositionEnd&&S&&(c=S.getData()):S=h.getPooled(t));var p=m.getPooled(l,n,u,s);if(c)p.data=c;else{var f=a(u);null!==f&&(p.data=f)}return d.accumulateTwoPhaseDispatches(p),p}function s(e,t){switch(e){case N.topCompositionEnd:return a(t);case N.topKeyPress:var n=t.which;return n!==M?null:(R=!0,P);case N.topTextInput:var r=t.data;return r===P&&R?null:r;default:return null}}function l(e,t){if(S){if(e===N.topCompositionEnd||i(e,t)){var r=S.getData();return h.release(S),S=null,r}return null}switch(e){case N.topPaste:return null;case N.topKeyPress:return t.which&&!n(t)?String.fromCharCode(t.which):null;case N.topCompositionEnd:return T?null:t.data;default:return null}}function c(e,t,n,r,o){var i;if(i=D?s(e,r):l(e,r),!i)return null;var a=v.getPooled(w.beforeInput,n,r,o);return a.data=i,d.accumulateTwoPhaseDispatches(a),a}var p=C,d=ce,f=t,h=de,m=he,v=me,g=ve,y=[9,13,27,32],E=229,_=f.canUseDOM&&"CompositionEvent"in window,b=null;f.canUseDOM&&"documentMode"in document&&(b=document.documentMode);var D=f.canUseDOM&&"TextEvent"in window&&!b&&!e(),T=f.canUseDOM&&(!_||b&&b>8&&11>=b),M=32,P=String.fromCharCode(M),N=p.topLevelTypes,w={beforeInput:{phasedRegistrationNames:{bubbled:g({onBeforeInput:null}),captured:g({onBeforeInputCapture:null})},dependencies:[N.topCompositionEnd,N.topKeyPress,N.topTextInput,N.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:g({onCompositionEnd:null}),captured:g({onCompositionEndCapture:null})},dependencies:[N.topBlur,N.topCompositionEnd,N.topKeyDown,N.topKeyPress,N.topKeyUp,N.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:g({onCompositionStart:null}),captured:g({onCompositionStartCapture:null})},dependencies:[N.topBlur,N.topCompositionStart,N.topKeyDown,N.topKeyPress,N.topKeyUp,N.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:g({onCompositionUpdate:null}),captured:g({onCompositionUpdateCapture:null})},dependencies:[N.topBlur,N.topCompositionUpdate,N.topKeyDown,N.topKeyPress,N.topKeyUp,N.topMouseDown]}},R=!1,S=null,I={eventTypes:w,extractEvents:function(e,t,n,r,o){return[u(e,t,n,r,o),c(e,t,n,r,o)]}};return I}(),ye=function(){"use strict";function e(e){var t=e.target||e.srcElement||window;return 3===t.nodeType?t.parentNode:t}return e}(),Ce=function(){"use strict";function e(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&("input"===n&&t[e.type]||"textarea"===n)}var t={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};return e}(),Ee=function(){"use strict";function e(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function n(e){var t=b.getPooled(S.change,O,e,D(e));y.accumulateTwoPhaseDispatches(t),_.batchedUpdates(r,t)}function r(e){g.enqueueEvents(e),g.processEventQueue(!1)}function o(e,t){I=e,O=t,I.attachEvent("onchange",n)}function i(){I&&(I.detachEvent("onchange",n),I=null,O=null)}function a(e,t,n){return e===w.topChange?n:void 0}function u(e,t,n){e===w.topFocus?(i(),o(t,n)):e===w.topBlur&&i()}function s(e,t){I=e,O=t,k=e.value,x=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(I,"value",U),I.attachEvent("onpropertychange",c)}function l(){I&&(delete I.value,I.detachEvent("onpropertychange",c),I=null,O=null,k=null,x=null)}function c(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==k&&(k=t,n(e))}}function p(e,t,n){return e===w.topInput?n:void 0}function d(e,t,n){e===w.topFocus?(l(),s(t,n)):e===w.topBlur&&l()}function f(e,t,n){return e!==w.topSelectionChange&&e!==w.topKeyUp&&e!==w.topKeyDown||!I||I.value===k?void 0:(k=I.value,O)}function h(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function m(e,t,n){return e===w.topClick?n:void 0}var v=C,g=M,y=ce,E=t,_=z,b=fe,D=ye,T=R,P=Ce,N=ve,w=v.topLevelTypes,S={change:{phasedRegistrationNames:{bubbled:N({onChange:null}),captured:N({onChangeCapture:null})},dependencies:[w.topBlur,w.topChange,w.topClick,w.topFocus,w.topInput,w.topKeyDown,w.topKeyUp,w.topSelectionChange]}},I=null,O=null,k=null,x=null,A=!1;E.canUseDOM&&(A=T("change")&&(!("documentMode"in document)||document.documentMode>8));var L=!1;E.canUseDOM&&(L=T("input")&&(!("documentMode"in document)||document.documentMode>9));var U={get:function(){return x.get.call(this)},set:function(e){k=""+e,x.set.call(this,e)}},F={eventTypes:S,extractEvents:function(t,n,r,o,i){var s,l;if(e(n)?A?s=a:l=u:P(n)?L?s=p:(s=f,l=d):h(n)&&(s=m),s){var c=s(t,n,r);if(c){var v=b.getPooled(S.change,c,o,i);return v.type="change",y.accumulateTwoPhaseDispatches(v),v}}l&&l(t,n,r)}};return F}(),_e=function(){"use strict";var e=0,t={createReactRootIndex:function(){return e++}};return t}(),be=function(){"use strict";var e=ve,t=[e({ResponderEventPlugin:null}),e({SimpleEventPlugin:null}),e({TapEventPlugin:null}),e({EnterLeaveEventPlugin:null}),e({ChangeEventPlugin:null}),e({SelectEventPlugin:null}),e({BeforeInputEventPlugin:null})];return t}(),De=function(){"use strict";function e(e,n,r,o){t.call(this,e,n,r,o)}var t=fe,n=ye,r={view:function(e){if(e.view)return e.view;var t=n(e);if(null!=t&&t.window===t)return t;var r=t.ownerDocument;return r?r.defaultView||r.parentWindow:window},detail:function(e){return e.detail||0}};return t.augmentClass(e,r),e}(),Te=function(){"use strict";function e(e){var t=this,r=t.nativeEvent;if(r.getModifierState)return r.getModifierState(e);var o=n[e];return o?!!r[o]:!1}function t(t){return e}var n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};return t}(),Me=function(){"use strict";function e(e,n,r,o){t.call(this,e,n,r,o)}var t=De,n=N,r=Te,o={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:r,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+n.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+n.currentScrollTop}};return t.augmentClass(e,o),e}(),Pe=function(){"use strict";var e=C,t=ce,n=Me,r=ae,o=ve,i=e.topLevelTypes,a=r.getFirstReactDOM,u={mouseEnter:{registrationName:o({onMouseEnter:null}),dependencies:[i.topMouseOut,i.topMouseOver]},mouseLeave:{registrationName:o({onMouseLeave:null}),dependencies:[i.topMouseOut,i.topMouseOver]}},s=[null,null],l={eventTypes:u,extractEvents:function(e,o,l,c,p){if(e===i.topMouseOver&&(c.relatedTarget||c.fromElement))return null;if(e!==i.topMouseOut&&e!==i.topMouseOver)return null;var d;if(o.window===o)d=o;else{var f=o.ownerDocument;d=f?f.defaultView||f.parentWindow:window}var h,m,v="",g="";if(e===i.topMouseOut?(h=o,v=l,m=a(c.relatedTarget||c.toElement),m?g=r.getID(m):m=d,m=m||d):(h=d,m=o,g=l),h===m)return null;var y=n.getPooled(u.mouseLeave,v,c,p);y.type="mouseleave",y.target=h,y.relatedTarget=m;var C=n.getPooled(u.mouseEnter,g,c,p);return C.type="mouseenter",C.target=m,C.relatedTarget=h,t.accumulateEnterLeaveDispatches(y,C,v,g),s[0]=y,s[1]=C,s}};return l}(),Ne=function(){"use strict";var e,n=v,r=t,o=n.injection.MUST_USE_ATTRIBUTE,i=n.injection.MUST_USE_PROPERTY,a=n.injection.HAS_BOOLEAN_VALUE,u=n.injection.HAS_SIDE_EFFECTS,s=n.injection.HAS_NUMERIC_VALUE,l=n.injection.HAS_POSITIVE_NUMERIC_VALUE,c=n.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(r.canUseDOM){var p=document.implementation;e=p&&p.hasFeature&&p.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var d={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:o|a,allowTransparency:o,alt:null,async:a,autoComplete:null,autoPlay:a,capture:o|a,cellPadding:null,cellSpacing:null,charSet:o,challenge:o,checked:i|a,classID:o,className:e?o:i,cols:o|l,colSpan:null,content:null,contentEditable:null,contextMenu:o,controls:i|a,coords:null,crossOrigin:null,data:null,dateTime:o,"default":a,defer:a,dir:null,disabled:o|a,download:c,draggable:null,encType:null,form:o,formAction:o,formEncType:o,formMethod:o,formNoValidate:a,formTarget:o,frameBorder:o,headers:null,height:o,hidden:o|a,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:i,inputMode:o,integrity:null,is:o,keyParams:o,keyType:o,kind:null,label:null,lang:null,list:o,loop:i|a,low:null,manifest:o,marginHeight:null,marginWidth:null,max:null,maxLength:o,media:o,mediaGroup:null,method:null,min:null,minLength:o,multiple:i|a,muted:i|a,name:null,nonce:o,noValidate:a,open:a,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:i|a,rel:null,required:a,reversed:a,role:o,rows:o|l,rowSpan:null,sandbox:null,scope:null,scoped:a,scrolling:null,seamless:o|a,selected:i|a,shape:null,size:o|l,sizes:o,span:l,spellCheck:null,src:null,srcDoc:i,srcLang:null,srcSet:o,start:s,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:i|u,width:o,wmode:o,wrap:null,about:o,datatype:o,inlist:o,prefix:o,property:o,resource:o,"typeof":o,vocab:o,autoCapitalize:null,autoCorrect:null,autoSave:null,color:null,itemProp:o,itemScope:o|a,itemType:o,itemID:o,itemRef:o,results:null,security:o,unselectable:o},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};return d}(),we=function(){"use strict";function e(e){return null==e?null:1===e.nodeType?e:t.has(e)?r.getNodeFromInstance(e):(null!=e.render&&"function"==typeof e.render?o(!1):void 0,void o(!1))}var t=U,r=ae,o=n;return e}(),Re=function(){"use strict";var e=we,t="_getDOMNodeDidWarn",n={getDOMNode:function(){return this.constructor[t]=!0,e(this)}};return n}(),Se=function(){"use strict";function e(){this.reinitializeTransaction()}var t=z,n=H,r=w,o=u,i={initialize:o,close:function(){c.isBatchingUpdates=!1}},a={initialize:o,close:t.flushBatchedUpdates.bind(t)},s=[a,i];r(e.prototype,n.Mixin,{getTransactionWrappers:function(){return s}});var l=new e,c={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,o,i){var a=c.isBatchingUpdates;c.isBatchingUpdates=!0,a?e(t,n,r,o,i):l.perform(e,null,t,n,r,o,i)}};return c}(),Ie=function(){"use strict";function e(e){try{e.focus()}catch(t){}}return e}(),Oe=function(){"use strict";var e=ae,t=we,n=Ie,r={componentDidMount:function(){this.props.autoFocus&&n(t(this))}},o={Mixin:r,focusDOMComponent:function(){n(e.getNode(this._rootNodeID))}};return o}(),ke=function(){"use strict";function e(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var t={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},n=["Webkit","ms","Moz","O"];Object.keys(t).forEach(function(r){n.forEach(function(n){t[e(n,r)]=t[r]})});var r={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},o={isUnitlessNumber:t,shorthandPropertyExpansions:r};return o}(),xe=function(){"use strict";function e(e){return e.replace(t,function(e,t){return t.toUpperCase()})}var t=/-(.)/g;return e}(),Ae=(function(){"use strict";function e(e){return t(e.replace(n,"ms-"))}var t=xe,n=/^-ms-/;return e}(),function(){"use strict";function e(e,t){var r=null==t||"boolean"==typeof t||""===t;if(r)return"";var o=isNaN(t);return o||0===t||n.hasOwnProperty(e)&&n[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var t=ke,n=t.isUnitlessNumber;return e}()),Le=function(){"use strict";function e(e){return e.replace(t,"-$1").toLowerCase()}var t=/([A-Z])/g;return e}(),Ue=function(){"use strict";function e(e){return t(e).replace(n,"-ms-")}var t=Le,n=/^ms-/;return e}(),Fe=function(){"use strict";function e(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}return e}(),Ve=function(){"use strict";var e=ke,n=t,r=p,o=Ae,i=Ue,a=Fe,u=a(function(e){return i(e)}),s=!1,l="cssFloat";if(n.canUseDOM){var c=document.createElement("div").style;try{c.font=""}catch(d){s=!0}void 0===document.documentElement.style.cssFloat&&(l="styleFloat")}var f={createMarkupForStyles:function(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];null!=r&&(t+=u(n)+":",t+=o(n,r)+";")}return t||null},setValueForStyles:function(t,n){var r=t.style;for(var i in n)if(n.hasOwnProperty(i)){var a=o(i,n[i]);if("float"===i&&(i=l),a)r[i]=a;else{var u=s&&e.shorthandPropertyExpansions[i];if(u)for(var c in u)r[c]="";else r[i]=""}}}};return r.measureMethods(f,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),f}(),Be=function(){"use strict";var e={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},t={getNativeProps:function(t,n,r){if(!n.disabled)return n;var o={};for(var i in n)n.hasOwnProperty(i)&&!e[i]&&(o[i]=n[i]);return o}};return t}(),We=function(){"use strict";function e(e){var r=e&&(t&&e[t]||e[n]);return"function"==typeof r?r:void 0}var t="function"==typeof Symbol&&Symbol.iterator,n="@@iterator";return e}(),je=function(){"use strict";function e(e){function t(t,n,r,o,i,a){if(o=o||E,a=a||r,null==n[r]){var u=g[i];return t?new Error("Required "+u+" `"+a+"` was not specified in "+("`"+o+"`.")):null}return e(n,r,o,i,a)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function t(t){function n(e,n,r,o,i){var a=e[n],u=f(a);if(u!==t){var s=g[o],l=h(a);return new Error("Invalid "+s+" `"+i+"` of type "+("`"+l+"` supplied to `"+r+"`, expected ")+("`"+t+"`."))}return null}return e(n)}function n(){return e(y.thatReturns(null))}function r(t){function n(e,n,r,o,i){var a=e[n];if(!Array.isArray(a)){var u=g[o],s=f(a);return new Error("Invalid "+u+" `"+i+"` of type "+("`"+s+"` supplied to `"+r+"`, expected an array."))}for(var l=0;l<a.length;l++){var c=t(a,l,r,o,i+"["+l+"]");if(c instanceof Error)return c}return null}return e(n)}function o(){function t(e,t,n,r,o){if(!v.isValidElement(e[t])){var i=g[r];return new Error("Invalid "+i+" `"+o+"` supplied to "+("`"+n+"`, expected a single ReactElement."))}return null}return e(t)}function i(t){function n(e,n,r,o,i){if(!(e[n]instanceof t)){var a=g[o],u=t.name||E,s=m(e[n]);return new Error("Invalid "+a+" `"+i+"` of type "+("`"+s+"` supplied to `"+r+"`, expected ")+("instance of `"+u+"`."))}return null}return e(n)}function a(t){function n(e,n,r,o,i){for(var a=e[n],u=0;u<t.length;u++)if(a===t[u])return null;var s=g[o],l=JSON.stringify(t);return new Error("Invalid "+s+" `"+i+"` of value `"+a+"` "+("supplied to `"+r+"`, expected one of "+l+"."))}return e(Array.isArray(t)?n:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function s(t){function n(e,n,r,o,i){var a=e[n],u=f(a);if("object"!==u){var s=g[o];return new Error("Invalid "+s+" `"+i+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an object."))}for(var l in a)if(a.hasOwnProperty(l)){var c=t(a,l,r,o,i+"."+l);if(c instanceof Error)return c}return null}return e(n)}function l(t){function n(e,n,r,o,i){for(var a=0;a<t.length;a++){var u=t[a];if(null==u(e,n,r,o,i))return null}var s=g[o];return new Error("Invalid "+s+" `"+i+"` supplied to "+("`"+r+"`."))}return e(Array.isArray(t)?n:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function c(){function t(e,t,n,r,o){if(!d(e[t])){var i=g[r];return new Error("Invalid "+i+" `"+o+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return e(t)}function p(t){function n(e,n,r,o,i){var a=e[n],u=f(a);if("object"!==u){var s=g[o];return new Error("Invalid "+s+" `"+i+"` of type `"+u+"` "+("supplied to `"+r+"`, expected `object`."))}for(var l in t){var c=t[l];if(c){var p=c(a,l,r,o,i+"."+l);if(p)return p}}return null}return e(n)}function d(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(d);if(null===e||v.isValidElement(e))return!0;var t=C(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!d(n.value))return!1}else for(;!(n=r.next()).done;){var o=n.value;if(o&&!d(o[1]))return!1}return!0;default:return!1}}function f(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function h(e){var t=f(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function m(e){return e.constructor&&e.constructor.name?e.constructor.name:"<<anonymous>>"}var v=k,g=ee,y=u,C=We,E="<<anonymous>>",_={array:t("array"),bool:t("boolean"),func:t("function"),number:t("number"),object:t("object"),string:t("string"),any:n(),arrayOf:r,element:o(),instanceOf:i,node:c(),objectOf:s,oneOf:a,oneOfType:l,shape:p};return _}(),Ke=function(){"use strict";function e(e){null!=e.checkedLink&&null!=e.valueLink?u(!1):void 0}function t(t){e(t),null!=t.value||null!=t.onChange?u(!1):void 0}function r(t){e(t),null!=t.checked||null!=t.onChange?u(!1):void 0}function o(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var i=je,a=J,u=n,s={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},l={value:function(e,t,n){return!e[t]||s[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:i.func},c={},p={checkPropTypes:function(e,t,n){for(var r in l){if(l.hasOwnProperty(r))var i=l[r](t,r,e,a.prop);i instanceof Error&&!(i.message in c)&&(c[i.message]=!0,o(n))}},getValue:function(e){return e.valueLink?(t(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(r(e),e.checkedLink.value):e.checked},executeOnChange:function(e,n){return e.valueLink?(t(e),e.valueLink.requestChange(n.target.value)):e.checkedLink?(r(e),e.checkedLink.requestChange(n.target.checked)):e.onChange?e.onChange.call(void 0,n):void 0}};return p}(),qe=function(){"use strict";function e(){this._rootNodeID&&c.updateWrapper(this)}function t(t){var n=this._currentElement.props,r=o.executeOnChange(n,t);a.asap(e,this);var u=n.name;if("radio"===n.type&&null!=u){for(var c=i.getNode(this._rootNodeID),p=c;p.parentNode;)p=p.parentNode;for(var d=p.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),f=0;f<d.length;f++){var h=d[f];if(h!==c&&h.form===c.form){var m=i.getID(h);m?void 0:s(!1);var v=l[m];v?void 0:s(!1),a.asap(e,v)}}}return r}var r=ue,o=Ke,i=ae,a=z,u=w,s=n,l={},c={getNativeProps:function(e,t,n){var r=o.getValue(t),i=o.getChecked(t),a=u({},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=r?r:e._wrapperState.initialValue,checked:null!=i?i:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return a},mountWrapper:function(e,n){var r=n.defaultValue;e._wrapperState={initialChecked:n.defaultChecked||!1,initialValue:null!=r?r:null,onChange:t.bind(e)}},mountReadyWrapper:function(e){l[e._rootNodeID]=e},unmountWrapper:function(e){delete l[e._rootNodeID]},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&r.updatePropertyByID(e._rootNodeID,"checked",n||!1);var i=o.getValue(t);null!=i&&r.updatePropertyByID(e._rootNodeID,"value",""+i)}};return c}(),He=function(){"use strict";function e(e){return f[e]}function t(e,t){return e&&null!=e.key?o(e.key):t.toString(36)}function r(t){return(""+t).replace(h,e)}function o(e){return"$"+r(e)}function i(e,n,r,a){var s=typeof e;if(("undefined"===s||"boolean"===s)&&(e=null),null===e||"string"===s||"number"===s||u.isValidElement(e))return r(a,e,""===n?p+t(e,0):n),1;var f,h,m=0,v=""===n?p:n+d;if(Array.isArray(e))for(var g=0;g<e.length;g++)f=e[g],h=v+t(f,g),m+=i(f,h,r,a);else{var y=l(e);if(y){var C,E=y.call(e);if(y!==e.entries)for(var _=0;!(C=E.next()).done;)f=C.value,h=v+t(f,_++),m+=i(f,h,r,a);else for(;!(C=E.next()).done;){var b=C.value;b&&(f=b[1],h=v+o(b[0])+d+t(f,0),m+=i(f,h,r,a))}}else"object"===s&&(String(e),c(!1))}return m}function a(e,t,n){return null==e?0:i(e,"",t,n)}var u=k,s=L,l=We,c=n,p=s.SEPARATOR,d=":",f={"=":"=0",".":"=1",":":"=2"},h=/[=.:]/g;return a}(),ze=function(){"use strict";function e(e){return(""+e).replace(y,"//")}function t(e,t){this.func=e,this.context=t,this.count=0}function n(e,t,n){var r=e.func,o=e.context;r.call(o,t,e.count++)}function r(e,r,o){if(null==e)return e;var i=t.getPooled(r,o);m(e,n,i),t.release(i)}function o(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function i(t,n,r){var o=t.result,i=t.keyPrefix,u=t.func,s=t.context,l=u.call(s,n,t.count++);Array.isArray(l)?a(l,o,r,h.thatReturnsArgument):null!=l&&(f.isValidElement(l)&&(l=f.cloneAndReplaceKey(l,i+(l!==n?e(l.key||"")+"/":"")+r)),o.push(l))}function a(t,n,r,a,u){var s="";null!=r&&(s=e(r)+"/");var l=o.getPooled(n,s,a,u);m(t,i,l),o.release(l)}function s(e,t,n){if(null==e)return e;var r=[];return a(e,r,null,t,n),r}function l(e,t,n){return null}function c(e,t){return m(e,l,null)}function p(e){var t=[];return a(e,t,null,h.thatReturnsArgument),t}var d=K,f=k,h=u,m=He,v=d.twoArgumentPooler,g=d.fourArgumentPooler,y=/\/(?!\/)/g;t.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},d.addPoolingTo(t,v),o.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},d.addPoolingTo(o,g);var C={forEach:r,map:s,mapIntoWithKeyPrefixInternal:a,count:c,toArray:p};return C}(),Ye=function(){"use strict";function e(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,n=r.getValue(e);null!=n&&t(this,e,n)}}function t(e,t,n){var r,i,a=o.getNode(e._rootNodeID).options;if(t){for(r={},i=0;i<n.length;i++)r[""+n[i]]=!0;for(i=0;i<a.length;i++){var u=r.hasOwnProperty(a[i].value);a[i].selected!==u&&(a[i].selected=u)}}else{for(r=""+n,i=0;i<a.length;i++)if(a[i].value===r)return void(a[i].selected=!0);a.length&&(a[0].selected=!0)}}function n(t){var n=this._currentElement.props,o=r.executeOnChange(n,t);return this._wrapperState.pendingUpdate=!0,i.asap(e,this),o}var r=Ke,o=ae,i=z,a=w,u="__ReactDOMSelect_value$"+Math.random().toString(36).slice(2),s={valueContextKey:u,getNativeProps:function(e,t,n){return a({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var o=r.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=o?o:t.defaultValue,onChange:n.bind(e),wasMultiple:Boolean(t.multiple)}},processChildContext:function(e,t,n){var r=a({},n);return r[u]=e._wrapperState.initialValue,r},postUpdateWrapper:function(e){var n=e._currentElement.props;e._wrapperState.initialValue=void 0;var o=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(n.multiple);var i=r.getValue(n);null!=i?(e._wrapperState.pendingUpdate=!1,t(e,Boolean(n.multiple),i)):o!==Boolean(n.multiple)&&(null!=n.defaultValue?t(e,Boolean(n.multiple),n.defaultValue):t(e,Boolean(n.multiple),n.multiple?[]:""))}};return s}(),Ge=function(){"use strict";var e=ze,t=Ye,n=w,r=t.valueContextKey,o={mountWrapper:function(e,t,n){var o=n[r],i=null;if(null!=o)if(i=!1,Array.isArray(o)){for(var a=0;a<o.length;a++)if(""+o[a]==""+t.value){i=!0;break}}else i=""+o==""+t.value;e._wrapperState={selected:i}},getNativeProps:function(t,r,o){var i=n({selected:void 0,children:void 0},r);null!=t._wrapperState.selected&&(i.selected=t._wrapperState.selected);var a="";return e.forEach(r.children,function(e){null!=e&&("string"==typeof e||"number"==typeof e)&&(a+=e)}),i.children=a,i}};return o}(),Qe=function(){"use strict";function e(){this._rootNodeID&&s.updateWrapper(this)}function t(t){var n=this._currentElement.props,o=r.executeOnChange(n,t);return i.asap(e,this),o}var r=Ke,o=ue,i=z,a=w,u=n,s={getNativeProps:function(e,t,n){null!=t.dangerouslySetInnerHTML?u(!1):void 0;var r=a({},t,{defaultValue:void 0,value:void 0,children:e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return r},mountWrapper:function(e,n){var o=n.defaultValue,i=n.children;null!=i&&(null!=o?u(!1):void 0,Array.isArray(i)&&(i.length<=1?void 0:u(!1),i=i[0]),o=""+i),null==o&&(o="");var a=r.getValue(n);e._wrapperState={initialValue:""+(null!=a?a:o),onChange:t.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=r.getValue(t);null!=n&&o.updatePropertyByID(e._rootNodeID,"value",""+n)}};return s}(),Xe=function(){"use strict";function e(e,t,r){var o=void 0===e[r];null!=t&&o&&(e[r]=n(t,null))}var t=j,n=ie,r=te,o=He,i={instantiateChildren:function(t,n,r){if(null==t)return null;var i={};return o(t,e,i),i},updateChildren:function(e,o,i,a){if(!o&&!e)return null;var u;for(u in o)if(o.hasOwnProperty(u)){var s=e&&e[u],l=s&&s._currentElement,c=o[u];if(null!=s&&r(l,c))t.receiveComponent(s,c,i,a),o[u]=s;else{s&&t.unmountComponent(s,u);var p=n(c,null);o[u]=p}}for(u in e)!e.hasOwnProperty(u)||o&&o.hasOwnProperty(u)||t.unmountComponent(e[u]);return o},unmountChildren:function(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t.unmountComponent(r)}}};return i}(),$e=function(){"use strict";function e(e,t,n){var r=e,o=void 0===r[n];o&&null!=t&&(r[n]=t)}function t(t){if(null==t)return t;var r={};return n(t,e,r),r}var n=He;return t}(),Ze=function(){"use strict";function e(e,t,n){h.push({parentID:e,parentNode:null,type:s.INSERT_MARKUP,markupIndex:m.push(t)-1,content:null,fromIndex:null,toIndex:n})}function t(e,t,n){h.push({parentID:e,parentNode:null,type:s.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:t,toIndex:n})}function n(e,t){h.push({parentID:e,parentNode:null,type:s.REMOVE_NODE,markupIndex:null,content:null,fromIndex:t,toIndex:null})}function r(e,t){h.push({parentID:e,parentNode:null,type:s.SET_MARKUP,markupIndex:null,content:t,fromIndex:null,toIndex:null})}function o(e,t){h.push({parentID:e,parentNode:null,type:s.TEXT_CONTENT,markupIndex:null,content:t,fromIndex:null,toIndex:null})}function i(){h.length&&(u.processChildrenUpdates(h,m),a())}function a(){h.length=0,m.length=0}var u=Z,s=c,l=j,p=Xe,d=$e,f=0,h=[],m=[],v={Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return p.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r){var o;return o=d(t),p.updateChildren(e,o,n,r)},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var o=[],i=0;for(var a in r)if(r.hasOwnProperty(a)){var u=r[a],s=this._rootNodeID+a,c=l.mountComponent(u,s,t,n);u._mountIndex=i++,o.push(c)}return o},updateTextContent:function(e){f++;var t=!0;try{var n=this._renderedChildren;p.unmountChildren(n);for(var r in n)n.hasOwnProperty(r)&&this._unmountChild(n[r]);this.setTextContent(e),t=!1}finally{f--,f||(t?a():i())}},updateMarkup:function(e){f++;var t=!0;try{var n=this._renderedChildren;p.unmountChildren(n);for(var r in n)n.hasOwnProperty(r)&&this._unmountChildByName(n[r],r);this.setMarkup(e),t=!1}finally{f--,f||(t?a():i())}},updateChildren:function(e,t,n){f++;var r=!0;try{this._updateChildren(e,t,n),r=!1}finally{f--,f||(r?a():i())}},_updateChildren:function(e,t,n){var r=this._renderedChildren,o=this._reconcilerUpdateChildren(r,e,t,n);if(this._renderedChildren=o,o||r){var i,a=0,u=0;for(i in o)if(o.hasOwnProperty(i)){var s=r&&r[i],l=o[i];s===l?(this.moveChild(s,u,a),a=Math.max(s._mountIndex,a),s._mountIndex=u):(s&&(a=Math.max(s._mountIndex,a),this._unmountChild(s)),this._mountChildByNameAtIndex(l,i,u,t,n)),u++}for(i in r)!r.hasOwnProperty(i)||o&&o.hasOwnProperty(i)||this._unmountChild(r[i])}},unmountChildren:function(){var e=this._renderedChildren;p.unmountChildren(e),this._renderedChildren=null},moveChild:function(e,n,r){e._mountIndex<r&&t(this._rootNodeID,e._mountIndex,n)},createChild:function(t,n){e(this._rootNodeID,n,t._mountIndex)},removeChild:function(e){n(this._rootNodeID,e._mountIndex)},setTextContent:function(e){o(this._rootNodeID,e)},setMarkup:function(e){r(this._rootNodeID,e)},_mountChildByNameAtIndex:function(e,t,n,r,o){var i=this._rootNodeID+t,a=l.mountComponent(e,i,r,o);e._mountIndex=n,this.createChild(e,a)},_unmountChild:function(e){this.removeChild(e),e._mountIndex=null}}};return v}(),Je=function(){"use strict";function e(e,n){if(e===n)return!0;if("object"!=typeof e||null===e||"object"!=typeof n||null===n)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(var i=t.bind(n),a=0;a<r.length;a++)if(!i(r[a])||e[r[a]]!==n[r[a]])return!1;return!0}var t=Object.prototype.hasOwnProperty;return e}(),et=function(){"use strict";function e(){return this}function t(){var e=this._reactInternalComponent;return!!e}function r(){}function o(e,t){var n=this._reactInternalComponent;n&&(B.enqueueSetPropsInternal(n,e),t&&B.enqueueCallbackInternal(n,t))}function i(e,t){var n=this._reactInternalComponent;n&&(B.enqueueReplacePropsInternal(n,e),t&&B.enqueueCallbackInternal(n,t))}function a(e,t){t&&(null!=t.dangerouslySetInnerHTML&&(null!=t.children?q(!1):void 0,"object"==typeof t.dangerouslySetInnerHTML&&te in t.dangerouslySetInnerHTML?void 0:q(!1)),null!=t.style&&"object"!=typeof t.style?q(!1):void 0)}function u(e,t,n,r){var o=U.findReactContainerForID(e);if(o){var i=o.nodeType===ne?o.ownerDocument:o;X(t,i)}r.getReactMountReady().enqueue(s,{id:e,registrationName:t,listener:n})}function s(){var e=this;N.putListener(e.id,e.registrationName,e.listener)}function l(){var e=this;e._rootNodeID?void 0:q(!1);var t=U.getNode(e._rootNodeID);switch(t?void 0:q(!1),e._tag){case"iframe":e._wrapperState.listeners=[N.trapBubbledEvent(P.topLevelTypes.topLoad,"load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in re)re.hasOwnProperty(n)&&e._wrapperState.listeners.push(N.trapBubbledEvent(P.topLevelTypes[n],re[n],t));break;case"img":e._wrapperState.listeners=[N.trapBubbledEvent(P.topLevelTypes.topError,"error",t),N.trapBubbledEvent(P.topLevelTypes.topLoad,"load",t)];break;case"form":e._wrapperState.listeners=[N.trapBubbledEvent(P.topLevelTypes.topReset,"reset",t),N.trapBubbledEvent(P.topLevelTypes.topSubmit,"submit",t)]}}function c(){k.mountReadyWrapper(this)}function m(){A.postUpdateWrapper(this)}function g(e){ce.call(le,e)||(ue.test(e)?void 0:q(!1),le[e]=!0)}function E(e,t){return e.indexOf("-")>=0||null!=t.is}function _(e){g(e),this._tag=e.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null}var b=Oe,D=Ve,T=v,M=y,P=C,N=S,R=se,I=Be,k=qe,x=Ge,A=Ye,L=Qe,U=ae,F=Ze,V=p,B=Y,W=w,j=O,K=f,q=n,H=ve,z=d,G=h,Q=N.deleteListener,X=N.listenTo,$=N.registrationNameModules,Z={string:!0,number:!0},J=H({children:null}),ee=H({style:null}),te=H({__html:null}),ne=1,re={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},oe={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},ie={listing:!0,pre:!0,textarea:!0},ue=(W({menuitem:!0},oe),/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/),le={},ce={}.hasOwnProperty;return _.displayName="ReactDOMComponent",_.Mixin={construct:function(e){this._currentElement=e},mountComponent:function(e,t,n){this._rootNodeID=e;var r=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},t.getReactMountReady().enqueue(l,this);break;case"button":r=I.getNativeProps(this,r,n);break;case"input":k.mountWrapper(this,r,n),r=k.getNativeProps(this,r,n);break;case"option":x.mountWrapper(this,r,n),r=x.getNativeProps(this,r,n);break;case"select":A.mountWrapper(this,r,n),r=A.getNativeProps(this,r,n),n=A.processChildContext(this,r,n);break;case"textarea":L.mountWrapper(this,r,n),r=L.getNativeProps(this,r,n)}a(this,r);var o;if(t.useCreateElement){var i=n[U.ownerDocumentContextKey],u=i.createElement(this._currentElement.type);M.setAttributeForID(u,this._rootNodeID),U.getID(u),this._updateDOMProperties({},r,t,u),this._createInitialChildren(t,r,n,u),o=u}else{var s=this._createOpenTagMarkupAndPutListeners(t,r),p=this._createContentMarkup(t,r,n);o=!p&&oe[this._tag]?s+"/>":s+">"+p+"</"+this._currentElement.type+">"}switch(this._tag){case"input":t.getReactMountReady().enqueue(c,this);case"button":case"select":case"textarea":r.autoFocus&&t.getReactMountReady().enqueue(b.focusDOMComponent,this)}return o},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];if(null!=o)if($.hasOwnProperty(r))o&&u(this._rootNodeID,r,o,e);else{r===ee&&(o&&(o=this._previousStyleCopy=W({},t.style)),o=D.createMarkupForStyles(o));var i=null;null!=this._tag&&E(this._tag,t)?r!==J&&(i=M.createMarkupForCustomAttribute(r,o)):i=M.createMarkupForProperty(r,o),i&&(n+=" "+i)}}if(e.renderToStaticMarkup)return n;var a=M.createMarkupForID(this._rootNodeID);return n+" "+a},_createContentMarkup:function(e,t,n){var r="",o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&(r=o.__html);else{var i=Z[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)r=K(i);else if(null!=a){var u=this.mountChildren(a,e,n);r=u.join("")}}return ie[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&z(r,o.__html);else{var i=Z[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)G(r,i);else if(null!=a)for(var u=this.mountChildren(a,e,n),s=0;s<u.length;s++)r.appendChild(u[s])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,r){var o=t.props,i=this._currentElement.props;switch(this._tag){case"button":o=I.getNativeProps(this,o),i=I.getNativeProps(this,i);break;case"input":k.updateWrapper(this),o=k.getNativeProps(this,o),i=k.getNativeProps(this,i);break;case"option":o=x.getNativeProps(this,o),i=x.getNativeProps(this,i);break;case"select":o=A.getNativeProps(this,o),i=A.getNativeProps(this,i);break;case"textarea":L.updateWrapper(this),o=L.getNativeProps(this,o),i=L.getNativeProps(this,i)}a(this,i),this._updateDOMProperties(o,i,e,null),this._updateDOMChildren(o,i,e,r),!j&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=i),"select"===this._tag&&e.getReactMountReady().enqueue(m,this)},_updateDOMProperties:function(e,t,n,r){var o,i,a;for(o in e)if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o))if(o===ee){var s=this._previousStyleCopy;for(i in s)s.hasOwnProperty(i)&&(a=a||{},a[i]="");this._previousStyleCopy=null}else $.hasOwnProperty(o)?e[o]&&Q(this._rootNodeID,o):(T.properties[o]||T.isCustomAttribute(o))&&(r||(r=U.getNode(this._rootNodeID)),M.deleteValueForProperty(r,o));for(o in t){var l=t[o],c=o===ee?this._previousStyleCopy:e[o];if(t.hasOwnProperty(o)&&l!==c)if(o===ee)if(l?l=this._previousStyleCopy=W({},l):this._previousStyleCopy=null,c){for(i in c)!c.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(a=a||{},a[i]="");for(i in l)l.hasOwnProperty(i)&&c[i]!==l[i]&&(a=a||{},a[i]=l[i])}else a=l;else $.hasOwnProperty(o)?l?u(this._rootNodeID,o,l,n):c&&Q(this._rootNodeID,o):E(this._tag,t)?(r||(r=U.getNode(this._rootNodeID)),o===J&&(l=null),M.setValueForAttribute(r,o,l)):(T.properties[o]||T.isCustomAttribute(o))&&(r||(r=U.getNode(this._rootNodeID)),null!=l?M.setValueForProperty(r,o,l):M.deleteValueForProperty(r,o))}a&&(r||(r=U.getNode(this._rootNodeID)),D.setValueForStyles(r,a))},_updateDOMChildren:function(e,t,n,r){var o=Z[typeof e.children]?e.children:null,i=Z[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,u=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,s=null!=o?null:e.children,l=null!=i?null:t.children,c=null!=o||null!=a,p=null!=i||null!=u;null!=s&&null==l?this.updateChildren(null,n,r):c&&!p&&this.updateTextContent(""),null!=i?o!==i&&this.updateTextContent(""+i):null!=u?a!==u&&this.updateMarkup(""+u):null!=l&&this.updateChildren(l,n,r)},unmountComponent:function(){switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":var e=this._wrapperState.listeners;if(e)for(var t=0;t<e.length;t++)e[t].remove();break;case"input":k.unmountWrapper(this);break;case"html":case"head":case"body":q(!1)}if(this.unmountChildren(),N.deleteAllListeners(this._rootNodeID),R.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._wrapperState=null,this._nodeWithLegacyProperties){var n=this._nodeWithLegacyProperties;n._reactInternalComponent=null,this._nodeWithLegacyProperties=null}},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var n=U.getNode(this._rootNodeID);n._reactInternalComponent=this,n.getDOMNode=e,n.isMounted=t,n.setState=r,n.replaceState=r,n.forceUpdate=r,n.setProps=o,n.replaceProps=i,n.props=this._currentElement.props,this._nodeWithLegacyProperties=n}return this._nodeWithLegacyProperties}},V.measureMethods(_,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),W(_.prototype,_.Mixin,F.Mixin),_}(),tt=function(){"use strict";var e=u,t={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(t,n,r){return t.addEventListener?(t.addEventListener(n,r,!0),{remove:function(){t.removeEventListener(n,r,!0)}}):{remove:e}},registerDefault:function(){}};return t}(),nt=function(){"use strict";function e(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}return e}(),rt=function(){"use strict";function e(e){var t=c.getID(e),n=l.getReactRootIDFromNodeID(t),r=c.findReactContainerForID(n),o=c.getFirstReactDOM(r);return o}function n(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function r(e){o(e)}function o(t){for(var n=c.getFirstReactDOM(f(t.nativeEvent))||window,r=n;r;)t.ancestors.push(r),r=e(r);for(var o=0;o<t.ancestors.length;o++){n=t.ancestors[o];var i=c.getID(n)||"";m._handleTopLevel(t.topLevelType,n,i,t.nativeEvent,f(t.nativeEvent))}}function i(e){var t=h(window);e(t)}var a=tt,u=t,s=K,l=L,c=ae,p=z,d=w,f=ye,h=nt;d(n.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),s.addPoolingTo(n,s.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:u.canUseDOM?window:null,setHandleTopLevel:function(e){m._handleTopLevel=e},setEnabled:function(e){m._enabled=!!e},isEnabled:function(){return m._enabled},trapBubbledEvent:function(e,t,n){var r=n;return r?a.listen(r,t,m.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){var r=n;return r?a.capture(r,t,m.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=i.bind(null,e);a.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(m._enabled){var o=n.getPooled(e,t);try{p.batchedUpdates(r,o)}finally{n.release(o)}}}};return m}(),ot=function(){"use strict";function e(e,t){}var t={isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(t){e(t,"forceUpdate")},enqueueReplaceState:function(t,n){e(t,"replaceState")},enqueueSetState:function(t,n){e(t,"setState")},enqueueSetProps:function(t,n){e(t,"setProps")},enqueueReplaceProps:function(t,n){e(t,"replaceProps")}};return t}(),it=function(){"use strict";function e(e,n,o){this.props=e,this.context=n,this.refs=r,this.updater=o||t}var t=ot,r=G,o=n;return e.prototype.isReactComponent={},e.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?o(!1):void 0,this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t)},e.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e)},e}(),at=function(){"use strict";function e(e,t){var n=_.hasOwnProperty(t)?_[t]:null;D.hasOwnProperty(t)&&(n!==C.OVERRIDE_BASE?m(!1):void 0),e.hasOwnProperty(t)&&(n!==C.DEFINE_MANY&&n!==C.DEFINE_MANY_MERGED?m(!1):void 0)}function t(t,n){if(n){"function"==typeof n?m(!1):void 0,p.isValidElement(n)?m(!1):void 0;var r=t.prototype;n.hasOwnProperty(y)&&b.mixins(t,n.mixins);for(var o in n)if(n.hasOwnProperty(o)&&o!==y){var u=n[o];if(e(r,o),b.hasOwnProperty(o))b[o](t,u);else{var s=_.hasOwnProperty(o),l=r.hasOwnProperty(o),c="function"==typeof u,d=c&&!s&&!l&&n.autobind!==!1;if(d)r.__reactAutoBindMap||(r.__reactAutoBindMap={}),r.__reactAutoBindMap[o]=u,r[o]=u;else if(l){var f=_[o];!s||f!==C.DEFINE_MANY_MERGED&&f!==C.DEFINE_MANY?m(!1):void 0,f===C.DEFINE_MANY_MERGED?r[o]=i(r[o],u):f===C.DEFINE_MANY&&(r[o]=a(r[o],u))}else r[o]=u}}}}function r(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var o=n in b;o?m(!1):void 0;var i=n in e;i?m(!1):void 0,e[n]=r}}}function o(e,t){e&&t&&"object"==typeof e&&"object"==typeof t?void 0:m(!1);for(var n in t)t.hasOwnProperty(n)&&(void 0!==e[n]?m(!1):void 0,e[n]=t[n]);return e}function i(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return o(i,n),o(i,r),i}}function a(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function u(e,t){var n=t.bind(e);return n}function s(e){for(var t in e.__reactAutoBindMap)if(e.__reactAutoBindMap.hasOwnProperty(t)){var n=e.__reactAutoBindMap[t];e[t]=u(e,n)}}var c=it,p=k,d=ot,f=w,h=G,m=n,v=l,g=ve,y=g({mixins:null}),C=v({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),E=[],_={mixins:C.DEFINE_MANY,statics:C.DEFINE_MANY,propTypes:C.DEFINE_MANY,contextTypes:C.DEFINE_MANY,childContextTypes:C.DEFINE_MANY,getDefaultProps:C.DEFINE_MANY_MERGED,getInitialState:C.DEFINE_MANY_MERGED,getChildContext:C.DEFINE_MANY_MERGED,render:C.DEFINE_ONCE,componentWillMount:C.DEFINE_MANY,componentDidMount:C.DEFINE_MANY,componentWillReceiveProps:C.DEFINE_MANY,shouldComponentUpdate:C.DEFINE_ONCE,componentWillUpdate:C.DEFINE_MANY,componentDidUpdate:C.DEFINE_MANY,componentWillUnmount:C.DEFINE_MANY,updateComponent:C.OVERRIDE_BASE},b={displayName:function(e,t){e.displayName=t},mixins:function(e,n){if(n)for(var r=0;r<n.length;r++)t(e,n[r])},childContextTypes:function(e,t){e.childContextTypes=f({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=f({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=i(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=f({},e.propTypes,t)},statics:function(e,t){r(e,t)},autobind:function(){}},D={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(e,t){this.updater.enqueueSetProps(this,e),t&&this.updater.enqueueCallback(this,t)},replaceProps:function(e,t){this.updater.enqueueReplaceProps(this,e),t&&this.updater.enqueueCallback(this,t)}},T=function(){};f(T.prototype,c.prototype,D);var M={createClass:function(e){var n=function(e,t,n){this.__reactAutoBindMap&&s(this),this.props=e,this.context=t,this.refs=h,this.updater=n||d,this.state=null;var r=this.getInitialState?this.getInitialState():null;"object"!=typeof r||Array.isArray(r)?m(!1):void 0,this.state=r};n.prototype=new T,n.prototype.constructor=n,E.forEach(t.bind(null,n)),t(n,e),n.getDefaultProps&&(n.defaultProps=n.getDefaultProps()),n.prototype.render?void 0:m(!1);for(var r in _)n.prototype[r]||(n.prototype[r]=null);return n},injection:{injectMixin:function(e){E.push(e)}}};return M}(),ut=function(){"use strict";var e=v,t=M,n=Z,r=at,o=re,i=S,a=oe,u=p,s=A,l=z,c={Component:n.injection,Class:r.injection,DOMProperty:e.injection,EmptyComponent:o.injection,EventPluginHub:t.injection,EventEmitter:i.injection,NativeComponent:a.injection,Perf:u.injection,RootIndex:s.injection,Updates:l.injection};return c}(),st=function(){"use strict";function e(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function t(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function n(n,r){for(var o=e(n),i=0,a=0;o;){if(3===o.nodeType){if(a=i+o.textContent.length,r>=i&&a>=r)return{node:o,offset:r-i};i=a}o=e(t(o))}}return n}(),lt=function(){"use strict";function e(e,t,n,r){return e===n&&t===r}function n(e){var t=document.selection,n=t.createRange(),r=n.text.length,o=n.duplicate();o.moveToElementText(e),o.setEndPoint("EndToStart",n);var i=o.text.length,a=i+r;return{start:i,end:a}}function r(t){var n=window.getSelection&&window.getSelection();if(!n||0===n.rangeCount)return null;var r=n.anchorNode,o=n.anchorOffset,i=n.focusNode,a=n.focusOffset,u=n.getRangeAt(0);try{u.startContainer.nodeType,u.endContainer.nodeType}catch(s){return null}var l=e(n.anchorNode,n.anchorOffset,n.focusNode,n.focusOffset),c=l?0:u.toString().length,p=u.cloneRange();p.selectNodeContents(t),p.setEnd(u.startContainer,u.startOffset);var d=e(p.startContainer,p.startOffset,p.endContainer,p.endOffset),f=d?0:p.toString().length,h=f+c,m=document.createRange();m.setStart(r,o),m.setEnd(i,a);var v=m.collapsed;return{start:v?h:f,end:v?f:h}}function o(e,t){var n,r,o=document.selection.createRange().duplicate();"undefined"==typeof t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),o.moveToElementText(e),o.moveStart("character",n),o.setEndPoint("EndToStart",o),o.moveEnd("character",r-n),o.select()}function i(e,t){if(window.getSelection){var n=window.getSelection(),r=e[s()].length,o=Math.min(t.start,r),i="undefined"==typeof t.end?o:Math.min(t.end,r);if(!n.extend&&o>i){var a=i;i=o,o=a}var l=u(e,o),c=u(e,i);if(l&&c){var p=document.createRange();p.setStart(l.node,l.offset),n.removeAllRanges(),o>i?(n.addRange(p),n.extend(c.node,c.offset)):(p.setEnd(c.node,c.offset),n.addRange(p))}}}var a=t,u=st,s=pe,l=a.canUseDOM&&"selection"in document&&!("getSelection"in window),c={getOffsets:l?n:r,setOffsets:l?o:i};return c}(),ct=function(){"use strict";function e(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}return e}(),pt=function(){"use strict";function e(e){return n(document.documentElement,e)}var t=lt,n=$,r=Ie,o=ct,i={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=o();return{focusedElem:e,selectionRange:i.hasSelectionCapabilities(e)?i.getSelection(e):null}},restoreSelection:function(t){var n=o(),a=t.focusedElem,u=t.selectionRange;n!==a&&e(a)&&(i.hasSelectionCapabilities(a)&&i.setSelection(a,u),r(a))},getSelection:function(e){var n;if("selectionStart"in e)n={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var r=document.selection.createRange();r.parentElement()===e&&(n={start:-r.moveStart("character",-e.value.length),end:-r.moveEnd("character",-e.value.length)})}else n=t.getOffsets(e);return n||{start:0,end:0}},setSelection:function(e,n){var r=n.start,o=n.end;if("undefined"==typeof o&&(o=r),"selectionStart"in e)e.selectionStart=r,e.selectionEnd=Math.min(o,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var i=e.createTextRange();i.collapse(!0),i.moveStart("character",r),i.moveEnd("character",o-r),i.select()}else t.setOffsets(e,n)}};return i}(),dt=function(){"use strict";function e(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=t.getPooled(null),this.useCreateElement=!e&&o.useCreateElement}var t=q,n=K,r=S,o=I,i=pt,a=H,u=w,s={initialize:i.getSelectionInformation,close:i.restoreSelection},l={initialize:function(){var e=r.isEnabled();return r.setEnabled(!1),e},close:function(e){r.setEnabled(e)}},c={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},p=[s,l,c],d={getTransactionWrappers:function(){return p},getReactMountReady:function(){return this.reactMountReady},destructor:function(){t.release(this.reactMountReady),this.reactMountReady=null}};return u(e.prototype,a.Mixin,d),n.addPoolingTo(e),e}(),ft=function(){"use strict";function e(e){if("selectionStart"in e&&a.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function n(t,n){if(y||null==m||m!==s())return null;var r=e(m);if(!g||!p(g,r)){g=r;var i=u.getPooled(h.select,v,t,n);return i.type="select",i.target=m,o.accumulateTwoPhaseDispatches(i),i}return null}var r=C,o=ce,i=t,a=pt,u=fe,s=ct,l=Ce,c=ve,p=Je,d=r.topLevelTypes,f=i.canUseDOM&&"documentMode"in document&&document.documentMode<=11,h={select:{phasedRegistrationNames:{bubbled:c({onSelect:null}),captured:c({onSelectCapture:null})},dependencies:[d.topBlur,d.topContextMenu,d.topFocus,d.topKeyDown,d.topMouseDown,d.topMouseUp,d.topSelectionChange]}},m=null,v=null,g=null,y=!1,E=!1,_=c({onSelect:null}),b={eventTypes:h,extractEvents:function(e,t,r,o,i){if(!E)return null;switch(e){case d.topFocus:(l(t)||"true"===t.contentEditable)&&(m=t,v=r,g=null);break;case d.topBlur:m=null,v=null,g=null;break;case d.topMouseDown:y=!0;break;case d.topContextMenu:case d.topMouseUp:return y=!1,n(o,i);case d.topSelectionChange:if(f)break;case d.topKeyDown:case d.topKeyUp:return n(o,i)}return null},didPutListener:function(e,t,n){t===_&&(E=!0)}};return b}(),ht=function(){"use strict";var e=Math.pow(2,53),t={createReactRootIndex:function(){return Math.ceil(Math.random()*e)}};return t}(),mt=function(){"use strict";function e(e,n,r,o){t.call(this,e,n,r,o)}var t=fe,n={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};return t.augmentClass(e,n),e}(),vt=function(){"use strict";function e(e,n,r,o){t.call(this,e,n,r,o)}var t=De,n={relatedTarget:null};return t.augmentClass(e,n),e}(),gt=function(){"use strict";function e(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}return e}(),yt=function(){"use strict";function e(e){if(e.key){var o=n[e.key]||e.key;if("Unidentified"!==o)return o}if("keypress"===e.type){var i=t(e);return 13===i?"Enter":String.fromCharCode(i)}return"keydown"===e.type||"keyup"===e.type?r[e.keyCode]||"Unidentified":""}var t=gt,n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};return e}(),Ct=function(){"use strict";function e(e,n,r,o){t.call(this,e,n,r,o)}var t=De,n=gt,r=yt,o=Te,i={key:r,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:o,charCode:function(e){return"keypress"===e.type?n(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?n(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};return t.augmentClass(e,i),e}(),Et=function(){"use strict";function e(e,n,r,o){t.call(this,e,n,r,o)}var t=Me,n={dataTransfer:null};return t.augmentClass(e,n),e}(),_t=function(){"use strict";function e(e,n,r,o){t.call(this,e,n,r,o)}var t=De,n=Te,r={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:n};return t.augmentClass(e,r),e}(),bt=function(){"use strict";function e(e,n,r,o){t.call(this,e,n,r,o)}var t=Me,n={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};return t.augmentClass(e,n),e}(),Dt=function(){"use strict";var e=C,t=tt,r=ce,o=ae,i=mt,a=fe,s=vt,l=Ct,c=Me,p=Et,d=_t,f=De,h=bt,m=u,v=gt,g=n,y=ve,E=e.topLevelTypes,_={abort:{phasedRegistrationNames:{bubbled:y({onAbort:!0}),captured:y({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:y({onBlur:!0}),captured:y({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:y({onCanPlay:!0}),captured:y({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:y({onCanPlayThrough:!0}),captured:y({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:y({onClick:!0}),captured:y({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:y({onContextMenu:!0}),captured:y({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:y({onCopy:!0}),captured:y({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:y({onCut:!0}),captured:y({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:y({onDoubleClick:!0}),captured:y({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:y({onDrag:!0}),captured:y({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:y({onDragEnd:!0}),captured:y({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:y({onDragEnter:!0}),captured:y({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:y({onDragExit:!0}),captured:y({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:y({onDragLeave:!0}),captured:y({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:y({onDragOver:!0}),captured:y({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:y({onDragStart:!0}),captured:y({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:y({onDrop:!0}),captured:y({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:y({onDurationChange:!0}),captured:y({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:y({onEmptied:!0}),captured:y({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:y({onEncrypted:!0}),captured:y({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:y({onEnded:!0}),captured:y({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:y({onError:!0}),captured:y({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:y({onFocus:!0}),captured:y({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:y({onInput:!0}),captured:y({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:y({onKeyDown:!0}),captured:y({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:y({onKeyPress:!0}),captured:y({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:y({onKeyUp:!0}),captured:y({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:y({onLoad:!0}),captured:y({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:y({onLoadedData:!0}),captured:y({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:y({onLoadedMetadata:!0}),captured:y({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:y({onLoadStart:!0}),captured:y({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:y({onMouseDown:!0}),captured:y({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:y({onMouseMove:!0}),captured:y({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:y({onMouseOut:!0}),captured:y({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:y({onMouseOver:!0}),captured:y({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:y({onMouseUp:!0}),captured:y({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:y({onPaste:!0}),captured:y({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:y({onPause:!0}),captured:y({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:y({onPlay:!0}),captured:y({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:y({onPlaying:!0}),captured:y({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:y({onProgress:!0}),captured:y({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:y({onRateChange:!0}),captured:y({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:y({onReset:!0}),captured:y({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:y({onScroll:!0}),captured:y({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:y({onSeeked:!0}),captured:y({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:y({onSeeking:!0}),captured:y({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:y({onStalled:!0}),captured:y({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:y({onSubmit:!0}),captured:y({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:y({onSuspend:!0}),captured:y({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:y({onTimeUpdate:!0}),captured:y({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:y({onTouchCancel:!0}),captured:y({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:y({onTouchEnd:!0}),captured:y({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:y({onTouchMove:!0}),captured:y({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:y({onTouchStart:!0}),captured:y({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:y({onVolumeChange:!0}),captured:y({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:y({onWaiting:!0}),captured:y({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:y({onWheel:!0}),captured:y({onWheelCapture:!0})}}},b={topAbort:_.abort,topBlur:_.blur,topCanPlay:_.canPlay,topCanPlayThrough:_.canPlayThrough,topClick:_.click,topContextMenu:_.contextMenu,topCopy:_.copy,topCut:_.cut,topDoubleClick:_.doubleClick,topDrag:_.drag,topDragEnd:_.dragEnd,topDragEnter:_.dragEnter,topDragExit:_.dragExit,topDragLeave:_.dragLeave,topDragOver:_.dragOver,topDragStart:_.dragStart,topDrop:_.drop,topDurationChange:_.durationChange,topEmptied:_.emptied,topEncrypted:_.encrypted,topEnded:_.ended,topError:_.error,topFocus:_.focus,topInput:_.input,topKeyDown:_.keyDown,topKeyPress:_.keyPress,topKeyUp:_.keyUp,topLoad:_.load,topLoadedData:_.loadedData,topLoadedMetadata:_.loadedMetadata,topLoadStart:_.loadStart,topMouseDown:_.mouseDown,topMouseMove:_.mouseMove,topMouseOut:_.mouseOut,topMouseOver:_.mouseOver,topMouseUp:_.mouseUp,topPaste:_.paste,topPause:_.pause,topPlay:_.play,topPlaying:_.playing,topProgress:_.progress,topRateChange:_.rateChange,topReset:_.reset,topScroll:_.scroll,topSeeked:_.seeked,topSeeking:_.seeking,topStalled:_.stalled,topSubmit:_.submit,topSuspend:_.suspend,topTimeUpdate:_.timeUpdate,topTouchCancel:_.touchCancel,topTouchEnd:_.touchEnd,topTouchMove:_.touchMove,topTouchStart:_.touchStart,topVolumeChange:_.volumeChange,topWaiting:_.waiting,topWheel:_.wheel};for(var D in b)b[D].dependencies=[D];var T=y({onClick:null}),M={},P={eventTypes:_,extractEvents:function(e,t,n,o,u){var m=b[e];if(!m)return null;var y;switch(e){case E.topAbort:case E.topCanPlay:case E.topCanPlayThrough:case E.topDurationChange:case E.topEmptied:case E.topEncrypted:case E.topEnded:case E.topError:case E.topInput:case E.topLoad:case E.topLoadedData:case E.topLoadedMetadata:case E.topLoadStart:case E.topPause:case E.topPlay:case E.topPlaying:case E.topProgress:case E.topRateChange:case E.topReset:case E.topSeeked:case E.topSeeking:case E.topStalled:case E.topSubmit:case E.topSuspend:case E.topTimeUpdate:case E.topVolumeChange:case E.topWaiting:y=a;break;case E.topKeyPress:if(0===v(o))return null;case E.topKeyDown:case E.topKeyUp:y=l;break;case E.topBlur:case E.topFocus:y=s;break;case E.topClick:if(2===o.button)return null;case E.topContextMenu:case E.topDoubleClick:case E.topMouseDown:case E.topMouseMove:case E.topMouseOut:case E.topMouseOver:case E.topMouseUp:y=c;break;case E.topDrag:case E.topDragEnd:case E.topDragEnter:case E.topDragExit:case E.topDragLeave:case E.topDragOver:case E.topDragStart:case E.topDrop:y=p;break;case E.topTouchCancel:case E.topTouchEnd:case E.topTouchMove:case E.topTouchStart:y=d;break;case E.topScroll:y=f;break;case E.topWheel:y=h;break;case E.topCopy:case E.topCut:case E.topPaste:y=i}y?void 0:g(!1);var C=y.getPooled(m,n,o,u);return r.accumulateTwoPhaseDispatches(C),C},didPutListener:function(e,n,r){if(n===T){var i=o.getNode(e);M[e]||(M[e]=t.listen(i,"click",m))}},willDeleteListener:function(e,t){t===T&&(M[e].remove(),delete M[e])}};return P}(),Tt=function(){"use strict";var e=v,t=e.injection.MUST_USE_ATTRIBUTE,n={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},r={Properties:{clipPath:t,cx:t,cy:t,d:t,dx:t,dy:t,fill:t,fillOpacity:t,fontFamily:t,fontSize:t,fx:t,fy:t,gradientTransform:t,gradientUnits:t,markerEnd:t,markerMid:t,markerStart:t,offset:t,opacity:t,patternContentUnits:t,patternUnits:t,points:t,preserveAspectRatio:t,r:t,rx:t,ry:t,spreadMethod:t,stopColor:t,stopOpacity:t,stroke:t,strokeDasharray:t,strokeLinecap:t,strokeOpacity:t,strokeWidth:t,textAnchor:t,transform:t,version:t,viewBox:t,x1:t,x2:t,x:t,xlinkActuate:t,xlinkArcrole:t,xlinkHref:t,xlinkRole:t,xlinkShow:t,xlinkTitle:t,xlinkType:t,xmlBase:t,xmlLang:t,xmlSpace:t,y1:t,y2:t,y:t},DOMAttributeNamespaces:{xlinkActuate:n.xlink,xlinkArcrole:n.xlink,xlinkHref:n.xlink,xlinkRole:n.xlink,xlinkShow:n.xlink,xlinkTitle:n.xlink,xlinkType:n.xlink,xmlBase:n.xml,xmlLang:n.xml,xmlSpace:n.xml},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}};return r}(),Mt=function(){"use strict";function e(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];t+=r.totalTime}return t}function t(e){var t=[];return e.forEach(function(e){Object.keys(e.writes).forEach(function(n){e.writes[n].forEach(function(e){t.push({id:n,type:u[e.type]||e.type,args:e.args})})})}),t}function n(e){for(var t,n={},r=0;r<e.length;r++){var o=e[r],u=i({},o.exclusive,o.inclusive);for(var s in u)t=o.displayNames[s].current,n[t]=n[t]||{componentName:t,inclusive:0,exclusive:0,render:0,count:0},o.render[s]&&(n[t].render+=o.render[s]),o.exclusive[s]&&(n[t].exclusive+=o.exclusive[s]),o.inclusive[s]&&(n[t].inclusive+=o.inclusive[s]),o.counts[s]&&(n[t].count+=o.counts[s])}var l=[];for(t in n)n[t].exclusive>=a&&l.push(n[t]);return l.sort(function(e,t){return t.exclusive-e.exclusive}),l}function r(e,t){for(var n,r={},u=0;u<e.length;u++){var s,l=e[u],c=i({},l.exclusive,l.inclusive);t&&(s=o(l));for(var p in c)if(!t||s[p]){var d=l.displayNames[p];n=d.owner+" > "+d.current,r[n]=r[n]||{componentName:n,time:0,count:0},l.inclusive[p]&&(r[n].time+=l.inclusive[p]),l.counts[p]&&(r[n].count+=l.counts[p])}}var f=[];for(n in r)r[n].time>=a&&f.push(r[n]);return f.sort(function(e,t){return t.time-e.time}),f}function o(e){var t={},n=Object.keys(e.writes),r=i({},e.exclusive,e.inclusive);for(var o in r){for(var a=!1,u=0;u<n.length;u++)if(0===n[u].indexOf(o)){a=!0;break}e.created[o]&&(a=!0),!a&&e.counts[o]>0&&(t[o]=!0)}return t}var i=w,a=1.2,u={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",SET_MARKUP:"set innerHTML",TEXT_CONTENT:"set textContent",setValueForProperty:"update attribute",setValueForAttribute:"update attribute",deleteValueForProperty:"remove attribute",dangerouslyReplaceNodeWithMarkupByID:"replace"},s={getExclusiveSummary:n,getInclusiveSummary:r,getDOMSummary:t,getTotalTime:e};return s}(),Pt=function(){"use strict";var e,n=t;return n.canUseDOM&&(e=window.performance||window.msPerformance||window.webkitPerformance),e||{}}(),Nt=function(){"use strict";var e=Pt,t=e;t&&t.now||(t=Date);var n=t.now.bind(t);return n}(),wt=(function(){"use strict";function e(e){return Math.floor(100*e)/100}function t(e,t,n){e[t]=(e[t]||0)+n}var n=v,r=Mt,o=ae,i=p,a=Nt,u={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){u._injected||i.injection.injectMeasure(u.measure),u._allMeasurements.length=0,i.enableMeasure=!0},stop:function(){i.enableMeasure=!1},getLastMeasurements:function(){return u._allMeasurements},printExclusive:function(t){t=t||u._allMeasurements;var n=r.getExclusiveSummary(t);console.table(n.map(function(t){return{"Component class name":t.componentName,"Total inclusive time (ms)":e(t.inclusive),"Exclusive mount time (ms)":e(t.exclusive),"Exclusive render time (ms)":e(t.render),"Mount time per instance (ms)":e(t.exclusive/t.count),"Render time per instance (ms)":e(t.render/t.count),Instances:t.count}}))},printInclusive:function(t){t=t||u._allMeasurements;var n=r.getInclusiveSummary(t);console.table(n.map(function(t){return{"Owner > component":t.componentName,"Inclusive time (ms)":e(t.time),Instances:t.count}})),console.log("Total time:",r.getTotalTime(t).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(e){var t=r.getInclusiveSummary(e,!0);return t.map(function(e){return{"Owner > component":e.componentName,"Wasted time (ms)":e.time,Instances:e.count}})},printWasted:function(e){e=e||u._allMeasurements,console.table(u.getMeasurementsSummaryMap(e)),console.log("Total time:",r.getTotalTime(e).toFixed(2)+" ms")},printDOM:function(e){e=e||u._allMeasurements;var t=r.getDOMSummary(e);console.table(t.map(function(e){var t={};return t[n.ID_ATTRIBUTE_NAME]=e.id,t.type=e.type,t.args=JSON.stringify(e.args),t})),console.log("Total time:",r.getTotalTime(e).toFixed(2)+" ms")},_recordWrite:function(e,t,n,r){var o=u._allMeasurements[u._allMeasurements.length-1].writes;o[e]=o[e]||[],o[e].push({type:t,time:n,args:r})},measure:function(e,n,r){return function(){for(var i=arguments.length,s=Array(i),l=0;i>l;l++)s[l]=arguments[l];var c,p,d;if("_renderNewRootComponent"===n||"flushBatchedUpdates"===n)return u._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0,created:{}}),d=a(),p=r.apply(this,s),u._allMeasurements[u._allMeasurements.length-1].totalTime=a()-d,p;if("_mountImageIntoNode"===n||"ReactBrowserEventEmitter"===e||"ReactDOMIDOperations"===e||"CSSPropertyOperations"===e||"DOMChildrenOperations"===e||"DOMPropertyOperations"===e){if(d=a(),p=r.apply(this,s),c=a()-d,"_mountImageIntoNode"===n){var f=o.getID(s[1]);u._recordWrite(f,n,c,s[0])}else if("dangerouslyProcessChildrenUpdates"===n)s[0].forEach(function(e){var t={};null!==e.fromIndex&&(t.fromIndex=e.fromIndex),null!==e.toIndex&&(t.toIndex=e.toIndex),null!==e.textContent&&(t.textContent=e.textContent),null!==e.markupIndex&&(t.markup=s[1][e.markupIndex]),u._recordWrite(e.parentID,e.type,c,t)});else{var h=s[0];"object"==typeof h&&(h=o.getID(s[0])),u._recordWrite(h,n,c,Array.prototype.slice.call(s,1))}return p}if("ReactCompositeComponent"!==e||"mountComponent"!==n&&"updateComponent"!==n&&"_renderValidatedComponent"!==n)return r.apply(this,s);if(this._currentElement.type===o.TopLevelWrapper)return r.apply(this,s);var m="mountComponent"===n?s[0]:this._rootNodeID,v="_renderValidatedComponent"===n,g="mountComponent"===n,y=u._mountStack,C=u._allMeasurements[u._allMeasurements.length-1];if(v?t(C.counts,m,1):g&&(C.created[m]=!0,y.push(0)),d=a(),p=r.apply(this,s),c=a()-d,v)t(C.render,m,c);else if(g){var E=y.pop();y[y.length-1]+=c,t(C.exclusive,m,c-E),t(C.inclusive,m,c)}else t(C.inclusive,m,c);return C.displayNames[m]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},p}}};return u}(),function(){"use strict";function e(){D||(D=!0,m.EventEmitter.injectReactEventListener(h),m.EventPluginHub.injectEventPluginOrder(i),m.EventPluginHub.injectInstanceHandle(v),m.EventPluginHub.injectMount(g),m.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:_,EnterLeaveEventPlugin:a,ChangeEventPlugin:r,SelectEventPlugin:C,BeforeInputEventPlugin:n}),m.NativeComponent.injectGenericComponentClass(d),m.NativeComponent.injectTextComponentClass(f),m.Class.injectMixin(l),m.DOMProperty.injectDOMPropertyConfig(s),m.DOMProperty.injectDOMPropertyConfig(b),m.EmptyComponent.injectEmptyComponent("noscript"),m.Updates.injectReconcileTransaction(y),m.Updates.injectBatchingStrategy(p),m.RootIndex.injectCreateReactRootIndex(u.canUseDOM?o.createReactRootIndex:E.createReactRootIndex),m.Component.injectEnvironment(c))}var n=ge,r=Ee,o=_e,i=be,a=Pe,u=t,s=Ne,l=Re,c=se,p=Se,d=et,f=le,h=rt,m=ut,v=L,g=ae,y=dt,C=ft,E=ht,_=Dt,b=Tt,D=!1;return{inject:e}}()),Rt=function(){"use strict";return"0.14.3"}(),St=function(){"use strict";var e=ae;return e.renderSubtreeIntoContainer}(),It=function(){"use strict";var t=e,n=le,r=wt,o=L,i=ae,a=p,u=j,s=z,l=Rt,c=we,d=St;r.inject();var f=a.measure("React","render",i.render),h={findDOMNode:c,render:f,unmountComponentAtNode:i.unmountComponentAtNode,version:l,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:d};return"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:t,InstanceHandles:o,Mount:i,Reconciler:u,TextComponent:n}),h}(),Ot=function(){"use strict";var e={isBatchingUpdates:!1,batchedUpdates:function(e){}};return e}(),kt=function(){"use strict";function e(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.reactMountReady=n.getPooled(null),this.useCreateElement=!1}var t=K,n=q,r=H,o=w,i=u,a={initialize:function(){this.reactMountReady.reset()},close:i},s=[a],l={getTransactionWrappers:function(){return s},getReactMountReady:function(){return this.reactMountReady},destructor:function(){n.release(this.reactMountReady),this.reactMountReady=null}};return o(e.prototype,r.Mixin,l),t.addPoolingTo(e),e}(),xt=function(){"use strict";function e(e){o.isValidElement(e)?void 0:d(!1);var t;try{l.injection.injectBatchingStrategy(u);var n=i.createReactRootID();return t=s.getPooled(!1),t.perform(function(){var r=p(e,null),o=r.mountComponent(n,t,c);return a.addChecksumToMarkup(o)},null)}finally{s.release(t),l.injection.injectBatchingStrategy(r)}}function t(e){o.isValidElement(e)?void 0:d(!1);var t;try{l.injection.injectBatchingStrategy(u);var n=i.createReactRootID();return t=s.getPooled(!0),t.perform(function(){var r=p(e,null);return r.mountComponent(n,t,c)},null)}finally{s.release(t),l.injection.injectBatchingStrategy(r)}}var r=Se,o=k,i=L,a=V,u=Ot,s=kt,l=z,c=G,p=ie,d=n;return{renderToString:e,renderToStaticMarkup:t}}(),At=function(){"use strict";var e=wt,t=xt,n=Rt;e.inject();var r={renderToString:t.renderToString,renderToStaticMarkup:t.renderToStaticMarkup,version:n};return r}(),Lt=(function(){"use strict";function t(){if(c.current){var e=c.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function r(e,t){e._store&&!e._store.validated&&null==e.key&&(e._store.validated=!0,o("uniqueKey",e,t))}function o(e,n,r){var o=t();if(!o){var i="string"==typeof r?r:r.displayName||r.name;i&&(o=" Check the top-level render call using <"+i+">.")}var a=f[e]||(f[e]={});if(a[o])return null;a[o]=!0;var u={parentOrOwner:o,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return n&&n._owner&&n._owner!==c.current&&(u.childOwner=" It was passed a child from "+n._owner.getName()+"."),u}function i(e,t){if("object"==typeof e)if(Array.isArray(e))for(var n=0;n<e.length;n++){var o=e[n];s.isValidElement(o)&&r(o,t)}else if(s.isValidElement(e))e._store&&(e._store.validated=!0);else if(e){var i=p(e);if(i&&i!==e.entries)for(var a,u=i.call(e);!(a=u.next()).done;)s.isValidElement(a.value)&&r(a.value,t)}}function a(e,n,r,o){for(var i in n)if(n.hasOwnProperty(i)){var a;try{"function"!=typeof n[i]?d(!1):void 0,a=n[i](r,i,e,o)}catch(u){a=u}a instanceof Error&&!(a.message in h)&&(h[a.message]=!0,t())}}function u(e){var t=e.type;if("function"==typeof t){var n=t.displayName||t.name;t.propTypes&&a(n,t.propTypes,e.props,l.prop),"function"==typeof t.getDefaultProps}}var s=k,l=J,c=e,p=We,d=n,f={},h={},m={createElement:function(e,t,n){var r="string"==typeof e||"function"==typeof e,o=s.createElement.apply(this,arguments);if(null==o)return o;if(r)for(var a=2;a<arguments.length;a++)i(arguments[a],e);return u(o),o},createFactory:function(e){var t=m.createElement.bind(null,e);return t.type=e,t},cloneElement:function(e,t,n){for(var r=s.cloneElement.apply(this,arguments),o=2;o<arguments.length;o++)i(arguments[o],r.type);return u(r),r}};return m}(),function(){"use strict";function e(e,n,r){if(!e)return null;var o={};for(var i in e)t.call(e,i)&&(o[i]=n.call(r,e[i],i,e));return o}var t=Object.prototype.hasOwnProperty;return e}()),Ut=function(){"use strict";function e(e){return t.createFactory(e)}var t=k,n=Lt,r=n({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},e);return r}(),Ft=function(){"use strict";function e(e){return t.isValidElement(e)?void 0:r(!1),e}var t=k,r=n;return e}(),Vt=function(){"use strict";var e=ze,t=it,n=at,r=Ut,o=k,i=je,a=Rt,u=w,s=Ft,l=o.createElement,c=o.createFactory,p=o.cloneElement,d={Children:{map:e.map,forEach:e.forEach,count:e.count,toArray:e.toArray,only:s},Component:t,createElement:l,cloneElement:p,isValidElement:o.isValidElement,PropTypes:i,createClass:n.createClass,createFactory:c,createMixin:function(e){return e},DOM:r,version:a,__spread:u};return d}(),Bt=function(){"use strict";function e(e,t,n,r,o){return o}return e}(),Wt=function(){"use strict";var e=It,t=At,n=Vt,r=w,o=Bt,i={};return r(i,n),r(i,{findDOMNode:o("findDOMNode","ReactDOM","react-dom",e,e.findDOMNode),render:o("render","ReactDOM","react-dom",e,e.render),unmountComponentAtNode:o("unmountComponentAtNode","ReactDOM","react-dom",e,e.unmountComponentAtNode),renderToString:o("renderToString","ReactDOMServer","react-dom/server",t,t.renderToString),renderToStaticMarkup:o("renderToStaticMarkup","ReactDOMServer","react-dom/server",t,t.renderToStaticMarkup)}),i.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e,i.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t,i}(),jt=function(){"use strict";function e(e,t){this.value=e,this.requestChange=t}function t(e){var t={value:"undefined"==typeof e?n.PropTypes.any.isRequired:e.isRequired,requestChange:n.PropTypes.func.isRequired};return n.PropTypes.shape(t)}var n=Wt;return e.PropTypes={link:t},e}(),Kt=function(){"use strict";function e(e,t){var n={};return function(r){n[t]=r,e.setState(n)}}var t={createStateSetter:function(e,t){return function(n,r,o,i,a,u){var s=t.call(e,n,r,o,i,a,u);s&&e.setState(s)}},createStateKeySetter:function(t,n){var r=t.__keySetters||(t.__keySetters={});return r[n]||(r[n]=e(t,n))}};return t.Mixin={createStateSetter:function(e){return t.createStateSetter(this,e)},createStateKeySetter:function(e){return t.createStateKeySetter(this,e)}},t}(),qt=function(){"use strict";var e=jt,t=Kt,n={linkState:function(n){return new e(this.state[n],t.createStateKeySetter(this,n))}};return n}(),Ht=function(){"use strict";function e(e,n,r){return!t(e.props,n)||!t(e.state,r)}var t=Je;return e}(),zt=function(){"use strict";var e=Ht,t={shouldComponentUpdate:function(t,n){return e(this,t,n)}};return t}(),Yt=function(){"use strict";var e=$e,t={getChildMapping:function(t){return t?e(t):t},mergeChildMappings:function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},o=[];for(var i in e)t.hasOwnProperty(i)?o.length&&(r[i]=o,o=[]):o.push(i);var a,u={};for(var s in t){if(r.hasOwnProperty(s))for(a=0;a<r[s].length;a++){var l=r[s][a];u[r[s][a]]=n(l)}u[s]=n(s)}for(a=0;a<o.length;a++)u[o[a]]=n(o[a]);return u}};return t}(),Gt=function(){"use strict";var e=Wt,t=Yt,n=w,r=u,o=e.createClass({displayName:"ReactTransitionGroup",propTypes:{component:e.PropTypes.any,childFactory:e.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:r.thatReturnsArgument}},getInitialState:function(){return{children:t.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)},componentWillReceiveProps:function(e){var n=t.getChildMapping(e.children),r=this.state.children;this.setState({children:t.mergeChildMappings(r,n)});var o;for(o in n){var i=r&&r.hasOwnProperty(o);!n[o]||i||this.currentlyTransitioningKeys[o]||this.keysToEnter.push(o)}for(o in r){var a=n&&n.hasOwnProperty(o);!r[o]||a||this.currentlyTransitioningKeys[o]||this.keysToLeave.push(o)}},componentDidUpdate:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},performAppear:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)},_handleDoneAppearing:function(e){var n=this.refs[e];n.componentDidAppear&&n.componentDidAppear(),delete this.currentlyTransitioningKeys[e];var r=t.getChildMapping(this.props.children);r&&r.hasOwnProperty(e)||this.performLeave(e)},performEnter:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)},_handleDoneEntering:function(e){var n=this.refs[e];n.componentDidEnter&&n.componentDidEnter(),delete this.currentlyTransitioningKeys[e];var r=t.getChildMapping(this.props.children);r&&r.hasOwnProperty(e)||this.performLeave(e)},performLeave:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)},_handleDoneLeaving:function(e){var r=this.refs[e];r.componentDidLeave&&r.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var o=t.getChildMapping(this.props.children);o&&o.hasOwnProperty(e)?this.performEnter(e):this.setState(function(t){var r=n({},t.children);return delete r[e],{children:r}})},render:function(){var t=[];for(var n in this.state.children){var r=this.state.children[n];r&&t.push(e.cloneElement(this.props.childFactory(r),{ref:n,key:n}))}return e.createElement(this.props.component,this.props,t)}});return o}(),Qt=function(){"use strict";var e=n,t={addClass:function(n,r){return/\s/.test(r)?e(!1):void 0,r&&(n.classList?n.classList.add(r):t.hasClass(n,r)||(n.className=n.className+" "+r)),n},removeClass:function(n,r){return/\s/.test(r)?e(!1):void 0,r&&(n.classList?n.classList.remove(r):t.hasClass(n,r)&&(n.className=n.className.replace(new RegExp("(^|\\s)"+r+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),n},conditionClass:function(e,n,r){return(r?t.addClass:t.removeClass)(e,n)},hasClass:function(t,n){return/\s/.test(n)?e(!1):void 0,t.classList?!!n&&t.classList.contains(n):(" "+t.className+" ").indexOf(" "+n+" ")>-1}};return t}(),Xt=function(){"use strict";function e(){var e=document.createElement("div"),t=e.style;"AnimationEvent"in window||delete i.animationend.animation,"TransitionEvent"in window||delete i.transitionend.transition;for(var n in i){var r=i[n];for(var o in r)if(o in t){a.push(r[o]);break}}}function n(e,t,n){e.addEventListener(t,n,!1)}function r(e,t,n){e.removeEventListener(t,n,!1)}var o=t,i={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},a=[];o.canUseDOM&&e();var u={addEndEventListener:function(e,t){return 0===a.length?void window.setTimeout(t,0):void a.forEach(function(r){n(e,r,t)})},removeEndEventListener:function(e,t){0!==a.length&&a.forEach(function(n){r(e,n,t)})}};return u}(),$t=function(){"use strict";var e=Wt,t=It,n=Qt,r=Xt,o=Ft,i=17,a=e.createClass({displayName:"ReactCSSTransitionGroupChild",propTypes:{name:e.PropTypes.oneOfType([e.PropTypes.string,e.PropTypes.shape({enter:e.PropTypes.string,leave:e.PropTypes.string,active:e.PropTypes.string}),e.PropTypes.shape({enter:e.PropTypes.string,enterActive:e.PropTypes.string,leave:e.PropTypes.string,leaveActive:e.PropTypes.string,appear:e.PropTypes.string,appearActive:e.PropTypes.string})]).isRequired,appear:e.PropTypes.bool,enter:e.PropTypes.bool,leave:e.PropTypes.bool,appearTimeout:e.PropTypes.number,enterTimeout:e.PropTypes.number,leaveTimeout:e.PropTypes.number},transition:function(e,o,i){var a=t.findDOMNode(this);if(!a)return void(o&&o());var u=this.props.name[e]||this.props.name+"-"+e,s=this.props.name[e+"Active"]||u+"-active",l=null,c=function(e){e&&e.target!==a||(clearTimeout(l),n.removeClass(a,u),n.removeClass(a,s),r.removeEndEventListener(a,c),o&&o())};n.addClass(a,u),this.queueClass(s),i?(l=setTimeout(c,i),this.transitionTimeouts.push(l)):r.addEndEventListener(a,c)},queueClass:function(e){this.classNameQueue.push(e),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,i))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(n.addClass.bind(n,t.findDOMNode(this))),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[],this.transitionTimeouts=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)})},componentWillAppear:function(e){this.props.appear?this.transition("appear",e,this.props.appearTimeout):e()},componentWillEnter:function(e){this.props.enter?this.transition("enter",e,this.props.enterTimeout):e()},componentWillLeave:function(e){this.props.leave?this.transition("leave",e,this.props.leaveTimeout):e()},render:function(){return o(this.props.children)}});return a}(),Zt=function(){"use strict";function e(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to ReactCSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}}}var t=Wt,n=w,r=Gt,o=$t,i=t.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:o.propTypes.name,transitionAppear:t.PropTypes.bool,transitionEnter:t.PropTypes.bool,transitionLeave:t.PropTypes.bool,transitionAppearTimeout:e("Appear"),transitionEnterTimeout:e("Enter"),transitionLeaveTimeout:e("Leave")},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(e){return t.createElement(o,{name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave,appearTimeout:this.props.transitionAppearTimeout,enterTimeout:this.props.transitionEnterTimeout,leaveTimeout:this.props.transitionLeaveTimeout},e)},render:function(){return t.createElement(r,n({},this.props,{childFactory:this._wrapChild}))}});return i}(),Jt=function(){"use strict";var e=ze,t=k,r=u,o=n,i={create:function(n){if("object"!=typeof n||!n||Array.isArray(n))return n;if(t.isValidElement(n))return n;1===n.nodeType?o(!1):void 0;var i=[];for(var a in n)e.mapIntoWithKeyPrefixInternal(n[a],i,a,r.thatReturnsArgument);return i}};return i}(),en=function(){"use strict";function e(e){e||(e="");var t,n=arguments.length;if(n>1)for(var r=1;n>r;r++)t=arguments[r],t&&(e=(e?e+" ":"")+t);return e}return e}(),tn=function(){"use strict";function e(e){return function(t,n,r){t.hasOwnProperty(n)?t[n]=e(t[n],r):t[n]=r}}function t(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=a[n];r&&a.hasOwnProperty(n)?r(e,n,t[n]):e.hasOwnProperty(n)||(e[n]=t[n])}return e}var n=w,r=u,o=en,i=e(function(e,t){return n({},t,e)}),a={children:r,className:e(o),style:i},s={mergeProps:function(e,r){return t(n({},e),r)}};return s}(),nn=function(){"use strict";function e(e,r){var i=n.mergeProps(r,e.props);return!i.hasOwnProperty(o)&&e.props.hasOwnProperty(o)&&(i.children=e.props.children),t.createElement(e.type,i)}var t=k,n=tn,r=ve,o=r({children:null});return e}(),rn=function(){"use strict";function e(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?o(new e.constructor,e):e}function t(e,t,n){Array.isArray(e)?void 0:a(!1);var r=t[n];Array.isArray(r)?void 0:a(!1)}function r(n,i){if("object"!=typeof i?a(!1):void 0,u.call(i,p))return 1!==Object.keys(i).length?a(!1):void 0,i[p];var h=e(n);if(u.call(i,d)){var v=i[d];v&&"object"==typeof v?void 0:a(!1),h&&"object"==typeof h?void 0:a(!1),o(h,i[d])}u.call(i,s)&&(t(n,i,s),i[s].forEach(function(e){h.push(e)})),u.call(i,l)&&(t(n,i,l),i[l].forEach(function(e){h.unshift(e)})),u.call(i,c)&&(Array.isArray(n)?void 0:a(!1),Array.isArray(i[c])?void 0:a(!1),i[c].forEach(function(e){Array.isArray(e)?void 0:a(!1),h.splice.apply(h,e)})),u.call(i,f)&&("function"!=typeof i[f]?a(!1):void 0,h=i[f](h));for(var g in i)m.hasOwnProperty(g)&&m[g]||(h[g]=r(n[g],i[g]));return h}var o=w,i=ve,a=n,u={}.hasOwnProperty,s=i({$push:null}),l=i({$unshift:null}),c=i({$splice:null}),p=i({$set:null}),d=i({$merge:null}),f=i({$apply:null}),h=[s,l,c,p,d,f],m={};return h.forEach(function(e){m[e]=!0}),r}(),on=(function(){"use strict";function e(e){}function t(e,n){if(!e||!e.getPublicInstance)return[];var r=e.getPublicInstance(),o=n(r)?[r]:[],i=e._currentElement;if(P.isDOMComponent(r)){var a,u=e._renderedChildren;for(a in u)u.hasOwnProperty(a)&&(o=o.concat(t(u[a],n)))}else p.isValidElement(i)&&"function"==typeof i.type&&(o=o.concat(t(e._renderedComponent,n)));return o}function r(t){return function(n,r){var o;P.isDOMComponent(n)?o=b(n):n.tagName&&(o=n);var i=d.eventNameDispatchConfigs[t],a=new e;a.target=o;var l=new y(i,v.getID(o),a,o);E(l,r),i.phasedRegistrationNames?s.accumulateTwoPhaseDispatches(l):s.accumulateDirectDispatches(l),g.batchedUpdates(function(){u.enqueueEvents(l),u.processEventQueue(!0)})}}function o(){P.Simulate={};var e;for(e in d.eventNameDispatchConfigs)P.Simulate[e]=r(e)}function i(t){return function(n,r){var o=new e(t);E(o,r),P.isDOMComponent(n)?P.simulateNativeEventOnDOMComponent(t,n,o):n.tagName&&P.simulateNativeEventOnNode(t,n,o)}}var a=C,u=M,s=ce,l=Wt,c=It,p=k,d=S,f=ne,h=L,m=U,v=ae,g=z,y=fe,E=w,_=G,b=we,D=n,T=a.topLevelTypes,P={renderIntoDocument:function(e){var t=document.createElement("div");return c.render(e,t)},isElement:function(e){return p.isValidElement(e)},isElementOfType:function(e,t){return p.isValidElement(e)&&e.type===t},isDOMComponent:function(e){return!(!e||1!==e.nodeType||!e.tagName)},isDOMComponentElement:function(e){return!!(e&&p.isValidElement(e)&&e.tagName)},isCompositeComponent:function(e){return P.isDOMComponent(e)?!1:null!=e&&"function"==typeof e.render&&"function"==typeof e.setState},isCompositeComponentWithType:function(e,t){if(!P.isCompositeComponent(e))return!1;var n=m.get(e),r=n._currentElement.type;return r===t},isCompositeComponentElement:function(e){if(!p.isValidElement(e))return!1;var t=e.type.prototype;return"function"==typeof t.render&&"function"==typeof t.setState},isCompositeComponentElementWithType:function(e,t){var n=m.get(e),r=n._currentElement.type;return!(!P.isCompositeComponentElement(e)||r!==t)},getRenderedChildOfCompositeComponent:function(e){if(!P.isCompositeComponent(e))return null;var t=m.get(e);return t._renderedComponent.getPublicInstance()},findAllInRenderedTree:function(e,n){return e?(P.isCompositeComponent(e)?void 0:D(!1),t(m.get(e),n)):[]},scryRenderedDOMComponentsWithClass:function(e,t){return Array.isArray(t)||(t=t.split(/\s+/)),P.findAllInRenderedTree(e,function(e){if(P.isDOMComponent(e)){var n=e.className;"string"!=typeof n&&(n=e.getAttribute("class")||"");var r=n.split(/\s+/);return t.every(function(e){return-1!==r.indexOf(e)})}return!1})},findRenderedDOMComponentWithClass:function(e,t){var n=P.scryRenderedDOMComponentsWithClass(e,t);if(1!==n.length)throw new Error("Did not find exactly one match (found: "+n.length+") for class:"+t);return n[0]},scryRenderedDOMComponentsWithTag:function(e,t){return P.findAllInRenderedTree(e,function(e){return P.isDOMComponent(e)&&e.tagName.toUpperCase()===t.toUpperCase()})},findRenderedDOMComponentWithTag:function(e,t){var n=P.scryRenderedDOMComponentsWithTag(e,t);if(1!==n.length)throw new Error("Did not find exactly one match for tag:"+t);return n[0]},scryRenderedComponentsWithType:function(e,t){return P.findAllInRenderedTree(e,function(e){return P.isCompositeComponentWithType(e,t)})},findRenderedComponentWithType:function(e,t){var n=P.scryRenderedComponentsWithType(e,t);if(1!==n.length)throw new Error("Did not find exactly one match for componentType:"+t+" (found "+n.length+")");return n[0]},mockComponent:function(e,t){return t=t||e.mockTagName||"div",e.prototype.render.mockImplementation(function(){return l.createElement(t,null,this.props.children)}),this},simulateNativeEventOnNode:function(e,t,n){n.target=t,d.ReactEventListener.dispatchEvent(e,n)},simulateNativeEventOnDOMComponent:function(e,t,n){P.simulateNativeEventOnNode(e,b(t),n)},nativeTouchData:function(e,t){return{touches:[{pageX:e,pageY:t}]}},createRenderer:function(){return new N},Simulate:null,SimulateNative:{}},N=function(){this._instance=null};N.prototype.getRenderOutput=function(){return this._instance&&this._instance._renderedComponent&&this._instance._renderedComponent._renderedOutput||null};var R=function(e){this._renderedOutput=e,this._currentElement=e};R.prototype={mountComponent:function(){},receiveComponent:function(e){this._renderedOutput=e,this._currentElement=e},unmountComponent:function(){},getPublicInstance:function(){return null}};var I=function(){};E(I.prototype,f.Mixin,{_instantiateReactComponent:function(e){return new R(e)},_replaceNodeWithMarkupByID:function(){},_renderValidatedComponent:f.Mixin._renderValidatedComponentWithoutOwnerOrContext}),N.prototype.render=function(e,t){p.isValidElement(e)?void 0:D(!1),"string"==typeof e.type?D(!1):void 0,t||(t=_);var n=g.ReactReconcileTransaction.getPooled(!1);this._render(e,n,t),g.ReactReconcileTransaction.release(n)},N.prototype.unmount=function(){this._instance&&this._instance.unmountComponent()},N.prototype._render=function(e,t,n){if(this._instance)this._instance.receiveComponent(e,t,n);else{var r=h.createReactRootID(),o=new I(e.type);o.construct(e),o.mountComponent(r,t,n),this._instance=o}};var O=u.injection.injectEventPluginOrder;u.injection.injectEventPluginOrder=function(){O.apply(this,arguments),o()};var x=u.injection.injectEventPluginsByName;return u.injection.injectEventPluginsByName=function(){x.apply(this,arguments),o()},o(),Object.keys(T).forEach(function(e){var t=0===e.indexOf("top")?e.charAt(3).toLowerCase()+e.substr(4):e;P.SimulateNative[t]=i(e)}),P}(),function(){"use strict";var e=qt,t=Wt,n=zt,r=Zt,o=Jt,i=Gt,a=z,u=nn,s=Ht,l=rn;return t.addons={CSSTransitionGroup:r,LinkedStateMixin:e,PureRenderMixin:n,TransitionGroup:i,batchedUpdates:function(){return a.batchedUpdates.apply(this,arguments)},cloneWithProps:u,createFragment:o.create,shallowCompare:s,update:l},t}());return on}();!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e(require("react"));else if("function"==typeof define&&define.amd)define(["react"],e);else{var f;f="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,f.ReactDOM=e(f.React)}}(function(e){return e.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED});;var SharedWidgets=function(t){function e(i){if(o[i])return o[i].exports;var n=o[i]={exports:{},id:i,loaded:!1};return t[i].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var o={};return e.m=t,e.c=o,e.p="/dist/",e(0)}([function(t,e,o){"use strict";var i=o(1);e.ButtonType=i.ButtonType,e.ButtonWidget=i.ButtonWidget;var n=o(10);e.CheckBoxLabelWidget=n.CheckBoxLabelWidget;var r=o(15);e.DialogPositioningBehavior=r.DialogPositioningBehavior,e.DialogWidget_UNFINISHED=r.DialogWidget_UNFINISHED;var a=o(23);e.DiscreteProgressBarWidget_UNFINISHED=a.DiscreteProgressBarWidget_UNFINISHED;var s=o(26);e.DropdownType=s.DropdownType,e.DropdownWidget_UNFINISHED=s.DropdownWidget_UNFINISHED;var l=o(14);e.InputLabelWidget=l.InputLabelWidget;var c=o(30);e.RadioButtonLabelGroupWidget=c.RadioButtonLabelGroupWidget;var d=o(8);e.PointerEventAdapterManager=d.PointerEventAdapterManager;var p=o(6);e.PointerEventWrapper=p.PointerEventWrapper;var u=o(33);e.setConfig=u.setConfig,o(22);var h=o(4);e.TabStyles=h.TabStyles;var g=o(34);e.TextInputType=g.TextInputType;var C=o(35);e.TextFieldLineWidget=C.TextFieldLineWidget;var y=o(38);e.TextFieldOutlineWidget=y.TextFieldOutlineWidget;var I=o(39);e.TextFieldSearchWidget=I.TextFieldSearchWidget},function(t,e,o){"use strict";var i,n=o(2),r=o(3),a=o(4),s=o(5);!function(t){t[t.Attention=0]="Attention",t[t.Grey=1]="Grey",t[t.Go=2]="Go",t[t.Outline=3]="Outline",t[t.LightOutline=4]="LightOutline",t[t.Text=5]="Text"}(i||(i={})),e.ButtonType=i;var l=a.TabStyles.Colors,c=a.TabStyles.Sizing,d=a.TabStyles.Typography,p=c.RowHeight,u={cursor:"not-allowed",backgroundColor:l.F7Disabled,borderColor:l.F7Disabled,color:d.Color.Disabled},h={fontSize:d.Sizing.Default,fontFamily:d.FontFamily,fontWeight:"normal",color:d.Color.Primary,cursor:"default",display:"inline-block",paddingLeft:p,paddingRight:p,paddingTop:0,paddingBottom:0,position:"relative",textAlign:"center",borderStyle:"solid",borderWidth:c.BorderWidth,borderRadius:c.BorderRadius,lineHeight:c.RowHeight-2*c.BorderWidth+"px",minWidth:c.ButtonMinWidth,userSelect:"none",backgroundClip:"padding-box",boxSizing:"border-box",outline:"none"},g={base:r.assign({},h,{backgroundColor:l.AttentionLight,borderColor:l.AttentionLight,color:l.White}),interactive:{hover:{backgroundColor:l.AttentionLight,borderColor:l.AttentionDark,color:l.White},focus:{backgroundColor:l.AttentionLight,borderColor:l.AttentionDark,color:l.White},active:{backgroundColor:l.AttentionDark,borderColor:l.AttentionDark,color:l.White},disabled:u}},C={base:r.assign({},h,{backgroundColor:l.GoLight,borderColor:l.GoLight,color:l.White}),interactive:{hover:{backgroundColor:l.GoLight,borderColor:l.GoDark,color:l.White},focus:{backgroundColor:l.GoLight,borderColor:l.GoDark,color:l.White},active:{backgroundColor:l.GoDark,borderColor:l.GoDark,color:l.White},disabled:u}},y={base:r.assign({},h,{backgroundColor:l.F5,borderColor:l.L5,color:d.Color.Primary}),interactive:{hover:{backgroundColor:l.F5,borderColor:l.L8,color:d.Color.Primary},focus:{backgroundColor:l.F5,borderColor:l.L8,color:d.Color.Primary},active:{backgroundColor:l.F8,borderColor:l.L8,color:l.White},disabled:u}},I={base:r.assign({},h,{backgroundColor:l.Transparent,borderColor:l.L6,color:d.Color.Primary}),interactive:{hover:{backgroundColor:l.Transparent,borderColor:l.L8,color:d.Color.Primary},focus:{backgroundColor:l.Transparent,borderColor:l.L8,color:d.Color.Primary},active:{backgroundColor:l.F2,borderColor:l.L9,color:d.Color.Primary},disabled:r.assign({},u,{borderColor:l.L9Disabled,backgroundColor:l.Transparent,color:d.Color.Disabled})}},b={base:r.assign({},h,{backgroundColor:l.Transparent,borderColor:l.L6,color:d.Color.InvertedPrimary}),interactive:{hover:{backgroundColor:l.Transparent,borderColor:l.White,color:d.Color.InvertedPrimary},focus:{backgroundColor:l.Transparent,borderColor:l.White,color:d.Color.InvertedPrimary},active:{backgroundColor:l.WhiteTransparent,borderColor:l.White,color:d.Color.InvertedPrimary},disabled:r.assign({},u,{borderColor:l.WhiteDisabled,backgroundColor:l.Transparent,color:l.WhiteDisabled})}},D={base:r.assign({},h,{backgroundColor:l.Transparent,borderColor:l.Transparent,color:l.GoLight}),interactive:{hover:{backgroundColor:l.F2,borderColor:l.Transparent,color:l.GoLight},focus:{backgroundColor:l.F2,borderColor:l.Transparent,color:l.GoLight},active:{backgroundColor:l.F2,borderColor:l.Transparent,color:l.GoDark},disabled:r.assign({},u,{backgroundColor:l.Transparent,borderColor:l.Transparent,color:l.GoDarkDisabled})}},m=function(t){var e;switch(t.buttonType){case i.Attention:e=g;break;case i.Grey:e=y;break;case i.Go:e=C;break;case i.Outline:e=I;break;case i.LightOutline:e=b;break;case i.Text:e=D;break;default:throw new Error("ButtonWidget attempted to render invalid ButtonType: "+t.buttonType)}return n.createElement(s.InteractiveDomWrapper,{interactiveStyles:e.interactive,disabled:t.disabled,pointerClick:t.handleClick},n.createElement("button",{style:r.assign({},e.base,t.style),"data-tb-test-id":t.testId+"-Button"},t.label,t.children))};e.ButtonWidget=m},function(t,e){t.exports=React},function(t,e){"use strict";function o(t){if(null===t||void 0===t)throw new TypeError("assign cannot be called with null or undefined");return Object(t)}var i=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,r=Object.assign||function(t,e){for(var r,a,s=o(t),l=1;l<arguments.length;l++){r=Object(arguments[l]);for(var c in r)i.call(r,c)&&(s[c]=r[c]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(r);for(var d=0;d<a.length;d++)n.call(r,a[d])&&(s[a[d]]=r[a[d]])}}return s};e.assign=r},function(t,e,o){"use strict";var i=o(3),n=6,r=n,a="Benton Sans, Arial, Helvetica, sans-serif",s={XXLarge:24,XLarge:18,Large:13,Default:12,Small:11,Tiny:10},l={Primary:"rgba(0, 0, 0, 0.80)",PrimaryMedium:"rgba(0, 0, 0, 0.70)",PrimaryLight:"rgba(0, 0, 0, 0.60)",Secondary:"rgba(0, 0, 0, 0.52)",SubHead:"rgba(0, 0, 0, 0.40)",Disabled:"rgba(0, 0, 0, 0.35)",InvertedPrimary:"rgba(255, 255, 255, 0.80)"},c={Grey250:"rgb(250, 250, 250)",Grey245:"rgb(245, 245, 245)",Grey235:"rgb(235, 235, 235)",Grey230:"rgb(230, 230, 230)",Grey225:"rgb(225, 225, 225)",Grey212:"rgb(212, 212, 212)",Grey203:"rgb(203, 203, 203)",Grey180:"rgb(180, 180, 180)",Grey180Disabled:"rgba(180, 180, 180, 0.25)",Grey102:"rgb(102, 102, 102)",Grey51:"rgb(51, 51, 51)",Grey51Disabled:"rgba(51, 51, 51, 0.25)"},d={White:"rgb(255, 255, 255)",WhiteTransparent:"rgba(255, 255, 255, 0.25)",WhiteDisabled:"rgba(255, 255, 255, 0.35)",Black:"rgb(0, 0, 0)",Transparent:"rgba(0, 0, 0, 0)",ActionLight:"rgb(235, 143, 80)",ActionDark:"rgb(209, 107, 54)",AttentionLight:"rgb(235, 68, 84)",AttentionDark:"rgb(201, 58, 71)",Continuous:"rgb(0, 177, 128)",ContinuousDark:"rgb(0, 151, 104)",Discrete:"rgb(73, 150, 178)",DiscreteDark:"rgb(54, 126,156)",GoLight:"rgb(45, 204, 151)",GoDark:"rgb(47, 163, 125)",GoDarkDisabled:"rgba(47, 163, 125, 0.25)",Shaded:"rgba(0, 0, 0, 0.07)",DesktopBlue:"rgb(53, 92, 128)",ServerBlue:"rgb(42, 87, 117)",OnlineBlue:"rgb(40, 94, 127)",L1:c.Grey250,L2:c.Grey245,L2_5:c.Grey235,L3:c.Grey230,L4:c.Grey225,L5:c.Grey212,L6:c.Grey203,L7:c.Grey180,L8:c.Grey102,L9:c.Grey51,L9Disabled:c.Grey51Disabled,F1:c.Grey250,F2:c.Grey245,F2_5:c.Grey235,F3:c.Grey230,F4:c.Grey225,F5:c.Grey212,F6:c.Grey203,F7:c.Grey180,F7Disabled:c.Grey180Disabled,F8:c.Grey102,F9:c.Grey51},p={Colors:d,Shadow:{High:"0px 4px 10px 0 rgba(0,0,0,0.1),0px 2px 10px 0px rgba(0,0,0,0.1)",Medium:"2px 2px 10px -2px rgba(0,0,0,.22)",Low:"rgba(51, 51, 51, 0.1) 1px 2px 1px 0"},Spacing:{SmallSpace:n/2,DefaultSpace:n,MediumSpace:2*n,LargeSpace:3*n},Sizing:{BaseUnit:r,RowHeight:23,ButtonMinWidth:15*r,BorderWidth:1,BorderRadius:1,SelectionBorderWidth:r/2,ListRowHeight:20},Typography:{FontFamily:a,Sizing:s,Color:l},Opacity:{OpaqueGlass:.33,ClearGlass:.01}};e.TabStyles=p;var u=function(t){p.Colors=i.assign({},p.Colors,t.Colors),p.Opacity=i.assign({},p.Opacity,t.Opacity),p.Shadow=i.assign({},p.Shadow,t.Shadow),p.Sizing=i.assign({},p.Sizing,t.Sizing),p.Spacing=i.assign({},p.Spacing,t.Spacing),p.Typography.FontFamily=t.Typography.FontFamily?t.Typography.FontFamily:p.Typography.FontFamily,p.Typography.Color=i.assign({},p.Typography.Color,t.Typography.Color),p.Typography.Sizing=i.assign({},p.Typography.Sizing,t.Typography.Sizing)};e.overrideTabStyles=u},function(t,e,o){"use strict";function i(t,e){var o=e.props,i=o.disabled,n=o.interactiveStyles;return n?s.assign({},t,e.state.hover&&!i&&n.hover,e.state.focus&&!i&&n.focus,e.state.active&&!i&&n.active,i&&n.disabled):t}function n(t,e){var o=i(e.props.style,t),n=t.props,r=n.pointerUp,d=n.pointerDown,p={pointerDown:c.mergeEventHandlers(d,function(){t.setState({active:!0}),t.props.handleActive&&t.props.handleActive(!0)}),pointerUp:c.mergeEventHandlers(r,function(){t.setState({active:!1}),t.props.handleActive&&t.props.handleActive(!1)})},u=e.props,h=u.onMouseOver,g=u.onMouseOut,C=u.onKeyDown,y=u.onKeyUp,I=u.onFocus,b=u.onBlur,D={onMouseOver:c.mergeEventHandlers(h,function(){t.setState({hover:!0}),t.props.handleHover&&t.props.handleHover(!0)}),onMouseOut:c.mergeEventHandlers(g,function(){t.setState({hover:!1}),t.props.handleHover&&t.props.handleHover(!1)}),onKeyDown:c.mergeEventHandlers(C,function(e){" "!==e.key&&"Enter"!==e.key||(t.setState({active:!0}),t.props.handleActive&&t.props.handleActive(!0))}),onKeyUp:c.mergeEventHandlers(y,function(e){" "!==e.key&&"Enter"!==e.key||(t.setState({active:!1}),t.props.handleActive&&t.props.handleActive(!1))}),onFocus:c.mergeEventHandlers(I,function(){t.setState({focus:!0}),t.props.handleFocus&&t.props.handleFocus(!0)}),onBlur:c.mergeEventHandlers(b,function(){t.setState({focus:!1}),t.props.handleFocus&&t.props.handleFocus(!1)})},m=s.assign({style:o,disabled:t.props.disabled},D),w=s.assign({},t.props,p),M=a.createElement(l.PointerEventWrapper,w,a.cloneElement(e,m));return M}var r=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},a=o(2),s=o(3),l=o(6),c=o(9),d=function(t){function e(e){t.call(this,e),this.state=s.assign({},this.state,{hover:!1,active:!1,focus:!1})}return r(e,t),e.prototype.render=function(){var t=a.Children.only(this.props.children);return n(this,t)},e}(a.Component);e.InteractiveDomWrapper=d;var p=function(t){var e=c.convertToStatefulComponentClass(t),o=function(e){function o(t){e.call(this,t),this.state=s.assign({},this.state,{hover:!1,active:!1,focus:!1})}return r(o,e),o.prototype.render=function(){return n(this,e.prototype.render.call(this))},o.displayName="InteractiveDom("+c.getComponentName(t)+")",o}(e);return o};e.InteractiveDomHoC=p;var u=p;e.InteractiveDomHoCDecorator=u},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(2),r=o(7),a=o(8),s=o(9),l=function(t){function e(e){t.call(this,e),this.pointerEventAdapter=a.PointerEventAdapterManager.adapterFactory()}return i(e,t),e.prototype.componentDidMount=function(){if(this.pointerEventAdapter.didMount){var t=r.findDOMNode(this);this.pointerEventAdapter.didMount(t,this.props)}},e.prototype.componentWillUnmount=function(){this.pointerEventAdapter.willUnmount&&this.pointerEventAdapter.willUnmount()},e.prototype.render=function(){var t=this.pointerEventAdapter.getHtmlAttributes(this.props),e=n.Children.only(this.props.children),o={};Object.keys(t).forEach(function(i){o[i]=s.mergeEventHandlers(t[i],e.props[i])});var i=n.cloneElement(e,o,e.props.children);return i},e}(n.Component);e.PointerEventWrapper=l;var c=function(t){var e=s.convertToStatefulComponentClass(t),o=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){return n.createElement(l,this.props,t.prototype.render.call(this))},e}(e);return o.displayName="PointerEventHoC("+s.getComponentName(t)+")",o};e.PointerEventHoC=c;var d=c;e.PointerEventHoCDecorator=d},function(t,e){t.exports=ReactDOM},function(t,e){"use strict";var o=function(){function t(){}return t.prototype.getHtmlAttributes=function(t){var e={onDoubleClick:t.pointerDoubleClick,onMouseDown:t.pointerDown,onMouseUp:t.pointerUp,onClick:t.pointerClick};return e},t}(),i=function(){function t(){}return t.adapterFactory=function(){return new o},t}();e.PointerEventAdapterManager=i},function(t,e,o){"use strict";function i(t){return!t.prototype.render}function n(t){if(i(t)){var e=t;return function(t){function o(){t.apply(this,arguments)}return s(o,t),o.prototype.render=function(){return e(this.props)},o.displayName=a(e),o}(l.Component)}return t}function r(t,e){return t&&e&&function(o){t(o),e(o)}||t||e}function a(t){return t.displayName||t.name||"AnonymousComponent"}var s=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},l=o(2);e.convertToStatefulComponentClass=n,e.mergeEventHandlers=r,e.getComponentName=a},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},r=o(2),a=o(11),s=o(12),l=o(5),c=o(14),d={input:{verticalAlign:"middle"}},p=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.handleClickWrapper=function(){this.props.disabled||this.props.handleChange(!this.props.checked)},e.prototype.render=function(){var t=this;return r.createElement(s.Block,{},r.createElement(a.CheckBoxWidget,{disabled:this.props.disabled,checked:this.props.checked,handleChange:this.props.handleChange,hover:this.state.hover,testId:this.props.testId}),r.createElement(s.InlineBlock,{style:d.input},r.createElement(c.InputLabelWidget,{disabled:this.props.disabled,handleClick:function(){return t.handleClickWrapper()},label:this.props.label,testId:this.props.testId})))},e=n([l.InteractiveDomHoCDecorator],e)}(r.Component);e.CheckBoxLabelWidget=p},function(t,e,o){"use strict";function i(t,e){var o;return o=t.checked?t.disabled?c.CheckBoxIcon.selectedDisabled:t.hover||e.hover||e.focus?c.CheckBoxIcon.selectedActive:c.CheckBoxIcon.selected:t.disabled?c.CheckBoxIcon.unselectedDisabled:t.hover||e.hover||e.focus?c.CheckBoxIcon.unselectedActive:c.CheckBoxIcon.unselected}var n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=o(2),s=o(12),l=o(5),c=o(13),d=o(4),p={baseDiv:{marginLeft:d.TabStyles.Spacing.DefaultSpace,marginRight:d.TabStyles.Spacing.DefaultSpace,verticalAlign:"middle",height:c.CheckBoxIcon.height,width:c.CheckBoxIcon.width},checkbox:{opacity:0,height:c.CheckBoxIcon.height,width:c.CheckBoxIcon.width,margin:0},fakeCheckBox:{height:c.CheckBoxIcon.height,width:c.CheckBoxIcon.width,position:"absolute"}},u=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.handleFormChange=function(t){this.props.disabled||this.props.handleChange(t.target.checked)},e.prototype.render=function(){var t=this,e=i(this.props,this.state);return a.createElement(s.InlineBlock,{style:p.baseDiv},a.DOM.img({style:p.fakeCheckBox,src:e}),a.DOM.input({style:p.checkbox,type:"checkbox",onChange:function(e){return t.handleFormChange(e)},checked:this.props.checked,disabled:this.props.disabled,"data-tb-test-id":this.props.testId+"-CheckBox"}))},e=r([l.InteractiveDomHoCDecorator],e)}(a.Component);e.CheckBoxWidget=u},function(t,e,o){"use strict";var i=o(2),n=o(3),r={boxSizing:"border-box",position:"relative",margin:0,padding:0,lineHeight:"normal"},a=n.assign({},r,{display:"inline-block"}),s=function(t,e){var o=t.style?n.assign({},e,t.style):e;return t=n.assign({},t,{style:o}),i.createElement("div",t)},l=function(t){return s(t,r)};e.Block=l;var c=function(t){return s(t,a)};e.InlineBlock=c},function(t,e){"use strict";function o(t,e){var o="";for(e|=0;e>0;e>>>=1,t+=t)1&e&&(o+=t);return o}e.CloseButtonIcon={height:13,width:13,enabled:"data:image/svg+xml;base64,  PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJEaWFsb2d1ZUNsb3NlWCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxM3B4IiBoZWlnaHQ9IjEzcHgiIHZpZXdCb3g9IjAgMCAxMyAxMyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTMgMTM7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggaWQ9IlgiIHN0eWxlPSJmaWxsOiM2NjY2NjY7IiBkPSJNNy4yMDcwOSw2LjVsNC42NjY5My00LjY2NjkzYzAuMTk0NDYtMC4xOTQ0NiwwLjE5NDQ2LTAuNTEyNjMsMC0wLjcwNzA5cy0wLjUxMjYzLTAuMTk0NDYtMC43MDcwOSwwJiMxMDsmIzk7TDYuNSw1Ljc5MjkxTDEuODMzMDcsMS4xMjU5OGMtMC4xOTQ0Ni0wLjE5NDQ2LTAuNTEyNjMtMC4xOTQ0Ni0wLjcwNzA5LDBzLTAuMTk0NDYsMC41MTI2MywwLDAuNzA3MDlMNS43OTI5MSw2LjVsLTQuNjY2OTMsNC42NjY4NyYjMTA7JiM5O2MtMC4xOTQ0NiwwLjE5NDQ2LTAuMTk0NDYsMC41MTI3LDAsMC43MDcxNWMwLjE5NDQ2LDAuMTk0NCwwLjUxMjYzLDAuMTk0NCwwLjcwNzA5LDBMNi41LDcuMjA3MDlsNC42NjY5Myw0LjY2NjkzJiMxMDsmIzk7YzAuMTk0NDYsMC4xOTQ0LDAuNTEyNjMsMC4xOTQ0LDAuNzA3MDksMGMwLjE5NDQ2LTAuMTk0NDYsMC4xOTQ0Ni0wLjUxMjcsMC0wLjcwNzE1TDcuMjA3MDksNi41eiIvPgo8L3N2Zz4=",active:"data:image/svg+xml;base64,  PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJEaWFsb2d1ZUNsb3NlWCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxM3B4IiBoZWlnaHQ9IjEzcHgiIHZpZXdCb3g9IjAgMCAxMyAxMyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTMgMTM7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggaWQ9IlgiIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNNy4yMDcwOSw2LjVsNC42NjY5My00LjY2NjkzYzAuMTk0NDYtMC4xOTQ0NiwwLjE5NDQ2LTAuNTEyNjMsMC0wLjcwNzA5cy0wLjUxMjYzLTAuMTk0NDYtMC43MDcwOSwwJiMxMDsmIzk7TDYuNSw1Ljc5MjkxTDEuODMzMDcsMS4xMjU5OGMtMC4xOTQ0Ni0wLjE5NDQ2LTAuNTEyNjMtMC4xOTQ0Ni0wLjcwNzA5LDBzLTAuMTk0NDYsMC41MTI2MywwLDAuNzA3MDlMNS43OTI5MSw2LjVsLTQuNjY2OTMsNC42NjY4NyYjMTA7JiM5O2MtMC4xOTQ0NiwwLjE5NDQ2LTAuMTk0NDYsMC41MTI3LDAsMC43MDcxNWMwLjE5NDQ2LDAuMTk0NCwwLjUxMjYzLDAuMTk0NCwwLjcwNzA5LDBMNi41LDcuMjA3MDlsNC42NjY5Myw0LjY2NjkzJiMxMDsmIzk7YzAuMTk0NDYsMC4xOTQ0LDAuNTEyNjMsMC4xOTQ0LDAuNzA3MDksMGMwLjE5NDQ2LTAuMTk0NDYsMC4xOTQ0Ni0wLjUxMjcsMC0wLjcwNzE1TDcuMjA3MDksNi41eiIvPgo8L3N2Zz4="},e.CheckBoxIcon={height:17,width:17,selected:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4yLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMTdweCIgaGVpZ2h0PSIxN3B4IiB2aWV3Qm94PSIwIDAgMTcgMTciIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE3IDE3OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDojNjY2NjY2O30NCgkuc3Qxe2ZpbGw6I0ZGRkZGRjt9DQo8L3N0eWxlPg0KPGc+DQoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTE1LDFIMkMxLjUsMSwxLDEuNSwxLDJ2MTNjMCwwLjYsMC41LDEsMSwxaDEzYzAuNiwwLDEtMC40LDEtMVYyQzE2LDEuNSwxNS42LDEsMTUsMXogTTE1LDE1SDJWMmgxM1YxNXoiLz4NCgk8cmVjdCB4PSIyIiB5PSIyIiBjbGFzcz0ic3QxIiB3aWR0aD0iMTMiIGhlaWdodD0iMTMiLz4NCjwvZz4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik03LjcsMTIuOGMtMC4yLDAtMC40LTAuMS0wLjUtMC4ybC0zLTNsMS4xLTEuMWwyLjMsMi4zbDQtNi43bDEuMywwLjhsLTQuNSw3LjZDOC4yLDEyLjcsOCwxMi44LDcuNywxMi44DQoJTDcuNywxMi44eiIvPg0KPC9zdmc+",selectedActive:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4yLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMTdweCIgaGVpZ2h0PSIxN3B4IiB2aWV3Qm94PSIwIDAgMTcgMTciIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE3IDE3OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDojMzMzMzMzO30NCgkuc3Qxe2ZpbGw6I0ZGRkZGRjt9DQo8L3N0eWxlPg0KPGc+DQoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTE1LDFIMkMxLjUsMSwxLDEuNSwxLDJ2MTNjMCwwLjYsMC41LDEsMSwxaDEzYzAuNiwwLDEtMC40LDEtMVYyQzE2LDEuNSwxNS42LDEsMTUsMXogTTE1LDE1SDJWMmgxM1YxNXoiLz4NCgk8cmVjdCB4PSIyIiB5PSIyIiBjbGFzcz0ic3QxIiB3aWR0aD0iMTMiIGhlaWdodD0iMTMiLz4NCjwvZz4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik03LjcsMTIuOGMtMC4yLDAtMC40LTAuMS0wLjUtMC4ybC0zLTNsMS4xLTEuMWwyLjMsMi4zbDQtNi43bDEuMywwLjhsLTQuNSw3LjZDOC4yLDEyLjcsOCwxMi44LDcuNywxMi44DQoJTDcuNywxMi44eiIvPg0KPC9zdmc+DQo=",selectedDisabled:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22iso-8859-1%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.2.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20width%3D%2217px%22%20height%3D%2217px%22%20viewBox%3D%220%200%2017%2017%22%20style%3D%22enable-background%3Anew%200%200%2017%2017%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cg%3E%0A%09%3Cpath%20style%3D%22opacity%3A0.25%3Bfill%3A%23333333%3B%22%20d%3D%22M15%2C1H2C1.5%2C1%2C1%2C1.5%2C1%2C2v13c0%2C0.6%2C0.5%2C1%2C1%2C1h13c0.6%2C0%2C1-0.4%2C1-1V2C16%2C1.5%2C15.6%2C1%2C15%2C1z%0A%09%09%20M15%2C15H2V2h13V15z%22%2F%3E%0A%09%3Crect%20x%3D%222%22%20y%3D%222%22%20style%3D%22fill%3A%23FFFFFF%3B%22%20width%3D%2213%22%20height%3D%2213%22%2F%3E%0A%3C%2Fg%3E%0A%3Cpath%20style%3D%22opacity%3A0.25%3Bfill%3A%23333333%3B%22%20d%3D%22M7.7%2C12.8c-0.2%2C0-0.4-0.1-0.5-0.2l-3-3l1.1-1.1l2.3%2C2.3l4-6.7l1.3%2C0.8l-4.5%2C7.6%0A%09C8.2%2C12.7%2C8%2C12.8%2C7.7%2C12.8L7.7%2C12.8z%22%2F%3E%0A%3C%2Fsvg%3E%0A",unselected:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4yLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMTdweCIgaGVpZ2h0PSIxN3B4IiB2aWV3Qm94PSIwIDAgMTcgMTciIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE3IDE3OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDojQ0JDQkNCO30NCgkuc3Qxe2ZpbGw6I0ZGRkZGRjt9DQo8L3N0eWxlPg0KPGc+DQoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTE1LDFIMkMxLjUsMSwxLDEuNSwxLDJ2MTNjMCwwLjYsMC41LDEsMSwxaDEzYzAuNiwwLDEtMC40LDEtMVYyQzE2LDEuNSwxNS42LDEsMTUsMXogTTE1LDE1SDJWMmgxM1YxNXoiLz4NCgk8cmVjdCB4PSIyIiB5PSIyIiBjbGFzcz0ic3QxIiB3aWR0aD0iMTMiIGhlaWdodD0iMTMiLz4NCjwvZz4NCjwvc3ZnPg0K",unselectedActive:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4yLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMTdweCIgaGVpZ2h0PSIxN3B4IiB2aWV3Qm94PSIwIDAgMTcgMTciIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE3IDE3OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDojMzMzMzMzO30NCgkuc3Qxe2ZpbGw6I0ZGRkZGRjt9DQo8L3N0eWxlPg0KPGc+DQoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTE1LDFIMkMxLjUsMSwxLDEuNSwxLDJ2MTNjMCwwLjYsMC41LDEsMSwxaDEzYzAuNiwwLDEtMC40LDEtMVYyQzE2LDEuNSwxNS42LDEsMTUsMXogTTE1LDE1SDJWMmgxM1YxNXoiLz4NCgk8cmVjdCB4PSIyIiB5PSIyIiBjbGFzcz0ic3QxIiB3aWR0aD0iMTMiIGhlaWdodD0iMTMiLz4NCjwvZz4NCjwvc3ZnPg0K",unselectedDisabled:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4yLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMTdweCIgaGVpZ2h0PSIxN3B4IiB2aWV3Qm94PSIwIDAgMTcgMTciIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE3IDE3OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDojQ0JDQkNCO30NCgkuc3Qxe2ZpbGw6I0ZGRkZGRjt9DQo8L3N0eWxlPg0KPGc+DQoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTE1LDFIMkMxLjUsMSwxLDEuNSwxLDJ2MTNjMCwwLjYsMC41LDEsMSwxaDEzYzAuNiwwLDEtMC40LDEtMVYyQzE2LDEuNSwxNS42LDEsMTUsMXogTTE1LDE1SDJWMmgxM1YxNXoiLz4NCgk8cmVjdCB4PSIyIiB5PSIyIiBjbGFzcz0ic3QxIiB3aWR0aD0iMTMiIGhlaWdodD0iMTMiLz4NCjwvZz4NCjwvc3ZnPg0K"},e.DropdownArrowIcon={height:18,width:18,enabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXRoIHN0eWxlPSJmaWxsOiM2NjY2NjY7IiBkPSJNNS44LDcuM2wzLjUsNC42YzAuMSwwLjEsMC4yLDAuMSwwLjMsMGwzLjYtNC42QzEzLjMsNy4xLDEzLjIsNywxMyw3SDZDNS44LDcsNS43LDcuMSw1LjgsNy4zeiIvPgo8L3N2Zz4=",active:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNNS44LDcuM2wzLjUsNC42YzAuMSwwLjEsMC4yLDAuMSwwLjMsMGwzLjYtNC42YzAuMS0wLjIsMC0wLjMtMC4yLTAuM0g2QzUuOCw3LDUuNyw3LjEsNS44LDcuM3oiLz4KPC9zdmc+",disabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXRoIHN0eWxlPSJvcGFjaXR5OjAuMjU7ZmlsbDojMzMzMzMzOyIgZD0iTTUuOCw3LjNsMy41LDQuNmMwLjEsMC4xLDAuMiwwLjEsMC4zLDBsMy42LTQuNkMxMy4zLDcuMSwxMy4yLDcsMTMsN0g2ICBDNS44LDcsNS43LDcuMSw1LjgsNy4zeiIvPgo8L3N2Zz4="},e.RadioButtonIcon={height:15,width:15,selected:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22iso-8859-1%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.2.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Selected_rest%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%0A%09%20y%3D%220px%22%20viewBox%3D%220%200%2015%2015%22%20style%3D%22enable-background%3Anew%200%200%2015%2015%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cpath%20style%3D%22fill%3A%23FFFFFF%3B%22%20d%3D%22M7.5%2C1C3.9%2C1%2C1%2C3.9%2C1%2C7.5S3.9%2C14%2C7.5%2C14S14%2C11.1%2C14%2C7.5S11.1%2C1%2C7.5%2C1L7.5%2C1z%22%2F%3E%0A%3Cpath%20style%3D%22fill%3A%23666766%3B%22%20d%3D%22M7.5%2C2c3%2C0%2C5.5%2C2.5%2C5.5%2C5.5S10.5%2C13%2C7.5%2C13S2%2C10.5%2C2%2C7.5S4.5%2C2%2C7.5%2C2%20M7.5%2C1C3.9%2C1%2C1%2C3.9%2C1%2C7.5%0A%09S3.9%2C14%2C7.5%2C14S14%2C11.1%2C14%2C7.5S11.1%2C1%2C7.5%2C1L7.5%2C1z%22%2F%3E%0A%3Ccircle%20style%3D%22fill%3A%23666766%3B%22%20cx%3D%227.5%22%20cy%3D%227.5%22%20r%3D%222.5%22%2F%3E%0A%3C%2Fsvg%3E",selectedActive:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22iso-8859-1%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.2.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Selected_hover%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%0A%09%20y%3D%220px%22%20viewBox%3D%220%200%2015%2015%22%20style%3D%22enable-background%3Anew%200%200%2015%2015%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cpath%20style%3D%22fill%3A%23FFFFFF%3B%22%20d%3D%22M7.5%2C1C3.9%2C1%2C1%2C3.9%2C1%2C7.5S3.9%2C14%2C7.5%2C14S14%2C11.1%2C14%2C7.5S11.1%2C1%2C7.5%2C1L7.5%2C1z%22%2F%3E%0A%3Cpath%20style%3D%22fill%3A%23333333%3B%22%20d%3D%22M7.5%2C2c3%2C0%2C5.5%2C2.5%2C5.5%2C5.5S10.5%2C13%2C7.5%2C13S2%2C10.5%2C2%2C7.5S4.5%2C2%2C7.5%2C2%20M7.5%2C1C3.9%2C1%2C1%2C3.9%2C1%2C7.5%0A%09S3.9%2C14%2C7.5%2C14S14%2C11.1%2C14%2C7.5S11.1%2C1%2C7.5%2C1L7.5%2C1z%22%2F%3E%0A%3Ccircle%20style%3D%22fill%3A%23333333%3B%22%20cx%3D%227.5%22%20cy%3D%227.5%22%20r%3D%222.5%22%2F%3E%0A%3C%2Fsvg%3E%0A",selectedDisabled:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22iso-8859-1%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.2.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Selected_hover%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%0A%09%20y%3D%220px%22%20width%3D%2215px%22%20height%3D%2215px%22%20viewBox%3D%220%200%2015%2015%22%20style%3D%22enable-background%3Anew%200%200%2015%2015%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cpath%20style%3D%22opacity%3A0.25%3Bfill%3A%23FFFFFF%3B%22%20d%3D%22M7.5%2C1C3.9%2C1%2C1%2C3.9%2C1%2C7.5S3.9%2C14%2C7.5%2C14S14%2C11.1%2C14%2C7.5S11.1%2C1%2C7.5%2C1L7.5%2C1z%22%2F%3E%0A%3Cpath%20style%3D%22opacity%3A0.25%3Bfill%3A%23333333%3B%22%20d%3D%22M7.5%2C2c3%2C0%2C5.5%2C2.5%2C5.5%2C5.5S10.5%2C13%2C7.5%2C13S2%2C10.5%2C2%2C7.5S4.5%2C2%2C7.5%2C2%20M7.5%2C1%0A%09C3.9%2C1%2C1%2C3.9%2C1%2C7.5S3.9%2C14%2C7.5%2C14S14%2C11.1%2C14%2C7.5S11.1%2C1%2C7.5%2C1L7.5%2C1z%22%2F%3E%0A%3Ccircle%20style%3D%22opacity%3A0.25%3Bfill%3A%23333333%3B%22%20cx%3D%227.5%22%20cy%3D%227.5%22%20r%3D%222.5%22%2F%3E%0A%3C%2Fsvg%3E%0A",unselected:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22iso-8859-1%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.2.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Rest%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%2015%2015%22%20style%3D%22enable-background%3Anew%200%200%2015%2015%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cpath%20style%3D%22fill%3A%23FFFFFF%3B%22%20d%3D%22M7.5%2C1C3.9%2C1%2C1%2C3.9%2C1%2C7.5S3.9%2C14%2C7.5%2C14S14%2C11.1%2C14%2C7.5S11.1%2C1%2C7.5%2C1L7.5%2C1z%22%2F%3E%0A%3Cpath%20style%3D%22fill%3A%23CBCBCA%3B%22%20d%3D%22M7.5%2C2c3%2C0%2C5.5%2C2.5%2C5.5%2C5.5S10.5%2C13%2C7.5%2C13S2%2C10.5%2C2%2C7.5S4.5%2C2%2C7.5%2C2%20M7.5%2C1C3.9%2C1%2C1%2C3.9%2C1%2C7.5%0A%09S3.9%2C14%2C7.5%2C14S14%2C11.1%2C14%2C7.5S11.1%2C1%2C7.5%2C1L7.5%2C1z%22%2F%3E%0A%3Cpath%20style%3D%22fill%3A%23CBCBCA%3B%22%20d%3D%22M7.5%2C2c3%2C0%2C5.5%2C2.5%2C5.5%2C5.5S10.5%2C13%2C7.5%2C13S2%2C10.5%2C2%2C7.5S4.5%2C2%2C7.5%2C2%20M7.5%2C1C3.9%2C1%2C1%2C3.9%2C1%2C7.5%0A%09S3.9%2C14%2C7.5%2C14S14%2C11.1%2C14%2C7.5S11.1%2C1%2C7.5%2C1L7.5%2C1z%22%2F%3E%0A%3C%2Fsvg%3E%0A",unselectedActive:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22iso-8859-1%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.2.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Unselected_hover%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%0A%09%20y%3D%220px%22%20viewBox%3D%220%200%2015%2015%22%20style%3D%22enable-background%3Anew%200%200%2015%2015%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cpath%20style%3D%22fill%3A%23FFFFFF%3B%22%20d%3D%22M7.5%2C1C3.9%2C1%2C1%2C3.9%2C1%2C7.5S3.9%2C14%2C7.5%2C14S14%2C11.1%2C14%2C7.5S11.1%2C1%2C7.5%2C1L7.5%2C1z%22%2F%3E%0A%3Cpath%20style%3D%22fill%3A%23333333%3B%22%20d%3D%22M7.5%2C2c3%2C0%2C5.5%2C2.5%2C5.5%2C5.5S10.5%2C13%2C7.5%2C13S2%2C10.5%2C2%2C7.5S4.5%2C2%2C7.5%2C2%20M7.5%2C1C3.9%2C1%2C1%2C3.9%2C1%2C7.5%0A%09S3.9%2C14%2C7.5%2C14S14%2C11.1%2C14%2C7.5S11.1%2C1%2C7.5%2C1L7.5%2C1z%22%2F%3E%0A%3C%2Fsvg%3E%0A",unselectedDisabled:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22iso-8859-1%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.2.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Disabled%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%2015%2015%22%20style%3D%22enable-background%3Anew%200%200%2015%2015%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cpath%20style%3D%22fill%3A%23FFFFFF%3B%22%20d%3D%22M7.5%2C1C3.9%2C1%2C1%2C3.9%2C1%2C7.5S3.9%2C14%2C7.5%2C14S14%2C11.1%2C14%2C7.5S11.1%2C1%2C7.5%2C1L7.5%2C1z%22%2F%3E%0A%3Cg%20style%3D%22opacity%3A0.25%3B%22%3E%0A%09%3Cpath%20style%3D%22fill%3A%23333333%3B%22%20d%3D%22M7.5%2C2c3%2C0%2C5.5%2C2.5%2C5.5%2C5.5S10.5%2C13%2C7.5%2C13S2%2C10.5%2C2%2C7.5S4.5%2C2%2C7.5%2C2%20M7.5%2C1C3.9%2C1%2C1%2C3.9%2C1%2C7.5%0A%09%09S3.9%2C14%2C7.5%2C14S14%2C11.1%2C14%2C7.5S11.1%2C1%2C7.5%2C1L7.5%2C1z%22%2F%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"},e.SpinnerDownIcon={height:8,width:8,enabled:"data:image/gif;base64,R0lGODlhCAAIAPc"+o("A",1026)+"CH5BAEAAP8ALAAAAAAIAAgAAAgXAP8JHEiwoEAACBMOTAigIEKDECMaDAgAOw=="},e.SpinnerUpIcon={height:8,width:8,enabled:"data:image/gif;base64,R0lGODlhCAAIAPc"+o("A",1026)+"CH5BAEAAP8ALAAAAAAIAAgAAAgXAP8JHEiwoEGDAAAUTJhwIEOGByMKDAgAOw=="},e.SearchIcon={height:12,width:12,cancelSearch:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiM2NjY2NjY7fQo8L3N0eWxlPgo8Zz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik04LjksMi45TDMsOC45Yy0wLjIsMC4yLTAuNiwwLjItMC44LDBsMCwwQzIsOC43LDIsOC4zLDIuMiw4LjFsNS45LTUuOUM4LjMsMiw4LjcsMiw4LjksMi4ybDAsMCAgIEM5LjEsMi40LDkuMSwyLjcsOC45LDIuOXoiLz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0zLDIuMmw1LjksNS45YzAuMiwwLjIsMC4yLDAuNiwwLDAuOGwwLDBjLTAuMiwwLjItMC42LDAuMi0wLjgsMEwyLjIsM0MyLDIuOCwyLDIuNCwyLjIsMi4ybDAsMCAgIEMyLjUsMiwyLjgsMiwzLDIuMnoiLz4KPC9nPgo8L3N2Zz4=",cancelSearchActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiMzMzMzMzM7fQo8L3N0eWxlPgo8Zz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik04LjksMi45TDMsOC45Yy0wLjIsMC4yLTAuNiwwLjItMC44LDBsMCwwQzIsOC43LDIsOC4zLDIuMiw4LjFsNS45LTUuOUM4LjMsMiw4LjcsMiw4LjksMi4ybDAsMCAgIEM5LjEsMi40LDkuMSwyLjcsOC45LDIuOXoiLz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0zLDIuMmw1LjksNS45YzAuMiwwLjIsMC4yLDAuNiwwLDAuOGwwLDBjLTAuMiwwLjItMC42LDAuMi0wLjgsMEwyLjIsM0MyLDIuOCwyLDIuNCwyLjIsMi4ybDAsMCAgIEMyLjUsMiwyLjgsMiwzLDIuMnoiLz4KPC9nPgo8L3N2Zz4=",search:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxwYXRoIHN0eWxlPSJmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiM2NjY2NjY7IiBkPSJNNy41LDBDNS4wMTUsMCwzLDIuMDE1LDMsNC41UzUuMDE1LDksNy41LDlTMTIsNi45ODUsMTIsNC41ICAgUzkuOTg1LDAsNy41LDB6IE03LjUsOEM1LjU2Nyw4LDQsNi40MzMsNCw0LjVTNS41NjcsMSw3LjUsMVMxMSwyLjU2NywxMSw0LjVTOS40MzMsOCw3LjUsOHoiLz4KCTxwYXRoIHN0eWxlPSJmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiM2NjY2NjY7IiBkPSJNNS4wMjYsNy44NThsLTMuOTYsMy45NmMtMC4yNDMsMC4yNDMtMC42NDEsMC4yNDMtMC44ODQsMGwwLDAgICBjLTAuMjQzLTAuMjQzLTAuMjQzLTAuNjQxLDAtMC44ODRsMy45Ni0zLjk2YzAuMjQzLTAuMjQzLDAuNjQxLTAuMjQzLDAuODg0LDBsMCwwQzUuMjY5LDcuMjE3LDUuMjY5LDcuNjE1LDUuMDI2LDcuODU4eiIvPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPg==",searchActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNNy41LDBDNSwwLDMsMiwzLDQuNVM1LDksNy41LDlTMTIsNywxMiw0LjVTMTAsMCw3LjUsMHogTTcuNSw4QzUuNiw4LDQsNi40LDQsNC41UzUuNiwxLDcuNSwxICAgUzExLDIuNiwxMSw0LjVTOS40LDgsNy41LDh6Ii8+Cgk8cGF0aCBzdHlsZT0iZmlsbDojMzMzMzMzOyIgZD0iTTUsNy45bC00LDRjLTAuMiwwLjItMC42LDAuMi0wLjksMGwwLDBjLTAuMi0wLjItMC4yLTAuNiwwLTAuOWw0LTRDNC40LDYuNyw0LjgsNi43LDUsN2wwLDAgICBDNS4zLDcuMiw1LjMsNy42LDUsNy45eiIvPgo8L2c+Cjwvc3ZnPg=="}},function(t,e,o){"use strict";var i=o(2),n=o(2),r=o(3),a=o(4),s=o(6),l=a.TabStyles.Typography,c={base:{fontSize:l.Sizing.Default,fontFamily:l.FontFamily,fontWeight:"normal",color:l.Color.Primary,lineHeight:"normal"},disabled:{color:l.Color.Disabled}},d=function(t){var e;return e=t.disabled?r.assign({},c.base,t.style,c.disabled):r.assign({},c.base,t.style),n.createElement(s.PointerEventWrapper,{pointerClick:t.handleClick},i.DOM.label({style:e,"data-tb-test-id":t.testId+"-Label"},t.label))};e.InputLabelWidget=d},function(t,e,o){"use strict";var i,n=o(2),r=o(2),a=o(3),s=o(4),l=o(16),c=o(17),d=o(18),p=o(19),u=n.DOM.div;!function(t){t[t.Centered=0]="Centered",t[t.Maximized=1]="Maximized"}(i||(i={})),e.DialogPositioningBehavior=i;var h=30,g={Dialog:{borderWidth:s.TabStyles.Sizing.BorderWidth,borderStyle:"solid",borderColor:s.TabStyles.Colors.L5,borderRadius:s.TabStyles.Sizing.BorderRadius,backgroundColor:s.TabStyles.Colors.White,cursor:"default",boxShadow:s.TabStyles.Shadow.Medium},TitleBar:a.assign({},l.TextEllipsis,{color:s.TabStyles.Colors.F8,backgroundColor:s.TabStyles.Colors.F1,height:h,paddingRight:s.TabStyles.Spacing.MediumSpace,paddingLeft:s.TabStyles.Spacing.LargeSpace,display:"flex",alignItems:"center",lineHeight:"normal"}),Title:a.assign({},l.TextEllipsis,{fontFamily:s.TabStyles.Typography.FontFamily,fontSize:s.TabStyles.Typography.Sizing.Large,flexGrow:1}),Body:{padding:s.TabStyles.Spacing.LargeSpace},Footer:{padding:s.TabStyles.Spacing.LargeSpace,paddingTop:0,paddingBottom:s.TabStyles.Spacing.MediumSpace},FooterContent:{float:"right"},ClearFloat:{clear:"both"}},C=function(t){return u({"data-tb-test-id":c.testId(t.testId,"Content")},u({"data-tb-test-id":c.testId(t.testId,"TitleBar"),style:g.TitleBar},u({style:g.Title},t.title),c.conditional(t.showCloseButton,r.createElement(d.CloseButtonWidget,{testId:t.testId,pointerClick:t.close}))),u({"data-tb-test-id":c.testId(t.testId,"Body"),style:g.Body},t.children),c.conditional(!!t.footerContent,u({"data-tb-test-id":c.testId(t.testId,"Footer"),style:g.Footer},u({style:g.FooterContent},t.footerContent),u({style:g.ClearFloat}))))};e.DialogContent=C;var y=(b={},b[i.Centered]=p.FloaterPositioningBehavior.Centered,b[i.Maximized]=p.FloaterPositioningBehavior.Maximized,b),I=function(t){return r.createElement(p.FloaterWidget,{testId:c.testId(t.testId,"Dialog"),positioningBehavior:y[t.positioningBehavior],isModal:t.isModal,customFloaterStyle:a.assign({},g.Dialog,t.customDialogStyle),stackingRootId:t.stackingRootId},r.createElement(C,t))};e.DialogWidget_UNFINISHED=I;var b},function(t,e){"use strict";var o={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"};e.TextEllipsis=o},function(t,e){"use strict";function o(t,e){return t?e:null}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return t.join("-")}function n(t){return t&&/^[a-z0-9]$/i.test(t)}e.conditional=o,e.testId=i,e.isAlphabeticChar=n},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},r=o(2),a=o(2),s=o(4),l=o(5),c=o(17),d=o(13),p=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){var t=this.state.hover||this.state.focus||this.state.active?d.CloseButtonIcon.active:d.CloseButtonIcon.enabled;return a.createElement("img",{src:t,style:{boxSizing:"content-box",borderWidth:s.TabStyles.Spacing.DefaultSpace,borderStyle:"solid",borderColor:"transparent",width:d.CloseButtonIcon.width,height:d.CloseButtonIcon.height,marginRight:-s.TabStyles.Spacing.DefaultSpace},"data-tb-test-id":c.testId(this.props.testId,"CloseButton")})},e=n([l.InteractiveDomHoCDecorator],e)}(r.Component);e.CloseButtonWidget=p},function(t,e,o){"use strict";var i,n=o(2),r=o(2),a=o(3),s=o(17),l=o(20),c=o(21),d=n.DOM.div;!function(t){t[t.Centered=0]="Centered",t[t.Maximized=1]="Maximized",t[t.Dynamic=2]="Dynamic"}(i||(i={})),e.FloaterPositioningBehavior=i;var p={FloaterContainer:{position:"fixed",left:0,right:0,top:0,bottom:0},FloaterContainerCentered:{display:"flex",justifyContent:"center",alignItems:"center"},Floater:{position:"fixed",minWidth:150,maxWidth:350,outline:0},FloaterCentered:{position:"relative"},FloaterMaximized:{position:"fixed",minWidth:0,maxWidth:"none",width:"auto !important",height:"auto !important",left:0,right:0,top:0,bottom:0}},u=function(t){return d({"data-tb-test-id":s.testId(t.testId,"FloaterContainer"),style:a.assign({},p.FloaterContainer,s.conditional(t.positioningBehavior===i.Centered,p.FloaterContainerCentered))},s.conditional(t.isModal,r.createElement(l.GlassWidget,{testId:t.testId})),d({"data-tb-test-id":s.testId(t.testId,"Floater"),style:a.assign({},p.Floater,t.customFloaterStyle||{},s.conditional(t.positioningBehavior===i.Centered,p.FloaterCentered),s.conditional(t.positioningBehavior===i.Maximized,p.FloaterMaximized))},t.children))};e.FloaterWidgetDefault=u;var h=c.StackingComponentHOC(u);e.FloaterWidget=h},function(t,e,o){"use strict";var i=o(2),n=o(3),r=o(17),a=o(4),s=o(5),l={Glass:{position:"fixed",top:0,left:0,bottom:0,right:0,padding:0,margin:0},Clear:{backgroundColor:a.TabStyles.Colors.White,opacity:a.TabStyles.Opacity.ClearGlass},Opaque:{backgroundColor:a.TabStyles.Colors.F2,opacity:a.TabStyles.Opacity.OpaqueGlass}},c=function(t){var e=n.assign({},l.Glass,t.transparent?l.Clear:l.Opaque);return i.createElement(s.InteractiveDomWrapper,{pointerClick:function(e){e.preventDefault(),t.onClick&&t.onClick()}},i.createElement("div",{style:e,"data-tb-test-id":r.testId(t.testId,"Glass")}))};e.GlassWidget=c},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(2),r=o(7),a=o(22),s=o(9),l=function(t){function e(e){if(t.call(this,e),this.stackingRoot=this.props.stackingRootId?document.getElementById(this.props.stackingRootId):a.StackingRootConfig.getDefaultRootContainer(),!this.stackingRoot)throw Error("Could not find stacking root.")}return i(e,t),e.prototype.componentDidMount=function(){this.renderLayer()},e.prototype.componentDidUpdate=function(){this.renderLayer()},e.prototype.componentWillUnmount=function(){this.unrenderLayer()},e.prototype.getMountPoint=function(){return this.mountPoint},e.prototype.renderLayer=function(){this.createMountPointIfNeeded();var t=n.Children.only(this.props.children);r.unstable_renderSubtreeIntoContainer(this,t,this.mountPoint)},e.prototype.createMountPointIfNeeded=function(){this.mountPoint||(this.mountPoint=document.createElement("div"),this.stackingRoot.appendChild(this.mountPoint))},e.prototype.unrenderLayer=function(){this.mountPoint&&(r.unmountComponentAtNode(this.mountPoint),this.stackingRoot.removeChild(this.mountPoint),this.mountPoint=null)},e.prototype.render=function(){return null},e}(n.Component);e.StackingComponentWrapper=l,e.StackingComponentHOC=function(t){var e=s.convertToStatefulComponentClass(t),o=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){return n.createElement(l,this.props,t.prototype.render.call(this))},e}(e);return o.displayName="StackingComponentHOC("+s.getComponentName(t)+")",o}},function(t,e){"use strict";var o=function(){function t(){}return t.setDefaultRootContainerId=function(e){t.defaultStackingRootId=e},t.getDefaultRootContainer=function(){var e=t.defaultStackingRootId?document.getElementById(t.defaultStackingRootId):document.body;if(!e)throw Error("Could not find stacking root.");return t.warnIfRootIsNotPositioned(e),e},t.warnIfRootIsNotPositioned=function(t){var e=window.getComputedStyle(t).position;"relative"!==e&&"absolute"!==e&&console.warn("Root Container does not have relative or absolute positioning.  Since some shared widgets absolutely\n      position relative to the container this may interfere with positioning")},t}();e.StackingRootConfig=o},function(t,e,o){"use strict";var i=o(2),n=o(24),r=function(t){var e=t.currentStep/t.totalSteps;return i.createElement(n.ProgressBarContainer,{width:t.width},i.createElement(n.ProgressCompleteBar,{fractionComplete:e},1===e?null:i.createElement(n.ProgressBarAnimation,{containerWidth:t.width*e})))};e.DiscreteProgressBarWidget_UNFINISHED=r},function(t,e,o){"use strict";var i=o(2),n=o(3),r=o(25),a=o(4),s=o(12),l=a.TabStyles.Colors,c=a.TabStyles.Sizing,d={backgroundColor:l.F3,borderRadius:c.BorderRadius,height:c.BaseUnit},p=function(t){var e=n.assign({},d,{width:t.width});return i.createElement(s.Block,{style:e},t.children)};e.ProgressBarContainer=p;var u={backgroundColor:l.GoLight,position:"absolute",top:0,left:0,height:"100%"},h=function(t){var e=n.assign({},u,{width:100*t.fractionComplete+"%"});return i.createElement(s.Block,{style:e},t.children)};e.ProgressCompleteBar=h;var g=c.BaseUnit,C={position:"absolute",top:0,width:g,height:"100%",backgroundColor:l.GoDark},y=function(t){var e=t.containerWidth,o=r.SingletonStyleSheet.addAnimation({keyframes:{fromCSSLines:{transform:"translate3d(0px, 0px, 0px)"},toCSSLines:{transform:"translate3d("+(e-g)+"px, 0px, 0px)"}},options:{count:1/0,durationMs:1e3,direction:"alternate",timingFunction:"ease-in-out"}});return i.createElement(s.Block,{style:C,className:o})};e.ProgressBarAnimation=y},function(t,e){"use strict";var o="shared-widgets",i=function(){function t(){if(this.idCounter=1,this.classNameLookup={},this.rawSelectorLookup={},"undefined"!=typeof document){var t=document.createElement("style");document.head.appendChild(t);for(var e=0;e<document.styleSheets.length;e++){var o=document.styleSheets[e];o.ownerNode===t&&(this.styleSheet=o)}}}return t.prototype.addRawSelector=function(t,e){var o=this.toRuleBody(e);if(t in this.rawSelectorLookup)throw new Error(t+" has already been defined.");this.rawSelectorLookup[t]=!0,this.addRule(t+" {"+o+"}")},t.prototype.addClass=function(t,e){var i=this.toRuleBody(t),n=this.classNameLookup[i];if(n){if(e&&e!==n)throw new Error("Attempting to define css rule using class name '"+e+"', but a class with the given\n           rule body already exists under class name '"+n+"'. Rule body: "+i+".");return n}return e||(e=o+"_"+this.idCounter++),this.classNameLookup[i]=e,this.addRule("."+e+" {"+i+"}"),e},t.prototype.addAnimation=function(t,e){var o=t.options,i=JSON.stringify(t),n=this.classNameLookup[i];if(n){if(e&&e!==n)throw new Error("Attempting to define css animation using class name '"+e+"', but a css rule with that\n           definition already exists under class name '"+n+"'. Definition: "+t);return n}var r=this.addKeyframes(t.keyframes),a=this.addClass({"animation-duration":o.durationMs/1e3+"s","animation-timing-function":o.timingFunction,"animation-iteration-count":""+(o.count===1/0?"infinite":o.count),"animation-direction":o.direction,"animation-name":r},e);return this.classNameLookup[i]=a,a},t.prototype.dispose=function(){var t=this.styleSheet.ownerNode;t.parentElement.removeChild(t)},t.prototype.addKeyframes=function(t){var e=this,i=t.fromCSSLines,n=t.toCSSLines,r=t.tweenFrames,a=o+"_"+this.idCounter++,s=[{percent:0,cssLines:i},{percent:100,cssLines:n}].concat(r),l=s.map(function(t){return t?t.percent+"% { "+e.toRuleBody(t.cssLines)+" }":""});return this.addRule("@keyframes "+a+" { "+l.join(" ")+"}"),a},t.prototype.toRuleBody=function(t){return Object.keys(t).map(function(e){if(e.toLowerCase()!==e)throw new Error("The CSS prop '"+e+"' should be written kebab-case, not camelCase");return e+": "+t[e]+";"}).join("")},t.prototype.addRule=function(t){this.styleSheet.insertRule(t,this.styleSheet.cssRules.length)},t}();e.StyleSheet=i;var n=new i;e.SingletonStyleSheet=n},function(t,e,o){"use strict";var i,n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=o(2),s=o(2),l=o(7),c=o(3),d=o(17),p=o(16),u=o(4),h=o(5),g=o(12),C=o(13),y=o(27),I=o(29),b=u.TabStyles.Sizing,D=u.TabStyles.Colors,m=u.TabStyles.Spacing,w=u.TabStyles.Typography;!function(t){t[t.Outline=0]="Outline",t[t.Line=1]="Line",t[t.Text=2]="Text"}(i||(i={})),e.DropdownType=i;var M={container:{},button:{base:{borderWidth:b.BorderWidth,borderRadius:b.BorderRadius,borderColor:D.L6,borderStyle:"solid",backgroundColor:D.Transparent,height:b.RowHeight,paddingLeft:m.DefaultSpace,paddingRight:m.LargeSpace+m.DefaultSpace,outline:"none",fontSize:w.Sizing.Default,fontFamily:w.FontFamily,fontWeight:"normal",color:w.Color.Primary,lineHeight:b.RowHeight-2*b.BorderWidth+"px",cursor:"default"},interactive:{hover:{borderColor:D.L8},active:{borderColor:D.L8},focus:{borderColor:D.L8},disabled:{borderColor:D.L9Disabled,color:w.Color.Disabled}}},value:c.assign({},p.TextEllipsis,{width:"100%"}),iconContainer:{width:m.LargeSpace+b.BorderWidth,height:b.RowHeight-2*b.BorderWidth,position:"absolute",right:0,top:0,borderWidth:b.BorderWidth,borderColor:D.L3,borderStyle:"none none none solid"},icon:{height:"100%",width:C.DropdownArrowIcon.width,verticalAlign:"baseline"},label:{fontSize:w.Sizing.Tiny,fontFamily:w.FontFamily,fontWeight:"normal",color:w.Color.SubHead,lineHeight:w.Sizing.Small+"px",height:18},menu:{top:0}},S={container:{},button:{base:{borderTop:"none",borderRight:"none",borderLeft:"none",borderBottomWidth:b.BorderWidth,borderBottomColor:D.L6,borderBottomStyle:"solid",backgroundColor:D.Transparent,height:b.RowHeight,paddingRight:m.LargeSpace+m.DefaultSpace,outline:"none",fontSize:w.Sizing.Default,fontFamily:w.FontFamily,fontWeight:"normal",lineHeight:b.RowHeight+"px",color:w.Color.Primary,cursor:"default"},interactive:{hover:{borderBottomColor:D.L8},active:{borderBottomColor:D.L9},focus:{borderBottomColor:D.L8},disabled:{borderBottomColor:D.L9Disabled,color:w.Color.Disabled}}},value:c.assign({},p.TextEllipsis,{width:"100%",top:b.BorderWidth}),iconContainer:{width:C.DropdownArrowIcon.width,height:b.RowHeight-2*b.BorderWidth,position:"absolute",right:-4,top:0,border:"none"},icon:{height:"100%",width:C.DropdownArrowIcon.width,verticalAlign:"baseline"},label:{fontSize:w.Sizing.Tiny,fontFamily:w.FontFamily,fontWeight:"normal",color:w.Color.SubHead,lineHeight:w.Sizing.Small+"px"},menu:{top:m.DefaultSpace}},f={container:{display:"inline-block",width:"auto"},button:{base:{border:"none",backgroundColor:D.Transparent,height:b.RowHeight,outline:"none",fontSize:w.Sizing.Default,fontFamily:w.FontFamily,fontWeight:"normal",color:w.Color.Primary,cursor:"default",lineHeight:b.RowHeight+"px",display:"inline-block"},interactive:{hover:{borderBottomColor:D.L8},active:{borderBottomColor:D.L9},focus:{borderBottomColor:D.L8},disabled:{borderBottomColor:D.L9Disabled,color:w.Color.Disabled}}},value:p.TextEllipsis,iconContainer:{height:"100%"},icon:{height:"100%",width:C.DropdownArrowIcon.width,verticalAlign:"baseline"},label:{fontSize:w.Sizing.Tiny,fontFamily:w.FontFamily,fontWeight:"normal",color:w.Color.SubHead,lineHeight:w.Sizing.Small+"px",height:13},menu:{top:b.RowHeight}},L=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.getDropdownIcon=function(){return this.props.disabled?C.DropdownArrowIcon.disabled:this.state.hover||this.state.active||this.state.focus?C.DropdownArrowIcon.active:C.DropdownArrowIcon.enabled},e.prototype.render=function(){return s.createElement(g.Block,{disabled:this.props.disabled,style:this.props.dropdownStyles.button.base,onKeyDown:this.props.onKeyDown,tabIndex:this.props.disabled?-1:0},s.createElement(g.InlineBlock,{style:this.props.dropdownStyles.value},this.props.displayValue),s.createElement(g.InlineBlock,{style:this.props.dropdownStyles.iconContainer},a.DOM.img({style:this.props.dropdownStyles.icon,src:this.getDropdownIcon()})))},e=r([h.InteractiveDomHoCDecorator],e)}(a.Component);e.DropdownButtonWidget=L;var v=function(t){function e(e){var o=this;t.call(this,e),this.boundToggleMenu=function(){return o.toggleMenu()},this.boundOnItemSelected=function(t){return o.onItemSelected(t)},this.boundKeyDown=function(t){return o.handleKeyDown(t)},this.state={isOpen:!1,highlightedItemIndex:this.getInitialHighlightedItemIndex()}}return n(e,t),e.prototype.getWidth=function(){return this.props.style&&this.props.style.width||"100%"},e.prototype.toggleMenu=function(){this.props.disabled||this.setState({isOpen:!this.state.isOpen,highlightedItemIndex:this.state.isOpen?this.state.highlightedItemIndex:this.getInitialHighlightedItemIndex()})},e.prototype.onItemSelected=function(t){this.props.onSelect(t),this.toggleMenu()},e.prototype.getInitialHighlightedItemIndex=function(){var t=this.getIndexByItem(this.props.selectedItem);return null!==t?t:0},e.prototype.setHighlightedItemIndex=function(t){this.setState(c.assign({},this.state,{highlightedItemIndex:t}))},e.prototype.getIndexByItem=function(t){var e=null;return t&&this.props.menuItems&&this.props.menuItems.forEach(function(o,i){null===e&&JSON.stringify(t.value)===JSON.stringify(o.value)&&(e=i)}),e},e.prototype.getFirstIndexOfFirstLetter=function(t){var e=null;return this.props.menuItems.forEach(function(o,i){null===e&&o.displayValue.charAt(0).toUpperCase()===t.toUpperCase()&&(e=i)}),e},e.prototype.handleKeyDown=function(t){if(d.isAlphabeticChar(t.key)){var e=this.getFirstIndexOfFirstLetter(t.key);null!==e&&this.setHighlightedItemIndex(e),t.preventDefault()}else switch(t.key){case" ":case"Enter":this.state.isOpen?this.onItemSelected(this.props.menuItems[this.state.highlightedItemIndex]):this.toggleMenu(),t.preventDefault();break;case"Escape":this.state.isOpen&&this.toggleMenu(),t.preventDefault();break;case"Tab":this.state.isOpen&&this.toggleMenu();break;case"ArrowUp":this.state.highlightedItemIndex>0&&this.setHighlightedItemIndex(this.state.highlightedItemIndex-1),t.preventDefault();break;case"ArrowDown":this.state.highlightedItemIndex<this.props.menuItems.length-1&&this.setHighlightedItemIndex(this.state.highlightedItemIndex+1),t.preventDefault();break;case"Home":this.setHighlightedItemIndex(0),t.preventDefault();break;case"End":this.setHighlightedItemIndex(this.props.menuItems.length-1),t.preventDefault();break;default:return}},e.prototype.getDropdownStylesByType=function(t){switch(t){case i.Text:return f;case i.Line:return S;case i.Outline:return M;default:throw new Error("DropdownWidget attempted to render invalid DropdownType: "+t)}},e.prototype.render=function(){var t=this,e=this.getDropdownStylesByType(this.props.dropdownType),o=!!this.props.label,i=this.props.selectedItem?this.props.selectedItem.displayValue:this.props.placeholder||"",n={disabled:this.props.disabled,displayValue:i,dropdownStyles:e,interactiveStyles:e.button.interactive,onKeyDown:this.boundKeyDown,pointerClick:this.boundToggleMenu,ref:function(e){t.anchorEl=l.findDOMNode(e)}},r={onItemSelected:this.boundOnItemSelected,menuItems:this.props.menuItems,highlightedItemIndex:this.state.highlightedItemIndex,onMenuItemHover:function(e){return t.setHighlightedItemIndex(e)},style:{width:this.getWidth(),top:e.menu.top}};return s.createElement(g.Block,{style:c.assign({},this.props.style,{width:this.getWidth()},e.container),"data-tb-test-id":this.props.testId+"-Dropdown"},d.conditional(o,s.createElement(g.Block,{style:e.label},s.createElement("label",{},this.props.label))),s.createElement(g.Block,{},s.createElement(L,n)),d.conditional(this.state.isOpen,s.createElement(I.Overlay,{anchorEl:this.anchorEl,stackingRootId:this.props.stackingRootId,anchorOrigin:{vertical:I.VerticalOriginOption.bottom,horizontal:I.HorizontalOriginOption.left},allowAutoPosition:!0},s.createElement(y.FlyoutListMenuWidget,r))))},e}(a.Component);e.DropdownWidget_UNFINISHED=v},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(2),r=o(2),a=o(3),s=o(17),l=o(12),c=o(4),d=o(28),p=c.TabStyles.Sizing,u=c.TabStyles.Colors,h=c.TabStyles.Spacing,g=c.TabStyles.Typography,C=c.TabStyles.Shadow,y={borderWidth:p.BorderWidth,borderRadius:p.BorderRadius,borderColor:u.L6,borderStyle:"solid",backgroundColor:u.White,padding:h.DefaultSpace,outline:"none",fontSize:g.Sizing.Default,fontFamily:g.FontFamily,fontWeight:"normal",color:g.Color.Primary,boxShadow:C.Low},I=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.buildMenuFromItems=function(){var t=this;return this.props.menuItems.map(function(e,o){return r.createElement(d.MenuItemWidget,a.assign({},e,{handleSelect:function(){return t.props.onItemSelected(e)},key:e.displayValue,isHighlighted:t.props.highlightedItemIndex===o,testId:e.testId},s.conditional(!!t.props.onMenuItemHover,{onMenuItemHover:function(){return t.props.onMenuItemHover(o)}})))})},e.prototype.render=function(){return r.createElement(l.Block,{style:a.assign({},y,this.props.style)},this.buildMenuFromItems(),this.props.children)},e}(n.Component);e.FlyoutListMenuWidget=I},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(2),r=o(2),a=o(3),s=o(17),l=o(4),c=o(5),d=l.TabStyles.Sizing,p=l.TabStyles.Colors,u=l.TabStyles.Spacing,h={base:{height:d.ListRowHeight,paddingLeft:u.DefaultSpace,paddingRight:u.DefaultSpace,lineHeight:d.ListRowHeight+"px",overflow:"hidden",textOverflow:"ellipsis",cursor:"default"},highlighted:{backgroundColor:p.F2_5},interactive:{active:{backgroundColor:p.F3}}},g=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){return r.createElement(c.InteractiveDomWrapper,a.assign({},{pointerClick:this.props.handleSelect,interactiveStyles:h.interactive},s.conditional(!!this.props.onMenuItemHover,{handleHover:this.props.onMenuItemHover})),r.createElement("div",{style:a.assign({},h.base,s.conditional(this.props.isHighlighted,h.highlighted)),"data-tb-test-id":this.props.testId+"-Menuitem"},this.props.displayValue))},e}(n.Component);e.MenuItemWidget=g},function(t,e,o){"use strict";var i,n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=o(2),a=o(2),s=o(7),l=o(21),c=o(22);!function(t){t[t.top=0]="top",t[t.centerY=1]="centerY",t[t.bottom=2]="bottom"}(i||(i={})),e.VerticalOriginOption=i;var d;!function(t){t[t.left=0]="left",t[t.centerX=1]="centerX",t[t.right=2]="right"}(d||(d={})),e.HorizontalOriginOption=d;var p=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.componentDidUpdate=function(){this.setPlacement()},e.prototype.getAnchorPosition=function(){var t=this.props.anchorEl?this.props.anchorEl:s.findDOMNode(this),e=t.getBoundingClientRect(),o=t.offsetWidth,i=t.offsetHeight,n={top:e.top,left:e.left};return n.right=e.right||n.left+o,n.bottom=e.bottom||n.top+i,n.centerX=n.left+(n.right-n.left)/2,n.centerY=n.top+(n.bottom-n.top)/2,n},e.prototype.getStackedElCurrentPosition=function(){var t=this.getStackedEl();return{top:0,centerX:t.offsetHeight/2,bottom:t.offsetHeight,left:0,centerY:t.offsetWidth/2,right:t.offsetWidth}},e.prototype.getContainerRect=function(){var t=this.props.stackingRootId?document.getElementById(this.props.stackingRootId):c.StackingRootConfig.getDefaultRootContainer();if(!t)throw Error("Could not find stacking root.");return t.getBoundingClientRect()},e.prototype.setPlacement=function(){if(this.stackingWrapper&&this.stackingWrapper.getMountPoint()){var t=this.getStackedElAdjustedPosition(),e=this.getStackedEl();e.style.top=t.top+"px",e.style.left=t.left+"px",e.style.position="absolute"}},e.prototype.getStackedEl=function(){return this.stackingWrapper.getMountPoint().firstChild},e.prototype.getStackedElAdjustedPosition=function(){var t=this.getDefaultStackedElViewportPosition();this.props.allowAutoPosition&&(t=this.getAutoPositionIfNeeded(t));var e=this.getAdjustStackedElPositionForContainer(t);return e},e.prototype.getDefaultStackedElViewportPosition=function(){return this.getStackedElViewportPosition(this.props.anchorOrigin,this.props.stackedOrigin)},e.prototype.getAdjustStackedElPositionForContainer=function(t){var e=this.getContainerRect(),o={top:t.top-e.top,left:t.left-e.left};return o},e.prototype.getStackedElViewportPosition=function(t,e){var o=this.getAnchorPosition(),n=this.getStackedElCurrentPosition(),r=i[t.vertical],a=d[t.horizontal],s=i[e.vertical],l=d[e.horizontal],c=o[r],p=o[a],u=n[s],h=n[l],g={top:c-u,left:p-h};return g},e.prototype.getAutoPositionIfNeeded=function(t){var e=this.getStackedElCurrentPosition(),o=this.getOppositeOriginPosition(),i=t.top<0||t.top+e.bottom>window.innerHeight,n=t.left<0||t.left+e.right>window.innerWidth;return i&&o.top+e.bottom<=window.innerHeight&&(t.top=Math.max(0,o.top)),n&&o.left+e.right<=window.innerWidth&&(t.left=Math.max(0,o.left)),t},e.prototype.getOppositeOriginPosition=function(){var t=this.getOppositeOriginsOptions(this.props.anchorOrigin),e=this.getOppositeOriginsOptions(this.props.stackedOrigin);return this.getStackedElViewportPosition(t,e)},e.prototype.getOppositeOriginsOptions=function(t){return{horizontal:this.getOppositeHorizontalOption(t.horizontal),vertical:this.getOppositeVerticalOption(t.vertical)}},e.prototype.getOppositeVerticalOption=function(t){return t===i.centerY?i.centerY:t===i.top?i.bottom:i.top},e.prototype.getOppositeHorizontalOption=function(t){return t===d.centerX?d.centerX:t===d.left?d.right:d.left},e.prototype.setStackingWrapper=function(t){this.stackingWrapper=t,this.setPlacement()},e.prototype.render=function(){var t=this;return a.createElement("div",{display:"none"},a.createElement(l.StackingComponentWrapper,{stackingRootId:this.props.stackingRootId,ref:function(e){return t.setStackingWrapper(e)}},this.props.children))},e.defaultProps={anchorOrigin:{vertical:i.top,horizontal:d.left},stackedOrigin:{vertical:i.top,horizontal:d.left}},e}(r.Component);e.Overlay=p},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(2),r=o(2),a=o(12),s=o(31),l=function(t){function e(o){t.call(this,o),this.groupId=e.groupIdIncrementor++}return i(e,t),e.prototype.render=function(){var t=this;return r.createElement(a.Block,{},this.props.buttonList.map(function(e,o){return r.createElement(a.Block,{key:o},r.createElement(s.RadioButtonLabelWidget,{index:o,groupName:t.groupId.toString(),value:e.value,testId:e.testId,checked:o===t.props.checkedIndex,disabled:e.disabled,handleChange:t.props.handleChange,label:e.label}))}))},e.groupIdIncrementor=0,e}(n.Component);e.RadioButtonLabelGroupWidget=l},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},r=o(2),a=o(32),s=o(12),l=o(5),c=o(14),d=o(4),p={container:{display:"flex",alignItems:"center",height:d.TabStyles.Sizing.ListRowHeight+"px"}},u=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.handleClickWrapper=function(){this.props.checked||this.props.disabled||this.props.handleChange(this.props.value,this.props.index)},e.prototype.render=function(){var t=this;return r.createElement(s.Block,{style:p.container},r.createElement(a.RadioButtonWidget,{disabled:this.props.disabled,checked:this.props.checked,handleChange:this.props.handleChange,hover:this.state.hover,testId:this.props.testId,groupName:this.props.groupName,value:this.props.value,index:this.props.index}),r.createElement(s.InlineBlock,{},r.createElement(c.InputLabelWidget,{handleClick:function(){return t.handleClickWrapper()},disabled:this.props.disabled,label:this.props.label,testId:this.props.testId})))},e=n([l.InteractiveDomHoCDecorator],e)}(r.Component);e.RadioButtonLabelWidget=u},function(t,e,o){"use strict";function i(t,e){var o;return o=t.checked?t.disabled?c.RadioButtonIcon.selectedDisabled:t.hover||e.hover||e.focus?c.RadioButtonIcon.selectedActive:c.RadioButtonIcon.selected:t.disabled?c.RadioButtonIcon.unselectedDisabled:t.hover||e.hover||e.focus?c.RadioButtonIcon.unselectedActive:c.RadioButtonIcon.unselected}var n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=o(2),s=o(12),l=o(5),c=o(13),d=o(4),p={baseDiv:{marginLeft:d.TabStyles.Spacing.DefaultSpace,marginRight:d.TabStyles.Spacing.DefaultSpace,height:c.RadioButtonIcon.height,width:c.RadioButtonIcon.width},radioButton:{opacity:0,height:c.RadioButtonIcon.height,width:c.RadioButtonIcon.width,margin:0},fakeRadioButton:{height:c.RadioButtonIcon.height,width:c.RadioButtonIcon.width,position:"absolute"}},u=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.handleFormChange=function(t){this.props.disabled||this.props.handleChange(this.props.value,this.props.index)},e.prototype.render=function(){var t=this,e=i(this.props,this.state);return a.createElement(s.InlineBlock,{style:p.baseDiv},a.DOM.img({style:p.fakeRadioButton,src:e}),a.DOM.input({style:p.radioButton,type:"radio",name:this.props.groupName,readOnly:this.props.checked,onChange:this.props.checked?null:function(e){return t.handleFormChange(e)},checked:this.props.checked,disabled:this.props.disabled,"data-tb-test-id":this.props.testId+"-RadioButton"}))},e=r([l.InteractiveDomHoCDecorator],e)}(a.Component);e.RadioButtonWidget=u},function(t,e,o){"use strict";var i=o(4),n=o(22),r=function(t){t.styles&&i.overrideTabStyles(t.styles)},a=function(t){t.defaultStackingRootId&&n.StackingRootConfig.setDefaultRootContainerId(t.defaultStackingRootId)},s=function(t){r(t),a(t)};e.setConfig=s},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},r=o(2),a=o(2),s=o(3),l=o(5),c=o(25),d="shared-widgets-text-input";try{c.SingletonStyleSheet.addRawSelector("."+d+"::-ms-clear",{display:"none"})}catch(p){}var u;!function(t){t[t.Text=0]="Text",t[t.Password=1]="Password"}(u||(u={})),e.TextInputType=u;var h={input:{width:"100%"}},g=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.handleChangeWrapper=function(t){this.props.disabled||this.props.handleChange(t.target.value)},e.prototype.render=function(){var t=this,e=this.props.type===u.Password?"password":"text",o={className:d,type:e,style:s.assign({},h.input,this.props.style),value:this.props.text||"","data-tb-test-id":this.props.testId+"-TextInput",onChange:function(e){return t.handleChangeWrapper(e)},onKeyDown:function(e){!t.props.disabled&&t.props.handleEnter&&"Enter"===e.key&&t.props.handleEnter()},disabled:this.props.disabled,readOnly:this.props.readOnly,maxLength:this.props.maxLength};return a.createElement("input",o)},e=n([l.InteractiveDomHoCDecorator],e)}(r.Component);e.TextFieldInputWidget=g},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(2),r=o(3),a=o(12),s=o(4),l=o(36),c=o(34);e.TextInputType=c.TextInputType;var d=o(37),p=s.TabStyles.Colors,u=s.TabStyles.Sizing,h=s.TabStyles.Spacing,g=s.TabStyles.Typography,C={baseInput:{base:{borderTop:"none",borderLeft:"none",borderRight:"none",borderBottomWidth:u.BorderWidth,borderBottomRadius:u.BorderRadius,borderBottomColor:p.L6,borderBottomStyle:"solid",height:u.RowHeight,outline:"none",backgroundColor:p.Transparent,fontSize:g.Sizing.Default,fontFamily:g.FontFamily,fontWeight:"normal",color:g.Color.Primary,position:"relative",paddingBottom:h.DefaultSpace,marginBottom:h.DefaultSpace,lineHeight:"normal"},interactive:{hover:{borderBottomColor:p.L8},active:{borderBottomColor:p.GoLight},focus:{borderBottomColor:p.GoLight},disabled:{borderBottomColor:p.L9Disabled,color:g.Color.Disabled}}},errorInput:{borderBottomColor:p.AttentionLight},placeholder:{fontSize:g.Sizing.Default,fontFamily:g.FontFamily,fontWeight:"normal",color:g.Color.SubHead,position:"absolute",textAlign:"start",lineHeight:u.RowHeight+"px",bottom:h.DefaultSpace},errorLabel:{fontSize:g.Sizing.Tiny,fontFamily:g.FontFamily,fontWeight:"normal",color:p.AttentionLight,lineHeight:"normal"},floatingLabel:{fontSize:g.Sizing.Small,fontFamily:g.FontFamily,fontWeight:"normal",color:g.Color.SubHead,lineHeight:u.RowHeight+"px"}},y=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){var t=this,e=this.isPlaceholderShowing(),o=r.assign({},C.baseInput.base,this.props.hasError?C.errorInput:null),i=this.props.hasError?null:C.baseInput.interactive,s={type:this.props.type,style:o,interactiveStyles:i,text:this.props.text,testId:this.props.testId,handleChange:this.props.handleChange,handleEnter:this.props.handleEnter,disabled:this.props.disabled,handleActive:function(e){return t.handleInputActive(e)},handleFocus:function(e){return t.handleInputFocus(e)},readOnly:this.props.readOnly,maxLength:this.props.maxLength};return n.createElement(a.Block,{style:this.props.containerStyle},this.props.floatingLabel?n.createElement(a.Block,{},n.createElement("label",{style:C.floatingLabel,"data-tb-test-id":this.props.testId+"-FloatingLabel"},e?d.Unicode.NonBreakingSpace:this.props.floatingLabel)):null,n.createElement(a.Block,{},e?n.createElement("label",{style:C.placeholder,"data-tb-test-id":this.props.testId+"-Placeholder"},this.props.placeholder):null,n.createElement(c.TextFieldInputWidget,s)),n.createElement(a.Block,{},n.createElement("label",{style:C.errorLabel,"data-tb-test-id":this.props.testId+"-ErrorLabel"},this.props.hasError?this.props.errorText:d.Unicode.NonBreakingSpace)))},e}(l.TextFieldBase);e.TextFieldLineWidget=y},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(2),r=o(3),a=function(t){function e(e){t.call(this,e),this.state=r.assign({},this.state,{inputFocus:!1,inputActive:!1,inputHover:!1})}return i(e,t),e.prototype.handleInputActive=function(t){this.props.disabled||this.setState(r.assign({},this.state,{inputActive:t}))},e.prototype.handleInputFocus=function(t){this.props.disabled||this.setState(r.assign({},this.state,{inputFocus:t}))},e.prototype.handleInputHover=function(t){this.props.disabled||this.setState(r.assign({},this.state,{inputHover:t}))},e.prototype.isPlaceholderShowing=function(){return!this.props.text&&this.props.disabled||!(this.props.text||this.state.inputActive||this.state.inputFocus)},e}(n.Component);e.TextFieldBase=a},function(t,e){"use strict";var o={NonBreakingSpace:" "};e.Unicode=o},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(2),r=o(12),a=o(4),s=o(34);e.TextInputType=s.TextInputType;var l=o(36),c=a.TabStyles.Colors,d=a.TabStyles.Sizing,p=a.TabStyles.Spacing,u=a.TabStyles.Typography,h={input:{base:{borderWidth:d.BorderWidth,borderRadius:d.BorderRadius,borderColor:c.L6,borderStyle:"solid",height:d.RowHeight,paddingLeft:p.DefaultSpace,outline:"none",backgroundColor:c.Transparent,fontSize:u.Sizing.Default,fontFamily:u.FontFamily,color:u.Color.Primary,position:"relative",fontWeight:"normal",lineHeight:"normal"},interactive:{hover:{borderColor:c.L8},active:{borderColor:c.L8},focus:{borderColor:c.L8},disabled:{borderColor:c.L9Disabled,color:u.Color.Disabled}}},placeholder:{fontSize:u.Sizing.Default,fontFamily:u.FontFamily,fontWeight:"normal",color:u.Color.Disabled,position:"absolute",left:p.DefaultSpace,textAlign:"start",lineHeight:d.RowHeight+"px"}};e.TextOutlineStyles=h;var g=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){var t=this,e=this.isPlaceholderShowing(),o={type:this.props.type,style:h.input.base,interactiveStyles:h.input.interactive,text:this.props.text,testId:this.props.testId,handleChange:this.props.handleChange,handleEnter:this.props.handleEnter,disabled:this.props.disabled,handleActive:function(e){return t.handleInputActive(e)},handleFocus:function(e){return t.handleInputFocus(e)},readOnly:this.props.readOnly,maxLength:this.props.maxLength};return n.createElement(r.Block,{style:this.props.containerStyle},e?n.createElement("label",{style:h.placeholder,"data-tb-test-id":this.props.testId+"-Placeholder"},this.props.placeholder):null,n.createElement(s.TextFieldInputWidget,o))},e}(l.TextFieldBase);e.TextFieldOutlineWidget=g},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(2),r=o(3),a=o(12),s=o(13),l=o(4),c=o(38),d=o(36),p=o(34);e.TextInputType=p.TextInputType;var u=o(5),h=l.TabStyles.Sizing,g=l.TabStyles.Spacing,C={iconPadding:{paddingRight:s.SearchIcon.width+2*g.DefaultSpace},icon:{position:"absolute",right:0,paddingRight:g.DefaultSpace,paddingLeft:g.DefaultSpace,paddingTop:g.DefaultSpace,paddingBottom:h.RowHeight-g.DefaultSpace-s.SearchIcon.height},outlineContainer:{width:"100%"}},y=function(t){function e(e){t.call(this,e),this.state=r.assign({},this.state,{cancelHover:!1})}return i(e,t),e.prototype.componentWillReceiveProps=function(t){t.text||(this.state=r.assign({},this.state,{cancelHover:!1}))},e.prototype.handleCancelSearchWrapper=function(t){this.props.disabled||this.props.handleCancelSearch()},e.prototype.handleCancelHover=function(t){this.props.disabled||this.setState(r.assign({},this.state,{cancelHover:t}))},e.prototype.getIcon=function(){return!this.props.disabled&&(this.state.cancelHover||this.state.inputActive||this.state.inputFocus||this.state.inputHover)?this.props.text?s.SearchIcon.cancelSearchActive:s.SearchIcon.searchActive:this.props.text?s.SearchIcon.cancelSearch:s.SearchIcon.search},e.prototype.getInputStyle=function(){return r.assign({},c.TextOutlineStyles.input.base,C.iconPadding,this.state.cancelHover?c.TextOutlineStyles.input.interactive.hover:{})},e.prototype.render=function(){var t=this,e=this.isPlaceholderShowing(),o=this.getInputStyle(),i={type:this.props.type,style:o,interactiveStyles:c.TextOutlineStyles.input.interactive,text:this.props.text,testId:this.props.testId,handleChange:this.props.handleChange,handleEnter:this.props.handleEnter,disabled:this.props.disabled,handleActive:function(e){return t.handleInputActive(e)},handleFocus:function(e){return t.handleInputFocus(e)},handleHover:function(e){return t.handleInputHover(e)},readOnly:this.props.readOnly,maxLength:this.props.maxLength};return n.createElement(a.Block,{style:this.props.containerStyle},this.props.text?null:n.createElement("img",{src:this.getIcon(),style:C.icon,"data-tb-test-id":this.props.testId+"-SearchIcon"}),e?n.createElement("label",{style:c.TextOutlineStyles.placeholder,"data-tb-test-id":this.props.testId+"-Placeholder"},this.props.placeholder):null,n.createElement(p.TextFieldInputWidget,i),this.props.text?n.createElement(u.InteractiveDomWrapper,{pointerClick:function(e){return t.handleCancelSearchWrapper(e)},handleHover:function(e){return t.handleCancelHover(e)}},n.createElement("img",{style:C.icon,src:this.getIcon(),"data-tb-test-id":this.props.testId+"-CancelIcon"})):null)},e}(d.TextFieldBase);e.TextFieldSearchWidget=y}]);;var Commenting=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="/dist/",t(0)}([function(e,t,n){"use strict";var r=n(1);t.CommentingPane=r.CommentingPane},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(2),i=n(3),a=n(7),s=n(25),c=n(29),u=n(32),l=function(e){function t(t){var n=this;e.call(this,t),this.boundStoreChanged=this.onStoreChanged.bind(this),this.createComment=function(e){n.commentingService.createComment(e).then(function(e){n.setState({comments:n.state.comments.concat(e)})},n.handlePromiseExceptions)},this.state={comments:[]}}return r(t,e),t.prototype.componentDidMount=function(){var e=this;this.commentingService=new c.CommentingService(this.props.server,this.props.commentSessionInfo),this.commentingService.getComments().then(function(t){e.setState({comments:t.comments})},this.handlePromiseExceptions),this.unsubscribe=a.commentingStore.subscribe(this.boundStoreChanged)},t.prototype.handlePromiseExceptions=function(e){},t.prototype.componentWillUnmount=function(){this.unsubscribe()},t.prototype.onStoreChanged=function(){this.setState(a.commentingStore.getState().commentingPane)},t.prototype.render=function(){return o.createElement("div",{className:"tab-commenting-pane",style:i.commentingPaneStyle},o.createElement(s.CommentList,{comments:this.state.comments}),o.createElement(u.CreateComment,{onCreateComment:this.createComment}))},t}(o.Component);t.CommentingPane=l},function(e,t){e.exports=React},function(e,t,n){"use strict";var r=n(4),o=r.SharedStyles.Colors,i=r.SharedStyles.Typography,a={width:"435px",height:"100%",position:"fixed",right:"0",borderStyle:"solid",borderWidth:"1px",borderColor:o.L6,backgroundColor:o.L2,fontFamily:i.FontFamily,fontSize:i.Sizing.Default};t.commentingPaneStyle=a},function(e,t,n){"use strict";var r=n(5);t.SharedStyles=r.TabStyles},function(e,t,n){"use strict";var r=n(6),o=6,i=o,a="Benton Sans, Arial, Helvetica, sans-serif",s={XXLarge:24,XLarge:18,Large:13,Default:12,Small:11,Tiny:10},c={Primary:"rgba(0, 0, 0, 0.80)",PrimaryMedium:"rgba(0, 0, 0, 0.70)",PrimaryLight:"rgba(0, 0, 0, 0.60)",Secondary:"rgba(0, 0, 0, 0.52)",SubHead:"rgba(0, 0, 0, 0.40)",Disabled:"rgba(0, 0, 0, 0.35)",InvertedPrimary:"rgba(255, 255, 255, 0.80)"},u={Grey250:"rgb(250, 250, 250)",Grey245:"rgb(245, 245, 245)",Grey235:"rgb(235, 235, 235)",Grey230:"rgb(230, 230, 230)",Grey225:"rgb(225, 225, 225)",Grey212:"rgb(212, 212, 212)",Grey203:"rgb(203, 203, 203)",Grey180:"rgb(180, 180, 180)",Grey180Disabled:"rgba(180, 180, 180, 0.25)",Grey102:"rgb(102, 102, 102)",Grey51:"rgb(51, 51, 51)",Grey51Disabled:"rgba(51, 51, 51, 0.25)"},l={White:"rgb(255, 255, 255)",WhiteTransparent:"rgba(255, 255, 255, 0.25)",WhiteDisabled:"rgba(255, 255, 255, 0.35)",Black:"rgb(0, 0, 0)",Transparent:"rgba(0, 0, 0, 0)",ActionLight:"rgb(235, 143, 80)",ActionDark:"rgb(209, 107, 54)",AttentionLight:"rgb(235, 68, 84)",AttentionDark:"rgb(201, 58, 71)",Continuous:"rgb(0, 177, 128)",ContinuousDark:"rgb(0, 151, 104)",Discrete:"rgb(73, 150, 178)",DiscreteDark:"rgb(54, 126,156)",GoLight:"rgb(45, 204, 151)",GoDark:"rgb(47, 163, 125)",GoDarkDisabled:"rgba(47, 163, 125, 0.25)",Shaded:"rgba(0, 0, 0, 0.07)",DesktopBlue:"rgb(53, 92, 128)",ServerBlue:"rgb(42, 87, 117)",OnlineBlue:"rgb(40, 94, 127)",L1:u.Grey250,L2:u.Grey245,L2_5:u.Grey235,L3:u.Grey230,L4:u.Grey225,L5:u.Grey212,L6:u.Grey203,L7:u.Grey180,L8:u.Grey102,L9:u.Grey51,L9Disabled:u.Grey51Disabled,F1:u.Grey250,F2:u.Grey245,F2_5:u.Grey235,F3:u.Grey230,F4:u.Grey225,F5:u.Grey212,F6:u.Grey203,F7:u.Grey180,F7Disabled:u.Grey180Disabled,F8:u.Grey102,F9:u.Grey51},p={Colors:l,Shadow:{High:"0px 4px 10px 0 rgba(0,0,0,0.1),0px 2px 10px 0px rgba(0,0,0,0.1)",Medium:"2px 2px 10px -2px rgba(0,0,0,.22)",Low:"rgba(51, 51, 51, 0.1) 1px 2px 1px 0"},Spacing:{SmallSpace:o/2,DefaultSpace:o,MediumSpace:2*o,LargeSpace:3*o},Sizing:{BaseUnit:i,RowHeight:23,ButtonMinWidth:15*i,BorderWidth:1,BorderRadius:1,SelectionBorderWidth:i/2,ListRowHeight:20},Typography:{FontFamily:a,Sizing:s,Color:c},Opacity:{OpaqueGlass:.33,ClearGlass:.01}};t.TabStyles=p;var d=function(e){p.Colors=r.assign({},p.Colors,e.Colors),p.Opacity=r.assign({},p.Opacity,e.Opacity),p.Shadow=r.assign({},p.Shadow,e.Shadow),p.Sizing=r.assign({},p.Sizing,e.Sizing),p.Spacing=r.assign({},p.Spacing,e.Spacing),p.Typography.FontFamily=e.Typography.FontFamily?e.Typography.FontFamily:p.Typography.FontFamily,p.Typography.Color=r.assign({},p.Typography.Color,e.Typography.Color),p.Typography.Sizing=r.assign({},p.Typography.Sizing,e.Typography.Sizing)};t.overrideTabStyles=d},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("assign cannot be called with null or undefined");return Object(e)}var r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,i=Object.assign||function(e,t){for(var i,a,s=n(e),c=1;c<arguments.length;c++){i=Object(arguments[c]);for(var u in i)r.call(i,u)&&(s[u]=i[u]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(i);for(var l=0;l<a.length;l++)o.call(i,a[l])&&(s[a[l]]=i[a[l]])}}return s};t.assign=i},function(e,t,n){"use strict";var r=n(8),o=n(11),i=o.createStore(r.commentingReducer);t.commentingStore=i},function(e,t,n){"use strict";function r(e,t){void 0===e&&(e=a),void 0===t&&(t=null);var n={commentingPane:o.commentingPaneReducer(e.commentingPane,t)};return i(e,n)?e:n}var o=n(9),i=n(10),a={commentingPane:o.commentingPaneReducer()};t.commentingReducer=r},function(e,t){"use strict";function n(e,t){return void 0===e&&(e=r),void 0===t&&(t=null),e}var r={comments:[]};t.commentingPaneReducer=n},function(e,t){"use strict";function n(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function r(e,t){if(n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var a=0;a<r.length;a++)if(!o.call(t,r[a])||!n(e[r[a]],t[r[a]]))return!1;return!0}var o=Object.prototype.hasOwnProperty;e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var o=n(12),i=r(o),a=n(20),s=r(a),c=n(22),u=r(c),l=n(23),p=r(l),d=n(24),h=r(d),f=n(21);r(f);t.createStore=i["default"],t.combineReducers=s["default"],t.bindActionCreators=u["default"],t.applyMiddleware=p["default"],t.compose=h["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){function r(){g===y&&(g=y.slice())}function i(){return m}function s(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return r(),g.push(e),function(){if(t){t=!1,r();var n=g.indexOf(e);g.splice(n,1)}}}function l(e){if(!(0,a["default"])(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(b)throw new Error("Reducers may not dispatch actions.");try{b=!0,m=f(m,e)}finally{b=!1}for(var t=y=g,n=0;n<t.length;n++)t[n]();return e}function p(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");f=e,l({type:u.INIT})}function d(){var e,t=s;return e={subscribe:function(e){function n(){e.next&&e.next(i())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");n();var r=t(n);return{unsubscribe:r}}},e[c["default"]]=function(){return this},e}var h;if("function"==typeof t&&"undefined"==typeof n&&(n=t,t=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(o)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var f=e,m=t,y=[],g=y,b=!1;return l({type:u.INIT}),h={dispatch:l,subscribe:s,getState:i,replaceReducer:p},h[c["default"]]=d,h}t.__esModule=!0,t.ActionTypes=void 0,t["default"]=o;var i=n(13),a=r(i),s=n(18),c=r(s),u=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t,n){function r(e){if(!a(e)||d.call(e)!=s||i(e))return!1;var t=o(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==p}var o=n(14),i=n(16),a=n(17),s="[object Object]",c=Object.prototype,u=Function.prototype.toString,l=c.hasOwnProperty,p=u.call(Object),d=c.toString;e.exports=r},function(e,t,n){var r=n(15),o=Object.getPrototypeOf,i=r(o,Object);e.exports=i},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t){function n(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}e.exports=n},function(e,t){function n(e){return!!e&&"object"==typeof e}e.exports=n},function(e,t,n){(function(t){"use strict";e.exports=n(19)(t||window||this)}).call(t,function(){return this}())},function(e,t){"use strict";e.exports=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n=t&&t.type,r=n&&'"'+n.toString()+'"'||"an action";return"Given action "+r+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function i(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:s.ActionTypes.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var o="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:o}))throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+s.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function a(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r];"function"==typeof e[a]&&(n[a]=e[a])}var s,c=Object.keys(n);try{i(n)}catch(u){s=u}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(s)throw s;for(var r=!1,i={},a=0;a<c.length;a++){var u=c[a],l=n[u],p=e[u],d=l(p,t);if("undefined"==typeof d){var h=o(u,t);throw new Error(h)}i[u]=d,r=r||d!==p}return r?i:e}}t.__esModule=!0,t["default"]=a;var s=n(12),c=n(13),u=(r(c),n(21));r(u)},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}t.__esModule=!0,t["default"]=n},function(e,t){"use strict";function n(e,t){return function(){return t(e.apply(void 0,arguments))}}function r(e,t){if("function"==typeof e)return n(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),o={},i=0;i<r.length;i++){var a=r[i],s=e[a];"function"==typeof s&&(o[a]=n(s,t))}return o}t.__esModule=!0,t["default"]=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,o){var a=e(n,r,o),c=a.dispatch,u=[],l={getState:a.getState,dispatch:function(e){return c(e)}};return u=t.map(function(e){return e(l)}),c=s["default"].apply(void 0,u)(a.dispatch),i({},a,{dispatch:c})}}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=o;var a=n(24),s=r(a)},function(e,t){"use strict";function n(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};var r=function(){var e=t[t.length-1],n=t.slice(0,-1);return{v:function(){return n.reduceRight(function(e,t){return t(e)},e.apply(void 0,arguments))}}}();return"object"==typeof r?r.v:void 0}t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},i=n(2),a=n(26),s=n(27),c=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){return i.createElement("div",{style:a.commentList},this.renderComments())},t.prototype.renderComments=function(){var e,t=this.props.comments;return t&&(e=t.map(function(e){var t={authorName:e.author.displayName,authorProfileImage:e.author.userImageUrl,createdAt:e.createdAt.toDateString(),text:e.text,key:e.id};return i.createElement(s.Comment,o({},t))})),e},t}(i.Component);t.CommentList=c},function(e,t,n){"use strict";var r=n(4),o=r.SharedStyles.Spacing,i={marginLeft:o.DefaultSpace,marginRight:o.DefaultSpace};t.commentList=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(2),i=n(28),a=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){return o.createElement("div",{className:"commenting-comment",style:i.comment},o.createElement("div",{className:"commenting-metadata",style:i.metadata},o.createElement("div",{className:"commenting-user-profile-image",style:i.userProfileImage(this.props.authorProfileImage)}),o.createElement("div",null,o.createElement("span",{className:"commenting-user-name",style:i.authorName},this.props.authorName),o.createElement("span",{className:"commenting-created-at"},this.props.createdAt))),o.createElement("div",{className:"commenting-comment-content",style:i.commentContent},this.props.text))},t}(o.Component);t.Comment=a},function(e,t,n){"use strict";function r(e){var t={width:d,height:d,borderRadius:d/2,marginRight:s.MediumSpace,backgroundSize:"cover",backgroundClip:"content-box",backgroundPosition:"center center",backgroundRepeat:"no-repeat",borderWidth:a.BorderWidth,borderColor:i.Transparent,borderStyle:"solid",backgroundImage:"url("+e+")"};return t}var o=n(4),i=o.SharedStyles.Colors,a=o.SharedStyles.Sizing,s=o.SharedStyles.Spacing,c={marginTop:s.MediumSpace,padding:s.MediumSpace+"px "+s.LargeSpace+"px"};t.comment=c;var u={display:"flex"};t.metadata=u;var l={marginRight:s.DefaultSpace,display:"block"};t.authorName=l;var p={marginTop:s.MediumSpace};t.commentContent=p;var d=40;t.userProfileImage=r},function(e,t,n){"use strict";var r=n(30),o=n(31),i=n(31),a=function(){function e(t,n,r){this.server=t,this.sessionInfo=n,this.maxItems=r?r:e.DEFAULT_MAX_ITEMS}return e.prototype.getComments=function(e){var t={commentableId:this.sessionInfo.commentableId,commentableType:this.sessionInfo.commentableType,page:o.createPage(this.maxItems,e)},n=this.server.sendRequest(r.createGetCommentsRequest(t));return n.then(function(e){return o.parseCommentPage(e)})},e.prototype.createComment=function(e){var t={commentableId:this.sessionInfo.commentableId,commentableType:this.sessionInfo.commentableType,text:e},n={id:this.sessionInfo.userSessionInfo.id,displayName:this.sessionInfo.userSessionInfo.displayName,userImageUrl:this.sessionInfo.userSessionInfo.userImageUrl},o=this.server.sendRequest(r.createCreateCommentRequest(t));return o.then(function(e){return i.parseCommentModel(e,n)})},e.DEFAULT_MAX_ITEMS=10,e}();t.CommentingService=a},function(e,t){"use strict";function n(e){return{method:"newCreateComment",params:e}}function r(e){return{method:"newGetComments",params:e}}t.createCreateCommentRequest=n,t.createGetCommentsRequest=r},function(e,t){"use strict";function n(e){var t=e.users.map(function(e){return a(e)}),n={totalCount:e.totalCount,moreItems:e.moreItems,comments:e.comments.map(function(e){return r(e,t)})};return n}function r(e,t){var n=t.find(function(t){return t.id===e.authorId});return o(e,n)}function o(e,t){var n={id:e.id,text:e.text,createdAt:new Date(e.createdAt),author:t};return e.userMentions&&(n.userMentions=i(e.userMentions)),n}function i(e){return e.map(function(e){var t={id:e.id,indices:e.indices};return t})}function a(e){var t={id:e.id,displayName:e.displayName,userImageUrl:e.userImageUrl};return t}function s(e,t){var n=t?t*e:0;return{startIndex:n,maxItems:e}}t.parseCommentPage=n,t.parseCommentModel=o,t.parseUserModel=a,t.createPage=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},i=n(2),a=n(33),s=n(34),c=n(40),u=n(41),l=function(e){function t(){var t=this;e.apply(this,arguments),this.state={comment:""},this.handleCreateCommentButtonPressed=function(){t.props.onCreateComment(t.state.comment)}}return r(t,e),t.prototype.handleCommentInputChange=function(e){this.setState({comment:e})},t.prototype.isInputBlank=function(){return 0===this.state.comment.trim().length},t.prototype.render=function(){var e=this,t={handleChange:function(t){return e.handleCommentInputChange(t)},testId:"commenting-create-comment-text-input",text:this.state.comment},n={buttonType:s.ButtonType.Go,disabled:this.isInputBlank(),handleClick:this.handleCreateCommentButtonPressed,label:c.getLocalizedString("createComment"),testId:"commenting-create-comment-button",style:{marginTop:"5px"}};return i.createElement("div",{className:"commenting-create-comment",style:a.createComment},i.createElement(u.TextFieldOutlineWidget,o({},t)),i.createElement(s.ButtonWidget,o({},n)))},t}(i.Component);t.CreateComment=l},function(e,t){"use strict";var n={margin:"0 15px"};t.createComment=n},function(e,t,n){"use strict";var r,o=n(2),i=n(6),a=n(5),s=n(35);!function(e){e[e.Attention=0]="Attention",e[e.Grey=1]="Grey",e[e.Go=2]="Go",e[e.Outline=3]="Outline",e[e.LightOutline=4]="LightOutline",e[e.Text=5]="Text"}(r||(r={})),t.ButtonType=r;var c=a.TabStyles.Colors,u=a.TabStyles.Sizing,l=a.TabStyles.Typography,p=u.RowHeight,d={cursor:"not-allowed",backgroundColor:c.F7Disabled,borderColor:c.F7Disabled,color:l.Color.Disabled},h={fontSize:l.Sizing.Default,fontFamily:l.FontFamily,fontWeight:"normal",color:l.Color.Primary,cursor:"default",display:"inline-block",paddingLeft:p,paddingRight:p,paddingTop:0,paddingBottom:0,position:"relative",textAlign:"center",borderStyle:"solid",borderWidth:u.BorderWidth,borderRadius:u.BorderRadius,lineHeight:u.RowHeight-2*u.BorderWidth+"px",minWidth:u.ButtonMinWidth,userSelect:"none",backgroundClip:"padding-box",boxSizing:"border-box",outline:"none"},f={base:i.assign({},h,{backgroundColor:c.AttentionLight,borderColor:c.AttentionLight,color:c.White}),interactive:{hover:{backgroundColor:c.AttentionLight,borderColor:c.AttentionDark,color:c.White},focus:{backgroundColor:c.AttentionLight,borderColor:c.AttentionDark,color:c.White},active:{backgroundColor:c.AttentionDark,borderColor:c.AttentionDark,color:c.White},disabled:d}},m={base:i.assign({},h,{backgroundColor:c.GoLight,borderColor:c.GoLight,color:c.White}),interactive:{hover:{backgroundColor:c.GoLight,borderColor:c.GoDark,color:c.White},focus:{backgroundColor:c.GoLight,borderColor:c.GoDark,color:c.White},active:{backgroundColor:c.GoDark,borderColor:c.GoDark,color:c.White},disabled:d}},y={base:i.assign({},h,{backgroundColor:c.F5,borderColor:c.L5,color:l.Color.Primary}),interactive:{hover:{backgroundColor:c.F5,borderColor:c.L8,color:l.Color.Primary},focus:{backgroundColor:c.F5,borderColor:c.L8,color:l.Color.Primary},active:{backgroundColor:c.F8,borderColor:c.L8,color:c.White},disabled:d}},g={base:i.assign({},h,{backgroundColor:c.Transparent,borderColor:c.L6,color:l.Color.Primary}),interactive:{hover:{backgroundColor:c.Transparent,borderColor:c.L8,color:l.Color.Primary},focus:{backgroundColor:c.Transparent,borderColor:c.L8,color:l.Color.Primary},active:{backgroundColor:c.F2,borderColor:c.L9,color:l.Color.Primary},disabled:i.assign({},d,{borderColor:c.L9Disabled,backgroundColor:c.Transparent,color:l.Color.Disabled})}},b={base:i.assign({},h,{backgroundColor:c.Transparent,borderColor:c.L6,color:l.Color.InvertedPrimary}),interactive:{hover:{backgroundColor:c.Transparent,borderColor:c.White,color:l.Color.InvertedPrimary},focus:{backgroundColor:c.Transparent,borderColor:c.White,color:l.Color.InvertedPrimary},active:{backgroundColor:c.WhiteTransparent,borderColor:c.White,color:l.Color.InvertedPrimary},disabled:i.assign({},d,{borderColor:c.WhiteDisabled,backgroundColor:c.Transparent,color:c.WhiteDisabled})}},v={base:i.assign({},h,{backgroundColor:c.Transparent,borderColor:c.Transparent,color:c.GoLight}),interactive:{hover:{backgroundColor:c.F2,borderColor:c.Transparent,color:c.GoLight},focus:{backgroundColor:c.F2,borderColor:c.Transparent,color:c.GoLight},active:{backgroundColor:c.F2,borderColor:c.Transparent,color:c.GoDark},disabled:i.assign({},d,{backgroundColor:c.Transparent,borderColor:c.Transparent,color:c.GoDarkDisabled})}},C=function(e){var t;switch(e.buttonType){case r.Attention:t=f;break;case r.Grey:t=y;break;case r.Go:t=m;break;case r.Outline:t=g;break;case r.LightOutline:t=b;break;case r.Text:t=v;break;default:throw new Error("ButtonWidget attempted to render invalid ButtonType: "+e.buttonType)}return o.createElement(s.InteractiveDomWrapper,{interactiveStyles:t.interactive,disabled:e.disabled,pointerClick:e.handleClick},o.createElement("button",{style:i.assign({},t.base,e.style),"data-tb-test-id":e.testId+"-Button"},e.label,e.children))};t.ButtonWidget=C},function(e,t,n){"use strict";function r(e,t){var n=t.props,r=n.disabled,o=n.interactiveStyles;return o?s.assign({},e,t.state.hover&&!r&&o.hover,t.state.focus&&!r&&o.focus,t.state.active&&!r&&o.active,r&&o.disabled):e}function o(e,t){var n=r(t.props.style,e),o=e.props,i=o.pointerUp,l=o.pointerDown,p={pointerDown:u.mergeEventHandlers(l,function(){e.setState({active:!0}),e.props.handleActive&&e.props.handleActive(!0)}),pointerUp:u.mergeEventHandlers(i,function(){e.setState({active:!1}),e.props.handleActive&&e.props.handleActive(!1)})},d=t.props,h=d.onMouseOver,f=d.onMouseOut,m=d.onKeyDown,y=d.onKeyUp,g=d.onFocus,b=d.onBlur,v={onMouseOver:u.mergeEventHandlers(h,function(){e.setState({hover:!0}),e.props.handleHover&&e.props.handleHover(!0)}),onMouseOut:u.mergeEventHandlers(f,function(){e.setState({hover:!1}),e.props.handleHover&&e.props.handleHover(!1)}),onKeyDown:u.mergeEventHandlers(m,function(t){" "!==t.key&&"Enter"!==t.key||(e.setState({active:!0}),e.props.handleActive&&e.props.handleActive(!0))}),onKeyUp:u.mergeEventHandlers(y,function(t){" "!==t.key&&"Enter"!==t.key||(e.setState({active:!1}),e.props.handleActive&&e.props.handleActive(!1))}),onFocus:u.mergeEventHandlers(g,function(){e.setState({focus:!0}),e.props.handleFocus&&e.props.handleFocus(!0)}),onBlur:u.mergeEventHandlers(b,function(){e.setState({focus:!1}),e.props.handleFocus&&e.props.handleFocus(!1)})},C=s.assign({style:n,disabled:e.props.disabled},v),S=s.assign({},e.props,p),w=a.createElement(c.PointerEventWrapper,S,a.cloneElement(t,C));return w}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=n(2),s=n(6),c=n(36),u=n(39),l=function(e){function t(t){e.call(this,t),this.state=s.assign({},this.state,{hover:!1,active:!1,focus:!1})}return i(t,e),t.prototype.render=function(){var e=a.Children.only(this.props.children);return o(this,e)},t}(a.Component);t.InteractiveDomWrapper=l;var p=function(e){var t=u.convertToStatefulComponentClass(e),n=function(t){function n(e){t.call(this,e),this.state=s.assign({},this.state,{hover:!1,active:!1,focus:!1})}return i(n,t),n.prototype.render=function(){return o(this,t.prototype.render.call(this))},n.displayName="InteractiveDom("+u.getComponentName(e)+")",n}(t);return n};t.InteractiveDomHoC=p;var d=p;t.InteractiveDomHoCDecorator=d},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(2),i=n(37),a=n(38),s=n(39),c=function(e){function t(t){e.call(this,t),this.pointerEventAdapter=a.PointerEventAdapterManager.adapterFactory()}return r(t,e),t.prototype.componentDidMount=function(){if(this.pointerEventAdapter.didMount){var e=i.findDOMNode(this);this.pointerEventAdapter.didMount(e,this.props)}},t.prototype.componentWillUnmount=function(){this.pointerEventAdapter.willUnmount&&this.pointerEventAdapter.willUnmount()},t.prototype.render=function(){var e=this.pointerEventAdapter.getHtmlAttributes(this.props),t=o.Children.only(this.props.children),n={};Object.keys(e).forEach(function(r){n[r]=s.mergeEventHandlers(e[r],t.props[r])});var r=o.cloneElement(t,n,t.props.children);return r},t}(o.Component);t.PointerEventWrapper=c;var u=function(e){var t=s.convertToStatefulComponentClass(e),n=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){return o.createElement(c,this.props,e.prototype.render.call(this))},t}(t);return n.displayName="PointerEventHoC("+s.getComponentName(e)+")",n};t.PointerEventHoC=u;var l=u;t.PointerEventHoCDecorator=l},function(e,t){e.exports=ReactDOM},function(e,t){"use strict";var n=function(){function e(){}return e.prototype.getHtmlAttributes=function(e){var t={onDoubleClick:e.pointerDoubleClick,onMouseDown:e.pointerDown,onMouseUp:e.pointerUp,onClick:e.pointerClick};return t},e}(),r=function(){function e(){}return e.adapterFactory=function(){return new n},e}();t.PointerEventAdapterManager=r},function(e,t,n){"use strict";function r(e){return!e.prototype.render}function o(e){if(r(e)){var t=e;return function(e){function n(){e.apply(this,arguments)}return s(n,e),n.prototype.render=function(){return t(this.props)},n.displayName=a(t),n}(c.Component)}return e}function i(e,t){return e&&t&&function(n){e(n),t(n)}||e||t}function a(e){return e.displayName||e.name||"AnonymousComponent"}var s=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},c=n(2);t.convertToStatefulComponentClass=o,t.mergeEventHandlers=i,t.getComponentName=a},function(e,t){"use strict";function n(e){return r[e]}var r={createComment:"Create Comment"};t.getLocalizedString=n},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(2),i=n(42),a=n(5),s=n(43);t.TextInputType=s.TextInputType;var c=n(45),u=a.TabStyles.Colors,l=a.TabStyles.Sizing,p=a.TabStyles.Spacing,d=a.TabStyles.Typography,h={input:{base:{borderWidth:l.BorderWidth,borderRadius:l.BorderRadius,borderColor:u.L6,borderStyle:"solid",height:l.RowHeight,paddingLeft:p.DefaultSpace,outline:"none",backgroundColor:u.Transparent,fontSize:d.Sizing.Default,fontFamily:d.FontFamily,color:d.Color.Primary,position:"relative",fontWeight:"normal",lineHeight:"normal"},interactive:{hover:{borderColor:u.L8},active:{borderColor:u.L8},focus:{borderColor:u.L8},disabled:{borderColor:u.L9Disabled,color:d.Color.Disabled}}},placeholder:{fontSize:d.Sizing.Default,fontFamily:d.FontFamily,fontWeight:"normal",color:d.Color.Disabled,position:"absolute",left:p.DefaultSpace,textAlign:"start",lineHeight:l.RowHeight+"px"}};t.TextOutlineStyles=h;var f=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this,t=this.isPlaceholderShowing(),n={type:this.props.type,style:h.input.base,interactiveStyles:h.input.interactive,text:this.props.text,testId:this.props.testId,handleChange:this.props.handleChange,handleEnter:this.props.handleEnter,disabled:this.props.disabled,handleActive:function(t){return e.handleInputActive(t)},handleFocus:function(t){return e.handleInputFocus(t)},readOnly:this.props.readOnly,maxLength:this.props.maxLength};return o.createElement(i.Block,{style:this.props.containerStyle},t?o.createElement("label",{style:h.placeholder,"data-tb-test-id":this.props.testId+"-Placeholder"},this.props.placeholder):null,o.createElement(s.TextFieldInputWidget,n))},t}(c.TextFieldBase);t.TextFieldOutlineWidget=f},function(e,t,n){"use strict";var r=n(2),o=n(6),i={boxSizing:"border-box",position:"relative",margin:0,padding:0,lineHeight:"normal"},a=o.assign({},i,{display:"inline-block"}),s=function(e,t){var n=e.style?o.assign({},t,e.style):t;return e=o.assign({},e,{style:n}),r.createElement("div",e)},c=function(e){return s(e,i)};t.Block=c;var u=function(e){return s(e,a)};t.InlineBlock=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=n(2),a=n(2),s=n(6),c=n(35),u=n(44),l="shared-widgets-text-input";try{u.SingletonStyleSheet.addRawSelector("."+l+"::-ms-clear",{display:"none"})}catch(p){}var d;!function(e){e[e.Text=0]="Text",e[e.Password=1]="Password"}(d||(d={})),t.TextInputType=d;var h={input:{width:"100%"}},f=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.handleChangeWrapper=function(e){this.props.disabled||this.props.handleChange(e.target.value)},t.prototype.render=function(){var e=this,t=this.props.type===d.Password?"password":"text",n={className:l,type:t,style:s.assign({},h.input,this.props.style),value:this.props.text||"","data-tb-test-id":this.props.testId+"-TextInput",onChange:function(t){return e.handleChangeWrapper(t)},onKeyDown:function(t){!e.props.disabled&&e.props.handleEnter&&"Enter"===t.key&&e.props.handleEnter()},disabled:this.props.disabled,readOnly:this.props.readOnly,maxLength:this.props.maxLength};return a.createElement("input",n)},t=o([c.InteractiveDomHoCDecorator],t)}(i.Component);t.TextFieldInputWidget=f},function(e,t){"use strict";var n="shared-widgets",r=function(){function e(){if(this.idCounter=1,this.classNameLookup={},this.rawSelectorLookup={},"undefined"!=typeof document){var e=document.createElement("style");document.head.appendChild(e);for(var t=0;t<document.styleSheets.length;t++){var n=document.styleSheets[t];n.ownerNode===e&&(this.styleSheet=n)}}}return e.prototype.addRawSelector=function(e,t){var n=this.toRuleBody(t);if(e in this.rawSelectorLookup)throw new Error(e+" has already been defined.");this.rawSelectorLookup[e]=!0,this.addRule(e+" {"+n+"}")},e.prototype.addClass=function(e,t){var r=this.toRuleBody(e),o=this.classNameLookup[r];if(o){if(t&&t!==o)throw new Error("Attempting to define css rule using class name '"+t+"', but a class with the given\n           rule body already exists under class name '"+o+"'. Rule body: "+r+".");return o}return t||(t=n+"_"+this.idCounter++),this.classNameLookup[r]=t,this.addRule("."+t+" {"+r+"}"),t},e.prototype.addAnimation=function(e,t){var n=e.options,r=JSON.stringify(e),o=this.classNameLookup[r];if(o){if(t&&t!==o)throw new Error("Attempting to define css animation using class name '"+t+"', but a css rule with that\n           definition already exists under class name '"+o+"'. Definition: "+e);return o}var i=this.addKeyframes(e.keyframes),a=this.addClass({"animation-duration":n.durationMs/1e3+"s","animation-timing-function":n.timingFunction,"animation-iteration-count":""+(n.count===1/0?"infinite":n.count),"animation-direction":n.direction,"animation-name":i},t);return this.classNameLookup[r]=a,a},e.prototype.dispose=function(){var e=this.styleSheet.ownerNode;e.parentElement.removeChild(e)},e.prototype.addKeyframes=function(e){var t=this,r=e.fromCSSLines,o=e.toCSSLines,i=e.tweenFrames,a=n+"_"+this.idCounter++,s=[{percent:0,cssLines:r},{percent:100,cssLines:o}].concat(i),c=s.map(function(e){return e?e.percent+"% { "+t.toRuleBody(e.cssLines)+" }":""});return this.addRule("@keyframes "+a+" { "+c.join(" ")+"}"),a},e.prototype.toRuleBody=function(e){return Object.keys(e).map(function(t){if(t.toLowerCase()!==t)throw new Error("The CSS prop '"+t+"' should be written kebab-case, not camelCase");return t+": "+e[t]+";"}).join("")},e.prototype.addRule=function(e){this.styleSheet.insertRule(e,this.styleSheet.cssRules.length)},e}();t.StyleSheet=r;var o=new r;t.SingletonStyleSheet=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(2),i=n(6),a=function(e){function t(t){e.call(this,t),this.state=i.assign({},this.state,{inputFocus:!1,inputActive:!1,inputHover:!1})}return r(t,e),t.prototype.handleInputActive=function(e){this.props.disabled||this.setState(i.assign({},this.state,{inputActive:e}))},t.prototype.handleInputFocus=function(e){this.props.disabled||this.setState(i.assign({},this.state,{inputFocus:e}))},t.prototype.handleInputHover=function(e){this.props.disabled||this.setState(i.assign({},this.state,{inputHover:e}))},t.prototype.isPlaceholderShowing=function(){return!this.props.text&&this.props.disabled||!(this.props.text||this.state.inputActive||this.state.inputFocus)},t}(o.Component);t.TextFieldBase=a}]);;(function(){'dont use strict';var a={};global.spiff=global.spiff||{};ss.initAssembly(a,'spiffui');var b=function(ea,eb){dh.call(this,ea,eb)};b.__typeName='spiff.$0';b.$1=function(){var ea=new bY;ea.iScrollOptions={preventDefaultException:ss.mkdict(['tagName',new RegExp('^(INPUT|TEXTAREA|BUTTON|SELECT|A)$')]),disableMouse:true,interactiveScrollbars:true,mouseWheel:true};return ea};b.$0=function(ea){var eb=b.$1();eb.augmentedScrollX=ea.augmentedScrollX;eb.augmentedScrollY=ea.augmentedScrollY;eb.extraCssClass=ea.extraCssClass;eb.iScrollOptions.scrollX=ea.scrollX;eb.iScrollOptions.scrollY=ea.scrollY;eb.scrollStopCallback=ea.onScrollStop;eb.alwaysShowScrollbarsIfScrollable=ea.alwaysShowScrollbarsIfScrollable;eb.startingY=ea.startingY;if(ea.scrollbars){eb.iScrollOptions.scrollbars='custom'}return eb};var c=function(ea,eb){this.$2=null;this.$0=true;this.$1=true;IScroll.call(this,ea,eb.iScrollOptions);this.$2=ea;if(ss.isValue(eb)){this.$0=eb.augmentedScrollX;this.$1=eb.augmentedScrollY}};c.__typeName='spiff.$1';var d=function(){this.$9=null;this.$6=null;this.$4=null;this.$5=null;this.$0=null;this.$8=null;this.$1=false;this.$2=false;this.$3=false;dH.call(this,$("\n<div class='tabMenuItem'>\n  <div class='tabMenuItemNameArea'>\n    <span class='tabMenuItemName'/>\n  </div>\n</div>"))};d.__typeName='spiff.$2';var e=function(ea,eb){this.$6=new d;this.$6.$6=this.$6.getElementBySelector('.tabMenuItemName');this.$6.$6.text(ea);if(!eb){this.$6.domRoot.addClass('tabDisabled')}};e.__typeName='spiff.$3';var f=function(){this.$3=null;this.$2=null;this.$4=null;dH.call(this,$("<div class='tab-editable-text-view'><div><div class='view-mode'><span/></div><input class='edit-mode' type='text'/></div></div>"));this.$3=this.getElementBySelector('.view-mode');this.$2=this.getElementBySelector('.edit-mode');this.$4=this.$3.find('span')};f.__typeName='spiff.$4';var g=function(){this.$0=null;dH.call(this,$("<div class='tabTextInputView'><input class='tabTextInputViewInputElement' type='text'/></div>"));this.$0=this.getElementBySelector('.tabTextInputViewInputElement')};g.__typeName='spiff.$5';var h=function(){this.$1=null;this.$0=null;dH.call(this,$("<div><div class='tabTabLabels'/><div class='tabTabContentArea'/></div>"));this.$1=this.getElementBySelector('.tabTabLabels');this.$0=this.getElementBySelector('.tabTabContentArea')};h.__typeName='spiff.$6';var i=function(){dH.call(this,$("<span class='tabTabLabel' />"))};i.__typeName='spiff.$7';var j=function(ea){this.$0=null;this.$0=ea};j.__typeName='spiff.$8';var k=function(ea){this.$0=null;this.$0=ea};k.__typeName='spiff.$9';var l=function(){};l.__typeName='spiff.AnchorTarget';global.spiff.AnchorTarget=l;var m=function(ea){cY.call(this,ea)};m.__typeName='spiff.ArrowDropdownButtonComponent';global.spiff.ArrowDropdownButtonComponent=m;var n=function(ea){var eb=function(){this.$2$1=null;this.$2$2=ss.getDefaultValue(ea);r.call(this)};ss.registerGenericClassInstance(eb,n,[ea],{add_propsUpdated:function(ec){this.$2$1=ss.delegateCombine(this.$2$1,ec)},remove_propsUpdated:function(ec){this.$2$1=ss.delegateRemove(this.$2$1,ec)},get_props:function(){return this.$2$2},set_props:function(ec){this.$2$2=ec},updateProps$1:function(ec){this.set_props(ec);this.raiseActionEvent(this.$2$1)},updateProps:function(){this.raiseActionEvent(this.$2$1)}},function(){return r},function(){return[ss.IDisposable,cg,ss.makeGenericType(bU,[ea])]});return eb};n.__typeName='spiff.BaseComponentViewModel$1';ss.initGenericClass(n,a,1);global.spiff.BaseComponentViewModel$1=n;var o=function(ea){var eb=function(ec,ed){ss.makeGenericType(q,[ea]).call(this,ec,ed)};ss.registerGenericClassInstance(eb,o,[ea],{positionMenu:function(ec,ed,ee){var ef=$(window).scrollLeft()+6;var eg=ef+$(window).width()-12;var eh=$(window).innerWidth()-12;var ei=ee.domRoot.outerHeight(false);var ej=ee.domRoot.outerWidth(false);var ek=ei-ee.domRoot.height();var el=tab.DomUtil.getPageOffset(ed.relativeDom);var em=ed.relativeDom.outerWidth(false);var en=ed.relativeDom.outerHeight(false);if(ss.isValue(ed.cursorPosition)){el=ed.cursorPosition;em=0;en=0}var eo,ep;var eq=ec.getVisibleRoom(tab.PointUtil.fromPosition(el));var er=null;if(!ed.preferUp&&eq.roomBelow>=ei+en){ep=el.top+en}else if(eq.roomAbove>ei){ep=el.top-ei}else if(eq.roomBelow-en>=eq.roomAbove){ep=el.top+en;er=eq.roomBelow-en-ek-6}else{ep=el.top-eq.roomAbove+6;er=eq.roomAbove-ek-6}if(ed.preferLeft){eo=el.left+em-ej}else{eo=el.left}eo=Math.max(eo,ef);if(eo+ej>eg){eo=eg-ej}eo=Math.max(6,eo);var es={};es['top']=ep+'px';es['left']=eo+'px';es['max-height']=(ss.isValue(er)?(er+'px'):'');es['max-width']=eh+'px';ee.domRoot.css(es)}},function(){return ss.makeGenericType(q,[ea])},function(){return[bH,ss.IDisposable,ss.makeGenericType(cf,[ea])]});eb.$0=6;return eb};o.__typeName='spiff.BaseMenuView$1';ss.initGenericClass(o,a,1);global.spiff.BaseMenuView$1=o;var p=function(ea){var eb=function(){this.$1=null;this.$2$1=null;r.call(this)};ss.registerGenericClassInstance(eb,p,[ea],{add_propsUpdated:function(ec){this.$2$1=ss.delegateCombine(this.$2$1,ec)},remove_propsUpdated:function(ec){this.$2$1=ss.delegateRemove(this.$2$1,ec)},get_props:function(){if(ss.isNullOrUndefined(this.$1)){this.$0()}return this.$1},set_props:function(ec){this.$1=ec},incrementProps:function(){var ec=this.createUpdatedProps();var ed=$.extend(false,ss.createInstance(ea),this.get_props(),ec);this.set_props(ed);if(ss.isNullOrUndefined(ec)){}else{this.raiseActionEvent(this.$2$1)}},addChildViewModel:function(ec){var ed=ss.mkdel(this,this.incrementProps);ec.add_propsUpdated(ed);return new tab.CallOnDispose(function(){ec.remove_propsUpdated(ed)})},$0:function(){this.set_props(this.createInitialProps());this.incrementProps()},createInitialProps:function(){return ss.createInstance(ea)},createUpdatedProps:function(){return null}},function(){return r},function(){return[ss.IDisposable,cg,ss.makeGenericType(bU,[ea])]});return eb};p.__typeName='spiff.BaseReactViewModel$1';ss.initGenericClass(p,a,1);global.spiff.BaseReactViewModel$1=p;var q=function(ea){var eb=function(ec,ed){this.$3=null;this.$4=ss.getDefaultValue(ea);dZ.call(this,ed.domRoot);tab.Param.verifyValue(ec,'viewModel');tab.Param.verifyValue(ed,'t');this.$3=ed;this.$4=ec;this.$4.add_disposed(ss.mkdel(this,this.$2));this.$4.add_propertyChanged(ss.mkdel(this,this.onViewModelPropertyChanged))};ss.registerGenericClassInstance(eb,q,[ea],{get_template:function(){return this.$3},get_rootElement:function(){return this.element},get_viewModel:function(){return this.$4},dispose:function(){this.$4.remove_propertyChanged(ss.mkdel(this,this.onViewModelPropertyChanged));this.$4.remove_disposed(ss.mkdel(this,this.$2));this.$3.dispose();dZ.prototype.dispose.call(this)},onViewModelPropertyChanged:function(ec,ed){},$2:function(ec){this.dispose()}},function(){return dZ},function(){return[bH,ss.IDisposable,ss.makeGenericType(cf,[ea])]});return eb};q.__typeName='spiff.BaseView$1';ss.initGenericClass(q,a,1);global.spiff.BaseView$1=q;var r=function(){this.disposables=new tab.DisposableHolder;this.$1$1=null;this.$1$2=null};r.__typeName='spiff.BaseViewModel';global.spiff.BaseViewModel=r;var s=function(ea){var eb=function(){React.Component.call(this)};ss.registerGenericClassInstance(eb,s,[ea],{componentDidMount:function(){if(ss.staticEquals(this.props.reportWidth,null)){return}var ec=this.$0();this.props.reportWidth(this.props.col.name,ec)},shouldComponentUpdate:function(ec,ed){return!ss.staticEquals(this.props,ec)||!ss.staticEquals(this.state,ed)},render:null,$0:function(){var ec=ReactDOM.findDOMNode(this);var ed=ec.getBoundingClientRect();return Math.ceil(ed.right-ed.left)}},function(){return React.Component},function(){return[]});return eb};s.__typeName='spiff.BodyCell$1';ss.initGenericClass(s,a,1);global.spiff.BodyCell$1=s;var t=function(){React.Component.call(this)};t.__typeName='spiff.BodyRow';t.createBodyRow=function(ea){return React.createElement(t,ea)};global.spiff.BodyRow=t;var u=function(ea){this.$7='hover';this.$6='focus';this.$5='disabled';this.$4=null;this.$8=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;dZ.call(this,ea);this.$2()};u.__typeName='spiff.Button';global.spiff.Button=u;var v=function(ea){var eb=function(ec){React.Component.call(this,ec)};ss.registerGenericClassInstance(eb,v,[ea],{get_className:function(){var ec=['tab-UnifiedButton'];if(ss.isValue(this.props.customClassName)){ec.push(this.props.customClassName)}if(this.props.border){ec.push('bordered')}if(this.props.disabled){ec.push('disabled')}return ec.join(' ')},customContentBefore:function(){return(!ss.staticEquals(this.props.getCustomContentBefore,null)?this.props.getCustomContentBefore():null)},customContentAfter:function(){return(!ss.staticEquals(this.props.getCustomContentAfter,null)?this.props.getCustomContentAfter():null)},render:function(){var ec={className:this.get_className(),style:this.props.buttonStyle,title:this.props.label,onKeyDown:ss.mkdel(this,function(ed){var ee=ed.keyCode;if(ee===32||ee===13){this.$0(new cM(ed,ReactDOM.findDOMNode(this),null));ed.preventDefault();ed.stopPropagation()}})};if(ss.isValue(this.props.tabIndex)){ec.tabIndex=ss.unbox(this.props.tabIndex)}return bn.div({tap:ss.mkdel(this,this.$0)},ec,[this.customContentBefore(),React.DOM.span({className:'tab-Text',style:this.props.labelStyle,key:'textContent'},this.props.label),this.customContentAfter()])},$0:function(ec){if(!this.props.disabled&&!ss.staticEquals(this.props.onTap,null)){this.props.onTap(ec)}}},function(){return React.Component},function(){return[]});return eb};v.__typeName='spiff.ButtonBaseComponent$1';ss.initGenericClass(v,a,1);global.spiff.ButtonBaseComponent$1=v;var w=function(ea){ss.makeGenericType(v,[Object]).call(this,ea)};w.__typeName='spiff.ButtonComponent';w.create=function(ea,eb,ec){return React.createElement(w,{customClassName:'tabStyledTextButton tabMediumStyledTextButton '+ea,label:eb,onTap:ec})};global.spiff.ButtonComponent=w;var x=function(){};x.__typeName='spiff.ButtonSize';global.spiff.ButtonSize=x;var y=function(){};y.__typeName='spiff.CellType';global.spiff.CellType=y;var z=function(){ss.makeGenericType(s,[Object]).call(this)};z.__typeName='spiff.CheckboxCell';z.createCheckboxCell=function(ea){return React.createElement(z,ea)};global.spiff.CheckboxCell=z;var A=function(ea,eb){ss.makeGenericType(dc,[cj,Object,Object]).call(this,cj.newCheckbox(ea.label,ea.isSelected),ea,eb);this.get_widget().set_disabled(ea.disabled)};A.__typeName='spiff.CheckboxComponent';global.spiff.CheckboxComponent=A;var B=function(ea,eb,ec,ed){this.$a=null;this.$b=null;this.$3$1=null;dJ.call(this,ea,eb,ec,null,false);this.$a=ea;this.add_propertyChanged(ss.mkdel(this,this.$9));this.$b=new u(this.$a.get_searchBoxClear());this.$b.onClick(ss.mkdel(this,this.$8));this.$b.set_hoverTooltipText(ed);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_propertyChanged(ss.mkdel(this,this.$9));this.$b.dispose()})));this.$7()};B.__typeName='spiff.ClearableTextInputView';B.newClearableTextInputView=function(ea,eb,ec){var ed=new C;return new B(ed,ea,eb,ec)};global.spiff.ClearableTextInputView=B;var C=function(){this.$0=null;this.$1=null;this.$2=null;dH.call(this,$("<div class='tabTextInputView'><span class='tabClearableTextBoxClearButton'/><div class='tabTextInputViewInputElementContainer'><input class='tabTextInputViewInputElement' type='text'/></div></div>"));this.$0=this.getElementBySelector('.tabTextInputViewInputElement');this.$1=this.getElementBySelector('.tabTextInputViewInputElementContainer');this.$2=this.getElementBySelector('.tabClearableTextBoxClearButton')};C.__typeName='spiff.ClearableTextInputViewTemplate';global.spiff.ClearableTextInputViewTemplate=C;var D=function(){};D.__typeName='spiff.ClickBuster';D.add_clickBustDetected=function(ea){D.$1$1=ss.delegateCombine(D.$1$1,ea)};D.remove_clickBustDetected=function(ea){D.$1$1=ss.delegateRemove(D.$1$1,ea)};D.preventGhostClick=function(ea,eb,ec){if(!tsConfig.is_touch||!tab.BrowserSupport.get_addEventListener()){return}if(ss.isNullOrUndefined(D.$3)){D.$3=[];document.addEventListener('click',D.$0,true)}D.$3.push({item1:ea,item2:eb});window.setTimeout(D.$1,ss.coalesce(ec,600))};D.$1=function(){ss.removeAt(D.$3,0)};D.$0=function(ea){var eb=ea;var ec=$(ea.target).parents('.tabDontBustMyClicks').length>0;if(ec){return}var ed=eb.pageX;var ee=eb.pageY;for(var ef=0;ef<D.$3.length;ef++){var eg=D.$3[ef];if(Math.abs(eg.item1-ed)<25&&Math.abs(eg.item2-ee)<25){ea.stopPropagation();ea.preventDefault();if(ss.isValue(D.$1$1)){D.$1$1(ea)}}}};global.spiff.ClickBuster=D;var E=function(){this.$b=new tab.DisposableHolder;this.$e=0;this.$f=0;this.$g=null;this.$c='clickHandler'+E.$2++;this.$d=null;this.$a=null;this.$1$1=null;this.$1$2=null;this.$1$3=null};E.__typeName='spiff.ClickHandler';E.targetAndClick=function(ea,eb){return(new E).setTarget(ea).onClick(eb)};E.targetAndRightClick=function(ea,eb){return(new E).setTarget(ea).onRightClick(eb)};E.targetAndPress=function(ea,eb){return(new E).setTarget(ea).onPress(eb)};global.spiff.ClickHandler=E;var F=function(){React.Component.call(this);var ea=new M;ea.isSelecting=false;this.state=ea};F.__typeName='spiff.ComboBoxComponent';F.createCustomIconElements=function(ea){if(ss.isNullOrEmptyString(ea)){return null}return[React.DOM.div({className:'tab-Icon '+ea})]};global.spiff.ComboBoxComponent=F;var G=function(ea){cC.call(this);this.itemClass='tabMenuItemComboDropdownTheme tab-ctrl-formatted-text';this.menuClass='tabMenuComboDropdownTheme tab-ctrl-formatted-widget '+ea};G.__typeName='spiff.ComboBoxDropdownMenuTheme';global.spiff.ComboBoxDropdownMenuTheme=G;var H=function(ea,eb,ec,ed){this.$2=null;this.$3=null;this.$0=null;this.$1=null;this.$2=ea;this.$3=eb;this.$0=ec;this.$1=ed};H.__typeName='spiff.ComboBoxItem';global.spiff.ComboBoxItem=H;var I=function(){cC.call(this);this.itemClass='tabMenuItemComboTheme';this.menuClass='tabMenuComboTheme'};I.__typeName='spiff.ComboBoxMenuTheme';global.spiff.ComboBoxMenuTheme=I;var J=function(){};J.__typeName='spiff.ComboBoxMenuThemeChoice';global.spiff.ComboBoxMenuThemeChoice=J;var K=function(){this.styleClass=null;this.selectedText=null;this.selectedIconClass=null;this.enabled=false;Object.call(this)};K.__typeName='spiff.ComboBoxProps';global.spiff.ComboBoxProps=K;var L=function(){};L.__typeName='spiff.ComboBoxSizing';global.spiff.ComboBoxSizing=L;var M=function(){this.isSelecting=false};M.__typeName='spiff.ComboBoxState';global.spiff.ComboBoxState=M;var N=function(){this.icon=null;this.name=null;this.button=null;dH.call(this,$("<span class='tabComboBox tab-ctrl-formatted-widget tab-ctrl-formatted-darker-border-hover'>\n    <span class='tabComboBoxIcon'/>\n    <div class='tabComboBoxNameContainer tab-ctrl-formatted-fixedsize'><span class='tabComboBoxName'/></div>\n    <div class='tabComboBoxButtonHolder'><span class='tabComboBoxButton'/></div>\n</span>"));this.icon=this.getElementBySelector('.tabComboBoxIcon');this.name=this.getElementBySelector('.tabComboBoxName');this.button=this.getElementBySelector('.tabComboBoxButtonHolder')};N.__typeName='spiff.ComboBoxTemplate';global.spiff.ComboBoxTemplate=N;var O=function(){};O.__typeName='spiff.ComboBoxTheme';global.spiff.ComboBoxTheme=O;var P=function(ea,eb){this.clickHandler=null;this.$d=null;this.$c=null;ss.makeGenericType(q,[Q]).call(this,ea,eb);this.$d=ea;this.$c=eb;this.$d.add_selectedItemChanged(ss.mkdel(this,this.$b));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_selectedItemChanged(ss.mkdel(this,this.$b))})));this.$d.add_itemsChanged(ss.mkdel(this,this.$7));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_itemsChanged(ss.mkdel(this,this.$7))})));this.$d.add_enabledChanged(ss.mkdel(this,this.$5));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_enabledChanged(ss.mkdel(this,this.$5))})));this.$d.add_isSelectionInvalidChanged(ss.mkdel(this,this.$6));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_isSelectionInvalidChanged(ss.mkdel(this,this.$6))})));this.clickHandler=dz.targetAndClick(this.$c.domRoot[0],ss.mkdel(this,this.$9));this.clickHandler.set_stopPropagationOnEvent(false);this.disposables.add$1(this.clickHandler);this.$c.domRoot.keydown(ss.mkdel(this,this.$a));this.$c.domRoot.addClass(P.classesForTheme[this.$d.get_theme()]);this.$d.add_menuHidden(ss.mkdel(this,this.$8));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_menuHidden(ss.mkdel(this,this.$8))})));this.$b(this.$d.get_selectedItem());this.$5();this.$6()};P.__typeName='spiff.ComboBoxView';global.spiff.ComboBoxView=P;var Q=function(){this.$h=[];this.$k=null;this.$o=null;this.$d=null;this.$p=0;this.$j=0;this.$n=0;this.$m=true;this.$l=false;this.$e=true;this.$g=false;this.$i='';this.$c=null;this.$f='hasIcons';this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=null;this.$3$5=null;this.menuItems=null;this.selectedMenuItem=null;this.generateProps=false;this.$3$6=false;ss.makeGenericType(n,[K]).call(this);this.generateProps=false};Q.__typeName='spiff.ComboBoxViewModel';Q.newUnificationComboBoxViewModel=function(){var ea=new Q;ea.set_theme(2);ea.set_menuTheme(2);return ea};Q.newLineAndArrowComboBoxViewModel=function(){var ea=new Q;ea.set_theme(3);ea.set_menuTheme(2);return ea};Q.newReactLineAndArrowComboBoxViewModel=function(){var ea=new Q;ea.set_theme(3);ea.set_menuTheme(2);ea.generateProps=true;return ea};global.spiff.ComboBoxViewModel=Q;var R=function(ea){this.compositeSearchWidgetTemplate=null;this.$8=null;this.initialSearchTextInfo=null;this.$7=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;dZ.call(this,ea.get_domRootElement());this.compositeSearchWidgetTemplate=ea;this.compositeSearchWidgetTemplate.get_clearButton().add_click(ss.mkdel(this,this.$2));this.compositeSearchWidgetTemplate.get_searchButton().add_click(ss.mkdel(this,this.$6));this.compositeSearchWidgetTemplate.get_textInputView().add_propertyChanged(ss.mkdel(this,this.$3));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.compositeSearchWidgetTemplate.get_clearButton().remove_click(ss.mkdel(this,this.$2));this.compositeSearchWidgetTemplate.get_searchButton().remove_click(ss.mkdel(this,this.$6));this.compositeSearchWidgetTemplate.get_textInputView().remove_propertyChanged(ss.mkdel(this,this.$3));this.compositeSearchWidgetTemplate.disposeTemplate()})));this.disposables.add$1(bq.bindWithDispose(this.get_textInputView().get_inputElement(),'mousedown',ss.mkdel(this,this.$4)));this.disposables.add$1(bq.bindWithDispose(this.get_textInputView().get_inputElement(),'touchstart',ss.mkdel(this,this.$4)));this.get_textInputView().get_inputElement().attr('autocomplete','off');this.get_textInputView().get_inputElement().attr('autocorrect','off');this.get_textInputView().get_inputElement().attr('autocapitalize','off');this.get_textInputView().get_inputElement().attr('spellcheck','false')};R.__typeName='spiff.CompositeSearchWidget';global.spiff.CompositeSearchWidget=R;var S=function(){this.initialSearchText='';this.initialSearchTextDomClassName=''};S.__typeName='spiff.CompositeSearchWidgetInitialSearchTextInfo';global.spiff.CompositeSearchWidgetInitialSearchTextInfo=S;var T=function(){this.searchTextInputView=null;this.$1=null;this.$0=null;dH.call(this,$("<div class='tabCompositeSearchWidget'><div>"));this.searchTextInputView=dJ.newTextInputView('','',null,false);this.get_textInputView().addToDom(this.domRoot);this.$1=ci.newNativeButton();this.$1.addClass('tabCompositeSearchWidget-SearchButton');this.get_searchButton().addToDom(this.domRoot);this.$0=ci.newNativeButton();this.$0.addClass('tabCompositeSearchWidget-ClearButton');this.get_clearButton().get_labelElement().css('display','none');this.$0.addToDom(this.domRoot)};T.__typeName='spiff.CompositeSearchWidgetTemplate';global.spiff.CompositeSearchWidgetTemplate=T;var U=function(ea,eb,ec,ed,ee){this.$4=null;H.call(this,eb,ec,ed,ee);this.$4=ea};U.__typeName='spiff.CustomComboBoxItem';global.spiff.CustomComboBoxItem=U;var V=function(ea,eb){this.$0=null;if(ss.isValue(ea)){this.$0='url('+tableau.util.assetUrl(ea,true)+'), '+eb}else{this.$0=eb}};V.__typeName='spiff.CustomCursor';global.spiff.CustomCursor=V;var W=function(){this.contentWindow=null;this.verticalScrollbar=null;this.verticalScrollbarIndicator=null;this.horizontalScrollbar=null;this.horizontalScrollbarIndicator=null;bZ.call(this,"<div class='tabCustomScroller'>\n            <div class='tabScrollerContentWindow'><span class='tabScrollerContent'/></div>\n            <div class='tabVerticalScrollbar'><div class='tabScrollbarIndicator'/></div>\n            <div class='tabHorizontalScrollbar'><div class='tabScrollbarIndicator'/></div>\n        </div>");this.content=this.getElementBySelector('.tabScrollerContent');this.scroll=this.domRoot;this.contentWindow=this.getElementBySelector('.tabScrollerContentWindow');this.verticalScrollbar=this.getElementBySelector('.tabVerticalScrollbar');this.verticalScrollbarIndicator=this.getElementBySelector('.tabVerticalScrollbar .tabScrollbarIndicator');this.horizontalScrollbar=this.getElementBySelector('.tabHorizontalScrollbar');this.horizontalScrollbarIndicator=this.getElementBySelector('.tabHorizontalScrollbar .tabScrollbarIndicator')};W.__typeName='spiff.CustomIScrollTemplate';global.spiff.CustomIScrollTemplate=W;var X=function(ea){ca.call(this,ea,new W);this.$9();this.$a();if(ea.get_hasScrollBars()){this.addScroller();this.setUpEvents();this.$b()}};X.__typeName='spiff.CustomIScrollView';X.$0=function(ea,eb,ec){return Math.max(ss.round(ea*eb/Math.max(ec,1)),8)};global.spiff.CustomIScrollView=X;var Y=function(){this.$0=null;cv.call(this)};Y.__typeName='spiff.CustomMenuItem';Y.newCustomMenuItem=function(ea){var eb=new Y;eb.set_domRoot(ea);return eb};global.spiff.CustomMenuItem=Y;var Z=function(){bZ.call(this,"<div class='tabScroller'><span class='tabScrollerContent'/></div>");this.content=this.getElementBySelector('.tabScrollerContent');this.scroll=this.domRoot};Z.__typeName='spiff.DefaultIScrollTemplate';global.spiff.DefaultIScrollTemplate=Z;var ba=function(ea){this.$a=null;this.$9=null;ca.call(this,ea,new Z);this.addScroller();this.setUpEvents()};ba.__typeName='spiff.DefaultIScrollView';global.spiff.DefaultIScrollView=ba;var bb=function(ea,eb){this.$g=null;this.$u=null;this.$p=null;this.$s=null;this.$e=null;this.$f=null;this.$i=false;this.$v=false;this.$r=true;this.$l=null;this.$o=null;this.$j=false;this.$t=false;this.$m=0;this.$n=0;this.$h=false;this.$k=false;this.$q=false;this.$d=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.showTitleTooltip=false;dZ.call(this,$("\n<div class='tab-dialog'>\n  <div class='tab-dialogTitleBar'>\n    <div class='tab-dialogTitle'></div>\n    <div class='tab-dialogCloseButton'></div>\n  </div>\n  <div class='tab-dialogBodyContainer'></div>\n  <div class='tab-dialogResizer tab-icon-resize-se'><div class='tab-dialogResizerHit'/></div>\n  <div class='tab-dialogSpinnerContainer'></div>\n</div>\n"));this.set_titleUnescaped(ea);this.set_body(eb);this.$f=ci.newNativeButton();this.$f.add_click(ss.mkdel(this,this.$7));this.element.find('.tab-dialogCloseButton').append(this.$f.element);this.$f.tabIndex(-2);this.$g=this.element;this.$u=this.element.find('.tab-dialogTitleBar');this.$p=this.element.find('.tab-dialogResizer');this.$s=this.element.find('.tab-dialogSpinnerContainer');this.$s.hide();var ec=$('#loadingSpinner');if(ec.length===1){this.$s.append(ec.html())}this.set_resizeable(false);this.$g.attr('tabIndex','-1');bx.add_firstTouch(ss.mkdel(this,this.$4));bx.add_lastTouch(ss.mkdel(this,this.$5));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){bx.remove_firstTouch(ss.mkdel(this,this.$4))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){bx.remove_lastTouch(ss.mkdel(this,this.$5))})))};bb.__typeName='spiff.Dialog';global.spiff.Dialog=bb;var bc=function(ea){this.$f=null;this.$n=0;this.$o=0;this.$j=false;this.$i=false;this.$h=false;this.$m=0;this.$l=null;this.$g=null;this.$k=null;bu.call(this,ea,'discrete',true)};bc.__typeName='spiff.Discrete';global.spiff.Discrete=bc;var bd=function(){H.call(this,null,null,null,null)};bd.__typeName='spiff.DividerComboBoxItem';global.spiff.DividerComboBoxItem=bd;var be=function(){};be.__typeName='spiff.DocumentBodySizeUsage';global.spiff.DocumentBodySizeUsage=be;var bf=function(ea){this.$6=false;this.$8=null;this.$7=null;this.$5=false;bu.call(this,ea,'drag',true)};bf.__typeName='spiff.Drag';global.spiff.Drag=bf;var bg=function(){};bg.__typeName='spiff.DragDropManager';bg.add_dragStarted=function(ea){bg.$1$1=ss.delegateCombine(bg.$1$1,ea)};bg.remove_dragStarted=function(ea){bg.$1$1=ss.delegateRemove(bg.$1$1,ea)};bg.add_dragMoved=function(ea){bg.$1$2=ss.delegateCombine(bg.$1$2,ea)};bg.remove_dragMoved=function(ea){bg.$1$2=ss.delegateRemove(bg.$1$2,ea)};bg.add_dragEnded=function(ea){bg.$1$3=ss.delegateCombine(bg.$1$3,ea)};bg.remove_dragEnded=function(ea){bg.$1$3=ss.delegateRemove(bg.$1$3,ea)};bg.add_currentTargetChanged=function(ea){bg.$1$4=ss.delegateCombine(bg.$1$4,ea)};bg.remove_currentTargetChanged=function(ea){bg.$1$4=ss.delegateRemove(bg.$1$4,ea)};bg.get_isDragging=function(){return ss.isValue(bg.$l)};bg.$d=function(){return tab.Logger.lazyGetLogger(bg)};bg.get_lastDragEvent=function(){return bg.$v};bg.get_currentTarget=function(){return bg.$m};bg.set_currentTarget=function(ea){var eb=!ss.referenceEquals(bg.$m,ea);bg.$m=ea;if(eb&&!ss.staticEquals(null,bg.$1$4)){bg.$1$4(bg.$m)}};bg.init=function(){bg.$p=new dA.$ctor1(document.body,bg.$s)};bg.$0=function(ea,eb){var ec=ea.get(0);var ed=ec.getAttribute('class');if(ss.isNullOrEmptyString(ed)){ec.setAttribute('class',eb);return}var ee=ed.split(' ');if(ss.indexOf(ee,eb)===-1){ec.setAttribute('class',ee.concat([eb]).join(' '))}};bg.$9=function(ea,eb){var ec=ea.get(0);var ed=ec.getAttribute('class');if(ss.isNullOrEmptyString(ed)){return}var ee=ed.split(' ');var ef=ss.indexOf(ee,eb);if(ef>=0){ee.splice(ef,1);ec.setAttribute('class',ee.join(' '))}};bg.attachDropTarget=function(ea,eb){bg.$0(ea,'tabDropTarget');ea.data('tabDropTarget',eb)};bg.removeDragTarget=function(ea){ea.removeData('tabDropTarget');bg.$9(ea,'tabDropTarget')};bg.isDragTarget=function(ea){return ea.hasClass('tabDropTarget')};bg.attachDragSource=function(ea,eb){bg.$0(ea,'tabDragSource');ea.data('tabDragSource',eb)};bg.removeDragSource=function(ea){ea.removeData('tabDragSource');bg.$9(ea,'tabDragSource')};bg.isDragSource=function(ea){return ea.hasClass('tabDragSource')};bg.$1=function(){bg.$q=new bi;bg.$q.show();bg.$r=new dA.$ctor1(bg.$q.element.get(0),bg.$s);bg.$o=new tab.DisposableHolder;bg.$o.add$1(bg.$q);bg.$o.add$1(bg.$r);bg.$o.add$1(bq.bindWithDispose($(document.body),'keydown',bg.$7));bg.$o.add$1(bq.bindWithDispose($(document.body),'keyup',bg.$8))};bg.$2=function(){bg.$o=tab.MiscUtil.dispose$1(bg.$o)};bg.startDrag=function(ea,eb){if(ss.isNullOrUndefined(ea)||ss.isNullOrUndefined(eb)||!ea.get_hasPayload()){return}bg.$v=eb;bg.cancelDrag(null);bg.$l=ea;bg.$a(bg.$l.get_dragAvatar());bg.$c();bg.$k=tab.WindowHelper.requestAnimationFrame(bg.$c);bg.$1();bg.$b(eb);if(ss.isValue(bg.$1$1)){bg.$1$1(bg.$l)}};bg.cancelDrag=function(ea){if(!ss.isValue(bg.$l)){return}if(ss.isNullOrUndefined(ea)||ss.referenceEquals(ea,bg.$l)){bg.$5(null,true,false,function(){return $.Deferred().resolve(false).promise()})}};bg.drop=function(ea,eb,ec){bg.$l.isCopyDrag=ss.isValue(eb)&&eb;bg.$l.set_isShiftDrag(ss.isValue(ec)&&ec);bg.$5(ea,false,bg.$l.isCopyDrag,function(){if(ss.isValue(ea)){return ea.acceptDrop(bg.$l).always(function(ed){})}else{bg.$l.dropToNowhereAction();return $.Deferred().resolve(true).promise()}})};bg.firstTouch=function(ea){var eb=$(ea.target).closest('.tabDragSource');if(ss.isNullOrUndefined(eb)||eb.length===0){bg.$t=null;return}bg.$t=eb.data('tabDragSource')};bg.dragEnd=function(ea){if(ss.isNullOrUndefined(bg.$l)){return}switch(bg.$l.get_dragType()){case'dragdrop':{bg.drop(bg.get_currentTarget(),ea.get_isCtrlKey(),ea.shiftKey);break}case'dragmove':{bg.$5(null,false,false,function(){bg.$l.endDragAt(ea);return $.Deferred().resolve(true).promise()});break}}};bg.dragMove=function(ea){if(ss.isNullOrUndefined(bg.$l)){return}bq.stopEvent(ea);bg.$v=ea;bg.$l.isCopyDrag=ea.get_isCtrlKey();bg.$l.set_isShiftDrag(ea.shiftKey);tab.WindowHelper.clearSelection();var eb=tab.DateUtil.get_nowAsTime();if(eb-bg.$u>75){if(ss.isValue(bg.$k)){tab.WindowHelper.cancelAnimationFrame(ss.unbox(bg.$k))}bg.$c()}bg.$b(ea);if(ss.isValue(bg.$1$2)){bg.$1$2(bg.$l)}};bg.$7=function(ea){if(ss.isNullOrUndefined(bg.$l)){return}bq.stopEvent(ea);switch(ea.which){case 16:{bg.get_lastDragEvent().shiftKey=true;bg.dragMove(bg.get_lastDragEvent());break}}};bg.$8=function(ea){if(ss.isNullOrUndefined(bg.$l)){return}bq.stopEvent(ea);switch(ea.which){case 16:{bg.get_lastDragEvent().shiftKey=false;bg.dragMove(bg.get_lastDragEvent());break}}};bg.$b=function(ea){switch(bg.$l.get_dragType()){case'dragdrop':{var eb=bg.findDropTarget(ea);if(ss.isValue(bg.get_currentTarget())){if(!ss.referenceEquals(bg.get_currentTarget(),eb)){bg.get_currentTarget().dragExit(bg.$l)}else if(bg.get_currentTarget().get_feedbackType()==='dropfeedbackuponentry'){return}}if(ss.isValue(eb)){var ec=eb.dragOver(bg.$l);while(ss.isValue(ec)&&!ss.referenceEquals(ec,eb)){eb=ec;ec=eb.dragOver(bg.$l)}eb=ec}if(ss.isValue(eb)){bg.setDragCursor(eb.getDropCursor(bg.$l))}else{bg.setDragCursor(bg.$l.get_defaultDropCursor())}bg.set_currentTarget(eb);break}case'dragmove':{bg.$l.moveTo(ea);break}default:{break}}};bg.setDragCursor=function(ea){ea.setCursor(bg.$q.element)};bg.dragStart=function(ea){if(bg.get_isDragging()){return}var eb=bg.$t;if(ss.isNullOrUndefined(eb)){var ec=$(ea.target).closest('.tabDragSource');eb=ec.data('tabDragSource')}if(ss.isNullOrUndefined(eb)){return}var ed=eb.startDrag(ea);if(ss.isNullOrUndefined(ed)){return}bg.startDrag(ed,ea)};bg.$5=function(ea,eb,ec,ed){bg.$a(null);bg.$2();if(ss.isValue(bg.$k)){tab.WindowHelper.cancelAnimationFrame(ss.unbox(bg.$k));bg.$k=null}ed().always(function(ee){if(ss.isValue(bg.$1$3)){bg.$1$3({drag:bg.$l,target:ea,dropAccepted:ee,canceled:eb,isCopyDrop:ec})}bg.$l=null;bg.set_currentTarget(null)})};bg.$a=function(ea){if(ss.isValue(bg.$n)){bg.$n.get_rootElement().detach();var eb=bg.$n;eb.dispose();bg.$n=null}bg.$n=ea;if(ss.isValue(bg.$n)){bg.$n.get_rootElement().addClass('dragAvatar').css('position','absolute').css('pointer-events','none').appendTo($('body'))}};bg.$c=function(){if(ss.isNullOrUndefined(bg.$n)){return}var ea=function(ec,ed,ee){if(ed<ss.Int32.div(ee,2)){return 0}else if(ed>ec-ss.Int32.div(ee,2)){return ec-ee}else{return ed-ss.Int32.div(ee,2)}};var eb=tab.DomUtil.get_documentBody();tab.DomUtil.setElementPosition(bg.$n.get_rootElement(),ea(eb.scrollWidth,bg.$v.pageX,tab.DoubleUtil.roundToInt(bg.$n.get_rootElement().outerWidth())),ea(eb.scrollHeight,bg.$v.pageY,tab.DoubleUtil.roundToInt(bg.$n.get_rootElement().outerHeight())));bg.$u=tab.DateUtil.get_nowAsTime();bg.$k=tab.WindowHelper.requestAnimationFrame(bg.$c)};bg.$6=function(ea){bg.$3();var eb=ea.clientX;var ec=ea.clientY;if(tab.BrowserSupport.get_useAlternateHitStrategy()){if(ss.isValue(ea.touches)&&ea.touches.length>0&&ss.isValue(ea.touches[0].screenX)){eb=ea.touches[0].screenX;ec=ea.touches[0].screenY}else{eb=ea.originalEvent['screenX'];ec=ea.originalEvent['screenY']}}var ed=$(document.elementFromPoint(eb,ec));bg.$4();return ed};bg.$3=function(){for(var ea=0;ea<bg.$w.length;ea++){var eb=bg.$w[ea];eb.disableHitTests()}};bg.$4=function(){for(var ea=0;ea<bg.$w.length;ea++){var eb=bg.$w[ea];eb.enableHitTests()}};bg.findDropTarget=function(ea){var eb=bg.$6(ea);var ec=eb.closest('.tabDropTarget').data('tabDropTarget');if(ss.isValue(ec)){return ec.getDropTarget(eb)}return null};bg.registerDragGlass=function(ea){bg.$w.push(ea)};bg.unregisterDragGlass=function(ea){ss.remove(bg.$w,ea)};global.spiff.DragDropManager=bg;var bh=function(ea,eb){this.isCopyDrag=false;this.draggedObject=null;this.$0=null;this.$1=false;this.$1$1=null;this.draggedObject=ea;this.$0=eb;this.isCopyDrag=false;this.$1=false};bh.__typeName='spiff.DragInstance';global.spiff.DragInstance=bh;var bi=function(ea){bv.call(this,ea,false);bg.registerDragGlass(this)};bi.__typeName='spiff.DragSafeGlass';global.spiff.DragSafeGlass=bi;var bj=function(ea){this.$0=null;this.$0=ea.element.clone(false).addClass('dragAvatar')};bj.__typeName='spiff.DragSortListItemDragAvatar';global.spiff.DragSortListItemDragAvatar=bj;var bk=function(){React.Component.call(this);this.state={isSelecting:false}};bk.__typeName='spiff.DropdownComponent';global.spiff.DropdownComponent=bk;var bl=function(ea,eb,ec){this.$9=null;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=false;dJ.call(this,ea,eb,ec,null,false);this.$9=ea;this.updateTextElement(eb);var ed=new u(this.get_textElement());ed.add_click(ss.mkdel(this,this.edit));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){ed.remove_click(ss.mkdel(this,this.edit));ed.dispose()})));this.get_textElement().show();this.get_inputElement().hide();this.get_inputElement().blur(ss.mkdel(this,function(ef){this.commit()}));this.add_enterKeyPressed(ss.mkdel(this,function(){this.commit()}));this.add_propertyChanged(ss.mkdel(this,function(){this.updateTextElement(this.get_text())}));if(!tsConfig.is_mobile){var ee=new bG(this,null,ss.mkdel(this,function(){this.element.addClass('hover');this.$8(true)}),ss.mkdel(this,function(){this.element.removeClass('hover');this.$8(false)}));this.disposables.add$1(ee)}this.set_isEditing(false);this.stopPropogationOfInputEvents()};bl.__typeName='spiff.EditableTextView';bl.newEditableTextView=function(ea,eb){var ec=new f;return new bl(ec,ea,eb)};global.spiff.EditableTextView=bl;var bm=function(){React.Component.call(this)};bm.__typeName='spiff.EmptyBody';bm.createEmptyBody=function(ea){return React.createElement(bm,ea)};global.spiff.EmptyBody=bm;var bn=function(ea){this.$2=null;this.$1=null;this.$3=null;React.Component.call(this,ea,null);this.$2=dB.createEmpty()};bn.__typeName='spiff.EventForwarder';bn.$0=function(ea,eb,ec,ed){var ee=new bo;ee.tagName=ea;ee.htmlAttributes=ec;ee.spec=eb;ee.key=ec.key;var ef=ee;if(ss.isValue(ec.ref)){ef.ref=ec.ref;delete ec['ref']}if(ss.isValue(ed)&&ed.length===1){return React.createElement(bn,ef,ed[0])}return React.createElement(bn,ef,ed)};bn.div=function(ea,eb,ec){return bn.$0('div',ea,eb,ec)};bn.span=function(ea,eb,ec){return bn.$0('span',ea,eb,ec)};bn.$1=function(ea,eb){return!_.every(Object.keys(eb),function(ec){return ss.contains(Object.keys(ea),ec)})};global.spiff.EventForwarder=bn;var bo=function(){this.tagName=null;this.htmlAttributes=null;this.spec=null};bo.__typeName='spiff.EventForwarderProps';global.spiff.EventForwarderProps=bo;var bp=function(){};bp.__typeName='spiff.EventSource';global.spiff.EventSource=bp;var bq=function(){};bq.__typeName='spiff.EventUtil';bq.bindWithDispose=function(ea,eb,ec){var ed=ss.formatString('{0}.{1}',eb,++bq.$0);ea.on(ed,ec);return new tab.CallOnDispose(function(){ea.off(ed)})};bq.isCtrlKey=function(ea){if(ss.isNullOrUndefined(ea)){return false}return(tab.BrowserSupport.get_isMac()?ea.metaKey:ea.ctrlKey)};bq.preventDefaultOnEvent=function(ea){if(ss.isNullOrUndefined(ea)){return}if(typeof(ea['preventDefault'])==='function'){ea.preventDefault()}else{ea['returnValue']=false}};bq.getDragFileList=function(ea){if(ss.isNullOrUndefined(ea)||ss.isNullOrUndefined(ea.dataTransfer)){return null}return ea.dataTransfer.files};bq.stopEvent=function(ea){ea.stopPropagation();ea.preventDefault()};global.spiff.EventUtil=bq;var br=function(ea){cI.call(this,ea)};br.__typeName='spiff.ExclusiveMultiSelectGroupSelection';br.op_Equality=function(ea,eb){if(br.op_Inequality(ea,null)&&br.op_Inequality(eb,null)){return ea.groupSize===eb.groupSize&&ea.get_theAllItemIsSelected()===eb.get_theAllItemIsSelected()&&ea.get_selectedCount()===eb.get_selectedCount()&&_.isEqual(ea.get_selectedIndexes(),eb.get_selectedIndexes())}return br.op_Equality(ea,null)&&br.op_Equality(eb,null)};br.op_Inequality=function(ea,eb){return!br.op_Equality(ea,eb)};br.buildExclusiveMultiSelectGroupSelection=function(ea){return function(eb,ec){var ed=new br(eb.length);var ee=eb.length;for(var ef=0;ef<ee;++ef){if(ec(eb[ef])){ed.get_selectedIndexes()[ef]=true}}ed.validateAllSelectedState();return ed}};global.spiff.ExclusiveMultiSelectGroupSelection=br;var bs=function(ea){ds.call(this,ea)};bs.__typeName='spiff.ExclusiveSingleSelectGroupSelection';bs.op_Equality=function(ea,eb){if(bs.op_Inequality(ea,null)&&bs.op_Inequality(eb,null)){return ea.groupSize===eb.groupSize&&ea.get_theAllItemIsSelected()===eb.get_theAllItemIsSelected()&&ea.get_selectedCount()===eb.get_selectedCount()&&_.isEqual(ea.get_selectedIndexes(),eb.get_selectedIndexes())}return bs.op_Equality(ea,null)&&bs.op_Equality(eb,null)};bs.op_Inequality=function(ea,eb){return!bs.op_Equality(ea,eb)};bs.buildExclusiveSingleSelectGroupSelection=function(ea){return function(eb,ec){var ed=new bs(eb.length);var ee=eb.length;for(var ef=0;ef<ee;++ef){if(ec(eb[ef])){ed.get_selectedIndexes()[ef]=true}}ed.validateAllSelectedState();return ed}};global.spiff.ExclusiveSingleSelectGroupSelection=bs;var bt=function(){ss.makeGenericType(s,[Object]).call(this)};bt.__typeName='spiff.FixedValueCell';bt.createFixedValueCell=function(ea){return React.createElement(bt,ea)};global.spiff.FixedValueCell=bt;var bu=function(ea,eb,ec,ed){this.$2=null;this.slop=5;this.numTouches=1;this.type='gesture';if(ss.isValue(eb)){this.type=eb}if(ss.isValue(ec)){this.slop=(ec?bu.defaultSlop:0)}if(ss.isValue(ed)){this.numTouches=ed}this.$2={};this.update(ea)};bu.__typeName='spiff.Gesture';bu.$0=function(ea,eb){return ea.data('tab-'+eb)};global.spiff.Gesture=bu;var bv=function(ea,eb){this.$3=null;this.$2=null;this.$2$1=null;dZ.call(this,$("<div class='tab-glass clear-glass'></div>"));this.$3=ea||document.body;if(!ss.referenceEquals(this.$3,document.body)){this.element.css('position','absolute')}this.element.on('mousewheel DOMMouseScroll',function(ed){ed.preventDefault()});var ec={};dA.setHandler(ec,'firstTouch',ss.mkdel(this,this.handleClick));if(eb){ec.doubleTap=function(ed){ed.preventDefault()};ec.pinchStart=function(ed){ed.preventDefault()}}this.$2=dz.targetAndConfig(this.element[0],ec).onClick(ss.mkdel(this,this.handleClick)).onRightClick(ss.mkdel(this,this.handleClick))};bv.__typeName='spiff.Glass';global.spiff.Glass=bv;var bw=function(){};bw.__typeName='spiff.GlobalTouchEvents';bw.add_globalFirstTouch=function(ea){bw.$1$1=ss.delegateCombine(bw.$1$1,ea)};bw.remove_globalFirstTouch=function(ea){bw.$1$1=ss.delegateRemove(bw.$1$1,ea)};bw.add_globalPress=function(ea){bw.$1$2=ss.delegateCombine(bw.$1$2,ea)};bw.remove_globalPress=function(ea){bw.$1$2=ss.delegateRemove(bw.$1$2,ea)};bw.add_globalTap=function(ea){bw.$1$3=ss.delegateCombine(bw.$1$3,ea)};bw.remove_globalTap=function(ea){bw.$1$3=ss.delegateRemove(bw.$1$3,ea)};bw.add_globalLastTouch=function(ea){bw.$1$4=ss.delegateCombine(bw.$1$4,ea)};bw.remove_globalLastTouch=function(ea){bw.$1$4=ss.delegateRemove(bw.$1$4,ea)};bw.add_globalRightClick=function(ea){bw.$1$5=ss.delegateCombine(bw.$1$5,ea)};bw.remove_globalRightClick=function(ea){bw.$1$5=ss.delegateRemove(bw.$1$5,ea)};bw.add_globalDragEnd=function(ea){bw.$1$6=ss.delegateCombine(bw.$1$6,ea)};bw.remove_globalDragEnd=function(ea){bw.$1$6=ss.delegateRemove(bw.$1$6,ea)};bw.fireGlobalFirstTouch=function(ea,eb){bw.$0(bw.$1$1,ea,eb)};bw.fireGlobalPress=function(ea,eb){bw.$0(bw.$1$2,ea,eb)};bw.fireGlobalTap=function(ea,eb){bw.$0(bw.$1$3,ea,eb)};bw.fireGlobalLastTouch=function(ea,eb){bw.$0(bw.$1$4,ea,eb)};bw.fireGlobalRightClick=function(ea,eb){bw.$0(bw.$1$5,ea,eb)};bw.fireGlobalDragEnd=function(ea,eb){bw.$0(bw.$1$6,ea,eb)};bw.$0=function(ea,eb,ec){if(!ss.staticEquals(ea,null)){ea(eb,ec)}};global.spiff.GlobalTouchEvents=bw;var bx=function(){};bx.__typeName='spiff.GlobalTouchWatcher';bx.add_firstTouch=function(ea){bx.$1$1=ss.delegateCombine(bx.$1$1,ea)};bx.remove_firstTouch=function(ea){bx.$1$1=ss.delegateRemove(bx.$1$1,ea)};bx.add_press=function(ea){bx.$1$2=ss.delegateCombine(bx.$1$2,ea)};bx.remove_press=function(ea){bx.$1$2=ss.delegateRemove(bx.$1$2,ea)};bx.add_tap=function(ea){bx.$1$3=ss.delegateCombine(bx.$1$3,ea)};bx.remove_tap=function(ea){bx.$1$3=ss.delegateRemove(bx.$1$3,ea)};bx.add_lastTouch=function(ea){bx.$1$4=ss.delegateCombine(bx.$1$4,ea)};bx.remove_lastTouch=function(ea){bx.$1$4=ss.delegateRemove(bx.$1$4,ea)};bx.add_rightClick=function(ea){bx.$1$5=ss.delegateCombine(bx.$1$5,ea)};bx.remove_rightClick=function(ea){bx.$1$5=ss.delegateRemove(bx.$1$5,ea)};bx.add_dragEnd=function(ea){bx.$1$6=ss.delegateCombine(bx.$1$6,ea)};bx.remove_dragEnd=function(ea){bx.$1$6=ss.delegateRemove(bx.$1$6,ea)};bx.dispose=function(){bw.remove_globalFirstTouch(bx.$1);bw.remove_globalPress(bx.$3);bw.remove_globalTap(bx.$5);bw.remove_globalLastTouch(bx.$2);bw.remove_globalRightClick(bx.$4);bw.remove_globalDragEnd(bx.$0)};bx.$1=function(ea,eb){if(ss.isValue(bx.$1$1)){bx.$1$1(ea,eb)}};bx.$3=function(ea,eb){if(ss.isValue(bx.$1$2)){bx.$1$2(ea,eb)}};bx.$5=function(ea,eb){if(ss.isValue(bx.$1$3)){bx.$1$3(ea,eb)}};bx.$2=function(ea,eb){if(ss.isValue(bx.$1$4)){bx.$1$4(ea,eb)}};bx.$4=function(ea,eb){if(ss.isValue(bx.$1$5)){bx.$1$5(ea,eb)}};bx.$0=function(ea,eb){if(ss.isValue(bx.$1$6)){bx.$1$6(ea,eb)}};global.spiff.GlobalTouchWatcher=bx;var by=function(ea){this.groupSize=0;this.allSelected=false;this.$1$1=null;this.groupSize=ea;this.allSelected=false;this.set_selectedIndexes({})};by.__typeName='spiff.GroupSelection';global.spiff.GroupSelection=by;var bz=function(ea){this.$2={hovered:false};React.Component.call(this,ea)};bz.__typeName='spiff.HeaderColumn';bz.createHeaderColumn=function(ea){return React.createElement(bz,ea)};global.spiff.HeaderColumn=bz;var bA=function(){this.$0=null;React.Component.call(this)};bA.__typeName='spiff.HeaderRow';bA.createHeaderRow=function(ea){return React.createElement(bA,ea)};global.spiff.HeaderRow=bA;var bB=function(){};bB.__typeName='spiff.HorizonalSpinnerDirection';global.spiff.HorizonalSpinnerDirection=bB;var bC=function(ea,eb){React.Component.call(this,ea,eb)};bC.__typeName='spiff.HorizontalSpinnerComponent';global.spiff.HorizontalSpinnerComponent=bC;var bD=function(){this.styleClass='tab-outline-spinner';this.extraCssClass=null;this.disabled=false;this.onSpinnerClicked=null};bD.__typeName='spiff.HorizontalSpinnerProps';global.spiff.HorizontalSpinnerProps=bD;var bE=function(ea){this.$a=0;this.$b=0;this.$9=true;this.$8=false;this.$7=null;this.$6=0;bu.call(this,ea,'hover',false);this.$6=(ss.isValue(ea.hoverDelay)?ea.hoverDelay:150)};bE.__typeName='spiff.Hover';global.spiff.Hover=bE;var bF=function(){};bF.__typeName='spiff.HoverAddClassBehavior';bF.attach=function(ea,eb,ec){eb=ss.coalesce(eb,'hover');return new bG(ea,ec,function(ed){bF.$0(ed,eb)},function(ed){bF.$1(ed,eb)})};bF.$0=function(ea,eb){$(ea.currentTarget).addClass(eb)};bF.$1=function(ea,eb){$(ea.currentTarget).removeClass(eb)};global.spiff.HoverAddClassBehavior=bF;var bG=function(ea,eb,ec,ed){this.$4=null;this.$5=null;this.$6=null;this.$7=null;this.$7=ea;this.$4=eb;this.$5=ec;this.$6=ed;this.$7.add_disposed(ss.mkdel(this,this.$2));if(ss.isValue(eb)){this.$7.element.on('mouseenter'+this.$3(),eb,ss.mkdel(this,this.$0));this.$7.element.on('mouseleave'+this.$3(),eb,ss.mkdel(this,this.$1))}else{this.$7.element.on('mouseenter'+this.$3(),ss.mkdel(this,this.$0));this.$7.element.on('mouseleave'+this.$3(),ss.mkdel(this,this.$1))}};bG.__typeName='spiff.HoverBehavior';global.spiff.HoverBehavior=bG;var bH=function(){};bH.__typeName='spiff.IAppendableView';global.spiff.IAppendableView=bH;var bI=function(){};bI.__typeName='spiff.ICompositeSearchWidgetTemplate';global.spiff.ICompositeSearchWidgetTemplate=bI;var bJ=function(){this.iconElement=null;u.call(this,$('<a>').addClass('tab-iconButton'));this.setEnabled(true)};bJ.__typeName='spiff.IconButton';global.spiff.IconButton=bJ;var bK=function(ea){React.Component.call(this,ea);this.state=this.$0()};bK.__typeName='spiff.IconButtonComponent';global.spiff.IconButtonComponent=bK;var bL=function(){this.isActive=false};bL.__typeName='spiff.IconButtonState';global.spiff.IconButtonState=bL;var bM=function(){};bM.__typeName='spiff.IDragResponder';global.spiff.IDragResponder=bM;var bN=function(){};bN.__typeName='spiff.IDragSource';global.spiff.IDragSource=bN;var bO=function(){};bO.__typeName='spiff.IDropTarget';global.spiff.IDropTarget=bO;var bP=function(){};bP.__typeName='spiff.IListItemContentCreator';global.spiff.IListItemContentCreator=bP;var bQ=function(){};bQ.__typeName='spiff.IListItemDragAvatarCreator';global.spiff.IListItemDragAvatarCreator=bQ;var bR=function(){};bR.__typeName='spiff.IListViewDragFeedback';global.spiff.IListViewDragFeedback=bR;var bS=function(){};bS.__typeName='spiff.IListViewScrollHandler';global.spiff.IListViewScrollHandler=bS;var bT=function(){};bT.__typeName='spiff.IMouseCaptureEventHandler';global.spiff.IMouseCaptureEventHandler=bT;var bU=function(ea){var eb=function(){};ss.registerGenericInterfaceInstance(eb,bU,[ea],{add_propsUpdated:null,remove_propsUpdated:null,get_props:null},function(){return[]});return eb};bU.__typeName='spiff.IPropsProvider$1';ss.initGenericInterface(bU,a,1);global.spiff.IPropsProvider$1=bU;var bV=function(){};bV.__typeName='spiff.IScrollable';global.spiff.IScrollable=bV;var bW=function(ea,eb){this.$3=null;React.Component.call(this,ea,eb);this.state={hovered:false,scrolling:false}};bW.__typeName='spiff.IScrollComponent';global.spiff.IScrollComponent=bW;var bX=function(){};bX.__typeName='spiff.IScroller';global.spiff.IScroller=bX;var bY=function(){this.extraCssClass=null;this.iScrollOptions=null;this.refreshDelay=0;this.keepPositionOnRecreate=true;this.alwaysShowScrollbarsIfScrollable=false;this.startingY=null;this.augmentedScrollX=true;this.augmentedScrollY=true;this.scrollStopCallback=null};bY.__typeName='spiff.IScrollProps';global.spiff.IScrollProps=bY;var bZ=function(ea){this.content=null;this.scroll=null;dH.call(this,$(ea))};bZ.__typeName='spiff.IScrollTemplate';global.spiff.IScrollTemplate=bZ;var ca=function(ea,eb){this.scrollEndCleanup=new tab.DisposableHolder;this.scroller=null;de.call(this,ea,eb)};ca.__typeName='spiff.IScrollView';global.spiff.IScrollView=ca;var cb=function(){};cb.__typeName='spiff.ISelectable';global.spiff.ISelectable=cb;var cc=function(){};cc.__typeName='spiff.ITabControlTemplate';global.spiff.ITabControlTemplate=cc;var cd=function(){};cd.__typeName='spiff.ITextInputViewTemplate';global.spiff.ITextInputViewTemplate=cd;var ce=function(){};ce.__typeName='spiff.IUberPopupContent';global.spiff.IUberPopupContent=ce;var cf=function(ea){var eb=function(){};ss.registerGenericInterfaceInstance(eb,cf,[ea],{get_viewModel:null,get_rootElement:null},function(){return[ss.IDisposable,bH]});ss.setMetadata(eb,{variance:[1]});return eb};cf.__typeName='spiff.IView$1';ss.initGenericInterface(cf,a,1);global.spiff.IView$1=cf;var cg=function(){};cg.__typeName='spiff.IViewModel';global.spiff.IViewModel=cg;var ch=function(){};ch.__typeName='spiff.JQueryGestureExtensions';ch.fireTableauGesture=function(ea,eb,ec,ed){if(ss.isNullOrUndefined(ec)){var ee=new Object;ee.type='touchend';ee.timeStamp=tab.DateUtil.get_nowAsTime();ee.keyCode=null;ee.ctrlKey=false;ee.altKey=false;ee.metaKey=false;ee.shiftKey=false;ee.charOrCode=null;ee.clientX=0;ee.clientY=0;ee.touches=new Array;ee.targetTouches=new Array;ee.changedTouches=new Array;ee.target=ea;ec=ee}var ef;switch(eb){case'dragMove':case'dragStart':case'dragEnd':{ef='drag';break}case'hover':case'moving':case'mouseleave':{ef='hover';break}case'pinchStart':case'pinchMove':case'pinchEnd':{ef='pinch';break}default:{ef='discrete';break}}var eg=new cM(ec,ea,null);bu.$0($(ea),ef).$0(eb,eg,ed||{})};global.spiff.JQueryGestureExtensions=ch;var ci=function(ea,eb){this.$b='.label';u.call(this,ea);this.$b=eb};ci.__typeName='spiff.LabelButton';ci.newAnchorButton=function(){return new ci($("<a href='#' class='tab-link-button'><span class='label hide'></span></a>"),'.label')};ci.newAnchorButton$1=function(ea,eb){var ec=new ci($("<a href='#' class='tab-link-button'><span class='label hide'></span></a>"),'.label');ec.element.attr('href',ea);ec.element.attr('target',ss.coalesce(eb,'_blank').toString());return ec};ci.newNativeButton=function(){return new ci($("<button class='tab-button' type='button'><span class='icon'></span><span class='label hide'></span></button>"),'.label')};ci.newTextButton=function(ea,eb){var ec=new ci($("<span class='tab-text-button'><span class='label hide'></span></span>"),'.label');if(ss.isValue(ea)){ec.add_click(ea);ec.disposables.add$1(new tab.CallOnDispose(function(){ec.remove_click(ea)}))}if(ss.isValue(eb)){ec.set_label(eb)}return ec};global.spiff.LabelButton=ci;var cj=function(ea,eb){this.$e='.label';dK.call(this,ea);this.$e=eb};cj.__typeName='spiff.LabelToggleButton';cj.newCheckbox=function(ea,eb){var ec=cj.$0("<span class='tab-icon-toggle'><span class='icon'></span><span class='label hide'></span></span>",ea,eb);ec.element.addClass('tab-unification-check').find('.icon').append($("<span class='innerIcon'></span>").addClass('tab-img-check'));return ec};cj.newRadioButton=function(ea,eb){var ec=cj.$0("<span class='tab-icon-toggle'><span class='icon'></span><span class='label hide'></span></span>",ea,eb);ec.element.addClass('tab-unification-radio').find('.icon').append($("<span class='innerIcon'></span>"));return ec};cj.newNativeCheckbox=function(ea,eb){return cj.$0("<span class='tab-checkbox'><input type='checkbox'></input><span class='label hide'></span></span>",ea,eb)};cj.newNativeRadioButton=function(ea,eb){var ec=cj.$0("<span class='tab-radio'><input type='radio'></input><span class='label hide'></span></span>",ea,eb);ec.set_preventMouseDeselect(true);return ec};cj.newLabelToggleButton=function(ea,eb){return cj.$0("<span class='tab-icon-toggle'><span class='icon'></span><span class='label hide'></span></span>",ea,eb)};cj.$0=function(ea,eb,ec){var ed=new cj($(ea),'.label');ed.set_label(eb);ed.set_selected(ec);var ee=ed;var ef=ee.get_inputElement();if(ss.isValue(ef)){ef.click(function(eg){eg.preventDefault()})}return ee};global.spiff.LabelToggleButton=cj;var ck=function(ea,eb){var ec=function(ed,ee){React.Component.call(this,ed,ee)};ss.registerGenericClassInstance(ec,ck,[ea,eb],{render:function(){var ed=_.map(this.props.items,ss.mkdel(this,function(ee){var ef=this.getEventHandleSpecForItem(ee);var eg={className:'tabListItem',key:this.getItemKey(ee.data)};if(ss.isNullOrUndefined(ef)){return React.DOM.div(eg,this.buildItem(ee.data))}else{return bn.div(ef,eg,[this.buildItem(ee.data)])}}));return React.DOM.div({className:'tabList'},ed)},getItemKey:null,buildItem:null,getEventHandleSpecForItem:function(ed){return null}},function(){return React.Component},function(){return[]});return ec};ck.__typeName='spiff.ListComponent$2';ss.initGenericClass(ck,a,2);global.spiff.ListComponent$2=ck;var cl=function(ea,eb){this.$1$1=null;this.$1$2=null;this.set_parentListView(ea);this.set_draggableListItemView(eb)};cl.__typeName='spiff.ListItemDragSource';global.spiff.ListItemDragSource=cl;var cm=function(ea){this.$f=null;this.$g=null;dm.call(this);this.set_selectionType(ea)};cm.__typeName='spiff.ListItemGroup';global.spiff.ListItemGroup=cm;var cn=function(ea,eb){this.$g=null;this.$f=null;dK.call(this,cn.$0(ea));tab.Param.verifyValue(eb,'viewModel');tab.Param.verifyValue(eb.get_id(),'viewModel.Id');this.$g=eb;this.$g.add_propertyChanged(ss.mkdel(this,this.$e));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$g.remove_propertyChanged(ss.mkdel(this,this.$e))})));this.set_selectionId(eb.get_id());this.set_widgetId(eb.get_id());this.$f=ea};cn.__typeName='spiff.ListItemView';cn.$0=function(ea){var eb=$('<div/>').addClass('tab-list-item');eb.append(ea);return eb};global.spiff.ListItemView=cn;var co=function(ea,eb,ec,ed,ee){this.$2=null;this.$0=null;this.$5=false;this.$4=false;this.$1=false;this.$6=false;this.$3=false;r.call(this);this.$2=ea;if(ss.isValue(eb)){this.$0=eb}this.$5=ec;this.$4=ed;this.$3=ee};co.__typeName='spiff.ListItemViewModel';co.newListItem=function(ea,eb,ec,ed,ee){tab.Param.verifyString(ea,'id');return new co(ea,eb,ec,ed,ee)};global.spiff.ListItemViewModel=co;var cp=function(){this.itemDatas=null;this.selectionIndexes=null;this.invalidIndexes=null;this.itemIds=null};cp.__typeName='spiff.ListItemViewModelCollectionBuilder';global.spiff.ListItemViewModelCollectionBuilder=cp;var cq=function(ea,eb){this.$l=[];this.$k=null;this.$3$1=null;this.$m=null;this.$3$2=null;ss.makeGenericType(q,[cs]).call(this,ea,new ct);this.get_viewModel().add_selectionModelUpdated(ss.mkdel(this,this.$c));this.get_viewModel().add_spotlightedItemChanged(ss.mkdel(this,this.$d));this.get_viewModel().add_itemMoved(ss.mkdel(this,this.$e));this.disposables.add(ss.mkdel(this,function(){this.get_viewModel().remove_selectionModelUpdated(ss.mkdel(this,this.$c));this.get_viewModel().remove_spotlightedItemChanged(ss.mkdel(this,this.$d));this.get_viewModel().remove_itemMoved(ss.mkdel(this,this.$e))}));this.set_scrollHandler(new k(this.element));this.get_dom().get_listItemContainer().keypress(ss.mkdel(this,this.$9)).keydown(ss.mkdel(this,this.$9));this.$k=eb;this.$5()};cq.__typeName='spiff.ListView';cq.createListView=function(ea,eb){return new cq(ea,eb)};global.spiff.ListView=cq;var cr=function(){this.$b='dragging';this.$c='dragHover';this.$e=null;this.$f=null;this.$n=0;this.$l=0;this.$g=null;this.$h=0;this.$k=null;this.$m=0;this.$j=0;this.$i=0;this.$d=null;this.$1$1=null;this.$1$2=null;this.$1$3=null};cr.__typeName='spiff.ListViewDragSortFeedback';global.spiff.ListViewDragSortFeedback=cr;var cs=function(ea,eb){this.$8=null;this.$6=null;this.$7=null;this.$5=null;this.$4=null;this.$9=null;this.$3=true;this.$a=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;r.call(this);this.$8={};this.$6=new cm(eb);this.$6.add_selectionChanged(ss.mkdel(this,this.onSelectionChanged));this.update(ea)};cs.__typeName='spiff.ListViewModel';global.spiff.ListViewModel=cs;var ct=function(){this.$0=null;dH.call(this,$("<div class='tab-list'><div class='tab-list-itemHolder'></div></div>"));this.$0=this.getElementBySelector('.tab-list-itemHolder')};ct.__typeName='spiff.ListViewTemplate';global.spiff.ListViewTemplate=ct;var cu=function(ea){this.menuItems=null;this.defaultItem=null;this.menuItems=ea;this.defaultItem=_.find(ea,function(eb){return eb.isDefault})};cu.__typeName='spiff.Menu';global.spiff.Menu=cu;var cv=function(){this.name=null;this.description=null;this.iconClass=null;this.iconClassTwo=null;this.itemClass=null;this.checkState=0;this.enabled=false;this.isDivider=false;this.isTextInput=false;this.isDefault=false;this.subMenu=null;this.data=null;this.id=null;++cv.$0;this.id='menuItem'+cv.$0};cv.__typeName='spiff.MenuItem';cv.newDivider=function(){var ea=new cv;ea.isDivider=true;ea.enabled=false;return ea};cv.newTextInput=function(ea,eb){var ec=new cv;ec.isTextInput=true;if(!ss.staticEquals(ea,null)){ec.data=ea;ec.enabled=true}ec.description=eb;return ec};cv.newActionItem=function(ea,eb){var ec=new cv;ec.name=ea;if(ss.isValue(eb)){ec.data=eb;ec.enabled=true}return ec};cv.newActionItemWithItemClass=function(ea,eb,ec){var ed=new cv;ed.name=ea;ed.itemClass=ec;if(ss.isValue(eb)){ed.data=eb;ed.enabled=true}return ed};cv.newItemWithIcon=function(ea,eb,ec){var ed=new cv;ed.data=ea;ed.name=eb;ed.iconClass=ec;ed.iconClassTwo=null;ed.enabled=true;return ed};cv.newItemWithIconAndDescription=function(ea,eb,ec,ed){var ee=new cv;ee.data=ea;ee.name=eb;ee.iconClass=ec;ee.enabled=true;ee.description=ed;return ee};cv.newItem=function(ea,eb,ec,ed){var ee=new cv;ee.data=ea;ee.name=eb;if(ss.isValue(ec)){ee.checkState=ec}if(ss.isValue(ed)){ee.subMenu=ed}ee.enabled=true;return ee};global.spiff.MenuItem=cv;var cw=function(){};cw.__typeName='spiff.MenuItemCheckState';global.spiff.MenuItemCheckState=cw;var cx=function(){dH.call(this,$("<div class='tabMenuItemDivider'/>"))};cx.__typeName='spiff.MenuItemDividerTemplate';global.spiff.MenuItemDividerTemplate=cx;var cy=function(){this.textInput=null;dH.call(this,$("\n<div class='tabMenuItemTextInputPanel'>\n  <div class='tabMenuItemTextInputHolder'>\n    <input class='tabMenuItemTextInput' type='text'>\n  </div>\n</div>"));this.textInput=this.getElementBySelector('.tabMenuItemTextInput')};cy.__typeName='spiff.MenuItemTextInputTemplate';global.spiff.MenuItemTextInputTemplate=cy;var cz=function(ea){this.content=null;dH.call(this,$(ea));this.content=this.getElementBySelector('.tabMenuContent')};cz.__typeName='spiff.MenuTemplate';global.spiff.MenuTemplate=cz;var cA=function(ea,eb){this.menuStack=[];this.dom=null;this.menuViewModel=null;this.glass=null;this.$9={};this.menuDisposables=new tab.DisposableHolder;ss.makeGenericType(o,[cB]).call(this,ea,eb);this.menuViewModel=ea;this.dom=eb;this.menuStack[0]=this.dom;this.menuViewModel.add_menuChanged(ss.mkdel(this,this.updateMenu));this.menuViewModel.add_shown(ss.mkdel(this,this.shown));this.menuViewModel.add_hidden(ss.mkdel(this,this.hidden));this.menuViewModel.add_menuItemSelectionChanged(ss.mkdel(this,this.$8));this.element.addClass(this.menuViewModel.get_theme().menuClass)};cA.__typeName='spiff.MenuView';cA.getMenuItem=function(ea){return ea.data('tabMenuMenuItem')};cA.getMenuItemLevel=function(ea){return ss.coalesce(ea.data('tabMenuMenuItemLevel'),1)};global.spiff.MenuView=cA;var cB=function(){this.$0=null;this.$2=null;this.$3=null;this.$1=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=false;this.$2$8=null;r.call(this);this.set_theme(new dW);this.$0=ss.mkdel(this,function(){_.defer(ss.mkdel(this,this.dispose))});this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hidden(this.$0)})))};cB.__typeName='spiff.MenuViewModel';cB.createForMenu=function(ea,eb,ec,ed){var ee=new cB;ee.set_menu(ea);if(ss.isValue(eb)){ee.add_menuItemClicked(eb);ee.disposables.add$1(new tab.CallOnDispose(function(){ee.remove_menuItemClicked(eb)}))}ee.set_disposeOnHide(true);ee.set_theme(ec||new dW);if(ss.isValue(ed)){ee.add_hidden(ed);ee.disposables.add$1(new tab.CallOnDispose(function(){ee.remove_hidden(ed)}))}cO.newView(cA).call(null,[ee]);return ee};cB.handleMenuActionItemClicked=function(ea){if($.isFunction(ea.data)){ea.data()}};global.spiff.MenuViewModel=cB;var cC=function(){this.menuClass='tabMenuBaseTheme';this.itemClass='tabMenuItemBaseTheme';this.dividerClass='tabMenuItemDividerBaseTheme';this.noIconClass='tabMenuNoIcons';this.noDescClass='tabMenuNoDesc'};cC.__typeName='spiff.MenuViewTheme';global.spiff.MenuViewTheme=cC;var cD=function(ea,eb){this.$y=null;this.template=null;bb.call(this,ea,eb.domRoot);this.template=eb;this.$w()};cD.__typeName='spiff.ModalDialog';cD.$ctor1=function(ea,eb){this.$y=null;this.template=null;bb.call(this,ea,eb);this.template=new dH(eb);this.$w()};global.spiff.ModalDialog=cD;var cE=function(){};cE.__typeName='spiff.MouseCapture';cE.$6=function(){return tab.Logger.lazyGetLogger(cE)};cE.get_browserCaptureMouseEvents=function(){return tab.BrowserSupport.get_isIE()&&tab.BrowserSupport.get_browserVersion()<9&&tab.BrowserSupport.get_mouseCapture()};cE.$7=function(){return!tsConfig.is_mobile&&tab.BrowserSupport.get_addEventListener()};cE.$5=function(){return tab.BrowserSupport.get_isIE()&&tabBootstrap.Utility.get_embedMode()!=='notEmbedded'};cE.setCapture=function(ea,eb,ec,ed){tab.Param.verifyValue(ea,'element');tab.Param.verifyValue(ec,'handler');if(cE.get_browserCaptureMouseEvents()){cE.releaseCapture();ea.setCapture(eb)}else if(cE.$7()){if(ss.isNullOrUndefined(cE.$8)||ss.isNullOrUndefined(ed)||!ed){cE.releaseCapture();document.addEventListener('mousemove',cE.$2,true);document.addEventListener('mouseup',cE.$4,true);document.addEventListener('mouseout',cE.$3,true);cE.$8=ec}else{}}};cE.releaseCapture=function(){if(cE.get_browserCaptureMouseEvents()){document.releaseCapture()}else if(cE.$7()){document.removeEventListener('mousemove',cE.$2,true);document.removeEventListener('mouseup',cE.$4,true);document.removeEventListener('mouseout',cE.$3,true)}};cE.$2=function(ea){if(ss.isValue(cE.$8)){cE.$8.handleCapturedMouseMove(ea)}};cE.$4=function(ea){cE.$1(ea)};cE.$3=function(ea){if(cE.$5()&&cE.$0(ea)){cE.$1(ea)}};cE.$1=function(ea){cE.releaseCapture();if(ss.isValue(cE.$8)){cE.$8.handleCapturedMouseComplete(ea);cE.$8=null}};cE.$0=function(ea){var eb=ea.toElement;return ss.isNullOrUndefined(eb)||eb.nodeName==='HTML'};global.spiff.MouseCapture=cE;var cF=function(){};cF.__typeName='spiff.MouseEventUtil';cF.get_clickEvent=function(){return(tsConfig.is_touch?'touchstart':'click')};cF.getMouseButtonEnum=function(ea){cF.$0();var eb='none';var ec=ea['which'];if(ss.isValue(ec)){var ed=ec;if(ss.keyExists(cF.$3,ed)){eb=cF.$3[ed]}}else if(ss.isValue(ea['button'])){var ee=ea['button'];if(ss.keyExists(cF.$2,ee)){eb=cF.$2[ee]}}return eb};cF.$0=function(){if(!cF.$1){cF.$2={};cF.$2[1]='left';cF.$2[4]='middle';cF.$2[2]='right';cF.$3={};cF.$3[1]='left';cF.$3[2]='middle';cF.$3[3]='right';cF.$1=true}};global.spiff.MouseEventUtil=cF;var cG=function(ea,eb,ec,ed){this.$3=null;this.$2=null;bh.call(this,ea,ed);this.$3=eb;this.$2=ec};cG.__typeName='spiff.MoveDragInstance';global.spiff.MoveDragInstance=cG;var cH=function(ea,eb,ec){this.$3=null;this.$2=null;this.$4=null;this.$1=null;this.$0=false;this.$1$1=null;this.$1$2=null;this.$3=ea;this.$2=eb;this.$1='useScrollSize';this.$0=ec;bg.attachDragSource(this.$3,this)};cH.__typeName='spiff.MoveDragSource';global.spiff.MoveDragSource=cH;var cI=function(ea){by.call(this,ea)};cI.__typeName='spiff.MultiSelectGroupSelection';cI.op_Equality=function(ea,eb){if(cI.op_Inequality(ea,null)&&cI.op_Inequality(eb,null)){return ea.groupSize===eb.groupSize&&ea.get_theAllItemIsSelected()===eb.get_theAllItemIsSelected()&&ea.get_selectedCount()===eb.get_selectedCount()&&_.isEqual(ea.get_selectedIndexes(),eb.get_selectedIndexes())}return cI.op_Equality(ea,null)&&cI.op_Equality(eb,null)};cI.op_Inequality=function(ea,eb){return!cI.op_Equality(ea,eb)};cI.buildMultiSelectGroupSelection$1=function(ea){return function(eb,ec){var ed=new cI(eb.length);var ee=eb.length;for(var ef=0;ef<ee;++ef){if(ec(eb[ef])){ed.get_selectedIndexes()[ef]=true}}ed.validateAllSelectedState();return ed}};cI.buildMultiSelectGroupSelection=function(ea){return function(eb,ec){var ed=new cI(eb.length);if(ec){ed.handleTapAll()}return ed}};global.spiff.MultiSelectGroupSelection=cI;var cJ=function(ea){de.call(this,ea,new cK);this.$6();this.$9().add_contentChanged(ss.mkdel(this,this.$7));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$9().remove_contentChanged(ss.mkdel(this,this.$7))})))};cJ.__typeName='spiff.NativeScrollableView';global.spiff.NativeScrollableView=cJ;var cK=function(){this.content=null;this.scroll=null;dH.call(this,$("<div class='tabScroller'><span class='tabScrollerContent'/></div>"));this.content=this.getElementBySelector('.tabScrollerContent');this.scroll=this.domRoot};cK.__typeName='spiff.NavtiveScrollableTemplate';global.spiff.NavtiveScrollableTemplate=cK;var cL=function(){};cL.__typeName='spiff.NoopDropTarget';global.spiff.NoopDropTarget=cL;var cM=function(ea,eb,ec){this.originalEvent=null;this.reactEvent=null;this.type=null;this.target=null;this.currentTarget=null;this.timeStamp=0;this.keyCode=0;this.ctrlKey=false;this.altKey=false;this.metaKey=false;this.shiftKey=false;this.clientX=0;this.clientY=0;this.pageX=0;this.pageY=0;this.touches=null;this.targetTouches=null;this.changedTouches=null;this.touchesById=null;this.gestureName=null;this.$0=null;this.originalEvent=ea;this.reactEvent=ec;this.type=ea.type;this.timeStamp=ea.timeStamp;this.keyCode=ea['keyCode'];this.ctrlKey=ea.ctrlKey;this.altKey=ea.altKey;this.metaKey=ea.metaKey;this.shiftKey=ea.shiftKey;this.clientX=ea['clientX'];this.clientY=ea['clientY'];if(ss.isValue(ea.touches)){this.touches=ea.touches;this.targetTouches=ea.targetTouches;this.changedTouches=ea.changedTouches;var ed=ea.target;this.target=((ed.nodeType===3)?ed.parentNode:ed);this.currentTarget=eb}else{this.targetTouches=((ea.type==='mouseup')?[]:[ea]);this.touches=this.targetTouches;this.changedTouches=[ea];this.currentTarget=ea.currentTarget;this.target=ea.target}var ee=this.touches.length;this.touchesById=new Array(ee);while(ee>0){ee-=1;var ef=this.touches[ee].identifier||0;this.touchesById[ef]=this.touches[ee]}ee=this.changedTouches.length;while(ee>0){ee-=1;var eg=this.changedTouches[ee].identifier||0;this.touchesById[eg]=this.changedTouches[ee]}};cM.__typeName='spiff.NormalizedEvent';global.spiff.NormalizedEvent=cM;var cN=function(){ss.makeGenericType(s,[Object]).call(this)};cN.__typeName='spiff.NumberCell';cN.createBodyCell=function(ea){return React.createElement(cN,ea)};global.spiff.NumberCell=cN;var cO=function(){};cO.__typeName='spiff.ObjectRegistry';cO.registerType=function(ea,eb){return function(){if(ss.isNullOrUndefined(cO.$2)){cO.$2={}}cO.$2[ss.getTypeFullName(ea)]=eb}};cO.newView$1=function(ea){return function(eb,ec){return cO.$1(ea).call(null,eb,ec)}};cO.newView=function(ea){return function(eb){return cO.$1(ea).call(null,ea,eb)}};cO.newWidget$2=function(ea){return function(eb,ec){return cO.$1(ea).call(null,eb,ec)}};cO.newWidget=function(ea){return function(){return cO.$1(ea).call(null,ea,[])}};cO.newWidget$1=function(ea){return function(eb){return cO.$1(ea).call(null,ea,eb)}};cO.$1=function(ea){return function(eb,ec){if(ss.isNullOrUndefined(cO.$2)){throw new ss.Exception('No types registered')}var ed=cO.$2[ss.getTypeFullName(eb)];if(ss.isNullOrUndefined(ed)){throw new ss.Exception('Unknown view type: '+ss.getTypeFullName(eb))}var ee=((ec.length===0)?ss.createInstance(ed):ss.applyConstructor(ed,ec));return(cO.$0(ed,ea)?ee:ee)}};cO.newLegacyTooltip=function(ea){return function(eb,ec,ed){if(ss.isNullOrUndefined(cO.$2)){throw new ss.Exception('No types registered')}var ee=cO.$2[ss.getTypeFullName(eb)];if(ss.isNullOrUndefined(ee)){throw new ss.Exception('Unknown tooltip type: '+ss.getTypeFullName(eb))}var ef=new ee(ec,ed);return ef}};cO.newLegacyTooltipBehavior=function(ea){return function(eb,ec){if(ss.isNullOrUndefined(cO.$2)){throw new ss.Exception('No types registered')}var ed=cO.$2[ss.getTypeFullName(eb)];if(ss.isNullOrUndefined(ed)){throw new ss.Exception('Unknown tooltip type: '+ss.getTypeFullName(eb))}var ee=new ed(ec);return ee}};cO.resolve=function(ea){return function(eb){var ec=ea;if(ss.isNullOrUndefined(cO.$2)){throw new ss.Exception('No types registered')}var ed=cO.$2[ss.getTypeFullName(ec)];if(ss.isNullOrUndefined(ed)){throw new ss.Exception('Unknown type: '+ss.getTypeFullName(ec))}return ss.applyConstructor(ed,eb)}};cO.$0=function(ea,eb){return ss.isNullOrUndefined(ss.getGenericTypeDefinition(eb))||ss.isValue(ss.getGenericTypeDefinition(ea))};global.spiff.ObjectRegistry=cO;var cP=function(){};cP.__typeName='spiff.OrientationHandler';cP.add_orientationChanged=function(ea){cP.$1$1=ss.delegateCombine(cP.$1$1,ea)};cP.remove_orientationChanged=function(ea){cP.$1$1=ss.delegateRemove(cP.$1$1,ea)};cP.get_isLandscape=function(){return cP.$d===90||cP.$d===-90};cP.get_isPortrait=function(){return cP.$d===0||cP.$d===180};cP.get_windowInstHelper=function(){return cP.$j};cP.init=function(){if(!tsConfig.is_mobile_device){cP.$d=0;return}cP.$i=cP.$1();cP.$j=new tab.WindowHelper(cP.$i);cP.$d=cP.$3();cP.$e=cP.$j.get_innerWidth();if(tab.BrowserSupport.get_orientationChange()){$(cP.$i).on('orientationchange'.toString(),cP.$6)}$(cP.$i).on('resize'.toString(),cP.$7)};cP.unbindEvents=function(){if(ss.isNullOrUndefined(cP.$i)){return}$(cP.$i).off('orientationchange'.toString(),cP.$6);$(cP.$i).off('resize'.toString(),cP.$7)};cP.$1=function(){var ea=tab.WindowHelper.get_windowSelf();if(tabBootstrap.Utility.get_embedMode()!=='notEmbedded'){try{while(ss.isValue(ea.parent)&&!ss.referenceEquals(ea.parent,ea)){var eb=ea.parent;var ec=new tab.WindowHelper(eb);if(ss.isNullOrUndefined(ec.get_outerWidth())){break}ea=eb}}catch(ed){}}return ea};cP.$6=function(ea){cP.$g=new Date;cP.$5()};cP.$5=function(){var ea=new Date;if(ea-cP.$g>=2500||cP.$f||cP.$9()||cP.$8()){cP.$a();cP.$2()}else{cP.$0();cP.$h=window.setTimeout(cP.$5,75)}};cP.$7=function(ea){if(cP.$f||cP.$9()){cP.$a();cP.$2()}};cP.$2=function(){cP.$0();if(cP.$8()){cP.$d=cP.$3();cP.$f=false;if(ss.isValue(cP.$1$1)){cP.$1$1()}}};cP.$9=function(){var ea=cP.$j.get_innerWidth();if(cP.$e!==ea){return true}return false};cP.$8=function(){var ea=cP.$3();if(cP.$d!==ea){return true}return false};cP.$a=function(){cP.$e=cP.$j.get_innerWidth();cP.$f=true};cP.$3=function(){var ea;if(!tab.BrowserSupport.get_isAndroid()){ea=cP.$4();if(ss.isValue(ea)){return ss.unbox(ea)}}ea=((cP.$j.get_innerWidth()<cP.$j.get_innerHeight())?0:90);return ss.unbox(ea)};cP.$4=function(){try{return cP.$i.orientation}catch(ea){}return null};cP.$0=function(){cP.$h=tab.MiscUtil.clearTimeout(cP.$h)};global.spiff.OrientationHandler=cP;var cQ=function(ea,eb){var ec=function(ed){React.Component.call(this,ed)};ss.registerGenericClassInstance(ec,cQ,[ea,eb],{render:function(){var ed=_.map(this.props.items,ss.mkdel(this,function(eh){var ei=this.getEventHandleSpecForItem(eh);var ej={className:'tabListItem',key:this.getUniqueKey(eh.data)};if(ss.isNullOrUndefined(ei)){return React.DOM.div(ej,this.buildItem(eh.data))}else{return bn.div(ei,ej,[this.buildItem(eh.data)])}}));var ee=new di;ee.scrollY=true;ee.scrollbars=true;ee.onScrollStop=ss.mkdel(this,this.onScrollStop);ee.alwaysShowScrollbarsIfScrollable=this.shouldScrollbarAlwaysBeShown();ee.startingY=this.props.startingY;var ef=ee;var eg=dh.createScroller(ef,ed);return React.DOM.div({className:'tabPagableList'},eg)},buildItem:null,getUniqueKey:null,onScrollStop:null,getEventHandleSpecForItem:function(ed){return null},shouldScrollbarAlwaysBeShown:function(){return false}},function(){return React.Component},function(){return[]});return ec};cQ.__typeName='spiff.PagableListComponent$2';ss.initGenericClass(cQ,a,2);global.spiff.PagableListComponent$2=cQ;var cR=function(ea){this.$1=null;ss.makeGenericType(cQ,[Object,dG]).call(this,ea)};cR.__typeName='spiff.PagableTableRowList';global.spiff.PagableTableRowList=cR;var cS=function(ea){this.$6=false;this.$8=null;this.$9=null;this.$7=null;this.$5=null;bu.call(this,ea,'pinch',true,2)};cS.__typeName='spiff.Pinch';global.spiff.Pinch=cS;var cT=function(){ss.makeGenericType(s,[Object]).call(this)};cT.__typeName='spiff.PlainTextCell';cT.createBodyCell=function(ea){return React.createElement(cT,ea)};global.spiff.PlainTextCell=cT;var cU=function(ea){cq.call(this,ea,ea.get_listItemCreator())};cU.__typeName='spiff.PopupListView';global.spiff.PopupListView=cU;var cV=function(ea,eb,ec){this.$b=null;cs.call(this,ea,ec);this.$b=eb};cV.__typeName='spiff.PopupListViewModel';global.spiff.PopupListViewModel=cV;var cW=function(ea){this.$0=null;ss.EventArgs.call(this);this.$0=ea};cW.__typeName='spiff.PropertyChangedEventArgs';global.spiff.PropertyChangedEventArgs=cW;var cX=function(){};cX.__typeName='spiff.PureRender';cX.mixIn=function(ea){var eb=function(ec,ed){return cX.$0(ea,ec,ed)};ea['shouldComponentUpdate']=eb};cX.$0=function(ea,eb,ec){var ed=!tab.MiscUtil.shallowEquals(ea.props,eb)||!tab.MiscUtil.shallowEquals(ea.state,ec);if(!ed){}return ed};global.spiff.PureRender=cX;var cY=function(ea){React.Component.call(this,ea)};cY.__typeName='spiff.PureRenderComponent';cY.$ctor1=function(ea,eb){React.Component.call(this,ea,eb)};global.spiff.PureRenderComponent=cY;var cZ=function(){};cZ.__typeName='spiff.ReactComponentExtensions';cZ.generateUniqueKeys=function(ea){return function(eb,ec){var ed={};for(var ee=0;ee<eb.length;++ee){ed[eb[ee].toString()]=0}for(var ef=0;ef<ec.length;++ef){ed[ec[ef]]=1}return _.map(eb,function(eg){var eh=eg.toString();var ei=ed[eh];if(ei===0){ed[eh]=1;return eh}var ej=null;do ej=[eh,'_',++ei].join('');while(ss.isValue(ed[ej]));ed[eh]=ei;ed[ej]=1;return ej})}};global.spiff.ReactComponentExtensions=cZ;var da=function(){};da.__typeName='spiff.ReactElement';da.div$1=function(ea,eb){return React.DOM.div.apply(null,[{className:ea}].concat(eb))};da.div=function(ea,eb){var ec=(ss.isValue(ea)?ea.join(' '):null);return React.DOM.div.apply(null,[{className:ec}].concat(eb))};da.span$1=function(ea,eb){return React.DOM.span.apply(null,[{className:ea}].concat(eb))};da.span=function(ea,eb){var ec=(ss.isValue(ea)?ea.join(' '):null);return React.DOM.span.apply(null,[{className:ec}].concat(eb))};da.br=function(ea){return React.DOM.br({className:ea})};global.spiff.ReactElement=da;var db=function(ea,eb,ec){var ed=function(ee){this.$5=ss.getDefaultValue(ea);this.$1$1=null;this.$1$2=null;this.set_rootElement($("<div class='tab-ReactView' />"));this.$4(this.get_rootElement().get(0));this.$5=ee;this.$5.add_disposed(ss.mkdel(this,this.$1));this.$5.add_propsUpdated(ss.mkdel(this,this.$0))};ss.registerGenericClassInstance(ed,db,[ea,eb,ec],{get_viewModel:function(){return this.$5},get_rootElement:function(){return this.$1$1},set_rootElement:function(ee){this.$1$1=ee},$3:function(){return this.$1$2},$4:function(ee){this.$1$2=ee},addToDom:function(ee){ee.append(this.$3());this.$2(this.$5.get_props())},onAddedToDom:function(){},$0:function(){this.$2(this.$5.get_props())},$2:function(ee){ReactDOM.render(React.createElement(eb,ee),this.$3())},dispose:function(){ReactDOM.unmountComponentAtNode(this.$3());this.get_rootElement().remove();this.$5.remove_propsUpdated(ss.mkdel(this,this.$0));this.$5.remove_disposed(ss.mkdel(this,this.$1))},$1:function(ee){this.dispose()},addClass:function(ee){this.get_rootElement().addClass(ee)}},function(){return null},function(){return[ss.IDisposable,bH,ss.makeGenericType(cf,[ea])]});ed.$0="<div class='tab-ReactView' />";cO.registerType(ed,ed).call(null);return ed};db.__typeName='spiff.ReactHostView$3';ss.initGenericClass(db,a,3);global.spiff.ReactHostView$3=db;var dc=function(ea,eb,ec){var ed=function(ee,ef,eg){this.$3$1=null;React.Component.call(this,ef,eg);this.set_widget(ee);this.get_widget().add_propertyChanged(ss.mkdel(this,this.handleWidgetPropertyChanged))};ss.registerGenericClassInstance(ed,dc,[ea,eb,ec],{get_widget:function(){return this.$3$1},set_widget:function(ee){this.$3$1=ee},render:function(){return React.DOM.div(null,'')},componentDidMount:function(){var ee=$(ReactDOM.findDOMNode(this));ee.append(this.get_widget().element)},componentWillUnmount:function(){this.get_widget().remove_propertyChanged(ss.mkdel(this,this.handleWidgetPropertyChanged));this.get_widget().dispose()},componentWillReceiveProps:function(ee){this.updateWidgetState(ee)},handleWidgetPropertyChanged:null,updateWidgetState:null},function(){return React.Component},function(){return[]});return ed};dc.__typeName='spiff.ReactSpiffAdapter$3';ss.initGenericClass(dc,a,3);global.spiff.ReactSpiffAdapter$3=dc;var dd=function(ea,eb,ec){this.$5='bottomRight';cH.call(this,ea,eb,false);this.$5=ec};dd.__typeName='spiff.ResizeDragSource';global.spiff.ResizeDragSource=dd;var de=function(ea,eb){ss.makeGenericType(q,[df]).call(this,ea,eb)};de.__typeName='spiff.ScrollableView';de.usingNativeScrollbars=function(){return tab.BrowserSupport.get_isIE()&&tab.BrowserSupport.get_browserVersion()<9};de.createScrollableView=function(ea){if(de.usingNativeScrollbars()){return new cJ(ea)}else if(ea.get_hasCustomIndicator()){return new X(ea)}else{return new ba(ea)}};global.spiff.ScrollableView=de;var df=function(){this.$3=null;this.$4=null;this.$2$1=null;this.$2$2=null;this.isCenteredVertically=false;r.call(this);this.$0(df.get_browserSupportsCustomScrollbars())};df.__typeName='spiff.ScrollableViewModel';df.$ctor1=function(ea){this.$3=null;this.$4=null;this.$2$1=null;this.$2$2=null;this.isCenteredVertically=false;r.call(this);this.$0(ea)};df.get_browserSupportsCustomScrollbars=function(){return!tab.BrowserSupport.get_isIE()||tab.BrowserSupport.get_browserVersion()>8};global.spiff.ScrollableViewModel=df;var dg=function(){};dg.__typeName='spiff.ScrollerType';global.spiff.ScrollerType=dg;var dh=function(ea,eb){React.Component.call(this,ea,eb)};dh.__typeName='spiff.ScrollingComponent';dh.$0=function(ea){var eb=ea.forceScrollerType;if(ss.isNullOrUndefined(eb)){eb=0}return ss.unbox(eb)};dh.createScroller=function(ea,eb){var ec=dh.$0(ea);var ed=dh.$1[ec];if(eb.length===1){return React.createElement(ed,ea,eb[0])}return React.createElement(ed,ea,eb)};global.spiff.ScrollingComponent=dh;var di=function(){this.extraCssClass=null;this.forceScrollerType=null;this.scrollX=false;this.scrollY=false;this.scrollbars=true;this.mouseWheel=true;this.alwaysShowScrollbarsIfScrollable=false;this.onScrollStop=null;this.startingY=null;this.augmentedScrollX=true;this.augmentedScrollY=true};di.__typeName='spiff.ScrollingProps';global.spiff.ScrollingProps=di;var dj=function(ea){ss.makeGenericType(v,[Object]).call(this,ea)};dj.__typeName='spiff.SelectableButtonComponent';global.spiff.SelectableButtonComponent=dj;var dk=function(ea){React.Component.call(this,ea);this.state=this.$1(this.props.selection)};dk.__typeName='spiff.SelectableButtonGroupComponent';dk.getDesiredHeight=function(ea){return $('.tab-vScrollable',ea).get(0).scrollHeight};dk.getMinimumWidth=function(ea){return $('.tab-vScrollable',ea).get(0).scrollWidth};global.spiff.SelectableButtonGroupComponent=dk;var dl=function(){this.label=null;this.getCustomContentBefore=null;this.getCustomContentAfter=null};dl.__typeName='spiff.SelectableButtonGroupItem';global.spiff.SelectableButtonGroupItem=dl;var dm=function(){this.$7=null;this.$9=null;this.$a=0;this.$8='tabSelected';this.$1$1=null;this.$7=[];this.$9={}};dm.__typeName='spiff.SelectableGroup';global.spiff.SelectableGroup=dm;var dn=function(ea,eb,ec){this.$1=false;this.$2=false;this.$0=false;ss.CancelEventArgs.call(this);this.$1=ea;this.$2=eb;this.$0=ec};dn.__typeName='spiff.SelectionEventArgs';global.spiff.SelectionEventArgs=dn;var dp=function(){};dp.__typeName='spiff.SelectionMethod';global.spiff.SelectionMethod=dp;var dq=function(){this.$0=null;this.$0=dB.createEmpty()};dq.__typeName='spiff.SharedWidgetsPointerEventAdapter';global.spiff.SharedWidgetsPointerEventAdapter=dq;var dr=function(ea,eb,ec){this.relativeDom=null;this.cursorPosition=null;this.preferUp=false;this.preferLeft=false;this.minWidth=null;this.additionalMenuClass=null;this.relativeDom=ea;this.cursorPosition=null;this.preferUp=eb;this.preferLeft=false;this.minWidth=ec;this.additionalMenuClass=null};dr.__typeName='spiff.ShowMenuOptions';dr.create=function(ea,eb,ec){return new dr(ea,eb,ec)};dr.preferDownAndLeft=function(ea,eb){var ec=new dr(ea,false,eb);ec.preferLeft=true;return ec};dr.anchorToCursorLocation=function(ea,eb){var ec=new dr(ea,false,null);ec.cursorPosition=eb;return ec};global.spiff.ShowMenuOptions=dr;var ds=function(ea){by.call(this,ea)};ds.__typeName='spiff.SingleSelectGroupSelection';ds.op_Equality=function(ea,eb){if(ds.op_Inequality(ea,null)&&ds.op_Inequality(eb,null)){return ea.groupSize===eb.groupSize&&ea.get_theAllItemIsSelected()===eb.get_theAllItemIsSelected()&&ea.get_selectedCount()===eb.get_selectedCount()&&_.isEqual(ea.get_selectedIndexes(),eb.get_selectedIndexes())}return ds.op_Equality(ea,null)&&ds.op_Equality(eb,null)};ds.op_Inequality=function(ea,eb){return!ds.op_Equality(ea,eb)};ds.buildSingleSelectGroupSelection$1=function(ea){return function(eb,ec){var ed=new ds(eb.length);var ee=eb.length;if(ee===0){}for(var ef=0;ef<ee;++ef){if(ec(eb[ef])){ed.get_selectedIndexes()[ef]=true}}ed.validateAllSelectedState();return ed}};ds.buildSingleSelectGroupSelection=function(ea){return function(eb,ec){var ed=new ds(eb.length);if(ec){ed.handleTapAll()}return ed}};global.spiff.SingleSelectGroupSelection=ds;var dt=function(ea,eb){this.$0=null;this.$1=null;this.$0=ea;this.$1=eb};dt.__typeName='spiff.SpiffBrowserViewport';dt.getViewport=function(ea){if(!ss.staticEquals(dt.getSpiffBrowserViewportFunc,null)){dt.getSpiffBrowserViewportFunc(ea)}else{ea(new dt(null,null))}};global.spiff.SpiffBrowserViewport=dt;var du=function(ea,eb){this.$6=false;React.Component.call(this,ea,eb)};du.__typeName='spiff.StatelessDropdownComponent';global.spiff.StatelessDropdownComponent=du;var dv=function(ea){ci.call(this,dv.$0(ea),'.tab-styled-button-middle');this.set_focusClass('tab-focus');this.set_disabledClass('tab-disabled')};dv.__typeName='spiff.StyledButton';dv.createStyledButton=function(ea,eb,ec,ed){var ee=new dv(ec);ee.set_label(eb);ee.add_click(ea);ee.disposables.add$1(new tab.CallOnDispose(function(){ee.remove_click(ea)}));if(ss.isValue(ed)){ee.tabIndex(ss.unbox(ed))}return ee};dv.$0=function(ea){return $('<span>').addClass('tab-styled-button').addClass(ea).append($('<span>').addClass('tab-styled-button-left')).append($('<span>').addClass('tab-styled-button-middle')).append($('<span>').addClass('tab-styled-button-right'))};global.spiff.StyledButton=dv;var dw=function(ea,eb){ss.makeGenericType(dc,[ci,Object,Object]).call(this,dx.createUnificationLabelButton(ea.clickHandler,ea.label,ea.buttonClass,ss.coalesce(ea.buttonStyle,0),ea.tabIndex),ea,eb);this.get_widget().set_disabled(ss.coalesce(ea.disabled,false));this.get_widget().set_hoverTooltipText(ea.tooltipText)};dw.__typeName='spiff.StyledButtonComponent';global.spiff.StyledButtonComponent=dw;var dx=function(){};dx.__typeName='spiff.StyledTextButton';dx.createUnificationLabelButton=function(ea,eb,ec,ed,ee){var ef=dx.$0(ea,eb,ec,1,ee);var eg;switch(ed){case 0:{eg='tabStyledTextButtonFilledGreen';break}case 1:{eg='tabStyledTextButtonFilledRed';break}case 2:{eg='tabStyledTextButtonFilledGrey';break}case 3:{eg='tabStyledTextButtonOutline';break}default:{eg='';break}}ef.addClass(eg);return ef};dx.createUnificationIconTextButton=function(ea,eb,ec){var ed=new ci($("<span class='tabTextIconButton'><span class='icon'/><span class='label hide'/></span>"),'.label');if(!ss.staticEquals(ea,null)){ed.onClick(function(ee){ea()})}if(!ss.isNullOrEmptyString(eb)){ed.set_label(eb)}if(!ss.isNullOrEmptyString(ec)){ed.addClass(ec)}return ed};dx.createActionButton=function(ea,eb,ec,ed,ee){var ef=dx.$0(ea,eb,ec,ed,ee);ef.addClass('tabStyledTextButtonAction');return ef};dx.$0=function(ea,eb,ec,ed,ee){var ef=ci.newTextButton(ea,eb);ef.addClass('tabStyledTextButton');switch(ed){case 2:{ef.addClass('tabLargeStyledTextButton');break}case 1:{ef.addClass('tabMediumStyledTextButton');break}}ef.addClass(ec);if(ss.isValue(ee)){ef.tabIndex(ss.unbox(ee))}return ef};global.spiff.StyledTextButton=dx;var dy=function(ea){this.$1=new dm;this.$5=null;this.$3={};this.$2=new tab.DisposableHolder;this.$4=null;this.$1$1=null;if(ss.isNullOrUndefined(ea)){ea=new h}this.$5=ea};dy.__typeName='spiff.TabControl';global.spiff.TabControl=dy;var dz=function(ea,eb){this.eventConfig=null;this.handler=null;this.$1=new tab.DisposableHolder;this.$2=0;this.$3=0;this.$4=true;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.eventConfig=eb||{};dA.setHandler(this.eventConfig,'firstTouch',ss.mkdel(this,this.handlePressEvent));dA.setHandler(this.eventConfig,'tap',ss.mkdel(this,this.handleClickEvent));dA.setHandler(this.eventConfig,'rightClick',ss.mkdel(this,this.handleRightClickEvent));this.handler=new dA.$ctor1(ea,this.eventConfig)};dz.__typeName='spiff.TableauClickHandler';dz.target=function(ea){return new dz(ea,null)};dz.targetAndConfig=function(ea,eb){return new dz(ea,eb)};dz.targetAndClick=function(ea,eb){return(new dz(ea,null)).onClick(eb)};dz.targetAndPress=function(ea,eb){return(new dz(ea,null)).onPress(eb)};dz.targetAndRightClick=function(ea,eb){return(new dz(ea,null)).onRightClick(eb)};dz.targetAndDoubleClick=function(ea,eb){return(new dz(ea,null)).onDoubleClick(eb)};global.spiff.TableauClickHandler=dz;var dA=function(){this.handledEvents={};this.isTouch=false;this.config=null;this.mousedown=false;this.lastMouseButtonPressed=null;this.handlingContextMenu=false;this.startEvents={};this.moveEvents={};this.endEvents={};this.outEvents={};this.scrollEvents={};this.cancelEvents={};this.$3={};this.$4=null};dA.__typeName='spiff.TableauEventHandler';dA.$ctor1=function(ea,eb){this.handledEvents={};this.isTouch=false;this.config=null;this.mousedown=false;this.lastMouseButtonPressed=null;this.handlingContextMenu=false;this.startEvents={};this.moveEvents={};this.endEvents={};this.outEvents={};this.scrollEvents={};this.cancelEvents={};this.$3={};this.$4=null;this.config=eb||{};this.config.domElem=ea;this.makeRecognizers(this.config);this.configureDomElem(ea);this.setupPressDrag();this.setupEventNames();this.$0(ea)};dA.$2=function(){return dA.$4};dA.$3=function(ea){if(dA.$4!==ea){dA.$4=ea}};dA.setHandler=function(ea,eb,ec){ea[eb]=ec};dA.removeHandler=function(ea,eb){ea[eb]=null};dA.isHandling=function(ea,eb){var ec=ea;return ss.isValue(ec[eb])};dA.$1=function(ea,eb){return ea[eb]};dA.$0=function(ea){if(ss.isValue(ea)){ea.dispose()}};global.spiff.TableauEventHandler=dA;var dB=function(){this.$2$1=null;dA.call(this);this.setupEventNames();this.set_eventHandlingAttributesForReact(this.$5())};dB.__typeName='spiff.TableauEventHandlerForReact';dB.createEmpty=function(){return new dB};dB.$0=function(ea){if(ss.isNullOrUndefined(dB.$1)){dB.$1={};dB.$1['touchstart']='onTouchStart';dB.$1['touchmove']='onTouchMove';dB.$1['touchend']='onTouchEnd';dB.$1['touchcancel']='onTouchCancel';dB.$1['mousedown']='onMouseDown';dB.$1['mousemove']='onMouseMove';dB.$1['mouseup']='onMouseUp';dB.$1['mouseout']='onMouseOut';dB.$1['scroll']='onScroll';dB.$1['contextmenu']='onContextMenu'}return dB.$1[ea]};global.spiff.TableauEventHandlerForReact=dB;var dC=function(){this.$4={indexOfFirstVisibleSection:0,indexOfLastVisibleSection:0};React.Component.call(this)};dC.__typeName='spiff.TableBody';dC.createTableBody=function(ea){return React.createElement(dC,ea)};global.spiff.TableBody=dC;var dD=function(){this.name=null;this.dataKey=null;this.text=null;this.tooltip=null;this.defaultSortDirection=0;this.resizable=false;this.sortable=false;this.growToFit=false;this.preferredWidth=null;this.preferredCellType=1};dD.__typeName='spiff.TableColumn';global.spiff.TableColumn=dD;var dE=function(){};dE.__typeName='spiff.TableColumnSort';global.spiff.TableColumnSort=dE;var dF=function(){this.$7=0;React.Component.call(this)};dF.__typeName='spiff.TableComponent';dF.createTable=function(ea){return React.createElement(dF,ea)};global.spiff.TableComponent=dF;var dG=function(){this.key=null;this.data=null};dG.__typeName='spiff.TableRow';global.spiff.TableRow=dG;var dH=function(ea){this.disposables=new tab.DisposableHolder;this.domRoot=null;this.domRoot=ea};dH.__typeName='spiff.Template';dH.fromHtml=function(ea){return new dH($(ea))};global.spiff.Template=dH;var dI=function(ea,eb){cY.$ctor1.call(this,ea,eb)};dI.__typeName='spiff.TextDropdownButtonComponent';global.spiff.TextDropdownButtonComponent=dI;var dJ=function(ea,eb,ec,ed,ee){this.$5=null;this.$6=null;this.$4=false;this.$2$1=null;this.$2$2=null;dZ.call(this,ea.get_domRootElement());this.$5=ea;this.$6=eb;this.$5.get_inputElement().val(this.$6);this.$5.get_inputElement().attr('placeholder',ec);this.$5.get_inputElement().attr('title',ec);if(ss.isValue(ed)){var ef='textinput-'+this.get_instanceId();ea.get_inputElement().attr('id',ef);ea.get_inputElement().before($(ss.formatString("<label for='{0}'>{1}</label>",ef,ed)))}if(ee){ea.get_inputElement().attr('readonly','readonly')}this.$5.get_inputElement().on('compositionstart compositionupdate',ss.mkdel(this,function(eg){this.$4=true})).on('compositionend',ss.mkdel(this,function(eg){this.$4=false})).on('keydown',ss.mkdel(this,this.$3)).on('input',ss.mkdel(this,this.$2))};dJ.__typeName='spiff.TextInputView';dJ.newTextInputView=function(ea,eb,ec,ed){var ee=new g;return new dJ(ee,ea,eb,ec,ed)};global.spiff.TextInputView=dJ;var dK=function(ea,eb){this.$c=null;this.$d=null;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=false;u.call(this,ea);this.$d=dK.$0();this.$c=ss.coalesce(eb,'selected')};dK.__typeName='spiff.ToggleButton';dK.createButton=function(ea,eb,ec){var ed=new dK(ea,eb);ed.set_selected(ec.get_toggleValue());var ee=function(ef,eg){if(eg.get_propertyName()==='selected'){ec.raiseToggled()}};ed.add_propertyChanged(ee);ed.disposables.add$1(new tab.CallOnDispose(function(){ed.remove_propertyChanged(ee)}));return ed};dK.$0=function(){dK.$1++;return'toggleBtn-'+dK.$1.toString()};global.spiff.ToggleButton=dK;var dL=function(ea,eb){this.$0=false;this.$2$1=null;this.$2$2=null;r.call(this);this.$0=eb;this.set_data({});this.add_toggled(ea);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_toggled(ea)})))};dL.__typeName='spiff.ToggleButtonViewModel';global.spiff.ToggleButtonViewModel=dL;var dM=function(){};dM.__typeName='spiff.UberPopupHorizontalAlign';global.spiff.UberPopupHorizontalAlign=dM;var dN=function(){};dN.__typeName='spiff.UberPopupHorizontalAttach';global.spiff.UberPopupHorizontalAttach=dN;var dO=function(){};dO.__typeName='spiff.UberPopupMode';global.spiff.UberPopupMode=dO;var dP=function(){this.horizontalAlign=0;this.horizontalAttach=0;this.theme=0;this.preferUp=false;this.coverRelativeElement=false;this.limitPopupHeight=false;this.maxPopupHeight=null;this.additionalClassNames=null;this.isToolbarFlyout=false;this.popupMode=0;this.globalTouchWhitelist=null};dP.__typeName='spiff.UberPopupShowOptions';dP.$ctor1=function(ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek){this.horizontalAlign=0;this.horizontalAttach=0;this.theme=0;this.preferUp=false;this.coverRelativeElement=false;this.limitPopupHeight=false;this.maxPopupHeight=null;this.additionalClassNames=null;this.isToolbarFlyout=false;this.popupMode=0;this.globalTouchWhitelist=null;this.horizontalAlign=ea;this.horizontalAttach=eb;this.theme=ec;this.preferUp=ed;this.coverRelativeElement=ee;this.limitPopupHeight=ef;this.maxPopupHeight=eg;this.additionalClassNames=eh;this.isToolbarFlyout=ei;this.popupMode=ej;this.globalTouchWhitelist=ek};global.spiff.UberPopupShowOptions=dP;var dQ=function(){this.content=null;dH.call(this,$("<div class='tabUberPopup'><div class='tabUberPopupContent'/></div>"));this.content=this.getElementBySelector('.tabUberPopupContent')};dQ.__typeName='spiff.UberPopupTemplate';global.spiff.UberPopupTemplate=dQ;var dR=function(){};dR.__typeName='spiff.UberPopupTheme';global.spiff.UberPopupTheme=dR;var dS=function(ea,eb){this.popupViewModel=null;this.glass=null;this.contentView=null;this.visible=false;ss.makeGenericType(q,[dT]).call(this,ea,eb);this.popupViewModel=ea;this.popupViewModel.add_shown(ss.mkdel(this,this.shown));this.popupViewModel.add_hidden(ss.mkdel(this,this.hidden))};dS.__typeName='spiff.UberPopupView';global.spiff.UberPopupView=dS;var dT=function(ea){this.$0=null;this.$1=null;this.options=new dP;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;r.call(this);this.$1=ea;this.set_resizeContent(function(){});this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hidden(ss.mkdel(this,this.dispose))})))};dT.__typeName='spiff.UberPopupViewModel';dT.$ctor1=function(ea){dT.call(this,function(){return ea})};dT.createForContent=function(ea,eb,ec,ed){var ee=new dT(eb);if(!ss.staticEquals(ec,null)){ee.add_hidden(ec);ee.addDisposables(new tab.CallOnDispose(function(){ee.remove_hidden(ec)}))}ee.set_content(ea);ee.set_disposeOnHide(true);cO.newView(dS).call(null,[ee]);if(ed){ee.disposables.add$1(new tab.CallOnDispose(function(){ea.disposeViewModel()}))}return ee};dT.createForContent$1=function(ea,eb,ec,ed){return dT.createForContent(ea,function(){return eb},ec,ed)};global.spiff.UberPopupViewModel=dT;var dU=function(){};dU.__typeName='spiff.UnificationClassNames';global.spiff.UnificationClassNames=dU;var dV=function(){cC.call(this);this.menuClass='tabMenuUnificationTheme dark';this.itemClass='tabMenuItemUnificationTheme';this.dividerClass='tabMenuItemDividerUnificationTheme'};dV.__typeName='spiff.UnificationDarkMenuTheme';global.spiff.UnificationDarkMenuTheme=dV;var dW=function(){cC.call(this);this.menuClass='tabMenuUnificationTheme light';this.itemClass='tabMenuItemUnificationTheme';this.dividerClass='tabMenuItemDividerUnificationTheme'};dW.__typeName='spiff.UnificationLightMenuTheme';global.spiff.UnificationLightMenuTheme=dW;var dX=function(ea,eb){this.$b=null;React.Component.call(this,ea,eb);this.state=dX.$0(this.props.initialValue)};dX.__typeName='spiff.VerticalSpinnerComponent';dX.$0=function(ea){return{value:ea,pendingValue:ea,displayValue:ea.toString()}};global.spiff.VerticalSpinnerComponent=dX;var dY=function(){this.styleClass='tab-outline-spinner';this.extraCssClass=null;this.label=null;this.initialValue=0;this.maxValue=null;this.minValue=null;this.maxLength=16;this.stepSize=1;this.disabled=false;this.onValueChanged=null;this.actionDelay=0;this.tabIndex=0};dY.__typeName='spiff.VerticalSpinnerProps';global.spiff.VerticalSpinnerProps=dY;var dZ=function(ea){this.disposables=new tab.DisposableHolder;this.$0=0;this.$1=null;this.$1$1=null;this.$1$2=null;this.element=null;this.addedToDom=false;tab.Param.verifyValue(ea,'element');this.element=ea;ea.addClass('tab-widget');ea.data('widgetInstance',this);dZ.$3++;this.$0=dZ.$3};dZ.__typeName='spiff.Widget';dZ.enableTextSelectionOnElement=function(ea){ea.removeClass('tab-unselectable');ea.addClass('tab-selectable');ea.off('.tab-disableSelection')};dZ.disableTextSelectionOnElement=function(ea){if(tab.BrowserSupport.get_isIE()){if(tab.BrowserSupport.get_browserVersion()===9){ea.attr('unselectable','on')}return}if(tab.BrowserSupport.get_isMobile()){return}ea.removeClass('tab-selectable');ea.addClass('tab-unselectable');if(tab.BrowserSupport.get_selectStart()){var eb='selectstart'+'.tab-disableSelection';ea.on(eb,function(ec){if(tab.DomUtil.isFocusableTextElement(ec.target)){return}ec.preventDefault()})}};dZ.findWidget=function(ea,eb){tab.Param.verifyValue(ea,'element');var ec=ea;var ed;eb=eb||dZ;do{ed=ec.data('widgetInstance');if(ss.isValue(ed)&&!ss.isAssignableFrom(eb,ss.getInstanceType(ed))){ed=null}ec=ec.parent('.tab-widget')}while(ss.isNullOrUndefined(ed)&&!ec.is('body')&&ec.length>0);return(ss.isNullOrUndefined(ed)?null:ed)};dZ.getWidgets=function(ea,eb){var ec=[];eb=eb||dZ;var ed;ea.each(function(ee,ef){ed=$(ef).data('widgetInstance');if(ss.isValue(ed)&&ss.isAssignableFrom(eb,ss.getInstanceType(ed))){ec.push(ed)}});return ec};global.spiff.Widget=dZ;ss.initClass(dh,a,{render:null},React.Component);ss.initClass(b,a,{render:function(){var ea=b.$0(this.props);ea.ref='iscroll-component';return React.createElement(bW,ea,this.props.children)}},dh);ss.initClass(c,a,{refresh:function(){IScroll.prototype.refresh.call(this);if(this.$0){var ea=$(this.$2).find('.iScrollHorizontalScrollbar');ea.toggleClass('noScroll',!this.hasHorizontalScroll)}if(this.$1){var eb=$(this.$2).find('.iScrollVerticalScrollbar');eb.toggleClass('noScroll',!this.hasVerticalScroll)}}},IScroll);ss.initClass(dH,a,{getElementsBySelector:function(ea){return this.domRoot.find(ea)},getElementBySelector:function(ea){var eb=this.getElementsBySelector(ea);return eb},dispose:function(){this.disposables.dispose();this.domRoot.remove()},addDisposable:function(ea){if(ss.isValue(ea)){this.disposables.add$1(ea)}}},null,[ss.IDisposable]);ss.initClass(d,a,{$7:function(){return this.$9||(this.$9=this.getElementBySelector('.tabMenuItemNameArea'))}},dH,[ss.IDisposable]);ss.initClass(e,a,{$2:function(ea,eb){switch(ea){case 1:{this.$6.$4=$("<div class='tabMenuItemIcon tabMenuItemCheckIcon'/>");this.$6.domRoot.prepend(this.$6.$4);this.$6.$2=true;break}case 2:{this.$6.$4=$("<div class='tabMenuItemIcon tabMenuItemRadioIcon'/>");this.$6.domRoot.prepend(this.$6.$4);this.$6.$2=true;break}default:{if(ea===0&&!ss.isNullOrEmptyString(eb)){this.$6.$4=$(ss.formatString("<div class='tabMenuItemIcon {0}'/>",eb));this.$6.domRoot.prepend(this.$6.$4);this.$6.$2=true}break}}return this},$3:function(ea){if(ss.isNullOrEmptyString(ea)){return this}this.$6.$5=$(ss.formatString("<span class='tabMenuItemIconTwo {0}'/>",ea));this.$6.$7().append(this.$6.$5);this.$6.$3=true;return this},$1:function(ea){if(ss.isNullOrEmptyString(ea)){return this}this.$6.$0=$("<div class='tabMenuItemDesc'/>");this.$6.$0.text(ea);this.$6.$7().append(this.$6.$0);this.$6.$1=true;return this},$4:function(ea){if(ss.isNullOrUndefined(ea)){return this}this.$6.$8=$("<div class='tabMenuItemSubMenuIcon'/>");this.$6.domRoot.append(this.$6.$8);return this},$5:function(ea){for(var eb=0;eb<ea.length;eb++){var ec=ea[eb];if(ss.isValue(ec)){this.$6.domRoot.addClass(ec)}}return this},$0:function(){var ea=this.$6;this.$6=null;return ea},dispose:function(){this.$6.dispose()}},null,[ss.IDisposable]);ss.initInterface(cd,a,{get_domRootElement:null,get_inputElement:null});ss.initClass(f,a,{get_domRootElement:function(){return this.domRoot},$0:function(){return this.$3},get_inputElement:function(){return this.$2},$1:function(){return this.$4}},dH,[ss.IDisposable,cd]);ss.initClass(g,a,{get_domRootElement:function(){return this.domRoot},get_inputElement:function(){return this.$0}},dH,[ss.IDisposable,cd]);ss.initInterface(cc,a,{get_root:null,get_tabs:null,get_contentArea:null,createTabLabel:null});ss.initClass(h,a,{get_root:function(){return this.domRoot},get_tabs:function(){return this.$1},get_contentArea:function(){return this.$0},createTabLabel:function(ea,eb){return new i}},dH,[ss.IDisposable,cc]);ss.initClass(i,a,{},dH,[ss.IDisposable]);ss.initInterface(bS,a,{get_scrollViewPagePosition:null,get_scrollViewSize:null,scrollToElement:null});ss.initClass(j,a,{get_scrollViewPagePosition:function(){return tab.DomUtil.getElementPosition(this.$0.element)},get_scrollViewSize:function(){return{w:tab.DoubleUtil.roundToInt(this.$0.element.outerWidth()),h:tab.DoubleUtil.roundToInt(this.$0.element.outerHeight())}},scrollToElement:function(ea,eb){var ec=ea.offsetTop;var ed=ec+ea.offsetHeight;var ee=this.$0.get_scrollerY();var ef=ee+tab.DoubleUtil.roundToInt(this.$0.element.height());if(ec<ee){var eg=((ec<=eb)?0:ec);this.$0.scrollTo(this.$0.get_scrollerX(),eg,0,null)}else if(ed>ef){this.$0.scrollTo(this.$0.get_scrollerX(),ee+ed-ef,0,null)}}},null,[bS]);ss.initClass(k,a,{get_scrollViewPagePosition:function(){return tab.DomUtil.getElementPosition(this.$0)},get_scrollViewSize:function(){return{w:this.$0[0].offsetWidth,h:this.$0[0].offsetHeight}},scrollToElement:function(ea,eb){var ec=ea.offsetTop;var ed=ec+ea.offsetHeight;var ee=this.$0.scrollTop();var ef=ee+this.$0[0].offsetHeight;if(ec<ee){var eg=((ec<=eb)?0:ec);this.$0.scrollTop(eg)}else if(ed>ef){this.$0.scrollTop(ee+ed-ef)}}},null,[bS]);ss.initEnum(l,a,{_blank:'_blank',_self:'_self',_top:'_top'},true);ss.initClass(cY,a,{render:null,shouldComponentUpdate:function(ea,eb){return cX.$0(this,ea,eb)}},React.Component);cY.$ctor1.prototype=cY.prototype;ss.initClass(m,a,{render:function(){return React.DOM.div({className:'tab-ArrowDropdownButton'},React.DOM.div({className:'arrow down'}))}},cY);ss.initInterface(cg,a,{add_disposed:null,remove_disposed:null},[ss.IDisposable]);ss.initClass(r,a,{add_disposed:function(ea){this.$1$1=ss.delegateCombine(this.$1$1,ea)},remove_disposed:function(ea){this.$1$1=ss.delegateRemove(this.$1$1,ea)},add_propertyChanged:function(ea){this.$1$2=ss.delegateCombine(this.$1$2,ea)},remove_propertyChanged:function(ea){this.$1$2=ss.delegateRemove(this.$1$2,ea)},dispose:function(){if(ss.isValue(this.$1$1)){this.$1$1(this);this.$1$1=null}this.$1$2=null;this.disposables.dispose()},notifyPropertyChanged:function(ea){if(!ss.staticEquals(this.$1$2,null)){this.$1$2(this,new cW(ea))}},raiseEvent:function(ea,eb){if(ss.isValue(ea)){ea(this,eb||ss.EventArgs.Empty)}},raiseActionEvent$1:function(ea){return function(eb,ec){if(ss.isValue(eb)){eb(ec)}}},raiseActionEvent:function(ea){if(ss.isValue(ea)){ea()}}},null,[ss.IDisposable,cg]);ss.initInterface(bH,a,{addToDom:null,onAddedToDom:null});ss.initClass(dZ,a,{add_disposed:function(ea){this.$1$1=ss.delegateCombine(this.$1$1,ea)},remove_disposed:function(ea){this.$1$1=ss.delegateRemove(this.$1$1,ea)},add_propertyChanged:function(ea){this.$1$2=ss.delegateCombine(this.$1$2,ea)},remove_propertyChanged:function(ea){this.$1$2=ss.delegateRemove(this.$1$2,ea)},get_name:function(){return ss.getTypeFullName(ss.getInstanceType(this))},get_instanceId:function(){return this.$0},get_eventNamespace:function(){return ss.formatString('.{0}_{1}',this.$0,ss.replaceAllString(ss.getTypeFullName(ss.getInstanceType(this)),'.','_'))},get_widgetId:function(){return this.$1},set_widgetId:function(ea){if(!ss.isNullOrEmptyString(this.$1)&&tab.StyleUtil.isValidCssClassName(this.$1)){this.element.removeClass(this.$1)}this.$1=ea;if(!ss.isNullOrEmptyString(this.$1)&&tab.StyleUtil.isValidCssClassName(this.$1)){this.element.addClass(this.$1)}},get_hoverTooltipText:function(){return this.element.attr('title')},set_hoverTooltipText:function(ea){tab.DomUtil.setNativeTooltip(this.element,ea)},enableTextSelection:function(){dZ.enableTextSelectionOnElement(this.element);return this},disableTextSelection:function(){dZ.disableTextSelectionOnElement(this.element);return this},dispose:function(){this.disposables.dispose();this.element.removeData('widgetInstance');this.element.remove();this.onDisposed(ss.EventArgs.Empty)},toString:function(){return this.get_name()},raisePropertyChanged:function(ea){if(ss.isValue(this.$1$2)){this.$1$2(this,new cW(ea))}},createNamespacedEventName:function(ea){return ea+this.get_eventNamespace()},stopPropogationOfInputEvents:function(){tab.DomUtil.stopPropagationOfInputEvents(this.element,this.get_eventNamespace())},handleInputEvents:function(ea){tab.DomUtil.handleInputEvents(this.element,this.get_eventNamespace(),ea)},onDisposed:function(ea){if(ss.isValue(this.$1$1)){this.$1$1(this,ss.EventArgs.Empty)}},addToDom:function(ea){ea.append(this.element);this.onAddedToDom()},onAddedToDom:function(){this.addedToDom=true},addClass:function(ea){this.element.addClass(ea)}},null,[bH,ss.IDisposable]);ss.initClass(t,a,{shouldComponentUpdate:function(ea,eb){return!ss.staticEquals(this.props,ea)||!ss.staticEquals(this.state,eb)},render:function(){var ea=this.props.row;var eb=this.props.colWidths;var ec=[];ec.push('tab-table-brow');if(this.props.showGridLines){ec.push('tab-table-brow-gridline')}if(this.props.isSelected){ec.push(t.$1)}var ed=(ss.isValue(ea)?_.map(this.props.cols,ss.mkdel(this,function(eg,eh){var ei={key:eh,col:eg,row:ea,val:ea.data[eg.dataKey],cssWidth:(ss.isValue(eb)?(eb.widths[eg.name]+'px'):'auto'),reportWidth:this.props.handleReportCellWidth,isSelected:this.props.isSelected};return((eg.preferredCellType===1)?cT.createBodyCell(ei):cN.createBodyCell(ei))})):null);var ee={className:ec.join(' '),style:{height:t.innerHeight,whiteSpace:'nowrap'}};var ef={tap:ss.mkdel(this,this.$0)};return bn.div(ef,{ref:'bodyRow'},[React.DOM.div(ee,ed)])},$0:function(ea){if(!ss.staticEquals(this.props.onClick,null)){this.props.onClick(this.props.row,null)}}},React.Component);ss.initClass(u,a,{add_press:function(ea){this.$2$1=ss.delegateCombine(this.$2$1,ea)},remove_press:function(ea){this.$2$1=ss.delegateRemove(this.$2$1,ea)},add_click:function(ea){this.$2$2=ss.delegateCombine(this.$2$2,ea)},remove_click:function(ea){this.$2$2=ss.delegateRemove(this.$2$2,ea)},add_shiftClick:function(ea){this.$2$3=ss.delegateCombine(this.$2$3,ea)},remove_shiftClick:function(ea){this.$2$3=ss.delegateRemove(this.$2$3,ea)},add_ctrlClick:function(ea){this.$2$4=ss.delegateCombine(this.$2$4,ea)},remove_ctrlClick:function(ea){this.$2$4=ss.delegateRemove(this.$2$4,ea)},add_hover:function(ea){this.$2$5=ss.delegateCombine(this.$2$5,ea)},remove_hover:function(ea){this.$2$5=ss.delegateRemove(this.$2$5,ea)},add_mouseEnter:function(ea){this.$2$6=ss.delegateCombine(this.$2$6,ea)},remove_mouseEnter:function(ea){this.$2$6=ss.delegateRemove(this.$2$6,ea)},add_mouseLeave:function(ea){this.$2$7=ss.delegateCombine(this.$2$7,ea)},remove_mouseLeave:function(ea){this.$2$7=ss.delegateRemove(this.$2$7,ea)},$9:function(ea){this.$2$8=ss.delegateCombine(this.$2$8,ea)},$a:function(ea){this.$2$8=ss.delegateRemove(this.$2$8,ea)},get_disabled:function(){return this.element.prop('disabled')},set_disabled:function(ea){this.element.prop('disabled',ea);this.element.toggleClass(this.$5,ea);if(ea){this.element.removeClass(this.$7)}},get_hoverClass:function(){return this.$7},set_hoverClass:function(ea){this.$7=ea},get_focusClass:function(){return this.$6},set_focusClass:function(ea){this.$6=ea},get_disabledClass:function(){return this.$5},set_disabledClass:function(ea){this.$5=ea},get_context:function(){return this.$4},set_context:function(ea){this.$4=ea},get_tableauClickHandler:function(){return this.$8},tabIndex:function(ea){this.element.attr('tabindex',ea.toString());return this},onClick:function(ea){var eb=ss.mkdel(this,function(){ea(this)});this.add_click(eb);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_click(eb)}))},onDoubleClick:function(ea){this.$8.onDoubleClick(ss.mkdel(this,this.handleDoubleClick));var eb=ss.mkdel(this,function(){ea(this)});this.$9(eb);return new tab.CallOnDispose(ss.mkdel(this,function(){this.$a(eb)}))},onShiftClick:function(ea){var eb=ss.mkdel(this,function(){ea(this)});this.add_shiftClick(eb);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_shiftClick(eb)}))},onMouseEnter:function(ea){var eb=ss.mkdel(this,function(){ea(this)});this.add_mouseEnter(eb);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_mouseEnter(eb)}))},onMouseMove:function(ea){var eb=ss.mkdel(this,function(){ea(this)});this.add_hover(eb);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hover(eb)}))},onMouseLeave:function(ea){var eb=ss.mkdel(this,function(){ea(this)});this.add_mouseLeave(eb);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_mouseLeave(eb)}))},$2:function(){this.element.focusin(ss.mkdel(this,this.handleFocusIn)).focusout(ss.mkdel(this,this.handleFocusOut)).keypress(ss.mkdel(this,this.$3));this.disposables.add$1(bq.bindWithDispose(this.element,'mouseenter',ss.mkdel(this,this.handleMouseEnter)));var ea={};ea.hoverDelay=0;dA.setHandler(ea,'mouseleave',ss.mkdel(this,this.handleMouseLeave));dA.setHandler(ea,'hover',ss.mkdel(this,this.handleHover));this.$8=dz.targetAndConfig(this.element.get(0),ea).onClick(ss.mkdel(this,this.handleClick)).onPress(ss.mkdel(this,this.handlePress));this.disposables.add$1(this.$8)},raiseEvent:function(ea){if(ss.isValue(ea)){ea()}},$3:function(ea){if(ea.which===13){bq.stopEvent(ea);this.handleClick(null)}if(ea.which===32){bq.stopEvent(ea);this.handleClick(null)}},handleFocusOut:function(ea){this.element.removeClass(this.$6)},handleFocusIn:function(ea){this.element.addClass(this.$6)},handleHover:function(){if(!this.get_disabled()){this.element.addClass(this.$7)}this.raiseEvent(this.$2$5)},handleMouseEnter:function(ea){this.raiseEvent(this.$2$6)},handleMouseLeave:function(){this.element.removeClass(this.$7);this.raiseEvent(this.$2$7)},handleClick:function(ea){if(this.get_disabled()){return}if(ss.isValue(this.$2$3)&&ss.isValue(ea)&&ea.shiftKey){this.raiseEvent(this.$2$3)}else if(ss.isValue(this.$2$4)&&bq.isCtrlKey(ea)){this.raiseEvent(this.$2$4)}else{this.raiseEvent(this.$2$2)}},handleDoubleClick:function(ea){if(this.get_disabled()){return}this.raiseEvent(this.$2$8)},handlePress:function(){if(this.get_disabled()){return}this.raiseEvent(this.$2$1)}},dZ,[bH,ss.IDisposable]);ss.initClass(w,a,{},ss.makeGenericType(v,[Object]));ss.initEnum(x,a,{medium:1,large:2});ss.initEnum(y,a,{numberCell:0,plainTextCell:1});ss.initClass(z,a,{$1:function(ea){var eb=this.props;eb.onCheckboxClicked(eb.row);bq.stopEvent(ea)},render:function(){var ea=this.props;var eb=[];eb.push('tb-checkbox');if(ea.isSelected){eb.push('tb-checked')}return React.DOM.span({className:'tb-checkbox-cell'},React.DOM.span({className:eb.join(' ')}))}},ss.makeGenericType(s,[Object]));ss.initClass(A,a,{updateWidgetState:function(ea){this.get_widget().set_label(ea.label);this.get_widget().set_disabled(ea.disabled);this.get_widget().set_selected(ea.isSelected)},handleWidgetPropertyChanged:function(ea,eb){if(eb.get_propertyName()==='selected'){if(!ss.staticEquals(null,this.props.onSelectedChanged)&&this.props.isSelected!==this.get_widget().get_selected()){this.props.onSelectedChanged(this.get_widget().get_selected())}}}},ss.makeGenericType(dc,[cj,Object,Object]));ss.initClass(dJ,a,{add_enterKeyPressed:function(ea){this.$2$1=ss.delegateCombine(this.$2$1,ea)},remove_enterKeyPressed:function(ea){this.$2$1=ss.delegateRemove(this.$2$1,ea)},add_escapeKeyPressed:function(ea){this.$2$2=ss.delegateCombine(this.$2$2,ea)},remove_escapeKeyPressed:function(ea){this.$2$2=ss.delegateRemove(this.$2$2,ea)},get_text:function(){return this.$6},set_text:function(ea){if(ss.referenceEquals(this.$6,ea)){return}this.get_inputElement().val(ea).trigger('input')},get_inputElement:function(){return this.$5.get_inputElement()},$2:function(ea){var eb=this.get_inputElement().val();if(!ss.referenceEquals(this.$6,eb)){this.$6=eb;this.raisePropertyChanged('text')}},$3:function(ea){if(this.$4){return}switch(ea.which){case 13:{if(!ss.staticEquals(this.$2$1,null)){this.$2$1()}break}case 27:{if(!ss.staticEquals(this.$2$2,null)){this.$2$2()}break}}}},dZ,[bH,ss.IDisposable]);ss.initClass(B,a,{add_clearButtonClicked:function(ea){this.$3$1=ss.delegateCombine(this.$3$1,ea)},remove_clearButtonClicked:function(ea){this.$3$1=ss.delegateRemove(this.$3$1,ea)},get_dom:function(){return this.$a},get_searchBoxClearButton:function(){return this.$b},$7:function(){if(!ss.isNullOrEmptyString(this.get_text())){this.$a.get_searchBoxClear().show();this.$a.get_inputElementContainer().addClass('clearButtonOn')}else{this.$a.get_searchBoxClear().hide();this.$a.get_inputElementContainer().removeClass('clearButtonOn')}},$9:function(ea,eb){this.$7()},$8:function(ea){this.set_text('');if(!ss.staticEquals(this.$3$1,null)){this.$3$1()}}},dJ,[bH,ss.IDisposable]);ss.initClass(C,a,{get_domRootElement:function(){return this.domRoot},get_inputElement:function(){return this.$0},get_inputElementContainer:function(){return this.$1},get_searchBoxClear:function(){return this.$2}},dH,[ss.IDisposable,cd]);ss.initClass(D,a,{});ss.initClass(E,a,{$j:function(ea){this.$1$1=ss.delegateCombine(this.$1$1,ea)},$k:function(ea){this.$1$1=ss.delegateRemove(this.$1$1,ea)},$h:function(ea){this.$1$2=ss.delegateCombine(this.$1$2,ea)},$i:function(ea){this.$1$2=ss.delegateRemove(this.$1$2,ea)},$l:function(ea){this.$1$3=ss.delegateCombine(this.$1$3,ea)},$m:function(ea){this.$1$3=ss.delegateRemove(this.$1$3,ea)},get_target:function(){return this.$g},dispose:function(){this.$8();this.$b.dispose();if(!ss.isValue(this.$g)){return}this.$g.off('.'+this.$c);this.$g=null},onPress:function(ea){this.$j(ea);this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$k(ea)})));return this},onClick:function(ea){this.$h(ea);this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$i(ea)})));return this},onRightClick:function(ea){this.$l(ea);this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$m(ea)})));return this},setTarget:function(ea){this.$g=ea;ea.on(this.$0('touchstart'),ss.mkdel(this,this.$7));this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){ea.off(this.$0('touchstart'))})));if(tsConfig.is_mobile){if(!tsConfig.is_touch){ea.on(this.$0('mousedown'),ss.mkdel(this,this.$3)).on(this.$0('click'),ss.mkdel(this,this.$2));this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){ea.off(this.$0('mousedown')).off(this.$0('click'))})))}}else{ea.on(this.$0('mousedown'),ss.mkdel(this,this.$3)).on(this.$0('click'),ss.mkdel(this,this.$2)).on(this.$0('contextmenu'),ss.mkdel(this,this.$2));this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){ea.off(this.$0('mousedown')).off(this.$0('click')).off(this.$0('contextmenu'))})))}return this},$0:function(ea){return ea+'.'+this.$c},$8:function(){if(ss.isValue(this.$g)){this.$g.off(this.$0('touchend'));this.$g.off(this.$0('touchcancel'))}if(ss.isValue(this.$d)){document.body.removeEventListener('touchmove'.toString(),this.$d,true);this.$d=null}this.$a=tab.MiscUtil.clearTimeout(this.$a)},$3:function(ea){this.$e=ea.pageX;this.$f=ea.pageY;this.$9();if(ss.isValue(this.$1$1)){this.$1$1(ea)}},$1:function(ea){var eb=(ss.isValue(ea)?ea['originalEvent']:null);if(ss.isValue(eb)&&ss.isValue(eb.touches)&&ss.isValue(eb.touches[0])){return eb.touches[0]}return null},$7:function(ea){if(!tsConfig.is_mobile){if(tab.DomUtil.handleTouchEvents(ea.target)){ea.preventDefault()}else{return}}var eb=this.$1(ea);var ec=0;var ed=0;if(ss.isValue(eb)){ec=ss.coalesce(eb.pageX,0);ed=ss.coalesce(eb.pageY,0)}this.$g.on(this.$0('touchend'),ss.mkdel(this,this.$5));this.$g.on(this.$0('touchcancel'),ss.mkdel(this,this.$4));this.$9();if(tab.BrowserSupport.get_addEventListener()){this.$d=ss.thisFix(ss.mkdel(this,this.$6));document.body.addEventListener('touchmove'.toString(),this.$d,true)}this.$e=ec;this.$f=ed;if(ss.isValue(this.$1$1)){this.$1$1(ea)}},$5:function(ea){if(!tsConfig.is_mobile){if(tab.DomUtil.handleTouchEvents(ea.target)){ea.preventDefault()}else{return}}this.$2(ea)},$9:function(){this.$a=tab.MiscUtil.clearTimeout(this.$a);this.$a=window.setTimeout(ss.mkdel(this,this.$8),300)},$6:function(ea,eb){var ec=eb;if(!tsConfig.is_mobile){if(tab.DomUtil.handleTouchEvents(ea)){eb.preventDefault()}else{return}}var ed=ec.touches[0].pageX;var ee=ec.touches[0].pageY;if(Math.abs(ed-this.$e)>10||Math.abs(ee-this.$f)>10){this.$8()}},$4:function(ea){if(!tsConfig.is_mobile){if(tab.DomUtil.handleTouchEvents(ea.target)){ea.preventDefault()}else{return}}this.$8()},$2:function(ea){ea.stopPropagation();this.$8();if(ea.type==='contextmenu'){ea.preventDefault();if(ss.isValue(this.$1$3)){this.$1$3(ea)}}else{if(ss.isValue(this.$1$2)){this.$1$2(ea)}if(ea.type==='touchend'){D.preventGhostClick(this.$e,this.$f)}}}},null,[ss.IDisposable]);ss.initClass(F,a,{render:function(){var ea=$.extend(new Object,this.props);ea.onSelectionChanged=ss.mkdel(this,function(ee){this.onSelect(ee,this.props.onSelectionChanged)});var eb=React.createElement(dk,ea);var ec=new Object;ec.isSelecting=this.state.isSelecting;ec.getDesiredHeight=dk.getDesiredHeight;ec.getMinimumWidth=dk.getMinimumWidth;ec.onSelectorToggled=ss.mkdel(this,this.$1);ec.onFocusLost=ss.mkdel(this,this.$0);ec.renderButton=ss.mkdel(this,function(){return React.createElement(dI,{styleClass:this.props.styleClass,selectionIconClass:this.props.selectedIconClass,selectionText:this.props.selectedText})});var ed=React.createElement(du,ec,eb);return ed},onSelect:function(ea,eb){var ec=new M;ec.isSelecting=false;this.setState(ec);if(!ss.staticEquals(eb,null)){eb(ea)}},$1:function(){if(!this.props.enabled){var ea=new M;ea.isSelecting=false;this.setState(ea)}else{var eb=new M;eb.isSelecting=!this.state.isSelecting;this.setState(eb)}},$0:function(){var ea=new M;ea.isSelecting=false;this.setState(ea)}},React.Component);ss.initClass(cC,a,{});ss.initClass(G,a,{},cC);ss.initClass(H,a,{get_iconClass:function(){return this.$2},get_name:function(){return this.$3},get_data:function(){return this.$0},get_description:function(){return this.$1},asMenuItem:function(){return cv.newItemWithIconAndDescription(this,this.get_name(),this.get_iconClass(),this.get_description())}});ss.initClass(I,a,{},cC);ss.initEnum(J,a,{standard:0,dropdown:1,unification:2});ss.initClass(K,a,{},Object);ss.initEnum(L,a,{standard:0,autoFit:1});ss.initClass(M,a,{});ss.initClass(N,a,{},dH,[ss.IDisposable]);ss.initEnum(O,a,{standard:0,compact:1,unification:2,lineAndArrow:3});ss.initClass(P,a,{$8:function(){this.$c.icon.removeClass('tabComboBoxNoIconPressed');this.$c.domRoot.removeClass('pressed')},$9:function(ea){if(!this.$d.get_enabled()){return}this.$c.domRoot.addClass('pressed');if(this.$d.get_showDropdownIcon()){this.$c.icon.addClass('tabComboBoxNoIconPressed')}this.$d.comboClicked(this.$c.domRoot)},$a:function(ea){var eb=0;switch(ea.which){case 40:{eb=1;break}case 38:{eb=-1;break}default:{return}}ea.preventDefault();ea.stopPropagation();var ec=ss.indexOf(this.$d.get_items(),this.$d.get_selectedItem());if(ec<0){return}ec+=eb;if(ec>=0&&ec<this.$d.get_items().length){this.$d.set_selectedItem(this.$d.get_items()[ec])}},$b:function(ea){if(ss.isInstanceOfType(ea,U)){return}this.$c.icon.remove();if(ss.isNullOrUndefined(ea)){var eb=(ss.isValue(this.$d.get_summary())?this.$d.get_summary():'&nbsp;');this.$c.name.html(eb);return}this.$c.icon=$('<span/>').addClass('tabComboBoxIcon').addClass(ea.get_iconClass()).appendTo(this.$c.domRoot);if(!ss.isValue(ea.get_iconClass())){this.$c.domRoot.addClass('tabComboBoxNoIcon')}this.$c.name.text(ea.get_name())},$7:function(){this.$b(this.$d.get_selectedItem())},$5:function(){this.$c.domRoot.toggleClass('disabled',!this.$d.get_enabled())},$6:function(){this.$c.domRoot.toggleClass('invalid',this.$d.get_isSelectionInvalid())},onAddedToDom:function(){dZ.prototype.onAddedToDom.call(this);if(this.$d.get_sizing()===1){var ea=cO.newView(cA).call(null,[this.$d.get_menu()]);var eb=$('<div>').css({visibility:'hidden',position:'absolute',left:0+'px',top:0+'px'});$(document.body).append(eb);ea.addToDom(eb);this.$c.domRoot.css({width:ea.element.width()+'px'});ea.dispose();eb.remove()}}},ss.makeGenericType(q,[Q]),[bH,ss.IDisposable,ss.makeGenericType(cf,[Q])]);ss.initClass(Q,a,{add_itemsChanged:function(ea){this.$3$1=ss.delegateCombine(this.$3$1,ea)},remove_itemsChanged:function(ea){this.$3$1=ss.delegateRemove(this.$3$1,ea)},add_selectedItemChanged:function(ea){this.$3$2=ss.delegateCombine(this.$3$2,ea)},remove_selectedItemChanged:function(ea){this.$3$2=ss.delegateRemove(this.$3$2,ea)},add_menuHidden:function(ea){this.$3$3=ss.delegateCombine(this.$3$3,ea)},remove_menuHidden:function(ea){this.$3$3=ss.delegateRemove(this.$3$3,ea)},add_enabledChanged:function(ea){this.$3$4=ss.delegateCombine(this.$3$4,ea)},remove_enabledChanged:function(ea){this.$3$4=ss.delegateRemove(this.$3$4,ea)},add_isSelectionInvalidChanged:function(ea){this.$3$5=ss.delegateCombine(this.$3$5,ea)},remove_isSelectionInvalidChanged:function(ea){this.$3$5=ss.delegateRemove(this.$3$5,ea)},get_theme:function(){return this.$p},set_theme:function(ea){this.$p=ea},get_menu:function(){if(ss.isNullOrUndefined(this.$d)){this.$4()}return this.$d},get_menuTheme:function(){return this.$j},set_menuTheme:function(ea){this.$j=ea},get_sizing:function(){return this.$n},set_sizing:function(ea){this.$n=ea},get_menuStyleClass:function(){return this.$i},set_menuStyleClass:function(ea){this.$i=ea},get_items:function(){return this.$h},get_selectedItem:function(){return this.$k},set_selectedItem:function(ea){if(ss.referenceEquals(this.$k,ea)&&!this.get_allowSetToSameValue()){return}this.$k=ea;this.$9();this.raiseActionEvent$1(H).call(this,this.$3$2,this.$k)},get_summary:function(){return this.$o},set_summary:function(ea){this.$o=ea},get_showSelectedItem:function(){return this.$m},set_showSelectedItem:function(ea){this.$m=ea},get_showDropdownIcon:function(){return this.$l},set_showDropdownIcon:function(ea){this.$l=ea},get_enabled:function(){return this.$e},set_enabled:function(ea){if(this.$e===ea){return}this.$e=ea;this.$9();this.raiseActionEvent(this.$3$4)},get_isSelectionInvalid:function(){return this.$g},set_isSelectionInvalid:function(ea){if(this.$g===ea){return}this.$g=ea;this.raiseActionEvent(this.$3$5)},get_additionalMenuClass:function(){return this.$c},set_additionalMenuClass:function(ea){this.$c=ea},get_allowSetToSameValue:function(){return this.$3$6},set_allowSetToSameValue:function(ea){this.$3$6=ea},get_selectedText:function(){return(ss.isValue(this.get_selectedItem())?this.get_selectedItem().get_name():'')},get_selectedIconClass:function(){return(ss.isValue(this.get_selectedItem())?this.get_selectedItem().get_iconClass():'')},$a:function(){var ea=this.get_items();for(var eb=0;eb<ea.length;eb++){var ec=ea[eb];if(!tab.MiscUtil.isNullOrEmpty$1(ec.get_iconClass())){return true}}return false},$b:function(){var ea='tab-unification-line-arrow-dropdown';if(!this.get_enabled()){ea+=' disabled'}if(this.$a()){ea+=' '+this.$f}return ea},dispose:function(){if(ss.isValue(this.$d)){this.$d.dispose()}r.prototype.dispose.call(this);this.$d=null},setItems:function(ea){ss.clear(this.$h);var eb=ss.getEnumerator(ea);try{while(eb.moveNext()){var ec=eb.current();this.$h.push(ec)}}finally{eb.dispose()}this.$7();this.$9()},setItemsWithInitialSelection:function(ea,eb){ss.clear(this.$h);var ec=ss.getEnumerator(ea);try{while(ec.moveNext()){var ed=ec.current();this.$h.push(ed)}}finally{ec.dispose()}this.$k=eb;this.$7();this.$9()},addItem:function(ea){this.$h.push(ea);this.$7();this.$9()},clearItems:function(){ss.clear(this.$h);this.$7();this.set_selectedItem(null);this.$9()},updateCurrentMenu:function(){if(this.$h.length===0||!this.$e||!ss.isValue(this.$d)){return}this.$0();this.$d.set_menu(new cu(this.menuItems));this.$d.set_selectedItem(this.selectedMenuItem)},$4:function(){if(this.$h.length===0||!this.$e){return}this.$0();this.$d=cB.createForMenu(new cu(this.menuItems),ss.mkdel(this,this.$5),this.$1(),null);this.$d.set_selectedItem(this.selectedMenuItem);this.$d.set_focusedItem(this.selectedMenuItem);this.$d.add_hidden(ss.mkdel(this,this.$8))},comboClicked:function(ea){if(this.$h.length===0||!this.$e){return}this.$4();this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_hidden(ss.mkdel(this,this.$8))})));var eb=dr.create(ea,false);eb.minWidth=tab.DoubleUtil.roundToInt(ea.outerWidth(false));eb.additionalMenuClass='tabComboBoxMenu';if(ss.isValue(this.$c)){eb.additionalMenuClass+=' '+this.$c}this.$d.show(eb)},$9:function(){if(this.generateProps){this.updateProps$1(this.$2())}},$0:function(){var ea=[];var eb=null;if(ss.isValue(this.$h)){for(var ec=0;ec<this.$h.length;ec++){var ed=this.$h[ec];if(this.$m||!ss.referenceEquals(ed,this.$k)){var ee=ed.asMenuItem();if(ss.referenceEquals(ed,this.$k)){eb=ee}ea.push(ee)}}}this.menuItems=ea;this.selectedMenuItem=eb},$1:function(){switch(this.$j){case 0:{return new I}case 1:{return new G(this.get_menuStyleClass())}case 2:{return new dW}default:{return new I}}},$8:function(){if(ss.isValue(this.$3$3)){this.$3$3()}},$7:function(){if(ss.isValue(this.$3$1)){this.$3$1()}},$5:function(ea){var eb=ea.data;this.set_selectedItem(eb)},$6:function(ea){this.set_selectedItem(ea.mapSelected(H).call(ea,ss.mkdel(this,function(eb){return this.get_items()[eb]}))[0])},$3:function(ea){return F.createCustomIconElements(ea.get_iconClass())},$2:function(){var ea=new K;ea.items=_.map(this.get_items(),ss.mkdel(this,function(eb){var ec=new dl;ec.label=eb.get_name();ec.getCustomContentBefore=ss.mkdel(this,function(){return this.$3(eb)});return ec}));ea.selection=ds.buildSingleSelectGroupSelection$1(H).call(null,Array.prototype.slice.call(this.get_items()),ss.mkdel(this,function(eb){return ss.equals(eb,this.get_selectedItem())}));ea.selectedText=this.get_selectedText();ea.selectedIconClass=this.get_selectedIconClass();ea.onSelectionChanged=ss.mkdel(this,this.$6);ea.hasAnyIcons=this.$a();ea.styleClass=this.$b();ea.enabled=this.get_enabled();return ea}},ss.makeGenericType(n,[K]),[ss.IDisposable,cg,ss.makeGenericType(bU,[K])]);ss.initClass(R,a,{add_inputTextChanged:function(ea){this.$2$1=ss.delegateCombine(this.$2$1,ea)},remove_inputTextChanged:function(ea){this.$2$1=ss.delegateRemove(this.$2$1,ea)},add_listItemClicked:function(ea){this.$2$2=ss.delegateCombine(this.$2$2,ea)},remove_listItemClicked:function(ea){this.$2$2=ss.delegateRemove(this.$2$2,ea)},add_listItemMouseEnter:function(ea){this.$2$3=ss.delegateCombine(this.$2$3,ea)},remove_listItemMouseEnter:function(ea){this.$2$3=ss.delegateRemove(this.$2$3,ea)},add_listItemMouseMove:function(ea){this.$2$4=ss.delegateCombine(this.$2$4,ea)},remove_listItemMouseMove:function(ea){this.$2$4=ss.delegateRemove(this.$2$4,ea)},add_textInputElementClicked:function(ea){this.$2$5=ss.delegateCombine(this.$2$5,ea)},remove_textInputElementClicked:function(ea){this.$2$5=ss.delegateRemove(this.$2$5,ea)},add_textInputClearButtonClicked:function(ea){this.$2$6=ss.delegateCombine(this.$2$6,ea)},remove_textInputClearButtonClicked:function(ea){this.$2$6=ss.delegateRemove(this.$2$6,ea)},add_textInputSearchButtonClicked:function(ea){this.$2$7=ss.delegateCombine(this.$2$7,ea)},remove_textInputSearchButtonClicked:function(ea){this.$2$7=ss.delegateRemove(this.$2$7,ea)},get_template:function(){return this.compositeSearchWidgetTemplate.get_template()},get_domRoot:function(){return this.compositeSearchWidgetTemplate.get_domRootElement()},get_textInputView:function(){return this.compositeSearchWidgetTemplate.get_textInputView()},get_searchButton:function(){return this.compositeSearchWidgetTemplate.get_searchButton()},get_clearButton:function(){return this.compositeSearchWidgetTemplate.get_clearButton()},get_listViewModel:function(){return this.$2$8},set_listViewModel:function(ea){this.$2$8=ea},setPlaceholderText:function(ea){this.get_textInputView().get_inputElement().attr('placeholder',ea)},showList:function(ea,eb,ec){this.removeList();if(ea.length>0){this.set_listViewModel(new cV(ea,eb,0));if(!ss.staticEquals(this.$2$2,null)){this.get_listViewModel().add_selectionChanged(ss.mkdel(this,function(){this.$2$2(this.get_listViewModel().get_firstSelectedItem())}))}if(!ss.staticEquals(this.$2$3,null)){this.get_listViewModel().add_listItemMouseEnter(ss.mkdel(this,function(ee){this.$2$3(ee)}))}if(!ss.staticEquals(this.$2$4,null)){this.get_listViewModel().add_listItemMouseMove(ss.mkdel(this,function(ee){this.$2$4(ee)}))}var ed=new cU(this.get_listViewModel());ed.addClass('tabCompositeSearchWidgetList');ed.addToDom(ec||this.get_domRoot())}},showListInsideUberPopup:function(ea,eb,ec,ed,ee){if(ea.length<=0){this.removeList();return}this.set_listViewModel(new cV(ea,eb,0));if(!ss.staticEquals(this.$2$2,null)){this.get_listViewModel().add_selectionChanged(ss.mkdel(this,function(){this.$2$2(this.get_listViewModel().get_firstSelectedItem())}))}if(!ss.staticEquals(this.$2$3,null)){this.get_listViewModel().add_listItemMouseEnter(ss.mkdel(this,function(ei){this.$2$3(ei)}))}if(!ss.staticEquals(this.$2$4,null)){this.get_listViewModel().add_listItemMouseMove(ss.mkdel(this,function(ei){this.$2$4(ei)}))}if(ss.isNullOrUndefined(this.$8)){this.$8=dT.createForContent$1(this.get_listViewModel(),ec,null,true);this.$8.set_resizeContent(ss.mkdel(this,this.$5));var ef=(ss.isValue(ed)?['tabCompositeSearchWidgetList',ed]:['tabCompositeSearchWidgetList']);var eg=this.$8;var eh=new dP;eh.additionalClassNames=ef;eh.globalTouchWhitelist=[this.get_textInputView().element.get(0),this.get_searchButton().element.get(0),this.get_clearButton().element.get(0)];eh.horizontalAttach=1;eh.limitPopupHeight=true;eh.maxPopupHeight=ee;eh.popupMode=1;eh.theme=1;eg.options=eh;this.$8.add_hidden(ss.mkdel(this,function(){this.$8=null;this.handleRemoveList()}));this.$8.show()}else{this.$8.set_content(this.get_listViewModel())}},$5:function(ea,eb){var ec=ea.children('.tab-list').eq(0);var ed=ec.prop('scrollHeight');if(ed<1){eb.show();ed=ec.prop('scrollHeight');eb.hide()}var ee=this.$8.get_relativeElement().outerWidth();ec.css('min-width',ee+'px').css('max-width',Math.max(ee,400)+'px');var ef=this.$8.options;if(ss.isValue(ef.maxPopupHeight)&&ed>ss.unbox(ef.maxPopupHeight)){ec.css('overflow-y','scroll')}},removeList:function(){if(ss.isValue(this.$8)){this.$8.hide(false)}else{this.handleRemoveList()}},handleRemoveList:function(){if(ss.isValue(this.get_listViewModel())){this.get_listViewModel().dispose();this.set_listViewModel(null)}},$2:function(){this.get_textInputView().get_inputElement().focus();this.get_textInputView().set_text('');if(!ss.staticEquals(this.$2$6,null)){this.$2$6()}},$6:function(){if(!ss.staticEquals(this.$2$7,null)){this.$2$7()}},setSearchText:function(ea){this.$7=true;this.get_textInputView().set_text(ea);this.$7=false},$3:function(ea,eb){if(!ss.staticEquals(this.$2$1,null)&&!this.$7){this.$2$1(this.get_textInputView().get_text())}},$4:function(ea){this.get_textInputView().get_inputElement().get(0).focus();if(!ss.staticEquals(this.$2$5,null)){this.$2$5()}}},dZ,[bH,ss.IDisposable]);ss.initClass(S,a,{});ss.initInterface(bI,a,{get_template:null,get_domRootElement:null,get_textInputView:null,get_searchButton:null,get_clearButton:null,disposeTemplate:null});ss.initClass(T,a,{get_domRootElement:function(){return this.domRoot},get_template:function(){return this},get_textInputView:function(){return this.searchTextInputView},get_searchButton:function(){return this.$1},get_clearButton:function(){return this.$0},disposeTemplate:function(){this.dispose()}},dH,[ss.IDisposable,bI]);ss.initClass(U,a,{get_domRoot:function(){return this.$4},asMenuItem:function(){return Y.newCustomMenuItem(this.get_domRoot())}},H);ss.initClass(V,a,{setCursor:function(ea){ea.css('cursor',this.$0)}});ss.initClass(bZ,a,{},dH,[ss.IDisposable]);ss.initClass(W,a,{},bZ,[ss.IDisposable]);ss.initClass(de,a,{get_scrollbarBuffer:null,get_scrollerX:null,get_scrollerY:null,scrollTo:null,scrollToElement:null},ss.makeGenericType(q,[df]),[bH,ss.IDisposable,ss.makeGenericType(cf,[df])]);ss.initClass(ca,a,{get_scrollerX:function(){return(ss.isNullOrUndefined(this.scroller)?0:-this.scroller.x)},get_scrollerY:function(){return(ss.isNullOrUndefined(this.scroller)?0:-this.scroller.y)},get_dom:function(){return this.get_template()},get_scrollableViewModel:function(){return this.get_viewModel()},get_scrollbarBuffer:null,get_verticalScrollbar:null,get_horizontalScrollbar:null,addScroller:function(){this.createScroller();this.postCreationScrollerSetup();this.get_dom().scroll.toggleClass('tabScrollerCanScrollX',this.get_scrollableViewModel().get_scrollX());this.get_dom().scroll.toggleClass('tabScrollerCanScrollY',this.get_scrollableViewModel().get_scrollY())},createScroller:null,postCreationScrollerSetup:function(){this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.scroller.destroy()})));this.scroller.on('scrollStart',ss.mkdel(this,this.$8));this.scroller.on('scrollEnd',ss.mkdel(this,this.$7));this.get_dom().scroll.addClass('tabScrollerIScroll');this.disposables.add$1(E.targetAndClick(this.get_verticalScrollbar(),function(ea){ea.stopPropagation()}));this.disposables.add$1(E.targetAndClick(this.get_horizontalScrollbar(),function(ea){ea.stopPropagation()}));this.get_dom().domRoot.on('mousewheel DOMMouseScroll',function(ea){ea.stopPropagation()})},setUpEvents:function(){this.get_scrollableViewModel().add_contentChanged(ss.mkdel(this,this.$5));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_scrollableViewModel().remove_contentChanged(ss.mkdel(this,this.$5))})));this.get_scrollableViewModel().add_refresh(ss.mkdel(this,this.handleRefresh));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_scrollableViewModel().remove_refresh(ss.mkdel(this,this.handleRefresh))})))},onAddedToDom:function(){dZ.prototype.onAddedToDom.call(this);this.addNewContent()},$5:function(){this.get_dom().content.empty();this.addNewContent()},addNewContent:null,handleRefresh:function(){if(this.get_viewModel().get_hasScrollBars()){this.scroller.refresh();this.$6()}else{this.get_verticalScrollbar().addClass('noScroll');this.get_horizontalScrollbar().addClass('noScroll')}},$6:function(){this.get_verticalScrollbar().removeClass('noScroll');if(!this.scroller.hasVerticalScroll){this.get_verticalScrollbar().addClass('noScroll')}this.get_horizontalScrollbar().removeClass('noScroll');if(!this.scroller.hasHorizontalScroll){this.get_horizontalScrollbar().addClass('noScroll')}},$8:function(){if(tsConfig.is_mobile&&(this.scroller.directionX===0||!this.scroller.hasHorizontalScroll)&&(this.scroller.directionY===0||!this.scroller.hasVerticalScroll)){return}if(tab.BrowserSupport.get_mouseCapture()){tab.DomUtil.setCapture(this.get_dom().scroll[0],true);this.scrollEndCleanup.add$1(new tab.CallOnDispose(function(){tab.DomUtil.releaseCapture()}))}else if(tab.BrowserSupport.get_addEventListener()&&!tsConfig.is_mobile){var ea=ss.mkdel(this,function(ec){this.sendEventToScroller(ec)});var eb=ss.mkdel(this,function(ec){var ed=ec.toElement;if(ss.isNullOrUndefined(ed)||ed.nodeName==='HTML'){if('createEvent'in document){var ee=document.createEvent('MouseEvent');ee.initEvent('mouseup',false,false);this.sendEventToScroller(ee)}}});document.addEventListener('mousemove',ea,true);document.addEventListener('mouseup',ea,true);document.addEventListener('mouseout',eb,true);this.scrollEndCleanup.add$1(new tab.CallOnDispose(function(){document.removeEventListener('mousemove',ea,true);document.removeEventListener('mouseup',ea,true);document.removeEventListener('mouseout',eb,true)}))}this.get_dom().scroll.addClass('tabScrolling')},sendEventToScroller:function(ea){this.scroller.handleEvent(ea);for(var eb=0;eb<this.scroller.indicators.length;eb++){var ec=this.scroller.indicators[eb];if(!ss.referenceEquals(ea.type,'mousemove'.toString())||ec.moved){ec.handleEvent(ea)}}},$7:function(){this.scrollEndCleanup.dispose();this.get_dom().scroll.removeClass('tabScrolling')},scrollTo:function(ea,eb,ec,ed){this.scroller.scrollTo(-ea,-eb,ec,ed)},scrollToElement:function(ea,eb,ec,ed){this.scroller.scrollToElement(ea,eb,ec,ed)}},de,[bH,ss.IDisposable,ss.makeGenericType(cf,[df])]);ss.initClass(X,a,{get_scrollbarBuffer:function(){return 0},get_customDom:function(){return this.get_template()},get_verticalScrollbar:function(){return this.get_customDom().verticalScrollbar},get_horizontalScrollbar:function(){return this.get_customDom().horizontalScrollbar},$9:function(){this.get_scrollableViewModel().get_indicatorOptions().resize=false;this.get_scrollableViewModel().add_refresh(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_scrollableViewModel().remove_refresh(ss.mkdel(this,this.$c))})));if(!tsConfig.is_mobile){this.get_scrollableViewModel().get_indicatorOptions().interactive=true}if(this.get_scrollableViewModel().get_scrollY()){this.get_scrollableViewModel().get_indicatorOptions().el=this.get_verticalScrollbar()[0]}else if(this.get_scrollableViewModel().get_scrollX()){this.get_scrollableViewModel().get_indicatorOptions().el=this.get_horizontalScrollbar()[0]}},$a:function(){if(this.get_scrollableViewModel().isCenteredVertically){this.get_customDom().contentWindow.addClass('centeredVertically')}if(this.get_scrollableViewModel().get_hasScrollBars()){this.get_customDom().contentWindow.addClass('scrollable')}},createScroller:function(){this.scroller=new IScroll(this.get_customDom().contentWindow[0],this.get_scrollableViewModel().get_options())},$b:function(){if(tab.BrowserSupport.get_addEventListener()){var ea=ss.mkdel(this,function(eb){this.sendEventToScroller(eb)});if(!tsConfig.is_mobile){this.get_template().domRoot[0].addEventListener('mousewheel',ea,false);this.get_template().domRoot[0].addEventListener('DOMMouseScroll',ea,false);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_template().domRoot[0].removeEventListener('mousewheel',ea,false);this.get_template().domRoot[0].removeEventListener('DOMMouseScroll',ea,false)})))}}},addNewContent:function(){this.get_dom().content.append(this.get_scrollableViewModel().get_content());this.$c();this.handleRefresh()},$c:function(){if(this.get_scrollableViewModel().get_scrollY()){this.get_customDom().verticalScrollbarIndicator.height(X.$0(tab.DoubleUtil.roundToInt(this.get_customDom().verticalScrollbar.height()),tab.DoubleUtil.roundToInt(this.get_customDom().contentWindow.height()),tab.DoubleUtil.roundToInt(this.get_customDom().content.height()))+'px')}else if(this.get_scrollableViewModel().get_scrollX()){this.get_customDom().horizontalScrollbarIndicator.width(X.$0(tab.DoubleUtil.roundToInt(this.get_customDom().horizontalScrollbar.width()),tab.DoubleUtil.roundToInt(this.get_customDom().contentWindow.width()),tab.DoubleUtil.roundToInt(this.get_customDom().content.width()))+'px')}}},ca,[bH,ss.IDisposable,ss.makeGenericType(cf,[df])]);ss.initClass(cv,a,{get_selectable:function(){return this.enabled&&!this.isDivider}});ss.initClass(Y,a,{get_domRoot:function(){return this.$0},set_domRoot:function(ea){this.$0=ea}},cv);ss.initClass(Z,a,{},bZ,[ss.IDisposable]);ss.initClass(ba,a,{get_scrollbarSize:function(){return 9},get_scrollbarBuffer:function(){return 10},get_verticalScrollbar:function(){return this.$a},get_horizontalScrollbar:function(){return this.$9},createScroller:function(){this.scroller=new IScroll(this.get_dom().scroll[0],this.get_scrollableViewModel().get_options());if(this.get_scrollableViewModel().get_scrollY()){this.get_dom().content.css('margin-right',this.get_scrollbarBuffer()+'px')}if(this.get_scrollableViewModel().get_scrollX()){this.get_dom().content.css('margin-bottom',this.get_scrollbarBuffer()+'px')}this.$a=this.get_dom().scroll.find('.iScrollVerticalScrollbar').css('width',this.get_scrollbarSize()+'px');this.$9=this.get_dom().scroll.find('.iScrollHorizontalScrollbar').css('height',this.get_scrollbarSize()+'px')},addNewContent:function(){this.get_dom().content.append(this.get_scrollableViewModel().get_content());this.handleRefresh()}},ca,[bH,ss.IDisposable,ss.makeGenericType(cf,[df])]);ss.initClass(bb,a,{add_closing:function(ea){this.$2$1=ss.delegateCombine(this.$2$1,ea)},remove_closing:function(ea){this.$2$1=ss.delegateRemove(this.$2$1,ea)},add_closed:function(ea){this.$2$2=ss.delegateCombine(this.$2$2,ea)},remove_closed:function(ea){this.$2$2=ss.delegateRemove(this.$2$2,ea)},add_resizeMove:function(ea){this.$2$3=ss.delegateCombine(this.$2$3,ea)},remove_resizeMove:function(ea){this.$2$3=ss.delegateRemove(this.$2$3,ea)},add_resizeEnd:function(ea){this.$2$4=ss.delegateCombine(this.$2$4,ea)},remove_resizeEnd:function(ea){this.$2$4=ss.delegateRemove(this.$2$4,ea)},get_body:function(){return this.$e},set_body:function(ea){if(ss.referenceEquals(this.$e,ea)){return}if(ss.isValue(this.$e)){this.$e.off(this.get_eventNamespace())}this.$e=ea;this.element.find('.tab-dialogBodyContainer').html('').append(ea);this.setInitialFocus()},get_bodyHeight:function(){return tab.DoubleUtil.roundToInt(this.$g.height())},get_position:function(){return{x:this.$m,y:this.$n}},set_position:function(ea){if(this.get_maximized()){return}if(ss.isNullOrUndefined(ea)){this.positionInWindow()}else{this.$m=ea.x;this.$n=ea.y;tab.DomUtil.setElementPosition(this.$g,this.$m,this.$n,null,false);this.$g.css('position','fixed')}this.raisePropertyChanged('position')},get_isActive:function(){return this.$h},set_isActive:function(ea){if(ea!==this.$h){this.$h=ea;this.$g.toggleClass('active',ea);this.raisePropertyChanged('isActive')}},get_draggable:function(){return!this.get_maximized()&&ss.isValue(this.$l)},get_resizeable:function(){return!this.get_maximized()&&ss.isValue(this.$o)},set_resizeable:function(ea){if(this.get_maximized()){return}if(ea){if(ss.isNullOrUndefined(this.$o)){this.$o=new dd(this.$p,this.$g,'bottomRight');this.$o.add_endAction(ss.mkdel(this,this.$b));this.$o.add_moveAction(ss.mkdel(this,this.$c))}this.$g.addClass('resizeable')}else{if(ss.isValue(this.$o)){this.$o.remove_endAction(ss.mkdel(this,this.$b));this.$o.remove_moveAction(ss.mkdel(this,this.$c));this.$o.dispose();this.$o=null}this.$g.removeClass('resizeable')}},get_zIndex:function(){return tab.DomUtil.getComputedZIndex(this.element[0])},set_zIndex:function(ea){this.element.css('z-index',ea.toString())},get_maximized:function(){return this.$j},set_maximized:function(ea){this.$j=ea;this.$g.toggleClass('maximized',ea)},get_startingPositionX:function(){return this.$2$5},set_startingPositionX:function(ea){this.$2$5=ea},get_startingPositionY:function(){return this.$2$6},set_startingPositionY:function(ea){this.$2$6=ea},get_titleUnescaped:function(){return this.get_titleElement().text()},set_titleUnescaped:function(ea){this.get_titleElement().text(ea);if(this.showTitleTooltip){this.get_titleElement().attr('title',this.get_titleElement().text())}},get_isShown:function(){return this.$i},get_setFocusOnShow:function(){return this.$r},set_setFocusOnShow:function(ea){this.$r=ea},get_closeButton:function(){return this.$f},get_closeButtonVisible:function(){return this.element.find('.tab-dialogCloseButton').is(':visible')},set_closeButtonVisible:function(ea){if(ea){this.element.find('.tab-dialogCloseButton').show()}else{this.element.find('.tab-dialogCloseButton').hide()}},get_stayInWindow:function(){return this.get_stayInWindow()},set_stayInWindow:function(ea){if(ea&&!this.$t){this.$2()}else if(!ea){this.$9()}this.$t=ea},get_useClosingAnimation:function(){return this.$v},set_useClosingAnimation:function(ea){this.$v=ea},get_dialogElement:function(){return this.$g},get_titleBarElement:function(){return this.$u},get_titleElement:function(){return this.element.find('.tab-dialogTitle')},get_resizerElement:function(){return this.$p},configMoveDragSource:function(ea){if(ss.isValue(this.$l)){throw new ss.Exception('dialog can only be configured once.')}this.$l=ea(this);if(ss.isValue(this.$l)){this.$l.add_endAction(ss.mkdel(this,this.$8));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$l.remove_endAction(ss.mkdel(this,this.$8));this.$l.dispose()})))}},showSpinner:function(){this.$s.show()},hideSpinner:function(){this.$s.hide()},show:function(){this.ensureAttachedAndSized();this.element.show();this.$i=true;this.moveToTop();if(this.get_setFocusOnShow()){this.setInitialFocus()}this.set_isActive(true)},close:function(ea){this.$a();if(!this.get_isShown()){if(!ss.staticEquals(ea,null)){ea()}return}var eb=new ss.CancelEventArgs;this.onClosing(eb);if(eb.cancel){return}tab.DomUtil.blur();this.$d=ea;if(this.get_useClosingAnimation()){this.element.fadeOut('fast',ss.mkdel(this,this.$3))}else{this.element.hide();this.$3()}},closeAndDispose:function(){this.close(ss.mkdel(this,this.dispose))},$3:function(){this.detach();if(!ss.staticEquals(this.$d,null)){this.$d();this.$d=null}this.onClosed(new ss.EventArgs)},onClosing:function(ea){if(!ss.staticEquals(this.$2$1,null)){this.$2$1(this,ea)}},onClosed:function(ea){if(!ss.staticEquals(this.$2$2,null)){this.$2$2(this,ea)}},isAttached:function(){return ss.referenceEquals(this.element.parent().get(0),document.body)},ensureAttachedAndSized:function(){if(!this.isAttached()){this.element.appendTo(document.body);this.bindToEvents()}this.positionInWindow()},bindToEvents:function(){this.element.on(this.createNamespacedEventName('keydown'),ss.mkdel(this,this.onKeyDown))},$a:function(){this.$k=false;this.$q=false},$4:function(ea,eb){if(!this.$i){return}this.$a();this.$q=true;if(ss.isValue(ea)&&!tab.DomUtil.isEqualOrAncestorOf(this.get_closeButton().element[0],ea.target)&&tab.DomUtil.isEqualOrAncestorOf(this.element[0],ea.target)){this.moveToTop();this.$k=true}},$5:function(ea,eb){if(!this.$i||!this.$q){return}if(this.$k&&tab.DomUtil.isEqualOrAncestorOf(this.element.get(0),ea.target)||ss.isNullOrUndefined(ea)){if(!this.get_isActive()){this.set_isActive(true)}}else{if($('body').children('.tab-glass').length!==0){this.$a();return}this.set_isActive(false)}},unbindEvents:function(){this.element.off(this.get_eventNamespace())},$2:function(){cP.add_orientationChanged(ss.mkdel(this,this.ensureOnScreen));$(window).on(this.createNamespacedEventName('resize'),ss.mkdel(this,function(){this.ensureOnScreen()}))},$9:function(){cP.remove_orientationChanged(ss.mkdel(this,this.ensureOnScreen));$(window).off(this.createNamespacedEventName('resize'))},detach:function(){this.$i=false;this.element.hide();this.element.detach();this.unbindEvents();if(ss.referenceEquals(bb.$8,this)){bb.$8=null}},dispose:function(){if(ss.isValue(this.$f)){this.$f.remove_click(ss.mkdel(this,this.$7));this.$f.dispose();this.$f=null}if(ss.isValue(this.$o)){this.$o.remove_endAction(ss.mkdel(this,this.$b));this.$o.remove_moveAction(ss.mkdel(this,this.$c));this.$o.dispose();this.$o=null}this.$9();this.$i=false;this.$2$2=null;this.$2$1=null;this.unbindEvents();dZ.prototype.dispose.call(this);if(ss.referenceEquals(bb.$8,this)){bb.$8=null}},setInitialFocus:function(){if(this.$i&&!tsConfig.is_mobile_app){var ea=this.element.find('.tab-dialogBodyContainer :tabbable');if(ea.length>0){ea.eq(0).focus()}else{this.$g.eq(0).focus()}}},ensureOnScreen:function(){if(!this.get_isShown()||this.get_maximized()){return}dt.getViewport(ss.mkdel(this,function(ea){var eb=tab.DoubleUtil.roundToInt(this.$g.outerWidth(true));var ec=tab.DoubleUtil.roundToInt(this.$g.outerHeight(true));if(this.get_resizeable()){if(eb>ea.get_dimensions().w){var ed=tab.DoubleUtil.roundToInt(this.$g.width());this.$g.width(ea.get_dimensions().w-(eb-ed));eb=ea.get_dimensions().w}if(ec>ea.get_dimensions().h){var ee=tab.DoubleUtil.roundToInt(this.$g.height());this.$g.height(ea.get_dimensions().h-(ec-ee));ec=ea.get_dimensions().h}}var ef=null;if(this.$m+eb>ea.get_dimensions().w){ef=Math.max(0,ea.get_dimensions().w-eb)}var eg=null;if(this.$n+ec>ea.get_dimensions().h){eg=Math.max(0,ea.get_dimensions().h-ec)}if(ss.isValue(ef)||ss.isValue(eg)){var eh=ef;if(ss.isNullOrUndefined(eh)){eh=this.$m}ef=eh;var ei=eg;if(ss.isNullOrUndefined(ei)){ei=this.$n}eg=ei;this.set_position({x:ss.unbox(ef),y:ss.unbox(eg)})}}))},positionInWindow:function(){this.positionInWindow$1(0,0)},positionInWindow$1:function(ea,eb){if(this.get_maximized()){return}dt.getViewport(ss.mkdel(this,function(ec){var ed=0;var ee=0;var ef=tab.DoubleUtil.roundToInt(this.$g.outerWidth(true))+ea;var eg=tab.DoubleUtil.roundToInt(this.$g.outerHeight(true))+eb;var eh=tab.DoubleUtil.roundToInt($(window).width());var ei=tab.DoubleUtil.roundToInt($(window).height());var ej=0;var ek=0;if(ss.isValue(ec.get_dimensions())){eh=ec.get_dimensions().w;ei=ec.get_dimensions().h;var el=new tab.WindowHelper(window.self);ej=ec.get_dimensions().l-el.get_pageXOffset();ek=ec.get_dimensions().t-el.get_pageYOffset()}if(ss.isValue(this.get_startingPositionX())){var em=Math.min(ss.unbox(this.get_startingPositionX())+ef,eh);ed=Math.max(0,em-ef)}else{ed=Math.max(0,Math.round((eh-ef)/2)+ej)}if(ss.isValue(this.get_startingPositionY())){var en=Math.min(ss.unbox(this.get_startingPositionY())+eg,ei);ee=Math.max(0,en-eg)}else{ee=Math.max(0,Math.round((ei-eg)/2)+ek)}this.set_position({x:ed,y:ee})}))},moveToTop:function(){if(!this.$i){return}this.set_isActive(true);if(ss.isNullOrUndefined(bb.$8)){bb.$8=this}else if(!ss.referenceEquals(bb.$8,this)){bb.$8.set_isActive(false);bb.$8=this;this.element.appendTo(document.body);tab.DomUtil.blur()}},$b:function(ea){if(!ss.staticEquals(this.$2$4,null)){this.$2$4()}this.set_isActive(true);this.$a()},$c:function(ea){if(!ss.staticEquals(this.$2$3,null)){this.$2$3()}},$8:function(ea){this.set_position(tab.PointUtil.fromPosition(this.$g.position()));this.set_isActive(true);this.$a()},$7:function(){this.close(null)},onKeyDown:function(ea){if(ea.which===9){this.$6(ea);return}},$6:function(ea){var eb=this.element.find(':tabbable');var ec=eb.filter(':first');var ed=eb.filter(':last');if(ss.referenceEquals(ea.target,ec[0])&&ea.shiftKey){ed.focusDelayed(1);bq.stopEvent(ea)}else if(ss.referenceEquals(ea.target,ed[0])&&!ea.shiftKey){ec.focusDelayed(1);bq.stopEvent(ea)}}},dZ,[bH,ss.IDisposable]);ss.initClass(bu,a,{$1:function(){return'tab-'+this.type},update:function(ea){if(ss.isValue(ea)){$.extend(this.$2,ea);$(this.$2.domElem).data(this.$1(),this)}},start:function(ea){},move:function(ea){},end:function(ea){},cancel:function(){},$0:function(ea,eb,ec){if(dA.isHandling(this.$2,ea)){var ed=eb;$.extend(ed,ec);ed.gestureName=this.type;ed.$0=ea;var ee=dA.$1(this.$2,ea);ee(ed)}},dispose:function(){this.cancel();$(this.$2.domElem).removeData(this.$1())}},null,[ss.IDisposable]);ss.initClass(bc,a,{start:function(ea){var eb=ea.touches[0];if(ea.touches.length!==this.numTouches){this.reset();return}var ec=this.$c(ea);if(!this.$e(bw.fireGlobalFirstTouch,ea)){return}this.$0('firstTouch',ea,ec);this.$n=eb.pageX;this.$o=eb.pageY;this.$j=true;this.$l=tab.MiscUtil.clearTimeout(this.$l);if(!ss.isValue(this.$f)){this.$m=(new Date).getTime();this.$k=window.setTimeout(ss.mkdel(this,function(){this.$6(ea,ec)}),500);this.$l=window.setTimeout(ss.mkdel(this,function(){this.$7(ea,ec)}),750)}},move:function(ea){if(this.$d(ea)){this.reset()}if(ea.type==='touchmove'){this.$0('touchMove',ea,this.$c(ea))}},end:function(ea){var eb=this.$c(ea);if(this.$h){this.$8(ea,eb)}this.$3();if(this.$j){if(ss.isValue(this.$f)&&ss.unbox(this.$f)){this.$4(ea,eb)}else{this.$a(ea,eb)}}if(ea.type==='contextmenu'){if(!this.$e(bw.fireGlobalRightClick,ea)){return}this.$9(ea,eb)}if(ea.touches.length===0){if(!this.$e(bw.fireGlobalLastTouch,ea)){return}this.$0('lastTouch',ea,eb)}},cancel:function(){this.reset()},reset:function(){this.$3();this.$j=false;this.$f=null;this.$i=false;this.$h=false;this.$g=tab.MiscUtil.clearTimeout(this.$g)},$5:function(ea,eb,ec,ed){this.$0(ea,eb,ec);if(ss.isValue(ed)&&ed['reset']===true){this.reset()}},$4:function(ea,eb){this.$g=tab.MiscUtil.clearTimeout(this.$g);this.$5('doubleTap',ea,eb,ss.mkdict(['reset',true]))},$7:function(ea,eb){this.$i=false;if(!this.$e(bw.fireGlobalPress,ea)){return}this.$5('press',ea,eb,ss.mkdict(['reset',true]));this.$h=true},$6:function(ea,eb){this.$i=true;this.$5('potentialPress',ea,eb)},$8:function(ea,eb){this.$5('pressEnd',ea,eb);this.$h=false},$3:function(){this.$k=tab.MiscUtil.clearTimeout(this.$k);this.$l=tab.MiscUtil.clearTimeout(this.$l);if(this.$i){this.$5('cancelPotentialPress',{},null)}},$a:function(ea,eb){this.$f=true;if(!this.$e(bw.fireGlobalTap,ea)){return}if(dA.isHandling(this.$2,'doubleTap')){this.$g=window.setTimeout(ss.mkdel(this,function(){this.reset();this.$0('cancelPotentialDoubleTap',ea,eb)}),390-this.$b())}else{this.reset()}this.$0('tap',ea,eb)},$9:function(ea,eb){this.$0('rightClick',ea,eb)},$e:function(ea,eb){var ec=false;var ed=ss.mkdel(this,function(ee){this.reset();if(ee){bq.stopEvent(eb)}ec=true});ea(eb,ed);return!ec},$b:function(){var ea=(new Date).getTime()-this.$m;return ea},$d:function(ea){var eb=ea.changedTouches[0];return Math.abs(eb.pageX-this.$n)>this.slop||Math.abs(eb.pageY-this.$o)>this.slop},$c:function(ea){var eb={};eb.pageX=ea.changedTouches[0].pageX;eb.pageY=ea.changedTouches[0].pageY;eb.clientX=ea.changedTouches[0].clientX;eb.clientY=ea.changedTouches[0].clientY;eb.startX=ea.changedTouches[0].pageX;eb.startY=ea.changedTouches[0].pageY;return eb}},bu,[ss.IDisposable]);ss.initClass(bd,a,{asMenuItem:function(){return cv.newDivider()}},H);ss.initEnum(be,a,{useScrollSize:'useScrollSize',useClientSize:'useClientSize'},true);ss.initInterface(bT,a,{handleCapturedMouseMove:null,handleCapturedMouseComplete:null});ss.initClass(bf,a,{start:function(ea){var eb=ea.touches[0];if(ss.isValue(ea.target)&&ea.target.tagName.toUpperCase()==='IMG'&&!tsConfig.is_mobile){ea.preventDefault()}if(ea.touches.length!==this.numTouches){if(this.$6){this.$0('dragEnd',ea,this.$7)}this.$8=null;this.$6=false;this.$5=true;return}if(ss.isValue(this.$8)&&!tsConfig.is_touch){this.end(ea)}this.$5=false;this.$8={pageX:eb.pageX,pageY:eb.pageY};this.$7=this.$8},move:function(ea){if(tab.BrowserSupport.get_isIE()&&tab.BrowserSupport.get_browserVersion()<9&&ss.isValue(ea.target)&&ea.target.tagName.toUpperCase()==='IMG'){ea.preventDefault()}if(this.$5){return}this.$7=this.$3(ea);if(this.$6){this.$0('dragMove',ea,this.$7)}else if(this.$4(ea)){this.$6=true;this.$0('dragStart',ea,this.$7);this.$0('dragMove',ea,this.$7);if(ss.isValue(this.$2.dragEnd)){cE.setCapture(document.body,true,this,false)}}},end:function(ea){var eb;if(!this.$6){if(ea.touches.length!==this.numTouches||ss.isNullOrUndefined(ea.touches[0].identifier)){return}if(!this.$4(ea)){return}this.$8={pageX:ea.touches[0].pageX,pageY:ea.touches[0].pageY};this.$7=this.$8;eb=this.$3(ea);this.$5=false;this.$6=true;this.$0('dragStart',ea,eb);return}cE.releaseCapture();eb=this.$3(ea);this.$6=false;this.$8=null;if(dA.isHandling(this.$2,'dragEnd')){var ec=new cM(ea.originalEvent,null,null);$.extend(ec,this.$7);var ed=function(){bg.cancelDrag(null)};bw.fireGlobalDragEnd(ec,ed)}this.$0('dragEnd',ea,eb)},cancel:function(){this.$5=true},$3:function(ea){var eb=ea.changedTouches[0];if(ss.isNullOrUndefined(this.$8)){this.$8={pageX:ea['pageX'],pageY:ea['pageY']}}if(ss.isNullOrUndefined(this.$7)){this.$7=this.$8}var ec={clientX:eb.clientX,clientY:eb.clientY};if(tab.BrowserSupport.get_isIE()&&tab.BrowserSupport.get_browserVersion()===9&&eb.pageX===0&&eb.pageY===0){ec.pageX=eb.clientX+document.documentElement.scrollLeft;ec.pageY=eb.clientY+document.documentElement.scrollTop}else{ec.pageX=eb.pageX;ec.pageY=eb.pageY}ec.startX=this.$8.pageX;ec.startY=this.$8.pageY;ec.deltaX=ec.pageX-this.$8.pageX;ec.deltaY=ec.pageY-this.$8.pageY;ec.deltaXSinceLast=ec.pageX-this.$7.pageX;ec.deltaYSinceLast=ec.pageY-this.$7.pageY;ec.scale=1;return ec},$4:function(ea){var eb=ea.touches[0];if(ss.isNullOrUndefined(this.$8)){return false}return Math.abs(eb.pageX-this.$8.pageX)>this.slop||Math.abs(eb.pageY-this.$8.pageY)>this.slop},handleCapturedMouseMove:function(ea){var eb=ea['offsetX'];var ec=ea['offsetY'];if(eb<0||eb>document.body.offsetWidth||ec<0||ec>document.body.offsetHeight){var ed=new cM(ea,this.$2.domElem,null);this.move(ed)}},handleCapturedMouseComplete:function(ea){var eb=document.createEvent('MouseEvents');eb.initMouseEvent('mouseup'.toString(),false,true,window.self,null,this.$7.pageX,this.$7.pageY,this.$7.clientX,this.$7.clientY,ea.ctrlKey,ea.altKey,ea.shiftKey,ea.metaKey,null,null);document.body.dispatchEvent(eb)}},bu,[ss.IDisposable,bT]);ss.initClass(bg,a,{});ss.initClass(bh,a,{add_shiftStateChanged:function(ea){this.$1$1=ss.delegateCombine(this.$1$1,ea)},remove_shiftStateChanged:function(ea){this.$1$1=ss.delegateRemove(this.$1$1,ea)},get_payload:function(){return this.draggedObject},get_hasPayload:function(){return ss.isValue(this.draggedObject)},get_isShiftDrag:function(){return this.$1},set_isShiftDrag:function(ea){if(this.$1!==ea){this.$1=ea;if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}},get_dragAvatar:function(){return this.$0},get_dragType:function(){return'dragdrop'},get_readyToDrop:function(){return true},get_defaultDropCursor:function(){return V.noOp},moveTo:function(ea){},endDragAt:function(ea){},payloadEquals:function(ea){if(ss.referenceEquals(this.draggedObject,ea)){return true}if($.isArray(this.draggedObject)){var eb=this.draggedObject;if(eb.length===1&&ss.referenceEquals(eb[0],ea)){return true}}return false},dropToNowhereAction:function(){}});ss.initClass(bv,a,{add_click:function(ea){this.$2$1=ss.delegateCombine(this.$2$1,ea)},remove_click:function(ea){this.$2$1=ss.delegateRemove(this.$2$1,ea)},get_zIndex:function(){return tab.DomUtil.getComputedZIndex(this.element[0])},set_zIndex:function(ea){this.element.css('z-index',ea.toString())},get_opaque:function(){return this.element.hasClass('opaque-glass')},set_opaque:function(ea){this.element.toggleClass('clear-glass',!ea);this.element.toggleClass('opaque-glass',ea)},show:function(){if(!ss.referenceEquals(this.element.parent()[0],this.$3)){this.element.appendTo(this.$3)}if(this.get_opaque()){this.element.toggleClass('glass-fade-in-immediate',true)}this.element.show()},hide:function(){this.element.hide()},setColor:function(ea){this.element.css('background-color',ea)},dispose:function(){if(ss.isValue(this.$2)){this.$2.dispose();this.$2=null}dZ.prototype.dispose.call(this)},handleClick:function(ea){if(ss.isValue(this.$2$1)){this.$2$1()}}},dZ,[bH,ss.IDisposable]);ss.initClass(bi,a,{dispose:function(){bg.unregisterDragGlass(this);bv.prototype.dispose.call(this)},disableHitTests:function(){this.element.css('pointer-events','none')},enableHitTests:function(){this.element.css('pointer-events','auto')}},bv,[bH,ss.IDisposable]);ss.initClass(bj,a,{get_rootElement:function(){return this.$0},get_viewModel:function(){return null},dispose:function(){this.$0=null},addToDom:function(ea){ea.append(this.get_rootElement());this.onAddedToDom()},onAddedToDom:function(){}},null,[ss.IDisposable,bH,ss.makeGenericType(cf,[cg])]);ss.initClass(bk,a,{componentWillReceiveProps:function(ea){if(ea.resetSelector){this.setState({isSelecting:false})}},render:function(){var ea=new Object;ea.isSelecting=this.state.isSelecting;ea.getDesiredHeight=this.props.getDesiredHeight;ea.getMinimumWidth=this.props.getMinimumWidth;ea.children=this.props.children;ea.renderButton=this.props.renderButton;ea.onSelectorToggled=ss.mkdel(this,this.$1);ea.onFocusLost=ss.mkdel(this,this.$0);return React.createElement(du,ea)},$1:function(){this.setState({isSelecting:!this.state.isSelecting})},$0:function(){this.setState({isSelecting:false})}},React.Component);ss.initClass(bl,a,{add_hoverStateChanged:function(ea){this.$3$1=ss.delegateCombine(this.$3$1,ea)},remove_hoverStateChanged:function(ea){this.$3$1=ss.delegateRemove(this.$3$1,ea)},add_editing:function(ea){this.$3$2=ss.delegateCombine(this.$3$2,ea)},remove_editing:function(ea){this.$3$2=ss.delegateRemove(this.$3$2,ea)},add_committed:function(ea){this.$3$3=ss.delegateCombine(this.$3$3,ea)},remove_committed:function(ea){this.$3$3=ss.delegateRemove(this.$3$3,ea)},get_textElement:function(){return this.$9.$0()},get_isEditing:function(){return this.$3$4},set_isEditing:function(ea){this.$3$4=ea},get_textDisplayWidth:function(){return Math.min(tab.DoubleUtil.roundToInt(this.$9.$1().width()),tab.DoubleUtil.roundToInt(this.$9.$0().width()))},$8:function(ea){if(ss.isValue(this.$3$1)){this.$3$1(ea)}},updateTextElement:function(ea){this.$9.$1().text(ea)},edit:function(){this.get_textElement().hide();this.get_inputElement().show();this.get_inputElement().focus();tab.DomUtil.selectAllInputText(this.get_inputElement());this.set_isEditing(true);this.element.addClass('editing');if(ss.isValue(this.$3$2)){this.$3$2()}},commit:function(){this.get_inputElement().hide();this.get_textElement().show();this.set_isEditing(false);this.element.removeClass('editing');if(ss.isValue(this.$3$3)){this.$3$3()}},$7:function(){var ea=tab.DoubleUtil.roundToInt(this.element.parent().height());this.element.height(ea);var eb=this.element.children('div');var ec=tab.DoubleUtil.roundToInt(eb.height());this.get_textElement().css('height',ec+'px');this.get_textElement().css('line-height',ec+'px');this.get_inputElement().css('height',ec+'px');this.get_inputElement().css('line-height',ec+'px')},onAddedToDom:function(){this.$7();dZ.prototype.onAddedToDom.call(this)}},dJ,[bH,ss.IDisposable]);ss.initClass(bm,a,{shouldComponentUpdate:function(ea,eb){return!ss.staticEquals(this.props,ea)||!ss.staticEquals(this.state,eb)},render:function(){return React.DOM.div({className:'tab-table-body tab-table-empty-body'},this.props.emptyChild)}},React.Component);ss.initClass(bn,a,{render:function(){return React.createElement(this.props.tagName,$.extend({},this.$2.get_eventHandlingAttributesForReact(),this.props.htmlAttributes),this.props.children)},componentDidMount:function(){this.$0()},componentDidUpdate:function(){this.$0()},componentWillUnmount:function(){if(ss.isValue(this.$2)){this.$2.dispose()}},$0:function(){if(ss.isValue(this.props.spec)){var ea=ReactDOM.findDOMNode(this);if(!ss.referenceEquals(this.$1,ea)||bn.$1(this.$3,this.props.spec)){this.$2.updateEventHandleSpec(ea,this.props.spec);this.$1=ea;this.$3=this.props.spec}}}},React.Component);ss.initClass(bo,a,{});ss.initEnum(bp,a,{mouse:1,touch:2});ss.initClass(bq,a,{});ss.initClass(by,a,{get_theAllItemIsSelected:function(){return this.allSelected},set_theAllItemIsSelected:function(ea){if(this.groupSize>0){this.allSelected=ea;if(ea===true){this.set_selectedIndexes(null)}else{this.set_selectedIndexes({})}}},get_selectedIndexes:function(){return this.$1$1},set_selectedIndexes:function(ea){this.$1$1=ea},get_selectedCount:function(){return(ss.isValue(this.get_selectedIndexes())?ss.count(Object.keys(this.get_selectedIndexes())):0)},validateAllSelectedState:function(){if(ss.isValue(this.get_selectedIndexes())&&ss.count(Object.keys(this.get_selectedIndexes()))===this.groupSize){this.set_theAllItemIsSelected(true)}},mapSelected:function(ea){return function(eb){return this.mapSelected$1(ea).call(this,eb,true)}},mapSelected$1:function(ea){return function(eb,ec){var ed;if(this.get_theAllItemIsSelected()&&ec){ed=[];var ee=this.groupSize;for(var ef=0;ef<ee;++ef){ed.push(ef)}}else{ed=_.map(this.get_selectedIndexes(),function(eg,eh){return eh}).sort()}return _.map(ed,function(eg){return eb(eg)})}},handleTap:null,handleTapAll:null,isSelected:null,clone:null});ss.initClass(cI,a,{get_selectedCount:function(){return(this.get_theAllItemIsSelected()?this.groupSize:ss.count(Object.keys(this.get_selectedIndexes())))},handleTap:function(ea){if(this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(false);for(var eb=0;eb<this.groupSize;++eb){if(eb!==ea){this.get_selectedIndexes()[eb]=true}}}else if(this.get_selectedIndexes()[ea]){delete this.get_selectedIndexes()[ea]}else{this.get_selectedIndexes()[ea]=true;this.validateAllSelectedState()}},handleTapAll:function(){this.set_theAllItemIsSelected(!this.get_theAllItemIsSelected())},clone:function(){var ea=new cI(this.groupSize);ea.allSelected=this.allSelected;ea.set_selectedIndexes(_.clone(this.get_selectedIndexes()));return ea},isSelected:function(ea){return this.get_theAllItemIsSelected()||ss.isValue(this.get_selectedIndexes())&&ss.keyExists(this.get_selectedIndexes(),ea)},getHashCode:function(){return ss.defaultHashCode(this)},equals:function(ea){return cI.op_Equality(this,ea)}},by);ss.initClass(br,a,{get_selectedCount:function(){return(ss.isValue(this.get_selectedIndexes())?ss.count(Object.keys(this.get_selectedIndexes())):0)},mapSelected:function(ea){return function(eb){return this.mapSelected$1(ea).call(this,eb,false)}},validateAllSelectedState:function(){if(ss.isValue(this.get_selectedIndexes())&&ss.count(Object.keys(this.get_selectedIndexes()))===0){this.set_theAllItemIsSelected(true)}},handleTap:function(ea){if(this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(false);this.get_selectedIndexes()[ea]=true}else if(this.get_selectedIndexes()[ea]){delete this.get_selectedIndexes()[ea];this.validateAllSelectedState()}else{this.get_selectedIndexes()[ea]=true}},handleTapAll:function(){if(this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(false);for(var ea=0;ea<this.groupSize;++ea){this.get_selectedIndexes()[ea]=true}}else{this.set_theAllItemIsSelected(true)}},clone:function(){var ea=new br(this.groupSize);ea.allSelected=this.allSelected;ea.set_selectedIndexes(_.clone(this.get_selectedIndexes()));return ea},isSelected:function(ea){return ss.isValue(this.get_selectedIndexes())&&ss.keyExists(this.get_selectedIndexes(),ea)},getHashCode:function(){return cI.prototype.getHashCode.call(this)},equals:function(ea){return br.op_Equality(this,ea)}},cI);ss.initClass(ds,a,{validateAllSelectedState:function(){if(ss.isValue(this.get_selectedIndexes())&&(ss.count(Object.keys(this.get_selectedIndexes()))===this.groupSize||ss.count(Object.keys(this.get_selectedIndexes()))===0)){{this.set_theAllItemIsSelected(true)}}},handleTap:function(ea){if(this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(false)}if(!this.get_selectedIndexes()[ea]){if(ss.count(Object.keys(this.get_selectedIndexes()))>0){ss.clearKeys(this.get_selectedIndexes())}this.get_selectedIndexes()[ea]=true}this.validateAllSelectedState()},handleTapAll:function(){if(!this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(true)}},clone:function(){var ea=new ds(this.groupSize);ea.allSelected=this.allSelected;ea.set_selectedIndexes(_.clone(this.get_selectedIndexes()));return ea},isSelected:function(ea){return ss.isValue(this.get_selectedIndexes())&&ss.keyExists(this.get_selectedIndexes(),ea)},getHashCode:function(){return ss.defaultHashCode(this)},equals:function(ea){return ds.op_Equality(this,ea)}},by);ss.initClass(bs,a,{mapSelected:function(ea){return function(eb){return this.mapSelected$1(ea).call(this,eb,false)}},validateAllSelectedState:function(){if(ss.isValue(this.get_selectedIndexes())&&ss.count(Object.keys(this.get_selectedIndexes()))===0){this.set_theAllItemIsSelected(true)}},clone:function(){var ea=new bs(this.groupSize);ea.allSelected=this.allSelected;ea.set_selectedIndexes(_.clone(this.get_selectedIndexes()));return ea},getHashCode:function(){return ds.prototype.getHashCode.call(this)},equals:function(ea){return bs.op_Equality(this,ea)}},ds);ss.initClass(bt,a,{render:function(){return React.DOM.span({title:this.props.fixedValue},this.props.fixedValue)}},ss.makeGenericType(s,[Object]));ss.initClass(bw,a,{});ss.initClass(bx,a,{});ss.initClass(bz,a,{componentWillMount:function(){this.setState(this.$2)},$1:function(ea){ea.preventDefault()},shouldComponentUpdate:function(ea,eb){return!ss.staticEquals(this.props,ea)||!ss.staticEquals(this.state,eb)},render:function(){var ea=this.props.col;var eb=ea.sortable;var ec=ea.resizable;var ed=[];var ee='';ed.push('tab-table-hcell');if(eb){ed.push('tab-table-hcell-sortable')}if(this.props.sorted){var ef=(this.props.sortAscending?'tab-table-hcell-sort-asc':'tab-table-hcell-sort-desc');ed.push(ef);ee=ef+'-icon'}if(ec){ed.push('tab-table-hcell-resizable')}var eg={className:ed.join(' ')};if(ss.isValue(ea.tooltip)){eg.title=ea.tooltip}var eh=React.DOM.span({className:'tab-table-hcell-text'},ea.text);var ei={className:'tab-table-hdivider tb-disable-selection'};var ej={tap:ss.mkdel(this,function(ek){if(eb&&!ss.staticEquals(this.props.onHeaderClicked,null)){this.props.onHeaderClicked(ea.dataKey,ea.defaultSortDirection)}})};return React.DOM.span({className:'tab-table-hcol',style:{width:this.props.cssWidth}},React.DOM.div({className:ee}),bn.div(ej,{},[React.DOM.div(eg,eh)]),(!ea.resizable?null:React.DOM.div(ei)))},componentDidMount:function(){if(ss.staticEquals(this.props.reportWidth,null)){return}var ea=this.$0();this.props.reportWidth(this.props.col.name,ea)},$0:function(){var ea=ReactDOM.findDOMNode(this);var eb=ea.getBoundingClientRect();return Math.ceil(eb.right-eb.left)}},React.Component);ss.initClass(bA,a,{componentWillMount:function(){this.$0={}},componentDidMount:function(){if(!ss.staticEquals(this.props.measureColumnWidths,null)){this.props.measureColumnWidths(this.$0)}},handleReportHeaderWidth:function(ea,eb){this.$0[ea]=Math.max(eb,(ss.keyExists(this.$0,ea)?this.$0[ea]:0))},shouldComponentUpdate:function(ea,eb){return!ss.staticEquals(this.props,ea)||!ss.staticEquals(this.state,eb)},render:function(){var ea=ss.arrayClone(this.props.cols);var eb=this.props.colWidths;var ec=ss.mkdel(this,function(ef,eg){this.handleReportHeaderWidth(ef,eg)});var ed=this.props.onColumnResize;var ee=_.map(ea,ss.mkdel(this,function(ef){return bz.createHeaderColumn({key:ef.name,col:ef,sorted:ss.referenceEquals(this.props.sortKey,ef.dataKey),sortAscending:this.props.sortAscending,reportWidth:function(eg,eh){if(ss.isNullOrUndefined(ef.preferredWidth)){ec(eg,eh)}},cssWidth:(ss.isValue(eb)?(eb.widths[ef.name]+'px'):'auto'),onColumnResize:ed,onHeaderClicked:this.props.onHeaderClicked})}));return React.DOM.div({className:'tab-table-hrow'},React.DOM.span({className:'tab-table-hcols'},ee))}},React.Component);ss.initEnum(bB,a,{left:0,right:1});ss.initClass(bC,a,{render:function(){var ea=React.DOM.div({className:'tab-unification-spinner-btn-group tab-unification-spinner-btn-group-horizontal'},bn.div({tap:ss.mkdel(this,function(eb){this.$0(0)})},{className:'tab-unification-spinner-btn'},[React.DOM.span({className:'tab-img-triangle-left'})]),bn.div({tap:ss.mkdel(this,function(eb){this.$0(1)})},{className:'tab-unification-spinner-btn'},[React.DOM.span({className:'tab-img-triangle-right'})]));ea=React.DOM.div({className:'tab-unification-spinner-ctrl'+(this.props.disabled?' disabled':'')},ea);ea=React.DOM.div({className:this.props.styleClass},ea);if(ss.isValue(this.props.extraCssClass)){ea=React.DOM.div({className:this.props.extraCssClass},ea)}return ea},$0:function(ea){if(this.props.disabled){return}if(!ss.staticEquals(null,this.props.onSpinnerClicked)){this.props.onSpinnerClicked(ea)}}},React.Component);ss.initClass(bD,a,{});ss.initClass(bE,a,{start:function(ea){this.cancel();this.$9=false},move:function(ea){var eb=ea.touches[0];if(!this.$9){return}if(!this.$5(ea)){return}var ec=this.$4(ea);if(ss.isValue(this.$7)){this.cancel()}this.$0('moving',ea,ec);this.$a=eb.pageX;this.$b=eb.pageY;this.$7=window.setTimeout(ss.mkdel(this,function(){if(!this.$8){this.$0('hover',ea,ec)}this.$3()}),this.$6)},end:function(ea){if(ea.touches.length===0){this.$9=true}},out:function(ea){var eb=ea.originalEvent['relatedTarget'];if(!ss.referenceEquals(this.$2.domElem,eb)&&!tab.DomUtil.isAncestorOf(this.$2.domElem,eb)){this.cancel();this.$0('mouseleave',ea,this.$4(ea))}},suppressHover:function(){if(!this.$8){}this.$8=true},unsuppressHover:function(){if(this.$8){}this.$8=false;this.$9=true},cancel:function(){this.$3();this.$a=0;this.$b=0;this.$9=true},$3:function(){this.$7=tab.MiscUtil.clearTimeout(this.$7)},$5:function(ea){var eb=ea.touches[0];var ec=Math.abs(eb.pageX-this.$a);var ed=Math.abs(eb.pageY-this.$b);return ec+ed>this.slop},$4:function(ea){var eb={};eb.pageX=ea.changedTouches[0].pageX;eb.pageY=ea.changedTouches[0].pageY;eb.clientX=ea.changedTouches[0].clientX;eb.clientY=ea.changedTouches[0].clientY;return eb}},bu,[ss.IDisposable]);ss.initClass(bF,a,{});ss.initClass(bG,a,{$3:function(){return ss.formatString('.{0}',ss.replaceAllString(ss.getTypeFullName(ss.getInstanceType(this)),'.','_'))},dispose:function(){if(ss.isNullOrUndefined(this.$7)){return}this.$7.remove_disposed(ss.mkdel(this,this.$2));if(ss.isValue(this.$4)){var ea=this.$7.element;var eb=this.$4;ea.off(this.$3(),eb)}else{this.$7.element.off(this.$3())}this.$7=null},$0:function(ea){if(ss.isValue(this.$5)){this.$5(ea)}},$1:function(ea){if(ss.isValue(this.$6)){this.$6(ea)}},$2:function(ea,eb){this.dispose()}},null,[ss.IDisposable]);ss.initClass(bJ,a,{get_buttonElement:function(){return this.element},setEnabled:function(ea){if(ea){this.get_buttonElement().removeClass('tab-disabled');this.get_buttonElement().addClass('tab-enabled')}else{this.get_buttonElement().removeClass('tab-enabled');this.get_buttonElement().addClass('tab-disabled')}return this},setIcon:function(ea){if(!ss.isValue(this.iconElement)){this.iconElement=$('<span>');this.iconElement.appendTo(this.get_buttonElement())}this.iconElement.removeClass().addClass('tab-iconButtonIcon').addClass(ea);return this}},u,[bH,ss.IDisposable]);ss.initClass(bK,a,{get_className:function(){var ea=['tab-IconBtn'];ea.push(this.props.customClassName);if(this.props.disabled){ea.push('disabled')}return ea.join(' ')},$0:function(){var ea=new bL;ea.isActive=(ss.isValue(this.state)?this.state.isActive:false);return ea},render:function(){return bn.div({tap:ss.mkdel(this,this.$1),firstTouch:ss.mkdel(this,function(ea){if(tsConfig.is_mobile){var eb=new bL;eb.isActive=true;this.setState(eb)}}),lastTouch:ss.mkdel(this,function(ea){if(tsConfig.is_mobile){var eb=new bL;eb.isActive=false;this.setState(eb)}})},{className:this.get_className(),title:this.props.title,onMouseEnter:ss.mkdel(this,function(ea){if(!tsConfig.is_mobile){var eb=new bL;eb.isActive=true;this.setState(eb)}}),onMouseLeave:ss.mkdel(this,function(ea){if(!tsConfig.is_mobile){var eb=new bL;eb.isActive=false;this.setState(eb)}})},[React.DOM.div({className:'tab-Icon '+this.props.iconClassName+(this.state.isActive?' active':'')})])},$1:function(ea){if(!this.props.disabled&&!ss.staticEquals(this.props.onTap,null)){this.props.onTap(ea)}}},React.Component);ss.initClass(bL,a,{});ss.initInterface(bM,a,{dragStarted:null,dragEnded:null});ss.initInterface(bN,a,{startDrag:null});ss.initInterface(bO,a,{get_feedbackType:null,dragOver:null,dragExit:null,acceptDrop:null,getDropTarget:null,getDropCursor:null});ss.initInterface(bP,a,{createListItemContent:null});ss.initInterface(bQ,a,{createListItemDragAvatar:null});ss.initInterface(bR,a,{add_dragStarting:null,remove_dragStarting:null,add_dragEnded:null,remove_dragEnded:null,get_avatarCreator:null,set_avatarCreator:null,startDrag:null});ss.initInterface(bV,a,{get_canScrollX:null,get_canScrollY:null,get_docSize:null,get_actualViewSize:null,set_actualViewSize:null,get_effectiveViewSize:null,get_scrollPos:null,set_scrollPos:null,setXPos:null,setYPos:null});ss.initClass(bW,a,{get_iScroll:function(){return this.$3},render:function(){var ea=['tab-iscroll-component'];if(this.state.hovered){ea.push('hover')}if(this.state.scrolling){ea.push('tabScrolling')}if(ss.isValue(this.props.extraCssClass)){ea.push(this.props.extraCssClass)}if(this.props.alwaysShowScrollbarsIfScrollable){ea.push('showIfScrollable')}var eb=ss.arrayFromEnumerable(ea).join(' ');return React.DOM.div({ref:'iscroll-wrapper',className:eb,onMouseOver:ss.mkdel(this,this.handleOnMouseOver),onMouseOut:ss.mkdel(this,this.handleOnMouseOut)},React.DOM.div({className:'tab-iscroll-content'},this.props.children))},componentDidMount:function(){$(window).on('resize'.toString(),ss.mkdel(this,this.$1));var ea=ReactDOM.findDOMNode(this.refs['iscroll-wrapper']);this.$3=new c(ea,this.props);this.$3.on('scrollStart',ss.mkdel(this,this.handleScrollStart));this.$3.on('scrollEnd',ss.mkdel(this,function(){this.handleScrollStop();this.$0()}));this.$2()},componentWillUnmount:function(){$(window).off('resize'.toString(),ss.mkdel(this,this.$1));this.$3.destroy()},componentDidUpdate:function(ea){if(!ss.referenceEquals(this.props.startingY,ea.startingY)&&ss.isValue(this.props.startingY)){this.get_iScroll().scrollTo(this.get_iScroll().x,ss.unbox(this.props.startingY),0,null);this.$0()}this.$2()},handleOnMouseOver:function(ea){this.setState({hovered:true,scrolling:this.state.scrolling})},handleOnMouseOut:function(ea){this.setState({hovered:false,scrolling:this.state.scrolling})},handleScrollStart:function(){this.setState({hovered:this.state.hovered,scrolling:true})},handleScrollStop:function(){this.setState({hovered:this.state.hovered,scrolling:false})},$1:function(ea){this.$2()},$2:function(){window.setTimeout(ss.mkdel(this,function(){this.$3.refresh()}),this.props.refreshDelay)},$0:function(){if(!ss.staticEquals(this.props.scrollStopCallback,null)){var ea=new Object;ea.x=this.get_iScroll().maxScrollX;ea.y=this.get_iScroll().maxScrollY;var eb=ea;this.props.scrollStopCallback(this.get_iScroll().getComputedPosition(),eb)}}},React.Component);ss.initInterface(bX,a,{get_canScrollX:null,get_canScrollY:null,get_scrollPos:null,get_maxScroll:null,get_visibleArea:null,scrollX:null,scrollY:null,setScrollTarget:null,refresh:null});ss.initClass(bY,a,{});ss.initInterface(cb,a,{add_selectableDisposed:null,remove_selectableDisposed:null,add_selectedChanging:null,remove_selectedChanging:null,add_selectedChanged:null,remove_selectedChanged:null,get_selectionId:null,set_selectionId:null,get_selected:null,set_selected:null,get_selectedClass:null,set_selectedClass:null});ss.initInterface(ce,a,{get_viewType:null,get_viewModel:null,disposeViewModel:null,updateUberPopupViewModel:null});ss.initClass(ch,a,{});ss.initClass(ci,a,{get_labelElement:function(){return this.element.find(this.$b)},get_label:function(){return this.get_labelElement().text()},set_label:function(ea){this.get_labelElement().text(ea);if(ss.isNullOrEmptyString(ea)){this.get_labelElement().addClass('hide')}else{this.get_labelElement().removeClass('hide')}},setLabelContents:function(ea){if(ss.isValue(ea)){this.get_labelElement().html(ea);this.get_labelElement().removeClass('hide')}else{this.get_labelElement().html('');this.get_labelElement().addClass('hide')}}},u,[bH,ss.IDisposable]);ss.initClass(dK,a,{add_selectableDisposed:function(ea){this.$3$1=ss.delegateCombine(this.$3$1,ea)},remove_selectableDisposed:function(ea){this.$3$1=ss.delegateRemove(this.$3$1,ea)},add_selectedChanging:function(ea){this.$3$2=ss.delegateCombine(this.$3$2,ea)},remove_selectedChanging:function(ea){this.$3$2=ss.delegateRemove(this.$3$2,ea)},add_selectedChanged:function(ea){this.$3$3=ss.delegateCombine(this.$3$3,ea)},remove_selectedChanged:function(ea){this.$3$3=ss.delegateRemove(this.$3$3,ea)},get_selectedClass:function(){return this.$c},set_selectedClass:function(ea){if(ss.referenceEquals(this.$c,ea)){return}if(this.get_selected()){this.element.toggleClass(this.$c,false);this.element.toggleClass(ea,true)}this.$c=ea},get_selectionId:function(){return this.$d},set_selectionId:function(ea){this.$d=ea},get_selected:function(){return this.element.hasClass(this.$c)},set_selected:function(ea){if(this.get_selected()===ea){return}this.element.toggleClass(this.$c,ea);this.raisePropertyChanged('selected');this.$b(this.$3$3,null)},get_preventMouseDeselect:function(){return this.$3$4},set_preventMouseDeselect:function(ea){this.$3$4=ea},handleClick:function(ea){if(this.get_disabled()){return}var eb=!this.get_selected();if(this.get_preventMouseDeselect()&&!eb){return}if(!ss.staticEquals(this.$3$2,null)){var ec=new dn(eb,ss.isValue(ea)&&ea.shiftKey,bq.isCtrlKey(ea));this.$3$2(this,ec);if(ec.cancel){return}}this.set_selected(eb);u.prototype.handleClick.call(this,ea)},$b:function(ea,eb){if(!ss.staticEquals(ea,null)){ea(this,eb)}},onDisposed:function(ea){this.$b(this.$3$1,null);dZ.prototype.onDisposed.call(this,ea)}},u,[bH,ss.IDisposable,cb]);ss.initClass(cj,a,{get_labelElement:function(){return this.element.find(this.$e)},get_inputElement:function(){return this.element.find('input')},get_label:function(){return this.get_labelElement().text()},set_label:function(ea){this.get_labelElement().text(ea);if(ss.isNullOrEmptyString(ea)){this.get_labelElement().addClass('hide')}else{this.get_labelElement().removeClass('hide')}},get_selected:function(){return dK.prototype.get_selected.call(this)},set_selected:function(ea){if(this.get_selected()===ea){return}var eb=this.get_inputElement();if(ss.isValue(eb)){eb.prop('checked',(ea?'checked':''))}dK.prototype.set_selected.call(this,ea)},get_disabled:function(){return u.prototype.get_disabled.call(this)},set_disabled:function(ea){var eb=this.get_inputElement();if(ss.isValue(eb)){eb.prop('disabled',ea)}u.prototype.set_disabled.call(this,ea)}},dK,[bH,ss.IDisposable,cb]);ss.initClass(cl,a,{get_parentListView:function(){return this.$1$1},set_parentListView:function(ea){this.$1$1=ea},get_draggableListItemView:function(){return this.$1$2},set_draggableListItemView:function(ea){this.$1$2=ea},startDrag:function(ea){if(ss.isNullOrUndefined(this.get_parentListView())||ss.isNullOrUndefined(this.get_draggableListItemView())||ss.isNullOrUndefined(this.get_parentListView().get_dragFeedback())){return null}return this.get_parentListView().get_dragFeedback().startDrag(this.get_parentListView(),this.get_draggableListItemView())}},null,[bN]);ss.initClass(dm,a,{add_selectionChanged:function(ea){this.$1$1=ss.delegateCombine(this.$1$1,ea)},remove_selectionChanged:function(ea){this.$1$1=ss.delegateRemove(this.$1$1,ea)},get_selectedClass:function(){return this.$8},set_selectedClass:function(ea){this.$8=ea},get_selectionType:function(){return this.$a},set_selectionType:function(ea){this.$a=ea},get_items:function(){return this.$7},get_selectedItems:function(){var ea=[];var eb=ss.getEnumerator(Object.keys(this.$9));try{while(eb.moveNext()){var ec=eb.current();ea.push(this.$9[ec])}}finally{eb.dispose()}return ea},get_selectedItem:function(){if(this.get_numberOfSelectedItems()===0){return null}var ea=Object.keys(this.$9)[0];return this.$9[ea]},get_numberOfSelectedItems:function(){return ss.getKeyCount(this.$9)},addItem:function(ea){ea.set_selectedClass(this.$8);this.$7.push(ea);if(ea.get_selected()){this.$6(ea,false,false)}this.$0(ea)},containsItem:function(ea){return ss.contains(this.get_items(),ea)},dispose:function(){ss.clearKeys(this.$9);this.get_items().forEach(ss.mkdel(this,this.$5));ss.clear(this.get_items())},onItemDisposed:function(ea,eb){var ec=ea;this.$5(ec);if(this.isItemSelected$1(ec)){delete this.$9[ec.get_selectionId()]}ss.remove(this.$7,ec)},$0:function(ea){ea.add_selectableDisposed(ss.mkdel(this,this.onItemDisposed));ea.add_selectedChanging(ss.mkdel(this,this.handleSelectionChanging));ea.add_selectedChanged(ss.mkdel(this,this.handleSelectionChanged))},$5:function(ea){ea.remove_selectableDisposed(ss.mkdel(this,this.onItemDisposed));ea.remove_selectedChanging(ss.mkdel(this,this.handleSelectionChanging));ea.remove_selectedChanged(ss.mkdel(this,this.handleSelectionChanged))},selectAll:function(){this.selectItems(this.get_items(),false)},isItemSelected$1:function(ea){return ss.isValue(ea)&&ss.keyExists(this.$9,ea.get_selectionId())},isItemSelected:function(ea){return ss.keyExists(this.$9,ea)},selectItem:function(ea){this.$6(ea,false,true)},selectSingleItem:function(ea){this.$6(ea,true,true)},$6:function(ea,eb,ec){var ed=false;if(eb||this.get_selectionType()===0){ed=this.$1(ea)}ed=this.$2(ea)||ed;if(ec&&ed){this.$4()}},selectItems:function(ea,eb){switch(this.get_selectionType()){case 0:{var ec=((ss.isValue(ea)&&ea.length>0)?ea[0]:null);this.selectItem(ec);break}case 1:case 2:{var ed=false;if(eb){ed=this.$1(null)}if(ss.isValue(ea)){for(var ee=0,ef=ea.length;ee<ef;ee++){ed=this.$2(ea[ee])||ed}}if(ed){this.$4()}break}}},$2:function(ea){if(ss.isNullOrUndefined(ea)){return false}if(ss.isNullOrUndefined(ea.get_selectionId())){return false}if(this.isItemSelected$1(ea)){return false}if(!this.containsItem(ea)){return false}this.$9[ea.get_selectionId()]=ea;ea.set_selected(true);return true},clearSelection:function(ea){if(this.$1(ea)){this.$4()}},$1:function(ea){var eb=ss.getKeyCount(this.$9);var ec=ss.getEnumerator(Object.keys(this.$9));try{while(ec.moveNext()){var ed=ec.current();if(ss.isValue(ea)&&ss.referenceEquals(ed,ea.get_selectionId())){continue}this.$3(this.$9[ed])}}finally{ec.dispose()}return eb>0&&ss.getKeyCount(this.$9)!==eb},unselectItem:function(ea){if(!this.isItemSelected$1(ea)){return}this.$3(ea);this.$4()},$3:function(ea){delete this.$9[ea.get_selectionId()];ea.set_selected(false)},handleSelectionChanging:function(ea,eb){var ec=ea;if(eb.get_selecting()){this.selectItem(ec)}else if(this.get_selectionType()!==0){this.unselectItem(ec)}else if(ss.referenceEquals(this.get_selectedItem(),ec)){eb.cancel=true}},handleSelectionChanged:function(ea,eb){var ec=ea;var ed=this.isItemSelected$1(ec);if(ec.get_selected()&&!ed){this.$2(ec)}else if(!ec.get_selected()&&ed){this.$3(ec)}},$4:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}},null,[ss.IDisposable]);ss.initClass(cm,a,{$e:function(ea){this.$d(ss.indexOf(this.get_items(),ea))},$d:function(ea){if(ea<0||ea>=this.get_items().length){return}this.$f=ea;this.$g=null},$b:function(){this.$f=null;this.$g=null},addItem:function(ea){dm.prototype.addItem.call(this,ea);if(ea.get_selected()&&ss.isNullOrUndefined(this.$f)&&this.get_selectionType()===0){this.$e(ea)}},onItemDisposed:function(ea,eb){this.$b();dm.prototype.onItemDisposed.call(this,ea,eb)},dispose:function(){this.$b();dm.prototype.dispose.call(this)},selectItem:function(ea){this.selectItemAtIndex(ss.indexOf(this.get_items(),ea))},selectSingleItem:function(ea){var eb=ss.indexOf(this.get_items(),ea);if(eb<0){return}dm.prototype.selectSingleItem.call(this,ea);this.$d(eb)},selectItemAtIndex:function(ea){dm.prototype.selectItem.call(this,this.get_items()[ea]);this.$d(ea)},selectItems:function(ea,eb){this.$c(ea,eb);this.$g=null},$c:function(ea,eb){dm.prototype.selectItems.call(this,ea,eb)},clearSelection:function(ea){dm.prototype.clearSelection.call(this,ea);this.$b()},selectItemForKey:function(ea,eb){if(this.get_selectionType()===2){return null}if(!ss.isValue(this.$f)){return null}var ec=ea===38;var ed=ea===40;if(ec||ed){if(!this.get_items()[ss.unbox(this.$f)].get_selected()){this.selectItem(this.get_items()[ss.unbox(this.$f)])}var ee=ss.unbox(this.$f)+(ec?-1:1);if(ee<0||ee>=this.get_items().length){return null}if(this.get_selectionType()===1&&eb){var ef=this.$g;if(ss.isValue(this.$g)){var eg=Math.min(ss.unbox(this.$g),ss.unbox(this.$f));var eh=Math.max(ss.unbox(this.$g),ss.unbox(this.$f));if(ee>=eg&&ee<=eh){this.unselectItem(this.get_items()[ss.unbox(this.$f)])}}else{ef=this.$f}this.selectItem(this.get_items()[ee]);this.$g=ef}else{this.selectSingleItem(this.get_items()[ee]);this.$g=null}this.$f=ee;return this.get_items()[ee]}return null},handleSelectionChanging:function(ea,eb){var ec=ea;var ed=ss.indexOf(this.get_items(),ec);if(ed<0){return}if(this.get_selectionType()===0){dm.prototype.handleSelectionChanging.call(this,ea,eb);return}var ee=this.$f;var ef=this.$g;this.$d(ed);if(this.get_selectionType()===2||eb.get_ctrlKey()){if(eb.get_selecting()){this.selectItem(ec)}else{this.unselectItem(ec)}return}if(eb.get_shiftKey()&&(ss.isValue(ee)||ss.isValue(ef))){this.$g=ss.coalesce(ef,ee);var eg=Math.min(ss.unbox(this.$g),ss.unbox(this.$f));var eh=Math.max(ss.unbox(this.$g),ss.unbox(this.$f));var ei=[];for(var ej=eg;ej<=eh;ej++){ei.push(this.get_items()[ej])}this.$c(ei,true);eb.cancel=true;return}this.selectSingleItem(ec);if(ss.referenceEquals(this.get_selectedItem(),ec)){eb.cancel=true}},handleSelectionChanged:function(ea,eb){dm.prototype.handleSelectionChanged.call(this,ea,eb);this.$e(ea)}},dm,[ss.IDisposable]);ss.initClass(cn,a,{get_viewModel:function(){return this.$g},get_selected:function(){return(this.addedToDom?dK.prototype.get_selected.call(this):this.$g.get_selected())},set_selected:function(ea){dK.prototype.set_selected.call(this,ea);this.get_viewModel().set_selected(ea)},get_isInvalid:function(){return this.$g.get_isInvalid()},set_isInvalid:function(ea){this.$f.toggleClass('invalid',ea);this.get_viewModel().set_isInvalid(ea)},get_isBold:function(){return this.$g.get_isBold()},set_isBold:function(ea){this.$f.toggleClass('bold',ea);this.get_viewModel().set_isBold(ea)},get_disabled:function(){return u.prototype.get_disabled.call(this)},set_disabled:function(ea){this.$f.toggleClass(this.get_disabledClass(),ea);u.prototype.set_disabled.call(this,ea)},init:function(){this.set_selected(this.$g.get_selected())},$e:function(ea,eb){switch(eb.get_propertyName()){case'selected':{this.set_selected(this.get_viewModel().get_selected());break}case'invalid':{this.set_isInvalid(this.get_viewModel().get_isInvalid());break}case'bold':{this.set_isBold(this.get_viewModel().get_isBold());break}case'spotlighted':{this.element.toggleClass('tab-list-item-spotlighted',this.get_viewModel().get_spotlighted());break}}}},dK,[bH,ss.IDisposable,cb]);ss.initClass(co,a,{get_id:function(){return this.$2},get_data:function(){return this.$0},get_selected:function(){return this.$5},set_selected:function(ea){if(this.$5===ea){return}this.$5=ea;this.notifyPropertyChanged('selected')},get_isInvalid:function(){return this.$4},set_isInvalid:function(ea){if(this.$4===ea){return}this.$4=ea;this.notifyPropertyChanged('invalid')},get_isBold:function(){return this.$3},set_isBold:function(ea){if(this.$3===ea){return}this.$3=ea;this.notifyPropertyChanged('bold')},get_draggable:function(){return this.$1},set_draggable:function(ea){if(this.$1===ea){return}this.$1=ea;this.notifyPropertyChanged('draggable')},get_spotlighted:function(){return this.$6},set_spotlighted:function(ea){if(this.$6===ea){return}this.$6=ea;this.notifyPropertyChanged('spotlighted')}},r,[ss.IDisposable,cg]);ss.initClass(cp,a,{create:function(){this.$0();var ea=[];for(var eb=0,ec=this.itemDatas.length;eb<ec;eb++){var ed=this.itemIds[eb];var ee=(ss.isValue(this.selectionIndexes)?ss.contains(this.selectionIndexes,eb):false);var ef=(ss.isValue(this.invalidIndexes)?ss.contains(this.invalidIndexes,eb):false);var eg=this.itemDatas[eb];var eh=new co(ed,eg,ee,ef,false);eh.set_draggable(ec>1);var ei=eh;ea.push(ei)}return ea},$0:function(){tab.Param.verifyValue(this.itemDatas,'ItemDatas');tab.Param.verifyValue(this.itemIds,'ItemIds')}});ss.initClass(cq,a,{get_dragFeedback:function(){return this.$3$1},set_dragFeedback:function(ea){this.$3$1=ea},add_listItemsUpdated:function(ea){this.$3$2=ss.delegateCombine(this.$3$2,ea)},remove_listItemsUpdated:function(ea){this.$3$2=ss.delegateRemove(this.$3$2,ea)},get_dom:function(){return this.get_template()},get_domRoot:function(){return this.get_dom().domRoot},get_itemViews:function(){return this.$l},$j:function(){return((this.$l.length>0)?this.$l[0].element[0].offsetTop:0)},get_scrollerPosition:function(){return this.get_scrollHandler().get_scrollViewPagePosition()},get_scrollerSize:function(){return this.get_scrollHandler().get_scrollViewSize()},get_scrollHandler:function(){return this.$m},set_scrollHandler:function(ea){this.$m=ea||new k(this.element)},useScrollableView:function(ea){this.set_scrollHandler(new j(ea))},$5:function(){for(var ea=0;ea<this.get_viewModel().get_collection().length;ea++){var eb={$:this.get_viewModel().get_collection()[ea]};if(ss.isValue(eb.$)){var ec=this.$k.createListItemContent(eb.$);var ed=new cn(ec,eb.$);ed.init();ed.onDoubleClick(ss.mkdel(this,this.$8));ed.set_disabled(!this.get_viewModel().get_enabled());ed.set_isInvalid(eb.$.get_isInvalid());ed.set_isBold(eb.$.get_isBold());ed.onMouseEnter(ss.mkdel({itemViewModel:eb,$this:this},function(ee){this.$this.$a(this.itemViewModel.$)}));ed.onMouseMove(ss.mkdel({itemViewModel:eb,$this:this},function(ee){this.$this.$b(this.itemViewModel.$)}));this.$i(ed);this.$l.push(ed);this.get_viewModel().addItemToGroup(ed);ed.addToDom(this.get_dom().get_listItemContainer());eb.$.add_propertyChanged(ss.mkdel(this,this.$f))}}this.$g(this.$3$2)},$c:function(ea){if(!ss.isValue(ea)){return}this.$h(this.$l[ss.unbox(ea)])},$d:function(ea){if(ss.isValue(ea)){this.$h(this.$l[ss.unbox(ea)])}},$8:function(ea){this.get_viewModel().selectionSubmitted()},$a:function(ea){this.get_viewModel().handleListItemMouseEnter(ea)},$b:function(ea){this.get_viewModel().handleListItemMouseMove(ea)},$9:function(ea){var eb=this.get_viewModel().get_listItemGroup().selectItemForKey(ea.which,ea.shiftKey);if(ss.isValue(eb)){bq.stopEvent(ea);this.$h(eb)}},onViewModelPropertyChanged:function(ea,eb){if(eb.get_propertyName()==='collection'){this.$6();this.get_dom().get_listItemContainer().empty();this.$5()}else if(eb.get_propertyName()==='enabled'){this.$l.forEach(ss.mkdel(this,function(ec){ec.set_disabled(!this.get_viewModel().get_enabled());this.$i(ec)}))}ss.makeGenericType(q,[cs]).prototype.onViewModelPropertyChanged.call(this,ea,eb)},$f:function(ea,eb){if(eb.get_propertyName()==='draggable'){var ec=this.$7(ea);this.$i(ec)}},$i:function(ea){if(ea.get_viewModel().get_draggable()&&!ea.get_disabled()){bg.attachDragSource(ea.element,new cl(this,ea))}else{bg.removeDragSource(ea.element)}},tabIndex:function(ea){this.get_dom().get_listItemContainer().attr('tabindex',ea.toString());return this},showItemAtIndex:function(ea){this.$h(this.get_itemViews()[ea])},$h:function(ea){if(ss.isNullOrUndefined(ea)){return}var eb=ea.element[0];this.$m.scrollToElement(eb,this.$j())},$e:function(ea,eb){if(ea===eb||ea<0||ea>=this.get_itemViews().length||eb<0||eb>=this.get_itemViews().length){return}var ec=this.get_itemViews()[ea];ec.element.hide();if(eb<ea){ec.element.insertBefore(this.get_itemViews()[eb].element)}else{ec.element.insertAfter(this.get_itemViews()[eb].element)}ec.element.fadeIn();ss.removeAt(this.get_itemViews(),ea);ss.insert(this.get_itemViews(),eb,ec)},dispose:function(){this.get_viewModel().remove_selectionModelUpdated(ss.mkdel(this,this.$c));this.get_viewModel().remove_itemMoved(ss.mkdel(this,this.$e));this.$6();ss.makeGenericType(q,[cs]).prototype.dispose.call(this)},$6:function(){this.$l.forEach(ss.mkdel(this,function(ea){ea.get_viewModel().remove_propertyChanged(ss.mkdel(this,this.$f));ea.dispose()}));ss.clear(this.$l)},$g:function(ea){if(ss.isValue(ea)){ea()}},$7:function(ea){for(var eb=0,ec=this.$l.length;eb<ec;eb++){if(ss.referenceEquals(this.$l[eb].get_selectionId(),ea.get_id())){return this.$l[eb]}}return null}},ss.makeGenericType(q,[cs]),[bH,ss.IDisposable,ss.makeGenericType(cf,[cs])]);ss.initClass(cr,a,{add_dragStarting:function(ea){this.$1$1=ss.delegateCombine(this.$1$1,ea)},remove_dragStarting:function(ea){this.$1$1=ss.delegateRemove(this.$1$1,ea)},add_dragEnded:function(ea){this.$1$2=ss.delegateCombine(this.$1$2,ea)},remove_dragEnded:function(ea){this.$1$2=ss.delegateRemove(this.$1$2,ea)},get_dragClassName:function(){return this.$b},set_dragClassName:function(ea){this.$b=ea},get_dragHoverClassName:function(){return this.$c},set_dragHoverClassName:function(ea){this.$c=ea},get_avatarCreator:function(){return this.$1$3},set_avatarCreator:function(ea){this.$1$3=ea},dispose:function(){bg.remove_dragStarted(ss.mkdel(this,this.$8));bg.remove_dragEnded(ss.mkdel(this,this.$7));this.$9();this.$0()},startDrag:function(ea,eb){if(ss.isNullOrUndefined(ea)||ss.isNullOrUndefined(ea.get_itemViews())){return null}var ec=ss.indexOf(ea.get_itemViews(),eb);if(ec<0){return null}this.$5(ea,ec);this.$6(tab.DoubleUtil.roundToInt(this.$e.outerWidth()));this.$e.toggleClass(this.get_dragClassName(),true);this.$a();if(!ss.staticEquals(this.$1$1,null)){this.$1$1(this.$f)}bg.add_dragStarted(ss.mkdel(this,this.$8));bg.add_dragEnded(ss.mkdel(this,this.$7));var ed=this.$1(ea.get_itemViews()[ec]);return new cG(this.$e,ss.mkdel(this,this.$3),ss.mkdel(this,this.$4),ed)},$5:function(ea,eb){this.$k=ea;this.$m=this.$k.get_itemViews().length;this.$j=this.$k.get_scrollerPosition().y;this.$i=this.$j+this.$k.get_scrollerSize().h;this.$n=eb;this.$l=eb;var ec=ea.get_itemViews()[eb];this.$f=ec.get_viewModel();this.$e=ec.element},$6:function(ea){this.$g=this.$2(ea).appendTo($('body')).hide();this.$h=ss.Int32.div(tab.DoubleUtil.roundToInt(this.$g.outerHeight()),2)},$2:function(ea){return $("<div class='tab-list-item-insertion-pointer'>").width(ea)},$1:function(ea){if(ss.isValue(this.get_avatarCreator())){return this.get_avatarCreator().createListItemDragAvatar(ea.get_viewModel())}return new bj(ea)},$8:function(ea){bg.remove_dragStarted(ss.mkdel(this,this.$8));bg.setDragCursor(new V(null,'move'));bg.setDragCursor(new V(null,'-webkit-grabbing'));bg.setDragCursor(new V(null,'-moz-grabbing'));bg.setDragCursor(new V(null,'grabbing'))},$7:function(ea){bg.remove_dragEnded(ss.mkdel(this,this.$7));this.$0();this.$9()},$3:function(ea){if(ss.isNullOrUndefined(this.$e)){return}this.$0();var eb=this.$k.get_itemViews()[this.$l].element;var ec=tab.DomUtil.getElementPosition(eb);var ed=this.$l>0&&(ea.pageY<this.$j||ea.pageY<ec.y);var ee=this.$l<this.$m-1&&(ea.pageY>this.$i||ea.pageY>ec.y+eb.outerHeight());if(!ed&&!ee){return}var ef=(ed?-1:1);this.$l+=ef;this.$k.showItemAtIndex(this.$l);this.$a();this.$d=window.setTimeout(ss.mkdel(this,function(){this.$3(bg.get_lastDragEvent())}),10)},$a:function(){if(this.$l===this.$n){this.$g.hide();this.$e.toggleClass(this.get_dragHoverClassName(),true);return}this.$e.toggleClass(this.get_dragHoverClassName(),false);var ea=this.$k.get_itemViews()[this.$l].element;var eb=tab.DomUtil.getElementPosition(ea);if(this.$l>this.$n){eb.y+=tab.DoubleUtil.roundToInt(ea.outerHeight())}tab.DomUtil.setElementPosition(this.$g,eb.x,eb.y-this.$h,null,false);this.$g.show()},$4:function(ea){this.$0();this.$9();if(this.$n!==this.$l){this.$k.get_viewModel().moveItem(this.$n,this.$l)}if(!ss.staticEquals(this.$1$2,null)){this.$1$2(this.$f,this.$n!==this.$l)}},$9:function(){if(ss.isValue(this.$g)){this.$g.remove();this.$g=null}if(ss.isValue(this.$e)){this.$e.removeClass(this.get_dragHoverClassName());this.$e.removeClass(this.get_dragClassName());this.$e=null}},$0:function(){this.$d=tab.MiscUtil.clearTimeout(this.$d)}},null,[bR,ss.IDisposable]);ss.initClass(cs,a,{add_propsUpdated:function(ea){this.$2$1=ss.delegateCombine(this.$2$1,ea)},remove_propsUpdated:function(ea){this.$2$1=ss.delegateRemove(this.$2$1,ea)},add_selectionChanged:function(ea){this.$2$2=ss.delegateCombine(this.$2$2,ea)},remove_selectionChanged:function(ea){this.$2$2=ss.delegateRemove(this.$2$2,ea)},add_submitSelection:function(ea){this.$2$3=ss.delegateCombine(this.$2$3,ea)},remove_submitSelection:function(ea){this.$2$3=ss.delegateRemove(this.$2$3,ea)},add_listItemMouseEnter:function(ea){this.$2$4=ss.delegateCombine(this.$2$4,ea)},remove_listItemMouseEnter:function(ea){this.$2$4=ss.delegateRemove(this.$2$4,ea)},add_listItemMouseMove:function(ea){this.$2$5=ss.delegateCombine(this.$2$5,ea)},remove_listItemMouseMove:function(ea){this.$2$5=ss.delegateRemove(this.$2$5,ea)},add_selectionModelUpdated:function(ea){this.$2$6=ss.delegateCombine(this.$2$6,ea)},remove_selectionModelUpdated:function(ea){this.$2$6=ss.delegateRemove(this.$2$6,ea)},add_spotlightedItemChanged:function(ea){this.$2$7=ss.delegateCombine(this.$2$7,ea)},remove_spotlightedItemChanged:function(ea){this.$2$7=ss.delegateRemove(this.$2$7,ea)},add_itemMoved:function(ea){this.$2$8=ss.delegateCombine(this.$2$8,ea)},remove_itemMoved:function(ea){this.$2$8=ss.delegateRemove(this.$2$8,ea)},get_originalCollection:function(){return this.$7},get_collection:function(){return this.$5},get_filter:function(){return this.$4},set_filter:function(ea){this.$4=ea;this.$0()},get_sort:function(){return this.$9},set_sort:function(ea){this.$9=ea;this.$0()},$2:function(){return!ss.staticEquals(this.$4,null)||!ss.staticEquals(this.$9,null)},get_props:function(){return this.$8},get_selectionType:function(){return this.$6.get_selectionType()},get_listItemGroup:function(){return this.$6},get_firstSelectedItem:function(){var ea=this.$1(1);return((ea.length>0)?ea[0]:null)},get_selectedItems:function(){return this.$1(this.$6.get_numberOfSelectedItems())},get_enabled:function(){return this.$3},set_enabled:function(ea){if(this.$3===ea){return}this.$3=ea;this.notifyPropertyChanged('enabled')},dispose:function(){this.$6.remove_selectionChanged(ss.mkdel(this,this.onSelectionChanged));this.$6.dispose();ss.clear(this.$7);ss.clear(this.$5);r.prototype.dispose.call(this)},selectionSubmitted:function(){this.raiseActionEvent(this.$2$3)},handleListItemMouseEnter:function(ea){this.raiseActionEvent$1(co).call(this,this.$2$4,ea)},handleListItemMouseMove:function(ea){this.raiseActionEvent$1(co).call(this,this.$2$5,ea)},update:function(ea){this.$7=ss.arrayClone(ea);this.$0();this.$8.items=_.map(this.get_collection(),function(eb){return{data:eb.get_data()}});this.raiseActionEvent(this.$2$1)},addItemToGroup:function(ea){this.$6.addItem(ea)},$0:function(){if(this.$2()){this.$5=(ss.isValue(this.$4)?this.$7.filter(this.$4):ss.arrayClone(this.$7));if(ss.isValue(this.$9)){this.$5.sort(this.$9)}}else{this.$5=this.$7}this.notifyPropertyChanged('collection')},onSelectionChanged:function(){this.raiseActionEvent(this.$2$2)},$1:function(ea){var eb=[];var ec=this.$6.get_numberOfSelectedItems();if(ec===1){eb.push(this.$6.get_selectedItem().get_viewModel());return eb}var ed=Math.min(ec,ea);for(var ee=0,ef=this.get_collection().length;ee<ef&&eb.length<ed;ee++){if(this.$6.isItemSelected(this.get_collection()[ee].get_id())){eb.push(this.get_collection()[ee])}}return eb},setSelectedItems:function(ea){if(this.get_collection().length===0){return}this.$6.remove_selectionChanged(ss.mkdel(this,this.onSelectionChanged));this.get_listItemGroup().clearSelection(null);var eb=null;for(var ec=0,ed=ea.length;ec<ed;ec++){var ee=ea[ec];eb=Math.min(ss.coalesce(eb,ee),ee);this.get_collection()[ee].set_selected(true);if(this.get_listItemGroup().get_selectionType()===0){break}}this.raiseActionEvent$1(ss.makeGenericType(ss.Nullable$1,[ss.Int32])).call(this,this.$2$6,ss.coalesce(eb,0));this.$6.add_selectionChanged(ss.mkdel(this,this.onSelectionChanged))},setInvalidItems:function(ea){for(var eb=0,ec=this.get_collection().length;eb<ec;++eb){this.get_collection()[eb].set_isInvalid(ss.contains(ea,eb))}},selectItemById:function(ea){for(var eb=0,ec=this.get_collection().length;eb<ec;eb++){var ed=this.get_collection()[eb];if(ss.referenceEquals(ed.get_id(),ea)){this.selectItemAtIndex(eb);break}}},selectItemAtIndex:function(ea){this.$6.remove_selectionChanged(ss.mkdel(this,this.onSelectionChanged));var eb=this.get_collection()[ea];var ec=!eb.get_selected();if(this.$6.get_selectionType()===0){this.clearSelection()}eb.set_selected(true);if(ec){this.raiseActionEvent(this.$2$2)}this.raiseActionEvent$1(ss.makeGenericType(ss.Nullable$1,[ss.Int32])).call(this,this.$2$6,ea);this.$6.add_selectionChanged(ss.mkdel(this,this.onSelectionChanged))},clearSpotlighting:function(){if(ss.isValue(this.$a)&&ss.isValue(this.get_collection()[this.$a])){this.get_collection()[this.$a].set_spotlighted(false)}this.$a=null;this.raiseActionEvent$1(ss.makeGenericType(ss.Nullable$1,[ss.Int32])).call(this,this.$2$7,this.$a)},spotlightItemAtIndex:function(ea){if(ss.isValue(this.$a)&&ss.isValue(this.get_collection()[this.$a])){this.get_collection()[this.$a].set_spotlighted(false)}var eb=this.get_collection()[ea];if(ss.isNullOrUndefined(eb)){return}eb.set_spotlighted(true);this.$a=ea;this.raiseActionEvent$1(ss.makeGenericType(ss.Nullable$1,[ss.Int32])).call(this,this.$2$7,this.$a)},clearSelection:function(){this.$6.clearSelection(null)},moveItem:function(ea,eb){if(ea===eb){return}var ec=this.get_collection()[ea];ss.removeAt(this.get_collection(),ea);ss.insert(this.get_collection(),eb,ec);if(!ss.staticEquals(this.$2$8,null)){this.$2$8(ea,eb)}}},r,[ss.IDisposable,cg,ss.makeGenericType(bU,[Object])]);ss.initClass(ct,a,{get_domRootElement:function(){return this.domRoot},get_listItemContainer:function(){return this.$0}},dH,[ss.IDisposable]);ss.initClass(cu,a,{});ss.initEnum(cw,a,{none:0,check:1,radio:2});ss.initClass(cx,a,{},dH,[ss.IDisposable]);ss.initClass(cy,a,{},dH,[ss.IDisposable]);ss.initClass(cz,a,{},dH,[ss.IDisposable]);ss.initClass(cA,a,{dispose:function(){this.menuViewModel.remove_menuChanged(ss.mkdel(this,this.updateMenu));this.menuViewModel.remove_shown(ss.mkdel(this,this.shown));this.menuViewModel.remove_hidden(ss.mkdel(this,this.hidden));this.menuViewModel.remove_menuItemSelectionChanged(ss.mkdel(this,this.$8));var ea=ss.mkdel(this,function(){this.menuDisposables.dispose();for(var eb=0;eb<this.menuStack.length;eb++){var ec=this.menuStack[eb];ec.dispose()}ss.clear(this.menuStack);this.removeGlass();ss.makeGenericType(q,[cB]).prototype.dispose.call(this)});if($.fx.off){ea()}else{$('.tabMenu').fadeOut(50,ea)}},removeGlass:function(){if(ss.isValue(this.glass)){this.glass.remove_click(ss.mkdel(this,this.glassClicked));this.glass.dispose();this.glass=null}},getElementForMenuItem:function(ea){if(ss.isValue(ea)){return this.$9[ea.id]}else{return null}},updateMenu:function(){this.dom.content.children().remove();this.$9={};this.menuDisposables.dispose();this.menuDisposables=new tab.DisposableHolder;this.buildMenu(this.dom,this.menuViewModel.get_menu())},hidden:function(){var ea=ss.mkdel(this,function(){this.dom.domRoot.detach();this.removeGlass()});if($.fx.off){ea()}else{$('.tabMenu').fadeOut(50,ea)}},shown:function(ea){if(ss.isValue(ea.minWidth)){var eb=tab.DoubleUtil.roundToInt(this.dom.domRoot.outerWidth(true))-tab.DoubleUtil.roundToInt(this.dom.domRoot.width());this.dom.domRoot.css('min-width',ss.unbox(ea.minWidth)-eb+'px')}var ec=989;if(ea.relativeDom.length>0){var ed=tab.DomUtil.getComputedZIndex(ea.relativeDom[0]);if(ed>=ec){ec=Math.max(1000,ed+1)}}this.removeGlass();this.glass=new bv;this.glass.set_zIndex(ec-1);this.glass.add_click(ss.mkdel(this,this.glassClicked));this.glass.show();this.dom.domRoot.css('z-index',ec.toString());if(ss.isValue(ea.additionalMenuClass)){this.dom.domRoot.addClass(ea.additionalMenuClass)}dt.getViewport(ss.mkdel(this,function(ee){this.dom.domRoot.appendTo($('body'));this.positionMenu(ee,ea,this.dom);this.dom.domRoot.css('visibility','visible');this.onAddedToDom();this.dom.domRoot.show()}));this.disposables.add$1(bq.bindWithDispose($(window),'resize',ss.mkdel(this,function(ee){this.menuViewModel.hide()})))},$8:function(ea,eb){var ec=this.$9[ea.id];if(ss.isValue(ec)&&ec.is(':visible')){ec.toggleClass('tabMenuSelectedItem',eb);if(eb){this.scrollToMenuItem(ec)}}},scrollToMenuItem:function(ea){ea.offsetParent().scrollTop(tab.DoubleUtil.roundToInt(ea.position().top))},glassClicked:function(){this.menuViewModel.hide()},showSubmenu:null,activateSubmenu:function(ea,eb){var ec=eb.data('tabMenuMenuItemLevel');if(ss.isValue(ec)&&ec<this.menuStack.length){return}var ed=new cz("<div class='tabMenu' tabindex='1'><div class='tabMenuContent'/></div>");ed.domRoot.addClass(this.menuViewModel.get_theme().menuClass);ed.domRoot.attr('data-sub-menu-depth',this.menuStack.length.toString());this.menuStack.push(ed);this.buildMenu(ed,ea.subMenu);this.showSubmenu(ea,eb,ed)},buildMenu:function(ea,eb){var ec=false;var ed=false;var ee=false;var ef=[];var eg=dz.targetAndClick(ea.domRoot.get(0),ss.mkdel(this,this.$7));this.menuDisposables.add$1(eg);for(var eh=0;eh<eb.menuItems.length;eh++){var ei=eb.menuItems[eh];var ej;if(ei.isDivider){ej=(new cx).domRoot.addClass(this.menuViewModel.get_theme().dividerClass)}else{if(ei.isTextInput){var ek=this.$5(ei);ej=ek.domRoot}else if(ss.isInstanceOfType(ei,Y)){ej=ei.get_domRoot()}else{var el=(new e(ei.name,ei.enabled)).$2(ei.checkState,ei.iconClass).$3(ei.iconClassTwo).$1(ei.description).$4(ei.subMenu).$5([this.menuViewModel.get_theme().itemClass,ei.itemClass]).$0();ec=ec||el.$2;ed=ed||el.$3;ee=ee||el.$1;el.domRoot.data('tabMenuMenuItem',ei);el.domRoot.data('tabMenuMenuItemLevel',this.menuStack.length);ej=el.domRoot}ej.addClass('tabMenuMenuItem');if(ei.isDefault){ej.addClass('tabMenuDefaultItem')}}ef.push(ej);this.$9[ei.id]=ej}ea.content.append(ef);if(!ec){ea.domRoot.addClass(this.menuViewModel.get_theme().noIconClass)}if(ed){ea.domRoot.addClass('tabMenuHasIconTwo')}if(!ee){ea.domRoot.addClass(this.menuViewModel.get_theme().noDescClass)}if(ss.isValue(this.menuViewModel.get_selectedItem())){this.$8(this.menuViewModel.get_selectedItem(),true)}},$7:function(ea){var eb=$(ea.target).closest('.tabMenuMenuItem');var ec=eb.data('tabMenuMenuItem');if(ss.isNullOrUndefined(ec)){return}else if(ss.isValue(ec.subMenu)){this.activateSubmenu(ec,eb)}else{this.menuViewModel.clickMenuItem(ec)}},$6:function(ea){ea.stopPropagation();if(ea.which===13){var eb=ea.data['callback'];if($.isFunction(eb)){eb($(ea.target).val())}}else if(ea.which===9){ea.preventDefault();ea.target.blur();this.menuViewModel.iterateFocus((ea.shiftKey?-1:1),null)}},$5:function(ea){var eb=new cy;eb.textInput.keydown(ss.mkdict(['callback',ea.data]),ss.mkdel(this,this.$6)).focus(ss.mkdel(this,function(ec){this.get_viewModel().set_focusedItem(ea)})).attr('placeholder',ea.description);if(!ss.isNullOrEmptyString(ea.itemClass)){eb.domRoot.addClass(ea.itemClass)}this.disposables.add$1(new tab.CallOnDispose(function(){eb.textInput.off()}));return eb}},ss.makeGenericType(o,[cB]),[bH,ss.IDisposable,ss.makeGenericType(cf,[cB])]);ss.initClass(cB,a,{add_shown:function(ea){this.$2$1=ss.delegateCombine(this.$2$1,ea)},remove_shown:function(ea){this.$2$1=ss.delegateRemove(this.$2$1,ea)},add_hidden:function(ea){this.$2$2=ss.delegateCombine(this.$2$2,ea)},remove_hidden:function(ea){this.$2$2=ss.delegateRemove(this.$2$2,ea)},add_menuChanged:function(ea){this.$2$3=ss.delegateCombine(this.$2$3,ea)},remove_menuChanged:function(ea){this.$2$3=ss.delegateRemove(this.$2$3,ea)},add_menuItemClicked:function(ea){this.$2$4=ss.delegateCombine(this.$2$4,ea)},remove_menuItemClicked:function(ea){this.$2$4=ss.delegateRemove(this.$2$4,ea)},add_menuItemSelectionChanged:function(ea){this.$2$5=ss.delegateCombine(this.$2$5,ea)},remove_menuItemSelectionChanged:function(ea){this.$2$5=ss.delegateRemove(this.$2$5,ea)},add_menuItemFocusChanged:function(ea){this.$2$6=ss.delegateCombine(this.$2$6,ea)},remove_menuItemFocusChanged:function(ea){this.$2$6=ss.delegateRemove(this.$2$6,ea)},get_visible:function(){return this.$2$7},set_visible:function(ea){this.$2$7=ea},set_disposeOnHide:function(ea){this.remove_hidden(this.$0);if(ea){this.add_hidden(this.$0)}},get_menu:function(){return this.$2},set_menu:function(ea){if(_.isEqual(this.$2,ea)){return}this.$2=ea;if(ss.isValue(this.$2$3)){this.$2$3()}},get_theme:function(){return this.$2$8},set_theme:function(ea){this.$2$8=ea},get_selectedItem:function(){return this.$3},set_selectedItem:function(ea){if(ss.isValue(this.$3)){if(ss.isValue(this.$2$5)){this.$2$5(this.$3,false)}}if(ss.isNullOrUndefined(ea)){this.$3=null;return}this.$3=ea;if(ss.isValue(this.$2$5)){this.$2$5(this.$3,true)}},get_focusedItem:function(){return this.$1},set_focusedItem:function(ea){if(ss.referenceEquals(this.$1,ea)){return}if(ss.isValue(this.$1)){if(ss.isValue(this.$2$6)){this.$2$6(this.$1,false)}}if(ss.isNullOrUndefined(ea)||!ea.enabled){this.$1=null;return}this.$1=ea;if(ss.isValue(this.$2$6)){this.$2$6(this.$1,true)}},show:function(ea){if(this.get_visible()){return}this.set_visible(true);if(ss.isValue(this.$2$1)){this.$2$1(ea)}},dispose:function(){this.hide();r.prototype.dispose.call(this)},hide:function(){if(this.get_visible()===false){return}this.set_visible(false);this.raiseActionEvent(this.$2$2)},clickMenuItem:function(ea){if(!ea.enabled){return}this.hide();if(ss.isValue(this.$2$4)){this.$2$4(ea)}},iterateFocus:function(ea,eb){var ec=this.findMenuForMenuItem(this.get_focusedItem());if(ss.isNullOrUndefined(ec)){return}var ed=eb;if(ss.isNullOrUndefined(ed)){ed=ss.indexOf(ec.menuItems,this.get_focusedItem())}var ee=ed;var ef=ee;do{ef+=ea;if(ef>=ec.menuItems.length){ef=0}else if(ef<0){ef=ec.menuItems.length-1}}while(!ec.menuItems[ef].get_selectable()&&ef!==ee);if(ef!==ee){this.set_focusedItem(ec.menuItems[ef])}},focusByNamePrefix:function(ea){ea=ea.toLowerCase();var eb=this.findMenuForMenuItem(this.get_focusedItem());if(ss.isNullOrUndefined(eb)){return}var ec=ss.indexOf(eb.menuItems,this.get_focusedItem())+1;if(ec>=eb.menuItems.length){ec=0}var ed=ec;do{if(eb.menuItems[ed].enabled&&!eb.menuItems[ed].isDivider){if(ss.isValue(eb.menuItems[ed].name)&&ss.startsWithString(eb.menuItems[ed].name.toLowerCase(),ea)){this.set_focusedItem(eb.menuItems[ed]);return}}++ed;if(ed>=eb.menuItems.length){ed=0}}while(ed!==ec)},findMenuForMenuItem:function(ea){if(ss.isNullOrUndefined(ea)){return null}var eb=null;eb=function(ec){if(ss.contains(ec.menuItems,ea)){return ec}for(var ed=0;ed<ec.menuItems.length;ed++){var ee=ec.menuItems[ed];if(ss.isValue(ee.subMenu)){var ef=eb(ee.subMenu);if(ss.isValue(ef)){return ef}}}return null};return eb(this.get_menu())},findItemContainingSubMenu:function(ea){if(ss.isNullOrUndefined(ea)||ss.referenceEquals(this.get_menu(),ea)){return null}var eb=null;eb=function(ec){var ed=null;for(var ee=0;ee<ec.menuItems.length;ee++){var ef=ec.menuItems[ee];if(ss.isValue(ef.subMenu)){ed=(ss.referenceEquals(ef.subMenu,ea)?ef:eb(ef.subMenu));if(ss.isValue(ed)){break}}}return ed};return eb(this.get_menu())}},r,[ss.IDisposable,cg]);ss.initClass(cD,a,{get_glass:function(){return this.$y},ensureAttachedAndSized:function(){if(ss.isValue(this.$y)||this.isAttached()){return}this.$y=new bv;this.$y.set_opaque(true);this.$y.show();this.element.css('z-index',(this.$y.get_zIndex()+1).toString());bb.prototype.ensureAttachedAndSized.call(this)},bindToEvents:function(){bb.prototype.bindToEvents.call(this);$(window).on(this.createNamespacedEventName('resize'),ss.mkdel(this,this.onWindowResize));$(document).on(this.createNamespacedEventName('keydown'),ss.mkdel(this,this.onDocumentKeyDown))},unbindEvents:function(){$(window).off(this.get_eventNamespace());$(document).off(this.get_eventNamespace());bb.prototype.unbindEvents.call(this)},detach:function(){this.$x();bb.prototype.detach.call(this)},dispose:function(){this.$x();this.template.dispose();bb.prototype.dispose.call(this)},$x:function(){if(ss.isValue(this.$y)){this.$y.dispose();this.$y=null}},$w:function(){this.configMoveDragSource(bb.defaultStationaryDialogConfigurer)},onWindowResize:function(ea){this.positionInWindow()},onDocumentKeyDown:function(ea){if(ea.which===27){this.close(null);ea.preventDefault();return}}},bb,[bH,ss.IDisposable]);cD.$ctor1.prototype=cD.prototype;ss.initClass(cE,a,{});ss.initClass(cF,a,{});ss.initClass(cG,a,{get_dragType:function(){return'dragmove'},moveTo:function(ea){if(ss.isValue(this.$3)){this.$3(ea)}},endDragAt:function(ea){if(ss.isValue(this.$2)){this.$2(ea)}}},bh);ss.initClass(cH,a,{add_moveAction:function(ea){this.$1$1=ss.delegateCombine(this.$1$1,ea)},remove_moveAction:function(ea){this.$1$1=ss.delegateRemove(this.$1$1,ea)},add_endAction:function(ea){this.$1$2=ss.delegateCombine(this.$1$2,ea)},remove_endAction:function(ea){this.$1$2=ss.delegateRemove(this.$1$2,ea)},get_offset:function(){return this.$4},set_offset:function(ea){this.$4=ea},get_elementToDrag:function(){return this.$3},get_elementToChange:function(){return this.$2},get_documentBodySize:function(){return this.$1},set_documentBodySize:function(ea){this.$1=ea},dispose:function(){bg.removeDragSource(this.$3)},calculateOffset:function(ea){var eb=this.$2.position();return{x:ea.pageX-tab.DoubleUtil.roundToInt(eb.left),y:ea.pageY-tab.DoubleUtil.roundToInt(eb.top)}},startDrag:function(ea){this.$4=this.calculateOffset(ea);this.$3.addClass('dragging');if(this.$0){this.$2.addClass('dragging')}return new cG(this.$3,ss.mkdel(this,this.dragMove),ss.mkdel(this,this.dragEnd),null)},dragMove:function(ea){this.performMove(ea);if(ss.isValue(this.$1$1)){this.$1$1(ea)}},performMove:function(ea){var eb=ea.pageX-this.$4.x;var ec=ea.pageY-this.$4.y;var ed=((this.$1==='useClientSize')?document.body.clientWidth:document.body.scrollWidth);var ee=((this.$1==='useClientSize')?document.body.clientHeight:document.body.scrollHeight);eb=Math.max(0,Math.min(ed-tab.DoubleUtil.roundToInt(this.$2.outerWidth()),eb));ec=Math.max(0,Math.min(ee-tab.DoubleUtil.roundToInt(this.$2.outerHeight()),ec));tab.DomUtil.setElementPosition(this.$2,eb,ec)},dragEnd:function(ea){this.performMove(ea);this.$3.removeClass('dragging');if(this.$0){this.$2.removeClass('dragging')}if(ss.isValue(this.$1$2)){this.$1$2(ea)}}},null,[ss.IDisposable,bN]);ss.initClass(cJ,a,{get_scrollbarBuffer:function(){return 18},get_scrollerX:function(){return this.$8().scroll.scrollLeft()},get_scrollerY:function(){return this.$8().scroll.scrollTop()},$8:function(){return this.get_template()},$9:function(){return this.get_viewModel()},$6:function(){var ea=(this.$9().get_scrollX()?'auto':'hidden');var eb=(this.$9().get_scrollY()?'auto':'hidden');this.$8().scroll.css({'overflow-x':ea,'overflow-y':eb}).addClass('tabScollerNative');this.$8().scroll.toggleClass('tabScrollerCanScrollX',this.$9().get_scrollX());this.$8().scroll.toggleClass('tabScrollerCanScrollY',this.$9().get_scrollY())},onAddedToDom:function(){dZ.prototype.onAddedToDom.call(this);this.$5()},$7:function(){this.$8().content.empty();this.$5()},$5:function(){this.$8().content.append(this.$9().get_content())},scrollTo:function(ea,eb,ec,ed){this.$8().scroll.scrollLeft(ea);this.$8().scroll.scrollTop(eb)},scrollToElement:function(ea,eb,ec,ed){var ee=$(ea).offset();this.$8().scroll.scrollLeft(tab.DoubleUtil.roundToInt(ee.left)+ec);this.$8().scroll.scrollTop(tab.DoubleUtil.roundToInt(ee.top)+ed)}},de,[bH,ss.IDisposable,ss.makeGenericType(cf,[df])]);ss.initClass(cK,a,{},dH,[ss.IDisposable]);ss.initClass(cL,a,{get_feedbackType:function(){return'dropfeedbackuponentry'},dragOver:function(ea){return this},dragExit:function(ea){},acceptDrop:function(ea){return $.Deferred().resolve(false).promise()},getDropTarget:function(ea){return this},getDropCursor:function(ea){return V.noOp}},null,[bO]);ss.initClass(cM,a,{get_isCtrlKey:function(){return(tab.BrowserSupport.get_isMac()?this.metaKey:this.ctrlKey)},get_gestureInfo:function(){return this},getSelectAction:function(){var ea='simple';var eb=this.get_isCtrlKey();if(this.shiftKey){ea='range'}if(eb){ea='toggle'}return ea},preventDefault:function(){if(typeof(this.originalEvent['preventDefault'])==='function'){this.originalEvent.preventDefault()}},stopPropagation:function(){if(typeof(this.originalEvent['stopPropagation'])==='function'){this.originalEvent.stopPropagation()}}});ss.initClass(cN,a,{render:function(){var ea=this.props.val;var eb={className:'tab-table-bcell tab-table-numcell',style:{width:this.props.cssWidth}};var ec={tap:ss.mkdel(this,this.$1)};return bn.div(ec,eb,[React.DOM.div({},ea)])},$1:function(ea){if(!ss.staticEquals(this.props.onClick,null)){this.props.onClick(this.props.row,this.props.col)}}},ss.makeGenericType(s,[Object]));ss.initClass(cO,a,{});ss.initClass(cP,a,{});ss.initClass(cR,a,{$0:function(ea,eb){this.$1[ea]=Math.max(eb,(ss.keyExists(this.$1,ea)?this.$1[ea]:0))},componentWillMount:function(){this.$1={}},componentDidMount:function(){if(!ss.staticEquals(this.props.measureColumnWidths,null)){this.props.measureColumnWidths(this.$1)}},buildItem:function(ea){var eb=this.props.cols;var ec=this.props.colWidths;var ed=this.props.onClick;var ee=null;if(!ss.staticEquals(this.props.measureColumnWidths,null)){ee=ss.mkdel(this,function(ef,eg){this.$0(ef,eg)})}return t.createBodyRow({row:ea,cols:eb,colWidths:ec,onClick:ed,isSelected:ss.isValue(ea)&&ss.contains(this.props.selectedKeys,ea.key),showGridLines:this.props.showGridLines,handleReportCellWidth:ee})},getUniqueKey:function(ea){return ea.key},onScrollStop:function(ea,eb){if(ea.y===eb.y){this.props.fetchNextPage()}}},ss.makeGenericType(cQ,[Object,dG]));ss.initClass(cS,a,{start:function(ea){if(ea.touches.length<this.numTouches){return}if(this.$6){return}this.$8=ea.touches[0];this.$9=ea.touches[1];this.$7=this.$4();this.$5=this.$7;var eb=this.$3();this.$0('pinchStart',ea,eb);this.$6=true},move:function(ea){if(!this.$6){return}if(ea.touches.length<2){this.end(ea);return}this.$8=ea.touches[0];this.$9=ea.touches[1];this.$5=this.$3();this.$0('pinchMove',ea,this.$5)},end:function(ea){if(ea.touches.length>this.numTouches){return}if(this.$6){this.$6=false;var eb=this.$3();this.$0('pinchEnd',ea,eb)}},$4:function(){var ea=this.$8;var eb=this.$9;var ec=eb.pageX-ea.pageX;var ed=eb.pageY-ea.pageY;var ee=Math.sqrt(ec*ec+ed*ed);var ef=ss.Int32.div(ec,2)+ea.pageX;var eg=ss.Int32.div(ed,2)+ea.pageY;var eh={pageX:ef,pageY:eg,distance:ee};return eh},$3:function(){var ea=this.$8;var eb=this.$9;var ec=eb.pageX-ea.pageX;var ed=eb.pageY-ea.pageY;var ee=Math.sqrt(ec*ec+ed*ed);var ef=ss.Int32.div(ec,2)+ea.pageX;var eg=ss.Int32.div(ed,2)+ea.pageY;var eh={pageX:ef,pageY:eg,scale:ee/this.$7.distance,deltaX:ef-this.$7.pageX,deltaY:eg-this.$7.pageY,startX:this.$7.pageX,startY:this.$7.pageY,deltaXSinceLast:ef-this.$5.pageX,deltaYSinceLast:eg-this.$5.pageY};return eh}},bu,[ss.IDisposable]);ss.initClass(cT,a,{render:function(){var ea=this.props.val;var eb={title:(ss.isValue(ea)?ea.toString():''),className:'tab-table-bcell tab-table-textcell',style:{width:this.props.cssWidth}};var ec={tap:ss.mkdel(this,this.$1)};return bn.div(ec,eb,[React.DOM.div({},ea)])},$1:function(ea){if(!ss.staticEquals(this.props.onClick,null)){this.props.onClick(this.props.row,this.props.col)}}},ss.makeGenericType(s,[Object]));ss.initClass(cU,a,{},cq,[bH,ss.IDisposable,ss.makeGenericType(cf,[cs])]);ss.initClass(cV,a,{get_viewType:function(){return cU},get_viewModel:function(){return this},get_listItemCreator:function(){return this.$b},disposeViewModel:function(){this.dispose()},updateUberPopupViewModel:function(ea){}},cs,[ss.IDisposable,cg,ss.makeGenericType(bU,[Object]),ce]);ss.initClass(cW,a,{get_propertyName:function(){return this.$0}},ss.EventArgs);ss.initClass(cX,a,{});ss.initClass(cZ,a,{});ss.initClass(da,a,{});ss.initClass(dd,a,{calculateOffset:function(ea){var eb=tab.PointUtil.fromPosition(this.get_elementToChange().position());var ec={x:0,y:0};switch(this.$5){case'bottomRight':{ec.x=eb.x+tab.DoubleUtil.roundToInt(this.get_elementToChange().width())-ea.pageX;ec.y=eb.y+tab.DoubleUtil.roundToInt(this.get_elementToChange().height())-ea.pageY;break}case'topLeft':{ec.x=ea.pageX-eb.x;ec.y=ea.pageY-eb.y;break}case'left':{ec.x=ea.pageX-eb.x;break}case'right':{ec.x=eb.x+tab.DoubleUtil.roundToInt(this.get_elementToChange().width())-ea.pageX;break}case'top':{ec.y=ea.pageY-eb.y;break}case'bottom':{ec.y=eb.y+tab.DoubleUtil.roundToInt(this.get_elementToChange().height())-ea.pageY;break}}return ec},performMove:function(ea){var eb=tab.PointUtil.fromPosition(this.get_elementToChange().position());var ec=tab.DoubleUtil.roundToInt(this.get_elementToChange().width());var ed=tab.DoubleUtil.roundToInt(this.get_elementToChange().height());var ee=((this.get_documentBodySize()==='useClientSize')?tab.DomUtil.get_documentBody().clientWidth:tab.DomUtil.get_documentBody().scrollWidth);var ef=((this.get_documentBodySize()==='useClientSize')?tab.DomUtil.get_documentBody().clientHeight:tab.DomUtil.get_documentBody().scrollHeight);switch(this.$5){case'bottomRight':{this.get_elementToChange().width(Math.min(ea.pageX+this.get_offset().x,ee)-eb.x);this.get_elementToChange().height(Math.min(ea.pageY+this.get_offset().y,ef)-eb.y);break}case'topLeft':{this.get_elementToChange().width(ec+(eb.x-Math.max(ea.pageX-this.get_offset().x,0)));this.get_elementToChange().height(ed+(eb.y-Math.max(ea.pageY-this.get_offset().y,0)));tab.DomUtil.setElementPosition(this.get_elementToChange(),eb.x+ec-tab.DoubleUtil.roundToInt(this.get_elementToChange().width()),eb.y+ed-tab.DoubleUtil.roundToInt(this.get_elementToChange().height()));break}case'left':{this.get_elementToChange().width(ec+(eb.x-Math.max(ea.pageX-this.get_offset().x,0)));tab.DomUtil.setElementPosition(this.get_elementToChange(),eb.x+ec-tab.DoubleUtil.roundToInt(this.get_elementToChange().width()),eb.y);break}case'right':{this.get_elementToChange().width(Math.min(ea.pageX+this.get_offset().x,ee)-eb.x);break}case'top':{this.get_elementToChange().height(ed+(eb.y-Math.max(ea.pageY-this.get_offset().y,0)));tab.DomUtil.setElementPosition(this.get_elementToChange(),eb.x,eb.y+ed-tab.DoubleUtil.roundToInt(this.get_elementToChange().height()));break}case'bottom':{this.get_elementToChange().height(Math.min(ea.pageY+this.get_offset().y,ef)-eb.y);break}}}},cH,[ss.IDisposable,bN]);ss.initClass(df,a,{add_contentChanged:function(ea){this.$2$1=ss.delegateCombine(this.$2$1,ea)},remove_contentChanged:function(ea){this.$2$1=ss.delegateRemove(this.$2$1,ea)},add_refresh:function(ea){this.$2$2=ss.delegateCombine(this.$2$2,ea)},remove_refresh:function(ea){this.$2$2=ss.delegateRemove(this.$2$2,ea)},get_content:function(){return this.$3},set_content:function(ea){this.$3=ea;this.raiseActionEvent(this.$2$1)},get_options:function(){return this.$4},get_scrollX:function(){return(ss.isValue(this.$4.scrollX)?this.$4.scrollX:false)},set_scrollX:function(ea){this.$4.scrollX=ea;if(this.get_hasCustomIndicator()){this.get_indicatorOptions().listenX=ea}},get_scrollY:function(){return(ss.isValue(this.$4.scrollY)?this.$4.scrollY:false)},set_scrollY:function(ea){this.$4.scrollY=ea;if(this.get_hasCustomIndicator()){this.get_indicatorOptions().listenY=ea}},get_hasScrollBars:function(){return this.get_scrollY()||this.get_scrollX()},get_hasCustomIndicator:function(){return ss.isValue(this.$4.indicators)},set_hasCustomIndicator:function(ea){if(ea){if(ss.isNullOrUndefined(this.$4.indicators)){this.get_options().indicators=new Object;this.get_options().indicators.listenX=this.get_scrollX();this.get_options().indicators.listenY=this.get_scrollY()}}else{this.get_options().indicators=null}},get_indicatorOptions:function(){return this.get_options().indicators},$0:function(ea){this.$4={};this.set_hasCustomIndicator(ea);if(tsConfig.is_mobile){this.$1()}else{this.$2()}},$2:function(){if(!this.get_hasCustomIndicator()){this.$4.scrollbars='custom';this.$4.interactiveScrollbars=true}this.$4.mouseWheel=true;this.$4.disableMouse=true},$1:function(){if(!this.get_hasCustomIndicator()){this.$4.scrollbars='custom'}},triggerRefresh:function(){this.raiseActionEvent(this.$2$2)}},r,[ss.IDisposable,cg]);df.$ctor1.prototype=df.prototype;ss.initEnum(dg,a,{iScroll:0});ss.initClass(di,a,{});ss.initClass(dj,a,{get_className:function(){var ea=[ss.makeGenericType(v,[Object]).prototype.get_className.call(this)];ea.push('selectable');if(this.props.isSelected){ea.push('selected');if(this.props.isButtonTextMarkedAsExcluded){ea.push('excluded')}}else{ea.push('unselected');ea.push('tab-DesignTint')}return ea.join(' ')}},ss.makeGenericType(v,[Object]));ss.initClass(dk,a,{$7:function(){return this.state.currentSelection},$6:function(){return this.props.showApplyAndCancelButtons&&!ss.referenceEquals(this.state.currentSelection,this.state.currentlyAppliedSelection)},$1:function(ea){var eb=ea;if(ss.isValue(eb)){eb=eb.clone()}return{currentlyAppliedSelection:ea,currentSelection:eb}},componentWillReceiveProps:function(ea){if(!ss.referenceEquals(ea.selection,this.state.currentlyAppliedSelection)){this.setState(this.$1(ea.selection))}},$0:function(){if(ss.referenceEquals(this.$7(),this.state.currentlyAppliedSelection)){return}this.setState(this.$1(this.$7()));if(!ss.staticEquals(this.props.onSelectionChanged,null)){this.props.onSelectionChanged(this.$7())}},$5:function(){this.setState(this.$1(this.state.currentlyAppliedSelection))},render:function(){var ea=this.props.allOption&&this.$7().groupSize>0;var eb;eb=cZ.generateUniqueKeys(dl).call(null,this.props.items,[(ea?'__ALL__':null)]);var ec='tab-vScrollable';if(this.props.showApplyAndCancelButtons){ec+=' apply-cancel'}var ed='tab-SelectableButtonGroup'+(this.props.hasAnyIcons?' hasIcons':'');return React.DOM.div({className:ed},React.DOM.div({className:ec},(ea?ss.mkdel(this,function(){return React.createElement(dj,{border:this.props.borders,label:this.props.allItem.label,buttonStyle:this.props.buttonStyle,labelStyle:this.props.labelStyle,isSelected:this.$7().get_theAllItemIsSelected(),isButtonTextMarkedAsExcluded:false,onTap:ss.mkdel(this,function(ee){this.$3()}),key:'__ALL__',getCustomContentBefore:this.props.allItem.getCustomContentBefore,getCustomContentAfter:this.props.allItem.getCustomContentAfter})})():null),_.map(this.props.items,ss.mkdel(this,function(ee,ef){return React.createElement(dj,{border:this.props.borders,label:ee.label,buttonStyle:this.props.buttonStyle,labelStyle:this.props.labelStyle,isSelected:this.$7().isSelected(ef),isButtonTextMarkedAsExcluded:this.props.isSelectionExclusive,onTap:ss.mkdel(this,function(eg){this.$4(ef)}),key:eb[ef],getCustomContentBefore:ee.getCustomContentBefore,getCustomContentAfter:ee.getCustomContentAfter})}))),(this.props.showApplyAndCancelButtons?ss.mkdel(this,function(){return React.DOM.div({className:'tab-ApplyCancelPanel'},React.createElement(w,{label:this.props.applyButtonLabel,customClassName:'apply',border:false,onTap:ss.mkdel(this,function(ee){this.$0()}),disabled:!this.$6()}),React.createElement(w,{label:this.props.cancelButtonLabel,customClassName:'cancel',border:false,onTap:ss.mkdel(this,function(ee){this.$5()}),disabled:!this.$6()}))})():null))},$3:function(){this.$7().handleTapAll();this.$2()},$4:function(ea){this.$7().handleTap(ea);this.$2()},$2:function(){if(this.props.showApplyAndCancelButtons){this.setState(this.state)}else{this.$0()}}},React.Component);ss.initClass(dl,a,{});ss.initClass(dn,a,{get_selecting:function(){return this.$1},get_shiftKey:function(){return this.$2},get_ctrlKey:function(){return this.$0}},ss.CancelEventArgs);ss.initEnum(dp,a,{single:0,multiGrouped:1,multiToggle:2});ss.initClass(dq,a,{didMount:function(ea,eb){var ec={};if(!ss.staticEquals(eb.pointerClick,null)){ec.tap=function(ed){eb.pointerClick(ed.reactEvent)}}if(!ss.staticEquals(eb.pointerDown,null)){ec.firstTouch=function(ed){eb.pointerDown(ed.reactEvent)}}if(!ss.staticEquals(eb.pointerUp,null)){ec.lastTouch=function(ed){eb.pointerUp(ed.reactEvent)}}this.$0.updateEventHandleSpec(ea,ec)},getHtmlAttributes:function(ea){return this.$0.get_eventHandlingAttributesForReact()},willUnmount:function(){this.$0.dispose()}},null,[Object]);ss.initClass(dr,a,{});ss.initClass(dt,a,{get_dimensions:function(){return this.$0},get_getVisibleRoomFunc:function(){return this.$1},getVisibleRoom:function(ea){if(!ss.staticEquals(this.get_getVisibleRoomFunc(),null)){return this.get_getVisibleRoomFunc()(ea)}var eb=2147483647;return{roomAbove:2147483647,roomBelow:2147483647,roomLeft:2147483647,roomRight:2147483647}}});ss.initClass(du,a,{componentDidMount:function(){bx.add_firstTouch(ss.mkdel(this,this.$0));$(window).on('resize'.toString(),ss.mkdel(this,this.$1))},componentWillUnmount:function(){bx.remove_firstTouch(ss.mkdel(this,this.$0));$(window).off('resize'.toString(),ss.mkdel(this,this.$1))},componentDidUpdate:function(){if(this.props.isSelecting){dt.getViewport(ss.mkdel(this,this.$4))}},$1:function(ea){if(this.props.isSelecting){dt.getViewport(ss.mkdel(this,this.$4))}},$4:function(ea){var eb=ReactDOM.findDOMNode(this.refs['selector']);var ec=ReactDOM.findDOMNode(this.refs['relative']);if(ss.isNullOrUndefined(eb)||ss.isNullOrUndefined(ec)){return}var ed=$(eb);var ee=this.props.getDesiredHeight(ed);var ef=$(ec);var eg=tab.PointUtil.fromPosition(ef.offset());var eh=ea.getVisibleRoom(eg);var ei=ef.innerHeight();var ej=eh.roomBelow-ei-3;var ek=eh.roomAbove-3;var el=ej>=Math.min(ee,ek);var em=(el?ej:ek);ee=Math.min(ee,ss.Int32.trunc(em));var en=(el?'auto':(ei+'px'));var eo=(el?(ei+'px'):'auto');ed.css('bottom',en);ed.css('top',eo);ed.height(ee);if(!ss.staticEquals(this.props.getMinimumWidth,null)){var ep=this.props.getMinimumWidth(ed);if(ep>eh.roomRight){var eq=ep-eh.roomRight+13;ed.css('left',-1*eq+'px')}ed.css('min-width',ep)}},render:function(){return React.DOM.div({className:'tab-Dropdown ',onTouchStart:ss.mkdel(this,function(ea){this.$2()}),onMouseDown:ss.mkdel(this,function(ea){this.$2()})},bn.div({tap:ss.mkdel(this,function(ea){this.$5()})},{className:'tab-DropdownButton',ref:'relative'},[this.props.renderButton()]),(this.props.isSelecting?this.renderSelector():null))},renderSelector:function(){return[React.DOM.button({className:'tab-SelectorFocuser',key:'selector-focuser',autoFocus:true,onBlur:ss.mkdel(this,function(ea){_.defer(ss.mkdel(this,this.$3))}),ref:'focusable'}),React.DOM.div({className:'tab-SelectorContainerOuter',key:'selector-container-outer',ref:'selector'},React.DOM.div({className:'tab-SelectorContainer',key:'selector-container'},this.props.children))]},$5:function(){this.$6=false;this.props.onSelectorToggled()},$2:function(){this.$6=true},$0:function(ea,eb){var ec=ReactDOM.findDOMNode(this.refs['focusable']);if(ss.isValue(ec)){ec.blur()}},$3:function(){if(this.$6){var ea=ReactDOM.findDOMNode(this.refs['focusable']);if(ss.isValue(ea)){ea.focus()}}else{this.props.onFocusLost()}this.$6=false}},React.Component);ss.initClass(dv,a,{},ci,[bH,ss.IDisposable]);ss.initClass(dw,a,{updateWidgetState:function(ea){this.get_widget().set_label(ea.label);this.get_widget().set_disabled(ss.coalesce(ea.disabled,false));this.get_widget().set_hoverTooltipText(ea.tooltipText)},handleWidgetPropertyChanged:function(ea,eb){}},ss.makeGenericType(dc,[ci,Object,Object]));ss.initClass(dx,a,{});ss.initClass(dy,a,{add_tabChanged:function(ea){this.$1$1=ss.delegateCombine(this.$1$1,ea)},remove_tabChanged:function(ea){this.$1$1=ss.delegateRemove(this.$1$1,ea)},get_domRoot:function(){return this.$5.get_root()},get_tabs:function(){return this.$5.get_tabs()},get_contentArea:function(){return this.$5.get_contentArea()},get_activeTabId:function(){return this.$4},set_activeTabId:function(ea){if(!ss.referenceEquals(this.$4,ea)){this.$4=ea;if(ss.isValue(this.$1$1)){this.$1$1()}}},addTab:function(ea,eb,ec){if(ss.keyExists(this.$3,ea)){return}var ed=this.$5.createTabLabel(ea,eb);ed.domRoot.addClass('tabTabLabelId-'+ea);var ee=new dK(ed.domRoot);var ef=ss.mkdel(this,function(eg,eh){if(eh.get_propertyName()==='selected'&&ee.get_selected()){this.$0(ec.get_rootElement(),ea)}});ee.add_propertyChanged(ef);this.$2.add$1(new tab.CallOnDispose(function(){ee.remove_propertyChanged(ef)}));this.$2.add$1(ee);this.$1.addItem(ee);this.$3[ea]=ee;this.$5.get_tabs().append(ed.domRoot);ec.addToDom(this.$5.get_contentArea());this.selectTab(ea)},selectTab:function(ea){if(!ss.keyExists(this.$3,ea)){return}this.$1.selectItem(this.$3[ea])},dispose:function(){this.$2.dispose();this.$1.dispose()},$0:function(ea,eb){this.$5.get_contentArea().children().hide();ea.show();this.set_activeTabId(eb)}},null,[ss.IDisposable]);ss.initClass(dz,a,{$9:function(ea){this.$1$1=ss.delegateCombine(this.$1$1,ea)},$a:function(ea){this.$1$1=ss.delegateRemove(this.$1$1,ea)},$5:function(ea){this.$1$2=ss.delegateCombine(this.$1$2,ea)},$6:function(ea){this.$1$2=ss.delegateRemove(this.$1$2,ea)},$7:function(ea){this.$1$3=ss.delegateCombine(this.$1$3,ea)},$8:function(ea){this.$1$3=ss.delegateRemove(this.$1$3,ea)},$b:function(ea){this.$1$4=ss.delegateCombine(this.$1$4,ea)},$c:function(ea){this.$1$4=ss.delegateRemove(this.$1$4,ea)},get_stopPropagationOnEvent:function(){return this.$4},set_stopPropagationOnEvent:function(ea){this.$4=ea},dispose:function(){if(ss.isValue(this.handler)){this.handler.dispose();this.handler=null}this.$1.dispose()},onPress:function(ea){this.$9(ea);this.$1.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$a(ea)})));return this},onClick:function(ea){this.$5(ea);this.$1.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$6(ea)})));return this},onDoubleClick:function(ea){this.$7(ea);this.$1.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$8(ea)})));this.$0('doubleTap',ss.mkdel(this,this.handleDoubleClickEvent));return this},onRightClick:function(ea){this.$b(ea);this.$1.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$c(ea)})));return this},$0:function(ea,eb){if(!dA.isHandling(this.eventConfig,ea)){var ec={};dA.setHandler(ec,ea,eb);this.handler.update(ec);$.extend(this.eventConfig,ec)}},raiseEvent:function(ea,eb,ec){if(ss.isValue(eb)){if(ec){ea.stopPropagation()}eb(ea)}},handlePressEvent:function(ea){this.$2=ea.pageX;this.$3=ea.pageY;this.raiseEvent(ea,this.$1$1,false)},handleClickEvent:function(ea){this.raiseEvent(ea,this.$1$2,this.$4);if(ea.type==='touchend'){D.preventGhostClick(this.$2,this.$3)}},handleDoubleClickEvent:function(ea){this.raiseEvent(ea,this.$1$3,this.$4)},handleRightClickEvent:function(ea){ea.preventDefault();this.raiseEvent(ea,this.$1$4,this.$4)}},null,[ss.IDisposable]);ss.initClass(dA,a,{get_usingHover:function(){return dA.isHandling(this.config,'hover')||dA.isHandling(this.config,'moving')},isStartEvent:function(ea){return ss.keyExists(this.startEvents,ea)},isMoveEvent:function(ea){return ss.keyExists(this.moveEvents,ea)},isEndEvent:function(ea){return ss.keyExists(this.endEvents,ea)},isOutEvent:function(ea){return ss.keyExists(this.outEvents,ea)},isScrollEvent:function(ea){return ss.keyExists(this.scrollEvents,ea)},isCancelEvent:function(ea){return ss.keyExists(this.cancelEvents,ea)},isMouseEvent:function(ea){return this.handledEvents[ea]===1},isTouchEvent:function(ea){return this.handledEvents[ea]===2},isRightClickEvent:function(ea){return ea==='contextmenu'&&this.handledEvents[ea]===1},isLeftMouseEvent:function(ea){if(this.isMouseEvent(ea.type)){var eb=cF.getMouseButtonEnum(ea.originalEvent);if(eb==='left'){if(tab.BrowserSupport.get_isMac()&&ea.ctrlKey){return false}return true}}return false},suppressHover:function(){if(this.get_usingHover()){this.$3.hover.suppressHover()}},unsuppressHover:function(){if(this.get_usingHover()){this.$3.hover.unsuppressHover()}},cancelHover:function(){if(this.get_usingHover()){this.$3.hover.cancel()}},update:function(ea){$.extend(this.config,ea);var eb=new ss.ObjectEnumerator(this.$3);try{while(eb.moveNext()){var ec=eb.current();var ed=ec.value;ed.update(this.config)}}finally{eb.dispose()}this.setupPressDrag()},destroy:function(){this.dispose()},dispose:function(){if(ss.isValue(this.$4)){var ea=_.keys(this.handledEvents);for(var eb=0;eb<ea.length;eb++){var ec=ea[eb];this.$4.domElement.removeEventListener(ec.toString(),this.$4.eventHandler)}}if(ss.isValue(this['debugger'])){this['debugger']['destroy']()}dA.$0(this.$3.discrete);dA.$0(this.$3.drag);dA.$0(this.$3.hover);dA.$0(this.$3.pinch)},setupEventNames:function(){this.startEvents['touchstart']=2;this.moveEvents['touchmove']=2;this.endEvents['touchend']=2;this.cancelEvents['touchcancel']=2;if(tsConfig.is_mobile){if(!tsConfig.is_touch){this.startEvents['mousedown']=1;this.moveEvents['mousemove']=1;this.endEvents['mouseup']=1;this.outEvents['mouseout']=1}}else{this.startEvents['mousedown']=1;this.moveEvents['mousemove']=1;this.endEvents['mouseup']=1;this.outEvents['mouseout']=1;this.scrollEvents['scroll']=1;this.endEvents['contextmenu']=1}$.extend(this.handledEvents,this.startEvents,this.moveEvents,this.endEvents,this.outEvents,this.scrollEvents,this.cancelEvents)},makeRecognizers:function(ea){this.$3.drag=new bf(ea);this.$3.discrete=new bc(ea);this.$3.pinch=new cS(ea);if(this.get_usingHover()){this.$3.hover=new bE(ea)}},configureDomElem:function(ea){ea.style['-webkit-user-select']='none';ea.style['-webkit-touch-callout']='none';ea.style['-webkit-tap-highlight-color']='transparent';ea.style['-ms-touch-action']='none'},handler:function(ea){if(!tsConfig.is_mobile&&this.isTouchEvent(ea.type)){if(tab.DomUtil.handleTouchEvents(ea.target)){ea.originalEvent.preventDefault()}else{return}}if(this.mousedown&&dA.$2()!=='left'){this.mousedown=false}if(ea.touches.length>1&&!this.$1(ea)){var eb=new ss.ObjectEnumerator(this.$3);try{while(eb.moveNext()){var ec=eb.current();var ed=ec.value;ed.cancel()}}finally{eb.dispose()}return}if(this.isScrollEvent(ea.type)){this.mousedown=false}else if(this.isOutEvent(ea.type)){if(this.get_usingHover()){this.$3.hover.out(ea)}}else if(this.isStartEvent(ea.type)){this.handlingContextMenu=false;this.lastMouseButtonPressed=cF.getMouseButtonEnum(ea.originalEvent);if(this.isMouseEvent(ea.type)){if(!this.isLeftMouseEvent(ea)){return}this.mousedown=true;dA.$3(this.lastMouseButtonPressed)}if(this.get_usingHover()){this.$3.hover.start(ea)}this.$3.discrete.start(ea);this.$3.drag.start(ea);if(ss.isValue(this.$3.pinch)){this.$3.pinch.start(ea)}}else if(this.isMoveEvent(ea.type)){if(this.get_usingHover()){this.$3.hover.move(ea)}if(this.isMouseEvent(ea.type)&&this.lastMouseButtonPressed!=='left'){return}if(this.isMouseEvent(ea.type)&&!this.mousedown){return}this.$3.discrete.move(ea);this.$3.drag.move(ea);if(ss.isValue(this.$3.pinch)){this.$3.pinch.move(ea)}}else{dA.$3('none');if(this.isMouseEvent(ea.type)){this.mousedown=false}if(this.get_usingHover()){this.$3.hover.end(ea)}if(ss.isValue(this.$3.pinch)){this.$3.pinch.end(ea)}this.$3.drag.end(ea);if(this.isMouseEvent(ea.type)&&(this.isRightClickEvent(ea.type)||this.lastMouseButtonPressed==='right')){this.handlingContextMenu=true}if(tab.BrowserSupport.get_isMac()&&this.handlingContextMenu&&this.isMouseEvent(ea.type)&&ea.type==='mouseup'){return}if(this.handlingContextMenu&&this.isMouseEvent(ea.type)&&!this.isRightClickEvent(ea.type)){return}this.$3.discrete.end(ea)}},$0:function(ea){var eb=ss.mkdel(this,function(ef){var eg=new cM(ef,this.config.domElem,null);this.handler(eg)});this.$4={domElement:ea,eventHandler:eb};var ec=_.keys(this.handledEvents);for(var ed=0;ed<ec.length;ed++){var ee=ec[ed];ea.addEventListener(ee.toString(),eb,false)}},$2:function(){return dA.isHandling(this.config,'pressDragStart')||dA.isHandling(this.config,'pressDragMove')||dA.isHandling(this.config,'pressDragEnd')||dA.isHandling(this.config,'doublePressDragStart')||dA.isHandling(this.config,'doublePressDragMove')||dA.isHandling(this.config,'doublePressDragEnd')},$1:function(ea){var eb=ea.touches[0].target;var ec=ea.touches[1].target;if(!ss.isInstanceOfType(eb,Element)||!ss.isInstanceOfType(ec,Element)){return false}var ed=document.body;var ee=ea.currentTarget;var ef=false;while(!ef&&ss.isValue(eb)&&ss.isValue(ec)){ef=true;if(!ss.referenceEquals(eb,ee)&&!ss.referenceEquals(eb,ed)&&ss.isInstanceOfType(eb,Element)){eb=eb.parentNode;ef=false}if(!ss.referenceEquals(ec,ee)&&!ss.referenceEquals(ec,ed)&&ss.isInstanceOfType(ec,Element)){ec=ec.parentNode;ef=false}if(ss.referenceEquals(eb,ec)){ef=true}}return ss.referenceEquals(eb,ec)},setupPressDrag:function(){if(!this.$2()){return}var ea=ss.mkdel(this,function(ed){if(dA.isHandling(this.config,'press')){var ee=dA.$1(this.config,'press');ee(ed)}var ef={};dA.setHandler(ef,'dragStart',dA.$1(this.config,'pressDragStart'));dA.setHandler(ef,'dragMove',dA.$1(this.config,'pressDragMove'));dA.setHandler(ef,'dragEnd',dA.$1(this.config,'pressDragEnd'));dA.setHandler(ef,'pinchStart',dA.$1(this.config,'doublePressDragStart'));dA.setHandler(ef,'pinchMove',dA.$1(this.config,'doublePressDragMove'));dA.setHandler(ef,'pinchEnd',dA.$1(this.config,'doublePressDragEnd'));this.$3.drag.update(ef);if(ss.isValue(this.$3.pinch)){this.$3.pinch.update(ef)}});var eb=ss.mkdel(this,function(ed){if(dA.isHandling(this.config,'lastTouch')){var ee=dA.$1(this.config,'lastTouch');ee(ed)}this.$3.drag.update(this.config);if(ss.isValue(this.$3.pinch)){this.$3.pinch.update(this.config)}});var ec={};dA.setHandler(ec,'press',ea);dA.setHandler(ec,'lastTouch',eb);this.$3.discrete.update(ec)}},null,[ss.IDisposable]);dA.$ctor1.prototype=dA.prototype;ss.initClass(dB,a,{get_eventHandlingAttributesForReact:function(){return this.$2$1},set_eventHandlingAttributesForReact:function(ea){this.$2$1=ea},updateEventHandleSpec:function(ea,eb){this.config=eb||{};this.config.domElem=ea;this.makeRecognizers(this.config);this.configureDomElem(ea);this.setupPressDrag()},$5:function(){var ea={};var eb=ss.mkdel(this,function(ef){var eg=new cM(ef.nativeEvent,this.config.domElem,ef);this.handler(eg)});var ec=ss.getEnumerator(Object.keys(this.handledEvents));try{while(ec.moveNext()){var ed=ec.current();var ee=dB.$0(ed);if(ss.isValue(ee)){ea[ee]=eb}else{}}}finally{ec.dispose()}return ea}},dA,[ss.IDisposable]);ss.initClass(dC,a,{componentWillMount:function(){this.setState(this.$4)},render:function(){var ea=this.props.rows;if(ss.isNullOrUndefined(ea)||ea.length===0){return React.DOM.div({className:'tab-table-body'})}var eb=this.$2();var ec=this.state.indexOfFirstVisibleSection*dC.sectionHeight;var ed=React.DOM.div({style:{paddingTop:ec,height:ea.length*t.outerHeight-ec}},eb);var ee=[];ee.push('tab-table-body');if(this.props.showHeaders){ee.push('tab-table-body-below-headers')}return React.DOM.div({className:ee.join(' ')},ed)},$2:function(){return React.createElement(cR,{items:_.map(this.props.rows,function(ea){return{data:ea}}),fetchNextPage:this.props.fetchNextPage,cols:this.props.cols,colWidths:this.props.colWidths,measureColumnWidths:this.props.measureColumnWidths,onClick:this.props.onClick,selectedKeys:this.props.selectedKeys,showGridLines:this.props.showGridLines})},componentDidMount:function(){this.$0(this.props.requestedFocusedRowIndex)},$1:function(){var ea=this.props.reportScrollLeft;if(!ss.staticEquals(ea,null)){ea(ReactDOM.findDOMNode(this).scrollLeft)}},componentWillReceiveProps:function(ea){if(!ss.referenceEquals(ea.requestedFocusedRowIndex,this.props.requestedFocusedRowIndex)){this.$0(ea.requestedFocusedRowIndex)}},$0:function(ea){if(ss.isValue(ea)){this.setState({focusedRowIndex:Math.min(Math.max(ss.unbox(ea),0),this.props.rows.length-1)},ss.mkdel(this,function(){this.$3();return null}))}},$3:function(){var ea=$(ReactDOM.findDOMNode(this));var eb=ea.scrollTop();var ec=tab.DoubleUtil.roundToInt(ea.height())-dF.scrollbarWidth;var ed=ss.unbox(this.state.focusedRowIndex)*t.outerHeight;var ee=ed+t.outerHeight;if(ed<eb){window.setTimeout(function(){ea.scrollTop(ed)},0)}else if(ee>eb+ec){window.setTimeout(function(){ea.scrollTop(ee-ec)},0)}}},React.Component);ss.initClass(dD,a,{});ss.initEnum(dE,a,{ascending:0,descending:1});ss.initClass(dF,a,{componentWillMount:function(){this.setState({isShowingLoadingIndicator:true})},componentDidMount:function(){var ea=ReactDOM.findDOMNode(this).getBoundingClientRect();this.$7=Math.ceil(ea.right-ea.left)},$6:function(ea,eb){var ec={};ec[ea.name]=eb},$2:function(ea,eb){if(!ss.staticEquals(this.props.onCellClick,null)){this.props.onCellClick(ea,(ss.isValue(eb)?eb.dataKey:null))}},$4:function(ea){this.setState({measuredHeaderWidths:ea},ss.mkdel(this,function(){return this.$5()}))},$3:function(ea){this.setState({measuredColumnWidths:ea},ss.mkdel(this,function(){return this.$5()}))},$5:function(){if(ss.isValue(this.state.measuredColumnWidths)&&(!this.props.showHeaders||ss.isValue(this.state.measuredHeaderWidths))){var ea={};var eb={};var ec=0;_.each(this.props.cols,ss.mkdel(this,function(ek){var el=ek.name;var em;if(ss.isValue(ek.preferredWidth)){em=ss.unbox(ek.preferredWidth)}else{em=Math.max(this.state.measuredColumnWidths[el],(ss.isValue(this.state.measuredHeaderWidths)?this.state.measuredHeaderWidths[el]:0))}ea[el]=em;eb[el]=Math.min(em,dF.$1);ec+=eb[el]}));var ed=this.$7-dF.scrollbarWidth-ec;var ee=0;for(var ef=0;ef<this.props.cols.length&&ed>0;ef++){var eg=this.props.cols[ef];var eh=ea[eg.name]-eb[eg.name];if(eh>0){var ei=Math.min(eh,ed);eb[eg.name]+=ei;ed-=ei}if(eg.growToFit){ee+=1}}if(ed>0&&ee>0){var ej=ss.Int32.div(ed,ee);_.each(this.props.cols,function(ek){if(ek.growToFit){eb[ek.name]+=ej}})}this.setState({colWidths:{widths:eb}});if(!ss.staticEquals(this.props.reportWidth,null)){this.props.reportWidth(ec+dF.scrollbarWidth)}}return null},render:function(){var ea=this.props.cols;var eb=this.props.rows;var ec=this.state.colWidths;var ed=this.state.scrollLeft;var ee=null;var ef=null;if(this.props.showHeaders){ee=bA.createHeaderRow({key:'header',cols:ea,colWidths:(ss.isValue(ec)?ec:this.$1()),sortKey:this.props.sortKey,sortAscending:this.props.sortAscending,onHeaderClicked:ss.mkdel(this,function(ej,ek){if(!ss.staticEquals(this.props.onHeaderClicked,null)){this.props.onHeaderClicked(ej,ek)}}),measureColumnWidths:ss.mkdel(this,function(ej){this.$4(ej)}),scrollLeft:ed,onColumnResize:ss.mkdel(this,this.$6)})}if(ss.isValue(eb)&&eb.length>0){ef=dC.createTableBody({key:'body',showHeaders:this.props.showHeaders,showGridLines:this.props.showGridLines,cols:ea,colWidths:ec,measureColumnWidths:ss.mkdel(this,function(ej){this.$3(ej)}),reportScrollLeft:ss.mkdel(this,function(ej){this.$0(ej)}),rows:eb,requestedFocusedRowIndex:this.props.requestedFocusedRowIndex,selectedKeys:(ss.isValue(this.props.selectedKeys)?this.props.selectedKeys:[]),onClick:ss.mkdel(this,function(ej,ek){this.$2(ej,ek)}),fetchNextPage:this.props.fetchNextPage})}else{ef=bm.createEmptyBody({key:'emptyBody',emptyChild:React.DOM.div({},this.props.emptyChild)})}var eg=new di;eg.augmentedScrollY=false;eg.extraCssClass='tab-react-data-grid-hscroll';eg.mouseWheel=false;eg.scrollbars=true;eg.scrollX=true;eg.scrollY=false;var eh=eg;var ei=dh.createScroller(eh,[React.DOM.div({className:'tb-react-data-grid',tabIndex:0,style:{outline:'none',height:this.props.height}},ee,ef)]);return React.DOM.div({ref:'TableComponent'},ei)},$1:function(){if(ss.isNullOrUndefined(this.state.measuredHeaderWidths)){return null}var ea=0;var eb=0;_.each(this.props.cols,ss.mkdel(this,function(ef){if(ss.isValue(ef.preferredWidth)){ea+=ss.unbox(ef.preferredWidth)}else{ea+=this.state.measuredHeaderWidths[ef.name]}if(ef.resizable){eb++}}));var ec=this.$7-dF.scrollbarWidth-ea;var ed={widths:{}};if(ec>0&&eb>0){var ee=ss.Int32.div(ec,eb);_.each(this.props.cols,ss.mkdel(this,function(ef){if(ef.resizable){var eg;if(ss.isValue(ef.preferredWidth)){eg=ss.unbox(ef.preferredWidth)}else{eg=this.state.measuredHeaderWidths[ef.name]}ed.widths[ef.name]=eg+ee}}))}else if(eb===0){ed.widths=this.state.measuredHeaderWidths}return ed},$0:function(ea){if(ea!==this.state.scrollLeft){this.setState({scrollLeft:ea})}}},React.Component);ss.initClass(dG,a,{});ss.initClass(dI,a,{render:function(){var ea='tab-SelectionText'+(this.props.isSelectionTextMarkedAsExcluded?' excluded':'');var eb=ss.coalesce(this.props.styleClass,'tab-unification-outline-dropdown');return React.DOM.div({className:'tab-TextDropdownButton '+eb},(!ss.isNullOrEmptyString(this.props.selectionIconClass)?ss.mkdel(this,function(){return React.DOM.span({className:'tab-Icon '+this.props.selectionIconClass})})():null),React.DOM.span({className:ea},this.props.selectionText),React.DOM.span({className:'tab-DownArrowButton'},React.DOM.div({className:'arrow down'})))}},cY);ss.initClass(dL,a,{add_toggled:function(ea){this.$2$1=ss.delegateCombine(this.$2$1,ea)},remove_toggled:function(ea){this.$2$1=ss.delegateRemove(this.$2$1,ea)},get_toggleValue:function(){return this.$0},set_toggleValue:function(ea){if(ea!==this.get_toggleValue()){this.raiseToggled()}this.$0=ea},get_data:function(){return this.$2$2},set_data:function(ea){this.$2$2=ea},raiseToggled:function(){if(!ss.staticEquals(this.$2$1,null)){this.$2$1()}}},r,[ss.IDisposable,cg]);ss.initEnum(dM,a,{left:0,center:1,right:2});ss.initEnum(dN,a,{left:0,right:1});ss.initEnum(dO,a,{blockAndAutoHide:0,doNotBlockAndAutoHide:1,doNotBlockAndStayOpen:2});ss.initClass(dP,a,{});dP.$ctor1.prototype=dP.prototype;ss.initClass(dQ,a,{},dH,[ss.IDisposable]);ss.initEnum(dR,a,{standard:0,minimalist:1});ss.initClass(dS,a,{get_uberPopupShadowHeight:null,get_uberPopupMinimalistShadowHeight:function(){return 0},get_width:function(){return this.element.outerWidth(false)},set_width:function(ea){this.element.width(ea+'px')},get_height:function(){return this.element.outerHeight(false)},dispose:function(){if(ss.isValue(this.contentView)){this.contentView.dispose()}this.popupViewModel.remove_shown(ss.mkdel(this,this.shown));this.popupViewModel.remove_hidden(ss.mkdel(this,this.hidden));this.disposeGlass();this.$8();ss.makeGenericType(q,[dT]).prototype.dispose.call(this)},updateMode:function(){if(!this.visible){return}switch(this.popupViewModel.get_mode()){case 0:{this.$8();this.showGlass();break}case 1:{this.hideGlass();this.$5();break}case 2:{this.$8();this.hideGlass();break}}},onViewModelPropertyChanged:function(ea,eb){if(eb.get_propertyName()==='mode'){this.updateMode()}else if(eb.get_propertyName()==='size'){this.positionPopup()}else if(eb.get_propertyName()==='content'){this.updateContent()}},shown:function(){var ea=this.get_viewModel().options;this.updateContent();this.visible=true;this.updateMode();if(ea.theme===1){this.element.addClass('tabUberPopupMinimal')}this.element.css('left','0px').css('top','0px');this.element.appendTo('body');this.contentView.addToDom(this.get_template().content);if(ss.isValue(ea.additionalClassNames)){ea.additionalClassNames.forEach(ss.mkdel(this,function(eb){this.element.addClass(eb)}))}if(this.popupViewModel.options.isToolbarFlyout&&tsConfig.is_mobile){this.element.show();this.positionPopup()}else{this.element.hide();this.positionPopup();this.element.show()}},hidden:function(){this.visible=false;this.hideGlass();this.element.hide();this.element.detach()},showGlass:function(){if(ss.isNullOrUndefined(this.glass)){this.glass=new bv;this.glass.set_zIndex(987);this.glass.add_click(ss.mkdel(this,this.glassClicked))}this.glass.show()},hideGlass:function(){if(ss.isValue(this.glass)){this.glass.hide()}},disposeGlass:function(){if(ss.isValue(this.glass)){this.glass.remove_click(ss.mkdel(this,this.glassClicked));this.glass.dispose();this.glass=null}},glassClicked:function(){this.element.fadeOut(50,ss.mkdel(this,function(){this.popupViewModel.hide(true)}))},$5:function(){bx.add_firstTouch(ss.mkdel(this,this.$6))},$8:function(){bx.remove_firstTouch(ss.mkdel(this,this.$6))},$6:function(ea,eb){if(this.get_template().domRoot.get(0).contains(ea.target)){return}if(ss.isValue(this.popupViewModel.options.globalTouchWhitelist)){for(var ec=0;ec<this.popupViewModel.options.globalTouchWhitelist.length;ec++){var ed=this.popupViewModel.options.globalTouchWhitelist[ec];if(ed.contains(ea.target)){return}}}this.popupViewModel.hide(false)},positionPopup:function(){this.get_viewModel().get_resizeContent()(this.get_template().content,this.element);this.positionPopupHorizontally();if(this.popupViewModel.options.isToolbarFlyout){this.$7()}else{this.positionPopupVertically()}},positionPopupHorizontally:function(){var ea=this.get_viewModel().options;var eb=this.get_viewModel().get_relativeElement();var ec=$(eb.prop('ownerDocument'));var ed=this.get_width();var ee=tab.DomUtil.getPageOffset(eb).left;if(ea.horizontalAlign===1){ee+=eb.outerWidth(false)/2;ee-=ed/2}else if(ea.horizontalAlign===2){ee+=eb.outerWidth(false);ee-=ed}var ef=ee+ed-ec.width();if(ef>0){ee-=ef}if(ea.horizontalAttach===0){this.element.css('right','');this.element.css('left',Math.max(ee,0)+'px')}else{var eg=$('body').outerWidth(true);var eh=eg-(ee+ed);eh-=Math.max(0,eh+ed-eg);if(tab.BrowserSupport.get_isIE()&&tab.BrowserSupport.get_browserVersion()<9){eh=Math.max(0,eh)}this.element.css('left','');this.element.css('right',eh+'px')}if(ea.isToolbarFlyout){this.element.css('min-width',tab.DoubleUtil.roundToInt(eb.outerWidth(false)))}},$7:function(){var ea=this.get_viewModel().options;var eb=this.get_viewModel().get_relativeElement();var ec=$('body');var ed=tab.DomUtil.getPageOffset(eb).top;if(ea.preferUp){ed+=1;ed+=(ea.coverRelativeElement?eb.outerHeight(false):0);var ee=ec.outerHeight(true);this.element.css('top','');this.element.css('bottom',ss.Int32.trunc(ee-ed)+'px')}else{ed-=1;ed+=(ea.coverRelativeElement?0:eb.outerHeight(false));this.element.css('bottom','');this.element.css('top',ss.Int32.trunc(ed)+'px')}},positionPopupVertically:function(){var ea=this.get_viewModel().options;var eb=this.get_viewModel().get_relativeElement();var ec=tab.DomUtil.getPageOffset(eb);var ed=tab.DomUtil.roomAroundPosition(ec);var ee=eb.innerHeight();var ef=((ea.theme===1)?this.get_uberPopupMinimalistShadowHeight():this.get_uberPopupShadowHeight());var eg=null;if(ea.limitPopupHeight){eg=Math.max(ed.roomAbove-ef,ed.roomBelow-ee-ef)}if(ss.isValue(ea.maxPopupHeight)){var eh=eg;if(ss.isNullOrUndefined(eh)){eh=Number.MAX_VALUE}var ei=eh;eg=Math.min(ei,ss.unbox(ea.maxPopupHeight))}if(ss.isValue(eg)){this.element.css('max-height',eg+'px')}var ej=this.get_height();var ek=ed.roomBelow>=ej+ee+ef;var el=ed.roomAbove>ej+ef;var em=ec.top+ee;var en=ec.top-ej;var eo;if(ea.preferUp&&el){eo=en}else if(ek){eo=em}else if(el){eo=en}else if(ed.roomBelow>=ed.roomAbove){eo=ec.top-(ej-ed.roomBelow+ef)}else{eo=ec.top-ed.roomAbove+ef}this.element.css('top',eo+'px')},updateContent:function(){var ea=this.get_template().content;if(ss.isValue(this.contentView)){this.contentView.dispose()}ea.children().detach();this.contentView=cO.newView$1(ss.makeGenericType(cf,[cg])).call(null,this.popupViewModel.get_content().get_viewType(),[this.popupViewModel.get_content().get_viewModel()]);if(this.visible){this.contentView.addToDom(ea)}}},ss.makeGenericType(q,[dT]),[bH,ss.IDisposable,ss.makeGenericType(cf,[dT])]);ss.initClass(dT,a,{add_shown:function(ea){this.$2$1=ss.delegateCombine(this.$2$1,ea)},remove_shown:function(ea){this.$2$1=ss.delegateRemove(this.$2$1,ea)},add_hidden:function(ea){this.$2$2=ss.delegateCombine(this.$2$2,ea)},remove_hidden:function(ea){this.$2$2=ss.delegateRemove(this.$2$2,ea)},add_commit:function(ea){this.$2$3=ss.delegateCombine(this.$2$3,ea)},remove_commit:function(ea){this.$2$3=ss.delegateRemove(this.$2$3,ea)},get_mode:function(){return this.options.popupMode},set_mode:function(ea){if(this.options.popupMode===ea){return}this.options.popupMode=ea;this.notifyPropertyChanged('mode')},get_content:function(){return this.$0},set_content:function(ea){this.$0=ea;if(ss.isValue(this.$0)){this.$0.updateUberPopupViewModel(this)}this.notifyPropertyChanged('content');this.notifyPropertyChanged('size')},set_disposeOnHide:function(ea){this.remove_hidden(ss.mkdel(this,this.dispose));if(ea){this.add_hidden(ss.mkdel(this,this.dispose))}},get_relativeElement:function(){return this.$1()},set_relativeElement:function(ea){this.$1=function(){return ea}},get_resizeContent:function(){return this.$2$4},set_resizeContent:function(ea){this.$2$4=ea},updatePosition:function(){this.notifyPropertyChanged('size')},show:function(){if(ss.isNullOrUndefined(this.$2$1)){return}this.$2$1()},hide:function(ea){if(ea&&ss.isValue(this.$2$3)){this.$2$3()}this.raiseActionEvent(this.$2$2)},addDisposables:function(ea){this.disposables.add$1(ea)}},r,[ss.IDisposable,cg]);dT.$ctor1.prototype=dT.prototype;ss.initClass(dU,a,{});ss.initClass(dV,a,{},cC);ss.initClass(dW,a,{},cC);ss.initClass(dX,a,{render:function(){var ea=React.DOM.input({type:'text',value:this.state.displayValue,onChange:ss.mkdel(this,this.$8),onBlur:ss.mkdel(this,this.$0),disabled:this.props.disabled,maxLength:this.props.maxLength,tabIndex:this.props.tabIndex,onKeyDown:ss.mkdel(this,this.$5),onKeyUp:ss.mkdel(this,this.$6)});var eb=React.DOM.div({className:'tab-unification-spinner-btn-group tab-unification-spinner-btn-group-vertical'},bn.div({tap:ss.mkdel(this,function(ed){this.$7()})},{className:'tab-unification-spinner-btn'},[React.DOM.span({className:'tab-img-triangle-up'})]),bn.div({tap:ss.mkdel(this,function(ed){this.$2()})},{className:'tab-unification-spinner-btn'},[React.DOM.span({className:'tab-img-triangle-down'})]));var ec=React.DOM.div({className:'tab-unification-spinner-ctrl'+(this.props.disabled?' disabled':'')},ea,eb);if(ss.isValue(this.props.label)){ec=React.DOM.div(null,React.DOM.span({className:'tab-unification-spinner-label'+(this.props.disabled?' disabled':'')},this.props.label),ec)}ec=React.DOM.div({className:ss.coalesce(this.props.styleClass,'tab-outline-spinner')},ec);if(ss.isValue(this.props.extraCssClass)){ec=React.DOM.div({className:this.props.extraCssClass},ec)}return ec},componentWillReceiveProps:function(ea){this.setState(dX.$0(ea.initialValue))},componentWillUnmount:function(){this.$1()},$8:function(ea){this.$1();var eb=ea.target;this.setState({value:this.state.value,pendingValue:this.state.pendingValue,displayValue:eb.value})},$0:function(ea){this.$1();var eb={};if(!ss.Int32.tryParse(this.state.displayValue,eb)){eb.$=this.state.value}this.$a(eb.$)},$5:function(ea){switch(ea.keyCode){case 38:{this.$1();this.$9(this.state.pendingValue+this.props.stepSize);break}case 40:{this.$1();this.$9(this.state.pendingValue-this.props.stepSize);break}case 13:{this.$0(null);break}}},$6:function(ea){switch(ea.keyCode){case 38:case 40:{this.$3(this.state.pendingValue);break}}},$7:function(){if(this.props.disabled){return}this.$3(this.state.pendingValue+this.props.stepSize)},$2:function(){if(this.props.disabled){return}this.$3(this.state.pendingValue-this.props.stepSize)},$3:function(ea){this.$1();if(this.props.actionDelay===0){this.$a(ea)}else{this.$9(ea);this.$b=window.setTimeout(ss.mkdel(this,function(){this.$a(this.state.pendingValue)}),this.props.actionDelay)}},$1:function(){this.$b=tab.MiscUtil.clearTimeout(this.$b)},$a:function(ea){ea=this.$4(ea);var eb=ea!==this.state.value;this.setState(dX.$0(ea));if(eb&&!ss.staticEquals(null,this.props.onValueChanged)){this.props.onValueChanged(ea)}},$4:function(ea){if(ss.isValue(this.props.minValue)){ea=Math.max(ea,ss.unbox(this.props.minValue))}if(ss.isValue(this.props.maxValue)){ea=Math.min(ea,ss.unbox(this.props.maxValue))}return ea},$9:function(ea){ea=this.$4(ea);this.setState({value:this.state.value,pendingValue:ea,displayValue:ea.toString()})}},React.Component);ss.initClass(dY,a,{});ss.setMetadata(cf,{variance:[1]});(function(){dh.$1=null;dh.$1={};dh.$1[0]=b})();(function(){d.$0="\n<div class='tabMenuItem'>\n  <div class='tabMenuItemNameArea'>\n    <span class='tabMenuItemName'/>\n  </div>\n</div>"})();(function(){f.$0="<div class='tab-editable-text-view'><div><div class='view-mode'><span/></div><input class='edit-mode' type='text'/></div></div>"})();(function(){g.$0="<div class='tabTextInputView'><input class='tabTextInputViewInputElement' type='text'/></div>"})();(function(){i.$0="<span class='tabTabLabel' />"})();(function(){h.$0="<div><div class='tabTabLabels'/><div class='tabTabContentArea'/></div>"})();(function(){dZ.$2='widgetInstance';dZ.$1='tab-widget';dZ.$0='.tab-disableSelection';dZ.$3=0;if(tab.FeatureParamsLookup.getBool(33)===true){$(document.head).append('<style type="text/css">.tab-DesignTint { background-color: #F1F1FC; }</style>')}})();(function(){cM.$0=0})();(function(){cF.$2=null;cF.$3=null;cF.$1=false})();(function(){cE.$8=null})();(function(){D.$2=25;D.$3=null;D.$1$1=null})();(function(){bq.$0=0})();(function(){bw.$1$1=null;bw.$1$2=null;bw.$1$3=null;bw.$1$4=null;bw.$1$5=null;bw.$1$6=null})();(function(){bE.hoverTime=150;bE.fastHoverTime=120})();(function(){bc.$0=390;bc.$1=500;bc.$2=750})();(function(){bu.defaultSlop=5;bu.$1='tab-'})();(function(){bv.$1="<div class='tab-glass clear-glass'></div>";bv.$0='clear-glass';bv.$2='opaque-glass'})();(function(){dA.$4='none'})();(function(){bg.$e='tabDragSource';bg.$g='.tabDragSource';bg.$f='tabDragSource';bg.$h='tabDropTarget';bg.$j='.tabDropTarget';bg.$i='tabDropTarget';bg.$l=null;bg.$m=null;bg.$n=null;bg.$t=null;bg.$v=null;bg.$u=0;bg.$k=null;bg.$s=null;bg.$p=null;bg.$q=null;bg.$w=[];bg.$r=null;bg.$o=null;bg.$1$1=null;bg.$1$2=null;bg.$1$3=null;bg.$1$4=null;bg.$s={};bg.$s.dragStart=bg.dragStart;bg.$s.dragMove=bg.dragMove;bg.$s.dragEnd=bg.dragEnd;bg.$s.pressEnd=bg.dragEnd;bg.$s.firstTouch=bg.firstTouch})();(function(){dB.$1=null})();(function(){t.$0='bodyRow';t.innerHeight=30;t.outerHeight=t.innerHeight;t.$1='tab-table-brow-selected'})();(function(){dK.defaultSelectedClassName='selected';dK.selectedProperty='selected';dK.toggleClassProperty='selectedClass';dK.$1=0})();(function(){cj.$2="<span class='tab-checkbox'><input type='checkbox'></input><span class='label hide'></span></span>";cj.$4="<span class='tab-radio'><input type='radio'></input><span class='label hide'></span></span>";cj.$5="<span class='tab-icon-toggle'><span class='icon'></span><span class='label hide'></span></span>";cj.$3="<span class='innerIcon'></span>";cj.$6='.label';cj.$1='hide';cj.$7='tab-unification-check';cj.$8='tab-img-check';cj.$9='tab-unification-radio'})();(function(){dJ.textPropertyName='text'})();(function(){C.$0="<div class='tabTextInputView'><span class='tabClearableTextBoxClearButton'/><div class='tabTextInputViewInputElementContainer'><input class='tabTextInputViewInputElement' type='text'/></div></div>"})();(function(){E.$1=10;E.$0=300;E.$2=0})();(function(){dk.$0='__ALL__'})();(function(){bx.$1$1=null;bx.$1$2=null;bx.$1$3=null;bx.$1$4=null;bx.$1$5=null;bx.$1$6=null;bw.add_globalFirstTouch(bx.$1);bw.add_globalPress(bx.$3);bw.add_globalTap(bx.$5);bw.add_globalLastTouch(bx.$2);bw.add_globalRightClick(bx.$4);bw.add_globalDragEnd(bx.$0)})();(function(){dt.getSpiffBrowserViewportFunc=null})();(function(){du.$0='focusable';du.$3='selector';du.$1='relative';du.$2=3;du.$4=13})();(function(){cv.$0=0})();(function(){N.$0="<span class='tabComboBox tab-ctrl-formatted-widget tab-ctrl-formatted-darker-border-hover'>\n    <span class='tabComboBoxIcon'/>\n    <div class='tabComboBoxNameContainer tab-ctrl-formatted-fixedsize'><span class='tabComboBoxName'/></div>\n    <div class='tabComboBoxButtonHolder'><span class='tabComboBoxButton'/></div>\n</span>"})();(function(){cO.$2=null})();(function(){cz.htmlTemplate="<div class='tabMenu' tabindex='1'><div class='tabMenuContent'/></div>"})();(function(){cx.$0="<div class='tabMenuItemDivider'/>"})();(function(){cy.$0="\n<div class='tabMenuItemTextInputPanel'>\n  <div class='tabMenuItemTextInputHolder'>\n    <input class='tabMenuItemTextInput' type='text'>\n  </div>\n</div>"})();(function(){cA.defaultMenuItem='tabMenuDefaultItem';cA.classMenuItem='tabMenuMenuItem';cA.keyMenuItem='tabMenuMenuItem';cA.menuFadeDurationMS=50;cA.$3='tabMenuMenuItemLevel';cA.$1='tabMenuHasIconTwo';cA.$0=989;cA.$2=1000;cA.$4=20})();(function(){P.noIconClass='tabComboBoxNoIcon';P.iconPressedClass='tabComboBoxNoIconPressed';P.pressedClass='pressed';P.disabledClass='disabled';P.invalidClass='invalid';P.classesForTheme=ss.mkdict([0,'tabComboStdTheme',1,'tabComboCompactTheme',2,'tabComboStdTheme tabUnification',3,'tabComboStdTheme tab-unification-line-arrow-dropdown'])})();(function(){cn.listItemSpotlightedClassName='tab-list-item-spotlighted';cn.boldClass='bold';cn.invalidClass='invalid'})();(function(){co.selectedProperty='selected';co.invalidProperty='invalid';co.draggableProperty='draggable';co.spotlightedProperty='spotlighted';co.boldProperty='bold'})();(function(){cs.collectionProperty='collection';cs.enabledProperty='enabled'})();(function(){ct.$0="<div class='tab-list'><div class='tab-list-itemHolder'></div></div>"})();(function(){cO.registerType(cU,cU).call(null)})();(function(){dS.minimalistThemeClass='tabUberPopupMinimal';dS.glassZIndex=987})();(function(){dT.modeProperty='mode';dT.sizeProperty='size';dT.contentProperty='content'})();(function(){R.listClassName='tabCompositeSearchWidgetList';R.$0=400})();(function(){ci.$1="<a href='#' class='tab-link-button'><span class='label hide'></span></a>";ci.$0="<button class='tab-button' type='button'><span class='icon'></span><span class='label hide'></span></button>";ci.$2="<span class='tab-text-button'><span class='label hide'></span></span>";ci.$3='.label'})();(function(){T.$0="<div class='tabCompositeSearchWidget'><div>"})();(function(){V.noOp=new V('cursors/dragnop-black.cur','auto');V.delete$1=new V('cursors/dragdel-black.cur','auto');V.copy=new V('cursors/dragcopy-black.cur','auto');V.move=new V('cursors/dragmove-black.cur','auto')})();(function(){W.$0="<div class='tabCustomScroller'>\n            <div class='tabScrollerContentWindow'><span class='tabScrollerContent'/></div>\n            <div class='tabVerticalScrollbar'><div class='tabScrollbarIndicator'/></div>\n            <div class='tabHorizontalScrollbar'><div class='tabScrollbarIndicator'/></div>\n        </div>"})();(function(){cK.$0="<div class='tabScroller'><span class='tabScrollerContent'/></div>"})();(function(){Z.$0="<div class='tabScroller'><span class='tabScrollerContent'/></div>"})();(function(){ba.$1=1;ba.$0=9})();(function(){cJ.$0=18})();(function(){X.centeredVerticallyClassName='centeredVertically';X.scrollableClassName='scrollable';X.$1=8})();(function(){cP.$b=2500;cP.$c=75;cP.$i=null;cP.$j=null;cP.$d=0;cP.$e=0;cP.$h=null;cP.$g=null;cP.$f=false;cP.$1$1=null;cP.init()})();(function(){bb.positionProperty='position';bb.isActiveProperty='isActive';bb.$0='active';bb.$2='.tab-dialogCloseButton';bb.$1='.tab-dialogBodyContainer';bb.$6='.tab-dialogTitleBar';bb.$7='.tab-dialogTitle';bb.$4='.tab-dialogResizer';bb.$5='.tab-dialogSpinnerContainer';bb.$3="\n<div class='tab-dialog'>\n  <div class='tab-dialogTitleBar'>\n    <div class='tab-dialogTitle'></div>\n    <div class='tab-dialogCloseButton'></div>\n  </div>\n  <div class='tab-dialogBodyContainer'></div>\n  <div class='tab-dialogResizer tab-icon-resize-se'><div class='tab-dialogResizerHit'/></div>\n  <div class='tab-dialogSpinnerContainer'></div>\n</div>\n";bb.$8=null;bb.defaultDraggableDialogConfigurer=null;bb.defaultStationaryDialogConfigurer=null;bb.defaultDraggableDialogConfigurer=function(ea){var eb=new cH(ea.$u,ea.$g,false);eb.set_documentBodySize('useClientSize');return eb};bb.defaultStationaryDialogConfigurer=function(){return null}})();(function(){bl.$0='editing';bl.$1='hover'})();(function(){cr.$0=10})();(function(){SharedWidgets.PointerEventAdapterManager.adapterFactory=function(){return new dq}})();(function(){dx.$1="<span class='tabTextIconButton'><span class='icon'/><span class='label hide'/></span>"})();(function(){dF.dataGridClass='tb-react-data-grid';dF.$0='TableComponent';dF.$1=200;dF.scrollbarWidth=20;dF.minimumColumnWidth=35})();(function(){dC.sectionRows=10;dC.sectionHeight=dC.sectionRows*t.outerHeight})();(function(){dQ.$0="<div class='tabUberPopup'><div class='tabUberPopupContent'/></div>"})();(function(){dU.designTint='tab-DesignTint';dU.text='tab-Text';dU.bold='tab-bold';dU.italic='tab-italic';dU.underline='tab-underline';dU.darkBackground='tab-darkBackground';dU.title='tab-Title';dU.button='tab-UnifiedButton';dU.icon='tab-Icon';dU.iconButton='tab-IconBtn';dU.vScrollable='tab-vScrollable';dU.selectableButtonGroup='tab-SelectableButtonGroup';dU.selectionMark='tab-SelectionMark';dU.active='active';dU.hover='hover';dU.hitTestArea='tab-HitTestArea';dU.focused='focused';dU.bordered='bordered';dU.disabled='disabled';dU.selectable='selectable';dU.selected='selected';dU.unselected='unselected';dU.excluded='excluded';dU.search='tab-Search';dU.searchField='tab-UnifiedSearchField';dU.searchClearButton='tab-SearchClearButton';dU.positioningContainer='tab-PositioningContainer';dU.searchInput='tab-SearchInput';dU.ghostText='tab-GhostText';dU.textInput='tab-TextInput';dU.glass='tab-Glass';dU.catQF='tab-NewQF-CategoricalQuickFilter';dU.titleAndCtrl='tab-TitleAndControls';dU.horizontalLayout='tab-HorizontalLayout';dU.qfTitleBarButton='tab-NewQFTitleBarBtn';dU.dropdownButtonIcon='tab-NewQFTitleBarDropdownBtnIcon';dU.searchButtonIcon='tab-NewQFTitleBarSearchBtnIcon';dU.clearButtonEnabledIcon='tab-NewQFTitleBarFilteredBtnIcon';dU.clearButtonDisabledIcon='tab-NewQFTitleBarNonFilteredBtnIcon';dU.domainButtonAllIcon='tab-NewQFTitleBarDomainAllIcon';dU.domainButtonContextIcon='tab-NewQFTitleBarDomainContextIcon';dU.domainButtonRelevantIcon='tab-NewQFTitleBarDomainRelevantIcon';dU.applyCancelPanel='tab-ApplyCancelPanel';dU.applyCancel='apply-cancel';dU.apply$1='apply';dU.cancel='cancel'})()})();;
/*! BEGIN LegacyDojoModuleInterfaces */
(function(){'dont use strict';var a={};global.Tableau=global.Tableau||{};global.Tableau.JavaScript=global.Tableau.JavaScript||{};global.Tableau.JavaScript.Vql=global.Tableau.JavaScript.Vql||{};global.Tableau.JavaScript.Vql.LegacyDojoModuleInterfaces=global.Tableau.JavaScript.Vql.LegacyDojoModuleInterfaces||{};ss.initAssembly(a,'vqllegacydojomoduleinterfaces');var b=function(){};b.__typeName='Tableau.JavaScript.Vql.LegacyDojoModuleInterfaces.ICurrentPagePanelWidgetShim';global.Tableau.JavaScript.Vql.LegacyDojoModuleInterfaces.ICurrentPagePanelWidgetShim=b;var c=function(){};c.__typeName='Tableau.JavaScript.Vql.LegacyDojoModuleInterfaces.IFilterPanelWidgetShim';global.Tableau.JavaScript.Vql.LegacyDojoModuleInterfaces.IFilterPanelWidgetShim=c;var d=function(){};d.__typeName='Tableau.JavaScript.Vql.LegacyDojoModuleInterfaces.ILegacyDojoWidgetMaker';global.Tableau.JavaScript.Vql.LegacyDojoModuleInterfaces.ILegacyDojoWidgetMaker=d;var e=function(){};e.__typeName='Tableau.JavaScript.Vql.LegacyDojoModuleInterfaces.ILegacyQuickFilterDisplayViewModel';global.Tableau.JavaScript.Vql.LegacyDojoModuleInterfaces.ILegacyQuickFilterDisplayViewModel=e;var f=function(){};f.__typeName='Tableau.JavaScript.Vql.LegacyDojoModuleInterfaces.ILegacyWidgetShim';global.Tableau.JavaScript.Vql.LegacyDojoModuleInterfaces.ILegacyWidgetShim=f;var g=function(){};g.__typeName='Tableau.JavaScript.Vql.LegacyDojoModuleInterfaces.IPageViewModel';global.Tableau.JavaScript.Vql.LegacyDojoModuleInterfaces.IPageViewModel=g;var h=function(){};h.__typeName='Tableau.JavaScript.Vql.LegacyDojoModuleInterfaces.IParameterControlViewModel';global.Tableau.JavaScript.Vql.LegacyDojoModuleInterfaces.IParameterControlViewModel=h;var i=function(){};i.__typeName='Tableau.JavaScript.Vql.LegacyDojoModuleInterfaces.IParameterControlWidgetShim';global.Tableau.JavaScript.Vql.LegacyDojoModuleInterfaces.IParameterControlWidgetShim=i;ss.initInterface(f,a,{getDomNode:null,destroyRecursiveShim:null,startupShim:null});ss.initInterface(b,a,{destroyRecursiveShim$1:null,updatePropertiesShim:null,refreshLayoutShim:null},[f]);ss.initInterface(c,a,{updateAttributesShim:null,updateFilterStateShim:null,setTitleSizeShim:null,updateFilterPropertiesShim:null,updateSubWidgetShim:null},[f,ss.IDisposable]);ss.initInterface(d,a,{makeCurrentPagePanelWidget:null,makeFilterPanelWidget:null,makeControlWidget:null});ss.initInterface(e,a,{});ss.initInterface(g,a,{get_visualId:null,get_isHistoryToggleInteractionDisabled:null,get_pageModel:null});ss.initInterface(h,a,{get_parameterCtrlModel:null,get_hasBorder:null});ss.initInterface(i,a,{destroyRecursiveShim$1:null,updatePropertiesShim:null,layoutShim:null},[f])})();;
/*! BEGIN ModuleInterfaces */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqlmoduleinterfaces');var b=function(){};b.__typeName='tab.IDataTabModule';global.tab.IDataTabModule=b;var c=function(){};c.__typeName='tab.IPdfExportDialogModule';global.tab.IPdfExportDialogModule=c;var d=function(){};d.__typeName='tab.IStoryModule';global.tab.IStoryModule=d;var e=function(){};e.__typeName='tab.IZoneViewModel';global.tab.IZoneViewModel=e;ss.initInterface(b,a,{showDataTab:null,hideDataTab:null});ss.initInterface(c,a,{createPdfExportDialog:null});ss.initInterface(d,a,{newFlipboardNavigatorViewModel:null,newFlipboardViewModel:null,newFlipboardNavigatorView:null,newFlipboardView:null});ss.initInterface(e,a,{add_resizeZone:null,remove_resizeZone:null,get_width:null,get_height:null,forceZoneValidState:null})})();;
/*! BEGIN UI */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqlui');var b=function(){};b.__typeName='FontFace$FontFaceLoadStatus';global.FontFace$FontFaceLoadStatus=b;var c=function(){};c.__typeName='FontFaceSet$FontFaceSetLoadStatus';global.FontFaceSet$FontFaceSetLoadStatus=c;var d=function(){};d.__typeName='tab.$0';d.$0=function(e,L,hT){var hU=e.zmP[L].PoP;var hV=e.TTN;var hW=[];var hX=e.dhm;var hY=_.keys(hX);for(var hZ=0;hZ<hY.length;hZ++){var ia=hY[hZ];if(ss.referenceEquals(ia,hV)){continue}var ib=hX[ia];if(!ss.isNullOrEmptyString(hT)&&!ss.referenceEquals(ib.UyO,hT)){continue}var ic=[];for(var id=0;id<ib.Dfq.length;id++){var ie=ib.Dfq[id];if(ss.isValue(ie._HL)){continue}if(ie.VzB==='fhq'){continue}var ig=ie;if(ss.isValue(ig.MWY)){for(var ih=0;ih<ig.MWY.length;ih++){var ii=ig.MWY[ih];var ij=Q.newField(ii.dMo,f.$2(ii.YIQ),f.$1(ii.Ymv1));ic.push(ij)}}else{var ik=Q.newField(ie.dMo,f.$2(ie.tgs),f.$1(ie.fuT));ic.push(ik)}}var il=ss.referenceEquals(ib.UyO,hU);var im=Q.newDataSource(ib.UyO,Array.prototype.slice.call(ic),il);hW.push(im)}var io=Q.newDataSourcesForWorksheet(L,Array.prototype.slice.call(hW));return io};var f=function(){};f.__typeName='tab.$1';f.$0=function(e){switch(e){case'boolean':{return'bool'}case'date':case'datetime':{return'date'}case'integer':case'real':case'tuple':{return'number'}case'cstring':{return'string'}case'unknown':default:{return'string'}}};f.$6=function(e){switch(e){case'boolean':{return'boolean'}case'date':{return'date'}case'datetime':{return'datetime'}case'integer':{return'integer'}case'real':case'tuple':{return'float'}case'cstring':case'unknown':default:{return'string'}}};f.$1=function(e){switch(e){case'attr':{return'ATTR'}case'average':{return'AVG'}case'count':{return'COUNT'}case'count-d':{return'COUNTD'}case'day':{return'DAY'}case'end':{return'END'}case'hour':{return'HOUR'}case'in-out':{return'INOUT'}case'kurtosis':{return'KURTOSIS'}case'max':{return'MAX'}case'mdy':{return'MDY'}case'median':{return'MEDIAN'}case'min':{return'MIN'}case'minute':{return'MINUTE'}case'month':{return'MONTH'}case'month-year':{return'MONTHYEAR'}case'none':{return'NONE'}case'percentile':{return'PERCENTILE'}case'qtr':{return'QTR'}case'quart1':{return'QUART1'}case'quart3':{return'QUART3'}case'second':{return'SECOND'}case'skewness':{return'SKEWNESS'}case'std-dev':{return'STDEV'}case'std-dev-p':{return'STDEVP'}case'sum':{return'SUM'}case'sum-xsqr':{return'SUM_XSQR'}case'trunc-day':{return'TRUNC_DAY'}case'trunc-hour':{return'TRUNC_HOUR'}case'trunc-month':{return'TRUNC_MONTH'}case'trunc-qtr':{return'TRUNC_QTR'}case'trunc-second':{return'TRUNC_SECOND'}case'trunc-week':{return'TRUNC_WEEK'}case'trunc-year':{return'TRUNC_YEAR'}case'user':{return'USER'}case'var':{return'VAR'}case'var-p':{return'VARP'}case'week':{return'WEEK'}case'weekday':{return'WEEKDAY'}case'year':{return'YEAR'}default:{throw new ss.Exception('Unknown AggType: '+e)}}};f.$2=function(e){switch(e){case'dimension':{return'dimension'}case'measure':{return'measure'}case'unknown':{return'unknown'}default:{throw new ss.Exception('Unknown FieldRole type: '+e)}}};f.$3=function(e){switch(e){case'any':{return'all'}case'list':{return'list'}case'range':{return'range'}default:{throw new ss.Exception('Unknown ParameterTypesDomainType: '+e)}}};f.$4=function(e){switch(e){case'year':{return'year'}case'day':{return'day'}case'hour':{return'hour'}case'minute':{return'minute'}case'month':{return'month'}case'quarter':{return'quarter'}case'second':{return'second'}case'week':{return'week'}default:{throw new ss.Exception('Unknown DatePeriodType: '+e)}}};f.$5=function(e){switch(e){case'curr':{return'curr'}case'last':{return'last'}case'lastn':{return'lastn'}case'next':{return'next'}case'nextn':{return'nextn'}case'todate':{return'todate'}case'invalid':default:{throw new ss.Exception('Unknown or invalid Filters.RelativeDateRangeType: '+e)}}};f.$7=function(e){switch(e){case'color':case'shape':case'size':{return'legend'}case'map':{return'legend'}case'filter':{return'quickFilter'}case'viz':{return'worksheet'}case'paramctrl':{return'parameterControl'}case'empty':{return'blank'}case'title':{return'title'}case'text':{return'text'}case'bitmap':{return'image'}case'web':{return'webPage'}case'layout-basic':case'layout-flow':case'layout-free-form':{return null}default:{return'blank'}}};var g=function(e,L,hT,hU,hV,hW){this.$t=0;F.call(this,e,L,hT,hU,hV,hW);this.$e(this.$p());this.$n().height(this.$h())};g.__typeName='tab.$10';var h=function(e,L,hT,hU,hV,hW){this.$t=0;F.call(this,e,L,hT,hU,hV,hW);this.$d(this.$p());this.$n().width(this.$h())};h.__typeName='tab.$11';var i=function(e,L,hT,hU,hV,hW){this.$t=0;F.call(this,e,L,hT,hU,hV,hW);this.$e(this.$p());this.$n().height(this.$h())};i.__typeName='tab.$12';var j=function(e){this.$0=null;this.$3=null;this.$2=null;this.$1=null;this.$3=e;this.$0=this.$3.css('font-family').split(',')[0];this.$2=[];this.$1=[]};j.__typeName='tab.$13';var k=function(){};k.__typeName='tab.$14';var l=function(e,L,hT,hU,hV){this.$5=0;this.$6=0;this.$4=0;this.$2=false;this.$3=null;this.$5=e;this.$6=L;this.$4=hT;this.$2=hU;this.$3=hV};l.__typeName='tab.$15';var m=function(e){this.$2=null;this.$3=null;this.$5=null;this.$4=false;this.$5=e;this.$4=this.$5==='selected'||this.$5==='highlighted'||this.$5==='hover'};m.__typeName='tab.$16';var n=function(e){this.$1=0;this.$6=0;this.$5=null;this.$4=null;this.$3=null;this.$8=null;this.$7=null;this.$b=null;this.$a=0;this.$2=null;this.$9=null;this.$1=e.get_alpha();this.$4=e.get_lineJoin();this.$3=e.get_lineCap();this.$5=e.get_linePattern();this.$8=e.get_strokeStyle();this.$6=e.get_lineWidth();this.$a=e.get_textAngle();this.$2=e.get_font();this.$7=e.get_shapeFillStyle();this.$b=e.get_textFillStyle();this.$9=e.get_textAlign()};n.__typeName='tab.$17';var o=function(e,L,hT,hU,hV,hW,hX){this.$1=null;this.$5=0;this.$2=null;this.$6=null;this.$3=false;this.$4=false;this.$7=null;this.$1=e;this.$5=L;this.$2=hT;this.$6=hU;this.$3=hV;this.$4=hW;this.$7=hX.clone()};o.__typeName='tab.$18';var p=function(){this.$4=0;this.$5=0;this.$3=null;this.$1$1=null};p.__typeName='tab.$19';var q=function(){};q.__typeName='tab.$2';q.$0=function(e,L){var hT={};hT['api.commandResult']=e;hT['api.commandData']=L;var hU=JSON.stringify(hT);return hU};var r=function(){this.$b=null;this.$a=null;this.$e=null;this.$i=null;this.$d=null;this.$g=null;this.$h=null;this.$c=null;this.$f=null;spiff.Template.call(this,$("\n<div class='tabDataConnVarEditControl'>\n    <span class='tabDataConnVarEditCtrlVarArea'>\n        <div class='tabDataConnVarEditCtrlName'/>\n        <div class='tabDataConnVarEditCtrlDesc'/>\n    </span>\n    <span class='tabDataConnVarEditCtrlOpSelector'/>\n    <input class='tabDataConnVarEditCtrlValInput' type='text'/>\n    <span class='tabDataConnVarEditCtrlValSelector'>\n        <div class='tabDataConnVarEditCtrlFirstValSelector'>\n            <span class='tabDataConnVarEditCtrlFromLabel'/>\n        </div>\n        <div class='tabDataConnVarEditCtrlSecondValSelector'>\n            <span class='tabDataConnVarEditCtrlToLabel'/>\n        </div>\n    </span>\n</div>"));this.$b=this.getElementBySelector('.tabDataConnVarEditCtrlName');this.$a=this.getElementBySelector('.tabDataConnVarEditCtrlDesc');this.$e=this.getElementBySelector('.tabDataConnVarEditCtrlOpSelector');this.$i=this.getElementBySelector('.tabDataConnVarEditCtrlValInput');this.$d=this.getElementBySelector('.tabDataConnVarEditCtrlFromLabel');this.$g=this.getElementBySelector('.tabDataConnVarEditCtrlToLabel');this.$h=this.getElementBySelector('.tabDataConnVarEditCtrlValSelector');this.$c=this.getElementBySelector('.tabDataConnVarEditCtrlFirstValSelector');this.$f=this.getElementBySelector('.tabDataConnVarEditCtrlSecondValSelector')};r.__typeName='tab.$20';var s=function(){this.$1=null;spiff.Template.call(this,$("<div class='refLineConstantValueEditor'><span class='refLineConstantValueEditorTitle'></span><input class='refLineConstantValueEditorInput' type='text'/></div>"));this.$1=this.getElementBySelector('.refLineConstantValueEditorInput');this.getElementBySelector('.refLineConstantValueEditorTitle').text(tab.Strings.RefLineEditorInputTitle)};s.__typeName='tab.$21';var t=function(){this.$1=null;spiff.Template.call(this,$("<div class='tabMapsSearchContainer'><div class='tabMapsSearchView'></div></div>"));this.$1=this.getElementBySelector('.tabMapsSearchView')};t.__typeName='tab.$22';var u=function(e){this.$8=null;this.$c=null;this.$9=false;this.$a=0;this.$b=null;this.$c=e;this.$9=false;this.$a=0};u.__typeName='tab.$23';var v=function(e,L,hT,hU,hV,hW){this.$U=null;this.$V=null;this.$T=null;eF.call(this,e.canvasElt,e.renderContext);this.$V={};var hX=tab.ApplicationModel.get_instance().get_shapeManager().get_imageKeys();var hY=ss.getKeyCount(tab.SceneDataUtil.shapeMapping)+hX.length;var hZ=2;var ia=hU-4;var ib=hV-4;var ic=L-ia/2;var id=hT-ib/2;var ie=hU-1;var ig=hV-1;var ih=L-ie/2;var ii=hT-ig/2;var ij=this.$R(hY);var ik=this.$R(hY);var il=this.$R(hY);var im=this.$R(hY);var io=this.$R(hY);var ip=this.$R(hY);for(var iq=0;iq<hY;iq++){var ir;if(iq<ss.getKeyCount(tab.SceneDataUtil.shapeMapping)){ir=_.keys(tab.SceneDataUtil.shapeMapping)[iq];il.uBu[iq]=ia;im.uBu[iq]=ib;io.uBu[iq]=ic;ip.uBu[iq]=id}else{ir=hX[iq-ss.getKeyCount(tab.SceneDataUtil.shapeMapping)];il.uBu[iq]=ie;im.uBu[iq]=ig;io.uBu[iq]=ih;ip.uBu[iq]=ii}this.$V[ir]=iq;ik.uBu[iq]=ir;ij.uBu[iq]=iq.toString()}var it={};it.GKA={};it.GKA['shape_id']=ik;it.GKA['tuple_id']=ij;it.GKA['size']=il;it.GKA['width']=il;it.GKA['height']=im;it.GKA['left']=io;it.GKA['top']=ip;it.LTd={};it.LTd['color']=(new tab.ColorModel(0,0,0,1)).toArgbInt();it.LTd['background_color']=hW.toArgbInt();it.DTe={};it.DTe['x']=L;it.DTe['y']=hT;var iu={};iu.PeS={};iu.PeS.RAC=0;iu.PeS.thj=0;iu.PeS.rec=hU;iu.PeS.EUR=hV;var iv={};iv.QNi=0;iv.sDT=hY;var iw=new fU;this.$U=new fu.$ctor1('pdKey',iw,iu,iv,it,null,'pdKey')};v.__typeName='tab.$24';var w=function(){spiff.Template.call(this,$("<div class='tabHorizontalSlider'>\n</div>'"))};w.__typeName='tab.$25';var x=function(e){this.$9=0;this.$b=-1;this.$a=null;this.$8=true;this.$1$1=null;this.$1$2=null;this.$9=e;this.$b=-1;this.$8=true};x.__typeName='tab.$26';var y=function(){this.$6=null;this.$7=null;this.$8=null;spiff.Template.call(this,$("<div><div class='tabLeafletMapHolder' /><div class='tabLeftBarnDoor' /><div class='tabRightBarnDoor' /></div>"));this.$6=this.getElementBySelector('.tabLeftBarnDoor');this.$7=this.getElementBySelector('.tabRightBarnDoor');this.$8=this.getElementBySelector('.tabLeafletMapHolder');var e=ss.mkdict(['position','absolute','top','0px','bottom','0px']);this.$6.css(e);this.$7.css(e);this.$6.css('left','0px');this.$7.css('right','0px');if(tab.BrowserSupport.get_isIE()){this.$6.css('z-index','10');this.$7.css('z-index','10')}};y.__typeName='tab.$27';var z=function(e,L,hT){this.$4=null;this.$2=null;this.$3=0;this.$4=e;this.$2=L;this.$3=hT};z.__typeName='tab.$28';var A=function(e,L,hT,hU,hV){this.$6=false;this.$a=0;this.$7=null;this.$8=null;this.$9=null;this.$a=e;this.$6=L;this.$7=hT;this.$8=hU;this.$9=hV};A.__typeName='tab.$29';var B=function(){};B.__typeName='tab.$3';B.$a=function(e){var L=JSON.parse(e.toString());var hT=[];if(ss.isValue(L)){for(var hU=0;hU<L.length;hU++){var hV=L[hU];var hW=B.$5(hV);if(ss.isValue(hW)){hT.push(hW)}}}var hX=new Object;hX.filters=Array.prototype.slice.call(hT);return hX};B.$9=function(e){var L=B.$0(e);if(ss.isValue(L)){return L}return e};B.$e=function(e){var L=B.$0(e);if(ss.isValue(L)){return L}var hT=JSON.parse(e.toString());if(ss.isValue(hT)){return B.$5(hT)}return null};B.$0=function(e){var L=e;if(ss.keyExists(L,'BhX')){if(ss.isValue(L['oIc'])){return Q.newCommandError('invalidFilterFieldName',L['oIc'])}else if(ss.isValue(L['cVZ'])){return Q.newCommandError('invalidFilterFieldValue',L['cVZ'])}else if(ss.isValue(L['sRL'])){return Q.newCommandError('invalidAggregationFieldName',L['OLk'])}else{return Q.newCommandError('serverError',null)}}return null};B.$2=function(e){switch(e){case'C':{return'categorical'}case'H':{return'hierarchical'}case'Q':{return'quantitative'}case'RD':{return'relativedate'}default:{throw new ss.Exception('Unknown filter type: '+e)}}};B.$5=function(e){var L=B.$2(e.type);switch(L){case'categorical':{return B.$7(e)}case'relativedate':{return B.$d(e)}case'hierarchical':{return B.$b(e)}case'quantitative':{return B.$c(e)}default:{throw new ss.Exception('Unknown FilterType: '+L)}}};B.$6=function(e,L){var hT=e.fieldName;var hU=e.fieldCaption;var hV=B.$2(e.type);var hW=null;var hX=null;var hY=null;if(ss.isValue(e.fieldDetailsJson)&&ss.isValue(e.fieldDatasource)){hW=e.fieldDatasource;var hZ=JSON.parse(e.fieldDetailsJson);var ia=hZ['genFieldColumnPresModel'];hX=f.$2(ia.YIQ);hY=f.$1(ia.Ymv1)}return L(hT,hV,hU,hW,hX,hY)};B.$7=function(e){var L=e.exclude||false;var hT=null;if(ss.isValue(e.table)){var hU=e.table;if(ss.isValue(hU.tuples)){var hV=ss.coalesce(e.all,false)||ss.coalesce(e.allChecked,false);var hW=hU.tuples;var hX=[];for(var hY=0;hY<hW.length;hY++){var hZ=hW[hY];if(hV||ss.isValue(hZ.s)&&hZ.s){var ia=hZ.t[0];var ib=hZ.d;hX.push(B.$4(e,ia,ib))}}hT=Array.prototype.slice.call(hX)}}var ic=function(id,ie,ig,ih,ii,ij){return Q.newCategoricalFilter(id,ie,ig,ih,ii,ij,L,hT)};return B.$6(e,ic)};B.$c=function(e){var L=null;var hT=null;var hU=null;var hV=null;var hW=false;if(ss.isValue(e.range)){var hX=e.range;if(ss.isValue(hX.min)&&ss.isValue(hX.min.v)){L=B.$3(e,hX.min,null)}if(ss.isValue(hX.max)&&ss.isValue(hX.max.v)){hT=B.$3(e,hX.max,null)}}if(ss.isValue(e.table)){var hY=e.table;if(ss.isValue(hY.min)&&ss.isValue(hY.min.v)){hU=B.$3(e,hY.min,null)}if(ss.isValue(hY.max)&&ss.isValue(hY.max.v)){hV=B.$3(e,hY.max,null)}if(ss.isValue(hY.included)){var hZ=hY.included;hW=hZ==='include-all'||hZ==='include-null'||hZ==='include-range-or-null'}}var ia=function(ib,ic,id,ie,ig,ih){return Q.newQuantitativeFilter(ib,ic,id,ie,ig,ih,L,hT,hU,hV,hW)};return B.$6(e,ia)};B.$d=function(e){var L=null;var hT=null;var hU=null;var hV=e.table;if(ss.isValue(hV)){if(ss.isValue(hV.periodType)){L=f.$4(hV.periodType)}if(ss.isValue(hV.rangeType)){hT=f.$5(hV.rangeType)}if(ss.isValue(hV.rangeN)){hU=hV.rangeN}}var hW=function(hX,hY,hZ,ia,ib,ic){return Q.newRelativeDateFilter(hX,hY,hZ,ia,ib,ic,L,hT,hU)};return B.$6(e,hW)};B.$4=function(e,L,hT){return B.$3(e,L,hT)};B.$3=function(e,L,hT){var hU=new Object;if(ss.isNullOrUndefined(L)){return hU}var hV=B.$1(L.t);var hW=[L];if(ss.isValue(e.range)){hW.push(e.range.min,e.range.max)}if(ss.isValue(e.table)){hW.push(e.table.min,e.table.max)}var hX=el.getDateTimeFormatMode(hW,'none',e.date_format);hU.type=f.$0(hV);var hY=((hV==='date'||hV==='datetime')?e.date_format:e.format);hU.formattedValue=tableau.format.formatDataValue(L,e.role,hY,null,hX);if(ss.isValue(hT)){hU.aliasedValue=hT}hU.value=J.serializeDataValue(L.v,hV);return hU};B.$1=function(e){switch(e){case'b':{return'boolean'}case'd':{return'date'}case'i':{return'integer'}case'r':{return'real'}case's':{return'cstring'}case't':{return'datetime'}case null:{return'unknown'}}return'unknown'};B.$b=function(e){var L=0;if(ss.isValue(e.levels)){L=e.levels.length}var hT=function(hU,hV,hW,hX,hY,hZ){return Q.newHierarchicalFilter(hU,hV,hW,hX,hY,hZ,L)};return B.$6(e,hT)};B.$8=function(e,L,hT){for(var hU=0;hU<e.length;hU++){var hV=e[hU];if(ss.isValue(hV.table)){B.$f(hV.table,L,hT)}if(ss.isValue(hV.children)){B.$8(hV.children,L,hT)}}};B.$f=function(e,L,hT){if(ss.isValue(e.tuples)){B.$h(e.tuples,L,hT)}};B.$h=function(e,L,hT){for(var hU=0;hU<e.length;hU++){var hV=e[hU];if(hV.s){var hW=B.$g(hV);var hX=hW[hW.length-1];if(!ss.isValue(hT[hX])){hT[hX]=0;L.push(hX)}}}};B.$g=function(e){var L=null;if(ss.isValue(e.t)){L=[];var hT=e.t;for(var hU=0;hU<hT.length;hU++){var hV=hT[hU];L.push(hV.v)}}return L};var C=function(){this.$4=null;this.$1=0;this.$1=-1};C.__typeName='tab.$30';var D=function(){};D.__typeName='tab.$4';D.$8=function(e){var L=e;var hT=[];if(ss.isValue(L)){for(var hU=0;hU<L.length;hU++){var hV=L[hU];var hW=D.$1(hV);if(ss.isValue(hW)&&hW.isValidPresModel){hT.push(hW)}}}var hX=new Object;hX.parameters=Array.prototype.slice.call(hT);return hX};D.$6=function(e){var L=e;if(ss.isValue(L.GiX)&&!L.GiX){var hT=new Object;hT.isValidPresModel=false;return hT}else{var hU=e;if(ss.isValue(hU)){return D.$1(hU)}}return null};D.$0=function(e){switch(e){case'boolean':{return'boolean'}case'real':{return'float'}case'integer':case'tuple':{return'integer'}case'date':{return'date'}case'datetime':{return'datetime'}case'cstring':default:{return'string'}}};D.$1=function(e){if(!ss.isValue(e.DMC)||!ss.isValue(e.OLk)){return null}var L=e.tbM;var hT=[];for(var hU=0;hU<e.vdO.length;hU++){var hV=e.vdO[hU];var hW=e.wwu[hU];hT.push(D.$4(L,hV,hW))}var hX=new Object;hX.isValidPresModel=true;hX.parameterName=e.DMC;hX.name=e.OLk;hX.currentValue=D.$4(L,e.UIt,e.ybD);hX.dataType=D.$0(L);hX.allowableValuesType=f.$3(e.ReU);hX.allowableValues=Array.prototype.slice.call(hT);hX.stepSize=D.$7(L,e.FcN);hX.minValue=D.$5(L,e.JLD,e.Qza,null);hX.maxValue=D.$5(L,e.zG$,e.Deq,null);if(L==='date'||L==='datetime'){hX.dateStepPeriod=f.$4(e.JAO)}return hX};D.$5=function(e,L,hT,hU){var hV=new Object;hV.type=f.$0(e);hV.value=J.serializeDataValue(L,e);if(!tab.MiscUtil.isNullOrEmpty$1(hU)){hV.aliasedValue=hU}if(!tab.MiscUtil.isNullOrEmpty$1(hT)){hV.formattedValue=hT}return hV};D.$4=function(e,L,hT){return D.$5(e,D.$3(L),hT,D.$2(L))};D.$7=function(e,L){if(ss.isValue(L)){if(e==='integer'||e==='date'||e==='datetime'){return parseInt(L)}if(e==='real'){return parseFloat(L)}}return null};D.$3=function(e){return e[0]};D.$2=function(e){if(e.length<2){return null}if(ss.isNullOrUndefined(e[1])||e[1].length===0){return null}return e[1]};var E=function(){};E.__typeName='tab.$5';E.$6=function(e){var L=e;var hT=E.$5(L,true);return hT};E.$7=function(e){var L=e;var hT=E.$5(L,false);return hT};E.$3=function(e,L){L['xsP']=e['api.maxRows'];L['Srq']=e['api.ignoreAliases'];L['XfQ']=e['api.ignoreSelection']};E.$4=function(e,L){E.$3(e,L);L['Dtn']=e['api.includeAllColumns']};E.$5=function(e,L){var hT=new tab.DataDictionaryModel(null);hT.update(e.vZU);var hU=e.gzG;var hV=E.$1(hU);var hW=E.$0(hT,hU);var hX=Q.newUnderlyingDataTablePM(hW,hV,L);return hX};E.$1=function(e){var L=[];for(var hT=0;hT<e.length;hT++){var hU=e[hT];var hV=f.$6(hU.tbM);var hW=Q.newUnderlyingDataColumnsPM(hV,hU.OLk,hU.GWZ,hT);L.push(hW)}return L};E.$0=function(e,L){var hT=L[0].Sul.length;var hU=new Array(hT);for(var hV=0;hV<hT;hV++){hU[hV]=new Array(L.length)}for(var hW=0;hW<L.length;hW++){var hX=L[hW];for(var hY=0;hY<hX.Sul.length;hY++){var hZ=new Object;hZ.formattedValue=E.$2(e,hX.Sul[hY],'cstring');hZ.value=E.$2(e,hX.qtG[hY],hX.tbM);hZ.aliasedValue=hZ.formattedValue;hU[hY][hW]=hZ}}return hU};E.$2=function(e,L,hT){var hU=null;var hV;if(L>=0){hV=hT}else{hV='cstring';L=-L-1}var hW=e.getRawValue(hV,L);if(ss.isValue(hW)){hU=hW.toString()}return hU};var F=function(e,L,hT,hU,hV,hW){this.$2$1=null;this.$2$2=null;this.$2$3=0;this.$2$4=0;this.$2$5=0;this.$2$6=0;spiff.BaseViewModel.call(this);this.$s(e);this.$o(L);this.$q(hT);this.$i(hU);this.$m(hV);this.$k(hW)};F.__typeName='tab.$6';var G=function(e,L,hT,hU,hV){this.$u=0;this.$t=null;F.call(this,e,L,hT,hU,hV,2147483647);this.$e(this.$p());this.$n().height(this.$h())};G.__typeName='tab.$7';var H=function(e,L,hT,hU,hV){this.$u=0;this.$t=null;F.call(this,e,L,hT,hU,hV,2147483647);this.$d(this.$p());this.$n().width(this.$h())};H.__typeName='tab.$8';var I=function(e,L,hT,hU,hV,hW){this.$t=0;F.call(this,e,L,hT,hU,hV,hW);this.$d(this.$p());this.$n().width(this.$h())};I.__typeName='tab.$9';var J=function(){};J.__typeName='tab._ApiSerializer';J.serializeClientInfo=function(e,L){var hT=e.get_applicationPresModel().res.mmK;var hU=e.get_toolbarCommands().$2();var hV=!ss.isNullOrEmptyString(hT.nhM.VrA)||e.get_toolbarCommands().$3();var hW=tsConfig.current_sheet_name;var hX=tsConfig.current_workbook_name;var hY=J.serializeDashboardZones(hT.HCq);var hZ=J.serializePublishedSheets(e.get_applicationPresModel().res.jky);var ia=J.serializeStory(L);var ib=Q.newClientInfo(hU,hV,hX,hW,ss.coalesce(tsConfig.clientNumber,''),hZ,hY,ia);return ib};J.serializeSheetInfo=function(e,L){var hT;if(e.Jqz){hT='story'}else if(e.WeS){hT='dashboard'}else{hT='worksheet'}var hU=Q.newSheetInfo(e.Gge,hT,e.EVq,e.pAn,e.PiK,e.McJ,L);return hU};J.serializePublishedSheets=function(e){var L={};for(var hT=0;hT<e.length;hT++){var hU=e[hT];L[hU.Gge]=hU}var hV=[];var hW=J.$0(tsConfig.repository_urls);for(var hX=0;hX<tsConfig.visible_sheets.length;hX++){var hY=L[tsConfig.visible_sheets[hX]];var hZ=J.serializeSheetInfo(hY,hW[hX]);hV.push(hZ)}return hV};J.serializeDashboardZones=function(e){var L=[];if(ss.isNullOrUndefined(e)||ss.getKeyCount(e)===0){return L}var hT=_.keys(e);hT.sort(function(ig,ih){return parseInt(ig,10)-parseInt(ih,10)});for(var hU=0;hU<hT.length;hU++){var hV=hT[hU];var hW=e[hV];if(ss.isNullOrUndefined(hW)){continue}var hX=f.$7(hW.jAM);if(!ss.isValue(hX)){continue}var hY=(ss.isValue(hW.AVP)?hW.AVP:null);var hZ=hW.thj;var ia=hW.RAC;var ib=hW.rec;var ic=hW.EUR;var id=hW.BCp;var ie=Q.newDashboardZone(hY,id,ss.unbox(hX),ic,ib,hZ,ia);L.push(ie)}return L};J.serializeStory=function(e){var L=e.get_flipboardNavigatorViewModel();if(ss.isNullOrUndefined(L)){return null}var hT=L.get_currentPointIndex();var hU=J.serializeStoryPoints(L.get_captions(),e);var hV=Q.newStory(hT,hU);return hV};J.serializeStoryPoints=function(e,L){var hT=[];var hU=ss.getEnumerator(e);try{while(hU.moveNext()){var hV=hU.current();var hW=J.serializeStoryPoint(hV,L);hT.push(hW)}}finally{hU.dispose()}return hT};J.serializeStoryPoint=function(e,L){var hT=null;if(e.get_isCurrentPoint()&&L.get_hasContainedSheet()){var hU=L.get_containedSheetName();var hV=L.get_containedSheetType();var hW=J.serializeDashboardZones(L.get_containedDashboardZones());hT=Q.newContainedSheetInfo(hU,hV,ss.unbox(L.get_containedSheetZoneId()),hW)}var hX=Q.newStoryPoint(e.get_caption(),e.get_storyPointIndex(),e.get_storyPointId(),e.get_isCaptured(),hT);return hX};J.serializeDataValue=function(e,L){if(L==='boolean'){if(_.isBoolean(e)){return e}return(ss.isValue(e)?(e.toString().toLowerCase()==='true'):false)}if(ss.isNullOrUndefined(e)){return null}switch(L){case'boolean':{if(_.isBoolean(e)){return e}return(ss.isValue(e)?(e.toString().toLowerCase()==='true'):false)}case'date':case'datetime':{var hT=null;if(_.isDate(e)){hT=e}else if(_.isNumber(e)){if(isNaN(e)){hT=null}else{hT=new Date(tableau.types.JsDateFromOleDate(e))}}else{hT=tab.DateUtil.parsePresModelDate(e.toString())}if(ss.isNullOrUndefined(hT)||isNaN(hT)){return null}return hT.getTime()}case'integer':{if(_.isNumber(e)){return(isNaN(e)?null:e)}var hU=parseInt(e.toString(),10);return(isNaN(hU)?null:hU)}case'real':{if(_.isNumber(e)){return(isNaN(e)?null:e)}var hV=parseFloat(e.toString());return(isNaN(hV)?null:hV)}default:case'cstring':case'tuple':case'unknown':{return e.toString()}}};J.serializeCustomView=function(e,L){return Q.newCustomView(e.id,e.name,e.urlId,L,e.startViewId,e.isPublic,J.serializeUser(e.owner))};J.serializeUser=function(e){return Q.newUser(e.id,e.friendlyName,e.username)};J.convertToCustomizedView=function(e){var L=new Object;L.id=e.id;L.isPublic=e.isPublic;L.name=e.name;L.owner=J.convertToUser(e.owner);L.startViewId=e.startViewId;L.urlId=e.urlId;return L};J.convertToUser=function(e){var L=new tab.User;L.friendlyName=e.friendlyName;L.id=e.id;L.username=e.username;return L};J.$0=function(e){var L=e.length;var hT=tab.VizUriModel.createForViewingSheets(e,false);var hU=new Array(L);for(var hV=0;hV<L;hV++){var hW=hT[hV];hU[hV]=hW.get_absoluteUri()}return hU};global.tab._ApiSerializer=J;var K=function(){this.action=null;ss.EventArgs.call(this)};K.__typeName='tab.ActionExecutedEventArgs';global.tab.ActionExecutedEventArgs=K;var M=function(e,L){React.Component.call(this,e,L)};M.__typeName='tab.AddSubscribersComponent';global.tab.AddSubscribersComponent=M;var N=function(){};N.__typeName='tab.AddSubscribersComponentConstants';global.tab.AddSubscribersComponentConstants=N;var O=function(){};O.__typeName='tab.AddSubscribersComponentProps';O.createInstance=function(){return O.$ctor()};O.$ctor=function(){var e={};e.addSubscribersViewModel=null;return e};global.tab.AddSubscribersComponentProps=O;var P=function(e){this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;spiff.BaseViewModel.call(this);this.set_userSearchViewModel(new ht);this.set_userPillsViewModel(new hr(e));var L=O.$ctor();L.addSubscribersViewModel=this;this.set_props(L);this.get_userSearchViewModel().add_propsUpdated(ss.mkdel(this,this.$2));this.get_userSearchViewModel().add_userSelected(ss.mkdel(this,this.$3));this.get_userPillsViewModel().add_propsUpdated(ss.mkdel(this,this.$2));this.disposables.add$1(this.get_userSearchViewModel());this.disposables.add$1(this.get_userPillsViewModel());this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_userSearchViewModel().remove_propsUpdated(ss.mkdel(this,this.$2));this.get_userSearchViewModel().remove_userSelected(ss.mkdel(this,this.$3));this.get_userPillsViewModel().remove_propsUpdated(ss.mkdel(this,this.$2))})))};P.__typeName='tab.AddSubscribersViewModel';global.tab.AddSubscribersViewModel=P;var Q=function(){};Q.__typeName='tab.ApiCrossDomainPresModelsFactory';Q.newClientInfo=function(e,L,hT,hU,hV,hW,hX,hY){var hZ=new Object;hZ.isAutoUpdate=e;hZ.isDownloadAllowed=L;hZ.workbookName=hT;hZ.instanceId=hV;hZ.currentSheetName=hU;hZ.publishedSheets=hW;hZ.dashboardZones=hX;hZ.story=hY;return hZ};Q.newAutoUpdateState=function(e){var L=new Object;L.isAutoUpdate=e;return L};Q.newCommandError=function(e,L){var hT=new Object;hT.errorCode=e;hT.additionalInformation=L;return hT};Q.newSheetInfo=function(e,L,hT,hU,hV,hW,hX){var hY=new Object;hY.maxHeight=hW;hY.maxWidth=hV;hY.minHeight=hU;hY.minWidth=hT;var hZ=new Object;hZ.name=e;hZ.sizeConstraints=hY;hZ.repositoryUrl=hX;hZ.sheetType=L;return hZ};Q.newContainedSheetInfo=function(e,L,hT,hU){var hV=new Object;hV.name=e;hV.sheetType=L;hV.zoneId=hT;hV.dashboardZones=hU;return hV};Q.newDashboardZone=function(e,L,hT,hU,hV,hW,hX){var hY=new Object;hY.name=e;hY.zoneId=L;hY.zoneType=hT;hY.height=hU;hY.width=hV;hY.x=hW;hY.y=hX;return hY};Q.newStory=function(e,L){var hT=new Object;hT.activeStoryPointIndex=e;hT.storyPoints=L;return hT};Q.newStoryPoint=function(e,L,hT,hU,hV){var hW=new Object;hW.caption=e;hW.index=L;hW.storyPointId=hT;hW.isUpdated=hU;hW.containedSheetInfo=hV;return hW};Q.$0=function(e,L,hT,hU,hV,hW){var hX=new Object;hX.fieldName=e;hX.filterType=L;hX.caption=hT;hX.dataSourceName=hU;hX.fieldRole=hV;hX.fieldAggregation=hW;return hX};Q.newCategoricalFilter=function(e,L,hT,hU,hV,hW,hX,hY){var hZ=Q.$0(e,L,hT,hU,hV,hW);hZ.isExclude=hX;hZ.appliedValues=hY;return hZ};Q.newQuantitativeFilter=function(e,L,hT,hU,hV,hW,hX,hY,hZ,ia,ib){var ic=Q.$0(e,L,hT,hU,hV,hW);ic.domainMinValue=hX;ic.domainMaxValue=hY;ic.minValue=hZ;ic.maxValue=ia;ic.includeNullValues=ib;return ic};Q.newHierarchicalFilter=function(e,L,hT,hU,hV,hW,hX){var hY=Q.$0(e,L,hT,hU,hV,hW);hY.levels=hX;return hY};Q.newRelativeDateFilter=function(e,L,hT,hU,hV,hW,hX,hY,hZ){var ia=Q.$0(e,L,hT,hU,hV,hW);ia.periodType=hX;ia.rangeType=hY;ia.rangeN=hZ;return ia};Q.newDataSourcesForWorksheet=function(e,L){var hT=new Object;hT.worksheetName=e;hT.dataSources=L;return hT};Q.newDataSource=function(e,L,hT){var hU=new Object;hU.name=e;hU.fields=L;hU.isPrimary=hT;return hU};Q.newField=function(e,L,hT){var hU=new Object;hU.name=e;hU.role=L;hU.aggregation=hT;return hU};Q.newCustomViewsInfo=function(e,L,hT,hU){var hV=new Object;hV.customViewLoaded=e;hV.defaultCustomViewId=L;hV.currentView=hT;hV.customViews=hU;return hV};Q.newCustomView=function(e,L,hT,hU,hV,hW,hX){var hY=new Object;hY.id=e;hY.name=L;hY.urlId=hT;hY.url=hU;hY.startViewId=hV;hY.isPublic=hW;hY.owner=hX;return hY};Q.newUser=function(e,L,hT){var hU=new Object;hU.id=e;hU.friendlyName=L;hU.username=hT;return hU};Q.newUnderlyingDataTablePM=function(e,L,hT){var hU=new Object;hU.dataTable=e;hU.headers=L;hU.isSummary=hT;return hU};Q.newUnderlyingDataColumnsPM=function(e,L,hT,hU){var hV=new Object;hV.dataType=e;hV.fieldName=L;hV.isReferenced=hT;hV.index=hU;return hV};Q.newToolbarStatePM=function(e,L,hT,hU,hV,hW,hX,hY,hZ,ia){var ib=new Object;ib.canUndo=e;ib.canRedo=L;ib.canRevert=hT;ib.isPaused=hU;ib.canRefreshData=hV;ib.canShowCustomViews=hW;ib.canShowPerformance=hX;ib.canShowSubscribe=hY;ib.canShowShare=hZ;ib.canShowDownload=ia;return ib};global.tab.ApiCrossDomainPresModelsFactory=Q;var R=function(e,L,hT){this.$12=new tab.DisposableHolder;this.$Z=null;this.$17={};this.$10=null;this.$14=null;this.$15=null;this.$11=false;this.$13=false;this.$16=null;this.$Z=hT;this.updateClients(e,L);tab.CommandController.get().add_tabChangeCompleted(ss.mkdel(this,this.handleNewLayout));tab.StartupUtils.add_clientFullyLoaded(ss.mkdel(this,this.onClientFullyLoaded));tab.CommandController.get().add_commandQueueComplete(ss.mkdel(this,this.onCommandComplete));this.$16=new T(this.$Z)};R.__typeName='tab.ApiEventHandler';R.$0=function(e){var L=new ss.StringBuilder;for(var hT=0;hT<e.length;hT++){var hU=e[hT];if(!(L.length===0)){L.append('.')}L.append('['+hU+']')}return L.toString()};R.$1=function(){var e={};var L=tab.ModelUtils.findContentDashboard();var hT=L.get_zoneModels();for(var hU=0;hU<hT.length;hU++){var hV=hT[hU];if(hV.get_zoneType()==='filter'&&ss.referenceEquals(hV.get_worksheetName(),tsConfig.current_sheet_name)){var hW=JSON.parse(hV.pm.dCB);e[hW.param]=true}}var hX={};var hY=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),tsConfig.current_sheet_name);if(ss.isValue(hY)){var hZ=hY.get_filters();for(var ia=0;ia<hZ.length;ia++){var ib=hZ[ia];var ic=R.$0(ib.get_filterPresModel().name);if(ss.keyExists(e,ic)){var id=ib.get_filterPresModel().fieldCaption;if(ib.get_filterPresModel().type!=='H'){hX[id]=ib.get_filterPresModel().type}else{id='';var ie=ib.get_filterPresModel().table[0].table;if(ss.isValue(ie)&&ss.isValue(ie.schema)&&ss.isValue(ie.schema[0])&&ss.isValue(ie.schema[0].name)){var ig=ie.schema[0].name;for(var ih=1;ih<ig.length;ih++){id+='['+ig[ih]+']';hX[id]=ib.get_filterPresModel().type;id+='.'}}}}}}return hX};R.$2=function(e){return null};R.$3=function(e){var L=e;if(ss.isValue(L['eck'])){return Q.newCommandError('invalidSelectionFieldName',L['eck'])}else if(ss.isValue(L['cVZ'])){return Q.newCommandError('invalidSelectionValue',L['cVZ'])}else if(ss.isValue(L['ifc'])){return Q.newCommandError('invalidSelectionDate',L['ifc'])}return null};global.tab.ApiEventHandler=R;var S=function(e,L){this.$7=null;this.$a=null;this.$8=new tab.DisposableHolder;this.$9=false;tab.Param.verifyValue(e,'client');tab.Param.verifyValue(L,'responder');this.$7=e;this.$a=L;var hT=ss.mkdel(this,function(){var hU=e.get_flipboardNavigatorViewModel();if(ss.isValue(hU)){hU.add_remoteUpdateComplete(ss.mkdel(this,this.$4));this.$8.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){hU.remove_remoteUpdateComplete(ss.mkdel(this,this.$4))})))}return ss.isValue(hU)});if(!hT()){_.defer(ss.mkdel(this,function(){if(this.$9){return}hT()}))}};S.__typeName='tab.ApiStorytellingHandler';S.$0=function(e,L){var hT=($.isArray(L)?L:[L]);var hU=_.any(hT,function(hV){return hV===e.get_name()});if(!hU){throw new ss.Exception("Command '"+e.get_name()+"' is not valid for the handler.")}};global.tab.ApiStorytellingHandler=S;var T=function(e){this.$3=new tab.DisposableHolder;this.$5=null;this.$2=null;this.$4=null;this.$5=tab.ApplicationModel.get_instance().get_toolbar();this.$5.add_newToolbar(ss.mkdel(this,this.$0));this.$2=e;this.$0();this.$5.add_newToolbar(ss.mkdel(this,this.$0));this.$3.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$5.remove_newToolbar(ss.mkdel(this,this.$0))})))};T.__typeName='tab.ApiToolbarStateManager';T.$2=function(e,L){var hT=e[L];if(ss.isNullOrUndefined(hT)){return false}return hT.get_enabled()};T.$1=function(e,L){var hT=e[L];if(ss.isNullOrUndefined(hT)){return false}var hU=U.get_instance().get_client().get_toolbarCommands().get_toolbarViewModel();return gN.shouldShowButton(hT,hU)};T.$3=function(e,L,hT){var hU=e[L];if(ss.isNullOrUndefined(hU)){return false}var hV=new tab.CommandsPresModelWrapper.$ctor1(hU.get_commands());var hW;var hX=hV.get_commandItems();for(var hY=0;hY<hX.length;hY++){var hZ=hX[hY];hW=new tab.CommandItemWrapper.$ctor1(hZ);if(ss.equals(hW.get_name(),hT)){return hW.get_enabled()}}return false};T.$0=function(e,L){for(var hT=0;hT<L.length;hT++){var hU=L[hT];var hV=new tab.CommandItemWrapper.$ctor1(hU);e[hV.get_iconRes()]=hV}};global.tab.ApiToolbarStateManager=T;var U=function(){this.$k=null;this.$n=null;this.$m=null;this.$j=null;this.$o=null;this.$l=new tab.DisposableHolder;this.$1$3=null;U.add_starting(ss.mkdel(this,function(){this.$f();tab.ApplicationModel.get_instance().get_workbook().add_dashboardDeleted(ss.mkdel(this,this.$i));var e=new tab.LayoutSession(null,null,U.$1);var L=tab.CommandController.create(e,U.$1);L.setBrowserViewportFunc(bm.getViewport);L.add_newLayoutId(ss.mkdel(this,this.$5));L.add_tabChangeCompleted(ss.mkdel(this,this.$6));tab.ViewSession.add_onTabSelect(ss.mkdel(this,this.$2));L.add_destroyView(ss.mkdel(this,this.$1));L.add_intermediateUpdate(ss.mkdel(this,function(){this.$g()}));this.$l.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.CommandController.get().remove_newLayoutId(ss.mkdel(this,this.$5));tab.CommandController.get().remove_tabChangeCompleted(ss.mkdel(this,this.$6));tab.ViewSession.remove_onTabSelect(ss.mkdel(this,this.$2))})));tab.StartupUtils.add_clientFullyLoaded(ss.mkdel(this,this.$4));var hT=U.$0(false,e);this.$k=hT;this.$n=hT;this.$k.startup();this.$9(this.$k,this.$n);if(tab.BrowserSupport.get_isIE()){this.$0()}this.$m=new eH;spiff.SpiffBrowserViewport.getSpiffBrowserViewportFunc=function(hU){bm.getViewport(function(hV){var hW=new spiff.SpiffBrowserViewport(hV.get_dimensions(),function(hX){return hV.getVisibleRoom(hX,0)});hU(hW)})}}))};U.__typeName='tab.Application';U.add_starting=function(e){U.$1$1=ss.delegateCombine(U.$1$1,e)};U.remove_starting=function(e){U.$1$1=ss.delegateRemove(U.$1$1,e)};U.add_started=function(e){U.$1$2=ss.delegateCombine(U.$1$2,e)};U.remove_started=function(e){U.$1$2=ss.delegateRemove(U.$1$2,e)};U.get_instance=function(){if(ss.isNullOrUndefined(U.$2)){U.$2=new U}return U.$2};U.get_isHostedInApiContext=function(){return!ss.isNullOrEmptyString(tsConfig.apiID)||tsConfig.is_mobile_app};U.get_commonDialogProvider=function(){return U.$1};U.startup=function(){var e={};e['t']=tabBootstrap.MetricsController.getTiming();e['d']='APPSTR'.toString();var L=new tabBootstrap.MetricsEvent('gen',2,e);tabBootstrap.MetricsController.logEvent(L);if(ss.isValue(U.$3)&&U.$3){throw new ss.Exception('Application.Startup() can only be called once')}var hT=U.get_instance();if(ss.isValue(U.$1$1)){U.$1$1(hT,ss.EventArgs.Empty)}if(ss.isValue(U.$1$2)){U.$1$2(hT,ss.EventArgs.Empty)}spiff.DragDropManager.init();U.$3=true};U.$0=function(e,L){var hT=ss.getType((tsConfig.is_mobile?'tab.ApplicationViewModelMobile':'tab.ApplicationViewModelWeb'));return new hT(e,L)};U.handleAllFontsFound=function(){ga.get_instance().downloadFonts();ga.get_instance().allFontsFound()};global.tab.Application=U;var V=function(){this.domNode=null;this.toolbarContainer=null;this.vizPlaceholder=null;spiff.Template.call(this,$("<div id='tabViewer' class='wcBody' style='visibility: hidden;' tabindex='0'><div class='wcVizPlaceholder'/></div>"));this.domNode=this.domRoot;this.vizPlaceholder=this.getElementBySelector('.wcVizPlaceholder');this.toolbarContainer=$('.tab-toolbar-container')};V.__typeName='tab.ApplicationTemplate';global.tab.ApplicationTemplate=V;var W=function(e){this.$d=null;this.$c=null;ss.makeGenericType(spiff.BaseView$1,[Y]).call(this,e,new V)};W.__typeName='tab.ApplicationView';global.tab.ApplicationView=W;var X=function(e,L){this.session=null;this._connections=[];this._subscriptions=[];this.skipInit=false;this.$A=null;this.$H=null;this.$D=false;this.$G=null;this.$K=null;this.$C=null;this.$B=null;this.$E=false;this.$F=false;this.$I=0;this.$J=null;spiff.Widget.call(this,$(null));this.session=L;this.skipInit=e;var hT=tabBootstrap.ViewerBootstrap.get_instance();if(ss.isNullOrUndefined(hT)){throw new ss.Exception('tabBootstrap.ViewerBootstrap is undefined')}if(hT.get_hasBootstrapCompleted()){tab.XhrUtil.set_currentTabName(tsConfig.current_sheet_name)}tab.XhrUtil.guid=tsConfig.guid;tab.XhrUtil.parentID=tsConfig.parentID;this.$l();this.$K=new hx(this);this.enableTextSelection()};X.__typeName='tab.ApplicationViewModel';X.add_activeViewChanged=function(e){X.$2$1=ss.delegateCombine(X.$2$1,e)};X.remove_activeViewChanged=function(e){X.$2$1=ss.delegateRemove(X.$2$1,e)};X.getClientBounds=function(){var e=tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type);var L=tabBootstrap.ViewerBootstrap.get_instance().get_tabsHeight();var hT={l:0,t:L,w:e.w,h:e.h};if(!gS.get_toolbarIsBottom()&&!tsConfig.is_authoring){hT.t+=tabBootstrap.ViewerBootstrap.get_instance().get_vizToolbarHeight()}return hT};global.tab.ApplicationViewModel=X;var Y=function(e){this.$4=null;this.$6=null;this.$5=null;this.$2$1=null;spiff.BaseViewModel.call(this);this.$4=e;this.$4.add_newWorkbook(ss.mkdel(this,this.handleNewWorkbook));if(ss.isValue(this.$4.get_workbook())){this.handleNewWorkbook(this.$4.get_workbook())}this.$4.add_applicationUpdate(ss.mkdel(this,this.handleApplicationUpdate));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$4.remove_applicationUpdate(ss.mkdel(this,this.handleApplicationUpdate))})));if(!tsConfig.is_authoring&&!this.$4.get_isOffline()){this.$5=new gS(this.$4.get_toolbar());tab.StartupUtils.callAfterBootstrap(ss.mkdel(this,function(){tab.CommandController.get().get_legacySession().performPostLoadOperations(tsConfig.current_sheet_name,ss.mkdel(this,this.$3))}))}};Y.__typeName='tab.ApplicationViewModelReal';global.tab.ApplicationViewModelReal=Y;var Z=function(e){this.$9=null;this.$2$1=null;this.$2$2=null;spiff.Widget.call(this,e.domRoot);this.$9=e;this.$8()};Z.__typeName='tab.AreYouSureButtons';Z.create=function(e,L){var hT=new Z(new ba);if(ss.isValue(e)){hT.$a(e);hT.disposables.add$1(new tab.CallOnDispose(function(){hT.$b(e)}))}if(ss.isValue(L)){hT.$c(L);hT.disposables.add$1(new tab.CallOnDispose(function(){hT.$d(L)}))}return hT};global.tab.AreYouSureButtons=Z;var ba=function(){this.container=null;this.label=null;this.cancelButton=null;this.confirmButton=null;spiff.Template.call(this,$("<div class='tab-areYouSure-container'><div class='tab-areYouSure-outer'><div class='tab-areYouSure-inner'><span class='tab-areYouSure-label'></span><div class='tab-areYouSure-no tab-areYouSure-button'></div><div class='tab-areYouSure-yes tab-areYouSure-button'></div></div></div></div>"));this.container=this.domRoot;this.label=this.getElementBySelector('.tab-areYouSure-label');this.cancelButton=this.getElementBySelector('.tab-areYouSure-no');this.confirmButton=this.getElementBySelector('.tab-areYouSure-yes')};ba.__typeName='tab.AreYouSureTemplate';global.tab.AreYouSureTemplate=ba;var bb=function(){};bb.__typeName='tab.AriaAttrName';global.tab.AriaAttrName=bb;var bc=function(){};bc.__typeName='tab.AriaRole';global.tab.AriaRole=bc;var bd=function(e){this.authorBylineElement=null;this.authorBylineText=null;this.$1=null;this.$1=e;this.authorBylineElement=$('<div>').addClass('wcAuthorByline');this.authorBylineText=$('<span>');this.authorBylineElement.append(this.authorBylineText)};bd.__typeName='tab.AuthorByline';global.tab.AuthorByline=bd;var be=function(e,L){this.$0=null;bf.call(this,e,L);this.$0=e.RedirectUrl};be.__typeName='tab.BadPasswordAuthPromptOverlayWidget';global.tab.BadPasswordAuthPromptOverlayWidget=be;var bf=function(e,L){bg.call(this,e,L)};bf.__typeName='tab.BaseDataSourceConnectionErrorOverlayWidget';global.tab.BaseDataSourceConnectionErrorOverlayWidget=bf;var bg=function(e,L){this.onProceed=null;this.dataSourceConnectionAttemptErrorResponse=null;this.dataSourceConnectionAttemptErrorResponse=e;this.onProceed=L};bg.__typeName='tab.BaseDataSourceConnectionErrorWidget';global.tab.BaseDataSourceConnectionErrorWidget=bg;var bh=function(e,L,hT){this.dropdown=null;this.menuNode=null;this.glass=null;this.dropdownLabelContainer=null;this.fillListElement=null;this.searchBox=null;this.currentlySelected=0;this.multimode=false;this.$c=false;this.$b=false;bj.call(this,e,L,hT);this.searchBox=e.get_searchWidget();this.searchBox.setStyle(1);this.$b=false};bh.__typeName='tab.BaseDropdown';global.tab.BaseDropdown=bh;var bi=function(e){var L=function(hT,hU){this.$c=null;ss.makeGenericType(spiff.BaseView$1,[e]).call(this,hT,hU)};ss.registerGenericClassInstance(L,bi,[e],{get_legendViewModel:function(){return this.get_viewModel()},get_baseLegendTemplate:function(){return this.get_template()},get_legendTooltip:function(){this.$9();return this.$c},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this)},dispose:function(){if(ss.isValue(this.$c)){this.$c.remove_ubertipCommandExecuted(ss.mkdel(this,this.$a));this.$c.dispose()}ss.makeGenericType(spiff.BaseView$1,[e]).prototype.dispose.call(this)},drawTitle:function(){this.get_baseLegendTemplate().titleArea.html(this.get_legendViewModel().get_titleHtml());de.cleanUpFontFamilyStyles(this.get_baseLegendTemplate().titleArea);this.$b(this.get_legendViewModel().get_titleInline());tableau.util.setupTitleEllipsis(this.get_baseLegendTemplate().titleArea)},$b:function(hT){var hU='';var hV='';if(hT){this.get_baseLegendTemplate().titleArea.width(this.get_legendViewModel().get_titleWidth());hU='inline-block';hV='top'}else{this.get_baseLegendTemplate().titleArea.width('');this.get_baseLegendTemplate().titleArea.height(this.get_legendViewModel().get_titleHeight())}this.get_baseLegendTemplate().titleArea.css('display',hU);this.get_baseLegendTemplate().titleArea.css('vertical-align',hV);if(ss.isValue(this.get_baseLegendTemplate().get_contentArea())){this.get_baseLegendTemplate().get_contentArea().css('display',hU)}},highlighterFitsUpperRight:function(){var hT=!this.get_legendViewModel().get_titleInline();if(this.get_legendViewModel().get_hasTitle()&&hT){return true}return false},$a:function(hT,hU){tab.UberTipClientCommands.executeUbertipCommand(hU.command)},makeTooltip:function(){var hT=this.get_legendViewModel().$6();if(ss.isNullOrUndefined(hT)){return null}return spiff.ObjectRegistry.newLegacyTooltip(gU).call(null,gU,null,hT)},$9:function(){if(ss.isNullOrUndefined(this.$c)){this.$c=this.makeTooltip();if(ss.isNullOrUndefined(this.$c)){return}this.$c.add_ubertipCommandExecuted(ss.mkdel(this,this.$a))}}},function(){return ss.makeGenericType(spiff.BaseView$1,[e])},function(){return[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[e])]});L.controlsMargin=2;return L};bi.__typeName='tab.BaseLegendView$1';ss.initGenericClass(bi,a,1);global.tab.BaseLegendView$1=bi;var bj=function(e,L,hT){this.$2=0;this.div=null;this.parent=null;this.attributes=null;this.$1=null;this.pendingManager=null;this.apply=null;this.cancel=null;this.disposables=new tab.DisposableHolder;this.tiledWidget=null;Object.call(this);this.disposables=new tab.DisposableHolder;this.parent=e;this.div=L;this.attributes={};if(ss.isValue(hT)){this.attributes=hT}};bj.__typeName='tab.BaseMode';global.tab.BaseMode=bj;var bk=function(e,L){var hT=function(hU,hV,hW){this.$1=null;ss.makeGenericType(spiff.ReactSpiffAdapter$3,[L,ss.makeGenericType(gK,[e]),Object]).call(this,hU(hV.viewModel),hV,hW);this.$1=hU};ss.registerGenericClassInstance(hT,bk,[e,L],{handleWidgetPropertyChanged:function(hU,hV){},updateWidgetState:function(hU){if(!ss.referenceEquals(this.props.viewModel,hU.viewModel)){this.set_widget(tab.MiscUtil.dispose$1(this.get_widget()));this.set_widget(this.$1(hU.viewModel));var hV=$(ReactDOM.findDOMNode(this));if(ss.isValue(hV)){hV.append(this.get_widget().element)}}}},function(){return ss.makeGenericType(spiff.ReactSpiffAdapter$3,[L,ss.makeGenericType(gK,[e]),Object])},function(){return[]});return hT};bk.__typeName='tab.BaseToolbarButtonComponent$2';ss.initGenericClass(bk,a,2);global.tab.BaseToolbarButtonComponent$2=bk;var bl=function(){this.$1$1=null;this.$1$2=null};bl.__typeName='tab.BasicFontLoader';global.tab.BasicFontLoader=bl;var bm=function(e){this.$0=null;this.$0=e};bm.__typeName='tab.BrowserViewport';bm.$8=function(){return tab.Logger.lazyGetLogger(bm)};bm.$7=function(){var e=new tab.WindowHelper(window.self);return{l:e.get_pageXOffset(),t:e.get_pageYOffset(),w:e.get_clientWidth(),h:e.get_clientHeight()}};bm.getViewport=function(e){tab.Param.verifyValue(e,'callback');if(!bm.$b){e(new bm(bm.$7()))}else{bm.$9=e;bm.$6()}};bm.$0=function(e){if(tabBootstrap.Utility.get_embedMode()==='embeddedNotInWg'){if(ss.isValue(bm.$c)){e.y+=bm.$c.y;e.x+=bm.$c.x}}else{try{var L=window.self;while(ss.isValue(L.frameElement)){var hT=$(L.frameElement).offset();e.y+=tab.DoubleUtil.roundToInt(hT.top);e.x+=tab.DoubleUtil.roundToInt(hT.left);L=L.parent}}catch(hU){var e=ss.Exception.wrap(hU)}}};bm.$3=function(e){if(typeof(ss.getType('ss'))==='undefined'){return}var L=e.data;if(ss.isNullOrUndefined(L)||typeof(L)!=='string'){return}var hT=L;var hU=hT.split(',');if(!ss.isValue(hU)){return}if(ss.referenceEquals(hU[0],'layoutInfoResp'.toString())){var hV={l:parseInt(hU[1],10),t:parseInt(hU[2],10),w:parseInt(hU[3],10),h:parseInt(hU[4],10)};bm.$2(hV)}else if(ss.referenceEquals(hU[0],'tableau.enableVisibleRectCommunication'.toString())){bm.$b=true}else if(ss.referenceEquals(hU[0],'vizOffsetResp'.toString())){bm.$c={x:parseInt(hU[1],10),y:parseInt(hU[2],10)};bm.$b=true}};bm.$2=function(e){var L=new bm(e);if(ss.isValue(bm.$9)){bm.$9(L);bm.$9=null}};bm.$6=function(){if(tab.BrowserSupport.get_postMessage()){window.parent.postMessage('layoutInfoReq'.toString(),'*')}else{bm.$2(bm.$7())}};bm.$5=function(){if(bm.$a){if('removeEventListener'in window.self){window.removeEventListener('message',bm.$3,true)}else{window.self.detachEvent('onmessage',bm.$3)}bm.$a=false}};bm.$1=function(){if('addEventListener'in window.self){window.addEventListener('unload',bm.$4,true)}else{window.self.attachEvent('onunload',bm.$4)}};bm.$4=function(e){bm.$5()};global.tab.BrowserViewport=bm;var bn=function(e,L){this.$0=null;this.$1=null;this.$3=null;this.$4=null;this.$6=false;this.$2=null;this.$5=null;this.$7=null;this.cachedVisibleRect=null;this.$0=e;this.$1=L;this.$6=false;this.$7={x:0,y:0}};bn.__typeName='tab.CanvasRenderer';bn.get_multipolyLineSizeOffset=function(){return(tab.BrowserSupport.get_isChrome()?0.400000005960464:0)};bn.bBoxMultipolygon=function(e,L,hT,hU,hV,hW){var hX=null;if(ss.isNullOrUndefined(hW)){var hY=hV/2;var hZ=Math.floor(hV+1);var ia={x:L-hY,y:hT-hY};hX={minX:ia.x,minY:ia.y,maxX:ia.x+hZ,maxY:ia.y+hZ}}else{hX={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY};switch(hW.TDA){case'multipolygon':{bn.boundsMultipolygon(hW.Zmn,hX);break}case'multipoint':{bn.boundsMultipoint(hW.gvB,hX,hV);break}default:{break}}}if(e){return tab.RectXYUtil.rectXYFromBBoxRectF(hX)}var ib=tab.Transform.domainToPixel(L,hT,hU);return ib.transformBounds(hX)};bn.modifyLineEndpoints=function(e,L,hT){if(Math.round(hT)%2===1){var hU=L.x-e.x;var hV=L.y-e.y;if(hU!==0||hV!==0){var hW=hU*hU+hV*hV;hW=Math.sqrt(hW);var hX=Math.abs(0.5*(hU/hW));var hY=Math.abs(0.5*(hV/hW));e.x+=hY;e.y+=hX;L.x+=hY;L.y+=hX}}};bn.getShapeColorForLayer=function(e,L,hT,hU){switch(hT){case'highlightedUnder':case'normalUnder':{return e.c['halo_color'].gv(L)[hU]}case'selectedOn':case'highlightedOn':case'normalOn':{return e.getMarkColors(L)[hU]}case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{return e.c['selected_halo_color'].gv(L)[hU]}}return bn.$8};bn.getRenderContext=function(e,L){var hT;if(L==='opaque'&&tab.FeatureParamsLookup.getBool(42)){var hU=ss.mkdict(['alpha',false]);hT=e.getContext('2d',hU)}else{hT=e.getContext('2d')}return new gx(hT)};bn.addMultipolygonPath=function(e,L){var hT=L.KCe;var hU=hT.length;for(var hV=0;hV<hU;hV++){var hW=hT[hV].jWM;var hX=hW.length;for(var hY=0;hY<hX;hY++){var hZ=hW[hY].xCr;var ia=hZ.length;if(ia<2){continue}e.moveTo(hZ[0],hZ[1]);for(var ib=2;ib<ia;ib=ib+2){e.lineTo(hZ[ib],hZ[ib+1])}}}};bn.addMultipointPath=function(e,L,hT){var hU=L.xCr;var hV=hU.length;for(var hW=0;hW<hV;hW=hW+2){var hX=hU[hW];var hY=hU[hW+1];e.moveTo(hX+hT,hY);e.arc(hX,hY,hT,0,bn.twoPI,true)}};bn.boundsMultipolygon=function(e,L){var hT=L.minX;var hU=L.minY;var hV=L.maxX;var hW=L.maxY;var hX=e.KCe;var hY=hX.length;for(var hZ=0;hZ<hY;hZ++){var ia=hX[hZ].jWM;var ib=ia.length;for(var ic=0;ic<ib;ic++){var id=ia[ic].xCr;var ie=id.length;for(var ig=0;ig<ie;ig=ig+2){var ih=id[ig];var ii=id[ig+1];hT=Math.min(hT,ih);hU=Math.min(hU,ii);hV=Math.max(hV,ih);hW=Math.max(hW,ii)}}}L.minX=hT;L.minY=hU;L.maxX=hV;L.maxY=hW};bn.boundsMultipoint=function(e,L,hT){var hU=L.minX;var hV=L.minY;var hW=L.maxX;var hX=L.maxY;var hY=e.xCr;var hZ=hY.length;for(var ia=0;ia<hZ;ia=ia+2){var ib=hY[ia];var ic=hY[ia+1];hU=Math.min(hU,ib);hV=Math.min(hV,ic);hW=Math.max(hW,ib);hX=Math.max(hX,ic)}var id=hT/2;L.minX=hU-id;L.minY=hV-id;L.maxX=hW+id;L.maxY=hX+id};bn.fillPath=function(e,L,hT){var hU=Math.floor(L.length/2);if(hU<2){return}e.beginPath();e.moveTo(L[0],L[1]);for(var hV=2;hV<hU*2;hV+=2){e.lineTo(L[hV],L[hV+1])}if(hT){e.closePath()}e.fill()};bn.strokePath=function(e,L,hT,hU){var hV=Math.floor(L.length/2);if(hV<2){return}e.beginPath();var hW=e.get_lineWidth();for(var hX=0;hX<hV*2-2;hX+=2){var hY={x:L[hX],y:L[hX+1]};var hZ={x:L[hX+2],y:L[hX+3]};if(hV<=2&&hU){bn.modifyLineEndpoints(hY,hZ,hW)}if(hX===0){e.moveTo(hY.x,hY.y)}bn.$1(e,hY,hZ)}if(hT){e.closePath();var ia=hV*2;var ib={x:L[ia-2],y:L[ia-1]};var ic={x:L[0],y:L[1]};if(hV<=2&&hU){bn.modifyLineEndpoints(ib,ic,hW)}bn.$1(e,ib,ic)}e.stroke()};bn.toCanvasAngle=function(e){return e*bn.twoPI-bn.halfPI};bn.toCanvasLineCap=function(e){switch(e){case'flat':{return'butt'}case'square':{return'square'}case'round':{return'round'}case'triangle':{break}}return'butt'};bn.toCanvasLineJoin=function(e){switch(e){case'bevel':{return'bevel'}case'miter':{return'miter'}case'round':{return'round'}}return'miter'};bn.lineEdgeContains=function(e,L,hT,hU,hV,hW,hX,hY){var hZ=bn.$5(hT,hU,hV,hW,hX,hY);return dk.isPointInPoly(hZ,{x:e,y:L})};bn.boundLineEdgeInPlace=function(e,L,hT,hU,hV,hW,hX){var hY=bn.$5(L,hT,hU,hV,hW,hX);var hZ=hY[0];var ia=hZ;var ib=hY[1];var ic=ib;var id=hY.length;for(var ie=0;ie<id;ie=ie+2){hZ=Math.min(hZ,hY[ie]);ia=Math.max(ia,hY[ie]);ib=Math.min(ib,hY[ie+1]);ic=Math.max(ic,hY[ie+1])}tab.RectXYUtil.unionInPlace(e,{x:hZ<<0,y:ib<<0,w:(ia-hZ<<0)+1,h:(ic-ib<<0)+1})};bn.boundWedge=function(e,L,hT,hU,hV){if(hU>hV){var hW=hU;hU=hV;hV=hW}if(hV-hU>=1){var hX=Math.ceil(2*hT);return{x:Math.floor(e-hT),y:Math.floor(L-hT),w:hX,h:hX}}var hY=bn.toCanvasAngle(hU);var hZ=bn.toCanvasAngle(hV);var ia=[];ia.push({x:e,y:L});ia.push({x:e+hT*Math.cos(hY),y:L+hT*Math.sin(hY)});ia.push({x:e+hT*Math.cos(hZ),y:L+hT*Math.sin(hZ)});hY=dk.normalizeAngle(hY);hZ=dk.normalizeAngle(hZ);if(dk.isInBetweenAngles(0,hY,hZ)){ia.push({x:e+hT,y:L})}if(dk.isInBetweenAngles(bn.halfPI,hY,hZ)){ia.push({x:e,y:L+hT})}if(dk.isInBetweenAngles(bn.onePI,hY,hZ)){ia.push({x:e-hT,y:L})}if(dk.isInBetweenAngles(bn.oneAndHalfPI,hY,hZ)){ia.push({x:e,y:L-hT})}var ib=Number.POSITIVE_INFINITY;var ic=Number.POSITIVE_INFINITY;var id=Number.NEGATIVE_INFINITY;var ie=Number.NEGATIVE_INFINITY;for(var ig=0;ig<ia.length;ig++){var ih=ia[ig];ib=Math.min(ib,ih.x);ic=Math.min(ic,ih.y);id=Math.max(id,ih.x);ie=Math.max(ie,ih.y)}return tab.RectXYUtil.rectXYFromMinAndMax(ib,ic,id,ie)};bn.roundStartAndExtent=function(e,L,hT){var hU=Math.round(e+L);e=Math.round(e);L=Math.max(Math.abs(hU-e),hT);return{item1:e,item2:L}};bn.isPointInExpandedRectHelperF=function(e,L,hT,hU,hV,hW,hX,hY,hZ,ia){if(hT<0){e+=hT;hT=Math.abs(hT)}if(hU<0){L+=hU;hU=Math.abs(hU)}var ib=bn.roundStartAndExtent(e-hV,hT+hV+hV,hX+hV+hV);var ic=bn.roundStartAndExtent(L-hW,hU+hW+hW,hY+hW+hW);var id={x:ss.Int32.trunc(ic.item1),y:ss.Int32.trunc(ib.item1),w:ss.Int32.trunc(ic.item2),h:ss.Int32.trunc(ib.item2)};if(tab.RectXYUtil.inRectPointF(id,{x:hZ,y:ia})){return true}return false};bn.renderCustomShape=function(e,L,hT,hU,hV){var hW=L.c['shape_id'].gv(hT);if(ss.isValue(hW)){var hX=tab.ApplicationModel.get_instance().get_shapeManager();var hY=hX.getImageElement(hW);if(!ss.isValue(hY)){bn.renderCircle(e,L.c['x'].gv(hT),L.c['y'].gv(hT),L.c['size'].gv(hT),bn.getShapeColorForLayer(L,hT,hU,hV),2);return}if(!hY.complete){return}var hZ=L.hasConstantColor;var ia=L.c['size'].gv(hT);var ib=L.c['left'].gv(hT);var ic=L.c['top'].gv(hT);var id;var ie;if(hY.naturalWidth>hY.naturalHeight){var ig=hY.naturalWidth/hY.naturalHeight;id=ia;ie=ia/ig;ic+=Math.round((ia-ie)/2)}else{var ih=hY.naturalHeight/hY.naturalWidth;id=ia/ih;ie=ia;ib+=Math.round((ia-id)/2)}id=Math.round(id);ie=Math.round(ie);var ii=bn.$2(L,hT,hU,hV);hU=((hU==='normalOn'&&hV==='colorOverrideOpaque')?'selectedOn':hU);var ij=tab.ShapeManager.getCacheKey$1(hW,hU,hV,ii.toString(),id,ie);var ik=hX.getCachedCanvas(ij);if(ss.isNullOrUndefined(ik)){var il=null;switch(hU){case'normalUnder':case'highlightedUnder':case'selectedUnder':{il=function(){return gf.generateSelectedUnderCustomShape(hY,ii,tab.ShapeManager.selectionBorderSize,id,ie)};break}case'normalOn':{if(hZ){if(hV==='colorOverrideFog'){il=function(){return gf.applyFoggingToImage(hY,L.foggedBackgroundColor,L.fogBlendFactor,id,ie)}}}else{il=function(){return gf.colorTransformImage(hY,ii,id,ie)}}break}case'highlightedOn':{if(!hZ){il=function(){return gf.colorTransformImage(hY,ii,id,ie)}}break}case'selectedOn':{if(!hZ){il=function(){ii=tab.ColorModel.fromColorModelPlusAlpha(ii,255);return gf.colorTransformImage(hY,ii,id,ie)}}break}case'hoverOverlay':{il=function(){return gf.generateOverlayForShape(hY,ii,tab.ShapeManager.selectionBorderSize,id,ie)};break}case'pressedOverlay':{il=function(){return gf.generateOverlayForShape(hY,ii,tab.ShapeManager.selectionBorderSize*2,id,ie)};break}}if(!ss.isValue(il)){il=function(){return gf.generateCanvasAndPrescaleAsNeeded(hY,id,ie)}}ik=hX.generateCachedCanvas(ij,il)}if(ss.isValue(ik)){switch(hU){case'normalUnder':case'highlightedUnder':case'selectedUnder':case'hoverOverlay':{e.drawImage3(ik,ib-tab.ShapeManager.selectionBorderSize,ic-tab.ShapeManager.selectionBorderSize,ik.width,ik.height);break}case'pressedOverlay':{e.drawImage3(ik,ib-tab.ShapeManager.selectionBorderSize*2,ic-tab.ShapeManager.selectionBorderSize*2,ik.width,ik.height);break}case'normalOn':{e.set_alpha(ii.get_a());e.drawImage3(ik,ib,ic,id,ie);break}default:{e.drawImage3(ik,ib,ic,id,ie);break}}}else{}}};bn.$2=function(e,L,hT,hU){var hV=bn.getShapeColorForLayer(e,L,hT,hU);return tab.ColorModel.fromColorCode(hV)};bn.renderBarOutline=function(e,L,hT,hU,hV,hW,hX,hY,hZ,ia){e.set_lineWidth(hX);e.set_strokeStyle(hW);var ib=((Math.round(hX)%2===0)?0:0.5);var ic=bn.roundStartAndExtent(hT,hV,hZ);var id=bn.roundStartAndExtent(L,hU,hY);if(ia){var ie=Math.min(id.item2,ic.item2);id={item1:id.item1,item2:ie};ic={item1:ic.item1,item2:ie}}e.strokeRect(id.item1+ib,ic.item1+ib,id.item2,ic.item2)};bn.renderFilledBar=function(e,L,hT,hU,hV,hW,hX,hY,hZ){e.set_shapeFillStyle(hW);{var ia=bn.roundStartAndExtent(hT,hV,hY);hT=ia.item1;hV=ia.item2;var ib=bn.roundStartAndExtent(L,hU,hX);L=ib.item1;hU=ib.item2}if(hZ){hU=hV=Math.min(hU,hV)}e.fillRect(L,hT,hU,hV)};bn.renderRectangle=function(e,L,hT,hU,hV,hW,hX){var hY=hU/2;var hZ=hV/2;e.set_lineJoin('miter');e.set_lineWidth(hX);e.set_strokeStyle(hW);e.strokeRect(L-hY,hT-hZ,hU,hV)};bn.renderCircle=function(e,L,hT,hU,hV,hW){e.beginPath();e.arc(L,hT,hU/2,0,bn.twoPI,true);e.closePath();e.set_lineWidth(hW);e.set_strokeStyle(hV);e.stroke()};bn.renderFilledCircle=function(e,L,hT,hU,hV){e.beginPath();e.arc(L,hT,hU/2,0,bn.twoPI,true);e.closePath();e.set_shapeFillStyle(hV);e.fill()};bn.renderWedge=function(e,L,hT,hU,hV,hW,hX,hY,hZ,ia){var ib=bn.toCanvasAngle(hV);var ic=bn.toCanvasAngle(hW);if(Math.abs(ic-ib)<bn.angleEpsilon){return}if(ss.isNullOrUndefined(hZ)){hZ=false}var id=false;if(Math.abs(hW-hV)>=1){id=true}e.beginPath();if(!id){e.moveTo(L,hT)}ib=bn.$6(ib);ic=bn.$6(ic);e.arc(L,hT,hU,ib,ic,hZ);e.closePath();e.set_lineJoin((ia?'miter':'round'));e.set_lineWidth(hY);e.set_strokeStyle(hX);e.stroke()};bn.createMultipolygonPath=function(e,L,hT,hU,hV,hW,hX){if(ss.isNullOrUndefined(hX)){e.beginPath();e.arc(hT,hU,hW/2,0,bn.twoPI,true);e.closePath()}else{if(!L){e.save();e.translate(hT,hU);e.scale(hV,hV)}e.beginPath();switch(hX.TDA){case'multipolygon':{bn.addMultipolygonPath(e,hX.Zmn);break}case'multipoint':{bn.addMultipointPath(e,hX.gvB,hW/2);break}default:{break}}e.closePath();if(!L){e.restore()}}};bn.$5=function(e,L,hT,hU,hV,hW){var hX=Math.atan2(hV-L,hU-e);var hY=Math.cos(hX);var hZ=Math.sin(hX);hT/=2;hW/=2;var ia=hT*hZ;var ib=hW*hZ;var ic=hT*hY;var id=hW*hY;var ie=new Array(8);ie[0]=e+ia;ie[1]=L-ic;ie[2]=hU+ib;ie[3]=hV-id;ie[4]=hU-ib;ie[5]=hV+id;ie[6]=e-ia;ie[7]=L+ic;return ie};bn.$1=function(e,L,hT){if(tab.BrowserSupport.get_canvasLinePattern()){e.lineTo(hT.x,hT.y)}else{switch(e.get_linePattern()){case'dashed':{bn.$0(e,L,hT,gx.defaultLineDashDashed[0],gx.defaultLineDashDashed[1]);break}case'dotted':{bn.$0(e,L,hT,gx.defaultLineDashDotted[0],gx.defaultLineDashDotted[1]);break}case'solid':default:{e.lineTo(hT.x,hT.y);break}}}};bn.$0=function(e,L,hT,hU,hV){var hW=e.get_lineWidth();hU=hW*hU;hV=hW*hV;e.moveTo(L.x,L.y);var hX=false;var hY=hU;var hZ=L.x;var ia=L.y;var ib=hT.x-L.x;var ic=hT.y-L.y;var id=ib*ib+ic*ic;id=Math.sqrt(id);var ie=ib/id;var ig=ic/id;while(id>0){var ih=((id>hY)?hY:id);var ii=hZ+ih*ie;var ij=ia+ih*ig;if(hX){e.moveTo(ii,ij)}else{e.lineTo(ii,ij)}id-=ih;hY-=ih;if(hY===0){hX=!hX;hY=(hX?hV:hU)}hZ=ii;ia=ij}};bn.$4=function(e,L){var hT=tab.DomUtil.parseWidthFromStyle(e.style);hT=(isNaN(hT)?L:hT);return hT};bn.$3=function(e,L){var hT=tab.DomUtil.parseHeightFromStyle(e.style);hT=(isNaN(hT)?L:hT);return hT};bn.$6=function(e){return ss.Int32.trunc(e*100000)/100000};global.tab.CanvasRenderer=bn;var bo=function(){this.canvasElt=null;spiff.Template.call(this,$("<canvas class='tabCanvas'></canvas>"));this.canvasElt=this.domRoot};bo.__typeName='tab.CanvasTemplate';global.tab.CanvasTemplate=bo;var bp=function(){};bp.__typeName='tab.CanvasUtil';bp.sizeCanvasWithHighDPISupport=function(e,L,hT){var hU=fR.calculatePixelRatio();bp.setCanvasSizeAndDensify(e,hU,hT);if(!tab.DoubleUtil.isApproximatelyEqual(hU,1)){bp.scaleCanvasDrawing(L,hU)}};bp.setCanvasSizeAndDensify=function(e,L,hT){if(ss.isValue(e)){var hU={w:ss.Int32.trunc(hT.w*L),h:ss.Int32.trunc(hT.h*L)};bp.densifyCanvasUsingSize(e,hU,hT)}};bp.densifyCanvasUsingSize=function(e,L,hT){if(ss.isValue(e)&&ss.isValue(L)&&ss.isValue(hT)){e.width=L.w;e.height=L.h;e.style.width=bp.$0(hT.w);e.style.height=bp.$0(hT.h)}};bp.scaleCanvasDrawing=function(e,L){if(ss.isValue(e)){e.pixelRatio=L;e.scale(L,L)}};bp.isOverCanvasSizeLimit=function(e,L,hT){var hU=Math.floor(hT*e*hT*L+0.5);return hU>tabBootstrap.ViewerBootstrap.get_canvasPixelLimit()};bp.canvasDensified=function(e){return!!e.style.height&&!ss.referenceEquals(e.style.height,bp.$0(e.height))};bp.$0=function(e){return e+'px'};global.tab.CanvasUtil=bp;var bq=function(e){var L=function(hT,hU){this.canvasElt=null;this.context=null;this.scrollOffset=null;this.$c=null;this.$g=null;this.$h=0;this.$i=null;this.$e=null;this.$j=null;this.$f=false;this.$d=null;this.$3$1=null;ss.makeGenericType(spiff.BaseView$1,[e]).call(this,hT,new bo);this.canvasElt=this.get_template().canvasElt.get(0);this.scrollOffset={x:0,y:0};this.$g={x:0,y:0};this.$f=false;this.$c=hU;this.context=bn.getRenderContext(this.canvasElt,hU);this.$h=fR.calculatePixelRatio();tab.CommandController.get().add_modelsUpdated(ss.mkdel(this,this.$b))};ss.registerGenericClassInstance(L,bq,[e],{add_sizeChange:function(hT){this.$3$1=ss.delegateCombine(this.$3$1,hT)},remove_sizeChange:function(hT){this.$3$1=ss.delegateRemove(this.$3$1,hT)},get_canScrollX:function(){return this.get_docSize().w-this.get_effectiveViewSize().w>0},get_canScrollY:function(){return this.get_docSize().h-this.get_effectiveViewSize().h>0},get_docSize:null,get_actualViewSize:function(){if(!ss.isValue(this.canvasElt)){return{w:0,h:0}}return{w:this.canvasElt.width,h:this.canvasElt.height}},set_actualViewSize:function(hT){if(!ss.isValue(this.canvasElt)){return}if(bp.isOverCanvasSizeLimit(hT.w,hT.h,this.get_pixelRatio())){this.$h=1}if(this.get_effectiveViewSize().w!==hT.w||this.get_effectiveViewSize().h!==hT.h){this.$e={w:hT.w,h:hT.h};bp.setCanvasSizeAndDensify(this.canvasElt,this.get_pixelRatio(),this.$e);if(this.$c==='opaque'){this.context.set_shapeFillStyle(this.get_backgroundFillColor());this.context.fillRect(0,0,this.canvasElt.width,this.canvasElt.height)}this.invalidate(false);if(!ss.staticEquals(this.$3$1,null)){this.$3$1()}}},get_effectiveViewSize:function(){if(ss.isValue(this.$e)){return this.$e}else{return this.get_actualViewSize()}},get_pixelRatio:function(){return this.$h},get_isContentOpaque:function(){return true},get_needsRedraw:function(){return!tab.RectXYUtil.isEmpty(this.get_dirtyRect())},get_scrollPos:function(){return this.scrollOffset},set_scrollPos:function(hT){if(!tab.PointUtil.equals(this.scrollOffset,hT)){var hU=tab.PointFUtil.timesScalar(hT,this.$h);var hV=tab.PointFUtil.round(hU);var hW=tab.PointUtil.subtract(hV,this.$g);var hX=tab.PointUtil.subtract(hT,this.scrollOffset);this.$g=hV;this.scrollOffset=hT;if(!tab.RectXYUtil.isEmpty(this.get_dirtyRect())){var hY={x:-hX.x,y:-hX.y};var hZ=tab.RectXYUtil.offsetRect(this.get_dirtyRect(),hY);this.set_dirtyRect(hZ)}if(hX.x!==0&&hX.y!==0||!this.get_isContentOpaque()){this.invalidate(true)}else{var ia=hW.x;var ib=hW.y;var ic=this.get_actualViewSize().w-Math.abs(ia);var id=((ia>0)?ia:0);var ie=((ia>0)?0:-ia);var ig=this.get_actualViewSize().h-Math.abs(ib);var ih=((ib>0)?ib:0);var ii=((ib>0)?0:-ib);if(ic<=0||ig<=0){this.invalidate(true)}else{this.context.reset();this.context.drawImage5(this.canvasElt,id,ih,ic,ig,ie,ii,ic,ig);var ij={x:0,y:0,w:this.get_effectiveViewSize().w,h:this.get_effectiveViewSize().h};if(hX.x>0){ij.x=ij.w-hX.x}else if(hX.x<0){ij.w=-hX.x}if(hX.y>0){ij.y=ij.h-hX.y}else if(hX.y<0){ij.h=-hX.y}if(hX.x===0){ij.h=Math.abs(hX.y)}if(hX.y===0){ij.w=Math.abs(hX.x)}ij=tab.RectXYUtil.dialate(ij,3);this.invalidateRect(ij,true)}}}},get_dirtyRect:function(){return(ss.isValue(this.context)?this.context.dirtyRect:{x:0,y:0,w:0,h:0})},set_dirtyRect:function(hT){if(ss.isValue(this.context)){this.context.dirtyRect=hT}},get_backgroundFillColor:null,dispose:function(){if(ss.isValue(this.$i)){tab.WindowHelper.cancelAnimationFrame(ss.unbox(this.$i));this.$i=null}this.$9();tab.CommandController.get().remove_modelsUpdated(ss.mkdel(this,this.$b));ss.makeGenericType(spiff.BaseView$1,[e]).prototype.dispose.call(this)},clearDirty:function(){this.set_dirtyRect({x:0,y:0,w:0,h:0})},invalidate:function(hT){this.set_dirtyRect({x:0,y:0,w:this.get_effectiveViewSize().w,h:this.get_effectiveViewSize().h});this.triggerRedraw(hT)},invalidateRect:function(hT,hU){var hV;if(tab.RectXYUtil.isEmpty(this.get_dirtyRect())){hV=tab.RectXYUtil.clone(hT)}else{hV=tab.RectXYUtil.union(this.get_dirtyRect(),hT)}if(hV.x<0){hV.x=0}if(hV.x+hV.w>this.get_effectiveViewSize().w){hV.w=this.get_effectiveViewSize().w-hV.x}if(hV.y<0){hV.y=0}if(hV.y+hV.h>this.get_effectiveViewSize().h){hV.h=this.get_effectiveViewSize().h-hV.y}this.set_dirtyRect(hV);this.triggerRedraw(hU)},setXPos:function(hT){this.set_scrollPos({x:hT,y:this.get_scrollPos().y})},setYPos:function(hT){this.set_scrollPos({x:this.get_scrollPos().x,y:hT})},redraw:null,redrawFinished:null,triggerRedraw:function(hT){var hU=ss.isValue(this.$i);hT=hT||false;if(hT){this.$a();this.redraw();this.$9();if(hU){tab.WindowHelper.cancelAnimationFrame(ss.unbox(this.$i));this.$i=null}this.redrawFinished()}else if(!hU){this.$a();this.$i=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,function(){this.$b()}))}},$b:function(){if(ss.isValue(this.$i)){this.triggerRedraw(true)}},$a:function(){this.$j=this.$j||tab.CommandController.get().get_legacySession().get_waitHandler();var hT=!this.$f&&this.$j.isBusy();if(hT){this.$j.addref(false);this.$f=true;return true}if(ss.isNullOrUndefined(this.$d)){this.$d=bI.get_instance().hold(1)}return false},$9:function(){if(this.$f){this.$j=this.$j||tab.CommandController.get().get_legacySession().get_waitHandler();this.$j.release();this.$f=false}if(ss.isValue(this.$d)){this.$d.dispose();this.$d=null}}},function(){return ss.makeGenericType(spiff.BaseView$1,[e])},function(){return[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[e]),spiff.IScrollable]});return L};bq.__typeName='tab.CanvasView$1';ss.initGenericClass(bq,a,1);global.tab.CanvasView$1=bq;var br=function(){};br.__typeName='tab.CategoricalDisplayMode';global.tab.CategoricalDisplayMode=br;var bs=function(e,L,hT,hU,hV,hW){this.column=null;this.$1=null;spiff.Template.call(this,$("<span class='tabLegendItemColumn'/>"));this.column=this.domRoot;this.$1=[];for(var hX=0;hX<e;++hX){this.$1[hX]=new bt(hU,hV,hW);bv.setDomNodeStyleSize(this.$1[hX].domRoot,L,hT);this.$1[hX].itemLabel.width(L);this.column.append(this.$1[hX].domRoot)}};bs.__typeName='tab.CategoricalLegendColumnHtmlTemplate';global.tab.CategoricalLegendColumnHtmlTemplate=bs;var bt=function(e,L,hT){this.item=null;this.itemSwatch=null;this.itemLabelHolder=null;this.itemLabel=null;this.renderContext=null;this.canvasElt=null;spiff.Template.call(this,$("<div class='tabLegendItem' role='listitem'><span class='tabLegendItemSwatchHolder'></span><span class='tabLegendItemLabelHolder'><span class='tabLegendItemLabel' /></span></div>"));this.item=this.domRoot;var hU=this.getElementBySelector('.tabLegendItemSwatchHolder');this.itemLabel=this.getElementBySelector('.tabLegendItemLabel');this.itemLabelHolder=this.getElementBySelector('.tabLegendItemLabelHolder');bv.setDomNodeStyleSize(hU,e.w,e.h);var hV=(ss.isValue(L)?"<span class='tabLegendItemSwatch' />":"<canvas class='tabLegendItemSwatch' />");hU.append($(hV));this.itemSwatch=this.getElementBySelector('.tabLegendItemSwatch');if(ss.isNullOrUndefined(L)){var hW=this.itemSwatch.get(0);this.renderContext=bn.getRenderContext(hW,'transparent');this.canvasElt=hW;bp.sizeCanvasWithHighDPISupport(this.canvasElt,this.renderContext,e)}else{var hX={l:L.l,t:L.t,w:L.w,h:L.h};if(hT){var hY=1;hX.w-=2;hX.h-=2;this.itemSwatch.css('border-width',hY+'px');this.itemSwatch.css('border-style','none')}bv.setDomNodeStyleSize(this.itemSwatch,hX.w,hX.h);this.itemSwatch.css('top',hX.t+'px');this.itemSwatch.css('left',hX.l+'px');this.renderContext=null}};bt.__typeName='tab.CategoricalLegendItemHtmlTemplate';global.tab.CategoricalLegendItemHtmlTemplate=bt;var bu=function(e){this.panel=null;this.columnsHolder=null;this.columnHolder=null;this.legendHighlighterHolder=null;eu.call(this,e);this.panel=this.domRoot;this.panel.append($("<div class='tabLegendHighlighterHolder'><div class='tabLegendHighlighter'/></div>"));this.columnsHolder=this.getElementBySelector('.tabLegendContentHolder');this.columnHolder=this.getElementBySelector('.tabLegendColumnHolder');this.legendHighlighterHolder=this.getElementBySelector('.tabLegendHighlighterHolder');this.getElementBySelector('.tabLegendHighlighter').attr('title',tab.Strings.LegendPanelHighlightSelectedItems)};bu.__typeName='tab.CategoricalLegendTemplate';global.tab.CategoricalLegendTemplate=bu;var bv=function(e,L){this.viewportWidth=0;this.viewportHeight=0;this.bodyOffset=null;this.$o=[];this.$r=null;this.$p=null;this.$q=null;ss.makeGenericType(bi,[bw]).call(this,e,L);this.setHighlightButtonVisibility(false);e.selectionChanged=ss.delegateCombine(e.selectionChanged,ss.mkdel(this,this.onSelectionChanged));this.disposables.add(ss.mkdel(this,function(){e.selectionChanged=ss.delegateRemove(e.selectionChanged,ss.mkdel(this,this.onSelectionChanged))}))};bv.__typeName='tab.CategoricalLegendView';bv.setDomNodeStyleSize=function(e,L,hT){e.css('width',L+'px');e.css('height',hT+'px')};bv.$0=function(e,L){if(L){e.show()}else{e.hide()}};global.tab.CategoricalLegendView=bv;var bw=function(e,L,hT,hU){this.legendType=null;this.$r=null;this.$v=null;this.$s=null;this.$u=null;this.$q=null;this.$t=null;this.selectionChanged=null;es.call(this,hT,hU);this.legendType=L;this.$r=e;this.$r.add_legendChanged(ss.mkdel(this,this.$f));this.$r.add_legendNameChanged(ss.mkdel(this,this.$e));var hV=this.get_visualModel();this.$u=hV.get_selectionsModel().getLegendSelection(this.get_legendTypeEnum(),this.$l());this.$u.add_newSelection(ss.mkdel(this,this.$g));this.$q=hV.get_brushingsModel().getLegendSelection(this.get_legendTypeEnum(),this.$l());this.$q.add_newSelection(ss.mkdel(this,this.$g));hV.get_selectionsModel().add_newSelections(ss.mkdel(this,this.$g));this.$v=((this.legendType==='color')?tab.ColorModel.fromColorCode(this.$i().mNx):this.$h());this.get_visualModel().add_emptyHighlightFogAllChanged(ss.mkdel(this,this.$d));this.$f()};bw.__typeName='tab.CategoricalLegendViewModel';bw.legendShouldBeGrayed=function(e,L,hT,hU){if(e&&L&&!hT){return false}return hT||L||hU};global.tab.CategoricalLegendViewModel=bw;var bx=function(e,L){this.$m=null;this.$n=null;React.Component.call(this,e,L);this.state=this.$2(this.props)};bx.__typeName='tab.CategoricalListComponent';bx.$0=function(){return tab.Logger.lazyGetLogger(bx)};global.tab.CategoricalListComponent=bx;var by=function(){this.selection=null;this.displayTitleBarButtons=false};by.__typeName='tab.CategoricalListState';global.tab.CategoricalListState=by;var bz=function(e){this.categoricalQuickFilterModel=null;this.$3$1=null;fB.call(this,e);this.categoricalQuickFilterModel=this.displayModel.get_quickFilterModel()};bz.__typeName='tab.CategoricalQuickFilterViewModel';global.tab.CategoricalQuickFilterViewModel=bz;var bA=function(e){this.$2=null;this._anchorIndex=-1;this._selectedIndexes=[];this._lastRangeSelectionIndex=-1;this.changelist=null;this._applyTimer=null;this.$2=e};bA.__typeName='tab.CategoricalSelection';global.tab.CategoricalSelection=bA;var bB=function(e,L,hT){bh.call(this,e,L,hT);this.set_itemFormatter(ss.mkdel(cY.filterItem,cY.filterItem.formatChecklistFilterItemHtml))};bB.__typeName='tab.CheckDropdown';global.tab.CheckDropdown=bB;var bC=function(e,L,hT){this.checkListContainer=null;this.$3=null;bj.call(this,e,L,hT);this.set_itemFormatter(bC.getFilterItemHtml)};bC.__typeName='tab.Checklist';bC.addAllItem=function(e,L,hT,hU,hV,hW){var hX=cY.getAllItemHtml(L,hT,hU,hV,hW);var hY=e.append($(hX).addClass('tab-ctrl-formatted-text'));cY.filterItem.setChecked(hY.children().get(0),hV)};bC.shouldCheckAllItem=function(e,L){if(ss.isValue(L)&&ss.isValue(L.get_allItemCheckState())){return ss.unbox(L.get_allItemCheckState())}return e.all||e.allChecked&&!e.exclude||e.allNotChecked&&e.exclude};global.tab.Checklist=bC;var bD=function(e,L,hT){gl.call(this,e,L,hT)};bD.__typeName='tab.ChecklistContentFormatter';global.tab.ChecklistContentFormatter=bD;var bE=function(e,L){this.$i=null;this.$j=null;this.$k=null;gd.call(this,e,"<div>\n                                                <svg class='selectionShape'>\n                                                    <circle class='tvdrag_svg_marquee'></circle><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_radius'x1='0' y1='0' x2='0' y2='0'></line></svg><div class='tabDistanceReadout'></div></div>",'tvdrag_svg_div');this.$i={center:{x:0,y:0},radius:0};this.$j={center:{x:0,y:0},radius:0};this.$k=L};bE.__typeName='tab.CircleShapeSelector';global.tab.CircleShapeSelector=bE;var bF=function(){this.$0=null;this.$1=null;ge.call(this);this.$0={center:{x:0,y:0},radius:0};this.$1={center:{x:0,y:0},radius:0}};bF.__typeName='tab.CircleShapeState';global.tab.CircleShapeState=bF;var bG=function(e,L){React.Component.call(this,e,L);this.state={isOpen:false}};bG.__typeName='tab.CollapsibleComponent';global.tab.CollapsibleComponent=bG;var bH=function(){this.command=null;ss.EventArgs.call(this)};bH.__typeName='tab.CommandExecutedEventArgs';global.tab.CommandExecutedEventArgs=bH;var bI=function(){this.$2=null;this.$1=null;this.$2={};this.$1={}};bI.__typeName='tab.CompletionMonitor';bI.get_instance=function(){if(ss.isNullOrUndefined(bI.$0)){bI.$0=new bI}return bI.$0};global.tab.CompletionMonitor=bI;var bJ=function(){};bJ.__typeName='tab.CompletionMonitorType';global.tab.CompletionMonitorType=bJ;var bK=function(e,L){this.$0=null;this.completionMonitorType=0;this.completionMonitorType=e;this.$0=L};bK.__typeName='tab.CompletionToken';global.tab.CompletionToken=bK;var bL=function(){this.templateString="<div class='ConditionalsWidget tab-ctrl-formatted-text'><div class='Conditional' dojoAttachPoint='domCondition'><span dojoAttachPoint='domConditionTitle' class='ConditionalTitle'>Condition</span><br/><span dojoAttachPoint='domConditionText'></span></div><div class='Conditional' dojoAttachPoint='domLimit'><span dojoAttachPoint='domLimitTitle' class='ConditionalTitle'>Limit</span><br/><span dojoAttachPoint='domLimitText'></span></div></div>";this.isContainer=false;this.domCondition=null;this.domConditionTitle=null;this.domConditionText=null;this.domLimit=null;this.domLimitTitle=null;this.domLimitText=null;Object.call(this)};bL.__typeName='tab.ConditionalsWidget';global.tab.ConditionalsWidget=bL;var bM=function(){};bM.__typeName='tab.ConfirmationCommandRedirectHandler';bM.$0=function(e){var L=$.Deferred();var hT=e['bQT'.toString()];var hU=$('<div>').append($('<div>').text(hT.E_S).css('white-space','pre-wrap'));var hV=hU.html();bO.showConfirmation(hV,function(hW){var hX=((hW==='confirm')?hT.MUY:hT.XNG);if(ss.isNullOrUndefined(hX)){L.resolve();return}var hY=tab.CommandSerializer.deserialize(tab.SimpleCommandsPresModelWrapper.create(hX).get_simpleCommand());tab.ServerCommands.executeServerCommand(hY,'immediately',tab.CommandUtils.createCommandRedirectSuccessHandler(L),function(){L.reject()})});return L.promise()};global.tab.ConfirmationCommandRedirectHandler=bM;var bN=function(e){this.confirmViewModel=null;this.$g=null;this.$f=null;this.$e=null;ss.makeGenericType(spiff.BaseView$1,[bO]).call(this,e,spiff.Template.fromHtml("<div class='tabConfirmation'>"));this.confirmViewModel=e;this.confirmViewModel.add_shown(ss.mkdel(this,this.$d));this.confirmViewModel.add_hidden(ss.mkdel(this,this.$c));this.buildDom()};bN.__typeName='tab.ConfirmationView';global.tab.ConfirmationView=bN;var bO=function(){this.$5=null;this.$3=tab.Strings.ConfirmationButtonConfirm;this.$4=tab.Strings.ConfirmationButtonDeny;this.$8=tab.Strings.ConfirmationTitle;this.$6=true;this.$7=true;this.$a=false;this.$9=null;this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this)};bO.__typeName='tab.ConfirmationViewModel';bO.create=function(e,L){var hT=new bO;hT.set_messageHtml(e);hT.disposeOnHide();hT.add_hidden(L);hT.disposables.add$1(new tab.CallOnDispose(function(){hT.remove_hidden(L)}));return hT};bO.showConfirmation=function(e,L){var hT=bO.create(e,L);hT.show()};bO.showNotification=function(e,L){var hT=bO.create(e,L);hT.set_showDenyButton(false);hT.set_confirmText(tab.Strings.DialogButtonOK);hT.show()};global.tab.ConfirmationViewModel=bO;var bP=function(e,L,hT){this.$2=0;this.$1=null;this.$0=null;ss.EventArgs.call(this);this.$2=e;this.$1=L;this.$0=hT};bP.__typeName='tab.ContentFetchedEventArgs';global.tab.ContentFetchedEventArgs=bP;var bQ=function(e){this.viewModel=null;ss.makeGenericType(spiff.BaseView$1,[bR]).call(this,e,new w);this.viewModel=e;this.get_template().domRoot.addClass(this.viewModel.get_sliderClassName())};bQ.__typeName='tab.ContinuousSlider';global.tab.ContinuousSlider=bQ;var bR=function(e){this.$6=null;this.$3=0;this.$4=0;this.$5=0;this.$7=0;this.$8='';this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this);this.$6=e;this.$3=e.get_currentFraction();this.$6.add_sliderFractionUpdated(ss.mkdel(this,this.$2));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$6.remove_sliderFractionUpdated(ss.mkdel(this,this.$2))})));this.$5=200};bR.__typeName='tab.ContinuousSliderViewModel';global.tab.ContinuousSliderViewModel=bR;var bS=function(e){this.baseClass='currentPagePanel';this.templateString="<div dojoAttachPoint='containerNode' baseClass='currentPagePanel'><div dojoAttachPoint='_titlePane' style='border:0; float:left; width:100%; overflow:hidden;'></div><div dojoType='dijit.layout.SplitContainer' persist='false' dojoAttachPoint='innerWrapper' orientation='${cpOrientation}' sizerWidth='0' dragRestriction='true' activeSizing='false' style='float:left; overflow: visible;'><div dojoType='dijit.layout.LayoutContainer' sizeShare='24' sizeMin='24' style='display:${display_dropdown};' dojoAttachPoint='buttonsContainer' ><button dojoAttachEvent='onClick:prevPage' dojoType='dijit.form.Button' layoutAlign='left' style='margin:0; margin-right:2px;' iconClass='dijitIcon cpLeftArrowBlack' showLabel='false' dojoAttachPoint='_leftBtn'></button><select dojoAttachEvent='onChange:onSelection' dojoType='tableau.base.widget.ui.iDropDownSelect' dojoAttachPoint='_dropdown' layoutAlign='client' autoWidth='true' minSize='100' hasDownArrow='true' popupExtraClass='${popupClass}'></select><button dojoAttachEvent='onClick:nextPage' dojoType='dijit.form.Button' layoutAlign='right' style='clear: left; margin:0; margin-left:2px;' iconClass='dijitIcon cpRightArrowBlack' showLabel='false' dojoAttachPoint='_rightBtn'></button></div><div dojoType='dijit.layout.ContentPane' sizeShare='24' sizeMin='24' style='display:${display_slider}; padding:6px 0 0 0; border:0; overflow: visible;' dojoAttachPoint='sliderPane'><div dojoAttachEvent='onChange:onSliderChange' dojoType='dijit.form.HorizontalSlider' slideDuration='0'pageIncrement='1' minimum='0' maximum='${maximum}' discreteValues='${discrete_values}' intermediateChanges='{0}' showButtons='false'dojoAttachPoint='_slider'></div><div dojoAttachPoint='_horizontalRuleNode'></div></div></div><div dojoType='dijit.layout.ContentPane' dojoAttachPoint='_checkboxPane' style='padding:0; height:16px; width:110px; display:${display_toggle}; border:0; position:relative; float:left;'><input dojoAttachEvent='onChange:onCheckboxChange' dojoType='dijit.form.CheckBox' dojoAttachPoint='_showHistoryCb'/></div></div>";this.widgetsInTemplate=true;this.zid=0;this.sliderPane=null;this.show_toggle=false;this.show_dropdown=false;this.show_slider=false;this.sheetid=null;this.session=null;this.lTitle=null;this.titleHtml=null;this.isDashboard=false;this.pageViewModel=null;this.innerWrapper=null;this.cpHeight=0;this.buttonsContainer=null;this._started=false;this._slider=null;this._showHistoryCb=null;this._rightBtn=null;this._leftBtn=null;this._horizontalRuleNode=null;this._dropdown=null;this._checkboxPane=null;this.rid=0;this.timestamp=0;this._horizontalRule=null;this.oldSize=0;this.containerNode=null;this.titleSize=null;this.zoneTitleHeight=0;this.zoneTitleWidth=0;this.updating=false;this._titlePane=null;this.pages=null;this.current_page=0;this.refreshed=false;this.enable=false;this.cpOrientation=null;this.display_dropdown=null;this.display_slider=null;this.display_toggle=null;this.maximum=0;this.discrete_values=0;this.show_ruler=null;this.ruler_count=0;this.popupClass=null;this.requestTimeout=null;this.rebuildLayoutTimeout=null;this.BUTTONS_HEIGHT=26;this.ONLY_BUTTONS=24;this.SLIDER_HEIGHT=22;this.ONLY_SLIDER=16;this.TOGGLE_HEIGHT=16;this.TOGGLE_WIDTH_OFFSET=90;this.RULE_OFFSET=5;this.DOM_OFFSET=4;this.WIDGET_SPACE=8;this.SCROLL_PAGES=14;Object.call(this);this.templateString=ss.formatString(this.templateString,tab.FeatureFlags.isEnabled('PageCardImprovements'))};bS.__typeName='tab.CurrentPagePanel';global.tab.CurrentPagePanel=bS;var bT=function(){this.customViewsArea=null;this.manageModeControlArea=null;this.myViewsTitle=null;this.myViewsListArea=null;this.otherViewsTitle=null;this.otherViewsListArea=null;this.myViewsListWrapper=null;this.otherViewsListWrapper=null;this.saveViewArea=null;spiff.Template.call(this,$("\n<div class='tab-customViewsView tab-toolbarFlyout'>\n    <div class='tab-cv-flyoutSection tab-customViews-saveView' />\n    <div class='tab-cv-flyoutSection tab-cv-myViews'>\n        <div class='tab-toolbarFlyoutTitle'/>\n        <div class='tab-cv-listWrapper'>\n            <div class='tab-cv-viewsList'/>\n        </div>\n    </div>\n    <div class='tab-cv-flyoutSection tab-cv-otherViews'>\n        <div class='tab-toolbarFlyoutTitle'/>\n        <div class='tab-cv-listWrapper'>\n            <div class='tab-cv-viewsList'/>\n        </div>\n    </div>\n    <div class='tab-cv-flyoutSection tab-cv-manageModeControls' />\n</div>"));this.customViewsArea=this.domRoot;this.manageModeControlArea=this.getElementBySelector('.tab-cv-manageModeControls');this.myViewsListArea=this.getElementBySelector('.tab-cv-myViews .tab-cv-viewsList');this.myViewsTitle=this.getElementBySelector('.tab-cv-myViews .tab-toolbarFlyoutTitle');this.otherViewsTitle=this.getElementBySelector('.tab-cv-otherViews .tab-toolbarFlyoutTitle');this.otherViewsListArea=this.getElementBySelector('.tab-cv-otherViews .tab-cv-viewsList');this.myViewsListWrapper=this.getElementBySelector('.tab-cv-myViews .tab-cv-listWrapper');this.otherViewsListWrapper=this.getElementBySelector('.tab-cv-otherViews .tab-cv-listWrapper');this.saveViewArea=this.getElementBySelector('.tab-customViews-saveView')};bT.__typeName='tab.CustomViewsTemplate';global.tab.CustomViewsTemplate=bT;var bU=function(e){this.$15=null;this.$14=null;this.$12=null;this.$X=null;this.$Y=null;this.$Z=null;this.$10={};this.$11=null;this.$W=null;this.$13=null;ss.makeGenericType(spiff.BaseView$1,[bV]).call(this,e,new bT);this.$a();this.get_viewModel().add_customViewListChanged(ss.mkdel(this,this.$P));this.get_viewModel().updateCustomizedViews(null,null)};bU.__typeName='tab.CustomViewsView';global.tab.CustomViewsView=bU;var bV=function(){this.$s=null;this.$q=[];this.$r=[];this.$p=bV.modeSelect;this.$l=null;this.$m=null;this.$n=null;this.$o=false;this.hideView=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;spiff.BaseViewModel.call(this);this.$s=new tab.CustomizedViewSession(tab.CommandController.get().get_legacySession());if(tsConfig.allow_custom_views){tab.StartupUtils.callAfterBootstrap(ss.mkdel(this,function(){this.$5(null,null)}));tab.DashboardModel.add_modifiedSheetsChanged(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.DashboardModel.remove_modifiedSheetsChanged(ss.mkdel(this,this.$9))})))}};bV.__typeName='tab.CustomViewsViewModel';bV.$0=function(e,L){return ss.compareStrings(e.name,L.name,true)};global.tab.CustomViewsViewModel=bV;var bW=function(e,L){this.dashboardNode=null;spiff.Template.call(this,$(e));if(L){this.dashboardNode=this.getElementBySelector('.tab-dashboard')}else{this.dashboardNode=this.domRoot}};bW.__typeName='tab.DashboardTemplate';bW.newDashboardTemplate=function(){var e='';var L=false;if(tsConfig.current_sheet_type==='dashboard'&&tsConfig.is_authoring){e="<div class='tab-gutter'><div class='tab-dashboard'/></div>";L=true}else{e="<div class='tab-dashboard'/>"}return new bW(e,L)};global.tab.DashboardTemplate=bW;var bX=function(e){this.$f=null;ss.makeGenericType(spiff.BaseView$1,[bY]).call(this,e,bW.newDashboardTemplate());this.$f=e;this.$f.add_formatsChanged(ss.mkdel(this,this.$a));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$f.remove_formatsChanged(ss.mkdel(this,this.$a))})));this.$f.add_newZone(ss.mkdel(this,this.$b));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$f.remove_newZone(ss.mkdel(this,this.$b))})));this.$f.add_vizRebuildStart(ss.mkdel(this,this.$d));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$f.remove_vizRebuildStart(ss.mkdel(this,this.$d))})));this.$f.add_sizeChanged(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$f.remove_sizeChanged(ss.mkdel(this,this.$c))})))};bX.__typeName='tab.DashboardView';bX.findDashboard=function(){return $('.tab-dashboard')};bX.uniquefyClonedFilterRadioElements=function(e){var L=e.find('input:radio');for(var hT=0;hT<L.length;++hT){var hU=L[hT];var hV=ss.coalesce(hU.getAttribute('name'),'');hV+='_%%%CLONE%%%';hU.setAttribute('name',hV)}};global.tab.DashboardView=bX;var bY=function(e){this.$n={};this.$m=null;this.viewControllersBySheet={};this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.viewControllers=null;this.dashboardModel=null;this.gutter=null;spiff.BaseViewModel.call(this);this.gutter=tabBootstrap.ViewerBootstrap.get_instance().authoringGutter;this.dashboardModel=e;this.dashboardModel.zonesModel.add_newZone(ss.mkdel(this,this.$8));this.dashboardModel.add_newDashboard(ss.mkdel(this,this.$7));this.dashboardModel.add_activeZoneChanged(ss.mkdel(this,this.$6));this.dashboardModel.add_readyZoneChanged(ss.mkdel(this,this.$9));this.$l().add_stateChanged(ss.mkdel(this,this.$h));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$l().remove_stateChanged(ss.mkdel(this,this.$h))})));this.disposables.add$1(new tab.CallOnDispose(function(){tab.StyleUtil.clearDefaultStyleSheet()}));this.dashboardModel.add_renderModeChanged(ss.mkdel(this,this.$a));this.dashboardModel.add_sizeChanged(ss.mkdel(this,this.$g));this.dashboardModel.add_portSizeChanged(ss.mkdel(this,this.$f));this.dashboardModel.add_formatsChanged(ss.mkdel(this,this.$e));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.dashboardModel.remove_renderModeChanged(ss.mkdel(this,this.$a));this.dashboardModel.remove_sizeChanged(ss.mkdel(this,this.$g));this.dashboardModel.remove_portSizeChanged(ss.mkdel(this,this.$f));this.dashboardModel.remove_formatsChanged(ss.mkdel(this,this.$e))})));this.viewControllers=[];this.$2()};bY.__typeName='tab.DashboardViewModel';bY.new$1=function(e){return new bY(e)};global.tab.DashboardViewModel=bY;var bZ=function(e,L){React.Component.call(this,e,L)};bZ.__typeName='tab.DataAlertCreateComponent';global.tab.DataAlertCreateComponent=bZ;var ca=function(){this.$h=null;this.$i=null;this.$j=null;this.$g=null;this.$3$1=null;ss.makeGenericType(spiff.BaseComponentViewModel$1,[Object]).call(this);this.$h=new tab.DataAlert;if(!tsConfig.is_guest){tab.StartupUtils.callAfterBootstrap(ss.mkdel(this,function(){this.$e();tab.DataAlertCommands.startNewDataAlert(this.$h)}))}this.$d();this.$9(tsConfig.current_sheet_name);this.$c()};ca.__typeName='tab.DataAlertCreateViewModel';ca.$ctor1=function(e,L,hT,hU){this.$h=null;this.$i=null;this.$j=null;this.$g=null;this.$3$1=null;ss.makeGenericType(spiff.BaseComponentViewModel$1,[Object]).call(this);this.$h=new tab.DataAlert;this.$h.set_title(L);if(ss.isValue(hT)){this.$h.set_triggerType(hT)}if(ss.isValue(hU)){this.$f(hU)}this.$c();this.$8(e)};ca.getOperationTypeText=function(e){switch(e){case'equals':{return tab.Strings.OperatorEqual}case'greater-than':{return tab.Strings.OperatorAbove}case'greater-than-equal':{return tab.Strings.OperatorAboveOrEqual}case'less-than':{return tab.Strings.OperatorBelow}case'less-than-equal':{return tab.Strings.OperatorBelowOrEqual}default:{return''}}};ca.getAlertDescriptionText=function(e,L,hT){switch(L){case'equals':{return tab.Strings.DataAlertEqualSubjectText(e,hT)}case'greater-than':{return tab.Strings.DataAlertAboveSubjectText(e,hT)}case'greater-than-equal':{return tab.Strings.DataAlertAboveOrEqualSubjectText(e,hT)}case'less-than':{return tab.Strings.DataAlertBelowSubjectText(e,hT)}case'less-than-equal':{return tab.Strings.DataAlertBelowOrEqualSubjectText(e,hT)}default:{return''}}};global.tab.DataAlertCreateViewModel=ca;var cb=function(e){this.$9=null;this.dataAlertDialogClass='tab-dataAlertDialog';ss.makeGenericType(spiff.BaseView$1,[cc]).call(this,e,new spiff.Template($("<div class='tab-ignored' />")));var L=spiff.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[ca,bZ,Object])).call(null,[this.get_viewModel().get_createViewModel()]);this.$9=new spiff.ModalDialog.$ctor1(this.get_viewModel().titleUnescaped,L.get_rootElement());var hT=ss.mkdel(this,function(){this.$9.close(null)});this.get_viewModel().get_createViewModel().add_closeDialogBox(hT);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().get_createViewModel().remove_closeDialogBox(hT)})));if(tsConfig.is_mobile){this.$9.set_maximized(true)}this.$9.set_titleUnescaped(this.get_viewModel().titleUnescaped);this.$9.set_stayInWindow(true);this.$9.set_setFocusOnShow(true);this.$9.set_position(this.get_viewModel().dialogPosition);this.$9.disableTextSelection();this.$9.configMoveDragSource(spiff.Dialog.defaultDraggableDialogConfigurer);this.$9.get_dialogElement().addClass('tabSuppressVizTooltipsAndOverlays');this.$9.get_dialogElement().addClass(this.dataAlertDialogClass);this.$9.show();var hU=this.$9;var hV=this.get_viewModel();hU.add_closing(ss.mkdel(hV,hV.onCancel));this.$9.add_closed(ss.mkdel(this,this.onDialogClosed));this.get_viewModel().get_createViewModel().refresh()};cb.__typeName='tab.DataAlertDialogView';global.tab.DataAlertDialogView=cb;var cc=function(){this.$2=null;this.dialogPosition=null;this.titleUnescaped=null;spiff.BaseViewModel.call(this);this.titleUnescaped=tab.Strings.DataAlertDialogTitle;this.$2=new ca;this.disposables.add$1(this.$2)};cc.__typeName='tab.DataAlertDialogViewModel';global.tab.DataAlertDialogViewModel=cc;var cd=function(){this.$5=null;this.$9=null;this.$7=null;this.$8=null;this.$6=null;this.$1=null;this.$2=null;this.$4=null;this.$3=null;spiff.Template.call(this,$("\n<div class='tabDataConnectionPrompt'>\n    <div class='tabDataConnPromptCtrlArea'>\n        <div class='tabDataConnPromptVarListArea'>\n            <div class='tabDataConnPromptVarListInstr'/>\n            <div class='tabDataConnPromptVarListHeader'>\n                <span class='tabDataConnPromptVarListHeaderName'/>\n                <span class='tabDataConnPromptVarListHeaderValue'/>\n            </div>\n            <div class='tabDataConnPromptVarListContainer'/>\n        </div>\n        <div class='tabDataConnPromptEditArea'>\n            <div class='tabDataConnPromptEditTitle'/>\n            <div class='tabDataConnPromptEditInstr'/>\n        </div>\n    </div>\n    <div class='tabDataConnPromptBtnArea'/>\n</div>"));this.$5=this.getElementBySelector('.tabDataConnPromptVarListArea');this.$9=this.getElementBySelector('.tabDataConnPromptVarListInstr');this.$7=this.getElementBySelector('.tabDataConnPromptVarListHeaderName');this.$8=this.getElementBySelector('.tabDataConnPromptVarListHeaderValue');this.$6=this.getElementBySelector('.tabDataConnPromptVarListContainer');this.$1=this.getElementBySelector('.tabDataConnPromptBtnArea');this.$2=this.getElementBySelector('.tabDataConnPromptEditArea');this.$4=this.getElementBySelector('.tabDataConnPromptEditTitle');this.$3=this.getElementBySelector('.tabDataConnPromptEditInstr')};cd.__typeName='tab.DataConnectionPromptTemplate';global.tab.DataConnectionPromptTemplate=cd;var ce=function(e){this.$j=null;this.$g=null;this.$h=null;this.$i=null;ss.makeGenericType(spiff.BaseView$1,[cf]).call(this,e,new cd);var L=this.get_viewModel();L.variableFirstEdited=ss.delegateCombine(L.variableFirstEdited,ss.mkdel(this,this.$b));var hT=this.get_viewModel();hT.variableInEditDeleted=ss.delegateCombine(hT.variableInEditDeleted,ss.mkdel(this,this.$c));var hU=this.get_viewModel();hU.contentChanged=ss.delegateCombine(hU.contentChanged,ss.mkdel(this,this.$e));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){var hV=this.get_viewModel();hV.variableFirstEdited=ss.delegateRemove(hV.variableFirstEdited,ss.mkdel(this,this.$b));var hW=this.get_viewModel();hW.variableInEditDeleted=ss.delegateRemove(hW.variableInEditDeleted,ss.mkdel(this,this.$c));var hX=this.get_viewModel();hX.contentChanged=ss.delegateRemove(hX.contentChanged,ss.mkdel(this,this.$e))})));this.$j=spiff.ObjectRegistry.newView(cl).call(null,[this.get_viewModel().get_variableListViewModel()]);this.$d()};ce.__typeName='tab.DataConnectionPromptView';global.tab.DataConnectionPromptView=ce;var cf=function(e){this.$6=null;this.$4=null;this.$5=null;this.variableFirstEdited=null;this.variableInEditDeleted=null;this.contentChanged=null;this.promptUpdated=null;spiff.BaseViewModel.call(this);this.$4=e;this.$6=new cm(this.$4);this.promptUpdated=ss.delegateCombine(this.promptUpdated,ss.mkdel(this,this.$2));var L=this.get_variableListViewModel();L.selectedVariableChanged=ss.delegateCombine(L.selectedVariableChanged,ss.mkdel(this,this.$3));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.promptUpdated=ss.delegateRemove(this.promptUpdated,ss.mkdel(this,this.$2));var hT=this.get_variableListViewModel();hT.selectedVariableChanged=ss.delegateRemove(hT.selectedVariableChanged,ss.mkdel(this,this.$3))})))};cf.__typeName='tab.DataConnectionPromptViewModel';global.tab.DataConnectionPromptViewModel=cf;var cg=function(e,L,hT){this.$4=null;this.$3=null;this.$2=false;this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this);this.$4=e;this.$3=L;this.$2=hT};cg.__typeName='tab.DataConnectionVariableDisplayViewModel';global.tab.DataConnectionVariableDisplayViewModel=cg;var ch=function(e){this.$k=null;this.$j=null;this.$l=null;ss.makeGenericType(spiff.BaseView$1,[ci]).call(this,e,new r);this.$k=new spiff.ComboBoxViewModel;this.$j=new spiff.ComboBoxViewModel;this.$l=new spiff.ComboBoxViewModel;this.$k.add_selectedItemChanged(ss.mkdel(this,this.$b));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$k.remove_selectedItemChanged(ss.mkdel(this,this.$b))})));this.$j.add_selectedItemChanged(ss.mkdel(this,this.$a));this.$l.add_selectedItemChanged(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$j.remove_selectedItemChanged(ss.mkdel(this,this.$a));this.$l.remove_selectedItemChanged(ss.mkdel(this,this.$c))})));this.$i().$9().blur(ss.mkdel(this,function(L){this.$d()}));this.$i().$9().keyup(ss.mkdel(this,this.$e));this.get_viewModel().add_contentUpdated(ss.mkdel(this,this.$f));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_contentUpdated(ss.mkdel(this,this.$f))})));this.$9();this.$f()};ch.__typeName='tab.DataConnectionVariableEditView';global.tab.DataConnectionVariableEditView=ch;var ci=function(e,L,hT,hU,hV){this.$4=null;this.$3=null;this.$2=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;spiff.BaseViewModel.call(this);this.$4=e;this.$3=L;this.$2=hT;this.set_fromLabel(hU);this.set_toLabel(hV)};ci.__typeName='tab.DataConnectionVariableEditViewModel';global.tab.DataConnectionVariableEditViewModel=ci;var cj=function(){this.$2=null;this.$3=null;this.$1=null;spiff.Template.call(this,$("\n<span class='tabDataConnPromptVarListItem'>\n    <div class='tabDataConnPromptVarName tabDataConnPromptVarListItemCell'/>\n    <div class='tabDataConnPromptVarValue tabDataConnPromptVarListItemCell'/>\n    <div class='tabDataConnPromptDeleteVarBtnArea'/>\n</span>"));this.$2=this.getElementBySelector('.tabDataConnPromptVarName');this.$3=this.getElementBySelector('.tabDataConnPromptVarValue');this.$1=this.getElementBySelector('.tabDataConnPromptDeleteVarBtnArea')};cj.__typeName='tab.DataConnectionVariableListItemTemplate';global.tab.DataConnectionVariableListItemTemplate=cj;var ck=function(e){ss.makeGenericType(spiff.BaseView$1,[cg]).call(this,e,new cj)};ck.__typeName='tab.DataConnectionVariableListItemView';global.tab.DataConnectionVariableListItemView=ck;var cl=function(e){this.$j=null;this.$f=null;this.$i=null;this.$h=null;this.$g=null;ss.makeGenericType(spiff.BaseView$1,[cm]).call(this,e,new hu);var L=this.get_viewModel();L.contentChanged=ss.delegateCombine(L.contentChanged,ss.mkdel(this,this.$d));var hT=this.get_viewModel();hT.selectedVariableChanged=ss.delegateCombine(hT.selectedVariableChanged,ss.mkdel(this,this.onSelectedVariableChanged));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){var hU=this.get_viewModel();hU.contentChanged=ss.delegateRemove(hU.contentChanged,ss.mkdel(this,this.$d));var hV=this.get_viewModel();hV.selectedVariableChanged=ss.delegateRemove(hV.selectedVariableChanged,ss.mkdel(this,this.onSelectedVariableChanged))})))};cl.__typeName='tab.DataConnectionVariableListView';global.tab.DataConnectionVariableListView=cl;var cm=function(e){this.$7=null;this.$5=null;this.$8=null;this.$6=null;this.contentChanged=null;this.selectedVariableChanged=null;this.variableAdded=null;spiff.BaseViewModel.call(this);this.$5=e;this.$6=_.map(this.$5.get_connectionVariables(),function(L){return new cn(L)});this.$7=new spiff.ListViewModel(this.$4(),0);this.$7.add_selectionChanged(ss.mkdel(this,this.$3))};cm.__typeName='tab.DataConnectionVariableListViewModel';global.tab.DataConnectionVariableListViewModel=cm;var cn=function(e){this.$2=null;this.$4=null;this.$3=null;spiff.BaseViewModel.call(this);this.$2=e;_.each(this.$4,function(L){L.dispose()});this.$4=_.map(this.$2.get_values(),ss.mkdel(this,function(L){return new cg(this.$2,L,false)}));this.$3=new cg(this.$2,this.$2.get_defaultValue(),true)};cn.__typeName='tab.DataConnectionVariableViewModel';global.tab.DataConnectionVariableViewModel=cn;var co=function(e,L){this.dataHighlighterViewModel=null;this.$l=null;this.$m=null;this.dataHighlighterContentElement=null;this.dataHighlighterViewRootElement=null;this.zoneTitleRegionRootElement=null;this.$p=null;this.queryDelayTimer=null;this.currentListPopulationMode=0;this.notShownResultsListItemIsVisible=false;this.$o=false;this.$n=null;ss.makeGenericType(spiff.BaseView$1,[cq]).call(this,e,L);this.dataHighlighterViewModel=e;this.$m=L.domRoot;this.dataHighlighterContentElement=L.get_dataHighlighterContentElement();this.dataHighlighterViewRootElement=L.get_dataHighlighterViewRootElement();this.zoneTitleRegionRootElement=L.get_zoneTitleRegionRootElement();this.$l=spiff.ObjectRegistry.newWidget(spiff.CompositeSearchWidget).call(null);this.dataHighlighterViewRootElement.append(this.$l.get_domRoot());this.$l.addClass('tabDataHighlighterView-searchControlsContainer');this.get_compositeSearchWidget().setPlaceholderText(this.get_viewModel().get_searchPlaceholderString());if(!ss.isNullOrUndefined(this.get_viewModel().get_searchText())&&this.get_viewModel().get_searchText().length>0){this.get_compositeSearchWidget().get_textInputView().get_inputElement().toggleClass('tabDataHighlighterViewInactiveText',!this.get_viewModel().get_isActive());this.get_compositeSearchWidget().setSearchText(this.get_viewModel().get_searchText())}this.$k();this.get_compositeSearchWidget().add_inputTextChanged(ss.mkdel(this,this.$a));this.get_compositeSearchWidget().add_textInputElementClicked(ss.mkdel(this,this.handleTextInputElementClicked));this.get_compositeSearchWidget().add_listItemClicked(ss.mkdel(this,this.handleListItemSelected));this.get_compositeSearchWidget().add_textInputSearchButtonClicked(ss.mkdel(this,this.handleSearchButtonClicked));this.get_compositeSearchWidget().add_textInputClearButtonClicked(ss.mkdel(this,this.handleClearButtonClicked));this.get_compositeSearchWidget().get_textInputView().add_enterKeyPressed(ss.mkdel(this,this.handleEnterKeyPress));this.get_compositeSearchWidget().get_textInputView().add_escapeKeyPressed(ss.mkdel(this,this.handleEscapeKeyPress));this.dataHighlighterViewModel.add_receivedSearchQueryResults(ss.mkdel(this,this.handleNewSearchQueryResults));this.dataHighlighterViewModel.add_titleChanged(ss.mkdel(this,this.handleTitleChanged));this.dataHighlighterViewModel.add_searchTextChanged(ss.mkdel(this,this.handleSearchTextChanged));this.dataHighlighterViewModel.add_isActiveChanged(ss.mkdel(this,this.handleIsActiveChanged));this.dataHighlighterViewModel.add_fullDomainTotalNumItemsInSetChanged(ss.mkdel(this,this.$9));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'focus',ss.mkdel(this,this.$b)));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'focusout',ss.mkdel(this,this.$c)));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'mouseup',ss.mkdel(this,this.$d)));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'touchend',ss.mkdel(this,this.$d)));this.setTitleFromModel();this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_compositeSearchWidget().removeList();this.get_compositeSearchWidget().remove_inputTextChanged(ss.mkdel(this,this.$a));this.get_compositeSearchWidget().remove_textInputElementClicked(ss.mkdel(this,this.handleTextInputElementClicked));this.get_compositeSearchWidget().remove_listItemClicked(ss.mkdel(this,this.handleListItemSelected));this.get_compositeSearchWidget().remove_textInputSearchButtonClicked(ss.mkdel(this,this.handleSearchButtonClicked));this.get_compositeSearchWidget().remove_textInputClearButtonClicked(ss.mkdel(this,this.handleClearButtonClicked));this.get_compositeSearchWidget().get_textInputView().remove_enterKeyPressed(ss.mkdel(this,this.handleEnterKeyPress));this.get_compositeSearchWidget().get_textInputView().remove_escapeKeyPressed(ss.mkdel(this,this.handleEscapeKeyPress));this.dataHighlighterViewModel.remove_receivedSearchQueryResults(ss.mkdel(this,this.handleNewSearchQueryResults));this.dataHighlighterViewModel.remove_titleChanged(ss.mkdel(this,this.handleTitleChanged));this.dataHighlighterViewModel.remove_searchTextChanged(ss.mkdel(this,this.handleSearchTextChanged));this.dataHighlighterViewModel.remove_isActiveChanged(ss.mkdel(this,this.handleIsActiveChanged));this.dataHighlighterViewModel.remove_fullDomainTotalNumItemsInSetChanged(ss.mkdel(this,this.$9));this.$g()})))};co.__typeName='tab.DataHighlighterView';global.tab.DataHighlighterView=co;var cp=function(){};cp.__typeName='tab.DataHighlighterView$ListPopulationMode';global.tab.DataHighlighterView$ListPopulationMode=cp;var cq=function(e,L,hT){this.$5=null;this.$a=null;this.$b=null;this.$8=null;this.$7=false;this.$9=null;this.$6=0;this.lastSatisfiedSearchTerm=null;this.lastSatisfiedSearchResults=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;spiff.BaseViewModel.call(this);this.$5=e;this.$a=L;this.$8=hT;this.$7=this.$5.get_isActive();this.set_searchText(this.$5.get_searchText());this.$6=this.$5.get_fullDomainItemSet().hjl;if(ss.isValue(this.$8)){if(ss.isValue(this.$8.get_model().pm)){this.$b=this.$8.get_model().pm.KDk}this.$8.add_updateZone(ss.mkdel(this,this.$4));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$8.remove_updateZone(ss.mkdel(this,this.$4))})))}this.$5.add_newDataHighlighterPresModel(ss.mkdel(this,this.$3));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$5.remove_newDataHighlighterPresModel(ss.mkdel(this,this.$3))})))};cq.__typeName='tab.DataHighlighterViewModel';global.tab.DataHighlighterViewModel=cq;var cr=function(){this.$1=null;this.$2=null;this.$3=null;spiff.Template.call(this,$("\n            <div class='tabDataHighlighterContainer'>\n                <div class='tab-zone-titleregion' />\n                <div class='tabDataHighlighterContent'>\n                    <div class='tabDataHighlighterView'/>\n                </div>\n            </div>"));this.$1=this.domRoot.find('.tabDataHighlighterContent');this.$2=this.domRoot.find('.tabDataHighlighterView');this.$3=this.domRoot.find('.tab-zone-titleregion')};cr.__typeName='tab.DataHighlighterViewTemplate';global.tab.DataHighlighterViewTemplate=cr;var cs=function(e,L){this.$0=null;bg.call(this,e,L);this.$0=new cL(tab.Strings.AuthenticationRequired,e.RedirectUrl,'dse-frame')};cs.__typeName='tab.DataSourceConnectionErrorDialog';global.tab.DataSourceConnectionErrorDialog=cs;var ct=function(){this.firstPeriod=0;this.lastPeriod=0;this.isFutureIncluded=true;this.periodType=null;this.anchorDateTime=null;this.fy=0;this.startOfWeek=1;this._applyTimer=null;this.domPreview=null;this.textLast=null;this.textCurr=null;this.textNext=null;this.textLastn1=null;this.textLastn2=null;this.textNextn1=null;this.textNextn2=null;this.textTodate=null;this.rangeType=null;this.radioTodate=null;this.rangeN=0;this.UPDATE_DELAY=800;this.inputLastn=null;this.inputNextn=null;this.lowestAllowedDate=new Date(1753,0,1);this.highestAllowedDate=new Date(9999,11,31);eq.call(this)};ct.__typeName='tab.DateFilterWidget';global.tab.DateFilterWidget=ct;var cu=function(e){this.$q=0;this.$C=null;this.$y=null;this.$r=null;this.$p=null;this.$B=null;this.$u=null;this.$v=null;this.$s=null;this.$t=null;this.$x=null;this.$A=null;this.$z=null;this.$w=null;this.$E=null;this.$D=null;this.$F=false;spiff.Widget.call(this,$('<span>'));this.$q=e.firstDayOfWeek;this.$C=e.shortDayOfWeekNames;this.$D=e.todayFormatTemplate;this.$y=e.monthYearFormatter;this.$r=e.fullDateFormatter;this.$F=false;var L=new Date;this.$p=cu.$4(cu.$2(e.monthToShow)||L);this.$B=cu.$2(e.dateToSelect);this.setDateRange(e.minDate,e.maxDate);this.element.addClass('tab-datepicker');this.$d().appendTo(this.element);var hT=$('<div>').addClass('tab-datepicker-month-table-wrapper').append($('<div>').addClass('tab-datepicker-week-shade')).append(this.$e());hT.appendTo(this.element);this.$c().appendTo(this.element);this.element.mousedown(function(hU){spiff.EventUtil.stopEvent(hU)});this.$l()};cu.__typeName='tab.DatePicker';cu.$2=function(e){return(!!e?new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()):null)};cu.$3=function(e){return(!!e?new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())):null)};cu.$4=function(e){return(!!e?new Date(e.getFullYear(),e.getMonth(),1):null)};cu.$1=function(e,L,hT,hU){if(e+L>hU){e=hU-L;if(e<hT){e+=Math.ceil((hT-e)/2)}}return e};cu.$0=function(e,L){return(e+L+14)%7};cu.$5=function(e,L){return e.getFullYear()===L.getFullYear()&&e.getMonth()===L.getMonth()&&e.getDate()===L.getDate()};global.tab.DatePicker=cu;var cv=function(e,L,hT,hU,hV,hW,hX,hY,hZ){this.monthToShow=null;this.dateToSelect=null;this.minDate=null;this.maxDate=null;this.firstDayOfWeek=0;this.shortDayOfWeekNames=null;this.todayFormatTemplate=null;this.monthYearFormatter=null;this.fullDateFormatter=null;this.monthToShow=(ss.isNullOrUndefined(e)?null:new Date(e.getTime()));this.dateToSelect=(ss.isNullOrUndefined(L)?null:new Date(L.getTime()));this.minDate=(ss.isNullOrUndefined(hT)?null:new Date(hT.getTime()));this.maxDate=(ss.isNullOrUndefined(hU)?null:new Date(hU.getTime()));this.firstDayOfWeek=ss.coalesce(hV,0);this.shortDayOfWeekNames=(ss.isNullOrUndefined(hW)?['S','M','T','W','T','F','S']:ss.arrayClone(hW));this.todayFormatTemplate=(ss.isNullOrUndefined(hX)?'Today: {0}':hX);this.monthYearFormatter=(ss.isNullOrUndefined(hY)?function(ia){return ss.localeFormatDate(cu.$2(ia),'MMMM yyyy')}:hY);this.fullDateFormatter=(ss.isNullOrUndefined(hZ)?function(ia){return ss.localeFormatDate(cu.$2(ia),'MMMM d, yyyy')}:hZ)};cv.__typeName='tab.DatePickerSettings';global.tab.DatePickerSettings=cv;var cw=function(){dijit.DialogUnderlay.call(this)};cw.__typeName='tab.DialogUnderlay';global.tab.DialogUnderlay=cw;var cx=function(){};cx.__typeName='tab.DisabledTooltipBehavior';global.tab.DisabledTooltipBehavior=cx;var cy=function(e,L,hT){this.$c=null;bn.call(this,e,L);this.$c=hT||dR.defaultColors};cy.__typeName='tab.DisplayList2DRenderer';cy.setTextProperties=function(e,L,hT){e.set_textFillStyle(L.YhU);var hU=new ss.StringBuilder;if(L.BxQ==='font-style-italic'){hU.append('italic ')}if(L.cjf==='font-weight-bold'){hU.append('bold ')}if(ss.isValue(L.zwp)&&L.zwp==='text-decoration-underline'){e.set_shouldUnderlineText(true)}if(ss.isNullOrUndefined(hT)||hT<=0){hT=L.Qvi}var hV=cy.$1(L.sGS);hU.append(hT+'pt '+hV);e.set_font(hU.toString());e.set_textBaseline(de.$1(L.Uec))};cy.$1=function(e){var L=cy.$a.cl[e];if(ss.isValue(L)){return L}var hT=ss.trimString(e,[39,34]);var hU=hT.split(' ');var hV=[];for(var hW=hU.length;hW>0;--hW){hV.push(de.addQuotationMarks(hU.join(' '),true));hU.pop()}de.addDefaultFontForTableau(hV);var hX=hV.join(', ');cy.$a.add(e,hX);return hX};cy.$0=function(e,L){var hT=L;e.set_textFillStyle(tab.ColorModel.convertColorForCanvas(hT.YhU));if(ss.isValue(hT.FYO)){var hU=hT.FYO*Math.PI/180;e.set_textAngle(hU)}else{e.set_textAngle(0)}var hV=new ss.StringBuilder;if(hT.QRh){hV.append('italic ')}if(hT.xjH){hV.append('bold ')}if(hT.eXK){}var hW=gx.defaultTextAlign;if(e.get_isTextAngleHorizontal()){var hX=hT.nsE||'h-align-left';if(hX==='h-align-right'){hW='end'}}else{var hY=hT.$Q||'v-align-top';if(e.get_textAngle()<0&&hY==='v-align-top'||e.get_textAngle()>0&&hY==='v-align-bottom'){hW='end'}}e.set_textAlign(hW);e.set_shouldUnderlineText(hT.hhs||false);var hZ=hT.sGS||'Arial';hZ=cy.$1(hZ);var ia=hT.pmz||8;hV.append(ia+'pt '+hZ);e.set_font(hV.toString())};cy.$2=function(e,L,hT){var hU=L;if(hU.WzG.length!==4){return}var hV=hU.WzG[2]-hU.WzG[0];var hW=hU.WzG[3]-hU.WzG[1];var hX=hU.WzG[0]+hV/2;var hY=hU.WzG[1]+hW/2;var hZ=((hV<hW)?hV:hW)/2;var ia=((hV<hW)?1:(hV/hW));var ib=((hW<hV)?1:(hW/hV));e.save();e.beginPath();e.translate(hX,hY);e.scale(ia,ib);e.arc(0,0,hZ,0,bn.twoPI,false);e.closePath();if(hT){e.fill()}else{e.stroke()}e.restore()};cy.$3=function(e,L,hT){var hU=L.xCr;if(!hT&&Math.round(e.get_lineWidth())%2===1){hU=ss.arrayClone(hU);for(var hV=0,hW=hU.length;hV<hW;++hV){hU[hV]+=0.5}}var hX=L.Dpc;var hY=Math.floor(hU.length/2);if(hY<2){return}e.beginPath();var hZ=0;for(var ia=0;ia<hX.length;ia++){var ib=hX[ia];switch(ib){case'moveto':{{e.moveTo(hU[hZ],hU[hZ+1]);hZ+=2}break}case'lineto':{{e.lineTo(hU[hZ],hU[hZ+1]);hZ+=2}break}case'curveto':{{e.bezierCurveTo(hU[hZ],hU[hZ+1],hU[hZ+2],hU[hZ+3],hU[hZ+4],hU[hZ+5]);hZ+=6}break}default:{{}break}}}if(hT){e.fill()}else{e.stroke()}};cy.$5=function(e){switch(e.VzB){case'Osj':case'nuS':case'uXb':case'$OC':case'MqA':case'jp$':case'nfx':case'mpa':case'eTm':{return true}}return false};cy.$6=function(e,L){if(!L){return e}var hT=cy.$4(e);if(hT.length===0){return e}var hU=ss.arrayClone(e);var hV=function(ia,ib){var ic=hU[ia];hU[ia]=hU[ib];hU[ib]=ic};for(var hW=0;hW<hT.length;hW++){var hX=hT[hW];for(var hY=0;hY<ss.Int32.div(hX.length,2);++hY){var hZ=hX.length-1-hY;hV(hX[hY].item1,hX[hZ].item1);hV(hX[hY].item2,hX[hZ].item2)}}return hU};cy.$4=function(e){var L=[];var hT=-99999999;var hU=false;var hV=-1;var hW=[];for(var hX=0;hX<e.length;hX++){var hY=e[hX];if(hY.VzB==='MqA'){var hZ=hY;hU=ss.isValue(hZ.nsE)&&hZ.nsE==='h-align-right';hV=hX}else if(hU&&hY.VzB==='ADd'){var ia=hY;var ib=ia.WzG[1];if(ib!==hT){if(hW.length>=2){L.push(hW)}hW=[]}hW.push({item1:hV,item2:hX});hT=ib}}if(hW.length>=2){L.push(hW)}return L};global.tab.DisplayList2DRenderer=cy;var cz=function(){};cz.__typeName='tab.DisplayList2DUtils';cz.rectXYFromDrawRect=function(e){return{x:e[0],y:e[1],w:e[2]-e[0],h:e[3]-e[1]}};global.tab.DisplayList2DUtils=cz;var cA=function(){};cA.__typeName='tab.DojoCommonDialogProvider';cA.$0=function(e){spiff.Widget.enableTextSelectionOnElement($(e.containerNode))};global.tab.DojoCommonDialogProvider=cA;var cB=function(){};cB.__typeName='tab.DojoUtils';cB.localizeDojoLabeledControls=function(e){var L=e;var hT=L.length;for(var hU=0;hU<hT;hU++){var hV=L[hU].item1;var hW=L[hU].item2;if(ss.isValue(hV)){hV.attr('label',tab.Strings.getString(hW))}}};cB.disableTextSelection=function(e){if(typeof(e['onselectstart'])==='function'){var L=spiff.EventUtil.stopEvent;e['onselectstart']=L}else if('MozUserSelect'in e.style){e.style['MozUserSelect']='none'}e.style.cursor='default'};global.tab.DojoUtils=cB;var cC=function(){};cC.__typeName='tab.DojoWidgets';cC.$0=function(){dojo.require('tableau.base.BaseClient');var e=null;e=[dijit._Widget];dojo.declare('tableau.base.widget.LegacyQuickFilterWidget',e,eq.prototype);e=[tableau.base.widget.LegacyQuickFilterWidget];dojo.declare('tableau.base.widget.DateFilterWidget',e,ct.prototype);e=[tableau.base.widget.LegacyQuickFilterWidget,dijit._Contained,dijit._Templated];ec.prototype['templateString']="<div class='CategoricalFilter'><div class='CategoricalFilterBox' dojoAttachPoint='domBox'><div class='TitleAndControls' dojoAttachPoint='domControls'><h3 class='FilterTitle' dojoAttachPoint='domTitleBar'></h3><div dojoType='dijit.form.Button' class='CFButton CFResetButton' showlabel='false'dojoAttachPoint='resetButton' dojoAttachEvent='onClick:toggleReset'iconClass='wcIconNonfiltered'>Showing all values</div><div dojoType='dijit.form.Button' class='CFButton CFSearchButton' showlabel='false'dojoAttachPoint='searchButton' dojoAttachEvent='onClick:toggleSearchUI'iconClass='wcIconSearch'>Search</div><div dojoType='dijit.form.Button' class='CFButton CFDomainButton' showlabel='false'dojoAttachPoint='domainButton' dojoAttachEvent='onClick:toggleDomain'iconClass='wcIconDomainAll'>Show Fewer Values</div><div dojoType='dijit.form.Button' dojoAttachEvent='onClick:doMenu' iconClass='wcIconContextMenu'class='CFButton CFMenuButton' dojoAttachPoint='menuButton' name='type'></div></div><div dojoAttachPoint='searchDiv'></div><div class='CFContent' dojoAttachPoint='domContent'></div><div class='CFHorizScroll' dojoAttachPoint='domHorizScroll' dojoAttachEvent='onscroll:doscrollHoriz'><div dojoAttachPoint='domHorizScrollContent'></div></div><div dojoType='tableau.base.widget.ConditionalsWidget' dojoAttachPoint='conditionals'></div></div></div>";dojo.declare('tableau.base.widget.LegacyCategoricalQuickFilter',e,ec.prototype);e=[dijit._Widget,dijit._Contained,dijit._Templated];dojo.declare('tableau.base.widget.ConditionalsWidget',e,bL.prototype);e=[dijit.layout._LayoutWidget,dijit._Templated];dojo.declare('tableau.base.widget.TabbedNavigation',e,gv.prototype);e=[dijit.layout._LayoutWidget,dijit._Templated];dojo.declare('tableau.base.widget.CurrentPagePanel',e,bS.prototype);dojo.declare('tableau.base.widget.catmode.BaseMode',[dijit._Contained],bj.prototype);dojo.declare('tableau.base.widget.catmode.Checklist',[tableau.base.widget.catmode.BaseMode],bC.prototype);dojo.declare('tableau.base.widget.catmode.BaseDropdown',[tableau.base.widget.catmode.BaseMode],bh.prototype);dojo.declare('tableau.base.widget.catmode.SimpleDropdown',[tableau.base.widget.catmode.BaseDropdown],gk.prototype);dojo.declare('tableau.base.widget.catmode.CheckDropdown',[tableau.base.widget.catmode.BaseDropdown],bB.prototype);dojo.declare('tableau.base.widget.catmode.Pattern',[tableau.base.widget.catmode.BaseMode],fo.prototype);dojo.declare('tableau.base.widget.catmode.Slider',[tableau.base.widget.catmode.BaseMode],go.prototype);dojo.declare('tableau.base.widget.catmode.TypeIn',[tableau.base.widget.catmode.BaseMode],hg.prototype);dojo.declare('tableau.base.widget.catmode.Radiolist',[tableau.base.widget.catmode.BaseMode],fD.prototype);dojo.declare('tableau.base.widget.ui.iDropDownSelect',[dojox.form.DropDownSelect],dC.prototype);dojo.declare('tableau.base.widget.ui.Slider',[],gn.prototype);dojo.declare('tableau.base.widget.ui.TypeIn',[],hf.prototype);dojo.declare('tableau.base.widget.ui.TypeInDateField',[hf],hh.prototype);dojo.declare('tableau.base.widget.ui.onClickOverride',null,eO.prototype);dojo.declare('tableau.base.widget.ui.iMenuItem',[dijit.MenuItem,eO],hl.prototype);dojo.declare('tableau.base.widget.ui.iCheckedMenuItem',[dijit.CheckedMenuItem,eO],hk.prototype);dojo.declare('tableau.base.widget.hsm.TreeModel',null,he.prototype);dojo.declare('tableau.base.widget.hsm.Tree',[dijit.Tree],hc.prototype);dojo.declare('tableau.base.widget.hsm._TreeNode',[dijit._TreeNode],hd.prototype);e=[tableau.base.widget.LegacyQuickFilterWidget,dijit._Contained,dijit._Templated];dojo.declare('tableau.base.widget.LegacyHierarchicalQuickFilter',e,eg.prototype);e=[tableau.base.widget.LegacyQuickFilterWidget,dijit._Contained,dijit._Templated];dojo.declare('tableau.base.widget.LegacyQuantitativeQuickFilter',e,em.prototype);e=[tableau.base.widget.DateFilterWidget,dijit._Contained,dijit._Templated];dojo.declare('tableau.base.widget.LegacyRelativeDateQuickFilter',e,er.prototype);e=[tableau.base.widget.LegacyQuickFilterWidget,dijit._Contained,dijit._Templated];dojo.declare('tableau.base.widget.RelativeDatePickFilter',e,fP.prototype);e=[tableau.base.widget.LegacyQuantitativeQuickFilter];dojo.declare('tableau.base.widget.LegacyQuantitativeDateQuickFilter',e,el.prototype);e=[dijit._Widget,dijit._Templated];fd.prototype['templateString']="<div class='ParameterControl'><div class='ParameterControlBox' dojoAttachPoint='domBox'><div class='TitleAndControls' dojoAttachPoint='domControls'><h3 class='ParamTitle' dojoAttachPoint='domTitleBar'></h3></div><div class='PCContent' dojoAttachPoint='domContent'></div></div></div>";dojo.declare('tableau.base.widget.ParameterControl',e,fd.prototype);dojo.declare('tableau.base.widget.paramui.Base',[dijit._Contained],fi.prototype);dojo.declare('tableau.base.widget.paramui.TypeIn',[tableau.base.widget.paramui.Base],fm.prototype);dojo.declare('tableau.base.widget.paramui.TypeInDateField',[tableau.base.widget.paramui.Base],fn.prototype);dojo.declare('tableau.base.widget.paramui.Compact',[tableau.base.widget.paramui.Base],fj.prototype);dojo.declare('tableau.base.widget.paramui.List',[tableau.base.widget.paramui.Base],fk.prototype);dojo.declare('tableau.base.widget.paramui.Slider',[tableau.base.widget.paramui.Base],fl.prototype);e=[dijit._Widget,dijit._Templated,dijit._Contained];dojo.declare('tableau.base.widget.SearchWidgetBase',e,fZ.prototype);e=[tableau.base.widget.SearchWidgetBase];fY.prototype['templateString']="<div class='Search'><div class='SearchBox' dojoAttachPoint='domQuerySection'><textarea rows='1' class='QueryBox' spellcheck='false'dojoAttachPoint='domQueryBox'dojoAttachEvent='onkeydown:onQueryBoxKeyDown,onpaste:onQueryBoxPaste'></textarea><span class='wcSearchX' title='${XBUTTON_CLOSE_TOOLTIP}'dojoAttachPoint='domXButton'dojoAttachEvent='onclick:onXButtonClick,onmouseover:onButtonHover,onmouseout:onButtonUnhover'></span><img class='searchBusyImg' title='${CANCEL_SEARCH_TOOLTIP}' src='${busy_gif_url}'dojoAttachPoint='domSearchBusyImg'dojoAttachEvent='onclick:onSearchBusyImgClick'></img><span class='wcIconSearch' title='${SEARCH_TOOLTIP}'dojoAttachPoint='domSearchButton'dojoAttachEvent='onclick:onSearchButtonClick,onmouseover:onButtonHover,onmouseout:onButtonUnhover'></span><span class='wcIconSearchAdd' title='${ADD_ITEM_CTRL_ENTER}'dojoAttachPoint='domSearchAddButton'dojoAttachEvent='onclick:onSearchAddButtonClick,onmouseover:onButtonHover,onmouseout:onButtonUnhover'></span></div><div class='SearchResults' dojoAttachPoint='domResults' dojoAttachEvent='onclick:onListItemClick'></div></div>";dojo.declare('tableau.base.widget.SearchWidget',e,fY.prototype);dojo.declare('tableau.base.widget.SmallSearchWidget',[tableau.base.widget.SearchWidgetBase],gp.prototype);dojo.declare('tableau.base.widget.FilteringSearchWidget',[tableau.base.widget.SearchWidgetBase],cT.prototype);e=[dijit._Widget,dijit._Templated,dijit._Contained];dojo.declare('tableau.base.widget.TypeInFilterContents',e,hi.prototype);e=[dijit.layout._LayoutWidget,dijit._Templated];dojo.declare('tableau.base.widget.FilterPanel',e,da.prototype);e=[dijit.DialogUnderlay];dojo.declare('tableau.base.widget.DialogUnderlay',e,cw.prototype);e=[dijit.Dialog];dojo.declare('tableau.base.widget.Dialog',e,ee.prototype)};global.tab.DojoWidgets=cC;var cD=function(){this.woffLocation=null;tab.FontProperties.call(this)};cD.__typeName='tab.DownloadableFontProperties';global.tab.DownloadableFontProperties=cD;var cE=function(){};cE.__typeName='tab.DownloadableFontPropertiesExtensions';cE.toDownloadableFontProperties=function(e,L){var hT=new cD;hT.set_fontFamily(e.get_fontFamily());hT.set_style(e.get_style());hT.set_weight(e.get_weight());hT.woffLocation=L;return hT};global.tab.DownloadableFontPropertiesExtensions=cE;var cF=function(){this.$3=null;this.$2=0;this.$1=null;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$3=[];this.$1=new Array};cF.__typeName='tab.DownloadQueue';global.tab.DownloadQueue=cF;var cG=function(){this.downloadArea=null;this.menuArea=null;this.applicationArea=null;this.explanationTitle=null;this.explanationBody=null;this.actionArea=null;this.availablePlatforms=null;this.downloadAppButton=null;spiff.Template.call(this,$("<div class='tab-downloadView tab-toolbarFlyout'><div class='tab-downloadApplication'><div class='tab-explanationTitle' /><div class='tab-explanationBody' /><div class='tab-downloadAction'><div class='tab-availablePlatforms' /><div class='tab-downloadAppButton' /></div></div><div class='tab-downloadButtons'></div></div>"));this.downloadArea=this.domRoot;this.menuArea=this.getElementBySelector('.tab-downloadButtons');this.applicationArea=this.getElementBySelector('.tab-downloadApplication');this.explanationTitle=this.getElementBySelector('.tab-explanationTitle');this.explanationBody=this.getElementBySelector('.tab-explanationBody');this.actionArea=this.getElementBySelector('.tab-downloadAction');this.availablePlatforms=this.getElementBySelector('.tab-availablePlatforms');this.downloadAppButton=this.getElementBySelector('.tab-downloadAppButton');if(tsConfig.is_mobile){this.downloadArea.addClass('tab-mobileDownloadView')}};cG.__typeName='tab.DownloadTemplate';global.tab.DownloadTemplate=cG;var cH=function(e){this.$g=715;this.$j=null;this.$i=null;this.$h=null;this.$k=false;ss.makeGenericType(spiff.BaseView$1,[cI]).call(this,e,new cG);this.$j=e;this.$k=Math.min(tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type).w,window.innerWidth)<this.$g;if(this.$k){this.get_dom().downloadArea.addClass('tab-narrowDownloadView')}this.$a()};cH.__typeName='tab.DownloadView';global.tab.DownloadView=cH;var cI=function(e){this.$3=null;this.$2$1=null;spiff.BaseViewModel.call(this);this.$3=e};cI.__typeName='tab.DownloadViewModel';global.tab.DownloadViewModel=cI;var cJ=function(e){this.shouldLoadIntoIframe=false;this.frameTestHook=null;spiff.ModalDialog.$ctor1.call(this,e,$('<span></span>'))};cJ.__typeName='tab.DynamicallyLoadedContentDialog';global.tab.DynamicallyLoadedContentDialog=cJ;var cK=function(e,L){this.$P=null;cJ.call(this,e);this.$P=L;this.get_dialogElement().addClass('tab-dsauthdlg tab-dsauthdlg-small')};cK.__typeName='tab.DynamicallyLoadedContentIntoDomDialog';global.tab.DynamicallyLoadedContentIntoDomDialog=cK;var cL=function(e,L,hT){this.$P=null;this.urlToLoadDialogContent=null;cJ.call(this,e);this.$P=hT;this.urlToLoadDialogContent=L;this.get_dialogElement().addClass('tab-dsauthdlg tab-dsauthdlg-tall')};cL.__typeName='tab.DynamicallyLoadedContentIntoIframeDialog';global.tab.DynamicallyLoadedContentIntoIframeDialog=cL;var cM=function(){spiff.Template.call(this,$("<div class='tab-EmptyFloatingLayout'></div>"));this.domRoot.text(tab.Strings.EmptyFloatingLayoutMessage)};cM.__typeName='tab.EmptyFloatingLayoutTemplate';global.tab.EmptyFloatingLayoutTemplate=cM;var cN=function(e){ss.makeGenericType(spiff.BaseView$1,[cO]).call(this,e,new cM)};cN.__typeName='tab.EmptyFloatingLayoutView';global.tab.EmptyFloatingLayoutView=cN;var cO=function(e){spiff.BaseViewModel.call(this);e.add_childrenAdded(ss.mkdel(this,this.onChildrenAdded));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){e.remove_childrenAdded(ss.mkdel(this,this.onChildrenAdded))})))};cO.__typeName='tab.EmptyFloatingLayoutViewModel';global.tab.EmptyFloatingLayoutViewModel=cO;var cP=function(){this.eventHandler=null;this.onTabSelectHandle=null;this.zoneBecameValidHandler=null};cP.__typeName='tab.EventHandlerParam';global.tab.EventHandlerParam=cP;var cQ=function(){this.$0=null;this.$0={}};cQ.__typeName='tab.ExportHelper';global.tab.ExportHelper=cQ;var cR=function(e,L,hT){this.$2=0;this.$0=null;this.$1=null;this.$2=e;this.$0=L;this.$1=hT};cR.__typeName='tab.FetchInfo';global.tab.FetchInfo=cR;var cS=function(e,L,hT){this.$4=null;this.$9=null;this.$3=null;this.$7=null;this.$8=null;this.$6=5;this.$5=false;this.$1$1=null;this.$4=L;this.$9=e;this.$3=hT;this.$7=[];this.$8=[]};cS.__typeName='tab.FilterContentFetcher';global.tab.FilterContentFetcher=cS;var cT=function(e){this.templateString="<div class='Search FilteringSearch'><div class='SearchBox' dojoAttachPoint='domQuerySection'><textarea rows='1' class='QueryBox' spellcheck='false'dojoAttachPoint='domQueryBox'dojoAttachEvent='onkeydown:onQueryBoxKeyDown,onclick:focusQueryBox,onfocus:focusQueryBox,onblur:blurQueryBox'></textarea><span class='wcSearchX' title='${XBUTTON_CLOSE_TOOLTIP}'dojoAttachPoint='domXButton'dojoAttachEvent='onclick:onXButtonClick,onmouseover:onButtonHover,onmouseout:onButtonUnhover'></span></div></div>";this.domQueryBox=null;this.domSearchButton=null;this.domSearchBusyImg=null;this.$6=100;this.$7=null;this.$8=0;fZ.call(this)};cT.__typeName='tab.FilteringSearchWidget';global.tab.FilteringSearchWidget=cT;var cU=function(){};cU.__typeName='tab.FilteringSearchWidgetStyle';global.tab.FilteringSearchWidgetStyle=cU;var cV=function(){};cV.__typeName='tab.FilterItemBase';global.tab.FilterItemBase=cV;var cW=function(){cV.call(this)};cW.__typeName='tab.FilterItemDesktop';global.tab.FilterItemDesktop=cW;var cX=function(){cV.call(this)};cX.__typeName='tab.FilterItemMobile';cX.formatListRowFilterItemHtml=function(e,L,hT,hU){var hV=cY.getItemId(hT,hU);var hW=hU===cY.allItemIndex;var hX;if(hW){hX=L.s}else if(e.isSingleSelect()){hX=cY.shouldCheckFilterItemSingleValue(L,e)}else{hX=cY.shouldCheckFilterItemMultiValue(L,e)}var hY=tableau.format.formatTupleDisplayName(L,false,e.get_oFilter().role);var hZ=cY.showFacets(e);var ia=(hZ?tableau.format.formatTupleDisplayFacet(L,false,e.get_oFilter().role):'');var ib=ss.isValue(e.get_modeContents())&&ss.isValue(e.get_modeContents().pendingManager)&&e.get_modeContents().pendingManager.isPending(L,hU);var ic=false;if(hW){var id=(ss.isValue(e.get_modeContents())?e.get_modeContents().pendingManager:null);ic=bC.shouldCheckAllItem(e.get_oFilter(),id)}else if(hX&&!ib||!hX&&ib){ic=true}return cX.getScrollingListRowHtml(hV,hY,ia,hW,ic,hZ,ib)};cX.getScrollingListRowHtml=function(e,L,hT,hU,hV,hW,hX){return['<div class="ListRow',(hU?' rowAll':''),(hV?' checked':''),(hW?' Wide':''),(hX?' pending':''),'" id="_popup_',e,'">','<div class="facet">',hT,'</div>','<div class="checkArea">&nbsp;</div>','<div class="labelArea" style="margin-left: 28px;">',L,'</div></div>'].join('')};cX.formatRemovableListRowFilterItemHtml=function(e,L,hT,hU){var hV=cY.getItemId(hT,hU);var hW=tableau.format.formatTupleDisplayName(L,false,e.get_oFilter().role);return cX.getScrollingListRemovableRowHtml(hV,hW)};cX.getScrollingListRemovableRowHtml=function(e,L){return['<div class="ListRow" id="_popup_',e,'" style="min-width: 270px; white-space: nowrap;"><div class="wcIconSearchRemoveContainer" style="margin-right:10px"><div class="wcIconSearchRemove" style="margin-right:10px">&nbsp;</div></div><div class="xRowlabelArea">',L,'</div><div style="clear:both;"></div></div>'].join('')};global.tab.FilterItemMobile=cX;var cY=function(){};cY.__typeName='tab.FilterItemUtil';cY.getBaseItemName=function(e,L){var hT=L+'_'+e.get_oFilter().name;if(ss.isValue(e.get_session())){hT+=e.get_session().get_viewId()}return hT};cY.getItemId=function(e,L){return tableau.format.escapeHTML(e+'_'+((L===cY.allItemIndex)?cY.$1:L.toString()))};cY.getIndexFromId=function(e){var L=cY.$0(e);var hT=parseInt(L,10);if(isNaN(hT)){if(ss.referenceEquals(L,cY.$1)){return cY.allItemIndex}else{return cY.unknownItemIndex}}return hT};cY.isAllItemId=function(e){return ss.referenceEquals(cY.$0(e),cY.$1)};cY.getAllItemTuple=function(e,L){var hT={d:cY.$1,s:L,t:null};hT.f=[{t:'i',v:e}];return hT};cY.getAllItemHtml=function(e,L,hT,hU,hV){return hV(e,cY.getAllItemTuple(hT,hU),L,cY.allItemIndex)};cY.isAllOrAllChecked=function(e){return e.get_oFilter().all||e.get_oFilter().allChecked};cY.isAllMode=function(e){return e.get_oFilter().all};cY.addAllItemToTuples=function(e,L,hT){var hU=[];hU.push({d:tab.Strings.QuickFilterAll,s:L,t:[{t:'i',v:hT}]});return $.merge(hU,e)};cY.shouldCheckFilterItemSingleValue=function(e,L){return e.s&&!(L.get_oFilter().exclude&&cY.isAllOrAllChecked(L))};cY.shouldCheckFilterItemMultiValue=function(e,L){return e.s||!L.get_oFilter().exclude&&cY.isAllMode(L)};cY.showFacets=function(e){return e.get_oFilter().showFacets&&e.get_modeContents().get_width()>100};cY.resetPendingFilterItems=function(e,L){for(var hT=0;hT<e.length;hT++){var hU=e[hT];if(cY.filterItem.isPending(hU)){cY.filterItem.togglePendingState(hU);if(L){cY.filterItem.setChecked(hU,!cY.filterItem.isChecked(hU))}}}};cY.toggleClassState=function(e,L){var hT=$(e);var hU=!hT.hasClass(L);hT.toggleClass(L,hU);return hU};cY.getClassElement=function(e,L){for(var hT=0;ss.isValue(e)&&hT<5;hT++,e=e.parentNode){if($(e).hasClass(L)){return e}}return null};cY.$0=function(e){var L=e.split(String.fromCharCode(95));return L[L.length-1]};global.tab.FilterItemUtil=cY;var cZ=function(e,L,hT){this.$6=null;this.$4=null;this.$5=null;this.$3=null;this.$1=0;this.$2=0;this.$1$1=null;this.$6=$(e);this.$6.addClass('tiledContent');var hU=document.createElement('div');this.$4=$(hU);this.$4.css('left','0px');this.$4.css('position','relative');this.$4.css('height',L+'px');this.$4.css('width',this.$6.css('width')+'px');this.$4.addClass('tileContainer');this.$6.append(this.$4);this.$6.scroll(ss.mkdel(this,this.$0));this.$5=new Array(hT)};cZ.__typeName='tab.FilterListUI';global.tab.FilterListUI=cZ;var da=function(e){this.templateString="<div class='FilterPanel' dojoAttachPoint='containerNode' dojoAttachEvent='onmousedown:onMouseDown'></div>";this.session=null;this.field='';this.filter=null;this.format={};this.width=0;this.metricsOnly=false;this.layoutSession=null;this.zid=0;this.quickFilterDisplayViewModel=null;this.$5=null;this.requestSetAttributes=null;this.titleHTML=null;this.$7=0;this.$8=0;this.attributes={};this.$6=null;this.textStyle=null;this.backgroundColor=null;Object.call(this);this.$5=new tab.DisposableHolder};da.__typeName='tab.FilterPanel';global.tab.FilterPanel=da;var db=function(e,L,hT,hU,hV){this.parent=null;this.buttonContainer=null;this.flyOutContainer=null;this.flyOutButtons=null;this.zoomInBtn=null;this.zoomOutBtn=null;this.zoomHomeBtn=null;this.flyOutBtn=null;this.zoomAreaBtn=null;this.rectSelectBtn=null;this.radialSelectBtn=null;this.lassoSelectBtn=null;this.panBtn=null;this.api=null;this.canZoomHome=false;this.geoSearchEnabled=false;this.$7=null;this.toolbarType=null;this.acceptingInteraction=true;spiff.Widget.call(this,$("<div class='FloatingZoomToolbar'></div>"));this.parent=$(e);this.api=L;this.toolbarType=hT;this.canZoomHome=false;this.geoSearchEnabled=hV;this.element.css({top:hU+'px'})};db.__typeName='tab.FloatingZoomToolbar';global.tab.FloatingZoomToolbar=db;var dc=function(){};dc.__typeName='tab.FontMetricsLogger';dc.logUIStabilized=function(){dc.$0('UI Stabilized')};dc.logFontsLoaded=function(){dc.$0('AllFontsDownloaded')};dc.$0=function(e){var L={};L['t']=tabBootstrap.MetricsController.getTiming();L['d']=e;var hT=new tabBootstrap.MetricsEvent('gen',128,L);tabBootstrap.MetricsController.logEvent(hT)};global.tab.FontMetricsLogger=dc;var dd=function(){this.normalizeFont=null;this.normalizeFont=(tab.BrowserSupport.get_isIE()?dd.$0:dd.$2)};dd.__typeName='tab.FontNormalizer';dd.instance=function(){if(ss.isNullOrUndefined(dd.$4)){dd.$4=new dd;dd.$1()}return dd.$4};dd.$0=function(e){var L=e.split(' ');var hT;var hU=false;for(var hV=0;hV<L.length;++hV){hT=dd.$3[L[hV]];if(!(typeof(hT)==='undefined')){hU=true;L[hV]=hT}}if(hU){return L.join(' ')}return e};dd.$2=function(e){return e};dd.$1=function(){if(ss.isValue(dd.$3)){return}if(tab.BrowserSupport.get_isIE()){dd.$3={};dd.$3['華康中明體']='DLCMingMedium';dd.$3['華康粗明體']='DLCMingBold';dd.$3['細明體']='Ming Light';dd.$3['新細明體']='PMingLiU';dd.$3['細明體-ExtB']='MingLiU-ExtB';dd.$3['新細明體-ExtB']='PMingLiU-ExtB';dd.$3['MS宋体']='MS Song';dd.$3['新宋体']='NSimSun';dd.$3['中易宋体']='SimSun';dd.$3['宋体']='SimSun';dd.$3['宋体-18030']='SimSun-18030';dd.$3['新宋体-18030']='NSimSun-18030';dd.$3['宋体–方正超大字符集']='SimSun (Founder Extended)';dd.$3['宋體ExtA']='SimSun-ExtA';dd.$3['宋體ExtB']='SimSun-ExtB';dd.$3['华文宋体']='STSong';dd.$3['华文中宋']='STZhongsong';dd.$3['ＭＳ']='MS';dd.$3['明朝']='Mincho';dd.$3['Ｐ明朝']='PMincho';dd.$3['平成明朝']='Heisei Minchō';dd.$3['リュウミン']='Ry­ūbundō Minchō';dd.$3['小塚明朝']='Kozuka Minchō';dd.$3['바탕']='Batang';dd.$3['바탕체']='BatangChe';dd.$3['궁서']='Gungsuh';dd.$3['궁서체']='GungsuhChe';dd.$3['华文细黑']='STHeiti Light';dd.$3['微軟正黑體']='Microsoft JhengHei';dd.$3['微软雅黑']='Microsoft YaHei';dd.$3['MS黑体']='MS Hei';dd.$3['蒙纳黑体']='MHei';dd.$3['中易黑体']='SimHei';dd.$3['メイリオ']='Meiryo';dd.$3['ゴシック']='Gothic';dd.$3['Ｐゴシック']='PGothic';dd.$3['돋움']='Dotum';dd.$3['돋움체']='DotumChe';dd.$3['굴림']='Gulim';dd.$3['굴림체']='GulimChe';dd.$3['맑은']='Malgun';dd.$3['고딕']='Gothic';dd.$3['새굴림']='New Gulim';dd.$3['標楷體']='KaiU';dd.$3['中易楷体']='SimKai';dd.$3['楷体_GB2312']='SimKai';dd.$3['华文楷体']='STKaiti';dd.$3['中易隶书']='SimLi';dd.$3['隶书']='SimLi';dd.$3['中易仿宋']='SimFang';dd.$3['仿宋']='SimFang';dd.$3['幼圆']='SimYou';dd.$3['华文行楷']='HuaWen Xingkai';dd.$3['华文彩云']='HuaWen CaiYun';dd.$3['方正舒体']='FangZheng ShuTi';dd.$3['方正启体']='FangZheng QiTi';dd.$3['汉仪雪君体']='HanYi XueJun';dd.$3['華康少女體']='HuaKang ShaoNu';dd.$3['華康娃娃體']='HuaKang WuaWua'}};global.tab.FontNormalizer=dd;var de=function(){};de.__typeName='tab.FormattingConverters';de.getCSSBorderStyle=function(e){var L='solid';switch(e){case'bs-dashed':{L='dashed';break}case'bs-dotted':{L='dotted';break}case'bs-double':{L='double';break}case'bs-groove':{L='groove';break}case'bs-hidden':{L='hidden';break}case'bs-inset':{L='inset';break}case'bs-outset':{L='outset';break}case'bs-ridge':{L='ridge';break}case'bs-solid':{L='solid';break}case'bs-none':{L='none';break}default:{break}}return L};de.makeStyledBoxCssDict=function(e,L){var hT={};if(ss.isValue(e)){hT=de.$3(e);if(e.iKN){var hU=tab.ColorModel.fromColorCode(e.eBu);hT['background-color']=(L?hU.toString():hU.toRgb())}}return hT};de.makeFormatStyleDict=function(e,L){if(ss.isNullOrUndefined(e)){return{}}var hT={'font-size':e.Qvi+'pt',color:e.YhU};if(ss.isValue(e.sGS)&&ss.keyExists(de.$5,e.sGS)){hT['font-family']=de.$5[e.sGS]}else if(ss.isValue(e.sGS)){var hU=e.sGS.split(',');de.addDefaultFontForTableau(hU);for(var hV=0;hV<hU.length;hV++){hU[hV]=de.addQuotationMarks(hU[hV].trim(),false)}hT['font-family']=hU.join(',');de.$5[e.sGS]=hT['font-family']}if(ss.isValue(L)){hT.color=L}if(e.BxQ==='font-style-italic'){hT['font-style']='italic'}if(e.cjf==='font-weight-bold'){hT['font-weight']='bold'}var hW='none';switch(e.zwp){case'text-decoration-overline':{hW='overline';break}case'text-decoration-strikethrough':{hW='line-through';break}case'text-decoration-underline':{hW='underline';break}}if(hW!=='none'){hT['text-decoration']=hW}if(ss.isValue(e.inn)){switch(e.inn){case'text-wrap-off':{hT['white-space']='nowrap';break}case'text-wrap-truncate':{hT['overflow-x']='hidden';break}}}return hT};de.addQuotationMarks=function(e,L){if(tab.MiscUtil.isNullOrEmpty$1(e)){return(L?"''":'""')}var hT=e.length-1;if(e.charCodeAt(0)===39&&e.charCodeAt(hT)===39||e.charCodeAt(0)===34&&e.charCodeAt(hT)===34){return e}if(e.indexOf(' ')!==-1){var hU=(L?"'":'"');e=hU+e+hU}return e};de.$3=function(e){var L={};if(ss.isValue(e.s$V)){L['border-width']=e.s$V+'px'}if(ss.isValue(e.mjt1)){L['border-color']=e.mjt1}if(ss.isValue(e.s$V)){L['border-style']=de.getCSSBorderStyle(e.ysh1)}return L};de.$1=function(e){var L='bottom';switch(e){case'v-align-bottom':{L='bottom';break}case'v-align-top':{L='top';break}case'v-align-center':{L='middle';break}default:{break}}return L};de.$0=function(e){var L='start';switch(e){case'h-align-left':{L='start';break}case'h-align-center':{L='center';break}case'h-align-right':{L='end';break}default:{break}}return L};de.cleanUpFontFamilyStyles=function(e){var L=e.find('span');for(var hT=0;hT<L.length;++hT){var hU=L.eq(hT);var hV=hU.css('font-family');if(!ss.isNullOrEmptyString(hV)){var hW={};var hX=[];hX.push(hV);if(ss.startsWithString(hV,"'")||ss.startsWithString(hV,'"')){hV=hV.substr(1,hV.length-2)}hV=de.$4(hU,hX,hW,hV,de.$7,'font-style','fontStyle');hV=de.$4(hU,hX,hW,hV,de.$8,'font-weight','fontWeight');de.$4(hU,hX,hW,hV,de.$6,'font-stretch','fontStretch');de.addDefaultFontForTableau(hX);if(hX.length>1){hW['font-family']=hX.join(',');hU.css(hW)}}}};de.addDefaultFontForTableau=function(e){var L='tableau';var hT=false;var hU=e.length;for(var hV=0;hV<hU;hV++){var hW=e[hV].trim();for(var hX=0;hX<2;hX++){if(ss.startsWithString(hW,"'")||ss.startsWithString(hW,'"')){hW=hW.substr(1)}}if(ss.compareStrings(hW.substr(0,L.length),L,true)===0){hT=true;break}}if(hT){e.push('Arial');e.push('sans-serif')}};de.$4=function(e,L,hT,hU,hV,hW,hX){var hY=hU.toLowerCase();for(var hZ=0;hZ<hV.length;hZ++){var ia=hV[hZ];if(ss.endsWithString(hY,ia.item1)){hU=hU.substr(0,hY.lastIndexOf(ia.item1)).trim();L.push("'"+hU+"'");if(!de.$2(e,hX)){hT[hW]=ia.item2}}}return hU};de.$2=function(e,L){return!ss.isNullOrEmptyString(e.prop('style')[L])};global.tab.FormattingConverters=de;var df=function(e,L,hT){this.$2=null;this.$0=null;this.$1=null;this.$2=e;this.$0=L;this.$1=hT};df.__typeName='tab.FormattingStyleInfo';global.tab.FormattingStyleInfo=df;var dg=function(e,L){spiff.Widget.call(this,$('<div class="auth-box ocontent tb-data-source-error-container"> \n                                                              <div class="tb-data-source-error"></div>\n                                                              <div class="tb-data-source-error-sub"></div>\n                                                              <div class="tab-UnifiedButton bordered tb-data-source-btn tb-data-source-button-retry"></div>\n                                                              <div class="tab-data-source-msg"><textarea readonly class="tb-data-source-error-message"></textarea></div>\n                                                            </div>'));$('.tb-data-source-error',this.element).text(tab.Strings.DataSourceGenericErrorMsg);$('.tb-data-source-error-sub',this.element).text(tab.Strings.DataSourceGenericErrorSubMsg);var hT=$('.tb-data-source-button-retry',this.element);hT.text(tab.Strings.DataSourceGenericErrorButtonLabel);hT.on('click',function(hU){if(ss.isValue(L)){L()}});e=ss.replaceAllString(e,'<br>','\r\n');$('.tb-data-source-error-message',this.element).text(e)};dg.__typeName='tab.GenericDataSourceErrorWidget';global.tab.GenericDataSourceErrorWidget=dg;var dh=function(e,L){this.$0=tab.Strings.DataSourceGenericTitle;this.$1=null;bg.call(this,e,L);var hT=ss.mkdel(this,function(){if(ss.isValue(this.onProceed)){this.onProceed()}this.cleanup(null)});var hU=new dg(this.dataSourceConnectionAttemptErrorResponse.ErrorMessage,hT);this.$1=new cK(this.$0,hU.element)};dh.__typeName='tab.GenericDataSourceExceptionDialogWidget';global.tab.GenericDataSourceExceptionDialogWidget=dh;var di=function(e,L){bf.call(this,e,L)};di.__typeName='tab.GenericDataSourceExceptionOverlayWidget';global.tab.GenericDataSourceExceptionOverlayWidget=di;var dj=function(e){eM.call(this,e);this.adjustMargin=false;this.element.addClass('tabGeoLocationNotification');if(ss.isValue(this.notificationViewModel.get_displayPosition())){this.messageDom.parent().css('left',this.notificationViewModel.get_displayPosition().x+'px');this.messageDom.parent().css('top',this.notificationViewModel.get_displayPosition().y+'px')}this.updateContent()};dj.__typeName='tab.GeoLocationNotificationView';global.tab.GeoLocationNotificationView=dj;var dk=function(){};dk.__typeName='tab.GeometryUtil';dk.domainToPixelGeometry=function(e,L,hT,hU){switch(e.TDA){case'multipolygon':{dk.domainToPixelMultipolygon(e.Zmn,L,hT,hU);break}case'multipoint':{var hV=e.gvB;dk.domainToPixelCoordinateArray(hV.xCr,L,hT,hU);break}default:{break}}};dk.domainToPixelMultipolygon=function(e,L,hT,hU){var hV=e.KCe;var hW=hV.length;for(var hX=0;hX<hW;hX++){var hY=hV[hX].jWM;var hZ=hY.length;for(var ia=0;ia<hZ;ia++){var ib=hY[ia].xCr;dk.domainToPixelCoordinateArray(ib,L,hT,hU)}}};dk.domainToPixelCoordinateArray=function(e,L,hT,hU){var hV=3;var hW=hT.w/L.w;var hX=hT.h/L.h;var hY=e.length;if(hY<2){return}var hZ=null;var ia=null;var ib=0;for(var ic=0;ic<hY;ic+=2){var id=fR.domainToPixel(e[ic],L.x,hT.x,hW);var ie=fR.domainToPixel(e[ic+1],L.y,hT.y,hX);if(hU){var ig=id*3<<0;var ih=ie*3<<0;if(ig===hZ&&ih===ia){continue}hZ=ig;ia=ih}e[ib]=id;e[ib+1]=ie;ib+=2}if(ib+ib<hY){e.splice(ib,hY-ib)}else{e.length=ib}};dk.isGeometryPresModelFeatureEmpty=function(e){switch(e.TDA){case'multipoint':{return e.gvB.xCr.length===0}case'multipolygon':{return e.Zmn.KCe.length===0}default:{return false}}};dk.checkFor180DegLngLine=function(e){var L=e.KCe;var hT=L.length;for(var hU=0;hU<hT;hU++){var hV=L[hU].jWM;var hW=hV.length;var hX=false;for(var hY=0;hY<hW;hY++){var hZ=hV[hY].xCr;var ia=hZ.length;var ib=0;for(var ic=0;ic<ia;ic=ic+2){var id=dk.$6(hZ[ic]);if(id&&hX){ib=ic;break}hX=id}if(ib!==0){hV[hY].xCr=dk.$a(hZ,ib)}}}};dk.isPointInPoly=function(e,L,hT){if(ss.isValue(hT)&&hT!==0){return dk.polygonIntersectsDoubleRect(e,{x:L.x-hT,y:L.y-hT,w:hT*2,h:hT*2})}var hU=0;var hV=e.length;for(var hW=0;hW<hV;hW+=2){var hX=e[hW];var hY=e[hW+1];var hZ=(hW+2)%hV;var ia=e[hZ];var ib=e[hZ+1];if(hY<=L.y){if(ib>L.y){if(dk.$5(hX,hY,ia,ib,L.x,L.y)>0){++hU}}}else if(ib<=L.y){if(dk.$5(hX,hY,ia,ib,L.x,L.y)<0){--hU}}}return hU!==0};dk.isPointInPolygon=function(e,L){var hT=false;var hU=0;for(var hV=0;hV<e.jWM.length;hV++){var hW=e.jWM[hV];var hX=dk.isPointInPoly(hW.xCr,L);if(hU===0){if(hX){hT=true}else{break}}else if(hX){hT=false;break}hU++}return hT};dk.isPointInMultipolygon=function(e,L){var hT=false;for(var hU=0;hU<e.KCe.length;hU++){var hV=e.KCe[hU];hT=dk.isPointInPolygon(hV,L);if(hT){break}}return hT};dk.isPointInMultipoint=function(e,L,hT){var hU=e.xCr;var hV={center:L,radius:hT};for(var hW=0;hW<hU.length;hW=hW+2){var hX=hU[hW];var hY=hU[hW+1];var hZ={x:hX,y:hY};if(dk.isPointInCircle(hZ,hV)){return true}}return false};dk.multipolygonIntersectsDoubleRect=function(e,L){for(var hT=0;hT<e.KCe.length;hT++){var hU=e.KCe[hT];for(var hV=0;hV<hU.jWM.length;hV++){var hW=hU.jWM[hV];if(dk.polygonIntersectsDoubleRect(hW.xCr,L)){return true}}}return false};dk.multipointIntersectsDoubleRect=function(e,L,hT){return dk.multipointIntersectsPolygon(e,dk.$1(L),hT)};dk.multipolygonIntersectsPolygon=function(e,L,hT){for(var hU=0;hU<e.KCe.length;hU++){var hV=e.KCe[hU];for(var hW=0;hW<hV.jWM.length;hW++){var hX=hV.jWM[hW];if(dk.$7(hX.xCr,L,hT)){return true}}}return false};dk.multipointIntersectsPolygon=function(e,L,hT){var hU=e.xCr;var hV={center:{x:0,y:0},radius:hT};for(var hW=0;hW<hU.length;hW=hW+2){var hX=hU[hW];var hY=hU[hW+1];var hZ={x:hX,y:hY};hV.center=hZ;if(dk.polygonIntersectsCircle(L,hV)){return true}}return false};dk.polygonIntersectsRect=function(e,L){return dk.$7(e,dk.$2(L))};dk.polygonIntersectsDoubleRect=function(e,L){return dk.$7(e,dk.$1(L))};dk.$7=function(e,L,hT){if(e.length===0||L.length===0){return false}if(dk.isPointInPoly(L,{x:e[0],y:e[1]})){return true}if(dk.isPointInPoly(e,{x:L[0],y:L[1]})){return true}if(e.length>L.length||ss.isValue(hT)){var hU=e;e=L;L=hU}var hV=hT;var hW=ss.isValue(hV);for(var hX=0,hY=e.length;hX<hY;hX+=2){var hZ=(hX+2)%hY;if(hW&&!dk.$9(hV,e[hX],e[hX+1],e[hZ],e[hZ+1])){continue}if(dk.$8(L,e[hX],e[hX+1],e[hZ],e[hZ+1])){return true}}return false};dk.$9=function(e,L,hT,hU,hV){if(L>hU){var hW=L;L=hU;hU=hW}if(hU<e.x||L>e.x+e.w){return false}if(hT>hV){var hX=hT;hT=hV;hV=hX}return!(hV<e.y||hT>e.y+e.h)};dk.$8=function(e,L,hT,hU,hV){var hW=hU-L;var hX=hV-hT;var hY=e.length;for(var hZ=0;hZ<hY;hZ+=2){var ia=(hZ+2)%hY;var ib=e[hZ];var ic=e[hZ+1];var id=e[ia];var ie=e[ia+1];var ig=hW*(ic-hV)-hX*(ib-hU);var ih=hW*(ie-hV)-hX*(id-hU);if(ig<0&&ih<0||ig>0&&ih>0){continue}var ii=id-ib;var ij=ie-ic;var ik=ii*(hT-ie)-ij*(L-id);var il=ii*(hV-ie)-ij*(hU-id);if(ig!==0&&ih!==0){if(ik<0&&il>0||ik>0&&il<0){return true}else if(ik!==0&&il!==0){continue}}var im=[ik,il,ig,ih];var io=[L,hT,hU,hV,ib,ic,id,ie];if(dk.$4(im,io)){return true}}return false};dk.$4=function(e,L){var hT=[4,4,0,0];var hU=[6,6,2,2];for(var hV=0,hW=0,hX=4;hV<hX;hV++,hW+=2){if(e[hV]===0){var hY=L[hW];var hZ=L[hW+1];var ia=L[hT[hV]];var ib=L[hT[hV]+1];var ic=L[hU[hV]];var id=L[hU[hV]+1];if(hY>=Math.min(ia,ic)&&hY<=Math.max(ia,ic)&&hZ>=Math.min(ib,id)&&hZ<=Math.max(ib,id)){return true}}}return false};dk.multipolygonIntersectsCircle=function(e,L){for(var hT=0;hT<e.KCe.length;hT++){var hU=e.KCe[hT];for(var hV=0;hV<hU.jWM.length;hV++){var hW=hU.jWM[hV];if(dk.polygonIntersectsCircle(hW.xCr,L)){return true}}}return false};dk.multipointIntersectsCircle=function(e,L,hT){var hU=e.xCr;var hV={center:{x:0,y:0},radius:hT};for(var hW=0;hW<hU.length;hW=hW+2){var hX=hU[hW];var hY=hU[hW+1];var hZ={x:hX,y:hY};hV.center=hZ;if(dk.circleIntersectsCircle(L,hV)){return true}}return false};dk.circleIntersectsCircle=function(e,L){var hT=Math.pow(e.center.x-L.center.x,2)+Math.pow(e.center.y-L.center.y,2);return Math.pow(e.radius+L.radius,2)>=hT};dk.polygonIntersectsCircle=function(e,L){if(e.length===0||L.radius===0){return false}if(dk.isPointInPoly(e,L.center)){return true}if(dk.isPointInCircle({x:e[0],y:e[1]},L)){return true}var hT=L.radius*L.radius;for(var hU=0,hV=e.length;hU<hV;hU+=2){var hW=e[hU];var hX=e[hU+1];var hY=(hU+2)%hV;var hZ=e[hY];var ia=e[hY+1];var ib=ia-hX;var ic=hZ-hW;var id=ic*ic+ib*ib;var ie=((L.center.x-hW)*ic+(L.center.y-hX)*ib)/id;ie=Math.min(1,Math.max(0,ie));var ig=hW+ie*ic;var ih=hX+ie*ib;ic=ig-L.center.x;ib=ih-L.center.y;id=ic*ic+ib*ib;if(hT>id){return true}}return false};dk.circleIntersectsRect=function(e,L){if(e.radius<=0){return false}var hT=dk.$0(L);for(var hU=0;hU<hT.length;hU++){var hV=hT[hU];if(dk.isPointInCircle(hV,e)){return true}}if(tab.RectXYUtil.inRectPointF(L,e.center)){return true}var hW=L.w/2;var hX=L.h/2;var hY={x:L.x+hW,y:L.y+hX};if(e.center.y<L.y||e.center.y>=L.y+L.h){return e.center.x>L.x&&e.center.x<L.x+L.w&&Math.abs(hY.y-e.center.y)<hX+e.radius}if(e.center.x<L.x||e.center.x>=L.x+L.w){return e.center.y>L.y&&e.center.y<L.y+L.h&&Math.abs(hY.x-e.center.x)<hW+e.radius}return false};dk.normalizeAngle=function(e){var L=e%dk.twoPI;if(L<0){L+=dk.twoPI}return L};dk.isInBetweenAngles=function(e,L,hT){var hU=false;if(L>hT){var hV=L;L=hT;hT=hV;hU=true}if(L<=e&&hT>=e){return!hU}return hU};dk.isPointInCircle=function(e,L){var hT=Math.pow(e.x-L.center.x,2)+Math.pow(e.y-L.center.y,2);var hU=L.radius*L.radius;var hV=hT<hU;return hV};dk.isPointInWedge=function(e,L,hT,hU){if(!dk.isPointInCircle(e,L)){return false}var hV=e.x-L.center.x;var hW=e.y-L.center.y;var hX=Math.atan2(hW,hV);hX=dk.normalizeAngle(hX);return dk.isInBetweenAngles(hX,hT,hU)};dk.rectIntersectsWedge=function(e,L,hT,hU){var hV=dk.$0(e);for(var hW=0;hW<hV.length;hW++){var hX=hV[hW];if(dk.isPointInWedge(hX,L,hT,hU)){return true}}if(tab.RectXYUtil.inRectPointF(e,L.center)){return true}var hY=dk.$3(L,hT,hU);return dk.polygonIntersectsRect(hY,e)};dk.polygonIntersectsWedge=function(e,L,hT,hU){if(e.length===0){return false}if(dk.isPointInWedge({x:e[0],y:e[1]},L,hT,hU)){return true}if(dk.isPointInPoly(e,L.center)){return true}var hV=dk.$3(L,hT,hU);return dk.$7(hV,e)};dk.circleIntersectsWedge=function(e,L,hT,hU){if(e.radius<=0){return false}if(dk.isPointInWedge(e.center,L,hT,hU)){return true}if(dk.isPointInCircle(L.center,e)){return true}var hV=dk.$3(L,hT,hU);return dk.polygonIntersectsCircle(hV,e)};dk.$3=function(e,L,hT){while(L>hT){hT+=dk.twoPI}var hU=L;var hV=new Array(4);hV[0]=e.center.x;hV[1]=e.center.y;hV[2]=e.center.x+Math.cos(hU)*e.radius;hV[3]=e.center.y+Math.sin(hU)*e.radius;while(hU<hT){var hW=Math.min(hU+dk.$c,hT);hV.push(e.center.x+Math.cos(hW)*e.radius);hV.push(e.center.y+Math.sin(hW)*e.radius);hU=hW}return hV};dk.areRectanglesIntersecting=function(e,L){return tab.RectXYUtil.intersectsWith(e,L)};dk.getSquaredDistanceToCenter=function(e,L){var hT=e.x+e.w/2;var hU=e.y+e.h/2;var hV=hT-L.x;var hW=hU-L.y;return hV*hV+hW*hW};dk.getSquaredDistanceToNearestSide=function(e,L){var hT=e.y;var hU=e.y+e.h;var hV=e.x;var hW=e.x+e.w;var hX,hY;if(L.x<hV){hX=hV-L.x}else if(L.x>hW){hX=L.x-hW}else{hX=0}if(L.y<hT){hY=hT-L.y}else if(L.y>hU){hY=L.y-hU}else{hY=0}return hX*hX+hY*hY};dk.getSquaredDistanceToCircumference=function(e,L){var hT=Math.sqrt(dk.getSquaredDistanceToCenter(e,L))-Math.min(e.w,e.h)/2;hT=Math.max(hT,0);return hT*hT};dk.getSquaredDistanceToLineSegment=function(e,L,hT){var hU,hV;if(hT.x<L.x){var hW=L;L=hT;hT=hW}var hX=hT.x-L.x;var hY=hT.y-L.y;var hZ=hX*hX+hY*hY;if(hZ===0){hU=e.x-L.x;hV=e.y-L.y;return hU*hU+hV*hV}var ia=((e.x-L.x)*hX+(e.y-L.y)*hY)/hZ;var ib;var ic;if(ia<0){ib=L.x;ic=L.y}else if(ia>1){ib=hT.x;ic=hT.y}else{ib=L.x+ia*hX;ic=L.y+ia*hY}hU=e.x-ib;hV=e.y-ic;return hU*hU+hV*hV};dk.degreeToRad=function(e){return e*(Math.PI/180)};dk.radToDegree=function(e){return e*(180/Math.PI)};dk.haversineDistance=function(e,L,hT){var hU=dk.degreeToRad(L.item1-e.item1);var hV=dk.degreeToRad(e.item2);var hW=dk.degreeToRad(L.item2);var hX=hW-hV;var hY=Math.pow(Math.sin(hX/2),2)+Math.cos(hV)*Math.cos(hW)*Math.pow(Math.sin(hU/2),2);var hZ=2*Math.atan2(Math.sqrt(hY),Math.sqrt(1-hY));return hZ*hT};dk.$5=function(e,L,hT,hU,hV,hW){return(hT-e)*(hW-L)-(hV-e)*(hU-L)};dk.$0=function(e){var L=new Array(4);L[0]={x:e.x,y:e.y};L[1]={x:e.x+e.w,y:e.y};L[2]={x:e.x+e.w,y:e.y+e.h};L[3]={x:e.x,y:e.y+e.h};return L};dk.$2=function(e){var L=new Array(8);L[0]=e.x;L[1]=e.y;L[2]=e.x+e.w;L[3]=e.y;L[4]=L[2];L[5]=e.y+e.h;L[6]=e.x;L[7]=L[5];return L};dk.$1=function(e){var L=new Array(8);L[0]=e.x;L[1]=e.y;L[2]=e.x+e.w;L[3]=e.y;L[4]=L[2];L[5]=e.y+e.h;L[6]=e.x;L[7]=L[5];return L};dk.$6=function(e){var L=e-1;return L<9.99999974737875E-06&&L>-9.99999974737875E-06};dk.$a=function(e,L){var hT=e.length;var hU=tab.DoubleUtil.isApproximatelyEqual(e[0],e[hT-2])&&tab.DoubleUtil.isApproximatelyEqual(e[1],e[hT-1]);if(hU){e.pop();e.pop()}var hV=e.slice(L);var hW=hV.concat.apply(hV,e.slice(0,L));return hW};global.tab.GeometryUtil=dk;var dl=function(e){this.$a=null;this.$9=null;spiff.Widget.call(this,$("<div class='tabGotoMyLocationButtonContainer'></div>"));if(!tab.BrowserSupport.get_isGeolocationSupported()||tab.ApplicationModel.get_instance().get_isOffline()){return}this.$a=e;this.$9=spiff.LabelButton.newNativeButton();this.get_button().addClass('tabGotoMyLocationButton');this.element.attr('title',tab.Strings.GotoMyLocationTooltip);this.get_button().add_click(ss.mkdel(this,this.$8));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_button().remove_click(ss.mkdel(this,this.$8))})));this.get_button().addToDom(this.element)};dl.__typeName='tab.GotoMyLocationButton';global.tab.GotoMyLocationButton=dl;var dm=function(){};dm.__typeName='tab.HitResultHitType';global.tab.HitResultHitType=dm;var dn=function(){};dn.__typeName='tab.HitResultObjectType';global.tab.HitResultObjectType=dn;var dp=function(){};dp.__typeName='tab.HitTargetColliders';global.tab.HitTargetColliders=dp;var dq=function(e,L,hT,hU,hV){this.$1=null;this.$0=null;this.$3=0;this.$4=0;this.$2=null;this.$9=0;this.$8=null;this.$6=null;this.$5=0;this.$7=0;this.$0=e;if(ss.isNullOrUndefined(hU)||tab.RectXYUtil.isEmpty(hU)){this.$2=null}else{this.$2=hU}if(ss.isNullOrUndefined(hT)){this.$4=-1}else{this.$4=hT}if(ss.isNullOrUndefined(hV)){this.$9=0}else{this.$9=hV}this.$3=L;this.$1=[]};dq.__typeName='tab.HitTargetNode';dq.findPaneNode=function(e){if(ss.isNullOrUndefined(e)){return null}while(e.$3!==0){if(e.get_nodeType()===1){return e}e=e.get_parent()}return null};dq.createRootNode=function(){return new dq({x:0,y:0,w:9999999,h:9999999},0)};global.tab.HitTargetNode=dq;var dr=function(){};dr.__typeName='tab.HitTargetType';global.tab.HitTargetType=dr;var ds=function(){this.$3=null;this.$4=null;this.$2=null;this.$1=null;var e=$('.tab-tvView .tabCanvas');this.$4=e.get(0);this.$3=this.$4.style.position;this.$4.style.position='absolute';this.$2=document.createElement('canvas');this.$2.width=this.$4.width;this.$2.height=this.$4.height;this.$2.style.position='absolute';this.$1=this.$4.parentNode;this.$1.appendChild(this.$2)};ds.__typeName='tab.HitTestDebugger';ds.get_instance=function(){if(ss.isNullOrUndefined(ds.$1)){ds.$1=new ds}return ds.$1};global.tab.HitTestDebugger=ds;var dt=function(e){this.$5=null;this.$5=e};dt.__typeName='tab.HitTester';dt.$0=function(e,L,hT,hU,hV){switch(hV){case'area':{return eF.$2(e,L.x-hU,L.y,hT)}case'line':{return eF.$o(e,L.x-hU,L.y,hT)}case'multipolygon':{return eF.$v(e,L.x-hU,L.y,hT)}case'pie':{return eF.$z(e,L.x-hU,L.y,hT)}case'shape':{return eF.$1A(e,L.x-hU,L.y,hT)}case'bar':case'square':{return eF.$a(e,L.x-hU,L.y,hT)}case'text':{return eF.$1I(e,L.x-hU,L.y,hT)}default:{var hW={x:L.x-Math.round(hU),y:L.y,w:L.w,h:L.h};return tab.RectXYUtil.intersectsWith(hW,e.getMarkBounds(hT))}}};dt.$1=function(e,L,hT,hU,hV){switch(hV){case'line':{return eF.$r(e,L.x-hU,L.y,hT)}case'shape':{return eF.$1D(e,L.x-hU,L.y,hT)}case'bar':case'square':{return eF.$d(e,L.x-hU,L.y,hT)}case'text':{return eF.$1L(e,L.x-hU,L.y,hT)}case'area':{return eF.$5(e,L.x-hU,L.y,hT)}default:{return false}}};dt.rectangleAreaHit=function(e,L,hT,hU,hV,hW){var hX=(hV.get_isNull()?hT:tab.RectXYUtil.offsetRectF(hT,{x:-hV.get_translateX(),y:-hV.get_translateY()}));switch(hW){case'area':{return eF.$7(e,hX,hU)}case'line':{return eF.$t(e,hX,hU)}case'multipolygon':{var hY=hV.transformRect(hT);return eF.$x(e,hY,hU)}case'pie':{return eF.$B(e,hX,hU)}case'shape':{return eF.$1F(e,hX,hU)}case'text':{return eF.$1N(e,hX,hU)}case'bar':case'square':{return eF.$f(e,hX,hU)}default:{return tab.RectXYUtil.intersectsWith(hT,L)}}};dt.circleAreaHit=function(e,L,hT,hU,hV,hW,hX){var hY=(hV.get_isNull()?hT:tab.CircleUtil.offsetCircle(hT,{x:-hV.get_translateX(),y:-hV.get_translateY()}));var hZ=(hV.get_isNull()?L:tab.RectXYUtil.offsetRectF(L,{x:-hV.get_translateX(),y:-hV.get_translateY()}));switch(hW){case'area':{return eF.$1(e,hY,hU,hZ,hX)}case'line':{return eF.$n(e,hY,hU,hZ,hX)}case'multipolygon':{var ia=hV.transformCircle(hT);return eF.$u(e,ia,hU,hX)}case'pie':{return eF.$y(e,hY,hU,hX)}case'shape':{return eF.$1z(e,hY,hU,hX)}case'text':{return eF.$1H(e,hY,hU,hZ,hX)}case'bar':case'square':{return eF.$9(e,hY,hU,hZ,hX)}default:{return dk.circleIntersectsRect(hT,L)}}};dt.polyAreaHit=function(e,L,hT,hU,hV,hW){var hX=(hV.get_isNull()?L:tab.RectXYUtil.offsetRectF(L,{x:-hV.get_translateX(),y:-hV.get_translateY()}));switch(hW){case'area':{return eF.$6(e,hT,hU,hX)}case'line':{return eF.$s(e,hT,hU,hX)}case'multipolygon':{return eF.$w(e,hT,hU,hX)}case'pie':{return eF.$A(e,hT,hU)}case'shape':{return eF.$1E(e,hT,hU)}case'text':{return eF.$1M(e,hT,hU,hX)}case'bar':case'square':{return eF.$e(e,hT,hU,hX)}default:{return dk.polygonIntersectsRect(hT,hX)}}};dt.getTransformInfo=function(e,L){var hT=e.paneRect;if(e.markType==='multipolygon'&&!e.hasPixelGeometry){var hU=L.get_objectId();var hV=e.c['x'].gv(hU);var hW=e.c['y'].gv(hU);var hX=e.c['size'].gv(hU);return tab.Transform.pixelToDomain(hT.x+hV,hT.y+hW,hX)}var hY=L.get_worldOffset();return tab.Transform.offset(hT.x+hY,hT.y)};global.tab.HitTester=dt;var du=function(e){du.$ctor1.call(this,e.get_index(),(ss.keyExists(du.$1,e.get_visualPart())?du.$1[e.get_visualPart()]:1),(ss.keyExists(du.$0,e.get_hitType())?du.$0[e.get_hitType()]:0))};du.__typeName='tab.HitTestResult';du.$ctor1=function(e,L,hT){this.$2=0;this.$0=0;this.$1=0;this.$3=false;this.$2=e;this.$0=L;this.$1=hT;this.$3=hT!==0};du.tieBreak=function(e,L){if(e.get_hitType()>L.get_hitType()||e.get_hitType()===L.get_hitType()&&(e.get_hitObjectType()>L.get_hitObjectType()||e.get_hitObjectType()===L.get_hitObjectType()&&e.get_id()>L.get_id())){return e}return L};du.getIdsFromHitTestResults=function(e,L){var hT=new Set;for(var hU=0;hU<e.length;hU++){var hV=e[hU];hT.add(hV.get_id())}var hW=tab.SetUtilities.getValues(ss.Int32).call(null,hT);if(L){hW.sort(function(hX,hY){return hX-hY})}return hW};du.hasExactHit=function(e){for(var L=0;L<e.length;L++){var hT=e[L];if(hT.get_hitType()===3){return true}}return false};du.tieBreakHits=function(e,L){var hT=new du.$ctor1(0,0,0);var hU=new du.$ctor1(0,0,0);for(var hV=0;hV<e.length;hV++){var hW=e[hV];if(hW.get_hitType()===3){return hW}if(hW.get_hitType()!==0&&hT.get_hitType()===0){hT=hW}}for(var hX=0;hX<L.length;hX++){var hY=L[hX];if(hY.get_hitType()===3){return hY}if(hY.get_hitType()!==0&&hU.get_hitType()===0){hU=hY}}if(hT.get_hitType()!==0){return hT}if(hU.get_hitType()!==0){return hU}return new du.$ctor1(0,0,0)};global.tab.HitTestResult=du;var dv=function(){};dv.__typeName='tab.HitTestStructureBuilder';dv.buildBinnedHitTestStructure=function(e,L){var hT=dq.createRootNode();var hU=0;var hV=e.scene.HUq;for(var hW=0;hW<hV.length;hW++){var hX=hV[hW];var hY=dv.$2(hX);for(var hZ=0;hZ<hY.length;hZ++){var ia=hY[hZ];var ib=e.$a(ia);var ic=ib.get_mapExtentOrPaneRect();var id=new dq(ic,1);var ie=fU.getPaneMarksKey(ia);id.set_paneKey(ie);id.set_paneIndex(ia.hJq);id.set_paneOrderIndex(hU++);hT.addNode(id);var ig=Math.ceil(ic.w/L);for(var ih=0;ih<L;++ih){var ii=ih*ig+ic.x;var ij=ic.y;var ik=ig;var il=ic.h;var im=new dq({x:ii,y:ij,w:ik,h:il},2);id.addNode(im)}var io=dv.buildMarkBounds(ib,0,ib.markCount-1,ib.getAllMarkBounds());for(var ip=0;ip<io.length;ip++){var iq=io[ip];var ir=id.get_children();for(var it=0;it<ir.length;it++){var iu=ir[it];if(tab.RectXYUtil.intersectsWith(iq.get_boundingBox(),iu.get_boundingBox())){iu.addNode(iq)}}}}}return hT};dv.buildLinearHitTestStructure=function(e){var L=dq.createRootNode();var hT=0;var hU=e.scene.HUq;for(var hV=0;hV<hU.length;hV++){var hW=hU[hV];var hX=dv.$2(hW);for(var hY=0;hY<hX.length;hY++){var hZ=hX[hY];var ia=e.$a(hZ);if(!ss.isValue(ia)){continue}var ib=dv.$0(hZ,ia,hT);L.addNode(ib);hT++}}return L};dv.buildTrendLineHitTestStructure=function(e,L,hT){var hU=e.xCr;var hV=e.Dpc;var hW=Math.floor(hU.length/2);if(hW<2){return new dq({x:0,y:0,w:0,h:0},0)}var hX=[];var hY=0;for(var hZ=0;hZ<hV.length;hZ++){var ia=hV[hZ];switch(ia){case'moveto':{{hY+=2}break}case'lineto':{{if(ss.isValue(hU[hY+3])){var ib=[hU[hY],hU[hY+1],hU[hY+2],hU[hY+3]];var ic=ss.Int32.trunc(Math.min(ib[0],ib[2]));var id=ss.Int32.trunc(Math.min(ib[1],ib[3]));var ie=ss.Int32.trunc(Math.max(ib[0],ib[2]))-ic;var ig=ss.Int32.trunc(Math.max(ib[1],ib[3]))-id;var ih={x:ic,y:id,w:ie,h:ig};ih=tab.RectXYUtil.dialate(ih,ss.Int32.trunc(L));var ii=new dq(ih,5,hT);hX.push(ii)}hY+=2}break}case'curveto':{{hY+=6}break}default:{{}break}}}var ij=dv.$1(hX,4);return ij};dv.buildMarkBounds=function(e,L,hT,hU){var hV=hT-L+1;var hW=[];var hX=0;for(var hY=L;hY<=hT;++hY){var hZ=hU[hY].item1;var ia=hU[hY].item2;var ib=e.getMarkInstanceOffsets(hY);var ic=ib.length;for(var id=0;id<ic;id++){var ie=hZ;var ig=ia;var ih=ib[id];if(ih!==0){var ii=ss.Int32.trunc(ih);ie=tab.RectXYUtil.offsetRectXY(hZ,ii,0);ig=(ss.isValue(ia)?tab.RectXYUtil.offsetRectXY(ia,ii,0):null)}hW[hX]=new dq(ie,3,hY,ig,ih);++hX}}return hW};dv.print=function(e,L){var hT='';var hU=L;while(hU>0){hT+=' ';--hU}console.log(hT+e.get_objectId());if(e.get_nodeType()!==3){e.get_children().forEach(function(hV){dv.print(hV,L+1)})}};dv.$2=function(e){var L=[];for(var hT=0;hT<e.MdI.length;hT++){var hU=e.MdI[hT];if(hU.oqX==='marks'){L.push(hU.SgS)}}return L};dv.$1=function(e,L){var hT=e;while(hT.length>1){var hU=[];for(var hV=0;hV<hT.length;hV+=L){var hW=L;var hX=hT.length-hV;if(hX<L){hW=hX}var hY=[];var hZ=null;for(var ia=0;ia<hW;++ia){var ib=hT[hV+ia];hY.push(ib);if(ia===0){hZ={x:ib.get_boundingBox().x,y:ib.get_boundingBox().y,w:ib.get_boundingBox().w,h:ib.get_boundingBox().h}}else{hZ=tab.RectXYUtil.union(hZ,hY[ia].get_boundingBox())}}var ic=new dq(hZ,4);ic.addNodes(hY);hU.push(ic)}hT=hU}if(hT.length!==1){}var id=dq.createRootNode();id.addNodes(hT);return id};dv.$0=function(e,L,hT){var hU=L.get_mapExtentOrPaneRect();var hV=new dq(hU,1);var hW=fU.getPaneMarksKey(e);hV.set_paneKey(hW);hV.set_paneIndex(e.hJq);hV.set_paneOrderIndex(hT);var hX=(L.hasUserPanes?L.userPaneCount:1);var hY=L.paneRect.x;var hZ=L.paneRect.y;var ia=L.getAllMarkBounds();for(var ib=0;ib<hX;++ib){var ic=tab.RectXYUtil.offsetRectXY(L.getUserPaneRectByIndex(ib),hY,hZ);var id=new dq(ic,6);var ie=L.$9(ib);var ig=dv.buildMarkBounds(L,ie.firstMark,ie.lastMark,ia);id.addNodes(ig);hV.addNode(id)}return hV};global.tab.HitTestStructureBuilder=dv;var dw=function(){dX.call(this,"<div class='tabCatLegendScrollButtonHolder'><span class='tabCatLegendScrollPrev'/><span class='tabCatLegendScrollNext'/></div>")};dw.__typeName='tab.HorizontalIteratorButtonTemplate';global.tab.HorizontalIteratorButtonTemplate=dw;var dx=function(){};dx.__typeName='tab.IApiStorytellingClient';global.tab.IApiStorytellingClient=dx;var dy=function(){};dy.__typeName='tab.ICategoricalSelectionWidget';global.tab.ICategoricalSelectionWidget=dy;var dz=function(){};dz.__typeName='tab.IClient';global.tab.IClient=dz;var dA=function(){};dA.__typeName='tab.IContentFetcher';global.tab.IContentFetcher=dA;var dB=function(){};dB.__typeName='tab.IContentFormatter';global.tab.IContentFormatter=dB;var dC=function(){Object.call(this);this['_stopClickEvents']=false};dC.__typeName='tab.IDropDownSelect';global.tab.IDropDownSelect=dC;var dD=function(){};dD.__typeName='tab.IFilterTypeViewModel';global.tab.IFilterTypeViewModel=dD;var dE=function(){};dE.__typeName='tab.IFlipboardNavigatorViewModel';global.tab.IFlipboardNavigatorViewModel=dE;var dF=function(){};dF.__typeName='tab.IFlipboardViewModel';global.tab.IFlipboardViewModel=dF;var dG=function(){};dG.__typeName='tab.IFontLoader';global.tab.IFontLoader=dG;var dH=function(){};dH.__typeName='tab.IHitTargetGeom';global.tab.IHitTargetGeom=dH;var dI=function(e,L,hT,hU,hV){this.$2=null;this.$1=0;this.$3=null;this.$0=null;this.$4=0;this.$2=e;this.$1=L;this.$3=hT;this.$0=hU;this.$4=hV};dI.__typeName='tab.ImageDownloaderImageData';global.tab.ImageDownloaderImageData=dI;var dJ=function(e){this.$0=null;ss.EventArgs.call(this);this.$0=e};dJ.__typeName='tab.ImageLoadedEventArgs';global.tab.ImageLoadedEventArgs=dJ;var dK=function(){};dK.__typeName='tab.ImageUtil';dK.scaleImage=function(e,L,hT,hU,hV){var hW=document.createElement('canvas');hW.width=L;hW.height=hT;if(L>0&&hT>0){var hX=document.createElement('canvas');hX.width=hU;hX.height=hV;var hY=hX.getContext('2d');hY.drawImage(e,0,0);var hZ=hY.getImageData(0,0,hU,hV);var ia=hW.getContext('2d');var ib=ia.createImageData(L,hT);dK.bilinearDownSampleAlgorithm(hZ,ib);ia.putImageData(ib,0,0)}return hW};dK.bilinearDownSampleAlgorithm=function(e,L){var hT=e.width;var hU=e.height;var hV=hT/L.width;var hW=hU/L.height;var hX=hV;var hY=hW;var hZ=e.data;var ia=L.data;var ib=new Array(ia.length);for(var ic=0;ic<ib.length;ic++){ib[ic]=0}var id=1/(hV*hW);var ie=0;var ig=0;var ih=false;var ii,ij;ii=ij=0;var ik=id;var il=0;var im=0;var io=0;var ip=4*L.width;var iq,ir,it,iu;for(var iv=0;iv<hU;iv++){hX=hV;for(var iw=0;iw<hT;iw++){iq=hZ[ie];ir=hZ[ie+1];it=hZ[ie+2];iu=hZ[ie+3];ik=id;if(ih){ik=ii;im=ij;if(hX<1){im*=hX}var ix=ig+ip;ib[ix]+=iq*im;ib[ix+1]+=ir*im;ib[ix+2]+=it*im;ib[ix+3]+=iu*im}if(hX<1){il=ik*(1-hX);ik*=hX;if(ih){io=ij*(1-hX);var iy=ig+ip;ib[iy+4]+=iq*io;ib[iy+5]+=ir*io;ib[iy+6]+=it*io;ib[iy+7]+=iu*io}ib[ig+4]+=iq*il;ib[ig+5]+=ir*il;ib[ig+6]+=it*il;ib[ig+7]+=iu*il}ib[ig++]+=iq*ik;ib[ig++]+=ir*ik;ib[ig++]+=it*ik;ib[ig++]+=iu*ik;ie+=4;hX-=1;if(hX<dK.$0){hX+=hV}else{ig-=4}}hY-=1;if(hY<dK.$0){hY+=hW}else{ig-=ip}if(hY<1){ih=true;ii=hY/(hV*hW);ij=(1-hY)/(hV*hW)}else{ih=false}}for(var iz=0;iz<ib.length;iz++){ia[iz]=ib[iz]+0.5}};global.tab.ImageUtil=dK;var dL=function(){spiff.Template.call(this,$("<div class='tab-image'></div>"))};dL.__typeName='tab.ImageZoneTemplate';global.tab.ImageZoneTemplate=dL;var dM=function(e,L){this.$l=null;this.$k=null;this.$j=null;ss.makeGenericType(spiff.BaseView$1,[dN]).call(this,e,new dL);this.$l=L;this.$i().add_newImageZone(ss.mkdel(this,this.handleNewImageZone));this.$l.add_resizeZone(ss.mkdel(this,this.$d));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$i().remove_newImageZone(ss.mkdel(this,this.handleNewImageZone));this.$l.remove_resizeZone(ss.mkdel(this,this.$d));this.$l=null})))};dM.__typeName='tab.ImageZoneView';global.tab.ImageZoneView=dM;var dN=function(e){this.$2=null;this.$2$1=null;spiff.BaseViewModel.call(this);this.$2=e;this.$2.add_newImageZone(ss.mkdel(this,this.handleNewImageZone));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$2.remove_newImageZone(ss.mkdel(this,this.handleNewImageZone))})))};dN.__typeName='tab.ImageZoneViewModel';global.tab.ImageZoneViewModel=dN;var dO=function(){};dO.__typeName='tab.IMapsSearchViewTemplate';global.tab.IMapsSearchViewTemplate=dO;var dP=function(e){hl.call(this)};dP.__typeName='tab.IMenuItem';global.tab.IMenuItem=dP;var dQ=function(){};dQ.__typeName='tab.IMovable';global.tab.IMovable=dQ;var dR=function(){this.highlightBgColor=null;this.selectionBgColor=null;this.highlightTextColor=null;this.selectionTextColor=null;this.highlightBgColor=dR.defaultHighlightBgColor;this.selectionBgColor=dR.defaultSelectionBgColor;this.highlightTextColor=dR.defaultHighlightTextColor;this.selectionTextColor=dR.defaultSelectionTextColor};dR.__typeName='tab.InteractionColorModel';dR.extractInteractionColors=function(e){var L=ss.isValue(e)&&!ss.isNullOrEmptyString(e.SjL);var hT=ss.isValue(e)&&!ss.isNullOrEmptyString(e.Fel);var hU=ss.isValue(e)&&!ss.isNullOrEmptyString(e.kLF);var hV=ss.isValue(e)&&!ss.isNullOrEmptyString(e.Wqz);if(!L&&!hU&&!hV&&!hT){return dR.defaultColors}var hW=new dR;hW.highlightBgColor=(L?tab.ColorModel.fromColorCode(e.SjL):hW.highlightBgColor);hW.selectionBgColor=(hU?tab.ColorModel.fromColorCode(e.kLF):hW.selectionBgColor);hW.highlightTextColor=(hT?tab.ColorModel.fromColorCode(e.Fel):hW.highlightTextColor);hW.selectionTextColor=(hV?tab.ColorModel.fromColorCode(e.Wqz):hW.selectionTextColor);return hW};global.tab.InteractionColorModel=dR;var dS=function(){};dS.__typeName='tab.IRegionContentProvider';global.tab.IRegionContentProvider=dS;var dT=function(){};dT.__typeName='tab.IRuntimeUIModule';global.tab.IRuntimeUIModule=dT;var dU=function(){};dU.__typeName='tab.ISlider';global.tab.ISlider=dU;var dV=function(){};dV.__typeName='tab.IStoryPointCaptionViewModel';global.tab.IStoryPointCaptionViewModel=dV;var dW=function(e,L,hT){this.$a=null;this.$c=null;this.$8=new tab.DisposableHolder;this.$9=false;this.$b=0;this.$a=e;if(L){this.$c=new dw}else{this.$c=new hv}this.$b=100;this.$9=L;this.$c.$1();this.$c.nextButton.width(hT).height(hT).css('line-height',hT+'px');this.$c.prevButton.width(hT).height(hT).css('line-height',hT+'px');this.$8.add$1(spiff.EventUtil.bindWithDispose(this.$c.nextButton,'click',ss.mkdel(this,this.$2)));this.$8.add$1(spiff.EventUtil.bindWithDispose(this.$c.prevButton,'click',ss.mkdel(this,this.$3)));this.updateButtonState()};dW.__typeName='tab.IteratorButtons';global.tab.IteratorButtons=dW;var dX=function(e){this.prevButton=null;this.nextButton=null;spiff.Template.call(this,$(e));this.prevButton=this.getElementBySelector('.tabCatLegendScrollPrev');this.nextButton=this.getElementBySelector('.tabCatLegendScrollNext')};dX.__typeName='tab.IteratorButtonTemplate';global.tab.IteratorButtonTemplate=dX;var dY=function(){};dY.__typeName='tab.ITiledGridModel';global.tab.ITiledGridModel=dY;var dZ=function(){};dZ.__typeName='tab.ITiledWidgetUI';global.tab.ITiledWidgetUI=dZ;var ea=function(){};ea.__typeName='tab.ITooltipBehavior';global.tab.ITooltipBehavior=ea;var eb=function(){this.$h=null;this.$k=null;this.$i=null;this.$j=null;this.$m=null;this.$n=0;this.$l=false;this.$g=null};eb.__typeName='tab.LeafletMapControl';eb.$0=function(e){var L=256;var hT=document.createElement('canvas');hT.width=L;hT.height=L;var hU=bn.getRenderContext(hT,'transparent');hU.set_shapeFillStyle(e);hU.fillRect(0,0,256,256);var hV=hT.toDataURL('png',null);return hV};eb.$2=function(e){return new L.LatLng(e.item1,e.item2)};eb.$1=function(e,L,hT){var hU=Math.pow(2,e)*hT;var hV=Math.floor(L*hU);return hV};global.tab.LeafletMapControl=eb;var ec=function(e){this.widgetsInTemplate=true;this.$e=null;this.getContextMenuCommands=null;this.requestSetAttributes=null;this.session=null;this.field='';this.filterViewModel=null;this.presModel=null;this.applyDelay=1000;this.attributes={};this.isTypeInList=false;this.domContent=null;this.domBox=null;this.searchDiv=null;this.resetButton=null;this.domainButton=null;this.menuButton=null;this.stateId=0;this.$g=null;this.singleSelectMenuItem=null;this.multiSelectMenuItem=null;this.inclusiveMenuItem=null;this.exclusiveMenuItem=null;this.getSID=null;this.mode=null;this.metricsOnly=false;this.searchButton=null;this.domControls=null;this.titleH=0;this.titleW=0;this.width=0;this.modeContents=null;this.domHorizScroll=null;this.conditionals=null;this.showContextMenu=null;this.$f=null;eq.call(this);this.$e=new bA(this)};ec.__typeName='tab.LegacyCategoricalQuickFilter';ec.$0=function(e,L){if(ss.isNullOrUndefined(e)){return true}var hT=e.table.tuples;var hU=L.table.tuples;if(hT.length!==hU.length){return true}for(var hV=0,hW=hT.length;hV<hW;hV++){if(!ss.referenceEquals(hT[hV].t[0].v,hU[hV].t[0].v)){return true}}return false};ec.$1=function(e,L){if(ss.isNullOrUndefined(e)){return true}var hT=ss.isValue(e.all)&&e.all;var hU=ss.isValue(L.all)&&L.all;return hT!==hU&&hU};global.tab.LegacyCategoricalQuickFilter=ec;var ed=function(e){this.$2=null;spiff.BaseViewModel.call(this);this.$2=e;this.$2.add_filterUpdated(ss.mkdel(this,this.handleUpdateFilterContent))};ed.__typeName='tab.LegacyCategoricalQuickFilterViewModel';global.tab.LegacyCategoricalQuickFilterViewModel=ed;var ee=function(){this.buttons='None';this.title='';this.onYes=function(){};this.onNo=function(){};this.$6=null;this.$5=null;dijit.Dialog.call(this)};ee.__typeName='tab.LegacyDialog';global.tab.LegacyDialog=ee;var ef=function(){};ef.__typeName='tab.LegacyFilterDropDownArrowTemplate';ef.getDropDownForColor=function(e){return"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='12px' height='12px' viewBox='0 0 12 12' style='enable-background:new 0 0 12 12;' xml:space='preserve'><path style='fill:"+e+";' d='M4.9,6.9L2.1,3.3C2,3.2,2.1,3,2.2,3h5.6C8,3,8.1,3.2,8,3.3L5.2,6.9C5.1,7,4.9,7,4.9,6.9z'/>"+'</svg>'};global.tab.LegacyFilterDropDownArrowTemplate=ef;var eg=function(e){this.templateString="<div class='HierarchicalFilter'><div dojoAttachPoint='domBox' class='HierarchicalFilterBox'><div class='TitleAndControls' dojoAttachPoint='domControls'><h3 class='FilterTitle' dojoAttachPoint='domTitleBar'></h3><div dojoType='dijit.form.Button' class='HFButton HFSearchButton' showlabel='false'dojoAttachPoint='searchButton' dojoAttachEvent='onClick:toggleSearchUI'iconClass='wcIconSearch'>Search</div><div dojoType='dijit.form.Button' class='HFButton HFMenuButton' dojoAttachPoint='menuButton'name='type' dojoAttachEvent='onClick:doMenu' iconClass='wcIconContextMenu'></div></div><div dojoAttachPoint='searchDiv'></div><div class='HFLevels tab-ctrl-formatted-coloronly' dojoAttachPoint='domLevelBox'><table cellspacing='2'><tr dojoAttachPoint='domLevelContainer'></tr></table></div><div class='HFSelection tab-ctrl-formatted-text' dojoAttachPoint='domContent'></div><div dojoType='tableau.base.widget.ConditionalsWidget' dojoAttachPoint='conditionals'></div></div></div>";this.widgetsInTemplate=true;this.$b=[];this.session=null;this.field='';this.filterViewModel=null;this.$9=500;this.attributes={};this.stateId=0;this.$d=0;this.$e=0;this.domBox=null;this.domLevelBox=null;this.domContent=null;this.domControls=null;this.searchDiv=null;this.searchButton=null;this.RANGE_START='minValue';this.RANGE_END='maxValue';this.$a=null;this.$c=null;this.tree=null;this._applyTimer=null;this.searchWidget=null;this.menuButton=null;this.conditionals=null;this.domLevelContainer=null;this.metricsOnly=false;this.getContextMenuCommands=null;this.showContextMenu=null;this.requestSetAttributes=null;eq.call(this)};eg.__typeName='tab.LegacyHierarchicalQuickFilter';eg.$0=function(e,L){var hT=tab.ColorModel.fromColorCode(L);var hU=tab.ColorModel.fromColorCode(e.YhU);var hV=tab.ColorModel.alphaCompositeSolidDest(tab.ColorModel.fromColorModelPlusAlpha(hU,0.235294118523598),hT);var hW={'border-width':'1px','border-style':'solid','border-color':hV.toRgb()};tab.StyleUtil.appendCSSRule('.HFLevels td.HFLevelNoneSelected',hW);var hX=tab.ColorModel.alphaCompositeSolidDest(tab.ColorModel.fromColorModelPlusAlpha(hU,0.411764711141586),hT);var hY={'border-color':hX.toRgb()};tab.StyleUtil.appendCSSRule('.HFLevels td.HFLevelSomeSelected',hY);tab.StyleUtil.appendCSSRule('.HFLevels td.HFLevelAllSelected',hY);var hZ=tab.ColorModel.fromColorCode(L);var ia=tab.ColorModel.alphaCompositeSolidDest(tab.ColorModel.fromColorModelPlusAlpha(hT,0.39215686917305),eg.$8);var ib=tab.ColorModel.alphaCompositeSolidDest(tab.ColorModel.fromColorModelPlusAlpha(hT,0.549019634723663),eg.$8);if(hZ.isLStarAboveThreshold(95)){ia=eg.$4;ib=eg.$2}var ic={'background-color':ia.toRgb()};var id={'background-color':ib.toRgb()};var ie={'background-color':hZ.toRgb()};tab.StyleUtil.appendCSSRule('.HFLevels td.HFLevelAllSelected',ic);tab.StyleUtil.appendCSSRule('.HFLevels td.HFLevelSomeSelected',id);tab.StyleUtil.appendCSSRule('.HFLevels td.HFLevelNoneSelected',ie)};global.tab.LegacyHierarchicalQuickFilter=eg;var eh=function(e){this.$2=null;spiff.BaseViewModel.call(this);this.$2=e};eh.__typeName='tab.LegacyHierarchicalQuickFilterViewModel';global.tab.LegacyHierarchicalQuickFilterViewModel=eh;var ei=function(e){this.domBox=null;this.domContent=null;this.domHighlighter=null;this.domHighlighterHolder=null;this.domImageBody=null;eu.call(this,e);this.domBox=this.getElementBySelector('.LegendBox');this.domContent=this.getElementBySelector('.LegendContent');this.domHighlighter=this.getElementBySelector('.tabLegendHighlighter');this.domHighlighterHolder=this.getElementBySelector('.tabLegendHighlighterHolder');this.domImageBody=this.getElementBySelector('.LegendImageBody')};ei.__typeName='tab.LegacyLegendTemplate';global.tab.LegacyLegendTemplate=ei;var ej=function(e,L){this.legacyLegendViewModel=null;this.$g=null;this.$i=0;this.eventHandler=null;this.iterButtons=null;this.$h=0;this.bodyOffset={x:0,y:0};this.bodySize=null;ss.makeGenericType(bi,[ek]).call(this,e,L);this.legacyLegendViewModel=e;this.legacyLegendViewModel.add_newLegacyLegend(ss.mkdel(this,this.handleNewLegacyLegend));this.legacyLegendViewModel.add_validStateChanged(ss.mkdel(this,this.handleValidStateChanged));this.$e()};ej.__typeName='tab.LegacyLegendView';global.tab.LegacyLegendView=ej;var ek=function(e,L,hT){this.$i=null;this.$k=null;this.$j=null;this.$3$1=null;this.$3$2=null;es.call(this,L,hT);this.$i=e;this.$i.add_newLegacyLegend(ss.mkdel(this,this.handleNewLegacyLegend));this.get_visualModel().add_urlInfoCacheChange(ss.mkdel(this,this.$c));this.$k=hT;this.$k.add_validStateChanged(ss.mkdel(this,this.handleZoneValidStateChanged))};ek.__typeName='tab.LegacyLegendViewModel';global.tab.LegacyLegendViewModel=ek;var el=function(e){this.$q=0;this.$o=null;this.$p=null;this.$n=false;em.call(this,e)};el.__typeName='tab.LegacyQuantitativeDateQuickFilter';el.getDateTimeFormatMode=function(e,L,hT,hU){if(ss.isNullOrUndefined(hT)||ss.isNullOrUndefined(hT.isAutoFormat)||!hT.isAutoFormat){return 0}if(el.isPureTime(e,L)){return 1}if(hU===2){return 2}for(var hV=0;hV<e.length;hV++){var hW=e[hV];if(ss.isNullOrUndefined(hW)||!ss.isValue(hW.v)){continue}var hX={t:hW.t,v:ss.unbox(hW.v)};if(tableau.format.isDateTimeWithNonMidnightTime(hX)){return 2}}return 0};el.mergeDateWithTime=function(e,L){var hT=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),L.getUTCHours(),L.getUTCMinutes(),L.getUTCSeconds(),L.getUTCMilliseconds()));return hT};el.isPureTime=function(e,L){var hT=tab.LegacyFilterModel.timestampsWithSameDateOrNull(e);var hU=L==='trunc-qtr'||L==='trunc-week'||L==='trunc-day';return hT&&!hU};global.tab.LegacyQuantitativeDateQuickFilter=el;var em=function(e){this.templateString="<div class='QuantitativeFilter'><div class='QuantitativeFilterBox' dojoAttachPoint='domBox'><div class='TitleAndControls' dojoAttachPoint='domControls'><h3 class='QFTitle' dojoAttachPoint='domTitleBar'></h3><div dojoType='dijit.form.Button' class='QFButton QFResetButton' showlabel='false'dojoAttachPoint='resetButton' dojoAttachEvent='onClick:toggleReset'iconClass='wcIconNonfiltered'>Showing all values</div><div dojoType='dijit.form.Button' class='QFButton QFDomainButton' showlabel='false'dojoAttachPoint='domainButton' dojoAttachEvent='onClick:toggleDomain'iconClass='wcIconDomainAll'>Show Smaller Range</div><div dojoType='dijit.form.Button' class='QFButton QFMenuButton' name='type' dojoAttachPoint='menuButton'dojoAttachEvent='onClick:doMenu' iconClass='wcIconContextMenu'></div></div><div class='QFContent' dojoAttachPoint='domContent'><div class='QFReadout QFLowerBound tab-ctrl-formatted-border-hover' dojoAttachEvent='onclick:showLowerInput' dojoAttachPoint='domLowerBound'><div class='readoutText tab-ctrl-formatted-fixedsize' dojoAttachPoint='domLowerText'></div><input type='text' dojoAttachPoint='domLowerInput'></input></div><div class='QFReadout QFUpperBound tab-ctrl-formatted-border-hover' dojoAttachEvent='onclick:showUpperInput' dojoAttachPoint='domUpperBound'><div class='readoutText tab-ctrl-formatted-fixedsize' dojoAttachPoint='domUpperText'></div><input type='text' dojoAttachPoint='domUpperInput'></input></div><div dojoAttachPoint='domBar' class='QFSlider QFBar'><div dojoAttachPoint='domRange' class='QFRange' dojoAttachEvent='onmousedown:startRangeCapture'><div dojoAttachPoint='domHighlight' class='QFRangeHighlight'></div></div></div><span dojoAttachPoint='domLowerImg' class='QFSlider QFImg QFFilterLeft' dojoAttachEvent='onmousedown:startLowerCapture'></span><span dojoAttachPoint='domUpperImg' class='QFSlider QFImg QFFilterRight' dojoAttachEvent='onmousedown:startUpperCapture'></span></div></div></div>";this.getContextMenuCommands=null;this.requestSetAttributes=null;this.attributes={};this.widgetsInTemplate=true;this.global=false;this.templateRoot=null;this.session=null;this.field='';this.filterViewModel=null;this.presModel=null;this.$c=200;this.$d=null;this.$f=10;this.rid=0;this.timestamp=0;this.domContent=null;this.domControls=null;this.domLowerText=null;this.domUpperText=null;this.domLowerInput=null;this.domUpperInput=null;this.domBar=null;this.domRange=null;this.domHighlight=null;this.domLowerImg=null;this.domUpperImg=null;this.domLowerBound=null;this.domUpperBound=null;this.resetButton=null;this.menuButton=null;this.domainButton=null;this.lastLowerOffset=0;this.lastUpperOffset=0;this.classQF='QF';this.classQFButtonR='QFButtonR';this.classQFButtonHide='QFButtonHide';this.classQFDisabled='QFDisabled';this.classQFCenterText='QFCenterText';this.classQFHideButtons='QFHideButtons';this.classQFHideSlider='QFHideSlider';this.classQFHideReadout='QFHideReadout';this.classQFResetDisabled='QFResetDisabled';this.oCurrentMin=null;this.oCurrentMax=null;this.oRangeMin=null;this.oRangeMax=null;this.oDataMin=null;this.oDataMax=null;this.rangeMinOverride=null;this.rangeMaxOverride=null;this.previousMinVal=null;this.previousMaxVal=null;this.metricsOnly=false;this.oMetrics=null;this.titleH=0;this.titleW=0;this.$g=null;this.precision=0;this.captureInfo=null;this.showInputStartValue=null;this.mode=null;this.showContextMenu=null;this.$e=null;eq.call(this)};em.__typeName='tab.LegacyQuantitativeQuickFilter';global.tab.LegacyQuantitativeQuickFilter=em;var en=function(e){this.$2=null;spiff.BaseViewModel.call(this);this.$2=e};en.__typeName='tab.LegacyQuantitativeQuickFilterViewModel';global.tab.LegacyQuantitativeQuickFilterViewModel=en;var eo=function(e){this.$i=null;ss.makeGenericType(spiff.BaseView$1,[ep]).call(this,e,new fz);this.$h().add_updateQuickFilterDisplay(ss.mkdel(this,this.$b));this.$h().add_resized(ss.mkdel(this,this.$f));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$h().remove_updateQuickFilterDisplay(ss.mkdel(this,this.$b))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$h().remove_resized(ss.mkdel(this,this.$f))})));this.$h().add_updateQuickFilterContent(ss.mkdel(this,this.$a));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$h().remove_updateQuickFilterContent(ss.mkdel(this,this.$a))})));if(this.$h().get_hasBorder()){this.get_template().domRoot.addClass('tabBordered')}};eo.__typeName='tab.LegacyQuickFilterDisplayView';global.tab.LegacyQuickFilterDisplayView=eo;var ep=function(e,L){this.$a=null;this.$6=null;this.$8=true;this.$9=true;this.$7=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;spiff.BaseViewModel.call(this);this.$6=L;this.$6.add_filterUpdated(ss.mkdel(this,this.$5));this.$a=e;this.$a.add_quickFilterDisplayUpdated(ss.mkdel(this,this.handleUpdateQuickFilterDisplay));this.$a.get_zoneModel().add_resizeZone(ss.mkdel(this,this.$4));this.$3()};ep.__typeName='tab.LegacyQuickFilterDisplayViewModel';global.tab.LegacyQuickFilterDisplayViewModel=ep;var eq=function(){this.titleHTML=null;this.format={};this.backgroundColor=null;this.textStyle=null;this.domTitleBar=null;this.oFilter=null;Object.call(this)};eq.__typeName='tab.LegacyQuickFilterWidget';global.tab.LegacyQuickFilterWidget=eq;var er=function(e){this.templateString="<div class='RelativeDateFilter'><div class='RelativeDateFilterBox' dojoAttachPoint='domBox'><div class='TitleAndControls' dojoAttachPoint='domControls'><h3 class='FilterTitle' dojoAttachPoint='domTitleBar'></h3><div dojoType='dijit.form.Button' class='RDFButton RDFMenuButton' name='type' dojoAttachPoint='menuButton'dojoAttachEvent='onClick:doMenu' iconClass='wcIconContextMenu'></div></div><div dojoType='dijit.form.DropDownButton' dojoAttachPoint='domDropdownButton'><span class='RDText'>date description</span><div dojoType='dijit.TooltipDialog' dojoAttachPoint='domTooltipDialog'><div class='RelativeDateFilterDialog' dojoAttachPoint='domDialog'><div class='RangeButtonsBar'><div dojotype='dijit.form.ToggleButton' dojoAttachEvent='onClick:setPYear'dojoAttachPoint='buttonYear' name='year'>Years</div><div dojotype='dijit.form.ToggleButton' dojoAttachEvent='onClick:setPQuarter'dojoAttachPoint='buttonQuarter' name='quarter'>Quarters</div><div dojotype='dijit.form.ToggleButton' dojoAttachEvent='onClick:setPMonth'dojoAttachPoint='buttonMonth' name='month'>Months</div><div dojotype='dijit.form.ToggleButton' dojoAttachEvent='onClick:setPWeek'dojoAttachPoint='buttonWeek' name='week'>Weeks</div><div dojotype='dijit.form.ToggleButton' dojoAttachEvent='onClick:setPDay'dojoAttachPoint='buttonDay' name='day'>Days</div><div dojotype='dijit.form.ToggleButton' dojoAttachEvent='onClick:setPHour'dojoAttachPoint='buttonHour' name='hour'>Hours</div><div dojotype='dijit.form.ToggleButton' dojoAttachEvent='onClick:setPMinute'dojoAttachPoint='buttonMinute' name='minute'>Minutes</div></div><div class='vertSpacer topHR'></div><div class='radioLine'><div class='column1'><input class='rradio' type='radio' name='radio-${field}' value='last'dojoAttachPoint='radioLast' dojoAttachEvent='onclick:setRLast'></input><div class='fakeRadio'></div><span class='rlabel' dojoAttachPoint='textLast' dojoAttachEvent='onclick:setRLast'></span></div><div class='column2'><input class='rradio' type='radio' name='radio-${field}' value='lastn'dojoAttachPoint='radioLastn' dojoAttachEvent='onclick:setRLastn'></input><div class='fakeRadio'></div><span class='rlabel alignLN' dojoAttachPoint='textLastn1' dojoAttachEvent='onclick:setRLastn'></span><input class='rtext' type='text' size='2' dojoAttachPoint='inputLastn' value='3'dojoAttachEvent='onkeyup:onTypingLast'></input><span class='spinner' dojoAttachPoint='lastSpinner'><div class='spinnerElement spinnerUp' dojoAttachPoint='lastUp'dojoAttachEvent='onmouseover:overLastUp,onmouseout:outLastUp,onclick:upLast'></div><div class='spinnerElement spinnerDown' dojoAttachPoint='lastDown'dojoAttachEvent='onmouseover:overLastDown,onmouseout:outLastDown,onclick:downLast'></div></span><span class='rlabel' dojoAttachPoint='textLastn2' dojoAttachEvent='onclick:setRLastn'></span></div></div><div class='radioLine'><div class='column1'><input class='rradio' type='radio' name='radio-${field}' value='curr'dojoAttachPoint='radioCurr' dojoAttachEvent='onclick:setRCurr'></input><div class='fakeRadio'></div><span class='rlabel' dojoAttachPoint='textCurr' dojoAttachEvent='onclick:setRCurr'></span></div><div class='column2'><input class='rradio' type='radio' name='radio-${field}' value='nextn'dojoAttachPoint='radioNextn' dojoAttachEvent='onclick:setRNextn'></input><div class='fakeRadio'></div><span class='rlabel alignLN' dojoAttachPoint='textNextn1' dojoAttachEvent='onclick:setRNextn'></span><input class='rtext' type='text' size='2' dojoAttachPoint='inputNextn' value='3'dojoAttachEvent='onkeyup:onTypingNext'></input><span class='spinner' dojoAttachPoint='nextSpinner'><div class='spinnerElement spinnerUp' dojoAttachPoint='nextUp'dojoAttachEvent='onmouseover:overNextUp,onmouseout:outNextUp,onclick:upNext'></div><div class='spinnerElement spinnerDown' dojoAttachPoint='nextDown'dojoAttachEvent='onmouseover:overNextDown,onmouseout:outNextDown,onclick:downNext'></div></span><span class='rlabel' dojoAttachPoint='textNextn2' dojoAttachEvent='onclick:setRNextn'></span></div></div><div class='radioline'><div class='column1'><input class='rradio' type='radio' name='radio-${field}' value='next'dojoAttachPoint='radioNext' dojoAttachEvent='onclick:setRNext'></input><div class='fakeRadio'></div><span class='rlabel' dojoAttachPoint='textNext' dojoAttachEvent='onclick:setRNext'></span></div><div class='column2'><input class='rradio' type='radio' name='radio-${field}' value='todate'dojoAttachPoint='radioTodate' dojoAttachEvent='onclick:setRTodate'></input><div class='fakeRadio'></div><span class='rlabel' dojoAttachPoint='textTodate' dojoAttachEvent='onclick:setRTodate'></span></div></div><div class='vertSpacer bottomHR'></div><div class='preview'><span dojoAttachPoint='domPreview'></span></div></div></div></div></div></div>";this.widgetsInTemplate=true;this.session=null;this.field='';this.filterViewModel=null;this.stateId=0;this.rid=0;this.timestamp=0;this.$9=[];this.titleH=0;this.titleW=0;this.layoutSession=null;this.getContextMenuCommands=null;this.showContextMenu=null;this.zid=0;this.domText=null;this.domDropdownButton=null;this.domDialog=null;this.$a=[];this.buttonYear=null;this.buttonQuarter=null;this.buttonMonth=null;this.buttonWeek=null;this.buttonDay=null;this.buttonHour=null;this.buttonMinute=null;this.radioLast=null;this.radioCurr=null;this.radioNext=null;this.radioLastn=null;this.radioNextn=null;this.lastSpinner=null;this.nextSpinner=null;this.lastUp=null;this.lastDown=null;this.nextUp=null;this.nextDown=null;this.domNode=null;this.domTooltipDialog=null;this.menuButton=null;this.$7='RDFButtonR1';this.$6='RDFButtonHide';this.$8=new tab.DisposableHolder;this.getSID=null;this.attributes=null;this.requestSetAttributes=null;ct.call(this)};er.__typeName='tab.LegacyRelativeDateQuickFilter';er.get_anchoredDescriptions=function(){if(ss.isNullOrUndefined(er.$1)){er.$0()}return er.$1};er.get_nonAnchoredDescriptions=function(){if(ss.isNullOrUndefined(er.$2)){er.$0()}return er.$2};er.$0=function(){er.$1={};er.$2={};var e=tab.Strings;var L=ss.Enum.getValues(fM);for(var hT=0;hT<L.length;hT++){var hU=L[hT];var hV={};var hW={};var hX=ss.Enum.getValues(fN);for(var hY=0;hY<hX.length;hY++){var hZ=hX[hY];var ia=ss.formatString('RelDateAnchored_{0}_{1}',hZ,hU);hV[hZ]=e[ia];ia=ss.formatString('RelDate_{0}_{1}',hZ,hU);hW[hZ]=e[ia]}er.$1[hU]=hV;er.$2[hU]=hW}};global.tab.LegacyRelativeDateQuickFilter=er;var es=function(e,L){this.$b=null;this.$9=null;this.$a=null;spiff.BaseViewModel.call(this);this.$b=e;this.$9=L;this.$9.add_propertyChanged(ss.mkdel(this,this.$2));this.$9.add_zoneResized(ss.mkdel(this,this.$3));this.$2(this.$9,new spiff.PropertyChangedEventArgs('newZoneParent'))};es.__typeName='tab.LegendBaseViewModel';global.tab.LegendBaseViewModel=es;var et=function(e,L,hT,hU,hV){this.selectedItems=null;this.brushedItems=null;this.isHighlightingEnabled=false;this.hasMarkNodeSelection=false;this.isOneway=false;this.selectedItems=e.slice(0);this.brushedItems=L.slice(0);this.isHighlightingEnabled=hT;this.hasMarkNodeSelection=hU;this.isOneway=hV};et.__typeName='tab.LegendSelectionState';et.$0=function(e,L){var hT=new Set;tab.SetUtilities.addAll(ss.Int32).call(null,hT,e);var hU=new Set;tab.SetUtilities.addAll(ss.Int32).call(null,hU,L);var hV=tab.SetUtilities.symmetricDifferenceWith(ss.Int32).call(null,hT,hU);return tab.SetUtilities.getValues(ss.Int32).call(null,hV)};global.tab.LegendSelectionState=et;var eu=function(e){this.legendContentArea=null;this.titleArea=null;spiff.Template.call(this,e);this.titleArea=this.getElementBySelector('.tabLegendTitle')};eu.__typeName='tab.LegendTemplate';global.tab.LegendTemplate=eu;var ev=function(e){this.startIndex=0;this.endIndex=0;this.selectedCount=0;this.highlightedCount=0;this.marksNeedingDraw=[];this.worldOffsets=null;this.boundingBox={x:0,y:0,w:0,h:0};this.sloppyBoundingBox={x:0,y:0,w:0,h:0};this.startIndex=e;this.endIndex=-1;this.selectedCount=0;this.highlightedCount=0};ev.__typeName='tab.LineAttribute';global.tab.LineAttribute=ev;var ew=function(e){this.$1=null;this.$1=[];this.$0(e)};ew.__typeName='tab.LineMarkDrawState';global.tab.LineMarkDrawState=ew;var ex=function(e,L,hT,hU){this.$1=0;this.$2=0;this.$4=0;this.$6=0;this.$5=0;this.$3=0;this.$0=null;this.$1=e;this.$2=L;this.$4=hT;this.$6=hU;this.$5=this.$1*this.$2;this.$3=Math.ceil(e/hT);this.$0={};var hV=0;var hW=hT*L;var hX=this.$5;for(var hY=0;hY<this.$3;++hY){if(hX<hW){hW=hX}var hZ=new tab.IntegerRange(hV,hV+hW-1);var ia=tab.IntegerRange.pixelToItemRange(hZ,L);var ib=new A(hY,false,{x:0,y:hV},ia,'item');this.$0[hY]=ib;hX-=hW;hV+=hW}};ex.__typeName='tab.ListGridModel';global.tab.ListGridModel=ex;var ey=function(e,L){hE.call(this,e,L)};ey.__typeName='tab.LocalRenderVizHitTester';global.tab.LocalRenderVizHitTester=ey;var ez=function(){};ez.__typeName='tab.LocalSearch';ez.searchQueryMatchesText=function(e,L){var hT=e.length;var hU;if(e.charCodeAt(0)===39&&e.charCodeAt(hT-1)===39){return ss.referenceEquals(e.substr(1,hT-2),L)}else if(e.charCodeAt(0)!==42&&e.charCodeAt(hT-1)===42){return L.indexOf(e.substr(0,hT-1))===0}else if(e.charCodeAt(0)===42&&e.charCodeAt(hT-1)!==42){hU=L.lastIndexOf(e.substr(1,hT-1));return hU>=0&&hU===L.length-(hT-1)}else if(e.charCodeAt(0)===42&&e.charCodeAt(hT-1)===42){return L.indexOf(e.substr(1,hT-2))>=0}else{return L.indexOf(e)>=0}};ez.findMatches=function(e,L,hT,hU){var hV=e.toLowerCase();var hW=[];var hX=L.table.tuples;if(ss.isNullOrUndefined(hU)){hU=function(ia,ib,ic){return ia}}for(var hY=0;hY<hX.length;hY++){var hZ=hT(hX[hY]);if(ez.searchQueryMatchesText(hV,hZ.toLowerCase())){hW.push(hU(hX[hY],hZ,hY))}}return hW};global.tab.LocalSearch=ez;var eA=function(e){this.logOnViewModel=null;this.$d=null;ss.makeGenericType(spiff.BaseView$1,[eB]).call(this,e,spiff.Template.fromHtml("<div class='tabLogon'>"));this.logOnViewModel=e;var L=$('<div>');var hT=spiff.StyledTextButton.createActionButton(ss.mkdel(this,this.$b),tab.Strings.LogOnButton,'tabLogOnDialogButton',2,1);L.append(hT.element);this.element.append(L);this.disposables.add$1(hT);this.logOnViewModel.add_shown(ss.mkdel(this,this.$c));this.logOnViewModel.add_hidden(ss.mkdel(this,this.$9));this.$d=new spiff.ModalDialog.$ctor1(' ',this.element);this.$d.get_dialogElement().addClass('tabLogonDialog');this.$d.add_closed(ss.mkdel(this,function(){this.logOnViewModel.cancel()}));this.disposables.add$1(this.$d);eA.$0=ss.mkdel(this,this.$a)};eA.__typeName='tab.LogOnView';eA.fireLogOnComplete=function(){if(ss.isValue(eA.$0)){eA.$0()}};global.tab.LogOnView=eA;var eB=function(){this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;spiff.BaseViewModel.call(this)};eB.__typeName='tab.LogOnViewModel';eB.logOnAndTransitionSession=function(e){var L=new eB;L.showLogOn();var hT=function(){L.dispose();tab.SaveServerCommands.transitionSessionAfterLogon(function(){tabBootstrap.ViewerBootstrap.get_instance().disableClearSessionOnBrowserUnload();e.removeHash();tab.WindowHelper.setLocationHref(window.self,e.get_absoluteUri())})};L.add_logOnCompleted(hT);var hU=function(){L.dispose()};L.add_logOnCanceled(hU);L.disposables.add$1(new tab.CallOnDispose(function(){L.remove_logOnCompleted(hT);L.remove_logOnCanceled(hU)}))};global.tab.LogOnViewModel=eB;var eC=function(){this.attributionBackground=null;this.attributionLink=null;spiff.Template.call(this,$(eC.$0));this.attributionBackground=this.getElementBySelector('.tabMapAttributionBackground');this.attributionLink=this.getElementBySelector('.tabMapAttributionLink')};eC.__typeName='tab.MapAttributionTemplate';global.tab.MapAttributionTemplate=eC;var eD=function(e,L){this.mapsSearchViewModel=null;this.mapsSearchViewTemplate=null;this.$h=null;this.mapsSearchView=null;this.gotoMyLocationButton=null;this.$k=null;this.$i=false;this.$j=true;this.queryDelayTimer=null;ss.makeGenericType(spiff.BaseView$1,[eE]).call(this,e,L.get_template());this.mapsSearchViewModel=e;this.mapsSearchViewTemplate=L;this.mapsSearchView=L.get_template().domRoot.find('.tabMapsSearchView');this.set_isVisible(false);this.$h=spiff.ObjectRegistry.newWidget(spiff.CompositeSearchWidget).call(null);this.mapsSearchViewTemplate.get_mapsSearchViewRootElement().append(this.$h.get_domRoot());this.$h.addClass('tabMapsSearchView-searchControlsContainer');this.get_compositeSearchWidget().setPlaceholderText(tab.Strings.MapsSearchViewInitialText);this.mapsSearchView.addClass('tabMapsSearchViewTranslucent');this.get_compositeSearchWidget().get_textInputView().add_enterKeyPressed(ss.mkdel(this,this.handleEnterKeyPress));this.get_compositeSearchWidget().get_searchButton().add_click(ss.mkdel(this,this.handleSearchButtonClick));this.get_compositeSearchWidget().add_listItemClicked(ss.mkdel(this,this.handleListItemClick));this.get_compositeSearchWidget().add_inputTextChanged(ss.mkdel(this,this.$a));this.mapsSearchViewModel.add_receivedNewSuggestions(ss.mkdel(this,this.showNewSuggestions));this.mapsSearchViewModel.add_updateTextInputValue(ss.mkdel(this,this.updateSearchTextValue));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_compositeSearchWidget().get_textInputView().remove_enterKeyPressed(ss.mkdel(this,this.handleEnterKeyPress));this.get_compositeSearchWidget().get_searchButton().remove_click(ss.mkdel(this,this.handleSearchButtonClick));this.get_compositeSearchWidget().remove_listItemClicked(ss.mkdel(this,this.handleListItemClick));this.get_compositeSearchWidget().remove_inputTextChanged(ss.mkdel(this,this.$a));this.mapsSearchViewModel.remove_receivedNewSuggestions(ss.mkdel(this,this.showNewSuggestions));this.mapsSearchViewModel.remove_updateTextInputValue(ss.mkdel(this,this.updateSearchTextValue));this.$e()})));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'focus',ss.mkdel(this,this.$b)));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'focusout',ss.mkdel(this,this.$c)));if(tab.BrowserSupport.get_isIE()&&tab.BrowserSupport.get_browserVersion()<9){this.get_compositeSearchWidget().get_textInputView().get_inputElement().css('line-height','22px')}if(this.get_gotoMyLocationButtonEnabled()){this.gotoMyLocationButton=new dl(this.get_viewModel().get_visualID());this.gotoMyLocationButton.addClass('tabSuppressVizTooltipsAndOverlays');this.gotoMyLocationButton.addToDom(this.element)}};eD.__typeName='tab.MapsSearchView';eD.newMapsSearchViewTemplate=function(){return new t};global.tab.MapsSearchView=eD;var eE=function(e){this.$2=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;spiff.BaseViewModel.call(this);this.$2=e};eE.__typeName='tab.MapsSearchViewModel';global.tab.MapsSearchViewModel=eE;var eF=function(e,L){bn.call(this,e,L)};eF.__typeName='tab.MarksRenderer';eF.$j=function(e,L){var hT=(e.hasPixelGeometry?1:e.c['size'].gv(L));return bn.bBoxMultipolygon(e.hasPixelGeometry,e.c['x'].gv(L),e.c['y'].gv(L),hT,7,e.getMarkGeometry(e.c['geometry'].gv(L)))};eF.$v=function(e,L,hT,hU){var hV;var hW=e.getMarkGeometry(e.c['geometry'].gv(hU));if(ss.isNullOrUndefined(hW)){hV={x:L,y:hT};var hX={x:e.c['x'].gv(hU),y:e.c['y'].gv(hU)};return dk.isPointInCircle(hV,{center:hX,radius:3.5})}if(!e.hasPixelGeometry){var hY=e.c['size'].gv(hU);if(hY!==0){var hZ=e.c['x'].gv(hU);var ia=e.c['y'].gv(hU);L=(L-hZ)/hY;hT=(hT-ia)/hY}}hV={x:L,y:hT};switch(hW.TDA){case'multipolygon':{return dk.isPointInMultipolygon(hW.Zmn,hV)}case'multipoint':{return dk.isPointInMultipoint(hW.gvB,hV,3.5)}default:{return false}}};eF.$x=function(e,L,hT){var hU=e.getMarkGeometry(e.c['geometry'].gv(hT));if(ss.isNullOrUndefined(hU)){return true}switch(hU.TDA){case'multipolygon':{return dk.multipolygonIntersectsDoubleRect(hU.Zmn,L)}case'multipoint':{return dk.multipointIntersectsDoubleRect(hU.gvB,L,3.5)}default:{return false}}};eF.$w=function(e,L,hT,hU){var hV=e.getMarkGeometry(e.c['geometry'].gv(hT));if(ss.isNullOrUndefined(hV)){return dk.polygonIntersectsRect(L,eF.$j(e,hT))}switch(hV.TDA){case'multipolygon':{return dk.multipolygonIntersectsPolygon(hV.Zmn,L,hU)}case'multipoint':{return dk.multipointIntersectsPolygon(hV.gvB,L,3.5)}default:{return false}}};eF.$u=function(e,L,hT,hU){{}var hV=e.getMarkGeometry(e.c['geometry'].gv(hT));if(ss.isNullOrUndefined(hV)){return dk.circleIntersectsRect(L,eF.$j(e,hT))}switch(hV.TDA){case'multipolygon':{return dk.multipolygonIntersectsCircle(hV.Zmn,L)}case'multipoint':{return dk.multipointIntersectsCircle(hV.gvB,L,3.5)}default:{return false}}};eF.$0=function(e,L){var hT=e.c['l_neighbor'].gv(L);var hU=e.c['r_neighbor'].gv(L);var hV={x:0,y:0,w:0,h:0};if(hT!==-1){var hW=tab.RectXYUtil.rectXYFromCorners$1(e.c['x1'].gv(L),e.c['y1'].gv(L),(e.c['x_next'].gv(hT)+e.c['x_prev'].gv(L))/2,(e.c['y_next'].gv(hT)+e.c['y_prev'].gv(L))/2);tab.RectXYUtil.unionInPlace(hV,hW);var hX=tab.RectXYUtil.rectXYFromCorners$1((e.c['x1'].gv(hT)+e.c['x1'].gv(L))/2,(e.c['y1'].gv(hT)+e.c['y1'].gv(L))/2,e.c['x_prev'].gv(L),e.c['y_prev'].gv(L));tab.RectXYUtil.unionInPlace(hV,hX);tab.RectXYUtil.outsetRectInPlace(hV,10,10)}if(hU!==-1){var hY=tab.RectXYUtil.rectXYFromCorners$1(e.c['x1'].gv(L),e.c['y1'].gv(L),(e.c['x_prev'].gv(hU)+e.c['x_next'].gv(L))/2,(e.c['y_prev'].gv(hU)+e.c['y_next'].gv(L))/2);tab.RectXYUtil.unionInPlace(hV,hY);var hZ=tab.RectXYUtil.rectXYFromCorners$1((e.c['x1'].gv(hU)+e.c['x1'].gv(L))/2,(e.c['y1'].gv(hU)+e.c['y1'].gv(L))/2,e.c['x_next'].gv(L),e.c['y_next'].gv(L));tab.RectXYUtil.unionInPlace(hV,hZ);tab.RectXYUtil.outsetRectInPlace(hV,10,10)}if(hT===-1&&hU===-1){var ia=tab.RectXYUtil.rectXYFromCorners$1(e.c['x1'].gv(L),e.c['y1'].gv(L),e.c['x'].gv(L),e.c['y'].gv(L));{var ib=20-ia.w;var ic=20-ia.h;if(ib>0||ic>0){ia=tab.RectXYUtil.outsetRect(ia,Math.max(0,Math.ceil(ib/2)),Math.max(0,Math.ceil(ic/2)))}}tab.RectXYUtil.unionInPlace(hV,ia)}return hV};eF.$2=function(e,L,hT,hU){var hV=e.c['l_neighbor'].gv(hU);var hW=e.c['r_neighbor'].gv(hU);if(hV!==-1){var hX=new Array(8);hX[0]=e.c['x1'].gv(hU);hX[1]=e.c['y1'].gv(hU);hX[2]=(e.c['x1'].gv(hV)+e.c['x1'].gv(hU))/2;hX[3]=(e.c['y1'].gv(hV)+e.c['y1'].gv(hU))/2;hX[4]=(e.c['x_next'].gv(hV)+e.c['x_prev'].gv(hU))/2;hX[5]=(e.c['y_next'].gv(hV)+e.c['y_prev'].gv(hU))/2;hX[6]=e.c['x_prev'].gv(hU);hX[7]=e.c['y_prev'].gv(hU);if(dk.isPointInPoly(hX,{x:L,y:hT},0)){return true}}if(hW!==-1){var hY=new Array(8);hY[0]=e.c['x1'].gv(hU);hY[1]=e.c['y1'].gv(hU);hY[2]=(e.c['x1'].gv(hW)+e.c['x1'].gv(hU))/2;hY[3]=(e.c['y1'].gv(hW)+e.c['y1'].gv(hU))/2;hY[4]=(e.c['x_prev'].gv(hW)+e.c['x_next'].gv(hU))/2;hY[5]=(e.c['y_prev'].gv(hW)+e.c['y_next'].gv(hU))/2;hY[6]=e.c['x_next'].gv(hU);hY[7]=e.c['y_next'].gv(hU);if(dk.isPointInPoly(hY,{x:L,y:hT},0)){return true}}if(hV===-1&&hW===-1){return true}return false};eF.$5=function(e,L,hT,hU){var hV=e.c['l_neighbor'].gv(hU);var hW=e.c['r_neighbor'].gv(hU);if(hV!==-1){var hX=new Array(8);hX[0]=e.c['x1'].gv(hU);hX[1]=e.c['y1'].gv(hU);hX[2]=(e.c['x1'].gv(hV)+e.c['x1'].gv(hU))/2;hX[3]=(e.c['y1'].gv(hV)+e.c['y1'].gv(hU))/2;hX[4]=(e.c['x_next'].gv(hV)+e.c['x_prev'].gv(hU))/2;hX[5]=(e.c['y_next'].gv(hV)+e.c['y_prev'].gv(hU))/2;hX[6]=e.c['x_prev'].gv(hU);hX[7]=e.c['y_prev'].gv(hU);if(dk.isPointInPoly(hX,{x:L,y:hT},10)){return true}}if(hW!==-1){var hY=new Array(8);hY[0]=e.c['x1'].gv(hU);hY[1]=e.c['y1'].gv(hU);hY[2]=(e.c['x1'].gv(hW)+e.c['x1'].gv(hU))/2;hY[3]=(e.c['y1'].gv(hW)+e.c['y1'].gv(hU))/2;hY[4]=(e.c['x_prev'].gv(hW)+e.c['x_next'].gv(hU))/2;hY[5]=(e.c['y_prev'].gv(hW)+e.c['y_next'].gv(hU))/2;hY[6]=e.c['x_next'].gv(hU);hY[7]=e.c['y_next'].gv(hU);if(dk.isPointInPoly(hY,{x:L,y:hT},10)){return true}}if(hV===-1&&hW===-1){return true}return false};eF.$4=function(e,L){return{w:0,h:0}};eF.$3=function(e,L,hT,hU){var hV=e.c['l_neighbor'].gv(hU);var hW=e.c['r_neighbor'].gv(hU);var hX=e.c['x1'].gv(hU);var hY=e.c['y1'].gv(hU);var hZ=e.c['x_prev'].gv(hU);var ia=e.c['y_prev'].gv(hU);var ib=e.c['x_next'].gv(hU);var ic=e.c['y_next'].gv(hU);var id;{var ie=L-hX;var ig=hT-hY;var ih=ie*ie+ig*ig;id=ih}if(hV!==-1){var ii=(e.c['x1'].gv(hV)+hX)/2;var ij=(e.c['y1'].gv(hV)+hY)/2;var ik=(e.c['x_next'].gv(hV)+hX)/2;var il=(e.c['y_next'].gv(hV)+hY)/2;var im={x:(hX+hZ)/2,y:(hY+ia)/2};var io={x:(ii+ik)/2,y:(ij+il)/2};var ip=dk.getSquaredDistanceToLineSegment({x:L,y:hT},im,io);id=Math.min(id,ip)}else{var iq={x:hX,y:hY};var ir={x:ib,y:ic};var it=dk.getSquaredDistanceToLineSegment({x:L,y:hT},iq,ir);id=Math.min(id,it)}if(hW!==-1){var iu=(e.c['x1'].gv(hW)+hX)/2;var iv=(e.c['y1'].gv(hW)+hY)/2;var iw=(e.c['x_prev'].gv(hW)+hX)/2;var ix=(e.c['y_prev'].gv(hW)+hY)/2;var iy={x:(hX+ib)/2,y:(hY+ic)/2};var iz={x:(iu+iw)/2,y:(iv+ix)/2};var iA=dk.getSquaredDistanceToLineSegment({x:L,y:hT},iy,iz);id=Math.min(id,iA)}else if(hV!==-1){var iB={x:hX,y:hY};var iC={x:hZ,y:ia};var iD=dk.getSquaredDistanceToLineSegment({x:L,y:hT},iB,iC);id=Math.min(id,iD)}return id};eF.$7=function(e,L,hT){{if(dk.circleIntersectsRect({center:{x:e.c['x'].gv(hT),y:e.c['y'].gv(hT)},radius:5/2},L)){return true}}{if(dk.circleIntersectsRect({center:{x:e.c['x1'].gv(hT),y:e.c['y1'].gv(hT)},radius:5/2},L)){return true}}return false};eF.$1=function(e,L,hT,hU,hV){{}{if(dk.circleIntersectsCircle(L,{center:{x:e.c['x'].gv(hT),y:e.c['y'].gv(hT)},radius:5/2})){return true}}{if(dk.circleIntersectsCircle(L,{center:{x:e.c['x1'].gv(hT),y:e.c['y1'].gv(hT)},radius:5/2})){return true}}return false};eF.$6=function(e,L,hT,hU){{if(dk.polygonIntersectsCircle(L,{center:{x:e.c['x'].gv(hT),y:e.c['y'].gv(hT)},radius:5/2})){return true}}{if(dk.polygonIntersectsCircle(L,{center:{x:e.c['x1'].gv(hT),y:e.c['y1'].gv(hT)},radius:5/2})){return true}}return false};eF.$i=function(e,L){var hT={x:0,y:0,w:0,h:0};{var hU=e.getMarkLabelProperty('x',L);var hV=e.getMarkLabelProperty('y',L);var hW=e.getMarkLabelProperty('width',L);var hX=-e.getMarkLabelProperty('height',L);hU+=0;hV+=0;if(hX<0){hV+=hX;hX=Math.abs(hX)}tab.RectXYUtil.set$1(hT,Math.floor(hU),Math.floor(hV),Math.floor(hW),Math.floor(hX))}return hT};eF.$z=function(e,L,hT,hU){var hV=e.c['size'].gv(hU)/2;var hW=e.c['theta'].gv(hU);var hX=e.c['theta1'].gv(hU);if(hW>hX){var hY=hW;hW=hX;hX=hY}var hZ={x:e.c['x'].gv(hU),y:e.c['y'].gv(hU)};var ia={center:hZ,radius:hV};if(hX-hW>=1){return dk.isPointInCircle({x:L,y:hT},ia)}hW=bn.toCanvasAngle(hW);hX=bn.toCanvasAngle(hX);hW=dk.normalizeAngle(hW);hX=dk.normalizeAngle(hX);return dk.isPointInWedge({x:L,y:hT},ia,hW,hX)};eF.$B=function(e,L,hT){var hU=e.c['size'].gv(hT)/2;var hV=e.c['theta'].gv(hT);var hW=e.c['theta1'].gv(hT);if(hV>hW){var hX=hV;hV=hW;hW=hX}var hY={x:e.c['x'].gv(hT),y:e.c['y'].gv(hT)};var hZ={center:hY,radius:hU};if(hW-hV>=1){return dk.circleIntersectsRect(hZ,L)}hV=bn.toCanvasAngle(hV);hW=bn.toCanvasAngle(hW);hV=dk.normalizeAngle(hV);hW=dk.normalizeAngle(hW);return dk.rectIntersectsWedge(L,{center:hY,radius:hU},hV,hW)};eF.$A=function(e,L,hT){var hU=e.c['size'].gv(hT)/2;var hV=e.c['theta'].gv(hT);var hW=e.c['theta1'].gv(hT);if(hV>hW){var hX=hV;hV=hW;hW=hX}var hY={x:e.c['x'].gv(hT),y:e.c['y'].gv(hT)};var hZ={center:hY,radius:hU};if(hW-hV>=1){return dk.polygonIntersectsCircle(L,hZ)}hV=bn.toCanvasAngle(hV);hW=bn.toCanvasAngle(hW);hV=dk.normalizeAngle(hV);hW=dk.normalizeAngle(hW);return dk.polygonIntersectsWedge(L,{center:hY,radius:hU},hV,hW)};eF.$y=function(e,L,hT,hU){if(hU){{return dk.isPointInCircle({x:e.c['x'].gv(hT),y:e.c['y'].gv(hT)},L)}}var hV=e.c['size'].gv(hT)/2;var hW=e.c['theta'].gv(hT);var hX=e.c['theta1'].gv(hT);if(hW>hX){var hY=hW;hW=hX;hX=hY}var hZ={x:e.c['x'].gv(hT),y:e.c['y'].gv(hT)};var ia={center:hZ,radius:hV};if(hX-hW>=1){return dk.circleIntersectsCircle(ia,L)}hW=bn.toCanvasAngle(hW);hX=bn.toCanvasAngle(hX);hW=dk.normalizeAngle(hW);hX=dk.normalizeAngle(hX);return dk.circleIntersectsWedge(L,{center:hZ,radius:hV},hW,hX)};eF.$k=function(e,L){var hT={x:0,y:0,w:0,h:0};var hU=e.c['size'].gv(L)/2;{tab.RectXYUtil.unionInPlace(hT,bn.boundWedge(e.c['x'].gv(L),e.c['y'].gv(L),hU,e.c['theta'].gv(L),e.c['theta1'].gv(L)))}if(e.c['draw_border'].gv(L)){tab.RectXYUtil.unionInPlace(hT,bn.boundWedge(e.c['x'].gv(L),e.c['y'].gv(L),hU,e.c['theta'].gv(L),e.c['theta1'].gv(L)))}return hT};eF.$1G=function(e,L){var hT={x:0,y:0,w:0,h:0};if(!(e.clipCase!==0&&e.useCellClipForSelection)){var hU=e.c['x'].gv(L);var hV=e.c['y'].gv(L);var hW=e.c['width'].gv(L);var hX=-e.c['height'].gv(L);hU+=-e.c['width'].gv(L)/2;hV+=e.c['height'].gv(L)/2;if(hX<0){hV+=hX;hX=Math.abs(hX)}tab.RectXYUtil.set$1(hT,Math.floor(hU),Math.floor(hV),Math.floor(hW),Math.floor(hX))}if(e.clipCase!==0&&e.useCellClipForSelection){var hY=e.c['x'].gv(L);var hZ=e.c['y'].gv(L);var ia=e.c['clip_width'].gv(L);var ib=-e.c['clip_height'].gv(L);hY+=-e.c['clip_width'].gv(L)/2;hZ+=e.c['clip_height'].gv(L)/2;if(ib<0){hZ+=ib;ib=Math.abs(ib)}tab.RectXYUtil.set$1(hT,Math.floor(hY),Math.floor(hZ),Math.floor(ia),Math.floor(ib))}return hT};eF.$1I=function(e,L,hT,hU){if(!(e.clipCase!==0&&e.useCellClipForSelection)){return bn.isPointInExpandedRectHelperF(e.c['y'].gv(hU)+e.c['height'].gv(hU)/2,e.c['x'].gv(hU)+-e.c['width'].gv(hU)/2,-e.c['height'].gv(hU),e.c['width'].gv(hU),0,0,e.get_minBarHeight(),e.get_minBarWidth(),L,hT)}if(e.clipCase!==0&&e.useCellClipForSelection){return bn.isPointInExpandedRectHelperF(e.c['y'].gv(hU)+e.c['clip_height'].gv(hU)/2,e.c['x'].gv(hU)+-e.c['clip_width'].gv(hU)/2,-e.c['clip_height'].gv(hU),e.c['clip_width'].gv(hU),0,0,e.get_minBarHeight(),e.get_minBarWidth(),L,hT)}return false};eF.$1L=function(e,L,hT,hU){if(!(e.clipCase!==0&&e.useCellClipForSelection)){return bn.isPointInExpandedRectHelperF(e.c['y'].gv(hU)+(e.c['height'].gv(hU)/2+10),e.c['x'].gv(hU)+(-e.c['width'].gv(hU)/2-10),-e.c['height'].gv(hU)-20,e.c['width'].gv(hU)+20,0,0,e.get_minBarHeight(),e.get_minBarWidth(),L,hT)}if(e.clipCase!==0&&e.useCellClipForSelection){return bn.isPointInExpandedRectHelperF(e.c['y'].gv(hU)+e.c['clip_height'].gv(hU)/2,e.c['x'].gv(hU)+-e.c['clip_width'].gv(hU)/2,-e.c['clip_height'].gv(hU),e.c['clip_width'].gv(hU),0,0,e.get_minBarHeight(),e.get_minBarWidth(),L,hT)}return false};eF.$1K=function(e,L){var hT=null;if(!(e.clipCase!==0&&e.useCellClipForSelection)){hT={w:10,h:10}}if(e.clipCase!==0&&e.useCellClipForSelection){hT={w:e.c['clip_width'].gv(L)/2,h:e.c['clip_height'].gv(L)/2}}return hT};eF.$1J=function(e,L,hT,hU){var hV=e.getMarkBounds(hU);return dk.getSquaredDistanceToNearestSide(hV,{x:L,y:hT})};eF.$1N=function(e,L,hT){return true};eF.$1H=function(e,L,hT,hU,hV){if(hV){{return dk.isPointInCircle({x:e.c['x'].gv(hT),y:e.c['y'].gv(hT)},L)}}return dk.circleIntersectsRect(L,hU)};eF.$1M=function(e,L,hT,hU){return dk.polygonIntersectsRect(L,hU)};eF.$8=function(e,L){var hT={x:0,y:0,w:0,h:0};var hU=ss.Int32.trunc(e.c['size'].gv(L)+0.5)/2;if(e.scaleMarksInX&&e.scaleMarksInY){var hV=e.c['y'].gv(L);var hW=e.c['y1'].gv(L);var hX=e.c['x'].gv(L);var hY=e.c['x1'].gv(L);eF.$g(e,hT,hV,hX,hW,hY)}if(!e.scaleMarksInX&&e.scaleMarksInY){var hZ=e.c['y'].gv(L);var ia=e.c['y1'].gv(L);var ib=e.c['x'].gv(L)-hU;var ic=e.c['x'].gv(L)+hU;eF.$g(e,hT,hZ,ib,ia,ic)}if(e.scaleMarksInX&&!e.scaleMarksInY){var id=e.c['y'].gv(L)-hU;var ie=e.c['y'].gv(L)+hU;var ig=e.c['x'].gv(L);var ih=e.c['x1'].gv(L);eF.$g(e,hT,id,ig,ie,ih)}if(!e.scaleMarksInX&&!e.scaleMarksInY){var ii=e.c['y'].gv(L)-hU;var ij=e.c['y'].gv(L)+hU;var ik=e.c['x'].gv(L)-hU;var il=e.c['x'].gv(L)+hU;eF.$g(e,hT,ii,ik,ij,il)}return hT};eF.$a=function(e,L,hT,hU){var hV=e.c['size'].gv(hU)/2;var hW=e.c['size'].gv(hU)/2;if(e.scaleMarksInX&&e.scaleMarksInY){var hX=Math.floor(Math.min(e.c['y'].gv(hU),e.c['y1'].gv(hU)));var hY=Math.ceil(Math.max(e.c['y'].gv(hU),e.c['y1'].gv(hU)));var hZ=Math.floor(Math.min(e.c['x'].gv(hU),e.c['x1'].gv(hU)));var ia=Math.ceil(Math.max(e.c['x'].gv(hU),e.c['x1'].gv(hU)));var ib={x:hZ,y:hX,w:ia-hZ,h:hY-hX};tab.RectXYUtil.outsetRectInPlace(ib,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(ib,L,hT)){return true}}if(!e.scaleMarksInX&&e.scaleMarksInY){var ic=Math.floor(Math.min(e.c['y'].gv(hU),e.c['y1'].gv(hU)));var id=Math.ceil(Math.max(e.c['y'].gv(hU),e.c['y1'].gv(hU)));var ie=Math.floor(Math.min(e.c['x'].gv(hU)-hV,e.c['x'].gv(hU)+hV));var ig=Math.ceil(Math.max(e.c['x'].gv(hU)-hV,e.c['x'].gv(hU)+hV));var ih={x:ie,y:ic,w:ig-ie,h:id-ic};tab.RectXYUtil.outsetRectInPlace(ih,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(ih,L,hT)){return true}}if(e.scaleMarksInX&&!e.scaleMarksInY){var ii=Math.floor(Math.min(e.c['y'].gv(hU)-hW,e.c['y'].gv(hU)+hW));var ij=Math.ceil(Math.max(e.c['y'].gv(hU)-hW,e.c['y'].gv(hU)+hW));var ik=Math.floor(Math.min(e.c['x'].gv(hU),e.c['x1'].gv(hU)));var il=Math.ceil(Math.max(e.c['x'].gv(hU),e.c['x1'].gv(hU)));var im={x:ik,y:ii,w:il-ik,h:ij-ii};tab.RectXYUtil.outsetRectInPlace(im,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(im,L,hT)){return true}}if(!e.scaleMarksInX&&!e.scaleMarksInY){var io=Math.floor(Math.min(e.c['y'].gv(hU)-hW,e.c['y'].gv(hU)+hW));var ip=Math.ceil(Math.max(e.c['y'].gv(hU)-hW,e.c['y'].gv(hU)+hW));var iq=Math.floor(Math.min(e.c['x'].gv(hU)-hV,e.c['x'].gv(hU)+hV));var ir=Math.ceil(Math.max(e.c['x'].gv(hU)-hV,e.c['x'].gv(hU)+hV));var it={x:iq,y:io,w:ir-iq,h:ip-io};tab.RectXYUtil.outsetRectInPlace(it,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(it,L,hT)){return true}}return false};eF.$d=function(e,L,hT,hU){var hV=e.c['clip_width'].gv(hU)/2;var hW=e.c['clip_height'].gv(hU)/2;var hX=e.c['size'].gv(hU)/2;var hY=e.c['size'].gv(hU)/2;if(e.scaleMarksInX&&e.scaleMarksInY&&!e.paneHasCellsX&&!e.paneHasCellsY){var hZ=Math.floor(Math.min(e.c['y'].gv(hU),e.c['y1'].gv(hU)));var ia=Math.ceil(Math.max(e.c['y'].gv(hU),e.c['y1'].gv(hU)));var ib=Math.floor(Math.min(e.c['x'].gv(hU),e.c['x1'].gv(hU)));var ic=Math.ceil(Math.max(e.c['x'].gv(hU),e.c['x1'].gv(hU)));var id={x:ib,y:hZ,w:ic-ib,h:ia-hZ};tab.RectXYUtil.outsetRectInPlace(id,Math.ceil(10),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(id,L,hT)){return true}}if(!e.scaleMarksInX&&e.scaleMarksInY&&!e.paneHasCellsX&&!e.paneHasCellsY){var ie=Math.floor(Math.min(e.c['y'].gv(hU),e.c['y1'].gv(hU)));var ig=Math.ceil(Math.max(e.c['y'].gv(hU),e.c['y1'].gv(hU)));var ih=Math.floor(Math.min(e.c['x'].gv(hU)-hX,e.c['x'].gv(hU)+hX));var ii=Math.ceil(Math.max(e.c['x'].gv(hU)-hX,e.c['x'].gv(hU)+hX));var ij={x:ih,y:ie,w:ii-ih,h:ig-ie};tab.RectXYUtil.outsetRectInPlace(ij,Math.ceil(10),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(ij,L,hT)){return true}}if(e.scaleMarksInX&&!e.scaleMarksInY&&!e.paneHasCellsX&&!e.paneHasCellsY){var ik=Math.floor(Math.min(e.c['y'].gv(hU)-hY,e.c['y'].gv(hU)+hY));var il=Math.ceil(Math.max(e.c['y'].gv(hU)-hY,e.c['y'].gv(hU)+hY));var im=Math.floor(Math.min(e.c['x'].gv(hU),e.c['x1'].gv(hU)));var io=Math.ceil(Math.max(e.c['x'].gv(hU),e.c['x1'].gv(hU)));var ip={x:im,y:ik,w:io-im,h:il-ik};tab.RectXYUtil.outsetRectInPlace(ip,Math.ceil(10),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(ip,L,hT)){return true}}if(!e.scaleMarksInX&&e.scaleMarksInY&&e.paneHasCellsX&&!e.paneHasCellsY){var iq=Math.floor(Math.min(e.c['y'].gv(hU),e.c['y1'].gv(hU)));var ir=Math.ceil(Math.max(e.c['y'].gv(hU),e.c['y1'].gv(hU)));var it=Math.floor(Math.min(e.c['x'].gv(hU)-hV,e.c['x'].gv(hU)+hV));var iu=Math.ceil(Math.max(e.c['x'].gv(hU)-hV,e.c['x'].gv(hU)+hV));var iv={x:it,y:iq,w:iu-it,h:ir-iq};tab.RectXYUtil.outsetRectInPlace(iv,Math.ceil(0),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(iv,L,hT)){return true}}if(e.scaleMarksInX&&!e.scaleMarksInY&&!e.paneHasCellsX&&e.paneHasCellsY){var iw=Math.floor(Math.min(e.c['y'].gv(hU)-hW,e.c['y'].gv(hU)+hW));var ix=Math.ceil(Math.max(e.c['y'].gv(hU)-hW,e.c['y'].gv(hU)+hW));var iy=Math.floor(Math.min(e.c['x'].gv(hU),e.c['x1'].gv(hU)));var iz=Math.ceil(Math.max(e.c['x'].gv(hU),e.c['x1'].gv(hU)));var iA={x:iy,y:iw,w:iz-iy,h:ix-iw};tab.RectXYUtil.outsetRectInPlace(iA,Math.ceil(10),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(iA,L,hT)){return true}}if(!e.scaleMarksInX&&!e.scaleMarksInY&&!e.paneHasCellsX&&!e.paneHasCellsY){var iB=Math.floor(Math.min(e.c['y'].gv(hU)-hY,e.c['y'].gv(hU)+hY));var iC=Math.ceil(Math.max(e.c['y'].gv(hU)-hY,e.c['y'].gv(hU)+hY));var iD=Math.floor(Math.min(e.c['x'].gv(hU)-hX,e.c['x'].gv(hU)+hX));var iE=Math.ceil(Math.max(e.c['x'].gv(hU)-hX,e.c['x'].gv(hU)+hX));var iF={x:iD,y:iB,w:iE-iD,h:iC-iB};tab.RectXYUtil.outsetRectInPlace(iF,Math.ceil(10),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(iF,L,hT)){return true}}if(!e.scaleMarksInX&&!e.scaleMarksInY&&e.paneHasCellsX&&!e.paneHasCellsY){var iG=Math.floor(Math.min(e.c['y'].gv(hU)-hY,e.c['y'].gv(hU)+hY));var iH=Math.ceil(Math.max(e.c['y'].gv(hU)-hY,e.c['y'].gv(hU)+hY));var iI=Math.floor(Math.min(e.c['x'].gv(hU)-hV,e.c['x'].gv(hU)+hV));var iJ=Math.ceil(Math.max(e.c['x'].gv(hU)-hV,e.c['x'].gv(hU)+hV));var iK={x:iI,y:iG,w:iJ-iI,h:iH-iG};tab.RectXYUtil.outsetRectInPlace(iK,Math.ceil(0),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(iK,L,hT)){return true}}if(!e.scaleMarksInX&&!e.scaleMarksInY&&!e.paneHasCellsX&&e.paneHasCellsY){var iL=Math.floor(Math.min(e.c['y'].gv(hU)-hW,e.c['y'].gv(hU)+hW));var iM=Math.ceil(Math.max(e.c['y'].gv(hU)-hW,e.c['y'].gv(hU)+hW));var iN=Math.floor(Math.min(e.c['x'].gv(hU)-hX,e.c['x'].gv(hU)+hX));var iO=Math.ceil(Math.max(e.c['x'].gv(hU)-hX,e.c['x'].gv(hU)+hX));var iP={x:iN,y:iL,w:iO-iN,h:iM-iL};tab.RectXYUtil.outsetRectInPlace(iP,Math.ceil(10),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(iP,L,hT)){return true}}if(!e.scaleMarksInX&&!e.scaleMarksInY&&e.paneHasCellsX&&e.paneHasCellsY){var iQ=Math.floor(Math.min(e.c['y'].gv(hU)-hW,e.c['y'].gv(hU)+hW));var iR=Math.ceil(Math.max(e.c['y'].gv(hU)-hW,e.c['y'].gv(hU)+hW));var iS=Math.floor(Math.min(e.c['x'].gv(hU)-hV,e.c['x'].gv(hU)+hV));var iT=Math.ceil(Math.max(e.c['x'].gv(hU)-hV,e.c['x'].gv(hU)+hV));var iU={x:iS,y:iQ,w:iT-iS,h:iR-iQ};tab.RectXYUtil.outsetRectInPlace(iU,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(iU,L,hT)){return true}}if(e.scaleMarksInX&&!e.scaleMarksInY&&e.paneHasCellsX&&e.paneHasCellsY){var iV=Math.floor(Math.min(e.c['y'].gv(hU)-hW,e.c['y'].gv(hU)+hW));var iW=Math.ceil(Math.max(e.c['y'].gv(hU)-hW,e.c['y'].gv(hU)+hW));var iX=Math.floor(Math.min(e.c['x'].gv(hU),e.c['x1'].gv(hU)));var iY=Math.ceil(Math.max(e.c['x'].gv(hU),e.c['x1'].gv(hU)));var iZ={x:iX,y:iV,w:iY-iX,h:iW-iV};tab.RectXYUtil.outsetRectInPlace(iZ,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(iZ,L,hT)){return true}}if(!e.scaleMarksInX&&e.scaleMarksInY&&e.paneHasCellsX&&e.paneHasCellsY){var ja=Math.floor(Math.min(e.c['y'].gv(hU),e.c['y1'].gv(hU)));var jb=Math.ceil(Math.max(e.c['y'].gv(hU),e.c['y1'].gv(hU)));var jc=Math.floor(Math.min(e.c['x'].gv(hU)-hV,e.c['x'].gv(hU)+hV));var jd=Math.ceil(Math.max(e.c['x'].gv(hU)-hV,e.c['x'].gv(hU)+hV));var je={x:jc,y:ja,w:jd-jc,h:jb-ja};tab.RectXYUtil.outsetRectInPlace(je,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(je,L,hT)){return true}}if(e.scaleMarksInX&&e.scaleMarksInY&&e.paneHasCellsX&&e.paneHasCellsY){var jf=Math.floor(Math.min(e.c['y'].gv(hU),e.c['y1'].gv(hU)));var jg=Math.ceil(Math.max(e.c['y'].gv(hU),e.c['y1'].gv(hU)));var jh=Math.floor(Math.min(e.c['x'].gv(hU),e.c['x1'].gv(hU)));var ji=Math.ceil(Math.max(e.c['x'].gv(hU),e.c['x1'].gv(hU)));var jj={x:jh,y:jf,w:ji-jh,h:jg-jf};tab.RectXYUtil.outsetRectInPlace(jj,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(jj,L,hT)){return true}}return false};eF.$c=function(e,L){var hT=null;if(e.scaleMarksInX&&e.scaleMarksInY&&!e.paneHasCellsX&&!e.paneHasCellsY){hT={w:10,h:10}}if(!e.scaleMarksInX&&e.scaleMarksInY&&!e.paneHasCellsX&&!e.paneHasCellsY){hT={w:5,h:10}}if(e.scaleMarksInX&&!e.scaleMarksInY&&!e.paneHasCellsX&&!e.paneHasCellsY){hT={w:10,h:5}}if(!e.scaleMarksInX&&e.scaleMarksInY&&e.paneHasCellsX&&!e.paneHasCellsY){hT={w:e.c['clip_width'].gv(L)/2,h:10}}if(e.scaleMarksInX&&!e.scaleMarksInY&&!e.paneHasCellsX&&e.paneHasCellsY){hT={w:10,h:e.c['clip_height'].gv(L)/2}}if(!e.scaleMarksInX&&!e.scaleMarksInY&&!e.paneHasCellsX&&!e.paneHasCellsY){hT={w:5,h:5}}if(!e.scaleMarksInX&&!e.scaleMarksInY&&!e.paneHasCellsX&&e.paneHasCellsY){hT={w:5,h:e.c['clip_height'].gv(L)}}if(!e.scaleMarksInX&&!e.scaleMarksInY&&e.paneHasCellsX&&!e.paneHasCellsY){hT={w:e.c['clip_width'].gv(L)/2,h:10}}if(!e.scaleMarksInX&&!e.scaleMarksInY&&e.paneHasCellsX&&e.paneHasCellsY){hT={w:e.c['clip_width'].gv(L)/2,h:e.c['clip_height'].gv(L)/2}}if(e.scaleMarksInX&&!e.scaleMarksInY&&e.paneHasCellsX&&e.paneHasCellsY){hT={w:e.c['clip_width'].gv(L)/2,h:e.c['clip_height'].gv(L)/2}}if(!e.scaleMarksInX&&e.scaleMarksInY&&e.paneHasCellsX&&e.paneHasCellsY){hT={w:e.c['clip_width'].gv(L)/2,h:e.c['clip_height'].gv(L)/2}}if(e.scaleMarksInX&&e.scaleMarksInY&&e.paneHasCellsX&&e.paneHasCellsY){hT={w:e.c['clip_width'].gv(L)/2,h:e.c['clip_height'].gv(L)/2}}return hT};eF.$b=function(e,L,hT,hU){var hV=e.getMarkBounds(hU);return dk.getSquaredDistanceToNearestSide(hV,{x:L,y:hT})};eF.$f=function(e,L,hT){return true};eF.$9=function(e,L,hT,hU,hV){if(hV&&(!e.scaleMarksInX&&!e.scaleMarksInY&&!e.paneHasCellsX&&!e.paneHasCellsY)){{return dk.isPointInCircle({x:e.c['x'].gv(hT),y:e.c['y'].gv(hT)},L)}}return dk.circleIntersectsRect(L,hU)};eF.$e=function(e,L,hT,hU){return dk.polygonIntersectsRect(L,hU)};eF.$m=function(e,L){var hT=e.c['l_neighbor'].gv(L);var hU=e.c['r_neighbor'].gv(L);var hV={x:0,y:0,w:0,h:0};{tab.RectXYUtil.encompassCircleInPlace(hV,e.c['x'].gv(L),e.c['y'].gv(L),(e.c['size'].gv(L)+20)/2)}if(hT!==-1){bn.boundLineEdgeInPlace(hV,(e.c['x'].gv(hT)+e.c['x'].gv(L))/2,(e.c['y'].gv(hT)+e.c['y'].gv(L))/2,(e.c['size'].gv(hT)+e.c['size'].gv(L))/2+20,e.c['x'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L)+20)}if(hU!==-1){bn.boundLineEdgeInPlace(hV,e.c['x'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L)+20,(e.c['x'].gv(L)+e.c['x'].gv(hU))/2,(e.c['y'].gv(L)+e.c['y'].gv(hU))/2,(e.c['size'].gv(L)+e.c['size'].gv(hU))/2+20)}return hV};eF.$o=function(e,L,hT,hU){var hV=e.c['l_neighbor'].gv(hU);var hW=e.c['r_neighbor'].gv(hU);{if(dk.isPointInCircle({x:L,y:hT},{center:{x:e.c['x'].gv(hU),y:e.c['y'].gv(hU)},radius:e.c['size'].gv(hU)/2})){return true}}if(hV!==-1){if(bn.lineEdgeContains(L,hT,(e.c['x'].gv(hV)+e.c['x'].gv(hU))/2,(e.c['y'].gv(hV)+e.c['y'].gv(hU))/2,(e.c['size'].gv(hV)+e.c['size'].gv(hU))/2,e.c['x'].gv(hU),e.c['y'].gv(hU),e.c['size'].gv(hU))){return true}}if(hW!==-1){if(bn.lineEdgeContains(L,hT,e.c['x'].gv(hU),e.c['y'].gv(hU),e.c['size'].gv(hU),(e.c['x'].gv(hU)+e.c['x'].gv(hW))/2,(e.c['y'].gv(hU)+e.c['y'].gv(hW))/2,(e.c['size'].gv(hU)+e.c['size'].gv(hW))/2)){return true}}return false};eF.$r=function(e,L,hT,hU){var hV=e.c['l_neighbor'].gv(hU);var hW=e.c['r_neighbor'].gv(hU);{if(dk.isPointInCircle({x:L,y:hT},{center:{x:e.c['x'].gv(hU),y:e.c['y'].gv(hU)},radius:(e.c['size'].gv(hU)+20)/2})){return true}}if(hV!==-1){if(bn.lineEdgeContains(L,hT,(e.c['x'].gv(hV)+e.c['x'].gv(hU))/2,(e.c['y'].gv(hV)+e.c['y'].gv(hU))/2,(e.c['size'].gv(hV)+e.c['size'].gv(hU))/2+20,e.c['x'].gv(hU),e.c['y'].gv(hU),e.c['size'].gv(hU)+20)){return true}}if(hW!==-1){if(bn.lineEdgeContains(L,hT,e.c['x'].gv(hU),e.c['y'].gv(hU),e.c['size'].gv(hU)+20,(e.c['x'].gv(hU)+e.c['x'].gv(hW))/2,(e.c['y'].gv(hU)+e.c['y'].gv(hW))/2,(e.c['size'].gv(hU)+e.c['size'].gv(hW))/2+20)){return true}}return false};eF.$q=function(e,L){return{w:0,h:0}};eF.$p=function(e,L,hT,hU){var hV=e.c['l_neighbor'].gv(hU);var hW=e.c['r_neighbor'].gv(hU);var hX=e.c['x1'].gv(hU);var hY=e.c['y1'].gv(hU);var hZ;{var ia=L-hX;var ib=hT-hY;var ic=ia*ia+ib*ib;hZ=ic}if(hV!==-1){var id={x:(e.c['x'].gv(hV)+hX)/2,y:(e.c['y'].gv(hV)+hY)/2};var ie={x:hX,y:hY};var ig=dk.getSquaredDistanceToLineSegment({x:L,y:hT},id,ie);hZ=Math.min(hZ,ig)}if(hW!==-1){var ih={x:hX,y:hY};var ii={x:(e.c['x'].gv(hW)+hX)/2,y:(e.c['y'].gv(hW)+hY)/2};var ij=dk.getSquaredDistanceToLineSegment({x:L,y:hT},ih,ii);hZ=Math.min(hZ,ij)}return hZ};eF.$t=function(e,L,hT){{if(dk.circleIntersectsRect({center:{x:e.c['x'].gv(hT),y:e.c['y'].gv(hT)},radius:e.c['size'].gv(hT)/2},L)){return true}}return false};eF.$n=function(e,L,hT,hU,hV){if(hV){{return dk.isPointInCircle({x:e.c['x'].gv(hT),y:e.c['y'].gv(hT)},L)}}{if(dk.circleIntersectsCircle(L,{center:{x:e.c['x'].gv(hT),y:e.c['y'].gv(hT)},radius:e.c['size'].gv(hT)/2})){return true}}return false};eF.$s=function(e,L,hT,hU){{if(dk.polygonIntersectsCircle(L,{center:{x:e.c['x'].gv(hT),y:e.c['y'].gv(hT)},radius:e.c['size'].gv(hT)/2})){return true}}return false};eF.$1y=function(e,L){var hT=e.c['shape_id'].gv(L);switch(hT){case'shapeIDCircle':{var hU={x:0,y:0,w:0,h:0};{var hV=Math.round(e.c['x'].gv(L));var hW=Math.round(e.c['y'].gv(L));var hX=Math.ceil(e.c['size'].gv(L)*0.958333333333333/2);var hY=2*hX;tab.RectXYUtil.unionInPlace$1(hU,hV-hX,hW-hX,hY,hY)}return hU}case'shapeIDFilledCircle':{var hZ={x:0,y:0,w:0,h:0};{var ia=Math.round(e.c['x'].gv(L));var ib=Math.round(e.c['y'].gv(L));var ic=Math.ceil(e.c['size'].gv(L)*0.979166666666667/2);var id=2*ic;tab.RectXYUtil.unionInPlace$1(hZ,ia-ic,ib-ic,id,id)}return hZ}case'shapeIDUnscaledFilledCircle':{var ie={x:0,y:0,w:0,h:0};{var ig=Math.round(e.c['x'].gv(L));var ih=Math.round(e.c['y'].gv(L));var ii=Math.ceil(e.c['size'].gv(L)/2);var ij=2*ii;tab.RectXYUtil.unionInPlace$1(ie,ig-ii,ih-ii,ij,ij)}return ie}case'shapeIDSquare':{var ik={x:0,y:0,w:0,h:0};{var il=Math.round(e.c['x'].gv(L));var im=Math.round(e.c['y'].gv(L));var io=Math.ceil(e.c['size'].gv(L)*0.895833333333333/2);var ip=2*io;tab.RectXYUtil.unionInPlace$1(ik,il-io,im-io,ip,ip)}return ik}case'shapeIDFilledSquare':{var iq={x:0,y:0,w:0,h:0};{var ir=Math.round(e.c['x'].gv(L));var it=Math.round(e.c['y'].gv(L));var iu=Math.ceil(e.c['size'].gv(L)*0.9375/2);var iv=2*iu;tab.RectXYUtil.unionInPlace$1(iq,ir-iu,it-iu,iv,iv)}return iq}case'shapeIDAsterisk':{var iw={x:0,y:0,w:0,h:0};{var ix=Math.round(e.c['x'].gv(L));var iy=Math.round(e.c['y'].gv(L));var iz=Math.ceil(e.c['size'].gv(L)*0.958333333333333/2);var iA=2*iz;tab.RectXYUtil.unionInPlace$1(iw,ix-iz,iy-iz,iA,iA)}return iw}case'shapeIDPlus':{var iB={x:0,y:0,w:0,h:0};{var iC=Math.round(e.c['x'].gv(L));var iD=Math.round(e.c['y'].gv(L));var iE=Math.ceil(e.c['size'].gv(L)*0.916666666666667/2);var iF=2*iE;tab.RectXYUtil.unionInPlace$1(iB,iC-iE,iD-iE,iF,iF)}return iB}case'shapeIDFilledPlus':{var iG={x:0,y:0,w:0,h:0};{var iH=Math.round(e.c['x'].gv(L));var iI=Math.round(e.c['y'].gv(L));var iJ=Math.ceil(e.c['size'].gv(L)*0.9375/2);var iK=2*iJ;tab.RectXYUtil.unionInPlace$1(iG,iH-iJ,iI-iJ,iK,iK)}return iG}case'shapeIDTimes':{var iL={x:0,y:0,w:0,h:0};{var iM=Math.round(e.c['x'].gv(L));var iN=Math.round(e.c['y'].gv(L));var iO=Math.ceil(e.c['size'].gv(L)*0.875/2);var iP=2*iO;tab.RectXYUtil.unionInPlace$1(iL,iM-iO,iN-iO,iP,iP)}return iL}case'shapeIDFilledTimes':{var iQ={x:0,y:0,w:0,h:0};{var iR=Math.round(e.c['x'].gv(L));var iS=Math.round(e.c['y'].gv(L));var iT=Math.ceil(e.c['size'].gv(L)*0.9375/2);var iU=2*iT;tab.RectXYUtil.unionInPlace$1(iQ,iR-iT,iS-iT,iU,iU)}return iQ}case'shapeIDDiamond':{var iV={x:0,y:0,w:0,h:0};{var iW=Math.round(e.c['x'].gv(L));var iX=Math.round(e.c['y'].gv(L));var iY=Math.ceil(e.c['size'].gv(L)*1.04166666666667/2);var iZ=2*iY;tab.RectXYUtil.unionInPlace$1(iV,iW-iY,iX-iY,iZ,iZ)}return iV}case'shapeIDFilledDiamond':{var ja={x:0,y:0,w:0,h:0};{var jb=Math.round(e.c['x'].gv(L));var jc=Math.round(e.c['y'].gv(L));var jd=Math.ceil(e.c['size'].gv(L)*1.04166666666667/2);var je=2*jd;tab.RectXYUtil.unionInPlace$1(ja,jb-jd,jc-jd,je,je)}return ja}case'shapeIDTriangle':{var jf={x:0,y:0,w:0,h:0};{var jg=Math.round(e.c['x'].gv(L));var jh=Math.round(e.c['y'].gv(L));var ji=Math.ceil(e.c['size'].gv(L)*0.895833333333333/2);var jj=2*ji;tab.RectXYUtil.unionInPlace$1(jf,jg-ji,jh-ji,jj,jj)}return jf}case'shapeIDFilledTriangle':{var jk={x:0,y:0,w:0,h:0};{var jl=Math.round(e.c['x'].gv(L));var jm=Math.round(e.c['y'].gv(L));var jn=Math.ceil(e.c['size'].gv(L)*0.916666666666667/2);var jo=2*jn;tab.RectXYUtil.unionInPlace$1(jk,jl-jn,jm-jn,jo,jo)}return jk}case'shapeIDDownTriangle':{var jp={x:0,y:0,w:0,h:0};{var jq=Math.round(e.c['x'].gv(L));var jr=Math.round(e.c['y'].gv(L));var js=Math.ceil(e.c['size'].gv(L)*0.895833333333333/2);var jt=2*js;tab.RectXYUtil.unionInPlace$1(jp,jq-js,jr-js,jt,jt)}return jp}case'shapeIDFilledDownTriangle':{var ju={x:0,y:0,w:0,h:0};{var jv=Math.round(e.c['x'].gv(L));var jw=Math.round(e.c['y'].gv(L));var jx=Math.ceil(e.c['size'].gv(L)*0.916666666666667/2);var jy=2*jx;tab.RectXYUtil.unionInPlace$1(ju,jv-jx,jw-jx,jy,jy)}return ju}case'shapeIDLeftTriangle':{var jz={x:0,y:0,w:0,h:0};{var jA=Math.round(e.c['x'].gv(L));var jB=Math.round(e.c['y'].gv(L));var jC=Math.ceil(e.c['size'].gv(L)*0.895833333333333/2);var jD=2*jC;tab.RectXYUtil.unionInPlace$1(jz,jA-jC,jB-jC,jD,jD)}return jz}case'shapeIDFilledLeftTriangle':{var jE={x:0,y:0,w:0,h:0};{var jF=Math.round(e.c['x'].gv(L));var jG=Math.round(e.c['y'].gv(L));var jH=Math.ceil(e.c['size'].gv(L)*0.916666666666667/2);var jI=2*jH;tab.RectXYUtil.unionInPlace$1(jE,jF-jH,jG-jH,jI,jI)}return jE}case'shapeIDRightTriangle':{var jJ={x:0,y:0,w:0,h:0};{var jK=Math.round(e.c['x'].gv(L));var jL=Math.round(e.c['y'].gv(L));var jM=Math.ceil(e.c['size'].gv(L)*0.895833333333333/2);var jN=2*jM;tab.RectXYUtil.unionInPlace$1(jJ,jK-jM,jL-jM,jN,jN)}return jJ}case'shapeIDFilledRightTriangle':{var jO={x:0,y:0,w:0,h:0};{var jP=Math.round(e.c['x'].gv(L));var jQ=Math.round(e.c['y'].gv(L));var jR=Math.ceil(e.c['size'].gv(L)*0.916666666666667/2);var jS=2*jR;tab.RectXYUtil.unionInPlace$1(jO,jP-jR,jQ-jR,jS,jS)}return jO}case'shapeIDFilledStar':{var jT={x:0,y:0,w:0,h:0};{var jU=Math.round(e.c['x'].gv(L));var jV=Math.round(e.c['y'].gv(L));var jW=Math.ceil(e.c['size'].gv(L)*1.09166666666667/2);var jX=2*jW;tab.RectXYUtil.unionInPlace$1(jT,jU-jW,jV-jW,jX,jX)}return jT}default:{if(hT>null){var jY=Math.round(e.c['x'].gv(L));var jZ=Math.round(e.c['y'].gv(L));var ka=Math.ceil(e.c['size'].gv(L));var kb=Math.ceil(ka/2);var kc={x:jY-kb,y:jZ-kb,w:ka,h:ka};return kc}break}}return{x:0,y:0,w:0,h:0}};eF.$1A=function(e,L,hT,hU){var hV=e.c['shape_id'].gv(hU);switch(hV){case'shapeIDCircle':{{if(dk.isPointInCircle({x:L,y:hT},{center:{x:e.c['x'].gv(hU),y:e.c['y'].gv(hU)},radius:e.c['size'].gv(hU)*0.958333333333333/2})){return true}}return false}case'shapeIDFilledCircle':{{if(dk.isPointInCircle({x:L,y:hT},{center:{x:e.c['x'].gv(hU),y:e.c['y'].gv(hU)},radius:e.c['size'].gv(hU)*0.979166666666667/2})){return true}}return false}case'shapeIDUnscaledFilledCircle':{{if(dk.isPointInCircle({x:L,y:hT},{center:{x:e.c['x'].gv(hU),y:e.c['y'].gv(hU)},radius:e.c['size'].gv(hU)/2})){return true}}return false}case'shapeIDSquare':{{var hW=e.c['size'].gv(hU)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(hU)-hW,e.c['y'].gv(hU)-hW,e.c['size'].gv(hU)*0.895833333333333,e.c['size'].gv(hU)*0.895833333333333,L,hT)){return true}}return false}case'shapeIDFilledSquare':{{var hX=e.c['size'].gv(hU)*0.9375/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(hU)-hX,e.c['y'].gv(hU)-hX,e.c['size'].gv(hU)*0.9375,e.c['size'].gv(hU)*0.9375,L,hT)){return true}}return false}case'shapeIDAsterisk':{{var hY=e.c['size'].gv(hU)*0.958333333333333/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(hU)-hY,e.c['y'].gv(hU)-hY,e.c['size'].gv(hU)*0.958333333333333,e.c['size'].gv(hU)*0.958333333333333,L,hT)){return true}}return false}case'shapeIDPlus':{{var hZ=e.c['size'].gv(hU)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(hU)-hZ,e.c['y'].gv(hU)-hZ,e.c['size'].gv(hU)*0.916666666666667,e.c['size'].gv(hU)*0.916666666666667,L,hT)){return true}}return false}case'shapeIDFilledPlus':{{var ia=e.c['size'].gv(hU)*0.9375/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(hU)-ia,e.c['y'].gv(hU)-ia,e.c['size'].gv(hU)*0.9375,e.c['size'].gv(hU)*0.9375,L,hT)){return true}}return false}case'shapeIDTimes':{{var ib=e.c['size'].gv(hU)*0.875/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(hU)-ib,e.c['y'].gv(hU)-ib,e.c['size'].gv(hU)*0.875,e.c['size'].gv(hU)*0.875,L,hT)){return true}}return false}case'shapeIDFilledTimes':{{var ic=e.c['size'].gv(hU)*0.9375/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(hU)-ic,e.c['y'].gv(hU)-ic,e.c['size'].gv(hU)*0.9375,e.c['size'].gv(hU)*0.9375,L,hT)){return true}}return false}case'shapeIDDiamond':{{var id=e.c['size'].gv(hU)*1.04166666666667/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(hU)-id,e.c['y'].gv(hU)-id,e.c['size'].gv(hU)*1.04166666666667,e.c['size'].gv(hU)*1.04166666666667,L,hT)){return true}}return false}case'shapeIDFilledDiamond':{{var ie=e.c['size'].gv(hU)*1.04166666666667/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(hU)-ie,e.c['y'].gv(hU)-ie,e.c['size'].gv(hU)*1.04166666666667,e.c['size'].gv(hU)*1.04166666666667,L,hT)){return true}}return false}case'shapeIDTriangle':{{var ig=e.c['size'].gv(hU)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(hU)-ig,e.c['y'].gv(hU)-ig,e.c['size'].gv(hU)*0.895833333333333,e.c['size'].gv(hU)*0.895833333333333,L,hT)){return true}}return false}case'shapeIDFilledTriangle':{{var ih=e.c['size'].gv(hU)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(hU)-ih,e.c['y'].gv(hU)-ih,e.c['size'].gv(hU)*0.916666666666667,e.c['size'].gv(hU)*0.916666666666667,L,hT)){return true}}return false}case'shapeIDDownTriangle':{{var ii=e.c['size'].gv(hU)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(hU)-ii,e.c['y'].gv(hU)-ii,e.c['size'].gv(hU)*0.895833333333333,e.c['size'].gv(hU)*0.895833333333333,L,hT)){return true}}return false}case'shapeIDFilledDownTriangle':{{var ij=e.c['size'].gv(hU)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(hU)-ij,e.c['y'].gv(hU)-ij,e.c['size'].gv(hU)*0.916666666666667,e.c['size'].gv(hU)*0.916666666666667,L,hT)){return true}}return false}case'shapeIDLeftTriangle':{{var ik=e.c['size'].gv(hU)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(hU)-ik,e.c['y'].gv(hU)-ik,e.c['size'].gv(hU)*0.895833333333333,e.c['size'].gv(hU)*0.895833333333333,L,hT)){return true}}return false}case'shapeIDFilledLeftTriangle':{{var il=e.c['size'].gv(hU)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(hU)-il,e.c['y'].gv(hU)-il,e.c['size'].gv(hU)*0.916666666666667,e.c['size'].gv(hU)*0.916666666666667,L,hT)){return true}}return false}case'shapeIDRightTriangle':{{var im=e.c['size'].gv(hU)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(hU)-im,e.c['y'].gv(hU)-im,e.c['size'].gv(hU)*0.895833333333333,e.c['size'].gv(hU)*0.895833333333333,L,hT)){return true}}return false}case'shapeIDFilledRightTriangle':{{var io=e.c['size'].gv(hU)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(hU)-io,e.c['y'].gv(hU)-io,e.c['size'].gv(hU)*0.916666666666667,e.c['size'].gv(hU)*0.916666666666667,L,hT)){return true}}return false}case'shapeIDFilledStar':{{var ip=e.c['size'].gv(hU)*1.09166666666667/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(hU)-ip,e.c['y'].gv(hU)-ip,e.c['size'].gv(hU)*1.09166666666667,e.c['size'].gv(hU)*1.09166666666667,L,hT)){return true}}return false}default:{if(hV>null){var iq=e.c['size'].gv(hU);var ir=iq/2;return tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(hU)-ir,e.c['y'].gv(hU)-ir,iq,iq,L,hT)}break}}return true};eF.$1D=function(e,L,hT,hU){var hV=e.c['shape_id'].gv(hU);switch(hV){case'shapeIDCircle':{return true}case'shapeIDFilledCircle':{return true}case'shapeIDUnscaledFilledCircle':{return true}case'shapeIDSquare':{return true}case'shapeIDFilledSquare':{return true}case'shapeIDAsterisk':{return true}case'shapeIDPlus':{return true}case'shapeIDFilledPlus':{return true}case'shapeIDTimes':{return true}case'shapeIDFilledTimes':{return true}case'shapeIDDiamond':{return true}case'shapeIDFilledDiamond':{return true}case'shapeIDTriangle':{return true}case'shapeIDFilledTriangle':{return true}case'shapeIDDownTriangle':{return true}case'shapeIDFilledDownTriangle':{return true}case'shapeIDLeftTriangle':{return true}case'shapeIDFilledLeftTriangle':{return true}case'shapeIDRightTriangle':{return true}case'shapeIDFilledRightTriangle':{return true}case'shapeIDFilledStar':{return true}default:{break}}return false};eF.$1C=function(e,L){var hT=null;{hT={w:10,h:10}}return hT};eF.$1B=function(e,L,hT,hU){var hV=e.c['shape_id'].gv(hU);switch(hV){case'shapeIDCircle':{var hW=e.getMarkBounds(hU);return dk.getSquaredDistanceToCircumference(hW,{x:L,y:hT})}case'shapeIDFilledCircle':{var hX=e.getMarkBounds(hU);return dk.getSquaredDistanceToCircumference(hX,{x:L,y:hT})}case'shapeIDUnscaledFilledCircle':{var hY=e.getMarkBounds(hU);return dk.getSquaredDistanceToCircumference(hY,{x:L,y:hT})}case'shapeIDSquare':{var hZ=e.getMarkBounds(hU);return dk.getSquaredDistanceToCircumference(hZ,{x:L,y:hT})}case'shapeIDFilledSquare':{var ia=e.getMarkBounds(hU);return dk.getSquaredDistanceToCircumference(ia,{x:L,y:hT})}case'shapeIDAsterisk':{var ib=e.getMarkBounds(hU);return dk.getSquaredDistanceToCircumference(ib,{x:L,y:hT})}case'shapeIDPlus':{var ic=e.getMarkBounds(hU);return dk.getSquaredDistanceToCircumference(ic,{x:L,y:hT})}case'shapeIDFilledPlus':{var id=e.getMarkBounds(hU);return dk.getSquaredDistanceToCircumference(id,{x:L,y:hT})}case'shapeIDTimes':{var ie=e.getMarkBounds(hU);return dk.getSquaredDistanceToCircumference(ie,{x:L,y:hT})}case'shapeIDFilledTimes':{var ig=e.getMarkBounds(hU);return dk.getSquaredDistanceToCircumference(ig,{x:L,y:hT})}case'shapeIDDiamond':{var ih=e.getMarkBounds(hU);return dk.getSquaredDistanceToCircumference(ih,{x:L,y:hT})}case'shapeIDFilledDiamond':{var ii=e.getMarkBounds(hU);return dk.getSquaredDistanceToCircumference(ii,{x:L,y:hT})}case'shapeIDTriangle':{var ij=e.getMarkBounds(hU);return dk.getSquaredDistanceToCircumference(ij,{x:L,y:hT})}case'shapeIDFilledTriangle':{var ik=e.getMarkBounds(hU);return dk.getSquaredDistanceToCircumference(ik,{x:L,y:hT})}case'shapeIDDownTriangle':{var il=e.getMarkBounds(hU);return dk.getSquaredDistanceToCircumference(il,{x:L,y:hT})}case'shapeIDFilledDownTriangle':{var im=e.getMarkBounds(hU);return dk.getSquaredDistanceToCircumference(im,{x:L,y:hT})}case'shapeIDLeftTriangle':{var io=e.getMarkBounds(hU);return dk.getSquaredDistanceToCircumference(io,{x:L,y:hT})}case'shapeIDFilledLeftTriangle':{var ip=e.getMarkBounds(hU);return dk.getSquaredDistanceToCircumference(ip,{x:L,y:hT})}case'shapeIDRightTriangle':{var iq=e.getMarkBounds(hU);return dk.getSquaredDistanceToCircumference(iq,{x:L,y:hT})}case'shapeIDFilledRightTriangle':{var ir=e.getMarkBounds(hU);return dk.getSquaredDistanceToCircumference(ir,{x:L,y:hT})}case'shapeIDFilledStar':{var it=e.getMarkBounds(hU);return dk.getSquaredDistanceToCircumference(it,{x:L,y:hT})}default:{break}}return dk.getSquaredDistanceToCenter(e.getMarkBounds(hU),{x:L,y:hT})};eF.$1F=function(e,L,hT){var hU=e.c['shape_id'].gv(hT);switch(hU){case'shapeIDCircle':{return dk.circleIntersectsRect({center:{x:e.c['x'].gv(hT),y:e.c['y'].gv(hT)},radius:e.c['size'].gv(hT)*0.958333333333333/2},L)}case'shapeIDFilledCircle':{return dk.circleIntersectsRect({center:{x:e.c['x'].gv(hT),y:e.c['y'].gv(hT)},radius:e.c['size'].gv(hT)*0.979166666666667/2},L)}case'shapeIDUnscaledFilledCircle':{return dk.circleIntersectsRect({center:{x:e.c['x'].gv(hT),y:e.c['y'].gv(hT)},radius:e.c['size'].gv(hT)/2},L)}case'shapeIDSquare':{return true}case'shapeIDFilledSquare':{return true}case'shapeIDAsterisk':{return true}case'shapeIDPlus':{return true}case'shapeIDFilledPlus':{return true}case'shapeIDTimes':{return true}case'shapeIDFilledTimes':{return true}case'shapeIDDiamond':{return true}case'shapeIDFilledDiamond':{return true}case'shapeIDTriangle':{return true}case'shapeIDFilledTriangle':{return true}case'shapeIDDownTriangle':{return true}case'shapeIDFilledDownTriangle':{return true}case'shapeIDLeftTriangle':{return true}case'shapeIDFilledLeftTriangle':{return true}case'shapeIDRightTriangle':{return true}case'shapeIDFilledRightTriangle':{return true}case'shapeIDFilledStar':{return true}default:{break}}return true};eF.$1z=function(e,L,hT,hU){if(hU){{return dk.isPointInCircle({x:e.c['x'].gv(hT),y:e.c['y'].gv(hT)},L)}}var hV=e.c['shape_id'].gv(hT);switch(hV){case'shapeIDCircle':{return dk.circleIntersectsCircle({center:{x:e.c['x'].gv(hT),y:e.c['y'].gv(hT)},radius:e.c['size'].gv(hT)*0.958333333333333/2},L)}case'shapeIDFilledCircle':{return dk.circleIntersectsCircle({center:{x:e.c['x'].gv(hT),y:e.c['y'].gv(hT)},radius:e.c['size'].gv(hT)*0.979166666666667/2},L)}case'shapeIDUnscaledFilledCircle':{return dk.circleIntersectsCircle({center:{x:e.c['x'].gv(hT),y:e.c['y'].gv(hT)},radius:e.c['size'].gv(hT)/2},L)}case'shapeIDSquare':{var hW={x:0,y:0,w:0,h:0};{var hX=Math.round(e.c['x'].gv(hT));var hY=Math.round(e.c['y'].gv(hT));var hZ=Math.ceil(e.c['size'].gv(hT)*0.895833333333333/2);var ia=2*hZ;tab.RectXYUtil.unionInPlace$1(hW,hX-hZ,hY-hZ,ia,ia)}return dk.circleIntersectsRect(L,hW)}case'shapeIDFilledSquare':{var ib={x:0,y:0,w:0,h:0};{var ic=Math.round(e.c['x'].gv(hT));var id=Math.round(e.c['y'].gv(hT));var ie=Math.ceil(e.c['size'].gv(hT)*0.9375/2);var ig=2*ie;tab.RectXYUtil.unionInPlace$1(ib,ic-ie,id-ie,ig,ig)}return dk.circleIntersectsRect(L,ib)}case'shapeIDAsterisk':{var ih={x:0,y:0,w:0,h:0};{var ii=Math.round(e.c['x'].gv(hT));var ij=Math.round(e.c['y'].gv(hT));var ik=Math.ceil(e.c['size'].gv(hT)*0.958333333333333/2);var il=2*ik;tab.RectXYUtil.unionInPlace$1(ih,ii-ik,ij-ik,il,il)}return dk.circleIntersectsRect(L,ih)}case'shapeIDPlus':{var im={x:0,y:0,w:0,h:0};{var io=Math.round(e.c['x'].gv(hT));var ip=Math.round(e.c['y'].gv(hT));var iq=Math.ceil(e.c['size'].gv(hT)*0.916666666666667/2);var ir=2*iq;tab.RectXYUtil.unionInPlace$1(im,io-iq,ip-iq,ir,ir)}return dk.circleIntersectsRect(L,im)}case'shapeIDFilledPlus':{var it={x:0,y:0,w:0,h:0};{var iu=Math.round(e.c['x'].gv(hT));var iv=Math.round(e.c['y'].gv(hT));var iw=Math.ceil(e.c['size'].gv(hT)*0.9375/2);var ix=2*iw;tab.RectXYUtil.unionInPlace$1(it,iu-iw,iv-iw,ix,ix)}return dk.circleIntersectsRect(L,it)}case'shapeIDTimes':{var iy={x:0,y:0,w:0,h:0};{var iz=Math.round(e.c['x'].gv(hT));var iA=Math.round(e.c['y'].gv(hT));var iB=Math.ceil(e.c['size'].gv(hT)*0.875/2);var iC=2*iB;tab.RectXYUtil.unionInPlace$1(iy,iz-iB,iA-iB,iC,iC)}return dk.circleIntersectsRect(L,iy)}case'shapeIDFilledTimes':{var iD={x:0,y:0,w:0,h:0};{var iE=Math.round(e.c['x'].gv(hT));var iF=Math.round(e.c['y'].gv(hT));var iG=Math.ceil(e.c['size'].gv(hT)*0.9375/2);var iH=2*iG;tab.RectXYUtil.unionInPlace$1(iD,iE-iG,iF-iG,iH,iH)}return dk.circleIntersectsRect(L,iD)}case'shapeIDDiamond':{var iI={x:0,y:0,w:0,h:0};{var iJ=Math.round(e.c['x'].gv(hT));var iK=Math.round(e.c['y'].gv(hT));var iL=Math.ceil(e.c['size'].gv(hT)*1.04166666666667/2);var iM=2*iL;tab.RectXYUtil.unionInPlace$1(iI,iJ-iL,iK-iL,iM,iM)}return dk.circleIntersectsRect(L,iI)}case'shapeIDFilledDiamond':{var iN={x:0,y:0,w:0,h:0};{var iO=Math.round(e.c['x'].gv(hT));var iP=Math.round(e.c['y'].gv(hT));var iQ=Math.ceil(e.c['size'].gv(hT)*1.04166666666667/2);var iR=2*iQ;tab.RectXYUtil.unionInPlace$1(iN,iO-iQ,iP-iQ,iR,iR)}return dk.circleIntersectsRect(L,iN)}case'shapeIDTriangle':{var iS={x:0,y:0,w:0,h:0};{var iT=Math.round(e.c['x'].gv(hT));var iU=Math.round(e.c['y'].gv(hT));var iV=Math.ceil(e.c['size'].gv(hT)*0.895833333333333/2);var iW=2*iV;tab.RectXYUtil.unionInPlace$1(iS,iT-iV,iU-iV,iW,iW)}return dk.circleIntersectsRect(L,iS)}case'shapeIDFilledTriangle':{var iX={x:0,y:0,w:0,h:0};{var iY=Math.round(e.c['x'].gv(hT));var iZ=Math.round(e.c['y'].gv(hT));var ja=Math.ceil(e.c['size'].gv(hT)*0.916666666666667/2);var jb=2*ja;tab.RectXYUtil.unionInPlace$1(iX,iY-ja,iZ-ja,jb,jb)}return dk.circleIntersectsRect(L,iX)}case'shapeIDDownTriangle':{var jc={x:0,y:0,w:0,h:0};{var jd=Math.round(e.c['x'].gv(hT));var je=Math.round(e.c['y'].gv(hT));var jf=Math.ceil(e.c['size'].gv(hT)*0.895833333333333/2);var jg=2*jf;tab.RectXYUtil.unionInPlace$1(jc,jd-jf,je-jf,jg,jg)}return dk.circleIntersectsRect(L,jc)}case'shapeIDFilledDownTriangle':{var jh={x:0,y:0,w:0,h:0};{var ji=Math.round(e.c['x'].gv(hT));var jj=Math.round(e.c['y'].gv(hT));var jk=Math.ceil(e.c['size'].gv(hT)*0.916666666666667/2);var jl=2*jk;tab.RectXYUtil.unionInPlace$1(jh,ji-jk,jj-jk,jl,jl)}return dk.circleIntersectsRect(L,jh)}case'shapeIDLeftTriangle':{var jm={x:0,y:0,w:0,h:0};{var jn=Math.round(e.c['x'].gv(hT));var jo=Math.round(e.c['y'].gv(hT));var jp=Math.ceil(e.c['size'].gv(hT)*0.895833333333333/2);var jq=2*jp;tab.RectXYUtil.unionInPlace$1(jm,jn-jp,jo-jp,jq,jq)}return dk.circleIntersectsRect(L,jm)}case'shapeIDFilledLeftTriangle':{var jr={x:0,y:0,w:0,h:0};{var js=Math.round(e.c['x'].gv(hT));var jt=Math.round(e.c['y'].gv(hT));var ju=Math.ceil(e.c['size'].gv(hT)*0.916666666666667/2);var jv=2*ju;tab.RectXYUtil.unionInPlace$1(jr,js-ju,jt-ju,jv,jv)}return dk.circleIntersectsRect(L,jr)}case'shapeIDRightTriangle':{var jw={x:0,y:0,w:0,h:0};{var jx=Math.round(e.c['x'].gv(hT));var jy=Math.round(e.c['y'].gv(hT));var jz=Math.ceil(e.c['size'].gv(hT)*0.895833333333333/2);var jA=2*jz;tab.RectXYUtil.unionInPlace$1(jw,jx-jz,jy-jz,jA,jA)}return dk.circleIntersectsRect(L,jw)}case'shapeIDFilledRightTriangle':{var jB={x:0,y:0,w:0,h:0};{var jC=Math.round(e.c['x'].gv(hT));var jD=Math.round(e.c['y'].gv(hT));var jE=Math.ceil(e.c['size'].gv(hT)*0.916666666666667/2);var jF=2*jE;tab.RectXYUtil.unionInPlace$1(jB,jC-jE,jD-jE,jF,jF)}return dk.circleIntersectsRect(L,jB)}case'shapeIDFilledStar':{var jG={x:0,y:0,w:0,h:0};{var jH=Math.round(e.c['x'].gv(hT));var jI=Math.round(e.c['y'].gv(hT));var jJ=Math.ceil(e.c['size'].gv(hT)*1.09166666666667/2);var jK=2*jJ;tab.RectXYUtil.unionInPlace$1(jG,jH-jJ,jI-jJ,jK,jK)}return dk.circleIntersectsRect(L,jG)}default:{var jL=Math.round(e.c['x'].gv(hT));var jM=Math.round(e.c['y'].gv(hT));var jN=Math.ceil(e.c['size'].gv(hT));var jO=Math.ceil(jN/2);var jP={x:jL-jO,y:jM-jO,w:jN,h:jN};return dk.circleIntersectsRect(L,jP)}}};eF.$1E=function(e,L,hT){var hU=e.c['shape_id'].gv(hT);switch(hU){case'shapeIDCircle':{return dk.polygonIntersectsCircle(L,{center:{x:e.c['x'].gv(hT),y:e.c['y'].gv(hT)},radius:e.c['size'].gv(hT)*0.958333333333333/2})}case'shapeIDFilledCircle':{return dk.polygonIntersectsCircle(L,{center:{x:e.c['x'].gv(hT),y:e.c['y'].gv(hT)},radius:e.c['size'].gv(hT)*0.979166666666667/2})}case'shapeIDUnscaledFilledCircle':{return dk.polygonIntersectsCircle(L,{center:{x:e.c['x'].gv(hT),y:e.c['y'].gv(hT)},radius:e.c['size'].gv(hT)/2})}case'shapeIDSquare':{var hV={x:0,y:0,w:0,h:0};{var hW=Math.round(e.c['x'].gv(hT));var hX=Math.round(e.c['y'].gv(hT));var hY=Math.ceil(e.c['size'].gv(hT)*0.895833333333333/2);var hZ=2*hY;tab.RectXYUtil.unionInPlace$1(hV,hW-hY,hX-hY,hZ,hZ)}return dk.polygonIntersectsRect(L,hV)}case'shapeIDFilledSquare':{var ia={x:0,y:0,w:0,h:0};{var ib=Math.round(e.c['x'].gv(hT));var ic=Math.round(e.c['y'].gv(hT));var id=Math.ceil(e.c['size'].gv(hT)*0.9375/2);var ie=2*id;tab.RectXYUtil.unionInPlace$1(ia,ib-id,ic-id,ie,ie)}return dk.polygonIntersectsRect(L,ia)}case'shapeIDAsterisk':{var ig={x:0,y:0,w:0,h:0};{var ih=Math.round(e.c['x'].gv(hT));var ii=Math.round(e.c['y'].gv(hT));var ij=Math.ceil(e.c['size'].gv(hT)*0.958333333333333/2);var ik=2*ij;tab.RectXYUtil.unionInPlace$1(ig,ih-ij,ii-ij,ik,ik)}return dk.polygonIntersectsRect(L,ig)}case'shapeIDPlus':{var il={x:0,y:0,w:0,h:0};{var im=Math.round(e.c['x'].gv(hT));var io=Math.round(e.c['y'].gv(hT));var ip=Math.ceil(e.c['size'].gv(hT)*0.916666666666667/2);var iq=2*ip;tab.RectXYUtil.unionInPlace$1(il,im-ip,io-ip,iq,iq)}return dk.polygonIntersectsRect(L,il)}case'shapeIDFilledPlus':{var ir={x:0,y:0,w:0,h:0};{var it=Math.round(e.c['x'].gv(hT));var iu=Math.round(e.c['y'].gv(hT));var iv=Math.ceil(e.c['size'].gv(hT)*0.9375/2);var iw=2*iv;tab.RectXYUtil.unionInPlace$1(ir,it-iv,iu-iv,iw,iw)}return dk.polygonIntersectsRect(L,ir)}case'shapeIDTimes':{var ix={x:0,y:0,w:0,h:0};{var iy=Math.round(e.c['x'].gv(hT));var iz=Math.round(e.c['y'].gv(hT));var iA=Math.ceil(e.c['size'].gv(hT)*0.875/2);var iB=2*iA;tab.RectXYUtil.unionInPlace$1(ix,iy-iA,iz-iA,iB,iB)}return dk.polygonIntersectsRect(L,ix)}case'shapeIDFilledTimes':{var iC={x:0,y:0,w:0,h:0};{var iD=Math.round(e.c['x'].gv(hT));var iE=Math.round(e.c['y'].gv(hT));var iF=Math.ceil(e.c['size'].gv(hT)*0.9375/2);var iG=2*iF;tab.RectXYUtil.unionInPlace$1(iC,iD-iF,iE-iF,iG,iG)}return dk.polygonIntersectsRect(L,iC)}case'shapeIDDiamond':{var iH={x:0,y:0,w:0,h:0};{var iI=Math.round(e.c['x'].gv(hT));var iJ=Math.round(e.c['y'].gv(hT));var iK=Math.ceil(e.c['size'].gv(hT)*1.04166666666667/2);var iL=2*iK;tab.RectXYUtil.unionInPlace$1(iH,iI-iK,iJ-iK,iL,iL)}return dk.polygonIntersectsRect(L,iH)}case'shapeIDFilledDiamond':{var iM={x:0,y:0,w:0,h:0};{var iN=Math.round(e.c['x'].gv(hT));var iO=Math.round(e.c['y'].gv(hT));var iP=Math.ceil(e.c['size'].gv(hT)*1.04166666666667/2);var iQ=2*iP;tab.RectXYUtil.unionInPlace$1(iM,iN-iP,iO-iP,iQ,iQ)}return dk.polygonIntersectsRect(L,iM)}case'shapeIDTriangle':{var iR={x:0,y:0,w:0,h:0};{var iS=Math.round(e.c['x'].gv(hT));var iT=Math.round(e.c['y'].gv(hT));var iU=Math.ceil(e.c['size'].gv(hT)*0.895833333333333/2);var iV=2*iU;tab.RectXYUtil.unionInPlace$1(iR,iS-iU,iT-iU,iV,iV)}return dk.polygonIntersectsRect(L,iR)}case'shapeIDFilledTriangle':{var iW={x:0,y:0,w:0,h:0};{var iX=Math.round(e.c['x'].gv(hT));var iY=Math.round(e.c['y'].gv(hT));var iZ=Math.ceil(e.c['size'].gv(hT)*0.916666666666667/2);var ja=2*iZ;tab.RectXYUtil.unionInPlace$1(iW,iX-iZ,iY-iZ,ja,ja)}return dk.polygonIntersectsRect(L,iW)}case'shapeIDDownTriangle':{var jb={x:0,y:0,w:0,h:0};{var jc=Math.round(e.c['x'].gv(hT));var jd=Math.round(e.c['y'].gv(hT));var je=Math.ceil(e.c['size'].gv(hT)*0.895833333333333/2);var jf=2*je;tab.RectXYUtil.unionInPlace$1(jb,jc-je,jd-je,jf,jf)}return dk.polygonIntersectsRect(L,jb)}case'shapeIDFilledDownTriangle':{var jg={x:0,y:0,w:0,h:0};{var jh=Math.round(e.c['x'].gv(hT));var ji=Math.round(e.c['y'].gv(hT));var jj=Math.ceil(e.c['size'].gv(hT)*0.916666666666667/2);var jk=2*jj;tab.RectXYUtil.unionInPlace$1(jg,jh-jj,ji-jj,jk,jk)}return dk.polygonIntersectsRect(L,jg)}case'shapeIDLeftTriangle':{var jl={x:0,y:0,w:0,h:0};{var jm=Math.round(e.c['x'].gv(hT));var jn=Math.round(e.c['y'].gv(hT));var jo=Math.ceil(e.c['size'].gv(hT)*0.895833333333333/2);var jp=2*jo;tab.RectXYUtil.unionInPlace$1(jl,jm-jo,jn-jo,jp,jp)}return dk.polygonIntersectsRect(L,jl)}case'shapeIDFilledLeftTriangle':{var jq={x:0,y:0,w:0,h:0};{var jr=Math.round(e.c['x'].gv(hT));var js=Math.round(e.c['y'].gv(hT));var jt=Math.ceil(e.c['size'].gv(hT)*0.916666666666667/2);var ju=2*jt;tab.RectXYUtil.unionInPlace$1(jq,jr-jt,js-jt,ju,ju)}return dk.polygonIntersectsRect(L,jq)}case'shapeIDRightTriangle':{var jv={x:0,y:0,w:0,h:0};{var jw=Math.round(e.c['x'].gv(hT));var jx=Math.round(e.c['y'].gv(hT));var jy=Math.ceil(e.c['size'].gv(hT)*0.895833333333333/2);var jz=2*jy;tab.RectXYUtil.unionInPlace$1(jv,jw-jy,jx-jy,jz,jz)}return dk.polygonIntersectsRect(L,jv)}case'shapeIDFilledRightTriangle':{var jA={x:0,y:0,w:0,h:0};{var jB=Math.round(e.c['x'].gv(hT));var jC=Math.round(e.c['y'].gv(hT));var jD=Math.ceil(e.c['size'].gv(hT)*0.916666666666667/2);var jE=2*jD;tab.RectXYUtil.unionInPlace$1(jA,jB-jD,jC-jD,jE,jE)}return dk.polygonIntersectsRect(L,jA)}case'shapeIDFilledStar':{var jF={x:0,y:0,w:0,h:0};{var jG=Math.round(e.c['x'].gv(hT));var jH=Math.round(e.c['y'].gv(hT));var jI=Math.ceil(e.c['size'].gv(hT)*1.09166666666667/2);var jJ=2*jI;tab.RectXYUtil.unionInPlace$1(jF,jG-jI,jH-jI,jJ,jJ)}return dk.polygonIntersectsRect(L,jF)}default:{var jK=Math.round(e.c['x'].gv(hT));var jL=Math.round(e.c['y'].gv(hT));var jM=Math.ceil(e.c['size'].gv(hT));var jN=Math.ceil(jM/2);var jO={x:jK-jN,y:jL-jN,w:jM,h:jM};return dk.polygonIntersectsRect(L,jO)}}};eF.$I=function(e,L,hT){var hU=L.getMarkInstanceOffsets(hT);var hV=hU.length;for(var hW=0;hW<hV;hW++){var hX=hU[hW];eF.$1w(e,hX);{var hY=bn.get_multipolyLineSizeOffset();var hZ=(L.hasPixelGeometry?1:L.c['size'].gv(hT));bn.createMultipolygonPath(e,L.hasPixelGeometry,L.c['x'].gv(hT),L.c['y'].gv(hT),hZ,7,L.getMarkGeometry(L.c['geometry'].gv(hT)));e.set_lineWidth(1.75-hY);e.set_strokeStyle(L.c['selected_halo_color'].gv(hT)['colorOverrideNone']);e.stroke()}if(hX!==0){e.restore()}}};eF.$J=function(e,L,hT){var hU=L.getMarkInstanceOffsets(hT);var hV=hU.length;for(var hW=0;hW<hV;hW++){var hX=hU[hW];eF.$1w(e,hX);{var hY=bn.get_multipolyLineSizeOffset();var hZ=(L.hasPixelGeometry?1:L.c['size'].gv(hT));bn.createMultipolygonPath(e,L.hasPixelGeometry,L.c['x'].gv(hT),L.c['y'].gv(hT),hZ,7,L.getMarkGeometry(L.c['geometry'].gv(hT)));e.set_lineWidth(2.5-hY);e.set_strokeStyle(L.c['selected_halo_color'].gv(hT)['colorOverrideNone']);e.stroke()}if(hX!==0){e.restore()}}};eF.$C=function(e,L,hT){var hU=false;if(hT-1>0&&!L.isMarkEndPrimitive(hT-1)){hU=hU||L.isMarkHighlighted(hT-1)}if(hT+1<L.markCount&&!L.isMarkEndPrimitive(hT)){hU=hU||L.isMarkHighlighted(hT+1)}var hV;var hW=L.c['x'].gv(hT);var hX=L.c['y'].gv(hT);if(L.isMarkSelected(hT)){hV=L.c['selected_halo_color'].gv(hT)['colorOverrideOpaque'];{var hY=L.c['draw_border'].gv(hT);var hZ=7+(hY?2:0);bn.renderCircle(e,0+hW,0+hX,hZ,hV,4)}hV=L.getMarkColors(hT)['colorOverrideOpaque'];{var ia=L.getMarkInstanceOffsets(hT);var ib=ia.length;for(var ic=0;ic<ib;ic++){var id=ia[ic];eF.$1w(e,id);bn.renderFilledCircle(e,0+hW,0+hX,7,hV);if(id!==0){e.restore()}}}hW=L.c['x1'].gv(hT);hX=L.c['y1'].gv(hT);hV=L.c['selected_halo_color'].gv(hT)['colorOverrideOpaque'];{var ie=L.c['draw_border'].gv(hT);var ig=7+(ie?2:0);bn.renderCircle(e,0+hW,0+hX,ig,hV,4)}hV=L.getMarkColors(hT)['colorOverrideOpaque'];{var ih=L.getMarkInstanceOffsets(hT);var ii=ih.length;for(var ij=0;ij<ii;ij++){var ik=ih[ij];eF.$1w(e,ik);bn.renderFilledCircle(e,0+hW,0+hX,7,hV);if(ik!==0){e.restore()}}}}else if(L.isMarkHighlighted(hT)&&!hU){hV=L.c['selected_multi_prim_halo_color'].gv(hT)['colorOverrideNone'];{var il=L.getMarkInstanceOffsets(hT);var im=il.length;for(var io=0;io<im;io++){var ip=il[io];eF.$1w(e,ip);{var iq=L.c['draw_border'].gv(hT);var ir=7+(iq?2:0);bn.renderCircle(e,0+hW,0+hX,ir,hV,4)}if(ip!==0){e.restore()}}}hV=L.getMarkColors(hT)['colorOverrideNone'];{var it=L.getMarkInstanceOffsets(hT);var iu=it.length;for(var iv=0;iv<iu;iv++){var iw=it[iv];eF.$1w(e,iw);bn.renderFilledCircle(e,0+hW,0+hX,7,hV);if(iw!==0){e.restore()}}}hW=L.c['x1'].gv(hT);hX=L.c['y1'].gv(hT);hV=L.c['selected_multi_prim_halo_color'].gv(hT)['colorOverrideNone'];{var ix=L.getMarkInstanceOffsets(hT);var iy=ix.length;for(var iz=0;iz<iy;iz++){var iA=ix[iz];eF.$1w(e,iA);{var iB=L.c['draw_border'].gv(hT);var iC=7+(iB?2:0);bn.renderCircle(e,0+hW,0+hX,iC,hV,4)}if(iA!==0){e.restore()}}}hV=L.getMarkColors(hT)['colorOverrideNone'];{var iD=L.getMarkInstanceOffsets(hT);var iE=iD.length;for(var iF=0;iF<iE;iF++){var iG=iD[iF];eF.$1w(e,iG);bn.renderFilledCircle(e,0+hW,0+hX,7,hV);if(iG!==0){e.restore()}}}}else{hV=(L.drawBorder?L.get_borderColor():tab.SceneUtils.blackColor)['colorOverrideNone'];{var iH=L.getMarkInstanceOffsets(hT);var iI=iH.length;for(var iJ=0;iJ<iI;iJ++){var iK=iH[iJ];eF.$1w(e,iK);bn.renderFilledCircle(e,0+hW,0+hX,5,hV);if(iK!==0){e.restore()}}}hW=L.c['x1'].gv(hT);hX=L.c['y1'].gv(hT);hV=(L.drawBorder?L.get_borderColor():tab.SceneUtils.blackColor)['colorOverrideNone'];{var iL=L.getMarkInstanceOffsets(hT);var iM=iL.length;for(var iN=0;iN<iM;iN++){var iO=iL[iN];eF.$1w(e,iO);bn.renderFilledCircle(e,0+hW,0+hX,5,hV);if(iO!==0){e.restore()}}}}};eF.$D=function(e,L,hT){var hU=(L.drawBorder?L.get_borderColor():tab.SceneUtils.blackColor)['colorOverrideNone'];var hV=L.c['x'].gv(hT);var hW=L.c['y'].gv(hT);{var hX=L.getMarkInstanceOffsets(hT);var hY=hX.length;for(var hZ=0;hZ<hY;hZ++){var ia=hX[hZ];eF.$1w(e,ia);bn.renderFilledCircle(e,0+hV,0+hW,7,hU);if(ia!==0){e.restore()}}}hV=L.c['x1'].gv(hT);hW=L.c['y1'].gv(hT);{var ib=L.getMarkInstanceOffsets(hT);var ic=ib.length;for(var id=0;id<ic;id++){var ie=ib[id];eF.$1w(e,ie);bn.renderFilledCircle(e,0+hV,0+hW,7,hU);if(ie!==0){e.restore()}}}};eF.$K=function(e,L,hT){var hU=L.getMarkInstanceOffsets(hT);var hV=hU.length;for(var hW=0;hW<hV;hW++){var hX=hU[hW];eF.$1w(e,hX);var hY=L.c['size'].gv(hT)/2;var hZ=L.c['draw_border'].gv(hT);var ia=(!!hZ?1:0);var ib=L.c['selected_halo_color'].gv(hT)['colorOverrideNone'];var ic=L.c['theta'].gv(hT);var id=L.c['theta1'].gv(hT);var ie=ic>id;if(Math.abs(ic-id)>=1){bn.renderCircle(e,L.c['x'].gv(hT),L.c['y'].gv(hT),(hY+ia)*2,ib,1)}else{bn.renderWedge(e,L.c['x'].gv(hT),L.c['y'].gv(hT),hY,ic,id,ib,1+ia,ie)}if(hX!==0){e.restore()}}};eF.$L=function(e,L,hT){var hU=L.getMarkInstanceOffsets(hT);var hV=hU.length;for(var hW=0;hW<hV;hW++){var hX=hU[hW];eF.$1w(e,hX);var hY=L.c['size'].gv(hT)/2;var hZ=L.c['draw_border'].gv(hT);var ia=(!!hZ?1:0);var ib=L.c['selected_halo_color'].gv(hT)['colorOverrideNone'];var ic=L.c['theta'].gv(hT);var id=L.c['theta1'].gv(hT);var ie=ic>id;if(Math.abs(ic-id)>=1){bn.renderCircle(e,L.c['x'].gv(hT),L.c['y'].gv(hT),(hY+ia)*2,ib,2)}else{bn.renderWedge(e,L.c['x'].gv(hT),L.c['y'].gv(hT),hY,ic,id,ib,2+ia,ie)}if(hX!==0){e.restore()}}};eF.$1u=function(e,L,hT){if(!(L.clipCase!==0&&L.useCellClipForSelection)){{var hU=L.getMarkInstanceOffsets(hT);var hV=hU.length;for(var hW=0;hW<hV;hW++){var hX=hU[hW];eF.$1w(e,hX);var hY=-L.c['width'].gv(hT)/2;var hZ=L.c['height'].gv(hT)/2-1;var ia=L.c['x'].gv(hT)+hY;var ib=L.c['y'].gv(hT)+hZ;var ic=L.c['x'].gv(hT)+L.c['width'].gv(hT)+hY;var id=L.c['y'].gv(hT)+hZ;var ie=1;var ig=ic-ia;var ih=[ia,ib+ie-1,ia+ig,ib+ie-1];e.set_lineCap('square');e.set_lineWidth(ie);e.set_strokeStyle(L.getMarkColors(hT)['colorOverrideOpaque']);bn.strokePath(e,ih,false,true);if(hX!==0){e.restore()}}}}if(L.clipCase!==0&&L.useCellClipForSelection){{var ii=L.getMarkInstanceOffsets(hT);var ij=ii.length;for(var ik=0;ik<ij;ik++){var il=ii[ik];eF.$1w(e,il);{var im=2;var io=L.c['x'].gv(hT)-L.c['clip_width'].gv(hT)/2+im;var ip=L.c['x'].gv(hT)+L.c['clip_width'].gv(hT)/2-im;var iq=L.c['y'].gv(hT)-L.c['clip_height'].gv(hT)/2+im;var ir=L.c['y'].gv(hT)+L.c['clip_height'].gv(hT)/2-im;eF.$h(e,L,hT,io,ip,iq,ir,L.getMarkColors(hT),!!false,Math.floor(1))}if(il!==0){e.restore()}}}}};eF.$1v=function(e,L,hT){if(!(L.clipCase!==0&&L.useCellClipForSelection)){{var hU=L.getMarkInstanceOffsets(hT);var hV=hU.length;for(var hW=0;hW<hV;hW++){var hX=hU[hW];eF.$1w(e,hX);var hY=-L.c['width'].gv(hT)/2;var hZ=L.c['height'].gv(hT)/2-1;var ia=L.c['x'].gv(hT)+hY;var ib=L.c['y'].gv(hT)+hZ;var ic=L.c['x'].gv(hT)+L.c['width'].gv(hT)+hY;var id=L.c['y'].gv(hT)+hZ;var ie=2;var ig=ic-ia;var ih=[ia,ib+ie-1,ia+ig,ib+ie-1];e.set_lineCap('square');e.set_lineWidth(ie);e.set_strokeStyle(L.getMarkColors(hT)['colorOverrideOpaque']);bn.strokePath(e,ih,false,true);if(hX!==0){e.restore()}}}}if(L.clipCase!==0&&L.useCellClipForSelection){{var ii=L.getMarkInstanceOffsets(hT);var ij=ii.length;for(var ik=0;ik<ij;ik++){var il=ii[ik];eF.$1w(e,il);{var im=2;var io=L.c['x'].gv(hT)-L.c['clip_width'].gv(hT)/2+im;var ip=L.c['x'].gv(hT)+L.c['clip_width'].gv(hT)/2-im;var iq=L.c['y'].gv(hT)-L.c['clip_height'].gv(hT)/2+im;var ir=L.c['y'].gv(hT)+L.c['clip_height'].gv(hT)/2-im;eF.$h(e,L,hT,io,ip,iq,ir,L.getMarkColors(hT),!!false,Math.floor(2))}if(il!==0){e.restore()}}}}};eF.$E=function(e,L,hT){var hU=ss.Int32.trunc(L.c['size'].gv(hT)+0.5)/2;var hV=1;if(L.scaleMarksInX&&L.scaleMarksInY){{var hW=L.getMarkInstanceOffsets(hT);var hX=hW.length;for(var hY=0;hY<hX;hY++){var hZ=hW[hY];eF.$1w(e,hZ);{var ia=0;var ib=L.c['x'].gv(hT)+ia;var ic=L.c['x1'].gv(hT)-ia;var id=L.c['y'].gv(hT)+ia;var ie=L.c['y1'].gv(hT)-ia;eF.$h(e,L,hT,ib,ic,id,ie,L.c['selected_halo_color'].gv(hT),!!false,Math.floor(hV))}if(hZ!==0){e.restore()}}}}if(!L.scaleMarksInX&&L.scaleMarksInY){{var ig=L.getMarkInstanceOffsets(hT);var ih=ig.length;for(var ii=0;ii<ih;ii++){var ij=ig[ii];eF.$1w(e,ij);{var ik=0;var il=L.c['x'].gv(hT)-hU+ik;var im=L.c['x'].gv(hT)+hU-ik;var io=L.c['y'].gv(hT)+ik;var ip=L.c['y1'].gv(hT)-ik;eF.$h(e,L,hT,il,im,io,ip,L.c['selected_halo_color'].gv(hT),!!false,Math.floor(hV))}if(ij!==0){e.restore()}}}}if(L.scaleMarksInX&&!L.scaleMarksInY){{var iq=L.getMarkInstanceOffsets(hT);var ir=iq.length;for(var it=0;it<ir;it++){var iu=iq[it];eF.$1w(e,iu);{var iv=0;var iw=L.c['x'].gv(hT)+iv;var ix=L.c['x1'].gv(hT)-iv;var iy=L.c['y'].gv(hT)-hU+iv;var iz=L.c['y'].gv(hT)+hU-iv;eF.$h(e,L,hT,iw,ix,iy,iz,L.c['selected_halo_color'].gv(hT),!!false,Math.floor(hV))}if(iu!==0){e.restore()}}}}if(!L.scaleMarksInX&&!L.scaleMarksInY){{var iA=L.getMarkInstanceOffsets(hT);var iB=iA.length;for(var iC=0;iC<iB;iC++){var iD=iA[iC];eF.$1w(e,iD);{var iE=0;var iF=L.c['x'].gv(hT)-hU+iE;var iG=L.c['x'].gv(hT)+hU-iE;var iH=L.c['y'].gv(hT)-hU+iE;var iI=L.c['y'].gv(hT)+hU-iE;eF.$h(e,L,hT,iF,iG,iH,iI,L.c['selected_halo_color'].gv(hT),!!true,Math.floor(hV))}if(iD!==0){e.restore()}}}}};eF.$F=function(e,L,hT){var hU=ss.Int32.trunc(L.c['size'].gv(hT)+0.5)/2;var hV=2;if(L.scaleMarksInX&&L.scaleMarksInY){{var hW=L.getMarkInstanceOffsets(hT);var hX=hW.length;for(var hY=0;hY<hX;hY++){var hZ=hW[hY];eF.$1w(e,hZ);{var ia=0;var ib=L.c['x'].gv(hT)+ia;var ic=L.c['x1'].gv(hT)-ia;var id=L.c['y'].gv(hT)+ia;var ie=L.c['y1'].gv(hT)-ia;eF.$h(e,L,hT,ib,ic,id,ie,L.c['selected_halo_color'].gv(hT),!!false,Math.floor(hV))}if(hZ!==0){e.restore()}}}}if(!L.scaleMarksInX&&L.scaleMarksInY){{var ig=L.getMarkInstanceOffsets(hT);var ih=ig.length;for(var ii=0;ii<ih;ii++){var ij=ig[ii];eF.$1w(e,ij);{var ik=0;var il=L.c['x'].gv(hT)-hU+ik;var im=L.c['x'].gv(hT)+hU-ik;var io=L.c['y'].gv(hT)+ik;var ip=L.c['y1'].gv(hT)-ik;eF.$h(e,L,hT,il,im,io,ip,L.c['selected_halo_color'].gv(hT),!!false,Math.floor(hV))}if(ij!==0){e.restore()}}}}if(L.scaleMarksInX&&!L.scaleMarksInY){{var iq=L.getMarkInstanceOffsets(hT);var ir=iq.length;for(var it=0;it<ir;it++){var iu=iq[it];eF.$1w(e,iu);{var iv=0;var iw=L.c['x'].gv(hT)+iv;var ix=L.c['x1'].gv(hT)-iv;var iy=L.c['y'].gv(hT)-hU+iv;var iz=L.c['y'].gv(hT)+hU-iv;eF.$h(e,L,hT,iw,ix,iy,iz,L.c['selected_halo_color'].gv(hT),!!false,Math.floor(hV))}if(iu!==0){e.restore()}}}}if(!L.scaleMarksInX&&!L.scaleMarksInY){{var iA=L.getMarkInstanceOffsets(hT);var iB=iA.length;for(var iC=0;iC<iB;iC++){var iD=iA[iC];eF.$1w(e,iD);{var iE=0;var iF=L.c['x'].gv(hT)-hU+iE;var iG=L.c['x'].gv(hT)+hU-iE;var iH=L.c['y'].gv(hT)-hU+iE;var iI=L.c['y'].gv(hT)+hU-iE;eF.$h(e,L,hT,iF,iG,iH,iI,L.c['selected_halo_color'].gv(hT),!!true,Math.floor(hV))}if(iD!==0){e.restore()}}}}};eF.$G=function(e,L,hT){var hU=false;if(hT-1>0&&!L.isMarkEndPrimitive(hT-1)){hU=hU||L.isMarkHighlighted(hT-1)}if(hT+1<L.markCount&&!L.isMarkEndPrimitive(hT)){hU=hU||L.isMarkHighlighted(hT+1)}var hV;var hW=L.c['x'].gv(hT);var hX=L.c['y'].gv(hT);if(L.isMarkSelected(hT)){hV=L.c['selected_halo_color'].gv(hT)['colorOverrideOpaque'];{var hY=L.c['draw_border'].gv(hT);var hZ=L.c['size'].gv(hT)+4+4+(hY?2:0);bn.renderCircle(e,0+hW,0+hX,hZ,hV,4)}hV=L.getMarkColors(hT)['colorOverrideOpaque'];{var ia=L.getMarkInstanceOffsets(hT);var ib=ia.length;for(var ic=0;ic<ib;ic++){var id=ia[ic];eF.$1w(e,id);bn.renderFilledCircle(e,0+hW,0+hX,L.c['size'].gv(hT)+4+4,hV);if(id!==0){e.restore()}}}}else if(L.isMarkHighlighted(hT)&&!hU){hV=L.c['selected_multi_prim_halo_color'].gv(hT)['colorOverrideNone'];{var ie=L.getMarkInstanceOffsets(hT);var ig=ie.length;for(var ih=0;ih<ig;ih++){var ii=ie[ih];eF.$1w(e,ii);{var ij=L.c['draw_border'].gv(hT);var ik=L.c['size'].gv(hT)+4+4+(ij?2:0);bn.renderCircle(e,0+hW,0+hX,ik,hV,4)}if(ii!==0){e.restore()}}}hV=L.getMarkColors(hT)['colorOverrideNone'];{var il=L.getMarkInstanceOffsets(hT);var im=il.length;for(var io=0;io<im;io++){var ip=il[io];eF.$1w(e,ip);bn.renderFilledCircle(e,0+hW,0+hX,L.c['size'].gv(hT)+4+4,hV);if(ip!==0){e.restore()}}}}else{hV=L.getMarkColors(hT)['colorOverrideNone'];{var iq=L.getMarkInstanceOffsets(hT);var ir=iq.length;for(var it=0;it<ir;it++){var iu=iq[it];eF.$1w(e,iu);bn.renderFilledCircle(e,0+hW,0+hX,L.c['size'].gv(hT)+4,hV);if(iu!==0){e.restore()}}}}};eF.$H=function(e,L,hT){var hU=L.getMarkColors(hT)['colorOverrideNone'];var hV=L.c['x'].gv(hT);var hW=L.c['y'].gv(hT);{var hX=L.getMarkInstanceOffsets(hT);var hY=hX.length;for(var hZ=0;hZ<hY;hZ++){var ia=hX[hZ];eF.$1w(e,ia);bn.renderFilledCircle(e,0+hV,0+hW,L.c['size'].gv(hT)+8,hU);if(ia!==0){e.restore()}}}};eF.$1x=function(e,L){var hT=false;switch(e){case'shapeIDCircle':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{hT=true;break}default:{break}}break}case'shapeIDFilledCircle':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'border':case'hoverOverlay':case'pressedOverlay':{hT=true;break}default:{break}}break}case'shapeIDUnscaledFilledCircle':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'border':case'hoverOverlay':case'pressedOverlay':{hT=true;break}default:{break}}break}case'shapeIDSquare':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{hT=true;break}default:{break}}break}case'shapeIDFilledSquare':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'border':case'hoverOverlay':case'pressedOverlay':{hT=true;break}default:{break}}break}case'shapeIDAsterisk':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{hT=true;break}default:{break}}break}case'shapeIDPlus':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{hT=true;break}default:{break}}break}case'shapeIDFilledPlus':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{hT=true;break}default:{break}}break}case'shapeIDTimes':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{hT=true;break}default:{break}}break}case'shapeIDFilledTimes':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{hT=true;break}default:{break}}break}case'shapeIDDiamond':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{hT=true;break}default:{break}}break}case'shapeIDFilledDiamond':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{hT=true;break}default:{break}}break}case'shapeIDTriangle':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{hT=true;break}default:{break}}break}case'shapeIDFilledTriangle':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{hT=true;break}default:{break}}break}case'shapeIDDownTriangle':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{hT=true;break}default:{break}}break}case'shapeIDFilledDownTriangle':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{hT=true;break}default:{break}}break}case'shapeIDLeftTriangle':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{hT=true;break}default:{break}}break}case'shapeIDFilledLeftTriangle':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{hT=true;break}default:{break}}break}case'shapeIDRightTriangle':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{hT=true;break}default:{break}}break}case'shapeIDFilledRightTriangle':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{hT=true;break}default:{break}}break}case'shapeIDFilledStar':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{hT=true;break}default:{break}}break}default:{hT=true;break}}return hT};eF.$l=function(e,L,hT){var hU=0;switch(e){case'shapeIDCircle':{switch(L){case'normalUnder':{hU=Math.ceil(hT+4);break}case'normalOn':{hU=Math.ceil(hT+2);break}case'selectedUnder':{hU=Math.ceil(hT+4);break}case'hoverOverlay':{hU=Math.ceil(hT+6);break}case'pressedOverlay':{hU=Math.ceil(hT+8);break}default:{break}}break}case'shapeIDFilledCircle':{switch(L){case'normalUnder':{hU=Math.ceil(hT+4);break}case'normalOn':{hU=Math.ceil(hT+2);break}case'selectedUnder':{hU=Math.ceil(hT+4);break}case'border':{hU=Math.ceil(hT+2);break}case'hoverOverlay':{hU=Math.ceil(hT+2);break}case'pressedOverlay':{hU=Math.ceil(hT+6);break}default:{break}}break}case'shapeIDUnscaledFilledCircle':{switch(L){case'normalUnder':{hU=Math.ceil(hT+4);break}case'normalOn':{hU=Math.ceil(hT+2);break}case'selectedUnder':{hU=Math.ceil(hT+4);break}case'border':{hU=Math.ceil(hT+2);break}case'hoverOverlay':{hU=Math.ceil(hT+4);break}case'pressedOverlay':{hU=Math.ceil(hT+6);break}default:{break}}break}case'shapeIDSquare':{switch(L){case'normalUnder':{hU=Math.ceil(hT+4);break}case'normalOn':{hU=Math.ceil(hT+2);break}case'selectedUnder':{hU=Math.ceil(hT+4);break}case'hoverOverlay':{hU=Math.ceil(hT+4);break}case'pressedOverlay':{hU=Math.ceil(hT+6);break}default:{break}}break}case'shapeIDFilledSquare':{switch(L){case'normalUnder':{hU=Math.ceil(hT+4);break}case'normalOn':{hU=Math.ceil(hT+2);break}case'selectedUnder':{hU=Math.ceil(hT+4);break}case'border':{hU=Math.ceil(hT+2);break}case'hoverOverlay':{hU=Math.ceil(hT+2);break}case'pressedOverlay':{hU=Math.ceil(hT+4);break}default:{break}}break}case'shapeIDAsterisk':{switch(L){case'normalUnder':{hU=Math.ceil(hT+4);break}case'normalOn':{hU=Math.ceil(hT+2);break}case'selectedUnder':{hU=Math.ceil(hT+4);break}case'hoverOverlay':{hU=Math.ceil(hT+6);break}case'pressedOverlay':{hU=Math.ceil(hT+8);break}default:{break}}break}case'shapeIDPlus':{switch(L){case'normalUnder':{hU=Math.ceil(hT+4);break}case'normalOn':{hU=Math.ceil(hT+2);break}case'selectedUnder':{hU=Math.ceil(hT+4);break}case'hoverOverlay':{hU=Math.ceil(hT+4);break}case'pressedOverlay':{hU=Math.ceil(hT+6);break}default:{break}}break}case'shapeIDFilledPlus':{switch(L){case'normalUnder':{hU=Math.ceil(hT+4);break}case'normalOn':{hU=Math.ceil(hT+2);break}case'selectedUnder':{hU=Math.ceil(hT+4);break}case'hoverOverlay':{hU=Math.ceil(hT+3);break}case'pressedOverlay':{hU=Math.ceil(hT+5);break}default:{break}}break}case'shapeIDTimes':{switch(L){case'normalUnder':{hU=Math.ceil(hT+4);break}case'normalOn':{hU=Math.ceil(hT+2);break}case'selectedUnder':{hU=Math.ceil(hT+4);break}case'hoverOverlay':{hU=Math.ceil(hT+4);break}case'pressedOverlay':{hU=Math.ceil(hT+6);break}default:{break}}break}case'shapeIDFilledTimes':{switch(L){case'normalUnder':{hU=Math.ceil(hT+4);break}case'normalOn':{hU=Math.ceil(hT+2);break}case'selectedUnder':{hU=Math.ceil(hT+4);break}case'hoverOverlay':{hU=Math.ceil(hT+4);break}case'pressedOverlay':{hU=Math.ceil(hT+6);break}default:{break}}break}case'shapeIDDiamond':{switch(L){case'normalUnder':{hU=Math.ceil(hT+4);break}case'normalOn':{hU=Math.ceil(hT+2);break}case'selectedUnder':{hU=Math.ceil(hT+4);break}case'hoverOverlay':{hU=Math.ceil(hT+6);break}case'pressedOverlay':{hU=Math.ceil(hT+8);break}default:{break}}break}case'shapeIDFilledDiamond':{switch(L){case'normalUnder':{hU=Math.ceil(hT+4);break}case'normalOn':{hU=Math.ceil(hT+2);break}case'selectedUnder':{hU=Math.ceil(hT+4);break}case'hoverOverlay':{hU=Math.ceil(hT+5);break}case'pressedOverlay':{hU=Math.ceil(hT+7);break}default:{break}}break}case'shapeIDTriangle':{switch(L){case'normalUnder':{hU=Math.ceil(hT+4);break}case'normalOn':{hU=Math.ceil(hT+2);break}case'selectedUnder':{hU=Math.ceil(hT+4);break}case'hoverOverlay':{hU=Math.ceil(hT+6);break}case'pressedOverlay':{hU=Math.ceil(hT+8);break}default:{break}}break}case'shapeIDFilledTriangle':{switch(L){case'normalUnder':{hU=Math.ceil(hT+4);break}case'normalOn':{hU=Math.ceil(hT+2);break}case'selectedUnder':{hU=Math.ceil(hT+4);break}case'hoverOverlay':{hU=Math.ceil(hT+2);break}case'pressedOverlay':{hU=Math.ceil(hT+4);break}default:{break}}break}case'shapeIDDownTriangle':{switch(L){case'normalUnder':{hU=Math.ceil(hT+4);break}case'normalOn':{hU=Math.ceil(hT+2);break}case'selectedUnder':{hU=Math.ceil(hT+4);break}case'hoverOverlay':{hU=Math.ceil(hT+4);break}case'pressedOverlay':{hU=Math.ceil(hT+4);break}default:{break}}break}case'shapeIDFilledDownTriangle':{switch(L){case'normalUnder':{hU=Math.ceil(hT+4);break}case'normalOn':{hU=Math.ceil(hT+2);break}case'selectedUnder':{hU=Math.ceil(hT+4);break}case'hoverOverlay':{hU=Math.ceil(hT+2);break}case'pressedOverlay':{hU=Math.ceil(hT+4);break}default:{break}}break}case'shapeIDLeftTriangle':{switch(L){case'normalUnder':{hU=Math.ceil(hT+4);break}case'normalOn':{hU=Math.ceil(hT+2);break}case'selectedUnder':{hU=Math.ceil(hT+4);break}case'hoverOverlay':{hU=Math.ceil(hT+4);break}case'pressedOverlay':{hU=Math.ceil(hT+4);break}default:{break}}break}case'shapeIDFilledLeftTriangle':{switch(L){case'normalUnder':{hU=Math.ceil(hT+4);break}case'normalOn':{hU=Math.ceil(hT+2);break}case'selectedUnder':{hU=Math.ceil(hT+4);break}case'hoverOverlay':{hU=Math.ceil(hT+2);break}case'pressedOverlay':{hU=Math.ceil(hT+4);break}default:{break}}break}case'shapeIDRightTriangle':{switch(L){case'normalUnder':{hU=Math.ceil(hT+4);break}case'normalOn':{hU=Math.ceil(hT+2);break}case'selectedUnder':{hU=Math.ceil(hT+4);break}case'hoverOverlay':{hU=Math.ceil(hT+4);break}case'pressedOverlay':{hU=Math.ceil(hT+6);break}default:{break}}break}case'shapeIDFilledRightTriangle':{switch(L){case'normalUnder':{hU=Math.ceil(hT+4);break}case'normalOn':{hU=Math.ceil(hT+2);break}case'selectedUnder':{hU=Math.ceil(hT+4);break}case'hoverOverlay':{hU=Math.ceil(hT+2);break}case'pressedOverlay':{hU=Math.ceil(hT+4);break}default:{break}}break}case'shapeIDFilledStar':{switch(L){case'normalUnder':{hU=Math.ceil(hT+6);break}case'normalOn':{hU=Math.ceil(hT+2);break}case'selectedUnder':{hU=Math.ceil(hT+6);break}case'hoverOverlay':{hU=Math.ceil(hT+10);break}case'pressedOverlay':{hU=Math.ceil(hT+14);break}default:{break}}break}default:{break}}return hU};eF.$M=function(e,L,hT){var hU=L.c['shape_id'].gv(hT);var hV=L.c['x'].gv(hT);var hW=L.c['y'].gv(hT);if(L.shouldStampThisShapeMark(hT)){hV=hV+0.5<<0;hW=hW+0.5<<0}switch(hU){case'shapeIDCircle':{eF.$P(e,L,hV,hW,hT);break}case'shapeIDFilledCircle':{eF.$V(e,L,hV,hW,hT);break}case'shapeIDUnscaledFilledCircle':{eF.$1r(e,L,hV,hW,hT);break}case'shapeIDSquare':{eF.$1l(e,L,hV,hW,hT);break}case'shapeIDFilledSquare':{eF.$17(e,L,hV,hW,hT);break}case'shapeIDAsterisk':{eF.$N(e,L,hV,hW,hT);break}case'shapeIDPlus':{eF.$1h(e,L,hV,hW,hT);break}case'shapeIDFilledPlus':{eF.$13(e,L,hV,hW,hT);break}case'shapeIDTimes':{eF.$1n(e,L,hV,hW,hT);break}case'shapeIDFilledTimes':{eF.$1b(e,L,hV,hW,hT);break}case'shapeIDDiamond':{eF.$R(e,L,hV,hW,hT);break}case'shapeIDFilledDiamond':{eF.$X(e,L,hV,hW,hT);break}case'shapeIDTriangle':{eF.$1p(e,L,hV,hW,hT);break}case'shapeIDFilledTriangle':{eF.$1d(e,L,hV,hW,hT);break}case'shapeIDDownTriangle':{eF.$T(e,L,hV,hW,hT);break}case'shapeIDFilledDownTriangle':{eF.$Z(e,L,hV,hW,hT);break}case'shapeIDLeftTriangle':{eF.$1f(e,L,hV,hW,hT);break}case'shapeIDFilledLeftTriangle':{eF.$11(e,L,hV,hW,hT);break}case'shapeIDRightTriangle':{eF.$1j(e,L,hV,hW,hT);break}case'shapeIDFilledRightTriangle':{eF.$15(e,L,hV,hW,hT);break}case'shapeIDFilledStar':{eF.$19(e,L,hV,hW,hT);break}default:{if(ss.isValue(tab.ApplicationModel.get_instance().get_shapeManager().getImageElement(hU))){var hX=L.getMarkInstanceOffsets(hT);var hY=hX.length;for(var hZ=0;hZ<hY;hZ++){var ia=hX[hZ];if(ia!==0){e.save();e.translate(ia,0)}bn.renderCustomShape(e,L,hT,'hoverOverlay','colorOverrideNone');if(ia!==0){e.restore()}}}else{eF.$P(e,L,hV,hW,hT)}break}}};eF.$1t=function(e,L,hT){var hU=L.getMarkIndexFromTupleID(hT);var hV=L.c['shape_id'].gv(hU);var hW=L.c['x'].gv(hU);var hX=L.c['y'].gv(hU);if(L.shouldStampThisShapeMark(hU)){hW=hW+0.5<<0;hX=hX+0.5<<0}switch(hV){case'shapeIDCircle':{eF.$Q(e,L,hW,hX,hU);break}case'shapeIDFilledCircle':{eF.$W(e,L,hW,hX,hU);break}case'shapeIDUnscaledFilledCircle':{eF.$1s(e,L,hW,hX,hU);break}case'shapeIDSquare':{eF.$1m(e,L,hW,hX,hU);break}case'shapeIDFilledSquare':{eF.$18(e,L,hW,hX,hU);break}case'shapeIDAsterisk':{eF.$O(e,L,hW,hX,hU);break}case'shapeIDPlus':{eF.$1i(e,L,hW,hX,hU);break}case'shapeIDFilledPlus':{eF.$14(e,L,hW,hX,hU);break}case'shapeIDTimes':{eF.$1o(e,L,hW,hX,hU);break}case'shapeIDFilledTimes':{eF.$1c(e,L,hW,hX,hU);break}case'shapeIDDiamond':{eF.$S(e,L,hW,hX,hU);break}case'shapeIDFilledDiamond':{eF.$Y(e,L,hW,hX,hU);break}case'shapeIDTriangle':{eF.$1q(e,L,hW,hX,hU);break}case'shapeIDFilledTriangle':{eF.$1e(e,L,hW,hX,hU);break}case'shapeIDDownTriangle':{eF.$U(e,L,hW,hX,hU);break}case'shapeIDFilledDownTriangle':{eF.$10(e,L,hW,hX,hU);break}case'shapeIDLeftTriangle':{eF.$1g(e,L,hW,hX,hU);break}case'shapeIDFilledLeftTriangle':{eF.$12(e,L,hW,hX,hU);break}case'shapeIDRightTriangle':{eF.$1k(e,L,hW,hX,hU);break}case'shapeIDFilledRightTriangle':{eF.$16(e,L,hW,hX,hU);break}case'shapeIDFilledStar':{eF.$1a(e,L,hW,hX,hU);break}default:{if(ss.isValue(tab.ApplicationModel.get_instance().get_shapeManager().getImageElement(hV))){var hY=L.getMarkInstanceOffsets(hU);var hZ=hY.length;for(var ia=0;ia<hZ;ia++){var ib=hY[ia];if(ib!==0){e.save();e.translate(ib,0)}bn.renderCustomShape(e,L,hU,'pressedOverlay','colorOverrideNone');if(ib!==0){e.restore()}}}else{eF.$Q(e,L,hW,hX,hU)}break}}};eF.$P=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=L.c['draw_border'].gv(hV);var ie=L.c['size'].gv(hV)*0.958333333333333+2+(id?2:0);bn.renderCircle(e,0+hX,0+hY,ie,hW,1)}if(ic!==0){e.restore()}}}};eF.$Q=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=L.c['draw_border'].gv(hV);var ie=L.c['size'].gv(hV)*0.958333333333333+3+(id?2:0);bn.renderCircle(e,0+hX,0+hY,ie,hW,2)}if(ic!==0){e.restore()}}}};eF.$V=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=L.c['draw_border'].gv(hV);var ie=L.c['size'].gv(hV)*0.979166666666667+(id?2:0);bn.renderCircle(e,0+hX,0+hY,ie,hW,1)}if(ic!==0){e.restore()}}}};eF.$W=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=L.c['draw_border'].gv(hV);var ie=L.c['size'].gv(hV)*0.979166666666667+1+(id?2:0);bn.renderCircle(e,0+hX,0+hY,ie,hW,2)}if(ic!==0){e.restore()}}}};eF.$1r=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=L.c['draw_border'].gv(hV);var ie=L.c['size'].gv(hV)+(id?2:0);bn.renderCircle(e,0+hX,0+hY,ie,hW,1)}if(ic!==0){e.restore()}}}};eF.$1s=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=L.c['draw_border'].gv(hV);var ie=L.c['size'].gv(hV)+1+(id?2:0);bn.renderCircle(e,0+hX,0+hY,ie,hW,2)}if(ic!==0){e.restore()}}}};eF.$1l=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);bn.renderRectangle(e,hX+0,hY+0,L.c['size'].gv(hV)*0.895833333333333+3,L.c['size'].gv(hV)*0.895833333333333+3,hW,1);if(ic!==0){e.restore()}}}};eF.$1m=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);bn.renderRectangle(e,hX+0,hY+0,L.c['size'].gv(hV)*0.895833333333333+4,L.c['size'].gv(hV)*0.895833333333333+4,hW,2);if(ic!==0){e.restore()}}}};eF.$17=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);bn.renderRectangle(e,hX+0,hY+0,L.c['size'].gv(hV)*0.9375+1,L.c['size'].gv(hV)*0.9375+1,hW,1);if(ic!==0){e.restore()}}}};eF.$18=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);bn.renderRectangle(e,hX+0,hY+0,L.c['size'].gv(hV)*0.9375+2,L.c['size'].gv(hV)*0.9375+2,hW,2);if(ic!==0){e.restore()}}}};eF.$N=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=new Array(36);var ie=(L.c['size'].gv(hV)*0.958333333333333+2)/2;var ig=0.899999976158142*ie;var ih=(L.c['size'].gv(hV)*0.958333333333333+6)/4;var ii=2.5;var ij=1.5;id[0]=-ii+hX;id[1]=0+hY;id[2]=-ig+hX;id[3]=ih-ii+hY;id[4]=ij-ig+hX;id[5]=ih+hY;id[6]=-ij+hX;id[7]=ii+hY;id[8]=-ij+hX;id[9]=ie+hY;id[10]=ij+hX;id[11]=ie+hY;id[12]=ij+hX;id[13]=ii+hY;id[14]=ig-ij+hX;id[15]=ih+hY;id[16]=ig+hX;id[17]=ih-ii+hY;id[18]=ii+hX;id[19]=0+hY;id[20]=ig+hX;id[21]=ii-ih+hY;id[22]=ig-ij+hX;id[23]=-ih+hY;id[24]=ij+hX;id[25]=-ii+hY;id[26]=ij+hX;id[27]=-ie+hY;id[28]=-ij+hX;id[29]=-ie+hY;id[30]=-ij+hX;id[31]=-ii+hY;id[32]=ij-ig+hX;id[33]=-ih+hY;id[34]=-ig+hX;id[35]=ii-ih+hY;e.set_lineWidth(1);e.set_strokeStyle(hW);e.set_lineJoin('miter');bn.strokePath(e,id,true,true)}if(ic!==0){e.restore()}}}};eF.$O=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=new Array(36);var ie=(L.c['size'].gv(hV)*0.958333333333333+4)/2;var ig=0.899999976158142*ie;var ih=(L.c['size'].gv(hV)*0.958333333333333+8)/4;var ii=3;var ij=2;id[0]=-ii+hX;id[1]=0+hY;id[2]=-ig+hX;id[3]=ih-ii+hY;id[4]=ij-ig+hX;id[5]=ih+hY;id[6]=-ij+hX;id[7]=ii+hY;id[8]=-ij+hX;id[9]=ie+hY;id[10]=ij+hX;id[11]=ie+hY;id[12]=ij+hX;id[13]=ii+hY;id[14]=ig-ij+hX;id[15]=ih+hY;id[16]=ig+hX;id[17]=ih-ii+hY;id[18]=ii+hX;id[19]=0+hY;id[20]=ig+hX;id[21]=ii-ih+hY;id[22]=ig-ij+hX;id[23]=-ih+hY;id[24]=ij+hX;id[25]=-ii+hY;id[26]=ij+hX;id[27]=-ie+hY;id[28]=-ij+hX;id[29]=-ie+hY;id[30]=-ij+hX;id[31]=-ii+hY;id[32]=ij-ig+hX;id[33]=-ih+hY;id[34]=-ig+hX;id[35]=ii-ih+hY;e.set_lineWidth(2);e.set_strokeStyle(hW);e.set_lineJoin('miter');bn.strokePath(e,id,true,true)}if(ic!==0){e.restore()}}}};eF.$1h=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=new Array(24);var ie=(L.c['size'].gv(hV)*0.916666666666667+2)/2;var ig=1.5;id[0]=-ig+hX;id[1]=-ie+hY;id[2]=-ig+hX;id[3]=-ig+hY;id[4]=-ie+hX;id[5]=-ig+hY;id[6]=-ie+hX;id[7]=ig+hY;id[8]=-ig+hX;id[9]=ig+hY;id[10]=-ig+hX;id[11]=ie+hY;id[12]=ig+hX;id[13]=ie+hY;id[14]=ig+hX;id[15]=ig+hY;id[16]=ie+hX;id[17]=ig+hY;id[18]=ie+hX;id[19]=-ig+hY;id[20]=ig+hX;id[21]=-ig+hY;id[22]=ig+hX;id[23]=-ie+hY;e.set_lineWidth(1);e.set_strokeStyle(hW);e.set_lineJoin('miter');bn.strokePath(e,id,true,true)}if(ic!==0){e.restore()}}}};eF.$1i=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=new Array(24);var ie=(L.c['size'].gv(hV)*0.916666666666667+3)/2;var ig=2;id[0]=-ig+hX;id[1]=-ie+hY;id[2]=-ig+hX;id[3]=-ig+hY;id[4]=-ie+hX;id[5]=-ig+hY;id[6]=-ie+hX;id[7]=ig+hY;id[8]=-ig+hX;id[9]=ig+hY;id[10]=-ig+hX;id[11]=ie+hY;id[12]=ig+hX;id[13]=ie+hY;id[14]=ig+hX;id[15]=ig+hY;id[16]=ie+hX;id[17]=ig+hY;id[18]=ie+hX;id[19]=-ig+hY;id[20]=ig+hX;id[21]=-ig+hY;id[22]=ig+hX;id[23]=-ie+hY;e.set_lineWidth(2);e.set_strokeStyle(hW);e.set_lineJoin('miter');bn.strokePath(e,id,true,true)}if(ic!==0){e.restore()}}}};eF.$13=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=new Array(24);var ie=L.c['size'].gv(hV)*0.9375/2;var ig=ie/3;id[0]=-ig+hX;id[1]=-ie+hY;id[2]=-ig+hX;id[3]=-ig+hY;id[4]=-ie+hX;id[5]=-ig+hY;id[6]=-ie+hX;id[7]=ig+hY;id[8]=-ig+hX;id[9]=ig+hY;id[10]=-ig+hX;id[11]=ie+hY;id[12]=ig+hX;id[13]=ie+hY;id[14]=ig+hX;id[15]=ig+hY;id[16]=ie+hX;id[17]=ig+hY;id[18]=ie+hX;id[19]=-ig+hY;id[20]=ig+hX;id[21]=-ig+hY;id[22]=ig+hX;id[23]=-ie+hY;e.set_lineWidth(1);e.set_strokeStyle(hW);e.set_lineJoin('miter');bn.strokePath(e,id,true,true)}if(ic!==0){e.restore()}}}};eF.$14=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=new Array(24);var ie=(L.c['size'].gv(hV)*0.9375+1)/2;var ig=(L.c['size'].gv(hV)*0.9375+3)/6;id[0]=-ig+hX;id[1]=-ie+hY;id[2]=-ig+hX;id[3]=-ig+hY;id[4]=-ie+hX;id[5]=-ig+hY;id[6]=-ie+hX;id[7]=ig+hY;id[8]=-ig+hX;id[9]=ig+hY;id[10]=-ig+hX;id[11]=ie+hY;id[12]=ig+hX;id[13]=ie+hY;id[14]=ig+hX;id[15]=ig+hY;id[16]=ie+hX;id[17]=ig+hY;id[18]=ie+hX;id[19]=-ig+hY;id[20]=ig+hX;id[21]=-ig+hY;id[22]=ig+hX;id[23]=-ie+hY;e.set_lineWidth(2);e.set_strokeStyle(hW);e.set_lineJoin('miter');bn.strokePath(e,id,true,true)}if(ic!==0){e.restore()}}}};eF.$1n=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=new Array(24);var ie=(L.c['size'].gv(hV)*0.875+4)/2;var ig=2;id[0]=-ie+ig+hX;id[1]=-ie+hY;id[2]=-ie+hX;id[3]=-ie+ig+hY;id[4]=-ig+hX;id[5]=0+hY;id[6]=-ie+hX;id[7]=ie-ig+hY;id[8]=-ie+ig+hX;id[9]=ie+hY;id[10]=0+hX;id[11]=ig+hY;id[12]=ie-ig+hX;id[13]=ie+hY;id[14]=ie+hX;id[15]=ie-ig+hY;id[16]=ig+hX;id[17]=0+hY;id[18]=ie+hX;id[19]=-ie+ig+hY;id[20]=ie-ig+hX;id[21]=-ie+hY;id[22]=0+hX;id[23]=-ig+hY;e.set_lineWidth(1);e.set_strokeStyle(hW);e.set_lineJoin('miter');bn.strokePath(e,id,true,true)}if(ic!==0){e.restore()}}}};eF.$1o=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=new Array(24);var ie=(L.c['size'].gv(hV)*0.875+4)/2;var ig=3;id[0]=-ie+ig+hX;id[1]=-ie+hY;id[2]=-ie+hX;id[3]=-ie+ig+hY;id[4]=-ig+hX;id[5]=0+hY;id[6]=-ie+hX;id[7]=ie-ig+hY;id[8]=-ie+ig+hX;id[9]=ie+hY;id[10]=0+hX;id[11]=ig+hY;id[12]=ie-ig+hX;id[13]=ie+hY;id[14]=ie+hX;id[15]=ie-ig+hY;id[16]=ig+hX;id[17]=0+hY;id[18]=ie+hX;id[19]=-ie+ig+hY;id[20]=ie-ig+hX;id[21]=-ie+hY;id[22]=0+hX;id[23]=-ig+hY;e.set_lineWidth(2);e.set_strokeStyle(hW);e.set_lineJoin('miter');bn.strokePath(e,id,true,true)}if(ic!==0){e.restore()}}}};eF.$1b=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=new Array(24);var ie=L.c['size'].gv(hV)*0.9375/2;var ig=L.c['size'].gv(hV)*0.9375/4;id[0]=-ig+hX;id[1]=-ie+hY;id[2]=-ie+hX;id[3]=-ig+hY;id[4]=-ig+hX;id[5]=0+hY;id[6]=-ie+hX;id[7]=ig+hY;id[8]=-ig+hX;id[9]=ie+hY;id[10]=0+hX;id[11]=ig+hY;id[12]=ig+hX;id[13]=ie+hY;id[14]=ie+hX;id[15]=ig+hY;id[16]=ig+hX;id[17]=0+hY;id[18]=ie+hX;id[19]=-ig+hY;id[20]=ig+hX;id[21]=-ie+hY;id[22]=0+hX;id[23]=-ig+hY;e.set_lineWidth(1);e.set_strokeStyle(hW);e.set_lineJoin('miter');bn.strokePath(e,id,true,true)}if(ic!==0){e.restore()}}}};eF.$1c=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=new Array(24);var ie=L.c['size'].gv(hV)*0.9375/2;var ig=L.c['size'].gv(hV)*0.9375/4;id[0]=-ig+hX;id[1]=-ie+hY;id[2]=-ie+hX;id[3]=-ig+hY;id[4]=-ig+hX;id[5]=0+hY;id[6]=-ie+hX;id[7]=ig+hY;id[8]=-ig+hX;id[9]=ie+hY;id[10]=0+hX;id[11]=ig+hY;id[12]=ig+hX;id[13]=ie+hY;id[14]=ie+hX;id[15]=ig+hY;id[16]=ig+hX;id[17]=0+hY;id[18]=ie+hX;id[19]=-ig+hY;id[20]=ig+hX;id[21]=-ie+hY;id[22]=0+hX;id[23]=-ig+hY;e.set_lineWidth(2);e.set_strokeStyle(hW);e.set_lineJoin('miter');bn.strokePath(e,id,true,true)}if(ic!==0){e.restore()}}}};eF.$R=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=new Array(8);var ie=(L.c['size'].gv(hV)*1.04166666666667+3)/2;id[0]=0+hX;id[1]=-ie+hY;id[2]=-ie+hX;id[3]=0+hY;id[4]=0+hX;id[5]=ie+hY;id[6]=ie+hX;id[7]=0+hY;e.set_lineWidth(1);e.set_strokeStyle(hW);e.set_lineJoin('miter');bn.strokePath(e,id,true,true)}if(ic!==0){e.restore()}}}};eF.$S=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=new Array(8);var ie=(L.c['size'].gv(hV)*1.04166666666667+4)/2;id[0]=0+hX;id[1]=-ie+hY;id[2]=-ie+hX;id[3]=0+hY;id[4]=0+hX;id[5]=ie+hY;id[6]=ie+hX;id[7]=0+hY;e.set_lineWidth(2);e.set_strokeStyle(hW);e.set_lineJoin('miter');bn.strokePath(e,id,true,true)}if(ic!==0){e.restore()}}}};eF.$X=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=new Array(8);var ie=L.c['size'].gv(hV)*1.04166666666667/2;id[0]=0+hX;id[1]=-ie+hY;id[2]=-ie+hX;id[3]=0+hY;id[4]=0+hX;id[5]=ie+hY;id[6]=ie+hX;id[7]=0+hY;e.set_lineWidth(1);e.set_strokeStyle(hW);e.set_lineJoin('miter');bn.strokePath(e,id,true,true)}if(ic!==0){e.restore()}}}};eF.$Y=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=new Array(8);var ie=(L.c['size'].gv(hV)*1.04166666666667+2)/2;id[0]=0+hX;id[1]=-ie+hY;id[2]=-ie+hX;id[3]=0+hY;id[4]=0+hX;id[5]=ie+hY;id[6]=ie+hX;id[7]=0+hY;e.set_lineWidth(2);e.set_strokeStyle(hW);e.set_lineJoin('miter');bn.strokePath(e,id,true,true)}if(ic!==0){e.restore()}}}};eF.$1p=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=new Array(6);var ie=(L.c['size'].gv(hV)*0.895833333333333+3)/2;var ig=(L.c['size'].gv(hV)*0.895833333333333+6)/2;id[0]=0+hX;id[1]=-ig+hY;id[2]=-ie+hX;id[3]=ie+hY;id[4]=ie+hX;id[5]=ie+hY;e.set_lineWidth(1);e.set_strokeStyle(hW);e.set_lineJoin('miter');bn.strokePath(e,id,true,true)}if(ic!==0){e.restore()}}}};eF.$1q=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=new Array(6);var ie=(L.c['size'].gv(hV)*0.895833333333333+4)/2;var ig=(L.c['size'].gv(hV)*0.895833333333333+8)/2;id[0]=0+hX;id[1]=-ig+hY;id[2]=-ie+hX;id[3]=ie+hY;id[4]=ie+hX;id[5]=ie+hY;e.set_lineWidth(2);e.set_strokeStyle(hW);e.set_lineJoin('miter');bn.strokePath(e,id,true,true)}if(ic!==0){e.restore()}}}};eF.$1d=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=new Array(6);var ie=L.c['size'].gv(hV)*0.916666666666667/2;id[0]=0+hX;id[1]=-ie+hY;id[2]=-ie+hX;id[3]=ie+hY;id[4]=ie+hX;id[5]=ie+hY;e.set_lineWidth(1);e.set_strokeStyle(hW);e.set_lineJoin('miter');bn.strokePath(e,id,true,true)}if(ic!==0){e.restore()}}}};eF.$1e=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=new Array(6);var ie=(L.c['size'].gv(hV)*0.916666666666667+1)/2;id[0]=0+hX;id[1]=-ie+hY;id[2]=-ie+hX;id[3]=ie+hY;id[4]=ie+hX;id[5]=ie+hY;e.set_lineWidth(2);e.set_strokeStyle(hW);e.set_lineJoin('miter');bn.strokePath(e,id,true,true)}if(ic!==0){e.restore()}}}};eF.$T=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=new Array(6);var ie=(L.c['size'].gv(hV)*0.895833333333333+2.5)/2;var ig=(L.c['size'].gv(hV)*0.895833333333333+6)/2;id[0]=0+hX;id[1]=ig+hY;id[2]=-ie+hX;id[3]=-ie+hY;id[4]=ie+hX;id[5]=-ie+hY;e.set_lineWidth(1);e.set_strokeStyle(hW);e.set_lineJoin('miter');bn.strokePath(e,id,true,true)}if(ic!==0){e.restore()}}}};eF.$U=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=new Array(6);var ie=(L.c['size'].gv(hV)*0.895833333333333+4)/2;var ig=(L.c['size'].gv(hV)*0.895833333333333+8)/2;id[0]=0+hX;id[1]=ig+hY;id[2]=-ie+hX;id[3]=-ie+hY;id[4]=ie+hX;id[5]=-ie+hY;e.set_lineWidth(2);e.set_strokeStyle(hW);e.set_lineJoin('miter');bn.strokePath(e,id,true,true)}if(ic!==0){e.restore()}}}};eF.$Z=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=new Array(6);var ie=L.c['size'].gv(hV)*0.916666666666667/2;id[0]=0+hX;id[1]=ie+hY;id[2]=-ie+hX;id[3]=-ie+hY;id[4]=ie+hX;id[5]=-ie+hY;e.set_lineWidth(1);e.set_strokeStyle(hW);e.set_lineJoin('miter');bn.strokePath(e,id,true,true)}if(ic!==0){e.restore()}}}};eF.$10=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=new Array(6);var ie=(L.c['size'].gv(hV)*0.916666666666667+1)/2;id[0]=0+hX;id[1]=ie+hY;id[2]=-ie+hX;id[3]=-ie+hY;id[4]=ie+hX;id[5]=-ie+hY;e.set_lineWidth(2);e.set_strokeStyle(hW);e.set_lineJoin('miter');bn.strokePath(e,id,true,true)}if(ic!==0){e.restore()}}}};eF.$1f=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=new Array(6);var ie=(L.c['size'].gv(hV)*0.895833333333333+3)/2;var ig=(L.c['size'].gv(hV)*0.895833333333333+6)/2;id[0]=-ig+hX;id[1]=0+hY;id[2]=ie+hX;id[3]=-ie+hY;id[4]=ie+hX;id[5]=ie+hY;e.set_lineWidth(1);e.set_strokeStyle(hW);e.set_lineJoin('miter');bn.strokePath(e,id,true,true)}if(ic!==0){e.restore()}}}};eF.$1g=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=new Array(6);var ie=(L.c['size'].gv(hV)*0.895833333333333+4)/2;var ig=(L.c['size'].gv(hV)*0.895833333333333+8)/2;id[0]=-ig+hX;id[1]=0+hY;id[2]=ie+hX;id[3]=-ie+hY;id[4]=ie+hX;id[5]=ie+hY;e.set_lineWidth(2);e.set_strokeStyle(hW);e.set_lineJoin('miter');bn.strokePath(e,id,true,true)}if(ic!==0){e.restore()}}}};eF.$11=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=new Array(6);var ie=L.c['size'].gv(hV)*0.916666666666667/2;id[0]=-ie+hX;id[1]=0+hY;id[2]=ie+hX;id[3]=-ie+hY;id[4]=ie+hX;id[5]=ie+hY;e.set_lineWidth(1);e.set_strokeStyle(hW);e.set_lineJoin('miter');bn.strokePath(e,id,true,true)}if(ic!==0){e.restore()}}}};eF.$12=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=new Array(6);var ie=(L.c['size'].gv(hV)*0.916666666666667+1)/2;id[0]=-ie+hX;id[1]=0+hY;id[2]=ie+hX;id[3]=-ie+hY;id[4]=ie+hX;id[5]=ie+hY;e.set_lineWidth(2);e.set_strokeStyle(hW);e.set_lineJoin('miter');bn.strokePath(e,id,true,true)}if(ic!==0){e.restore()}}}};eF.$1j=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=new Array(6);var ie=(L.c['size'].gv(hV)*0.895833333333333+3)/2;var ig=(L.c['size'].gv(hV)*0.895833333333333+6)/2;id[0]=-ie+hX;id[1]=-ie+hY;id[2]=-ie+hX;id[3]=ie+hY;id[4]=ig+hX;id[5]=0+hY;e.set_lineWidth(1);e.set_strokeStyle(hW);e.set_lineJoin('miter');bn.strokePath(e,id,true,true)}if(ic!==0){e.restore()}}}};eF.$1k=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=new Array(6);var ie=(L.c['size'].gv(hV)*0.895833333333333+4)/2;var ig=(L.c['size'].gv(hV)*0.895833333333333+8)/2;id[0]=-ie+hX;id[1]=-ie+hY;id[2]=-ie+hX;id[3]=ie+hY;id[4]=ig+hX;id[5]=0+hY;e.set_lineWidth(2);e.set_strokeStyle(hW);e.set_lineJoin('miter');bn.strokePath(e,id,true,true)}if(ic!==0){e.restore()}}}};eF.$15=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=new Array(6);var ie=L.c['size'].gv(hV)*0.916666666666667/2;id[0]=-ie+hX;id[1]=-ie+hY;id[2]=-ie+hX;id[3]=ie+hY;id[4]=ie+hX;id[5]=0+hY;e.set_lineWidth(1);e.set_strokeStyle(hW);e.set_lineJoin('miter');bn.strokePath(e,id,true,true)}if(ic!==0){e.restore()}}}};eF.$16=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=new Array(6);var ie=(L.c['size'].gv(hV)*0.916666666666667+1)/2;id[0]=-ie+hX;id[1]=-ie+hY;id[2]=-ie+hX;id[3]=ie+hY;id[4]=ie+hX;id[5]=0+hY;e.set_lineWidth(2);e.set_strokeStyle(hW);e.set_lineJoin('miter');bn.strokePath(e,id,true,true)}if(ic!==0){e.restore()}}}};eF.$19=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=new Array(20);var ie=L.c['size'].gv(hV)*1.09166666666667+2;var ig=ie*0.3877;var ih=ie/2;id[0]=0+hX;id[1]=-ih+ie*0.0246+hY;id[2]=-ih+ie*0.3817+hX;id[3]=-ih+ig+hY;id[4]=-ih+hX;id[5]=-ih+ig+hY;id[6]=-ih+ie*0.3088+hX;id[7]=-ih+ie*0.612+hY;id[8]=-ih+ie*0.1909+hX;id[9]=-ih+ie*0.9751+hY;id[10]=0+hX;id[11]=-ih+ie*0.7507+hY;id[12]=-ih+ie*0.8085+hX;id[13]=-ih+ie*0.9751+hY;id[14]=-ih+ie*0.6905+hX;id[15]=-ih+ie*0.612+hY;id[16]=ih+hX;id[17]=-ih+ig+hY;id[18]=-ih+ie*0.6176+hX;id[19]=-ih+ig+hY;e.set_lineWidth(1);e.set_strokeStyle(hW);e.set_lineJoin('miter');bn.strokePath(e,id,true,true)}if(ic!==0){e.restore()}}}};eF.$1a=function(e,L,hT,hU,hV){var hW=L.c['selected_halo_color'].gv(hV)['colorOverrideNone'];var hX=hT;var hY=hU;{var hZ=L.getMarkInstanceOffsets(hV);var ia=hZ.length;for(var ib=0;ib<ia;ib++){var ic=hZ[ib];eF.$1w(e,ic);{var id=new Array(20);var ie=L.c['size'].gv(hV)*1.09166666666667+4;var ig=ie*0.3877;var ih=ie/2;id[0]=0+hX;id[1]=-ih+ie*0.0246+hY;id[2]=-ih+ie*0.3817+hX;id[3]=-ih+ig+hY;id[4]=-ih+hX;id[5]=-ih+ig+hY;id[6]=-ih+ie*0.3088+hX;id[7]=-ih+ie*0.612+hY;id[8]=-ih+ie*0.1909+hX;id[9]=-ih+ie*0.9751+hY;id[10]=0+hX;id[11]=-ih+ie*0.7507+hY;id[12]=-ih+ie*0.8085+hX;id[13]=-ih+ie*0.9751+hY;id[14]=-ih+ie*0.6905+hX;id[15]=-ih+ie*0.612+hY;id[16]=ih+hX;id[17]=-ih+ig+hY;id[18]=-ih+ie*0.6176+hX;id[19]=-ih+ig+hY;e.set_lineWidth(2);e.set_strokeStyle(hW);e.set_lineJoin('miter');bn.strokePath(e,id,true,true)}if(ic!==0){e.restore()}}}};eF.$1w=function(e,L){if(!tab.DoubleUtil.isApproximatelyEqual(L,0)){e.save();e.translate(L,0)}};eF.$g=function(e,L,hT,hU,hV,hW){var hX=Math.min(hT,hV);var hY=Math.max(hT,hV);var hZ=Math.min(hU,hW);var ia=Math.max(hU,hW);var ib=bn.roundStartAndExtent(hX,hY-hX,e.get_minBarHeight());var ic=bn.roundStartAndExtent(hZ,ia-hZ,e.get_minBarWidth());tab.RectXYUtil.unionInPlace$1(L,ic.item1,ib.item1,Math.floor(ic.item2),Math.floor(ib.item2))};eF.$h=function(e,L,hT,hU,hV,hW,hX,hY,hZ,ia){var ib=L.c['draw_border'].gv(hT);var ic=(ib?1:0);var id=((L.markType==='text')?0:1);var ie=Math.min(hU,hV);var ig=Math.min(hW,hX);var ih=Math.abs(hV-hU);var ii=Math.abs(hX-hW);var ij=bn.roundStartAndExtent(ig,ii,L.get_minBarHeight());var ik=bn.roundStartAndExtent(ie,ih,L.get_minBarWidth());ie=ik.item1-id;ig=ij.item1-id;ih=ik.item2+ia+ic+id-1;ii=ij.item2+ia+ic+id-1;if(hZ){ih=ii=Math.min(ih,ii)}if(!L.isWrappedDomain){var il=L.getUserPaneRectByMark(hT);if(!tab.RectXYUtil.intersectsWith$1(il,Math.floor(ie),Math.floor(ig),Math.floor(ih),Math.floor(ii))){return}if(il.x>=ie){var im=il.x+ia-1;ih-=im-ie;ie=im}if(il.x+il.w<=ie+ih){ih=il.x+il.w-ie-1}if(il.y>=ig){var io=il.y+ia-1;ii-=io-ig;ig=io}if(il.y+il.h<=ig+ii){ii=il.y+il.h-ig-1}}e.set_lineJoin('miter');bn.renderBarOutline(e,ie,ig,ih,ii,hY['colorOverrideNone'],ia,L.get_minBarWidth(),L.get_minBarHeight(),false)};global.tab.MarksRenderer=eF;var eG=function(){};eG.__typeName='tab.Metrics';eG.get_scrollW=function(){return eG.$0()};eG.get_minScrollWidth=function(){if(tab.BrowserSupport.get_isSafari()||tab.BrowserSupport.get_isMac()){return 60}return eG.get_scrollW()*2};eG.get_scrollH=function(){return eG.$0()};eG.get_minScrollHeight=function(){if(tab.BrowserSupport.get_isSafari()||tab.BrowserSupport.get_isMac()){return 60}return eG.get_scrollH()*2};eG.$0=function(){return tab.MiscUtil.lazyInitStaticField(eG,'_scrollBarSize',function(){return tabBootstrap.LayoutMetrics.getScrollbarSize()})};global.tab.Metrics=eG;var eH=function(){this.$5=false;this.$5=true;$(document).on('keydown.ModifierKeyState keyup.ModifierKeyState mouseover.ModifierKeyState',ss.mkdel(this,this.$3));$(window).on('focus.ModifierKeyState',ss.mkdel(this,function(){this.$1()}));$(window).on('blur.ModifierKeyState',ss.mkdel(this,function(){this.$0()}))};eH.__typeName='tab.ModifierKeyState';eH.add_modifierKeysChanged=function(e){eH.$1$1=ss.delegateCombine(eH.$1$1,e)};eH.remove_modifierKeysChanged=function(e){eH.$1$1=ss.delegateRemove(eH.$1$1,e)};eH.fireModifierKeysChanged=function(e){if(!ss.staticEquals(eH.$1$1,null)){eH.$1$1(e)}};global.tab.ModifierKeyState=eH;var eI=function(){};eI.__typeName='tab.ModuleManager';eI.$0=function(e,L){return((L.length===0)?ss.createInstance(e):ss.applyConstructor(e,L))};eI.load=function(e){return function(L){eI.$1();var hT=eI.$2(e);var hU='vql'+hT.toLowerCase();if(ss.keyExists(eI.$6,hT)){return eI.$6[hT]}var hV=$.Deferred();eI.$6[hT]=hV;var hW='tab.'+hT+'Factory';if(eI.$3&&hT.toLowerCase()!=='runtimeui'){var hX=window.performance.now();var hY={};hY['d']='MDLOAD';hY['v']=hT;requirejs([hU],function(ib){var ic=ss.load(hU);var id=eI.$0(ss.getType(hW,ic),L);var ie=window.performance.now();hY['t']=tabBootstrap.MetricsController.getTiming();hY['e']=ie-hX;var ig=new tabBootstrap.MetricsEvent('gen',15,hY);tabBootstrap.MetricsController.logEvent(ig);hV.resolve(id)})}else{var hZ=ss.load(hU);var ia=eI.$0(ss.getType(hW,hZ),L);hV.resolve(ia)}return hV}};eI.register=function(e){return function(L){var hT='vql'+L.toLowerCase();if(tsConfig.debugMode){eI.$4[hT]=hT+'.debug'}eI.$7[ss.getTypeFullName(e)]=L}};eI.$1=function(){if(eI.$8){return}eI.$8=true;if(eI.$3){requirejs.config({baseUrl:tsConfig.external_static_asset_prefix+'/javascripts',map:ss.mkdict(['*',eI.$4])})}};eI.$2=function(e){var L=eI.$7[ss.getTypeFullName(e)];if(ss.isNullOrUndefined(L)){throw new ss.Exception('Unknown module: '+ss.getTypeFullName(e))}return L};global.tab.ModuleManager=eI;var eJ=function(){this.$2=null;this.$3=null;this.$1$1=null;this.$1$2=null;this.$2={};this.$3=[]};eJ.__typeName='tab.NativeFontLoader';eJ.$0=function(){return document['fonts']};global.tab.NativeFontLoader=eJ;var eK=function(){};eK.__typeName='tab.NodeType';global.tab.NodeType=eK;var eL=function(){};eL.__typeName='tab.NotificationCommandRedirectHandler';eL.$0=function(e){var L=$.Deferred();var hT=e['QgJ'.toString()];bO.showNotification(ss.htmlEncode(hT.dYE.toString()),function(){L.resolve()});return L.promise()};global.tab.NotificationCommandRedirectHandler=eL;var eM=function(e){this.notificationViewModel=null;this.messageDom=null;this.closeDom=null;this.$b=false;this.visible=false;this.adjustMargin=true;ss.makeGenericType(spiff.BaseView$1,[eN]).call(this,e,spiff.Template.fromHtml("<div class='tabNotification'>"));this.notificationViewModel=e;this.messageDom=$('<div>').addClass('tabNotificationMessage').appendTo(this.element);this.updateContent();this.closeDom=spiff.ClickHandler.targetAndClick($('<div>').addClass('tabNotificationClose').html('×'),ss.mkdel(this,this.$9)).get_target();this.closeDom.appendTo(this.element);this.notificationViewModel.add_shown(ss.mkdel(this,this.shown));this.notificationViewModel.add_hidden(ss.mkdel(this,this.hidden))};eM.__typeName='tab.NotificationView';global.tab.NotificationView=eM;var eN=function(){this.$6=null;this.$7=false;this.$4=5000;this.$3=0;this.$5=null;this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this)};eN.__typeName='tab.NotificationViewModel';eN.$0=function(e,L){var hT=new eN;hT.set_message(e);if(ss.isValue(L)){hT.set_autoHideTimeout(L)}return hT};eN.showGeoLocationNotification=function(e,L,hT){var hU=eN.$0(e,L);hU.set_displayPosition(hT);spiff.ObjectRegistry.newView(dj).call(null,[hU]);spiff.GlobalTouchWatcher.add_firstTouch(ss.mkdel(hU,hU.$2));hU.disposables.add$1(new tab.CallOnDispose(function(){spiff.GlobalTouchWatcher.remove_firstTouch(ss.mkdel(hU,hU.$2))}));hU.disposeOnHide();hU.show()};eN.showNotification=function(e,L){eN.showCustomNotification(eM).call(null,e,L)};eN.showCustomNotification=function(e){return function(L,hT){var hU=eN.$0(L,hT);spiff.ObjectRegistry.newView(e).call(null,[hU]);hU.disposeOnHide();hU.show();return hU}};global.tab.NotificationViewModel=eN;var eO=function(){this.$2=75;this.$3=null;this.$4=tsConfig.is_mobile;dijit.MenuItem.call(this)};eO.__typeName='tab.OnClickOverride';global.tab.OnClickOverride=eO;var eP=function(e,L){this.$8=null;this.$7=null;spiff.Widget.call(this,$("<img class='tab-overlayImage'/>"));this.$8=$(e);this.element.on('load',ss.mkdel(this,function(){this.$6()}));this.element.attr('src',L)};eP.__typeName='tab.OverlayImage';global.tab.OverlayImage=eP;var eQ=function(e,L){this.$8=null;this.$7=0;spiff.Widget.call(this,$('<div class="tab-overlay-panel"></div>'));if(ss.isValue(e)){this.$8=e;this.element.css('position','absolute')}else{this.element.css('position','fixed')}this.$7=(L?0.5:0.00999999977648258)};eQ.__typeName='tab.OverlayPanel';global.tab.OverlayPanel=eQ;var eR=function(e){ss.makeGenericType(spiff.PagableListComponent$2,[Object,tab.User]).call(this,e)};eR.__typeName='tab.PagableUserListComponent';global.tab.PagableUserListComponent=eR;var eS=function(){spiff.Template.call(this,$("<div class='tab-page'></div>"))};eS.__typeName='tab.PageTemplate';global.tab.PageTemplate=eS;var eT=function(e){this.pageViewModel=null;this.$9=null;ss.makeGenericType(spiff.BaseView$1,[eU]).call(this,e,new eS);this.pageViewModel=e;this.pageViewModel.add_newPage(ss.mkdel(this,this.handleNewPage));this.pageViewModel.add_resized(ss.mkdel(this,this.updateSize));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.pageViewModel.remove_newPage(ss.mkdel(this,this.handleNewPage))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.pageViewModel.remove_resized(ss.mkdel(this,this.updateSize))})))};eT.__typeName='tab.PageView';global.tab.PageView=eT;var eU=function(e){this.$2=null;this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this);this.$2=e;this.$2.add_newPage(ss.mkdel(this,this.handleNewPage));this.$2.get_zoneModel().add_resizeZone(ss.mkdel(this,this.handleParentZoneResized));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$2.remove_newPage(ss.mkdel(this,this.handleNewPage))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$2.get_zoneModel().remove_resizeZone(ss.mkdel(this,this.handleParentZoneResized))})))};eU.__typeName='tab.PageViewModel';global.tab.PageViewModel=eU;var eV=function(){this.hasPixelGeometry=false;this.worldWidth=0;this.sceneInfo=null;this.c={};this.labelColumnIterators=null;this.textRunColumnIterators=null;this.textStyleColumnIterators=null;this.domainExtents=null;this.$n=0;this.paneMarks=null;this.pdMarksKey=null;this.tupleToIndexMap={};this.$h=null;this.$l=null;this.$k=null;this.$m=null;this.$o=false;this.shapeMarkStampingDecision=null;this.$i=null;this.$j=null;this.truncateLabelToCell=false;this.markCount=0;this.markType=null;this.showLabels=false;this.labelMode=null;this.fogBlendFactor=0;this.foggedBackgroundColor=null;this.forceOpaqueColors=false;this.drawBorder=false;this.isWrappedDomain=false;this.paneColumn=0;this.paneRow=0;this.paneRect=null;this.clipCase=0;this.globalAlpha=0;this.pdiKey=null;this.userPaneCount=0;this.hasUserPanes=false;this.customShapes=null;this.geometries=null;this.scaleMarksInX=false;this.scaleMarksInY=false;this.useCellClipForSelection=false;this.paneHasCellsX=false;this.paneHasCellsY=false;this.mapExtents=null;this.hasConstantColor=false;this.skipClipping=false;this.markWorldOffsets=null;this.$g=null;if(ss.isNullOrUndefined(eV.$c)){eV.$c={};eV.$c[1]=0;eV.$c[2]=-Math.PI*0.5;eV.$c[3]=Math.PI*0.5}if(ss.isNullOrUndefined(eV.$a)){eV.$a={};eV.$a['theta']={x:0,y:1};eV.$a['theta1']={x:0,y:1};eV.$a['size']={x:0,y:4096};eV.$a['text_run_x']={x:0,y:4096};eV.$a['text_run_direction_x']={x:0,y:4096};eV.$a['text_run_y']={x:0,y:4096};eV.$a['text_run_direction_y']={x:0,y:4096};for(var e=0;e<eV.$4.length;e++){var L=eV.$4[e];eV.$a[L]={x:0,y:0}}for(var hT=0;hT<eV.$5.length;hT++){var hU=eV.$5[hT];eV.$a[hU]={x:0,y:0}}}if(ss.isNullOrUndefined(eV.$b)){eV.$b=[];eV.$b.push(0)}};eV.__typeName='tab.PaneDrawInfo';eV.domainToPixelX=function(e,L,hT){return fR.domainToPixel(e,L.x,hT.x,hT.w/L.w)};eV.domainToPixelY=function(e,L,hT){return fR.domainToPixel(e,L.y,hT.y,hT.h/L.h)};eV.domainToPixelWidth=function(e,L,hT){return e/L.w*hT.w};eV.domainToPixelHeight=function(e,L,hT){return e/L.h*hT.h};eV.$0=function(e,L){var hT=new ss.StringBuilder;if(ss.keyExists(e,'font_style')&&parseInt(e['font_style'].uBu[L].toString())===1){hT.append('italic ')}if(ss.keyExists(e,'font_weight')&&parseInt(e['font_weight'].uBu[L].toString())===1){hT.append('bold ')}var hU=parseInt(e['font_size'].uBu[L].toString());hU=Math.max(6,hU);var hV=e['font'].uBu[L];hV=cy.$1(hV);hT.append(hU+'pt '+hV);return hT.toString()};global.tab.PaneDrawInfo=eV;var eW=function(){};eW.__typeName='tab.PaneDrawInfoFactory';eW.create=function(e,L,hT,hU,hV,hW,hX,hY){var hZ=null;if(ss.isValue(hY)){hZ=fT.get_instance().createPaneDrawInfo(e,L,hT,hU,hV,hW,hX,hY)}else{hZ=new fu.$ctor1(e,L,hT,hU,hV,hW,hX)}return hZ};global.tab.PaneDrawInfoFactory=eW;var eX=function(e,L){this.$o=null;this.$q=null;this.$p=null;this.$r=null;bn.call(this,e,L);var hT=(ss.isValue(this.$r)?this.$r.colorModel:dR.defaultColors);this.$o=new cy(e,L,hT);if(!tab.FeatureFlags.isEnabled('RuntimeNoWebClientChanges')&&tab.FeatureFlags.isEnabled('Runtime')){this.$p=fT.get_instance();this.$q=this.$p.createNonMarksRenderer(e,L)}};eX.__typeName='tab.PaneTable2DRenderer';eX.$1=function(e,L,hT,hU){var hV;switch(e){case'shape':{hV=eF.$1y(hT,L);break}case'bar':case'square':{hV=eF.$8(hT,L);break}case'pie':{hV=eF.$k(hT,L);break}case'text':{hV=eF.$1G(hT,L);break}case'label':{hV=eF.$i(hT,L);break}case'line':{hV=eF.$m(hT,L);break}case'area':{hV=eF.$0(hT,L);break}case'multipolygon':{hV=eF.$j(hT,L);break}default:{{var hW=hT.c['x'].gv(L);var hX=hT.c['y'].gv(L);var hY=hT.c['size'].gv(L);var hZ=Math.ceil(hY);hV={x:Math.floor(hW-hY/2+0.5),y:Math.floor(hX-hY/2+0.5),w:hZ,h:hZ}}break}}if(hT.hasUserPanes){tab.RectXYUtil.intersectInPlace(hV,hU)}return hV};eX.getMarkBoundingBox=function(e,L,hT){return eX.$1(L.markType,e,L,hT)};eX.renderHoverOverlay=function(e,L,hT){if(ss.isNullOrUndefined(hT)||ss.isNullOrUndefined(L)){return}{var hU=tabBootstrap.MetricsController.createContext('RenderHoverOverlay',32,null);try{var hV=L.getMarkIndexFromTupleID(e);switch(L.markType){case'area':{eF.$C(hT,L,hV);break}case'bar':case'square':{eF.$E(hT,L,hV);break}case'line':{eF.$G(hT,L,hV);break}case'multipolygon':{eF.$I(hT,L,hV);break}case'pie':{eF.$K(hT,L,hV);break}case'shape':{eF.$M(hT,L,hV);break}case'text':{eF.$1u(hT,L,hV);break}}}finally{if(ss.isValue(hU)){hU.dispose()}}}};eX.renderPressedOverlay=function(e,L,hT){if(ss.isNullOrUndefined(hT)||ss.isNullOrUndefined(L)){return}{var hU=tabBootstrap.MetricsController.createContext('RenderPressedOverlay',32,null);try{var hV=L.getMarkIndexFromTupleID(e);switch(L.markType){case'area':{eF.$D(hT,L,hV);break}case'bar':case'square':{eF.$F(hT,L,hV);break}case'line':{eF.$H(hT,L,hV);break}case'multipolygon':{eF.$J(hT,L,hV);break}case'pie':{eF.$L(hT,L,hV);break}case'shape':{eF.$1t(hT,L,e);break}case'text':{eF.$1v(hT,L,hV);break}}}finally{if(ss.isValue(hU)){hU.dispose()}}}};eX.$2=function(e,L,hT){e[0]=L.x;e[1]=L.y;e[2]=hT.x;e[3]=hT.y};eX.$0=function(e,L,hT,hU){var hV=hT==='uEs'||hT==='bUP'||hT==='bsq'||hT==='jpw';if(L==='selected'&&hV){if(tab.ColorModel.isFullyTransparent(e)){return'rgba(0,0,0,1)'}return e.toString()}if(L==='hover'&&hV){var hW=77;var hX=new tab.ColorModel(255,255,255,0.449999988079071);var hY=new tab.ColorModel(0,0,0,0.449999988079071);var hZ=(e.isValueAboveThreshold(hW)?hY:hX);return((e.get_a()<1)?hZ.toString():tab.ColorModel.alphaBlend(hZ,e).toString())}if(L==='normal'&&ss.isValue(hU)){return tab.SceneDataUtil.fogColorTransform(e,hU.item2,hU.item1).toString()}return e.toString()};global.tab.PaneTable2DRenderer=eX;var eY=function(e,L,hT){ss.makeGenericType(hB,[fc]).call(this,e,L,hT);this.renderer=new eX(this.canvasElt,this.context);var hU=_.keys(e.get_vizRegionMap());for(var hV=0;hV<hU.length;hV++){var hW=hU[hV];if(!ss.contains(fc.blackListVisualParts,hW)){e.get_vizRegionMap()[hW].add_propertyChanged(ss.mkdel(this,this.onViewModelPropertyChanged))}}};eY.__typeName='tab.PaneTableCanvasView';global.tab.PaneTableCanvasView=eY;var eZ=function(e,L,hT){this.$T=null;this.$N=[];this.$M=new u('hover');this.$Q=new u('press');this.$K=false;this.$R=null;this.$L=false;this.$I=[];this.$P=null;this.$J=null;this.$O='normal';this.$S=false;ss.makeGenericType(hB,[fc]).call(this,e,L,'transparent');this.renderer=new eX(this.canvasElt,this.context);this.$T=hT;var hU=$(this.canvasElt);hU.css('position','absolute');hU.css('left','0px');hU.css('top','0px')};eZ.__typeName='tab.PaneTableOverlayView';eZ.$0=function(e,L){var hT=new Set;if(ss.isValue(e)&&e.length>0){tab.SetUtilities.addAll(ss.Int32).call(null,hT,e)}if(ss.isValue(L)&&L.length>0){var hU=new Set;tab.SetUtilities.addAll(ss.Int32).call(null,hU,L);hT=tab.SetUtilities.symmetricDifferenceWith(ss.Int32).call(null,hT,hU)}return tab.SetUtilities.getValues(ss.Int32).call(null,hT)};global.tab.PaneTableOverlayView=eZ;var fa=function(e){this.enclosingDiv=null;this.yLabel=null;this.leftAxis=null;this.rightAxis=null;this.xLabel=null;this.bottomAxis=null;this.topAxis=null;this.view=null;this.title=null;this.caption=null;this.tlSpacer=null;this.trSpacer=null;this.blSpacer=null;this.brSpacer=null;spiff.Template.call(this,e);var L=ss.mkdel(this,this.getElementBySelector);this.enclosingDiv=L('.tab-clip');this.yLabel=L('.tab-tvYLabel');this.leftAxis=L('.tab-tvLeftAxis');this.rightAxis=L('.tab-tvRightAxis');this.xLabel=L('.tab-tvXLabel');this.bottomAxis=L('.tab-tvBottomAxis');this.topAxis=L('.tab-tvTopAxis');this.view=L('.tab-tvView');this.title=L('.tab-tvTitle');this.caption=L('.tab-tvCaption');this.tlSpacer=L('.tab-tvTLSpacer');this.trSpacer=L('.tab-tvTRSpacer');this.blSpacer=L('.tab-tvBLSpacer');this.brSpacer=L('.tab-tvBRSpacer');L('.tvViewportBorders').append($(fa.$0))};fa.__typeName='tab.PaneTableTemplate';global.tab.PaneTableTemplate=fa;var fb=function(e,L){this.regions={};this.zoomToolbar=null;this.ftv=null;this.isPointerToolLocked=false;this.mapsSearchView=null;this.$D=[];this.$M=0;this.$H=-1;this.$G=-1;this.$K={x:0,y:0};this.$J=0;this.isAnimationOccurring=false;this.vizTooltip=null;this.$I=[];this.$N=null;this.$y=null;this.$z=false;this.$E=null;this.$B=0;this.$F=null;this.$C=null;this.$L={w:0,h:0};this.$x=null;this.$w=null;this.$A=false;this.geometry=null;this.visibleGeometry=null;this.dom=null;this.tlspacerAreaX=null;this.tlspacerAreaY=null;this.blspacerArea=null;this.titleHeight=0;this.vizHitTester=null;this.isMap=false;ss.makeGenericType(spiff.BaseView$1,[fc]).call(this,e,L);this.dom=L;this.get_paneTableVM().viewController.setTiledViewer(this);this.$M=(new Date).getTime();this.dom.view.attr('id','view'+tab.ModelUtils.findContentDashboard().getViewId(this.get_sheetid()));this.dom.domRoot.attr('tb-test-id',tableau.format.escapeHTML(this.get_paneTableVM().get_visualId().AVP));var hT=e.get_visualModel();this.$v(hT);this.$p(hT);this.isMap=hT.get_isMap();this.get_paneTableVM().add_newPaneTable(ss.mkdel(this,this.handleNewVisual));this.get_paneTableVM().add_propertyChanged(ss.mkdel(this,this.handlePropertyChanged));this.get_paneTableVM().add_textUpdated(ss.mkdel(this,this.$f));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_paneTableVM().remove_newPaneTable(ss.mkdel(this,this.handleNewVisual));this.get_paneTableVM().remove_propertyChanged(ss.mkdel(this,this.handlePropertyChanged));this.get_paneTableVM().remove_textUpdated(ss.mkdel(this,this.$f))})))};fb.__typeName='tab.PaneTableView';fb.addVizDragApprover=function(e){fb.removeVizDragApprover(e);fb.$3.push(e)};fb.removeVizDragApprover=function(e){ss.remove(fb.$3,e)};fb.addVizDragHandler=function(e){fb.removeVizDragHandler(e);fb.$4.push(e)};fb.addAsyncVizDragHandler=function(e){fb.removeAsyncVizDragHandler(e);fb.$2.push(e)};fb.removeVizDragHandler=function(e){ss.remove(fb.$4,e)};fb.removeAsyncVizDragHandler=function(e){ss.remove(fb.$2,e)};fb.guessTooltipTargetTypeFromRegion=function(e){switch(e){case'bottomaxis':case'topaxis':case'leftaxis':case'rightaxis':case'xheader':case'yheader':{return'header'}case'color':{return'legenditem'}default:{return'unspecified'}}};global.tab.PaneTableView=fb;var fc=function(e,L){this.$u={};this.$t=null;this.$s=null;this.$q=null;this.$o=null;this.$l=null;this.$n=null;this.$p=false;this.$r=null;this.$m=null;this.$k=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.viewController=null;spiff.BaseViewModel.call(this);this.$t=e;this.$s=L;this.$n=[];this.$q=new fU;if(ss.isValue(this.$t)){if(ss.isValue(this.$t.get_selectionsModel().tupleSelection)){this.$t.get_selectionsModel().add_newSelections(ss.mkdel(this,this.$c))}this.$t.get_impliedSelectionModel().add_newSelection(ss.mkdel(this,this.$c));if(ss.isValue(this.$t.get_brushingsModel().tupleSelection)){this.$t.get_brushingsModel().add_newSelections(ss.mkdel(this,this.$3))}if(ss.isValue(this.$t.get_sceneModel())){this.$t.get_sceneModel().add_newSceneModel(ss.mkdel(this,this.$b));this.$b();this.$p=false}if(ss.isValue(this.$t.get_labelsModel())){this.$t.get_labelsModel().add_newSceneModel(ss.mkdel(this,this.$b))}this.$t.add_newHiddenTuples(ss.mkdel(this,this.$8));this.$t.add_newFilteredTuples(ss.mkdel(this,this.$7));this.$t.add_brushingFromActionChanged(ss.mkdel(this,this.$4));this.$t.add_colorDictionaryChanged(ss.mkdel(this,this.$5));this.$t.add_vizNavigationSettingChanged(ss.mkdel(this,this.$e));this.$t.add_newVisual(ss.mkdel(this,this.$d));this.$t.add_newVisual(ss.mkdel(this,this.$a));this.$t.add_emptyHighlightFogAllChanged(ss.mkdel(this,this.$6))}var hT=ss.mkdel(this,function(){this.notifyPropertyChanged('font');this.$f()});ga.get_instance().add_fontPreparationComplete(hT);this.disposables.add$1(new tab.CallOnDispose(function(){ga.get_instance().remove_fontPreparationComplete(hT)}));this.$i()};fc.__typeName='tab.PaneTableViewModel';fc.updateSceneInfoFromVisualModel=function(e,L){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(L)){return}var hT=L.pm.Ucd;var hU=L.pm.X$;var hV=(ss.isValue(L.get_selectionsModel().tupleSelection)?L.get_selectionsModel():null);var hW=(ss.isValue(L.get_impliedSelectionModel())?L.get_impliedSelectionModel():null);var hX=(ss.isValue(L.get_brushingsModel().tupleSelection)?L.get_brushingsModel():null);var hY=L.get_hiddenTuples();var hZ=L.get_filteredTuples();e.$l(hU,hV,hW,hX,hT,hY,hZ);if(ss.isValue(L.get_labelsModel())&&ss.isValue(L.get_labelsModel().pm)){e.$k(L.get_labelsModel().pm)}e.$j(L.get_isBrushedFromAction());e.$i(L.get_emptyHighlightFogAll())};global.tab.PaneTableViewModel=fc;var fd=function(e){this.$e=true;this.domBox=null;this.domControls=null;this.format=new Object;this.getSID=null;this.session=null;this.$8='';this.$7={};this.stateId=0;this.$d=null;this.$c=null;this.domTitleBar=null;this.domContent=null;this.$9=0;this.$b=0;this.$a=null;this.backgroundColor=null;Object.call(this);this.session=e.session;this.$8=e.field;this.$9=e.titleH;this.$b=e.titleW;this.$a=e.titleHTML;this.format=e.format;this.backgroundColor=e.backgroundColor;this.$7=e.attributes;this.$d=e.viewModel};fd.__typeName='tab.ParameterControl';global.tab.ParameterControl=fd;var fe=function(){spiff.Template.call(this,$("<div class='tab-parameter'></div>"))};fe.__typeName='tab.ParameterControlTemplate';global.tab.ParameterControlTemplate=fe;var ff=function(e){this.$b=null;this.$a=null;ss.makeGenericType(spiff.BaseView$1,[fg]).call(this,e,new fe);this.$b=e;this.$b.add_newParameterControl(ss.mkdel(this,this.handleNewParameterControl));this.$b.add_resized(ss.mkdel(this,this.updateSize));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$b.remove_newParameterControl(ss.mkdel(this,this.handleNewParameterControl))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$b.remove_resized(ss.mkdel(this,this.updateSize))})));if(this.$b.get_hasBorder()){this.get_template().domRoot.addClass('tabBordered')}};ff.__typeName='tab.ParameterControlView';global.tab.ParameterControlView=ff;var fg=function(e){this.$4=null;this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this);this.$4=e;this.$4.add_newParameterCtrl(ss.mkdel(this,this.$2));this.$4.get_zoneModel().add_resizeZone(ss.mkdel(this,this.$3));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$4.remove_newParameterCtrl(ss.mkdel(this,this.$2))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$4.get_zoneModel().remove_resizeZone(ss.mkdel(this,this.$3))})))};fg.__typeName='tab.ParameterControlViewModel';global.tab.ParameterControlViewModel=fg;var fh=function(e){this.displayModel=null;this.$2$1=null;spiff.BaseViewModel.call(this);this.displayModel=e};fh.__typeName='tab.ParameterFilterViewModel';global.tab.ParameterFilterViewModel=fh;var fi=function(e,L,hT,hU,hV){this.disposables=null;this.parameterViewModel=null;this.parent=null;this.field=null;this.newValInFlight=null;this.div=null;this.attributes=null;Object.call(this);this.disposables=new tab.DisposableHolder;this.parent=e;this.div=L;this.field=hT;this.attributes=hU;this.parameterViewModel=hV;this.newValInFlight=null};fi.__typeName='tab.ParamUIBase';global.tab.ParamUIBase=fi;var fj=function(e,L,hT,hU,hV){this.$2=null;this.$1=null;fi.call(this,e,L,hT,hU,hV);var hW=new spiff.ComboBoxViewModel;hW.set_menuTheme(1);hW.set_menuStyleClass(this.parent.domNode.id+'_menu');this.$2=hW;this.$2.add_selectedItemChanged(ss.mkdel(this,this.$0));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$2.remove_selectedItemChanged(ss.mkdel(this,this.$0))})));var hX=this.get_legacyModel().domain;var hY=hX.length;for(var hZ=0;hZ<hY;hZ++){var ia=new spiff.ComboBoxItem(null,hX[hZ],hZ,'');this.$2.addItem(ia);if(ss.referenceEquals(this.get_legacyModel().alias,hX[hZ])){this.$2.set_selectedItem(ia)}}if(!tab.ColorModel.fromColorCode(this.parent.get_backgroundColor()).isLuminanceAboveThreshold(0.314999997615814)){this.$2.set_additionalMenuClass('tab-darkBackground')}this.$1=spiff.ObjectRegistry.newView(spiff.ComboBoxView).call(null,[this.$2]);var ib=new df(this.parent.get_model().mCc,this.parent.get_backgroundColor(),this.parent.get_model().$tN);hI.applyFormattingByClassName(this.$2.get_menuStyleClass(),ib,true);var ic=this.$1.get_rootElement().find('.tabComboBoxButton')[0];ic.innerHTML=ef.getDropDownForColor(this.parent.get_model().mCc.YhU.toString());this.$1.addToDom($(this.div));this.disposables.add$1(this.$2);this.disposables.add$1(this.$1)};fj.__typeName='tab.ParamUICompact';global.tab.ParamUICompact=fj;var fk=function(e,L,hT,hU,hV){fi.call(this,e,L,hT,hU,hV)};fk.__typeName='tab.ParamUIList';global.tab.ParamUIList=fk;var fl=function(e,L,hT,hU,hV){this.slider=null;fi.call(this,e,L,hT,hU,hV)};fl.__typeName='tab.ParamUISlider';global.tab.ParamUISlider=fl;var fm=function(e,L,hT,hU,hV){this.widget=null;fi.call(this,e,L,hT,hU,hV)};fm.__typeName='tab.ParamUITypeIn';global.tab.ParamUITypeIn=fm;var fn=function(e,L,hT,hU,hV){fm.call(this,e,L,hT,hU,hV)};fn.__typeName='tab.ParamUITypeInDateField';global.tab.ParamUITypeInDateField=fn;var fo=function(e,L,hT){this.widget=null;bj.call(this,e,L,hT)};fo.__typeName='tab.Pattern';global.tab.Pattern=fo;var fp=function(e,L,hT,hU){this.domainActualSize=0;this.$6=false;this.$5=false;this.$8=null;this.$a=false;this.$9=false;this.$7=null;this.$4=null;this.parent=null;this.$1$1=null;this.$1$2=null;this.parent=e;this.domainActualSize=L;this.$6=hT;this.$5=hU;this.resetPendingChanges()};fp.__typeName='tab.PendingChangesManager';global.tab.PendingChangesManager=fp;var fq=function(e,L){this.$k=null;this.$l=null;this.$j=null;this.$m=false;this.$p='';this.$i=null;this.$n=null;this.$o=null;gd.call(this,e,"<div><svg class='selectionShape'><path class='tvdrag_svg_marquee'></path></svg></div>",'tvdrag_svg_div');this.$k=[];this.$l=[];this.$j={};this.$m=L||false;this.$n=null;this.$o=null};fq.__typeName='tab.PolyShapeSelector';fq.$0=function(e,L,hT){return e>=L&&L>=hT||e<=L&&L<=hT};global.tab.PolyShapeSelector=fq;var fr=function(){this.$0=null;this.$1=0;ge.call(this);this.$0=[];this.$1=0};fr.__typeName='tab.PolyShapeState';global.tab.PolyShapeState=fr;var fs=function(e){ss.makeGenericType(spiff.BaseView$1,[ft]).call(this,e,spiff.Template.fromHtml('<div />'))};fs.__typeName='tab.PresModelBrowserView';global.tab.PresModelBrowserView=fs;var ft=function(e,L,hT){this.data=null;this.$2=null;this.name=null;spiff.BaseViewModel.call(this);this.name=e;if(ft.$1(L)){if($.isArray(L)){this.data=ft.$2(L)}else{this.data=ft.$3(L)}}else{this.data=L.toString()}this.$2=hT};ft.__typeName='tab.PresModelBrowserViewModel';ft.$1=function(e){return ss.isValue(e)&&typeof(e)==='object'};ft.$2=function(e){var L=[];for(var hT=0;hT<e.length;++hT){L.push(ft.$4(hT.toString(),e[hT]))}return L};ft.$3=function(e){var L=[];var hT=new ss.ObjectEnumerator(e);try{while(hT.moveNext()){var hU=hT.current();L.push(ft.$4(hU.key,hU.value))}}finally{hT.dispose()}return L};ft.$0=function(e){return'<strong>'+e+':</strong> '};ft.$4=function(e,L){if(ft.$1(L)){if($.isArray(L)){return ss.mkdict(['text',ft.$0(e),'children',ft.$2(L)])}else{return ss.mkdict(['text',ft.$0(e),'children',ft.$3(L)])}}else if(ss.endsWithString(e,'Json')&&(ss.startsWithString(L,'{')||ss.startsWithString(L,'['))){var hT=null;try{hT=JSON.parse(L)}catch(hU){}if(ss.isValue(hT)){return ft.$4(e,hT)}}return ft.$0(e)+L};global.tab.PresModelBrowserViewModel=ft;var fu=function(){eV.call(this);this.setDefaultLabelLookupValues()};fu.__typeName='tab.PresModelPaneDrawInfo';fu.$ctor1=function(e,L,hT,hU,hV,hW,hX){eV.call(this);this.skipClipping=false;this.pdiKey=hX;this.sceneInfo=L;this.paneMarks=hU;this.forceOpaqueColors=false;this.pdMarksKey=e;this.paneColumn=hT._WI;this.paneRow=hT.ASo;this.paneRect=tab.RecordCast.rectPresModelAsRectXY(hT.PeS);this.domainExtents=tab.SceneDataUtil.getPaneDomainExtents(hT);this.markCount=tab.SceneDataUtil.getNumPaneItems(this.paneMarks);this.markType=hV.tx;this.showLabels=hV.knq;this.labelMode=hV.QCC;this.set_paneFlags(hV.LTd['pane_flags']);this.hasPixelGeometry=this.scaleMarksInX&&this.scaleMarksInY;this.c=tab.VisualColumnHelpers.parseColumns(hV,hU.QNi,this.markCount);this.hasConstantColor=ss.keyExists(hV.LTd,'color');var hY=tab.ColorModel.white;if(ss.keyExists(this.c,'background_color')){var hZ=this.c['background_color'];hY=tab.ColorModel.fromArgbInt(hZ.v[(hZ.c?0:0)])}this.fogBlendFactor=tab.SceneDataUtil.getFogBlendFactor(hY);this.foggedBackgroundColor=tab.SceneDataUtil.applyFogToBackgroundColor(hY,this.fogBlendFactor);this.transformColumnData(this.c);this.setUserPaneInfo(L.sceneUserPaneInfo);this.processColors(hW);var ia=ss.keyExists(this.c,'draw_border');if(ia){var ib=this.c['draw_border'];ia=ib.v[(ib.c?0:0)]===true}this.drawBorder=ia;var ic=ss.keyExists(this.c,'wrap_domain');if(ic){var id=this.c['wrap_domain'];ic=id.v[(id.c?0:0)]===true}this.isWrappedDomain=ic;var ie;if(ss.keyExists(this.c,'alpha')){var ig=this.c['alpha'];ie=ig.v[(ig.c?0:0)]}else{ie=1}this.globalAlpha=ie;this.setDefaultLabelLookupValues();if(this.markType==='line'||this.markType==='area'){this.prepareLeftRight()}if(this.markType==='line'){this.ensureLinePixelAlignment()}this.parseTextInfo(hV.MbY,hV.Smu,false);if(ss.isValue(this.paneRect)&&ss.isValue(this.paneRect.w)&&ss.isValue(this.domainExtents)&&ss.isValue(this.domainExtents.w)&&this.domainExtents.w!==0){this.worldWidth=this.paneRect.w/this.domainExtents.w}this.clipCase=tab.SceneDataUtil.calcCellClip(this.get_paneFlags());this.mapExtents=fu.buildMapExtentsRect(hU.DGi,this.domainExtents,this.paneRect);this.setupBoundingBoxes();if(this.markType==='shape'){this.setupCustomShapePositions();this.setupShapeMarkStampingMap()}this.buildTupleLookup()};fu.buildMapExtentsRect=function(e,L,hT){if(ss.isNullOrUndefined(e)||e.POJ===0||e.suk===0){return null}return{x:ss.Int32.trunc(eV.domainToPixelX(e.BPK,L,hT)),y:ss.Int32.trunc(eV.domainToPixelY(e.KEc,L,hT)),w:ss.Int32.trunc(eV.domainToPixelWidth(e.POJ,L,hT)),h:ss.Int32.trunc(eV.domainToPixelHeight(e.suk,L,hT))}};global.tab.PresModelPaneDrawInfo=fu;var fv=function(){};fv.__typeName='tab.QfButtonUtil';fv.enableResetButton=function(e){if(ss.isNullOrUndefined(e)){return}var L=$(e.iconNode);L.removeClass('wcIconFiltered');L.removeClass('wcIconNonfiltered');L.addClass('wcIconFiltered');e.attr('label',tab.Strings.QuickFilterClearEnabled);e.setDisabled(false);$(e.domNode.firstChild.firstChild).removeClass('tab-quickFilterButtonDisabled')};fv.disableResetButton=function(e){if(ss.isNullOrUndefined(e)){return}var L=$(e.iconNode);L.removeClass('wcIconFiltered');L.addClass('wcIconNonfiltered');e.attr('label',tab.Strings.QuickFilterClearDisabled);e.setDisabled(true);L.removeClass('dijitButtonHover');L.removeClass('dijitHover');$(e.domNode.firstChild.firstChild).addClass('tab-quickFilterButtonDisabled')};global.tab.QfButtonUtil=fv;var fw=function(){this.panel=null;this.titleControls=null;this.contextMenuButton=null;this.ramp=null;this.centerMark=null;this.minLabel=null;this.maxLabel=null;eu.call(this,$("\n            <div class='tabLegendPanel' style='position: relative; overflow: hidden'>\n                <div class='tabLegendTitleAndControls'>\n                    <h3 class='tabLegendTitle' style='position: absolute'></h3>\n                    <div class='tabLegendTitleControls'>\n                        <div class='tabLegendContextMenuButton'>\n                            <div class='tabLegendContextMenuButtonIcon'></div>\n                        </div>\n                    </div>\n                </div>\n                <canvas class='tabLegendRamp' style='position: absolute'></canvas>\n                <div class='tabLegendCenterMark' style='position: absolute'></div>\n                <div class='tabLegendMinLabel' style='position: absolute'></div>\n                <div class='tabLegendMaxLabel' style='position: absolute'></div>\n            </div>"));this.panel=this.domRoot;this.titleControls=this.getElementBySelector('.tabLegendTitleControls');this.contextMenuButton=this.getElementBySelector('.tabLegendContextMenuButton');this.ramp=this.getElementBySelector('.tabLegendRamp');this.centerMark=this.getElementBySelector('.tabLegendCenterMark');this.minLabel=this.getElementBySelector('.tabLegendMinLabel');this.maxLabel=this.getElementBySelector('.tabLegendMaxLabel')};fw.__typeName='tab.QuantitativeColorLegendTemplate';global.tab.QuantitativeColorLegendTemplate=fw;var fx=function(e){ss.makeGenericType(bi,[fy]).call(this,e,new fw);this.disposables.add$1(new spiff.HoverBehavior(this,null,ss.mkdel(this,this.$f),ss.mkdel(this,this.$g)));if(this.$i()){var L=new spiff.Button(this.$k().contextMenuButton);L.add_click(ss.mkdel(this,this.$j));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){L.remove_click(ss.mkdel(this,this.$j));tab.MiscUtil.dispose$1(L)})))}else{this.$k().contextMenuButton.hide()}};fx.__typeName='tab.QuantitativeColorLegendView';fx.setDomNodeStyleSize=function(e,L,hT){e.css('width',L+'px');e.css('height',hT+'px')};global.tab.QuantitativeColorLegendView=fx;var fy=function(e,L,hT){this.$d=null;es.call(this,L,hT);this.$d=e;this.$d.add_legendChanged(ss.mkdel(this,this.$c))};fy.__typeName='tab.QuantitativeColorLegendViewModel';global.tab.QuantitativeColorLegendViewModel=fy;var fz=function(){spiff.Template.call(this,$("<div class='tab-quick-filter'></div>"))};fz.__typeName='tab.QuickFilterDisplayTemplate';global.tab.QuickFilterDisplayTemplate=fz;var fA=function(){};fA.__typeName='tab.QuickFilterViewFactory';fA.getQuickFilterView=function(e){var L=null;switch(e.get_filterType()){case'Categorical':{L=spiff.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[bz,bx,Object])).call(null,[e]);break}}return L};global.tab.QuickFilterViewFactory=fA;var fB=function(e){this.displayModel=null;spiff.BaseViewModel.call(this);this.displayModel=e;this.displayModel.add_filterUpdated(ss.mkdel(this,this.handleFilterUpdate))};fB.__typeName='tab.QuickFilterViewModel';global.tab.QuickFilterViewModel=fB;var fC=function(){};fC.__typeName='tab.QuickFilterViewModelFactory';fC.getQuickFilterTypeViewModel=function(e){var L=null;switch(e.get_quickFilterType()){case'categorical':{L=new bz(e);break}default:{break}}return L};global.tab.QuickFilterViewModelFactory=fC;var fD=function(e,L,hT){this.$3=null;this.contentNode=null;bj.call(this,e,L,hT);this.set_itemFormatter(ss.mkdel(cY.filterItem,cY.filterItem.formatRadiolistFilterItemHtml))};fD.__typeName='tab.Radiolist';global.tab.Radiolist=fD;var fE=function(e,L,hT){bD.call(this,e,L,hT);this.tileHtml='<div class="tile tab-ctrl-formatted-text" style="top: {0}px; position: absolute; width: 100%;">'};fE.__typeName='tab.RadiolistContentFormatter';global.tab.RadiolistContentFormatter=fE;var fF=function(e){this.$0=null;this.$0=e};fF.__typeName='tab.RectangleGeom';global.tab.RectangleGeom=fF;var fG=function(){this.$d=null;this.$e=null;gd.call(this,{x:0,y:0,w:0,h:0},'<div></div>','tvdrag');this.$d={x:0,y:0,w:0,h:0};this.$e={x:0,y:0,w:0,h:0}};fG.__typeName='tab.RectShapeSelector';global.tab.RectShapeSelector=fG;var fH=function(){this.$0=null;this.$1=null;ge.call(this);this.$0={x:0,y:0,w:0,h:0};this.$1={x:0,y:0,w:0,h:0}};fH.__typeName='tab.RectShapeState';global.tab.RectShapeState=fH;var fI=function(e){this.$i=null;this.$j=null;ss.makeGenericType(spiff.BaseView$1,[fJ]).call(this,e,new s);this.$c()};fI.__typeName='tab.ReferenceLineConstantValueEditorView';global.tab.ReferenceLineConstantValueEditorView=fI;var fJ=function(){this.$2=null;spiff.BaseViewModel.call(this)};fJ.__typeName='tab.ReferenceLineConstantValueEditorViewModel';fJ.add_showReferenceLineConstantValueEditor=function(e){fJ.$2$1=ss.delegateCombine(fJ.$2$1,e)};fJ.remove_showReferenceLineConstantValueEditor=function(e){fJ.$2$1=ss.delegateRemove(fJ.$2$1,e)};fJ.constantLinePillDropped=function(e){if(ss.isValue(e)){var L=new fJ;L.$2=e;fJ.$2$1(L)}};global.tab.ReferenceLineConstantValueEditorViewModel=fJ;var fK=function(){};fK.__typeName='tab.ReferenceLineConstantValueQuickEditCommandRedirectHandler';fK.$0=function(e){var L=$.Deferred();if(ss.isValue(e)){var hT=e['jal1'];fJ.constantLinePillDropped(hT);L.resolve()}return L.promise()};global.tab.ReferenceLineConstantValueQuickEditCommandRedirectHandler=fK;var fL=function(){};fL.__typeName='tab.RegionResizer';fL.getRegionResizerViewModel=function(e,L,hT,hU,hV,hW,hX){var hY=null;switch(L){case'yheader':{hY=new G(e,hT,hU,hV,hW);break}case'xheader':{hY=new H(e,hT,hU,hV,hW);break}case'topaxis':{hY=new I(e,hT,hU,hV,hW,hX);break}case'rightaxis':{hY=new g(e,hT,hU,hV,hW,hX);break}case'bottomaxis':{hY=new h(e,hT,hU,hV,hW,hX);break}case'leftaxis':{hY=new i(e,hT,hU,hV,hW,hX);break}default:{break}}return hY};global.tab.RegionResizer=fL;var fM=function(){};fM.__typeName='tab.RelativeDateFilterPeriodType';global.tab.RelativeDateFilterPeriodType=fM;var fN=function(){};fN.__typeName='tab.RelativeDateFilterRangeType';global.tab.RelativeDateFilterRangeType=fN;var fO=function(e){this.$2=null;spiff.BaseViewModel.call(this);this.$2=e};fO.__typeName='tab.RelativeDateFilterViewModel';global.tab.RelativeDateFilterViewModel=fO;var fP=function(e){this.templateString="<div class='RelativeDatePickFilter'><div dojoAttachPoint='domBox' class='RelativeDatePickFilterBox'><div class='TitleAndControls' dojoAttachPoint='domControls'><h3 class='FilterTitle' dojoAttachPoint='domTitleBar'></h3><div dojoType='dijit.form.Button' class='RDFButton RDFMenuButton' name='type' dojoAttachPoint='menuButton'dojoAttachEvent='onClick:doMenu' iconClass='wcIconContextMenu'></div><div class='PicklistContentDiv tab-ctrl-formatted-coloronly' dojoAttachPoint='domPicker'></div></div></div></div>";this.widgetsInTemplate=true;this.session=null;this.field='';this.stateId=0;this.rid=0;this.timestamp=0;this.currentRange=null;this.$3=0;this.$4=0;this.layoutSession=null;this.zid=0;this.filterViewModel=null;this.currentAbbrev=null;this.showContextMenu=null;this.disposables=null;this.getContextMenuCommands=null;this.periodType=null;this.rangeType=null;this.rangeN=0;this.domPicker=null;this.getSID=null;this.$2=null;this.menuButton=null;eq.call(this)};fP.__typeName='tab.RelativeDatePickFilter';global.tab.RelativeDatePickFilter=fP;var fQ=function(){this.$b=null;this.$a=null;this.$9=null;this.$8=null;this.$c=0;this.$d=0;this.$1$1=null;this.$1$2=null;this.$b={}};fQ.__typeName='tab.RenderAndCheckFontLoader';fQ.$0=function(e,L){var hT=$('<span/>').text('The quick brown fox jumps over the lazy dog iiilllest');var hU=$('<div/>').css(fQ.$2).css('font-family',L.join(', ')).addClass(e);hU.append(hT);return hU};fQ.$1=function(e,L){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(L)){return false}var hT=e.children('span')[0];var hU=L.children('span')[0];return fR.compareBoundingClientHeight(hT,hU)===0&&fR.compareBoundingClientWidth(hT,hU)===0};global.tab.RenderAndCheckFontLoader=fQ;var fR=function(){};fR.__typeName='tab.RenderUtil';fR.calculatePixelRatio=function(e){var L=1;if(ss.isValue(tsConfig.highDpi)&&tsConfig.highDpi){if(ss.isValue(tsConfig.pixelRatio)){L=tsConfig.pixelRatio}else if(ss.isValue(e)&&!e){L=tab.BrowserSupport.get_devicePixelRatio()}else{L=tab.BrowserSupport.get_devicePixelRatio()/tab.BrowserSupport.get_backingStoragePixelRatio()}}return L};fR.isHighDpi=function(){return window.matchMedia('(-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi)').matches};fR.domainToPixel=function(e,L,hT,hU){return(e-L)*hU+hT};fR.manualFadeAnimation=function(e,L,hT,hU,hV,hW){var hX=L;var hY=hT;var hZ=ss.Int32.div(hV,1000)*hU;var ia=(hT-L)/hZ;var ib=ss.Int32.div(1000,hU);var ic=null;ic=function(){if(hX>hY){e.css('filter','alpha(opacity='+hY+')');e.css('opacity',(hY/100).toString());return}e.css('filter','alpha(opacity='+hX+')');e.css('opacity',(hX/100).toString());hX+=ia;if(ss.isValue(hW)){ib+=ib}window.setTimeout(ic,ib)};window.setTimeout(ic,ib)};fR.compareBoundingClientHeight=function(e,L){var hT=e.getBoundingClientRect().height;var hU=(ss.isNullOrUndefined(L)?0:L.getBoundingClientRect().height);return ss.compare(hT,hU)};fR.compareBoundingClientWidth=function(e,L){var hT=e.getBoundingClientRect().width;var hU=(ss.isNullOrUndefined(L)?0:L.getBoundingClientRect().width);return ss.compare(hT,hU)};global.tab.RenderUtil=fR;var fS=function(){};fS.__typeName='tab.ResolveSelectAction';fS.fromNormalizedEvent=function(e,L,hT){var hU=e.getSelectAction();if(ss.isValue(L)&&L&&hU==='toggle'){hU='range'}else if(!!!L&&!!hT&&hU==='range'){hU='simple'}return hU};global.tab.ResolveSelectAction=fS;var fT=function(){};fT.__typeName='tab.RuntimeUIModule';fT.get_instance=function(){if(ss.isNullOrUndefined(fT.$0)){eI.load(dT).call(null,[]).done(function(e){fT.$0=e})}return fT.$0};global.tab.RuntimeUIModule=fT;var fU=function(){this.$w={};this.$D={};this.$B={};this.$A={};this.$v={};this.$z=false;this.$t=false;this.$y=null;this.$x={};this.$u={};this.$C={};this.scene=null;this.customShapes=null;this.brushings=null;this.selections=null;this.sceneUserPaneInfo=null;this.colorModel=null;this.$n=0;this.$s=0;this.customShapes=[];this.$n=0;this.$s=0};fU.__typeName='tab.SceneInfo';fU.getPaneMarksKey=function(e){var L=e.Zpj;return e.fDN+'_'+L['_WI'.toString()]+'_'+L['ASo'.toString()]+'_'+e.hJq};fU.extractCustomShapes=function(e){var L=[];if(!ss.isValue(e)||!ss.isValue(e.ObZ)){return L}var hT=Object.keys(e.ObZ);for(var hU=0;hU<hT.length;hU++){var hV=hT[hU];var hW=e.ObZ[hV];var hX=hW.GKA;if(ss.keyExists(hX,'shape_id')){var hY=hX['shape_id'];var hZ=hY.uBu;for(var ia=0;ia<hZ.length;ia++){var ib=hZ[ia];if(ss.isValue(ib)&&tab.SceneDataUtil.isCustomShape(ib)){L.push(ib)}}}if(ss.isValue(hW.LTd)&&ss.keyExists(hW.LTd,'shape_id')){var ic=hW.LTd['shape_id'];if(tab.SceneDataUtil.isCustomShape(ic)){L.push(ic)}}}return L};fU.$0=function(e,L,hT){var hU=e.paneRect.x;var hV=e.paneRect.y;var hW=_.keys(L);for(var hX=0;hX<hW.length;hX++){var hY=hW[hX];var hZ=L[hY];tab.RectXYUtil.offsetRectXYInPlace(hZ,hU,hV);hT[hY]=hZ}};global.tab.SceneInfo=fU;var fV=function(){fV.$1.call(this,null,null)};fV.__typeName='tab.SceneUserPaneInfo';fV.$1=function(e,L){this.$3=null;this.$4=null;this.$1=false;this.$2=false;this.$0=0;this.$5=0;this.$3=e;this.$4=L;this.$1=ss.isValue(e)&&e.length>0;this.$2=ss.isValue(L)&&L.length>0;this.$0=(this.$1?(e.length-1):1);this.$5=(this.$2?(L.length-1):1)};fV.$0=function(e){fV.$1.call(this,e.uaB,e.gwy)};global.tab.SceneUserPaneInfo=fV;var fW=function(){};fW.__typeName='tab.ScriptLoader';fW.load=function(e,L){if(ss.staticEquals(e,null)){throw new ss.ArgumentNullException('allLoadedCallback')}if(ss.isNullOrUndefined(L)){throw new ss.ArgumentNullException('scriptPathNames')}var hT=L.length;if(hT===0){throw new ss.ArgumentException('At least one script path name is expected.','scriptPathNames')}var hU=[];for(var hV=0;hV<L.length;hV++){var hW=L[hV];var hX=fW.$0[hW];if(ss.isNullOrUndefined(hX)){var hY=tableau.util.assetUrl(hW);hX=$.getScript(hY);fW.$0[hW]=hX}hU.push(hX)}$.when.apply(null,hU).done([e])};fW.loadSequential=function(e,L){if(ss.staticEquals(e,null)){throw new ss.ArgumentNullException('allLoadedCallback')}if(ss.isNullOrUndefined(L)){throw new ss.ArgumentNullException('scriptPathNames')}var hT=L.length;if(hT===0){throw new ss.ArgumentException('At least one script path name is expected.','scriptPathNames')}var hU=L[0];var hV=fW.$0[hU];if(ss.isNullOrUndefined(hV)){var hW=tableau.util.assetUrl(hU);hV=$.getScript(hW);fW.$0[hU]=hV}if(L.length===1){hV.done([e])}else{hV.done([function(){fW.loadSequential(e,L.slice(1))}])}};global.tab.ScriptLoader=fW;var fX=function(e){this.$0=null;ss.EventArgs.call(this);this.$0=e};fX.__typeName='tab.ScrolledEventArgs';global.tab.ScrolledEventArgs=fX;var fY=function(e,L){this.templateString="<div class='Search'><div class='SearchBox tab-ctrl-formatted-border tab-ctrl-formatted-darker-border-hover' dojoAttachPoint='domQuerySection'><textarea rows='1' class='QueryBox' spellcheck='false'dojoAttachPoint='domQueryBox'dojoAttachEvent='onkeydown:onQueryBoxKeyDown,onpaste:onQueryBoxPaste'></textarea><span class='wcSearchX' title='${XBUTTON_CLOSE_TOOLTIP}'dojoAttachPoint='domXButton'dojoAttachEvent='onclick:onXButtonClick,onmouseover:onButtonHover,onmouseout:onButtonUnhover'></span><img class='searchBusyImg' title='${CANCEL_SEARCH_TOOLTIP}' src='${busy_gif_url}'dojoAttachPoint='domSearchBusyImg'dojoAttachEvent='onclick:onSearchBusyImgClick'></img><span class='wcIconSearch' title='${SEARCH_TOOLTIP}'dojoAttachPoint='domSearchButton'dojoAttachEvent='onclick:onSearchButtonClick,onmouseover:onButtonHover,onmouseout:onButtonUnhover'></span><span class='wcIconSearchAdd' title='${ADD_ITEM_CTRL_ENTER}'dojoAttachPoint='domSearchAddButton'dojoAttachEvent='onclick:onSearchAddButtonClick,onmouseover:onButtonHover,onmouseout:onButtonUnhover'></span></div><div class='SearchResults' dojoAttachPoint='domResults' dojoAttachEvent='onclick:onListItemClick'></div></div>";this.domQuerySection=null;this.domQueryBox=null;this.domSearchAddButton=null;this.domSearchButton=null;this.domSearchBusyImg=null;this.domResults=null;this.$8=null;this.applyDelay=500;this.$9=100;this._bSearching=false;this._queryBoxPasteTimeout=null;this._searchTimer=null;this._isFilterSearchable=false;this._initializedSearchResults=false;this._domResultsPBExtents=null;this._lastRemoteSearch=null;fZ.call(this);this.$8=new bA(this)};fY.__typeName='tab.SearchWidget';global.tab.SearchWidget=fY;var fZ=function(){this.isContainer=false;this.domXButton=null;this.CANCEL_SEARCH_TOOLTIP=tab.Strings.QuickFilterSearchCancel;this.SEARCH_TOOLTIP=tab.Strings.QuickFilterSearchTooltip;this.ADD_ITEM_CTRL_ENTER=tab.Strings.QuickFilterSearchAddItemCtrlEnter;this.ADD_ITEM_ENTER=tab.Strings.QuickFilterSearchAddItemEnter;this.XBUTTON_CLOSE_TOOLTIP=tab.Strings.QuickFilterSearchCloseTooltip;this.XBUTTON_CLEAR_TOOLTIP=tab.Strings.QuickFilterSearchClearTooltip;this.NO_MATCHES=tab.Strings.QuickFilterSearchNoMatches;this.isVisible=false;this.qf=null;this.oResults=null;this.resultCount=-1;this.searchDelay=400;this.busy_gif_url=null;this._isTypeInList=false;Object.call(this)};fZ.__typeName='tab.SearchWidgetBase';global.tab.SearchWidgetBase=fZ;var ga=function(){this.$4={};this.$3=null;this.$5=false;this.$2=null;this.$1$1=null;this.$3=ga.$0();this.$3.add_fontsReady(ss.mkdel(this,this.$0))};ga.__typeName='tab.ServerFontLoader';ga.get_instance=function(){if(ss.isNullOrUndefined(ga.$1)){ga.$1=new ga}return ga.$1};ga.$0=function(){if(tab.FeatureFlags.isEnabled('RenderAndCheckFontLoader')){if(tab.BrowserSupport.get_fontLoaderApi()&&(tab.BrowserSupport.get_isFF()||tab.BrowserSupport.get_isChrome())){return new eJ}else{return new fQ}}else{return new bl}};global.tab.ServerFontLoader=ga;var gb=function(e,L){hE.call(this,e,L)};gb.__typeName='tab.ServerRenderVizHitTester';global.tab.ServerRenderVizHitTester=gb;var gc=function(e){this.$3=new Set;this.$2=null;this.$2=e;tab.ApplicationModel.get_instance().get_shapeManager().add_shapeLoaded(ss.mkdel(this,this.onShapeLoaded))};gc.__typeName='tab.ShapeDependencyManager';global.tab.ShapeDependencyManager=gc;var gd=function(e,L,hT){this.$b=null;this.$a=null;this.$7=null;this.$4=null;this.$5=null;this.$9=null;this.$8={x:0,y:0};this.$6={x:0,y:0};this.$3={x:0,y:0,w:0,h:0};this.$c={x:0,y:0};this.$2={x:0,y:0};this.$b=(ss.isNullOrUndefined(e)?'0':e.w.toString());this.$a=(ss.isNullOrUndefined(e)?'0':e.h.toString());this.$7=L;this.$4=hT};gd.__typeName='tab.ShapeSelectorBase';global.tab.ShapeSelectorBase=gd;var ge=function(){};ge.__typeName='tab.ShapeStateBase';global.tab.ShapeStateBase=ge;var gf=function(){};gf.__typeName='tab.ShapeUtil';gf.generateSelectedUnderCustomShape=function(e,L,hT,hU,hV){var hW=gf.colorTransformImage(e,L,hU,hV);var hX=document.createElement('canvas');var hY=hT*2;hX.width=Math.ceil(hU+hY);hX.height=Math.ceil(hV+hY);var hZ=hX.getContext('2d');hZ.drawImage(hW,0,0,hU,hV);hZ.drawImage(hW,hT,0,hU,hV);hZ.drawImage(hW,hY,0,hU,hV);hZ.drawImage(hW,hY,hT,hU,hV);hZ.drawImage(hW,hY,hY,hU,hV);hZ.drawImage(hW,hT,hY,hU,hV);hZ.drawImage(hW,0,hY,hU,hV);hZ.drawImage(hW,0,hT,hU,hV);return hX};gf.generateOverlayForShape=function(e,L,hT,hU,hV){var hW=gf.generateSelectedUnderCustomShape(e,L,hT,hU,hV);var hX=hW.getContext('2d');hX.globalCompositeOperation='destination-out';hX.drawImage(e,hT,hT,hU,hV);return hW};gf.colorTransformImage=function(e,L,hT,hU){var hV=gf.generateCanvasAndPrescaleAsNeeded(e,hT,hU);var hW=hV.getContext('2d');var hX=hW.getImageData(0,0,hV.width,hV.height);var hY=hX.data.length;for(var hZ=0;hZ<hY;hZ+=4){if(hX.data[hZ+3]>0){hX.data[hZ]=L.get_r();hX.data[hZ+1]=L.get_g();hX.data[hZ+2]=L.get_b()}}hW.putImageData(hX,0,0);return hV};gf.applyFoggingToImage=function(e,L,hT,hU,hV){var hW=gf.generateCanvasAndPrescaleAsNeeded(e,hU,hV);var hX=hW.getContext('2d');var hY=hX.getImageData(0,0,hW.width,hW.height);for(var hZ=0;hZ<hY.data.length;hZ+=4){if(hY.data[hZ+3]>0){hY.data[hZ]=Math.round(L.get_r()+hY.data[hZ]*hT);hY.data[hZ+1]=Math.round(L.get_g()+hY.data[hZ+1]*hT);hY.data[hZ+2]=Math.round(L.get_b()+hY.data[hZ+2]*hT)}}hX.putImageData(hY,0,0);return hW};gf.generateCanvasAndPrescaleAsNeeded=function(e,L,hT){var hU=document.createElement('canvas');if(!ss.isValue(e)){return hU}if(e.width>L*2&&e.height>hT*2){hU.width=Math.max(ss.Int32.div(e.naturalWidth,2),1);hU.height=Math.max(ss.Int32.div(e.naturalHeight,2),1)}else{hU.width=e.naturalWidth;hU.height=e.naturalHeight}var hV=hU.getContext('2d');hV.drawImage(e,0,0,hU.width,hU.height);return hU};global.tab.ShapeUtil=gf;var gg=function(){this.shareArea=null;this.shareStateArea=null;this.shareCurrentView=null;this.shareOriginalView=null;this.shareLinkSection=null;this.shareLinkTitle=null;this.shareLinkInput=null;this.shareLinkButtons=null;this.shareEmbedTitle=null;this.shareEmbedInput=null;spiff.Template.call(this,$("\n            <div class='tab-shareView tab-toolbarFlyout'>\n            </div>"));this.shareArea=this.domRoot};gg.__typeName='tab.ShareTemplate';global.tab.ShareTemplate=gg;var gh=function(e){this.$f=(tsConfig.is_mobile?390:300);this.$h=null;this.$g=false;ss.makeGenericType(spiff.BaseView$1,[gi]).call(this,e,new gg);this.$h=e;this.$h.saveSharedView();this.$9();this.$g=Math.min(tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type).w,window.innerWidth)<=this.$f};gh.__typeName='tab.ShareView';global.tab.ShareView=gh;var gi=function(){this.$a=true;spiff.BaseViewModel.call(this);this.$a=!this.$9();this.saveSharedView()};gi.__typeName='tab.ShareViewModel';gi.$6=function(e){var L='/javascripts/api/viz_v1.js';var hT=(tsConfig.forceHttpsForPublicEmbed?'https:':e['protocol']);return encodeURI(hT+'//'+e['hostname']+L)};gi.$0=function(){var e;var L=new ss.StringBuilder(ss.formatString('if ( divElement.offsetWidth > {0} ) { ',tsConfig.dsd_tablet_max_size));L.append(gi.$2(tabBootstrap.ViewerBootstrap.get_instance().getCompositeSizeForDeviceType('desktop'),0.75));L.append(ss.formatString('} else if ( divElement.offsetWidth > {0} ) { ',tsConfig.dsd_phone_max_size));L.append(gi.$2(tabBootstrap.ViewerBootstrap.get_instance().getCompositeSizeForDeviceType('tablet'),0.75));L.append('} else { ');L.append(gi.$2(tabBootstrap.ViewerBootstrap.get_instance().getCompositeSizeForDeviceType('phone'),1.77));L.append('} ');var hT=$.Deferred();e=hT.resolve(L.toString()).promise();return e};gi.$2=function(e,L){var hT={};hT.EVq=e.minWidth;hT.PiK=e.maxWidth;hT.pAn=e.minHeight;hT.McJ=e.maxHeight;return gi.$1(hT,L)};gi.$1=function(e,L){var hT=new ss.StringBuilder('');var hU=gi.$5();var hV=4;if(e.viO==='automatic'||e.EVq===0&&e.PiK===0){hT.append("vizElement.style.width='100%';")}else if(e.EVq===e.PiK){hT.append(ss.formatString("vizElement.style.width='{0}px';",e.EVq+hV))}else{if(e.EVq>0){hT.append(ss.formatString("vizElement.style.minWidth='{0}px';",e.EVq+hV))}else{hT.append("vizElement.style.width='100%';")}if(e.PiK>0){hT.append(ss.formatString("vizElement.style.maxWidth='{0}px';",e.PiK+hV))}else{hT.append("vizElement.style.maxWidth='100%';")}if(e.EVq>0&&e.PiK>0&&e.EVq!==e.PiK){hT.append("vizElement.style.width='100%';")}}if(e.viO==='automatic'||e.pAn===0&&e.McJ===0){hT.append(ss.formatString("vizElement.style.height=(divElement.offsetWidth*{0})+'px';",L))}else if(e.pAn===e.McJ){hT.append(ss.formatString("vizElement.style.height='{0}px';",e.pAn+hU))}else{if(e.pAn>0){hT.append(ss.formatString("vizElement.style.minHeight='{0}px';",e.pAn+hU))}else{hT.append(ss.formatString("vizElement.style.height=(divElement.offsetWidth*{0})+'px';",L))}if(e.McJ>0){hT.append(ss.formatString("vizElement.style.maxHeight='{0}px';",e.McJ+hU))}else{hT.append(ss.formatString("vizElement.style.maxHeight=(divElement.offsetWidth*{0})+'px';",L))}if(e.pAn>0&&e.McJ>0&&e.pAn!==e.McJ){hT.append(ss.formatString("vizElement.style.height=(divElement.offsetWidth*{0})+'px';",L))}}return hT.toString()};gi.$8=function(e){var L=e.protocol+'//'+e.host+'/javascripts/api/viz_v1.js';return"<script type='text/javascript' src='"+L+"'></script>"};gi.$5=function(){var e=4;if(gS.$0()){e+=65}else if(tsConfig.toolbarvis){e+=32}if(tabBootstrap.ViewerBootstrap.get_instance().get_shouldShowTabs()){e+=26}return e};gi.$7=function(){return tsConfig.facebookRedirectURI||gi.$d};gi.$3=function(e,L,hT,hU){var hV=L!==hT;var hW=e;var hX=':'+hU+'='+(L?'yes':'no');var hY=new RegExp(':'+hU+'=[^&]+');if(!!hW.match(hY)){if(hV){hW=hW.replace(hY,hX)}else{hW=hW.replace(hY,'');hW=hW.replace(new RegExp('&&'),'&');hW=hW.replace(new RegExp('\\?&'),'?');hW=hW.replace(new RegExp('&$'),'');hW=hW.replace(new RegExp('\\?$'),'')}}else if(hV){if(!!hW.match(new RegExp('[?]'))){hW=hW+'&'+hX}else{hW=hW+'?'+hX}}return hW};gi.$4=function(){var e=(new Date).getTime().toString();return'viz'+e};global.tab.ShareViewModel=gi;var gj=function(){this.shownX=0;this.shownY=0;this.origX=0;this.origY=0;this.position=null;this.viewport=null;ss.EventArgs.call(this)};gj.__typeName='tab.ShownEventArgs';gj.areShownArgsSame=function(e,L){if(ss.isNullOrUndefined(e)&&ss.isNullOrUndefined(L)){return true}if(ss.isNullOrUndefined(e)&&ss.isValue(L)||ss.isValue(e)&&ss.isNullOrUndefined(L)){return false}var hT;hT=e.origX===L.origX;hT=hT&&e.origY===L.origY;hT=hT&&e.shownX===L.shownX;hT=hT&&e.shownY===L.shownY;hT=hT&&e.position===L.position;hT=hT&&tab.RectUtil.isEqual(e.viewport.get_dimensions(),L.viewport.get_dimensions());return hT};global.tab.ShownEventArgs=gj;var gk=function(e,L,hT){bh.call(this,e,L,hT);this.set_itemFormatter(ss.mkdel(cY.filterItem,cY.filterItem.formatDropdownListFilterItemHtml))};gk.__typeName='tab.SimpleDropdown';global.tab.SimpleDropdown=gk;var gl=function(e,L,hT){this.$0=null;this.$2=null;this.$1=null;this.tileHtml='<div class="tile tab-ctrl-formatted-text" style="top: {0}px; left: 0; right: 0; position: absolute; width: 100%;">';this.$0=e;this.$2=L;this.$1=hT};gl.__typeName='tab.SimpleListContentFormatter';global.tab.SimpleListContentFormatter=gl;var gm=function(e,L,hT){this.$o=null;ss.makeGenericType(hB,[hy]).call(this,e,L,'opaque');var hU=(ss.isValue(hT.get_scene())?hT.get_scene().colorModel:dR.defaultColors);this.renderer=new cy(this.canvasElt,this.context,hU);this.$o=hT};gm.__typeName='tab.SimpleRegionCanvasView';global.tab.SimpleRegionCanvasView=gm;var gn=function(e,L,hT,hU,hV,hW,hX,hY,hZ){this.$j=null;this.styleid=0;this.$y=null;this.$C=-1;this.$e=['show-readout','hide-readout'];this.$f=['show-slider','hide-slider'];this.$d=['show-step-btns','hide-buttons'];this.$g=['show-ticks','hide-ticks'];this.div=null;this.$h=null;this.currentlySelected=0;this.numValues=0;this.$z=null;this.$A=null;this.slider=null;this.readout=null;this.$q=false;this.$B=null;this.$l=null;this.$E=null;this.$s=null;this.$v=null;this.$r=false;this.$o=null;this.$F=null;this.$w=false;this.$n=null;this.$p=false;this.$k=null;this.$t=null;this.$i=null;this.$x=false;this.$u=false;this.$m=null;this.$D=null;this.div=e;this.$h=L;this.$p=hT;this.$k=hU;this.$o=hV;this.$n=hW;this.$t=hX;this.$m=hY;this.$x=hZ;$(this.div).addClass('tableauWidgetUiSlider');this.$j=new tab.DisposableHolder;this.currentlySelected=-1};gn.__typeName='tab.Slider';global.tab.Slider=gn;var go=function(e,L,hT){this.$3=null;this.$4=null;bj.call(this,e,L,hT)};go.__typeName='tab.SliderCatmode';global.tab.SliderCatmode=go;var gp=function(e,L){this.templateString="<div class='SmallSearch'><div class='SmallSearchBox' dojoAttachPoint='domSearchBox'><div class='Autocompleter' dojoAttachPoint='domAutocompleter'></div><div class='wcSearchX dijitInlineTable' title='${XBUTTON_CLOSE_TOOLTIP}'dojoAttachPoint='domXButton'dojoAttachEvent='onclick:onXButtonClick,onmouseover:onButtonHover,onmouseout:onButtonUnhover'></div></div></div>";this.domSearchBox=null;this.domAutocompleter=null;this.autocompleter=null;fZ.call(this)};gp.__typeName='tab.SmallSearchWidget';global.tab.SmallSearchWidget=gp;var gq=function(e){this.$6=750;this.$9=null;this.$7=null;this.$8=null;this.$5=new tab.DisposableHolder;this.$1$1=null;this.serverMarkBounds=null;tab.Param.verifyValue(e,'tooltip');this.$9=e;var L=tab.FeatureParamsLookup.getInt(11);if(ss.isValue(L)){this.$6=ss.coalesce(L,0)}};gq.__typeName='tab.SmoothTooltipBehavior';global.tab.SmoothTooltipBehavior=gq;var gr=function(){};gr.__typeName='tab.Social';gr.twitterPopup=function(e,L){var hT=$('#twitter_creator');var hU=(ss.isValue(hT)?hT.attr('content'):null);if(!ss.isNullOrEmptyString(hU)){hU=' '+hU}L+=hU;var hV={};hV['url']=e;hV['via']='tableaupublic';hV['text']=L;hV['related']='tableau';var hW='https://twitter.com/share?'+$.param(hV);var hX=null;var hY='scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=680,height=350';window.open(hW,hX,hY)};gr.facebookPopup=function(e,L,hT,hU,hV,hW){var hX={};hX['app_id']=e;hX['link']=L;hX['picture']=hT;hX['name']=hU;hX['description']=hV;if(!!hW&&hW.length>0){hX['redirect_uri']=hW}var hY='http://www.facebook.com/dialog/feed?'+$.param(hX);var hZ=null;var ia='scrollbars=yes,resizable=yes,toolbar=no,location=no,width=1000,height=565';var ib=window.open(hY,hZ,ia);if(typeof(ib['focus'])==='function'){ib.focus()}};gr.mailTo=function(e,L){var hT=ss.mkdict(['body',e]);if(!!L){hT['subject']=L}var hU='mailto:?'+$.param(hT);if(tsConfig.is_mobile&&!tsConfig.is_mobile_app&&tab.BrowserSupport.get_isSafari()){window.location.href=hU}else{var hV=window.open(hU,'MailWindow');if(ss.isValue(hV)){window.setTimeout(function(){try{if(hV.location.href==='about:blank'){hV.close()}}catch(hW){}},999)}}};global.tab.Social=gr;var gs=function(e,L){this.$w=null;this.$r=null;this.$u=null;this.$q=null;this.$t=null;this.$v=null;this.$s=null;this.menuTheme=0;ss.makeGenericType(spiff.BaseView$1,[gt]).call(this,e,new gu);this.menuTheme=L;this.$w=e;this.$9();this.$w.add_schedulesChanged(ss.mkdel(this,this.handleSchedulesUpdated));this.$w.add_subscribersChanged(ss.mkdel(this,this.$h));this.$w.add_addSubscribersPopupStateChanged(ss.mkdel(this,this.$p))};gs.__typeName='tab.SubscribeView';gs.get_sendOnlyWhenDataPresentCheckboxClass=function(){return'tab-sendOnlyWhenDataPresentCheckbox'};global.tab.SubscribeView=gs;var gt=function(){this.$8=[];this.$6=[];this.$5=null;this.$7=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=false;this.$2$7=null;this.$2$8=null;spiff.BaseViewModel.call(this);if(!tsConfig.is_guest){tab.StartupUtils.callAfterBootstrap(ss.mkdel(this,function(){tab.WorkgroupServerCommands.getSchedules(ss.mkdel(this,function(e){this.$6=e.filter(function(L){return L.get_schedulePresModel().scheduledAction==='Subscription'});if(!ss.staticEquals(this.$2$1,null)){this.$2$1()}}))}))}this.set_email(tsConfig.current_user_email);this.$8=[];this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,this.$2)));if(tab.FeatureFlags.isEnabled('SubscribeOthers')){this.set_subscriptionsPageUrl((ss.isNullOrEmptyString(tsConfig.site_url_name)?ss.formatString('/#/workbooks/{0}/subscriptions',tsConfig.current_workbook_id):ss.formatString('/#/site/{0}/workbooks/{1}/subscriptions',tsConfig.site_url_name,tsConfig.current_workbook_id)))}};gt.__typeName='tab.SubscribeViewModel';global.tab.SubscribeViewModel=gt;var gu=function(){this.subscribeViewArea=null;this.subscribeViewsToggleLabel=null;this.subscribeThisView=null;this.subscribeAllViews=null;this.subscribeSelfArea=null;this.subscribeScheduleDropdown=null;this.subscribeEmail=null;this.addSubscribersLabel=null;this.manageSubscribersLabel=null;this.subscribeSubject=null;this.subscribeButton=null;spiff.Template.call(this,$("\n            <div class='tab-subscribeView tab-toolbarFlyout'>\n                <div class='tab-subscribeToggleSection'>\n                    <label class='tab-subscribeViewsToggleLabel'/>\n                    <div class='tab-subscribeToggleContainer'>\n                        <span class='tab-subscribeThisView tab-subscribeToggle'/><span class='tab-subscribeAllViews tab-subscribeToggle'/>\n                    </div>\n                </div>\n                <div class='tab-subscribeSchedule'/>\n                <div class='tab-subscribeSubject'/>\n                <div class='tab-subscribeSelfArea tab-subscribeOthersSection'/>\n                <div class='tab-subscribeEmail'/>\n                <div class='tab-addSubscribersArea tab-subscribeOthersSection'>\n                    <label class='tab-addSubscribersLabel'/>\n                </div>\n                <div class='tab-manageSubscribersArea tab-subscribeOthersSection'>\n                    <label class='tab-manageSubscribersLabel'/>\n                </div>\n                <div class='tab-subscribeSubmit'/>\n            </div>"));this.subscribeViewArea=this.domRoot;this.subscribeViewsToggleLabel=this.getElementBySelector('.tab-subscribeViewsToggleLabel');this.subscribeThisView=this.getElementBySelector('.tab-subscribeThisView');this.subscribeAllViews=this.getElementBySelector('.tab-subscribeAllViews');this.subscribeScheduleDropdown=this.getElementBySelector('.tab-subscribeSchedule');this.subscribeSelfArea=this.getElementBySelector('.tab-subscribeSelfArea');this.subscribeEmail=this.getElementBySelector('.tab-subscribeEmail');this.addSubscribersLabel=this.getElementBySelector('.tab-addSubscribersLabel');this.manageSubscribersLabel=this.getElementBySelector('.tab-manageSubscribersLabel');this.subscribeSubject=this.getElementBySelector('.tab-subscribeSubject');this.subscribeButton=this.getElementBySelector('.tab-subscribeSubmit')};gu.__typeName='tab.SubscribeViewTemplate';global.tab.SubscribeViewTemplate=gu;var gv=function(e,L){this.baseClass='tableauTabbedNavigation';this.templateString="<div style='width:${innerWidth};' class='tabbedNavigationOuterWrapper' role='navigation'><div id='container' dojoType='dijit.layout.LayoutContainer' style='width:100%; height:100%;' dojoAttachPoint='_innerWrapper'><button dojoType='dijit.form.Button' class='tabsMenuBtn' layoutAlign='left' id='menuBtn' dojoAttachPoint='_menuBtn' style='display:none;'></button><button dojoType='dijit.form.Button' class='tabsLeftBtn' layoutAlign='left' dojoAttachPoint='_leftBtn' style='display:none;'></button><button dojoType='dijit.form.Button' class='tabsRightBtn' layoutAlign='right' dojoAttachPoint='_rightBtn' style='display:none;'></button><div dojoType='dijit.layout.LayoutContainer' layoutAlign='client' dojoAttachPoint='_containerNode'><div class='dijitTabContainerTop-tabs' dojoAttachPoint='_scrollNode' role='tablist'></div></div></div></div>";this.widgetsInTemplate=true;this.innerWidth='100%';this.selectedTabArrayIndex=0;this.$m=0;this.$q=null;this.$n=null;this.$o=new tab.DisposableHolder;this.$p=null;this.currentTab=null;this._scrollNode=null;this._leftBtn=null;this._rightBtn=null;this._menuBtn=null;this._containerNode=null;this._innerWrapper=null;this.$r=null;this._anim=null;this._buttons=null;Object.call(this);this.$q=[];this.$n=[];this.$q=tsConfig.visible_sheets||this.$q;var hT=this._indexOf(this.$q,tsConfig.current_sheet_name);var hU=hT;if(ss.isNullOrUndefined(hU)){hU=this.selectedTabArrayIndex}this.selectedTabArrayIndex=hU;this.innerWidth=e['innerWidth']||this.innerWidth;var hV=ss.mkdel(this,function(){this.$i(this.currentTab)});ga.get_instance().add_fontPreparationComplete(hV);this.$o.add$1(new tab.CallOnDispose(function(){ga.get_instance().remove_fontPreparationComplete(hV)}))};gv.__typeName='tab.TabbedNavigation';global.tab.TabbedNavigation=gv;var gw=function(e,L,hT){this.tabLabelElement=null;this.tabContentElement=null;this.tabIndex=0;ss.EventArgs.call(this);this.tabLabelElement=e;this.tabContentElement=L;this.tabIndex=hT};gw.__typeName='tab.TabEventArgs';global.tab.TabEventArgs=gw;var gx=function(e){this.$7=null;this.$c=null;this.$d=null;this.$m=null;this.$f=null;this.$k=0;this.$h=null;this.$l=null;this.$i=false;this.$8=null;this.$9=null;this.$a=null;this.$b=null;this.$j=false;this.$e=0;this.$g=0;this.dirtyRect=null;this.pixelRatio=0;this.$7=e;this.$c=new Array;this.$d=dd.instance();this.$m=new tab.TransformationMatrix;this.reset();this.clearDirtyRect()};gx.__typeName='tab.TabRenderContext2D';gx.$0=function(e){var L=e.split(' ');for(var hT=0;hT<L.length;hT++){var hU=L[hT];var hV=parseFloat(hU);if(isFinite(hV)){return hV}}return 8};global.tab.TabRenderContext2D=gx;var gy=function(e){this.textSelectable=false;this.textSelectable=e};gy.__typeName='tab.TextRegionOptions';global.tab.TextRegionOptions=gy;var gz=function(e){this.textRegionBoundaryElem=null;this.contentElem=null;spiff.Template.call(this,$(gz.$0(e)));var L=ss.mkdel(this,this.getElementBySelector);this.textRegionBoundaryElem=L('.tab-textRegion-boundary');this.contentElem=L('.tab-textRegion-content')};gz.__typeName='tab.TextRegionTemplate';gz.$0=function(e){var L;if(e<=0){L='div'}else{L='h'+e}return ss.formatString("<{0} class='tab-textRegion'><div class='tab-textRegion-boundary'><div class='tab-textRegion-content'></div></div></{0}>",L)};global.tab.TextRegionTemplate=gz;var gA=function(e){gA.$ctor1.call(this,e,-1)};gA.__typeName='tab.TextRegionView';gA.$ctor1=function(e,L){ss.makeGenericType(spiff.BaseView$1,[gB]).call(this,e,new gz(L));this.$i().add_newTextRegion(ss.mkdel(this,this.handleNewTextRegion));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$i().remove_newTextRegion(ss.mkdel(this,this.handleNewTextRegion))})));this.disposables.add$1(spiff.TableauClickHandler.targetAndRightClick(this.element[0],ss.mkdel(this,this.handleRightClick)))};global.tab.TextRegionView=gA;var gB=function(e){this.$3=null;this.options=new gy(true);this.$2$1=null;spiff.BaseViewModel.call(this);this.$3=e;this.$3.add_newText(ss.mkdel(this,this.handleNewTextRegion));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$3.remove_newText(ss.mkdel(this,this.handleNewTextRegion))})))};gB.__typeName='tab.TextRegionViewModel';global.tab.TextRegionViewModel=gB;var gC=function(){this.container=null;spiff.Template.call(this,$("<div class='tvimagesContainer'></div>"));this.container=this.getElementBySelector('.tvimagesContainer')};gC.__typeName='tab.TiledImageTemplate';global.tab.TiledImageTemplate=gC;var gD=function(e){ss.makeGenericType(spiff.BaseView$1,[gE]).call(this,e,new gC)};gD.__typeName='tab.TiledImageView';global.tab.TiledImageView=gD;var gE=function(){spiff.BaseViewModel.call(this)};gE.__typeName='tab.TiledImageViewModel';global.tab.TiledImageViewModel=gE;var gF=function(e,L,hT,hU,hV,hW){this.$e=null;this.backgroundMap=new eb;this.disposables=new tab.DisposableHolder;this.$l=null;this.allowPanZoom=null;this.connectNode=null;this.domPanZoomRect=null;this.domDragImage=null;this.domDragMask=null;this.currentToolbarToolMode=null;this.lockedToolbarToolMode=null;this.regionContent=null;this.scroller=null;this.isScrolling=false;this.wasScrolling=false;this.waitingOnPanZoomServerResponse=null;this.paneTableViewModel=null;this.viewportBorder=null;this.backgroundDiv=null;this.resetIsWaitingOnTransition=false;this.resetIsWaitingOnData=false;this.$g=null;this.$j=null;this.$i=null;this.$d=null;this.$k=null;this.$h=null;this.$a=null;this.$f=null;this.$c=false;this.$b=false;this.$9=null;this.$1$1=null;this.$1$2=null;this.$g=e;this.connectNode=$(L);this.viewportBorder=this.connectNode.parent().find('.tvViewportBorders');this.backgroundDiv=this.connectNode.find('.tvBackgroundContainer');this.$e=this.connectNode.find('.tvimagesContainer');this.$l=hT;this.allowPanZoom=hU;this.domPanZoomRect=new fG;this.$i=new fG;this.$j=hV;this.paneTableViewModel=hW;this.waitingOnPanZoomServerResponse='waitingOnServer';if(this.$g==='viz'){this.set_currentModifierKeyToolMode('no-tools');this.makeDomDrag()}this.lockedToolbarToolMode=this.paneTableViewModel.get_visualModel().get_defaultMapTool();if(tab.BrowserSupport.get_isIE()&&tab.BrowserSupport.get_browserVersion()<=9){this.backgroundDiv.css('z-index',-1)}if(ss.isValue(this.paneTableViewModel.get_mapServerModel())){this.paneTableViewModel.get_mapServerModel().add_tileUrlChanged(ss.mkdel(this,this.$7))}};gF.__typeName='tab.TiledViewerRegion';gF.getCanvasElement=function(e){return e.find('canvas').get(0)};global.tab.TiledViewerRegion=gF;var gG=function(e,L,hT,hU,hV,hW){this.$5=null;this.$7=null;this.$6=null;this.$9=null;this.$8=100;this.$5=e;this.$7=L;this.$6=hU;this.$9=hT;if(this.$6.isValid(hV)){this.$4(0,hV)}this.$5.add_contentFetched(ss.mkdel(this,this.$1));if(hW){this.$3()}else{this.$9.add_scrolled(ss.mkdel(this,this.$2))}};gG.__typeName='tab.TiledWidget';global.tab.TiledWidget=gG;var gH=function(){};gH.__typeName='tab.TiledWidgetFactory';gH.createChecklist=function(e,L,hT,hU,hV){var hW=new bD(e,hU,e.get_modeContents().get_itemFormatter());return gH.createListTiledWidget(e,L,hT,hW,hV)};gH.createRadiolist=function(e,L,hT,hU,hV){var hW=new fE(e,hU,e.get_modeContents().get_itemFormatter());return gH.createListTiledWidget(e,L,hT,hW,hV)};gH.createSimpleList=function(e,L,hT,hU,hV){var hW=new gl(e,hU,e.get_modeContents().get_itemFormatter());return gH.createListTiledWidget(e,L,hT,hW,hV)};gH.createListTiledWidget=function(e,L,hT,hU,hV){var hW=((e.get_oFilter().isTiled&&tsConfig.filterTileSize>0)?tsConfig.filterTileSize:e.get_oFilter().table.actual_size);hT.style.position='relative';var hX=e.get_oFilter().table.actual_size*hV;var hY=(!!hW?Math.ceil(e.get_oFilter().table.actual_size/hW):0);var hZ=new cZ(hT,hX,hY);var ia=tab.DomUtil.getMarginBox(hT);var ib=new ex(e.get_oFilter().table.actual_size,hV,hW,ia.h);var ic=new cS(e.get_session(),e.get_field(),e.get_domain());var id=L.slice(0,hW);var ie=new gG(ic,ib,hZ,hU,id,false);return ie};global.tab.TiledWidgetFactory=gH;var gI=function(e,L,hT,hU,hV){this.$8=null;this.$9=null;this.$b=null;this.$g=null;this.$d=null;this.$e=null;this.$k=0;this.$l=0;this.$i=null;this.$7=null;this.$j=0;this.$c=null;this.$n=null;this.$m=0;this.$f=0;this.$h=false;this.$a=false;this.$1$1=null;this.$c=hU;this.$8=e;this.$g=L;this.$n=hT;this.$h=hV;this.$b={x:0,y:0,w:0,h:0,r:''};this.$i={w:0,h:0};this.$9=new cF;this.$9.add_imageLoaded(ss.mkdel(this,this.$3));this.$9.add_imageTimedOut(ss.mkdel(this,this.$4));this.$9.add_complete(ss.mkdel(this,this.$5));this.$e=[];this.$d=$('.tvimagesContainer',this.$8);this.$a=true};gI.__typeName='tab.TiledWindow';gI.$0=function(e,L){var hT=fR.calculatePixelRatio(false);if(tab.DoubleUtil.isGreaterThanAndNotApproximatelyEqual(hT,1)){var hU=$(e);hU.css('width',L.w.toString()+'px');hU.css('height',L.h.toString()+'px')}};global.tab.TiledWindow=gI;var gJ=function(){React.Component.call(this)};gJ.__typeName='tab.TitleComponent';global.tab.TitleComponent=gJ;var gK=function(e){var L=function(){this.viewModel=null};ss.registerGenericClassInstance(L,gK,[e],{},function(){return null},function(){return[]});return L};gK.__typeName='tab.ToolbarButtonProps$1';ss.initGenericClass(gK,a,1);global.tab.ToolbarButtonProps$1=gK;var gL=function(){this.$2$1=null;this.$2$2=null;spiff.Template.call(this,$("<div class='tabToolbarButton' role='button'><span class='tabToolbarButtonImg' /><span class='tabToolbarButtonText' /></div>"));this.set_image(this.getElementBySelector('.tabToolbarButtonImg'));this.set_text(this.getElementBySelector('.tabToolbarButtonText'))};gL.__typeName='tab.ToolbarButtonTemplate';global.tab.ToolbarButtonTemplate=gL;var gM=function(e){this.$d=null;this.$e=null;ss.makeGenericType(spiff.BaseView$1,[gN]).call(this,e,new gL);this.get_viewModel().add_flyoverShown(ss.mkdel(this,this.$b));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_flyoverShown(ss.mkdel(this,this.$b))})));this.get_viewModel().add_flyoverHidden(ss.mkdel(this,this.$a));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_flyoverHidden(ss.mkdel(this,this.$a))})));this.$c()};gM.__typeName='tab.ToolbarButtonView';gM.create=function(e){return new gM(e)};global.tab.ToolbarButtonView=gM;var gN=function(e,L,hT){this.action=null;this.popupContent=null;this.$b=null;this.$c=null;this.$6=null;this.$7=null;this.$5=false;this.$9=false;this.$8=false;this.popupViewModel=null;this.$a=new spiff.UberPopupShowOptions.$ctor1(2,1,1,gS.get_toolbarIsBottom(),false,false,null,null,true,0,null);this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this);this.$b=e;this.$6=L;this.action=hT;this.$5=!ss.staticEquals(hT,null)};gN.__typeName='tab.ToolbarButtonViewModel';gN.shouldShowButton=function(e,L){switch(e.get_iconRes()){case'share':{return tsConfig.showShareOptions}case'edit':{return tsConfig.allow_authoring&&!tsConfig.previewMode&&!gS.$0()&&(!tab.ApplicationModel.get_instance().get_workbook().get_isCurrentSheetStoryboard()||tab.FeatureFlags.isEnabled('StorytellingMoveToTheWeb'))&&!tsConfig.is_mobile_app&&!L.get_useSmallScreenToolbar()}case'customviews':{return tsConfig.allow_custom_views&&!L.get_forceHideCustomViewsButton()&&!L.get_useSmallScreenToolbar()}case'subscribe':{return tsConfig.allow_subscriptions&&tsConfig.workbook_allow_subscriptions&&!tsConfig.is_guest}case'download':{return!tsConfig.previewMode}case'alert':{return!tsConfig.is_guest}default:{return true}}};gN.createSeparator=function(){var e=new gN('-',null,null);e.$9=true;return e};gN.createFromCommandItem=function(e,L,hT){var hU=tab.CommandItemWrapper.create(e);tab.Param.verifyValue(e,'commandItem');var hV=new gN(hU.get_name(),L+hU.get_iconRes(),null);hV.$5=ss.isNullOrUndefined(hU.get_enabled())||hU.get_enabled();hV.popupContent=gN.$0(e,hT,hV);hV.$7=hU.get_iconRes();var hW=tab.CommandSerializer.deserialize(hU.get_command());if(hV.$7==='edit'){hV.action=function(){tab.ToolbarServerCommands.launchEditing()}}else if(hV.$7==='alert'&&tab.FeatureFlags.isEnabled('AlertOnThresholdCondition')){hV.action=gN.createAndShowDataAlertCreateViewModel}else if(tab.FeatureFlags.isEnabled('HideMarkLabelsAsLocalAction')&&ss.isValue(hW)&&ss.referenceEquals(hW.commandName,'toggle-mark-labels'.toString())){hV.action=function(){tab.PaneClientCommands.setShowMarkLabels(hU.get_iconRes()==='show-labels',null)}}else if(ss.isValue(hW)){hV.action=function(){hV.set_isActive(true);tab.ServerCommands.executeServerCommand(hW,'immediately',function(){hV.set_isActive(false)},function(){hV.set_isActive(false)})}}return hV};gN.createAndShowDataAlertCreateViewModel=function(){spiff.ObjectRegistry.newView(cb).call(null,[new cc])};gN.$0=function(e,L,hT){var hU=tab.CommandItemWrapper.create(e);tab.Param.verifyValue(e,'commandItem');switch(hU.get_iconRes()){case'download':{var hV=new cI(L);hV.add_downloadInitiated(ss.mkdel(hT,hT.$3));hT.disposables.add$1(new tab.CallOnDispose(function(){hV.remove_downloadInitiated(ss.mkdel(hT,hT.$3))}));return hV}case'share':{return new gi}case'customviews':{var hW=L.get_customViewsViewModel();hW.hideView=ss.delegateCombine(hW.hideView,ss.mkdel(hT,hT.$3));hT.disposables.add$1(new tab.CallOnDispose(function(){var hY=L.get_customViewsViewModel();hY.hideView=ss.delegateRemove(hY.hideView,ss.mkdel(hT,hT.$3))}));return L.get_customViewsViewModel()}case'subscribe':{var hX=new gt;hX.add_subscribeSuccess(ss.mkdel(hT,hT.$3));hT.disposables.add$1(new tab.CallOnDispose(function(){hX.remove_subscribeSuccess(ss.mkdel(hT,hT.$3))}));return hX}default:{return null}}};global.tab.ToolbarButtonViewModel=gN;var gO=function(e,L,hT){this.$d=null;gN.call(this,e,L,null);tab.Param.verifyValue(hT,'menuBuilder');this.$d=hT;this.set_enabled(this.createMenu().menuItems.some(function(hU){return hU.enabled}))};gO.__typeName='tab.ToolbarDropdownButtonViewModel';global.tab.ToolbarDropdownButtonViewModel=gO;var gP=function(){this.toolbar=null;this.vizItems=null;this.publicItems=null;this.publicLogo=null;this.publicBelowLogo=null;this.nonVizItems=null;spiff.Template.call(this,$("\n            <div class='tab-toolbar tab-fill'>\n                <div class='tab-vizItems tab-fill-left' />\n                <div class='tab-publicItems'>\n                    <a class='tab-publicLogoLink' target='_blank' />\n                    <div class='tab-belowPublicLogo' />\n                </div>\n                <div class='tab-nonVizItems tab-fill-right' />\n            <div/>"));this.toolbar=this.domRoot;this.vizItems=this.getElementBySelector('.tab-vizItems');this.publicItems=this.getElementBySelector('.tab-publicItems');this.publicLogo=this.getElementBySelector('.tab-publicLogoLink');this.publicBelowLogo=this.getElementBySelector('.tab-belowPublicLogo');this.nonVizItems=this.getElementBySelector('.tab-nonVizItems')};gP.__typeName='tab.ToolbarTemplate';global.tab.ToolbarTemplate=gP;var gQ=function(e,L,hT,hU){this.$d=null;gN.call(this,e,L,hT);this.$d=hU};gQ.__typeName='tab.ToolbarToggleButtonViewModel';gQ.createFromCommandItems=function(e,L,hT){var hU;var hV;var hW=tab.CommandItemWrapper.create(e);var hX=tab.CommandItemWrapper.create(L);if(!ss.isValue(hW.get_enabled())||hW.get_enabled()){hU=hW;hV=hX}else if(!ss.isValue(hX.get_enabled())||hX.get_enabled()){hU=hX;hV=hW}else{return null}var hY=gN.createFromCommandItem(hU.get_item(),hT);var hZ=new gQ(hY.get_text(),hY.get_iconClass(),hY.get_buttonAction(),hV.get_name());hZ.disposables.add$1(hY);hZ.set_enabled(ss.isValue(hV)&&!hV.get_enabled());if(hZ.get_enabled()){return hZ}return null};global.tab.ToolbarToggleButtonViewModel=gQ;var gR=function(e){this.$C=null;this.$F=0;this.$E=0;this.$D=0;this.$A=0;this.$z=0;this.$y=0;this.$B=0;this.$x=0;this.$3$1=null;this.$3$2=null;this.$3$3=null;ss.makeGenericType(spiff.BaseView$1,[gS]).call(this,e,new gP);this.$C=e;this.$C.add_newToolbar(ss.mkdel(this,this.$j));this.$C.add_viewCountLoaded(ss.mkdel(this,this.$g));ga.get_instance().add_fontPreparationComplete(ss.mkdel(this,this.$f));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$C.remove_newToolbar(ss.mkdel(this,this.$j))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$C.remove_viewCountLoaded(ss.mkdel(this,this.$g))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){ga.get_instance().remove_fontPreparationComplete(ss.mkdel(this,this.$f))})));if(tab.FeatureFlags.isEnabled('VizToolbarFullscreenButton')){if(tab.FullscreenUtil.get_fullscreenEnabled()){this.disposables.add$1(spiff.EventUtil.bindWithDispose($(document),tab.FullscreenUtil.get_fullscreenChangeEventName(),ss.mkdel(this,this.$e)))}}this.get_dom().toolbar.css('line-height',this.$C.get_toolbarHeight()+'px');if(tsConfig.allow_custom_views){var L=ss.mkdel(this,function(){this.updateCustomViewsButton();this.$h()});this.$p().add_dirtyChanged(L);this.$p().add_customViewListChanged(L);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$p().remove_dirtyChanged(L);this.$p().remove_customViewListChanged(L)})))}var hT=_.throttle(ss.mkdel(this,this.$f),50);this.disposables.add$1(spiff.EventUtil.bindWithDispose($(window),'resize',function(hU){hT()}))};gR.__typeName='tab.ToolbarView';gR.$3=function(e){if(ss.isValue(e)){e.element.show()}};gR.$0=function(e){e.children('.tabToolbarButton').each(function(L,hT){var hU=$(hT);hU.css('width',tab.DoubleUtil.roundToInt(hU.outerWidth(false))+1)})};gR.$2=function(e){e.children('.tabToolbarButton').css('width','')};gR.$1=function(e){e.addClass('hideLabels');e.removeClass('showLabels');e.find('.tabToolbarButton').each(function(L,hT){var hU=$(hT);var hV=hU.find('.tabToolbarButtonText').text();hU.attr('title',hV)})};gR.$4=function(e){e.addClass('showLabels');e.removeClass('hideLabels');e.find('.tabToolbarButton').each(function(L,hT){hT.removeAttribute('title')})};global.tab.ToolbarView=gR;var gS=function(e){this.$b=null;this.$d=[];this.$a=[];this.$8=new bV;this.$9=false;this.$c=0;this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this);this.$b=e;if(!tsConfig.allow_custom_view_save){this.$9=true;this.$8.add_customViewListChanged(ss.mkdel(this,this.$7));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$8.remove_customViewListChanged(ss.mkdel(this,this.$7))})))}if(ss.isValue(this.$b.get_vizCommandItems())){this.$6(null)}var L=ss.mkdel(this,function(){this.$6(null)});this.$b.add_newToolbar(L);tab.CommandController.get().add_tabChangeCompleted(ss.mkdel(this,this.$6));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$b.remove_newToolbar(L);tab.CommandController.get().remove_tabChangeCompleted(ss.mkdel(this,this.$6))})))};gS.__typeName='tab.ToolbarViewModel';gS.$0=function(){return tsConfig.isPublic};gS.get_toolbarIsBottom=function(){return(gS.$0()||tsConfig.embedded)&&!tsConfig.forceToolbarTop};global.tab.ToolbarViewModel=gS;var gT=function(e){this.tupleId=null;this.interactedTupleId=null;this.$f=null;this.$j=[];this.$h=false;this.$l=null;this.$k=false;this.$o=16;this.$g=16;this.$i=null;this.$d=null;this.$n=false;this.$m=false;this.$e=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;spiff.Widget.call(this,(e||gT.$0()).domRoot);this.$f=e||gT.$0();this.$k=tsConfig.is_mobile;if(!tsConfig.is_mobile){$(window).on(this.createNamespacedEventName('resize'),ss.mkdel(this,function(){this.$d=null}))}};gT.__typeName='tab.Tooltip';gT.$0=function(){return gT.$4||(gT.$4=new ha)};global.tab.Tooltip=gT;var gU=function(e,L){gV.call(this,'sticky',e,L);var hT=this.get_currentBehavior();hT.attach()};gU.__typeName='tab.TooltipBaseLegacyMode';global.tab.TooltipBaseLegacyMode=gU;var gV=function(e,L,hT){this.disposables=new tab.DisposableHolder;this.$i=null;this.$j=null;this.$f=null;this.tooltipBehaviors=null;this.$d=null;this.$e=null;this.visualId=null;this.readyForHover=true;this.$g=0;this.$h=false;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$d=L;this.visualId=hT;this.$i=new gT;this.$i.add_closed(ss.mkdel(this,this.$5));this.get_tooltip().add_prePosition(ss.mkdel(this,this.$0));this.get_tooltip().add_showed(ss.mkdel(this,this.$0));this.$i.get_body().on('mouseleave.basemode',ss.mkdel(this,this.$7));this.$j=new hj(this.$i,this.get_ubertipShouldEnforceButtonOrdering(),this.shouldAddCommandButtonsAndActions());this.$j.add_actionExecuted(ss.mkdel(this,this.$8));this.$j.add_commandExecuted(ss.mkdel(this,this.$9));this.$j.add_ubertipMenuToggled(ss.mkdel(this,this.$b));this.$j.add_ubertipMenuClosed(ss.mkdel(this,this.$a));this.$f=e;this.$e=e;this.tooltipBehaviors={};this.buildBehaviorsDictionary();var hU=tab.ActionUtils.getApplicableActions(this.visualId.AVP,'on-hover');var hV=tab.ActionUtils.getApplicableActions(this.visualId.AVP,'explicitly');this.$g=hU.length+hV.length;if(tsConfig.is_mobile){hC.add_mobileVizReduceTransform(ss.mkdel(this,this.$6));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){hC.remove_mobileVizReduceTransform(ss.mkdel(this,this.$6))})))}};gV.__typeName='tab.TooltipBaseMode';global.tab.TooltipBaseMode=gV;var gW=function(){};gW.__typeName='tab.TooltipBehaviorType';global.tab.TooltipBehaviorType=gW;var gX=function(e){this.$0=null;this.$0=e};gX.__typeName='tab.TooltipContextProvider';global.tab.TooltipContextProvider=gX;var gY=function(e,L){gV.call(this,'disabled',e,L)};gY.__typeName='tab.TooltipDisabledMode';global.tab.TooltipDisabledMode=gY;var gZ=function(e,L,hT){this.$t=null;this.$u=null;this.$s=null;this.$r=false;gV.call(this,'smooth',e,L);var hU=this.get_currentBehavior();hU.attach();hU.add_onMouseStop(ss.mkdel(this,this.$p));this.$s=hT;this.$t=gZ.$0();this.$u=gZ.$1();this.$k();this.get_tooltip().add_prePosition(ss.mkdel(this,this.prepareForPositioning));this.get_tooltip().add_positionCalculated(ss.mkdel(this,this.handleUbertipButtons));this.get_tooltip().add_showed(ss.mkdel(this,this.handleUbertipButtons));this.get_tooltip().add_closed(ss.mkdel(this,this.$q))};gZ.__typeName='tab.TooltipResponsiveMode';gZ.$0=function(){gZ.$2++;return'mousemove.TooltipResponsiveMode'+gZ.$2};gZ.$1=function(){gZ.$2++;return'mouseout.TooltipResponsiveMode'+gZ.$2};global.tab.TooltipResponsiveMode=gZ;var ha=function(){spiff.Template.call(this,$("\n<div class='tab-tooltip'>\n  <div class='tab-tooltipContainer'>\n    <div class='tab-tooltipContent' waiRole='alert'></div>\n  </div>\n  <div class='tab-tooltipConnector'></div>\n</div>"))};ha.__typeName='tab.TooltipTemplate';global.tab.TooltipTemplate=ha;var hb=function(){};hb.__typeName='tab.TooltipTrigger';global.tab.TooltipTrigger=hb;var hc=function(e){this.model=null;this.anchor=null;this.prev_anchor=null;this.anchorIsStart=false;this.$3$1=null;dijit.Tree.call(this)};hc.__typeName='tab.Tree';global.tab.Tree=hc;var hd=function(e){this.isChecked=false;this.$1=null;this.tree=null;this.item=null;dijit._TreeNode.call(this)};hd.__typeName='tab.TreeNode';global.tab.TreeNode=hd;var he=function(e,L,hT,hU){this.root=null;this.session=null;this.field=null;this.levels=0;this.isSingleSelect=false;this.session=e;this.field=L;this.levels=hT;this.isSingleSelect=hU;this.root=new Object;this.root.schema=null;this.root.tuple={d:null,s:false,t:null};this.root.label='$ROOT$';this.root.level=-1;this.root.children=null};he.__typeName='tab.TreeSupport';global.tab.TreeSupport=he;var hf=function(e,L,hT){this.queryBox=null;this.div=null;this.outerDiv=null;this.querySpan=null;this.$o=null;this.$s=null;this.goButton=null;this.$j=null;this.$i=null;this.$t=false;this.$q=null;this.$n=null;this.$l=false;this.$k=null;this.$u=false;this.$x=null;this.$r=false;this.$v=0;this.$p=null;this.$m=null;this.$w=null;this.div=e;this.$p=L;this.$x=hT;this.div.classList.add('tableauWidgetUiTypeIn');this.$o=new tab.DisposableHolder};hf.__typeName='tab.TypeIn';hf.selectText=function(e,L,hT){if(ss.isNullOrUndefined(e)){return}if(typeof(e['createTextRange'])==='function'){var hU=e.createTextRange();hU.collapse(true);hU.moveStart('character',L);hU.moveEnd('character',hT-L);hU.select()}else if(typeof(e['setSelectionRange'])==='function'){e.setSelectionRange(L,hT)}else if(typeof(e['selectionStart'])==='function'){e.selectionStart=L;e.selectionEnd=hT}e.focus()};global.tab.TypeIn=hf;var hg=function(e,L,hT){this.isContainer=true;this.$6=null;bj.call(this,e,L,hT)};hg.__typeName='tab.TypeInCatmode';global.tab.TypeInCatmode=hg;var hh=function(e,L,hT,hU){this.$D=null;this.$C=null;this.$F=null;this.$E=null;this.$I=null;this.$H=null;this.$G=null;hf.call(this,e,L,hT);this.$D=hU;if(ss.isNullOrUndefined(this.$D)){this.$D=function(hV){return new cu(hV)}}};hh.__typeName='tab.TypeInDateField';global.tab.TypeInDateField=hh;var hi=function(){this.templateString="<div class='TypeInFilter'><div class='TIFItemsList tab-ctrl-formatted-text' dojoAttachPoint='domItemsList'dojoAttachEvent='onclick:_onItemsListClick,onmouseover:_onItemsListMouseOver,onmouseout:_onItemsListMouseOut,onkeydown:_onItemsKeyDown'><div class='wcIconSearchRemove' dojoAttachPoint='domXButton'dojoAttachEvent='onclick:_onXButtonClick,onmouseover:_onXButtonMouseOver,onmouseout:_onXButtonMouseOut'></div></div><div class='TIFButtonDiv' dojoAttachPoint='domClearListButtonDiv'><button class='TIFButton'dojoAttachEvent='onclick:_onClearListButtonClick'>Clear List</button></div></div>";this.isContainer=false;this.parentFilter=null;this.tuples=null;this.itemName='';this.role=null;this.domItemsList=null;this.domXButton=null;this.domClearListButtonDiv=null;this.$0=null;Object.call(this)};hi.__typeName='tab.TypeInFilterContents';global.tab.TypeInFilterContents=hi;var hj=function(e,L,hT){this.$R=null;this.$L=new tab.DisposableHolder;this.$O=null;this.$P=null;this.$M=false;this.$G=false;this.$N=false;this.$E=null;this.$Q=-1;this.$H=null;this.$K=null;this.$I=null;this.$F=null;this.$J=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;spiff.Widget.call(this,$("\n<div class='tab-ubertip'>\n  <div class='tab-ubertipContent'>\n    <div class='tab-ubertipTooltip'></div>\n    <div class='tab-ubertipActions'></div>\n  </div>\n  <div class='tab-ubertipCommandArea'>\n    <div class='tab-ubertipSelected'></div>\n    <div class='tab-ubertipCommands'></div>\n    <div class='tab-clear'></div>\n  </div>\n</div>"));this.$K=this.element.find('.tab-ubertipContent');this.$I=this.element.find('.tab-ubertipCommandArea');this.$F=this.element.find('.tab-ubertipActions');this.$J=this.element.find('.tab-ubertipCommands');this.$R=e;this.$R.add_showed(ss.mkdel(this,this.handleTooltipShowed));this.$R.add_positionCalculated(ss.mkdel(this,this.handleTooltipPositionCalculated));this.$G=hT;this.$M=L};hj.__typeName='tab.Ubertip';hj.$1=function(e){var L='';if(ss.isNullOrEmptyString(e.imageRes)){L='Command'+e.commandType}else if(ss.endsWithString(e.imageRes.toString(),'png')){L=tab.TabResources.getResourceName(e.imageRes)}else{L=tab.TabResources.lookupFullResourceAlias(e.imageRes)}return L};hj.$0=function(e){var L=spiff.LabelButton.newNativeButton();if(tsConfig.is_mobile){var hT=hj.$1(e);L.set_label(tab.Strings.getString(ss.formatString('Ubertip{0}Mobile',hT)))}else{L.set_label(e.name);L.set_hoverTooltipText(e.description)}L.set_disabled(true);var hU=new ss.StringBuilder('tab-command');hU.append(hj.$1(e));L.element.addClass(hU.toString());L.element.css('visibility','hidden');return L};global.tab.Ubertip=hj;var hk=function(){eO.call(this)};hk.__typeName='tab.UICheckedMenuItem';global.tab.UICheckedMenuItem=hk;var hl=function(){eO.call(this)};hl.__typeName='tab.UIMenuItem';global.tab.UIMenuItem=hl;var hm=function(){};hm.__typeName='tab.URIUtil';hm.absolutizeURI=function(e,L){if(ss.isValue(e)){e=e.trim()}if(ss.isNullOrEmptyString(e)){return e}var hT=new RegExp('^([a-zA-Z0-9]+):(?!\\d+(/|$))');var hU=e.match(hT);if(ss.isValue(hU)&&hU[1]!=='http'&&hU[1]!=='https'){if(L){return''}return e}var hV='//';var hW=new RegExp('^https|^/?/?[a-zA-Z0-9.-]+:443(/|$)');var hX=new RegExp('^http|^/?/?[a-zA-Z0-9.-]+:80(/|$)');if(hW.test(e)){hV='https://'}else if(hX.test(e)){hV='http://'}var hY=new RegExp('^(https?:)?/?/?');e=e.replace(hY,hV);return e};global.tab.URIUtil=hm;var hn=function(){this.$6=null;this.$5=false;this.$4=0;this.$2$1=null;this.$2$2=null;this.$2$3=null;spiff.BaseViewModel.call(this);this.$6=null;this.$5=false;this.$4=0;this.set_props({items:[],fetchNextPage:ss.mkdel(this,this.$3),activeUser:null,startingY:null,userListViewModel:this})};hn.__typeName='tab.UserListViewModel';global.tab.UserListViewModel=hn;var ho=function(e,L){this.$h=null;this.$c=false;this.$d=false;this.$i=0;this.$e=null;this.$f=null;this.$b=null;this.$g=null;this.$j=null;this.$h=e;this.$c=e.$1;this.$d=e.$2;var hT=e.$5*e.$0;this.$e=new Array(hT+1);this.$j=new Array(hT);this.$b=(this.$c?new Array(hT):null);this.$g=(this.$d?new Array(hT):null);this.$f=new Array(L.markCount);this.$i=this.$2(L)};ho.__typeName='tab.UserPaneInfo';global.tab.UserPaneInfo=ho;var hp=function(e){React.Component.call(this,e)};hp.__typeName='tab.UserPillComponent';global.tab.UserPillComponent=hp;var hq=function(e){React.Component.call(this,e)};hq.__typeName='tab.UserPillsComponent';global.tab.UserPillsComponent=hq;var hr=function(e){this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this);this.set_props({users:ss.arrayClone(e),userPillsViewModel:this})};hr.__typeName='tab.UserPillsViewModel';global.tab.UserPillsViewModel=hr;var hs=function(e){React.Component.call(this,e);this.props.userSearchViewModel.add_userSelected(ss.mkdel(this,this.$0))};hs.__typeName='tab.UserSearchComponent';global.tab.UserSearchComponent=hs;var ht=function(){this.$6=null;this.$7=null;this.$5=0;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;spiff.BaseViewModel.call(this);this.set_userListViewModel(new hn);this.set_props({userSearchViewModel:this});this.$5=0;this.$6=new tab.Debouncer(ss.mkdel(this,function(){this.get_userListViewModel().set_searchTerm(this.$7)}),200);this.get_userListViewModel().add_propsUpdated(ss.mkdel(this,this.$3));this.get_userListViewModel().add_userSelected(ss.mkdel(this,this.$4));this.disposables.add$1(this.get_userListViewModel());this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_userListViewModel().remove_propsUpdated(ss.mkdel(this,this.$3));this.get_userListViewModel().remove_userSelected(ss.mkdel(this,this.$4))})))};ht.__typeName='tab.UserSearchViewModel';global.tab.UserSearchViewModel=ht;var hu=function(){this.$1=null;this.$2=null;spiff.Template.call(this,$("\n<div class='tabDataConnPromptVarList'>\n    <div class='tabDataConnPromptAddVarCtrl'>\n        <div class='tabDataConnPromptAddVarCtrlBtnArea'/>\n        <div class='tabDataConnPromptAddVarCtrlVarSelector'/>\n    </div>\n</div>"));this.$1=this.getElementBySelector('.tabDataConnPromptAddVarCtrlBtnArea');this.$2=this.getElementBySelector('.tabDataConnPromptAddVarCtrlVarSelector')};hu.__typeName='tab.VariableListViewTemplate';global.tab.VariableListViewTemplate=hu;var hv=function(){dX.call(this,"<div class='tabCatLegendScrollButtonHolder'><span class='tabCatLegendScrollPrev'/><br><span class='tabCatLegendScrollNext'/></div>")};hv.__typeName='tab.VerticalIteratorButtonTemplate';global.tab.VerticalIteratorButtonTemplate=hv;var hw=function(e,L){this.sheetName='';this.viewSession=null;this.active=false;this.imageCacheVersion=0;this.viewModified=false;this.viewWidget=null;this.$4=new tab.DisposableHolder;this.$1$2=null;this.sheetName=e;this.viewSession=L;this.$2()};hw.__typeName='tab.ViewController';hw.add_selectionChanged=function(e){hw.$1$1=ss.delegateCombine(hw.$1$1,e)};hw.remove_selectionChanged=function(e){hw.$1$1=ss.delegateRemove(hw.$1$1,e)};global.tab.ViewController=hw;var hx=function(e){this.$i=null;this.$j=null;this.$i=e};hx.__typeName='tab.ViewingToolbarCommands';global.tab.ViewingToolbarCommands=hx;var hy=function(e,L,hT,hU,hV){this.$6=null;this.$a=null;this.$8=null;this.$9=null;this.$3=null;this.$5=null;this.$4=null;this.$7=null;spiff.BaseViewModel.call(this);this.$6=e;this.$a=L;this.$8=hT;this.$6.add_newVisualList(ss.mkdel(this,this.handleModelChange));if(ss.isValue(hU)){this.$9=hU.nodeSelection;this.$9.add_newSelection(ss.mkdel(this,this.$2))}if(ss.isValue(hV)){this.$3=hV.nodeSelection;this.$3.add_newSelection(ss.mkdel(this,this.$2))}if(ss.isValue(hU)||ss.isValue(hV)){this.$2()}var hW=ss.mkdel(this,function(){this.notifyPropertyChanged('font')});ga.get_instance().add_fontPreparationComplete(hW);this.disposables.add$1(new tab.CallOnDispose(function(){ga.get_instance().remove_fontPreparationComplete(hW)}))};hy.__typeName='tab.VisualListViewModel';global.tab.VisualListViewModel=hy;var hz=function(){};hz.__typeName='tab.VisualPartsHitTest';hz.hitTestRefLines=function(e,L,hT){var hU=new du.$ctor1(0,0,0);var hV=[];for(var hW=0;hW<e.length;hW++){var hX=e[hW];var hY=hz.hitTestRefLine(hX.tOA,L,hT);if(hY.get_hitType()!==0){if(hT){hU=du.tieBreak(hY,hU)}else{hV.push(hY)}}}if(hT){if(hU.get_hitType()===0){return[]}return[hU]}return hV};hz.hitTestRefLine=function(e,L,hT){var hU=new du.$ctor1(0,0,0);var hV=hz.$0(e,'refpart-text');hU=hz.$1(hV,4,L,hT,hU);if(hU.get_hitType()===3){return hU}var hW=hz.$0(e,'refpart-geom');hU=hz.$1(hW,3,L,hT,hU);return hU};hz.hitTestTrendLines=function(e,L,hT){var hU=new du.$ctor1(0,0,0);var hV=[];for(var hW=e.length-1;hW>=0;hW--){var hX=hz.$3(e[hW],L,hT);if(hX.get_hitType()===3){if(hT){return[hX]}else{hV.push(hX)}}if(hT&&hX.get_hitType()===2&&hU.get_hitType()===0){hU=hX}}if(hT){if(hU.get_hitType()===0){return[]}return[hU]}return hV};hz.$1=function(e,L,hT,hU,hV){for(var hW=e.length-1;hW>=0;hW--){var hX=e[hW];var hY=hz.$2(hX.tOA,L,hT,hU,hX.YLs);if(hY.get_hitType()===3){return hY}if(hY.get_hitType()===2&&hV.get_hitType()===0){hV=hY}}return hV};hz.$2=function(e,L,hT,hU,hV){var hW=tab.RectXYUtil.dialate(hT,hz.visualPartNearHitTestExpansionPixels);var hX=1;var hY=new du.$ctor1(hV,L,0);for(var hZ=0;hZ<e.length;hZ++){var ia=e[hZ];switch(ia.VzB){case'Osj':{var ib=ia;if(ss.isValue(ib.Cwi)){hX=ib.Cwi}break}case'uEs':case'jpw':{var ic=ia;var id=ss.isValue(ic.GN_)&&!ic.GN_;var ie={x:ic.WzG[0],y:ic.WzG[1]};var ig={x:ic.WzG[2],y:ic.WzG[3]};var ih=tab.RectXYUtil.rectXYFromCorners(ie,ig);if(ia.VzB==='uEs'){if(hX<3){ih=tab.RectXYUtil.dialate(ih,1)}}var ii=hU&&tab.RectXYUtil.intersectsWith(hW,ih);var ij=(!hU||ii)&&tab.RectXYUtil.intersectsWith(hT,ih);if(ij){hY=new du.$ctor1(hV,L,3);if(id){hY.doNotRenderOverlay()}return hY}if(ii){hY=new du.$ctor1(hV,L,2);if(id){hY.doNotRenderOverlay()}}break}default:{break}}}return hY};hz.$3=function(e,L,hT){var hU=new du.$ctor1(0,0,0);if(hT){var hV=tab.RectXYUtil.dialate(L,hz.visualPartNearHitTestExpansionPixels);var hW=hz.$4(e,hV);if(ss.isValue(hW)){hU=new du.$ctor1(ss.unbox(hW),2,2)}}if(hU.get_hitType()===2||!hT){var hX=hz.$4(e,L);if(ss.isValue(hX)){hU=new du.$ctor1(ss.unbox(hX),2,3)}}return hU};hz.$4=function(e,L){var hT=new Array;hT.push(e);while(hT.length>0){var hU=hT.pop();var hV=tab.RectXYUtil.intersectsWith(hU.get_boundingBox(),L);if(hV){if(hU.get_nodeType()===4||hU.get_nodeType()===0){var hW=hU.get_children();hW.forEach(function(hX){hT.push(hX)})}else if(hU.get_nodeType()===5){return hU.get_objectId()}}}return null};hz.$0=function(e,L){var hT=[];for(var hU=0;hU<e.length;hU++){var hV=e[hU];if(hV.VzB==='$OC'&&L==='refpart-clip-rect'){hT.push(hV)}else if(hV.VzB==='rOX'){var hW=hV;var hX=_.find(hW.tOA,function(hY){return hY.VzB==='ADd'});if(L==='refpart-text'&&ss.isValue(hX)){hT.push(hV)}else if(L==='refpart-geom'&&ss.isNullOrUndefined(hX)){hT.push(hV)}}}return hT};global.tab.VisualPartsHitTest=hz;var hA=function(){};hA.__typeName='tab.VisualPartTargetState';global.tab.VisualPartTargetState=hA;var hB=function(e){var L=function(hT,hU,hV){this.renderer=null;this.completeDocSize={w:0,h:0};this.containers=null;this.$n=null;this.$4$1=null;ss.makeGenericType(bq,[e]).call(this,hT,hV);this.$n=hU;this.containers=$('.tvimagesContainer',this.$n);this.add_sizeChange(ss.mkdel(this,this.$l))};ss.registerGenericClassInstance(L,hB,[e],{add_loadComplete:function(hT){this.$4$1=ss.delegateCombine(this.$4$1,hT)},remove_loadComplete:function(hT){this.$4$1=ss.delegateRemove(this.$4$1,hT)},get_docSize:function(){return this.completeDocSize},destroy:function(){this.dispose()},dispose:function(){this.remove_sizeChange(ss.mkdel(this,this.$l));this.renderer=null;ss.makeGenericType(bq,[e]).prototype.dispose.call(this)},refreshImages:function(hT){},reset:function(hT,hU){if(ss.isNullOrUndefined(hT)){return}var hV={w:hT.w,h:hT.h};var hW=ss.isValue(this.completeDocSize)&&!tab.SizeUtil.equals(hV,this.completeDocSize);this.completeDocSize=hV;this.containers.width(hT.w);this.containers.height(hT.h);if(hW){this.$m()}},copyContent:function(hT){hT.drawImage1(this.canvasElt,0,0)},redraw:function(){if(!this.get_needsRedraw()||ss.isNullOrUndefined(this.renderer)){return}this.renderer.reset();this.context.save();this.context.setClip(this.$k());bp.scaleCanvasDrawing(this.context,this.get_pixelRatio());this.renderer.set_renderOffset(this.scrollOffset);this.performRender();this.context.restore();this.postRenderFinalPass();this.clearDirty();this.raiseLoadComplete()},redrawFinished:function(){},raiseLoadComplete:function(){if(ss.isValue(this.$4$1)){this.$4$1(this,ss.EventArgs.Empty)}},onViewModelPropertyChanged:function(hT,hU){this.invalidate(false)},performRender:null,postRenderFinalPass:null,$k:function(){var hT=this.get_pixelRatio();var hU=this.get_dirtyRect();var hV=hU.x*hT;var hW=hU.y*hT;var hX=(hU.x+hU.w)*hT;var hY=(hU.y+hU.h)*hT;var hZ=Math.floor(hV);var ia=Math.floor(hW);return{x:hZ,y:ia,w:Math.ceil(hX)-hZ,h:Math.ceil(hY)-ia}},$l:function(){this.$m()},$m:function(){var hT=this.get_effectiveViewSize();var hU={x:Math.min(this.completeDocSize.w-hT.w,this.scrollOffset.x),y:Math.min(this.completeDocSize.h-hT.h,this.scrollOffset.y)};hU.x=Math.max(0,hU.x);hU.y=Math.max(0,hU.y);this.set_scrollPos(hU)}},function(){return ss.makeGenericType(bq,[e])},function(){return[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[e]),spiff.IScrollable,dS]});return L};hB.__typeName='tab.VisualRegionCanvasView$1';ss.initGenericClass(hB,a,1);global.tab.VisualRegionCanvasView$1=hB;var hC=function(){};hC.__typeName='tab.VizEvent';hC.add_mobileVizExpandTransform=function(e){hC.$1$1=ss.delegateCombine(hC.$1$1,e)};hC.remove_mobileVizExpandTransform=function(e){hC.$1$1=ss.delegateRemove(hC.$1$1,e)};hC.add_mobileVizReduceTransform=function(e){hC.$1$2=ss.delegateCombine(hC.$1$2,e)};hC.remove_mobileVizReduceTransform=function(e){hC.$1$2=ss.delegateRemove(hC.$1$2,e)};hC.notifyMobileVizExpandTransform=function(){if(ss.isValue(hC.$1$1)){hC.$1$1()}};hC.notifyMobileVizReduceTransform=function(){if(ss.isValue(hC.$1$2)){hC.$1$2()}};global.tab.VizEvent=hC;var hD=function(e,L,hT,hU,hV,hW,hX){this.$1$1=0;this.$1$2=null;this.$1$3=0;this.$1$4=0;this.$1$5=0;this.$1$6=null;this.$1$7=null;this.$1$8=null;this.set_instanceId(++hD.$0);this.set_region(e);this.set_paneId(L);this.set_paneColumnIndex(hT);this.set_paneRowIndex(hU);this.set_regionCoordinates(hV);this.set_pageCoordinates(hW);this.set_result(hX)};hD.__typeName='tab.VizHitInfo';global.tab.VizHitInfo=hD;var hE=function(e,L){this.$0=null;this.$1=null;this.paneTable=null;this.region=null;this.lastEvent=null;this.$1$1=null;tab.Param.verifyValue(e,'paneTable');tab.Param.verifyValue(L,'region');this.paneTable=e;this.region=L;this.$1=new tab.Debouncer(ss.mkdel(this,function(){var hT=this.region.toLocalCoordsEvent(this.lastEvent,false);var hU=tab.PointUtil.add(hT,this.region.getLocalOffsetPoint(false));this.hitTest(hT,hU)}),250)};hE.__typeName='tab.VizHitTester';global.tab.VizHitTester=hE;var hF=function(){this.content=null;spiff.Template.call(this,$("<div class='tab-web'></div>"))};hF.__typeName='tab.WebZoneTemplate';global.tab.WebZoneTemplate=hF;var hG=function(e,L){this.$g=null;this.$f=null;this.$e=null;this.$d=null;ss.makeGenericType(spiff.BaseView$1,[hH]).call(this,e,new hF);this.$g=e;this.$f=L;this.$g.add_newWebZone(ss.mkdel(this,this.handleNewWebZone));this.$f.add_propertyChanged(ss.mkdel(this,this.$b));this.$f.add_resizeZone(ss.mkdel(this,this.$a));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$g.remove_newWebZone(ss.mkdel(this,this.handleNewWebZone));this.$f.remove_propertyChanged(ss.mkdel(this,this.$b));this.$f.remove_resizeZone(ss.mkdel(this,this.$a))})))};hG.__typeName='tab.WebZoneView';global.tab.WebZoneView=hG;var hH=function(e){this.$3=null;this.$2$1=null;spiff.BaseViewModel.call(this);this.$3=e;this.$3.add_newWebZone(ss.mkdel(this,this.handleNewWebZone));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$3.remove_newWebZone(ss.mkdel(this,this.handleNewWebZone))})))};hH.__typeName='tab.WebZoneViewModel';global.tab.WebZoneViewModel=hH;var hI=function(){};hI.__typeName='tab.WidgetStyle';hI.applyFormatting=function(e,L,hT,hU,hV){hI.$0(e.id,L,hT,hU,hI.$2,hV)};hI.applyFormattingByClassName=function(e,L,hT){hI.$0(e,L.get_textStyleModel(),L.get_backgroundColor(),L.get_lineHeight(),hI.$1,hT)};hI.$0=function(e,L,hT,hU,hV,hW){var hX=e+'-style';tab.StyleUtil.clearStyleSheet(hX);var hY=de.makeFormatStyleDict(L);if(ss.isValue(hU)){hY['line-height']=hU+'px'}if(ss.isNullOrUndefined(hY['font-style'])){hY['font-style']='normal'}if(ss.isNullOrUndefined(hY['font-weight'])){hY['font-weight']='normal'}if(ss.isNullOrUndefined(hY['text-decoration'])){hY['text-decoration']='none'}tab.StyleUtil.appendCSSRuleToStyleSheet$1(hX,hV(e,'tab-ctrl-formatted-text'),hY);hY['font-size']=null;hY['line-height']=null;tab.StyleUtil.appendCSSRuleToStyleSheet$1(hX,hV(e,'tab-ctrl-formatted-fixedsize'),hY);if(ss.isValue(L.YhU)){var hZ={color:L.YhU};tab.StyleUtil.appendCSSRuleToStyleSheet$1(hX,hV(e,'tab-ctrl-formatted-coloronly'),hZ)}var ia={};if(ss.isValue(L.YhU)){ia['border-color']=tab.ColorModel.fromColorModelPlusAlpha(tab.ColorModel.fromColorCode(L.YhU),0.7843137383461).toString();tab.StyleUtil.appendCSSRuleToStyleSheet$1(hX,hV(e,'tab-ctrl-formatted-darker-border-hover:hover'),ia);ia['border-color']=tab.ColorModel.fromColorModelPlusAlpha(tab.ColorModel.fromColorCode(L.YhU),0.411764711141586).toString();tab.StyleUtil.appendCSSRuleToStyleSheet$1(hX,hV(e,'tab-ctrl-formatted-border'),ia);tab.StyleUtil.appendCSSRuleToStyleSheet$1(hX,hV(e,'tab-ctrl-formatted-border-hover:hover'),ia)}if(hW&&ss.isValue(hT)){var ib=tab.ColorModel.fromColorModelPlusAlpha(tab.ColorModel.fromColorCode(hT),0.549019634723663);var ic=tab.ColorModel.alphaCompositeSolidDest(ib,new tab.ColorModel(255,255,255,1));ia['background-color']=ic.toRgb();tab.StyleUtil.appendCSSRuleToStyleSheet$1(hX,hV(e,'tab-ctrl-formatted-widget'),ia);ia['border-color']=null;tab.StyleUtil.appendCSSRuleToStyleSheet$1(hX,hV(e,'tab-ctrl-formatted-widget:hover'),ia)}};hI.$2=function(e,L){return'[id="'+e+'"].'+L+','+'[id="'+e+'"] .'+L+','+'[id="'+e+'"] .'+L+' input'};hI.$1=function(e,L){return'.'+e+'.'+L+','+'.'+e+' .'+L};global.tab.WidgetStyle=hI;var hJ=function(){};hJ.__typeName='tab.WidgetUtil';hJ.newMenuItemsFromCommands=function(e,L,hT,hU){if(ss.isNullOrUndefined(L)){return}var hV=tab.CommandsPresModelWrapper.create(L);if(!ss.isValue(hV.get_commandItems())){return}var hW=ss.coalesce(hV.get_defaultItem(),-1);var hX=-1;var hY=true;var hZ=hV.get_commandItems();for(var ia=0;ia<hZ.length;ia++){var ib=hZ[ia];hX++;var ic=null;var id=tab.CommandItemWrapper.create(ib);var ie=true;var ig=hX===hW||id.get_isDefault();if(ss.isValue(id.get_command())&&ss.isValue(hU)){var ih={};ih.command=tab.CommandSerializer.deserialize(id.get_command());tab.UbertipSerializer.setCommandType(ih);ie=hU.test(ih)}if(!ie||ss.isValue(id.get_isVisible())&&!id.get_isVisible()){continue}switch(id.get_commandsType()){case'item':{ic=spiff.MenuItem.newItem(hT(ib),id.get_name());ic.description=id.get_description();break}case'separator':{if(!hY){ic=spiff.MenuItem.newDivider()}break}case'subcommands':{var ii=[];hJ.newMenuItemsFromCommands(ii,id.get_commands(),hT,hU);if(ii.length>0){ic=spiff.MenuItem.newItem(null,id.get_name(),0,new spiff.Menu(ii))}break}}if(ss.isValue(ic)){ic.enabled=!ss.isValue(id.get_enabled())||id.get_enabled();ic.isDefault=ig&&ic.enabled;if(id.get_isRadioOn()){ic.checkState=2}else if(id.get_isChecked()){ic.checkState=1}e.push(ic);hY=ic.isDivider}}if(e.length>0&&e[e.length-1].isDivider){ss.removeAt(e,e.length-1)}};hJ.createDropdownMenuCommands=function(e){var L=tab.CommandSerializer.deserialize(tab.CommandItemWrapper.create(e).get_command());var hT=function(){tab.ServerCommands.executeServerCommand(L,'immediately',tab.CommandUtils.createCommandRedirectSuccessHandler(),null)};return hT};hJ.commandMenuItemClicked=function(e){if(ss.referenceEquals(ss.getInstanceType(e.data),Function)){e.data()}else{var L=e.data;tab.ServerCommands.executeServerCommand(L,'immediately')}};hJ.menuViewModelFromCommands=function(e,L,hT){tab.Param.verifyValue(e,'commands');var hU=tab.CommandsPresModelWrapper.create(e);if(tab.MiscUtil.isNullOrEmpty(hU.get_commandItems())){if(ss.isValue(hT)){hT()}return null}var hV=[];hJ.newMenuItemsFromCommands(hV,e,function(hY){var hZ=tab.CommandItemWrapper.create(hY);var ia=tab.CommandSerializer.deserialize(hZ.get_command());var ib=function(){tab.ServerCommands.executeServerCommand(ia,'immediately',tab.CommandUtils.createCommandRedirectSuccessHandler(null),null)};return ib});var hW=new spiff.Menu(hV);var hX=spiff.MenuViewModel.createForMenu(hW,L);if(ss.isValue(hT)){hX.add_hidden(hT)}return hX};global.tab.WidgetUtil=hJ;var hK=function(){this.dashboardContainer=null;spiff.Template.call(this,$("<div class='tab-workbook'><div class='dashboardSpacer'/></div>"));this.dashboardContainer=this.getElementBySelector(hL.dashboardContainerSelector)};hK.__typeName='tab.WorkbookTemplate';global.tab.WorkbookTemplate=hK;var hL=function(e){this.$c=null;this.$e=null;this.$d=null;ss.makeGenericType(spiff.BaseView$1,[hM]).call(this,e,new hK);this.$c=e;this.$c.add_newDashboard(ss.mkdel(this,this.$9));this.$c.add_newDataConnectionPrompt(ss.mkdel(this,this.$a));if(this.$c.get_hasPrompt()){this.$a()}this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$c.remove_newDashboard(ss.mkdel(this,this.$9));this.$c.remove_newDataConnectionPrompt(ss.mkdel(this,this.$a))})))};hL.__typeName='tab.WorkbookView';hL.findDashboardContainer=function(){return $(hL.dashboardContainerSelector)};global.tab.WorkbookView=hL;var hM=function(e){this.$7=null;this.$6=null;this.$5=null;this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this);this.$7=e;this.$7.addNewDashboardHandler(ss.mkdel(this,this.$2));this.$7.add_newDataConnectionPrompt(ss.mkdel(this,this.$3));this.$7.add_dataConnectionPromptDismissed(ss.mkdel(this,this.$4));if(this.$7.get_hasPrompt()){this.$3(this.$7.get_connectionPromptModel())}this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$7.remove_newDataConnectionPrompt(ss.mkdel(this,this.$3));this.$7.remove_dataConnectionPromptDismissed(ss.mkdel(this,this.$4))})))};hM.__typeName='tab.WorkbookViewModel';global.tab.WorkbookViewModel=hM;var hN=function(e,L){this.$1=0;this.$0=null;ss.EventArgs.call(this);this.$1=e;this.$0=L};hN.__typeName='tab.WorkerDoneEventArgs';global.tab.WorkerDoneEventArgs=hN;var hO=function(e){this.$0=0;ss.EventArgs.call(this);this.$0=e};hO.__typeName='tab.WorkerTimeoutEventArgs';global.tab.WorkerTimeoutEventArgs=hO;var hP=function(){spiff.Template.call(this,$("<div class='tab-zone'></div>"))};hP.__typeName='tab.ZoneTemplate';global.tab.ZoneTemplate=hP;var hQ=function(e){this.$r=null;this.$p=null;this.$q=0;this.$o='';ss.makeGenericType(spiff.BaseView$1,[hR]).call(this,e,new hP);this.$n().add_updateZone(ss.mkdel(this,this.$e));this.$n().add_resizeZone(ss.mkdel(this,this.$d));this.$n().add_newZoneContent(ss.mkdel(this,this.$c));this.$n().add_validStateChanged(ss.mkdel(this,this.$h));if(tsConfig.is_authoring){this.disposables.add$1(new spiff.HoverBehavior(this,null,ss.mkdel(this,this.$f),ss.mkdel(this,this.$g)))}this.$q=0};hQ.__typeName='tab.ZoneView';hQ.add_zoneBecameValid=function(e){hQ.$3$1=ss.delegateCombine(hQ.$3$1,e)};hQ.remove_zoneBecameValid=function(e){hQ.$3$1=ss.delegateRemove(hQ.$3$1,e)};hQ.viewRect=function(e){var L=0;if(ss.isValue(e.rPC)&&e.rPC.ysh1!=='bs-none'&&ss.isValue(e.rPC.s$V)){L=e.rPC.s$V}var hT={x:0,y:0,w:e.rec-2*L,h:e.EUR-2*L};return tab.RectXYUtil.toRect(hT)};hQ.$0=function(e){return'tabZoneId'+e};hQ.getZoneElement=function(e){return $('#'+hQ.$0(e)).get(0)};global.tab.ZoneView=hQ;var hR=function(e){this.$j=null;this.$i=null;this.$h=null;this.$g=false;this.$e=false;this.$f=false;this.$d=false;this.$c=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;spiff.BaseViewModel.call(this);this.$g=true;this.$j=e;this.$j.add_updateZone(ss.mkdel(this,this.$6));this.$j.add_resizeZone(ss.mkdel(this,this.$5));this.$j.add_newZoneContent(ss.mkdel(this,this.$3));this.$j.add_removeZoneContent(ss.mkdel(this,this.$4));this.$9();this.$a();if(ss.isValue(e)&&ss.isValue(e.get_model())){this.$3(e.get_model())}else if(tsConfig.is_authoring){this.$2()}};hR.__typeName='tab.ZoneViewModel';hR.calculateZoneZIndex=function(e){return 10+e.get_relativeZoneZIndex()};global.tab.ZoneViewModel=hR;var hS=function(){};hS.__typeName='tab.ZoomComputer';hS.resolveDesiredZoom=function(e,L){var hT=ss.coalesce(e.nUd,1);var hU=Math.floor(L*hT)/hT;hU+=Math.log(ss.coalesce(e.ub_,1))/Math.LN2;var hV=Math.ceil(L*hT)/hT;hV+=Math.log(ss.coalesce(e.DIs,1))/Math.LN2;return((L+0.05<hV)?Math.min(hU,L):Math.max(hV,L))};hS.resolveDesiredScale=function(e,L){var hT=Math.log(L)/Math.LN2;var hU=hS.resolveDesiredZoom(e,e.Vot+hT);var hV=hU-e.Vot;var hW=Math.pow(2,hV);return hW};hS.incrementZoom=function(e,L){var hT=e+L;return hT};hS.combineTileZoomAndStretch=function(e,L){return e+Math.log(L)/Math.LN2};global.tab.ZoomComputer=hS;ss.initEnum(b,a,{unloaded:'unloaded',loading:'loading',loaded:'loaded',error:'error'},true);ss.initEnum(c,a,{loading:'loading',loaded:'loaded'},true);ss.initClass(d,a,{});ss.initClass(f,a,{});ss.initClass(F,a,{$r:function(){return this.$2$1},$s:function(e){this.$2$1=e},$n:function(){return this.$2$2},$o:function(e){this.$2$2=e},$p:function(){return this.$2$3},$q:function(e){this.$2$3=e},$h:function(){return this.$2$4},$i:function(e){this.$2$4=e},$l:function(){return this.$2$5},$m:function(e){this.$2$5=e},$j:function(){return this.$2$6},$k:function(e){this.$2$6=e},startDrag:function(e){this.$8(e);this.$n().css('opacity','1');return new spiff.MoveDragInstance(this.$n(),ss.mkdel(this,this.$c),ss.mkdel(this,this.$b),null)},$c:function(e){this.$7(e)},$b:function(e){this.$6(e);this.$n().css('opacity','0')},$8:null,$7:null,$6:null,$e:function(e){var L=this.$n().offset();this.$n().offset({left:L.left,top:L.top+e})},$d:function(e){var L=this.$n().offset();this.$n().offset({left:L.left+e,top:L.top})},$g:function(e,L){var hT=this.$4(L,e);var hU=e.pageY-ss.Int32.div(this.$n().height(),2);if(hT<=this.$l()){hU=L+this.$l()}if(hT>=this.$j()){hU=L+this.$j()}var hV=this.$n().offset();this.$n().offset({left:hV.left,top:hU})},$f:function(e,L){var hT=this.$2(L,e);var hU=e.pageX-ss.Int32.div(this.$n().width(),2);if(hT<=this.$l()){hU=L+this.$l()}if(hT>=this.$j()){hU=L+this.$j()}var hV=this.$n().offset();this.$n().offset({left:hU,top:hV.top})},$5:function(e,L){var hT=L.pageY-ss.Int32.div(this.$n().height(),2);var hU=hT-e;var hV=Math.min(Math.max(hU,this.$l()),this.$j());return hV},$3:function(e,L){var hT=L.pageX-ss.Int32.div(this.$n().width(),2);var hU=hT-e;var hV=Math.min(Math.max(hU,this.$l()),this.$j());return hV},$4:function(e,L){var hT=L.pageY;return hT-e},$2:function(e,L){var hT=L.pageX;return hT-e},$a:function(){var e=this.$n().position();var L=Math.floor(e.left);var hT=e.top-this.$p()+this.$n().width();return{x:Math.floor(L),y:Math.floor(hT)}},$9:function(){var e=this.$n().position();var L=e.left-this.$p()+this.$n().height();var hT=Math.floor(e.top);return{x:Math.floor(L),y:Math.floor(hT)}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,spiff.IDragSource]);ss.initClass(g,a,{$8:function(e){this.$t=this.$n().offset().left;this.$f(e,this.$t)},$7:function(e){this.$f(e,this.$t)},$6:function(e){var L=-this.$3(this.$t,e);var hT=new tab.ResizeAxisRegionCmd;hT.c['J_M']=this.$r();hT.c['MVr']=L|0;hT.c['nuU']=false;hT.c['Etu']=true;hT.set_uiBlocking('immediatelySubtle');hT.invoke$1()}},F,[ss.IDisposable,spiff.IViewModel,spiff.IDragSource]);ss.initClass(h,a,{$8:function(e){this.$t=this.$n().offset().top;this.$g(e,this.$t)},$7:function(e){this.$g(e,this.$t)},$6:function(e){var L=-this.$5(this.$t,e);var hT=new tab.ResizeAxisRegionCmd;hT.c['J_M']=this.$r();hT.c['MVr']=L|0;hT.c['nuU']=true;hT.c['Etu']=false;hT.set_uiBlocking('immediatelySubtle');hT.invoke$1()}},F,[ss.IDisposable,spiff.IViewModel,spiff.IDragSource]);ss.initClass(i,a,{$8:function(e){this.$t=this.$n().offset().left;this.$f(e,this.$t)},$7:function(e){this.$f(e,this.$t)},$6:function(e){var L=this.$3(this.$t,e);var hT=new tab.ResizeAxisRegionCmd;hT.c['J_M']=this.$r();hT.c['MVr']=L|0;hT.c['nuU']=false;hT.c['Etu']=false;hT.set_uiBlocking('immediatelySubtle');hT.invoke$1()}},F,[ss.IDisposable,spiff.IViewModel,spiff.IDragSource]);ss.initClass(j,a,{});ss.initClass(k,a,{});ss.initClass(l,a,{$0:function(e,L){var hT;if(this.$3==='horizontal'){hT=Math.round(this.$6)===Math.round(L)}else{hT=Math.round(this.$5)===Math.round(e)}return hT},$1:function(e,L){var hT=this.$4;var hU=e;var hV=L;switch(this.$3){case'horizontal':{if(this.$2){hT=-hT}hU=this.$5+hT;break}case'up':{if(!this.$2){hT=-hT}hV=this.$6+hT;break}case'down':{if(this.$2){hT=-hT}hV=this.$6+hT;break}default:{break}}return{x:hU,y:hV}}});ss.initClass(m,a,{$1:function(){return this.$5},$0:function(){return this.$4}});ss.initClass(n,a,{$0:function(e){e.set_alpha(this.$1);e.set_lineJoin(this.$4);e.set_lineCap(this.$3);e.set_linePattern(this.$5);e.set_strokeStyle(this.$8);e.set_lineWidth(this.$6);e.set_textAngle(this.$a);e.set_font(this.$2);e.set_shapeFillStyle(this.$7);e.set_textFillStyle(this.$b);e.set_textAlign(this.$9)}});ss.initClass(o,a,{$0:function(e){e.set_linePattern(this.$1);e.set_textAngle(this.$5);e.set_shapeFillStyle(this.$2);e.set_textFillStyle(this.$6);e.set_shouldAntialias(this.$3);e.set_shouldUnderlineText(this.$4);e.set_transformation(this.$7)}});ss.initClass(p,a,{$6:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},$7:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},$0:function(e){this.$3=new Date;this.$4=e.pageX;this.$5=e.pageY},$1:function(e){this.$2(e)},$2:function(e){var L=new Date-this.$3;var hT=Math.abs(e.pageX-this.$4);var hU=Math.abs(e.pageY-this.$5);if(L<=600&&hT<=10&&hU<=10&&!ss.staticEquals(this.$1$1,null)){this.$1$1(e)}}});ss.initClass(q,a,{});ss.initClass(r,a,{$2:function(){return this.$b},$1:function(){return this.$a},$5:function(){return this.$e},$9:function(){return this.$i},$4:function(){return this.$d},$7:function(){return this.$g},$8:function(){return this.$h},$3:function(){return this.$c},$6:function(){return this.$f}},spiff.Template,[ss.IDisposable]);ss.initClass(s,a,{},spiff.Template,[ss.IDisposable]);ss.initInterface(dO,a,{get_template:null,get_mapsSearchViewRootElement:null});ss.initClass(t,a,{get_template:function(){return this},get_mapsSearchViewRootElement:function(){return this.$1}},spiff.Template,[ss.IDisposable,dO]);ss.initClass(u,a,{$7:function(){return this.$c},$4:function(){return this.$9},$5:function(){if(!this.$4()){}return this.$a},$6:function(){return(this.$9?this.$b:null)},$3:function(e,L,hT){this.$a=e;this.$8=L;this.$9=true;this.$b=hT},$0:function(){this.$9=false;this.$b=null},$2:function(e,L){return this.$1(e,L)&&this.$9},$1:function(e,L){return this.$a===e&&this.$8===L}});ss.initClass(bn,a,{get_renderOffset:function(){return this.$7},set_renderOffset:function(e){this.$7=e;this.get_currentContext().translate(-this.$7.x,-this.$7.y)},get_currentCanvas:function(){return(this.$6?this.$3:this.$0)},get_currentContext:function(){return(this.$6?this.$4:this.$1)},get_visibleRect:function(){if(ss.isValue(this.cachedVisibleRect)){return this.cachedVisibleRect}var e=bn.$4(this.get_currentCanvas(),this.get_currentCanvas().width);var L=bn.$3(this.get_currentCanvas(),this.get_currentCanvas().height);return{x:this.$7.x,y:this.$7.y,w:e,h:L}},clear:function(){this.clearRect(this.get_visibleRect())},reset:function(){this.$6=false;this.$4=null;this.$3=null;this.get_currentContext().reset();this.$7={x:0,y:0};this.clearPrevTextRunInfo()},setRenderOffsetNoTranslate:function(e){this.$7=e},clearRect:function(e){this.get_currentContext().clearRect(e.x,e.y,e.w,e.h)},isRectVisible:function(e){return tab.RectXYUtil.intersectsWith(e,this.get_visibleRect())},beginOffScreenRender:function(e){if(this.$6){return}if(ss.isValue(e)){this.$2=tab.RectXYUtil.intersect(e,this.get_visibleRect())}else{this.$2=this.get_visibleRect()}if(ss.isNullOrUndefined(this.$3)){this.$3=document.createElement('canvas');var L={w:this.$0.width,h:this.$0.height};var hT={w:bn.$4(this.$0,0),h:bn.$3(this.$0,0)};bp.densifyCanvasUsingSize(this.$3,L,hT)}if(ss.isNullOrUndefined(this.$4)){this.$4=bn.getRenderContext(this.$3,'transparent')}else{this.$4.reset()}var hU=this.$0.width/bn.$4(this.$0,this.$0.width);if(hU!==1){bp.scaleCanvasDrawing(this.$4,hU)}this.$4.setTransform(this.$1.get_transformation());this.$6=true;var hV=tab.RectXYUtil.outsetRect(this.$2,1,1);tab.RectXYUtil.intersectInPlace(hV,this.get_visibleRect());this.clearRect(hV)},endOffScreenRender:function(e){if(!this.$6){return}this.$6=false;this.$1.save();this.$1.set_alpha(e);this.$1.resetTransform();if(ss.isNullOrUndefined(this.$2)){this.$1.drawImage1(this.$3,0,0)}else if(!tab.RectXYUtil.isEmpty(this.$2)){var L=this.$1.pixelRatio;var hT=Math.max(0,Math.floor((this.$2.x-this.$7.x)*L));var hU=Math.max(0,Math.floor((this.$2.y-this.$7.y)*L));var hV=Math.min(this.$0.width,Math.ceil(this.$2.w*L));var hW=Math.min(this.$0.height,Math.ceil(this.$2.h*L));this.$1.drawImage5(this.$3,hT,hU,hV,hW,hT,hU,hV,hW)}this.$1.restore()},renderFilledRectangle:function(e,L,hT,hU,hV){var hW=hT/2;var hX=hU/2;var hY=this.get_currentContext();hY.set_shapeFillStyle(hV);hY.fillRect(e-hW,L-hX,hT,hU)},renderFilledWedge:function(e,L,hT,hU,hV,hW,hX){var hY=bn.toCanvasAngle(hU);var hZ=bn.toCanvasAngle(hV);if(Math.abs(hZ-hY)<bn.angleEpsilon){return}if(ss.isNullOrUndefined(hX)){hX=false}var ia=this.get_currentContext();ia.beginPath();ia.moveTo(e,L);hY=bn.$6(hY);hZ=bn.$6(hZ);ia.arc(e,L,hT,hY,hZ,hX);ia.closePath();ia.set_shapeFillStyle(hW);ia.fill()},renderLine:function(e,L,hT,hU){var hV=this.get_currentContext();hV.set_linePattern('solid');hV.set_lineWidth(L);hV.set_strokeStyle(hT);bn.strokePath(hV,e,false,hU)},renderLineLoop:function(e,L,hT){var hU=this.get_currentContext();hU.set_linePattern('solid');hU.set_lineWidth(L);hU.set_strokeStyle(hT);bn.strokePath(hU,e,true,false)},renderLineEdge:function(e,L,hT,hU,hV,hW,hX,hY){var hZ=this.get_currentContext();hZ.set_linePattern('solid');hZ.set_lineWidth(hY);hZ.set_strokeStyle(hX);var ia=Math.atan2(hU-hT,L-e);var ib=Math.cos(ia);var ic=Math.sin(ia);hV/=2;hW/=2;var id=hV*ic;var ie=hW*ic;var ig=hV*ib;var ih=hW*ib;hZ.beginPath();hZ.moveTo(e+id,hT-ig);hZ.lineTo(L+ie,hU-ih);hZ.lineTo(L-ie,hU+ih);hZ.lineTo(e-id,hT+ig);hZ.closePath();hZ.stroke()},renderFilledLineEdge:function(e,L,hT,hU,hV,hW,hX,hY){var hZ;var ia=this.get_currentContext();if(ss.referenceEquals(hX,hY)){hZ=hX}else{var ib=ia.createLinearGradient(e,hT,L,hU);ib.addColorStop(0,hX);ib.addColorStop(1,hY);hZ=ib}if(hV===hW){ia.set_lineWidth(hV);ia.set_linePattern('solid');ia.set_strokeStyle(hZ);ia.beginPath();ia.moveTo(e,hT);ia.lineTo(L,hU);ia.closePath();ia.stroke()}else{var ic=Math.atan2(hU-hT,L-e);var id=Math.cos(ic);var ie=Math.sin(ic);hV/=2;hW/=2;var ig=hV*ie;var ih=hW*ie;var ii=hV*id;var ij=hW*id;ia.beginPath();ia.moveTo(e+ig,hT-ii);ia.lineTo(L+ih,hU-ij);ia.lineTo(L-ih,hU+ij);ia.lineTo(e-ig,hT+ii);ia.closePath();ia.set_shapeFillStyle(hZ);ia.fill()}},renderPolygon:function(e,L,hT){var hU=this.get_currentContext();hU.set_lineWidth(L);hU.set_strokeStyle(hT);bn.strokePath(hU,e,true,true)},renderFilledPolygon:function(e,L){var hT=this.get_currentContext();hT.set_shapeFillStyle(L);bn.fillPath(hT,e,true)},setupContextForTextRendering:function(e){this.get_currentContext().set_shapeFillStyle(e.$5(0,-1,'colorOverrideNone'));var L=this.createStyleSettersAndSetDominantStyle(e.get_textStyleColumns());return L},createStyleSettersAndSetDominantStyle:function(e){if(ss.isNullOrUndefined(e)){return function(ib){}}var L=[];var hT=_.keys(e);for(var hU=0;hU<hT.length;hU++){var hV=hT[hU];var hW=e[hV];var hX=true;var hY=hW.v[(hW.c?0:0)];for(var hZ=1;hZ<hW.length&&hX;++hZ){if(!ss.referenceEquals(hY,hW.v[(hW.c?0:hZ)])){hX=false;break}}if(hX){this.setTextStyleProperty(hV,hY)}else if(hV!=='text_style_color'){L.push(hV)}}var ia=ss.mkdel(this,function(ib){for(var ic=0;ic<L.length;ic++){var id=L[ic];var ie=e[id];this.setTextStyleProperty(id,ie.v[(ie.c?0:ib)])}});return ia},setTextStyleProperty:function(e,L){switch(e){case'font':{this.get_currentContext().set_font(L);break}case'text_orientation':{this.get_currentContext().set_textAngle(L);break}case'text_alignment':{this.get_currentContext().set_textAlign(L);break}case'alpha':case'text_style_color':{break}case'text_decoration':{this.get_currentContext().set_shouldUnderlineText(!!L);break}default:{break}}},renderText:function(e,L,hT,hU,hV,hW){if(hW&&ss.isValue(this.$5)&&this.$5.$0(L,hT)){var hX=this.$5.$1(L,hT);L=hX.x;hT=hX.y}else{this.clearPrevTextRunInfo()}if(ss.isValue(hV)){this.get_currentContext().set_textFillStyle(hV)}if(hU>0){if(!hW){e=ss.trimEndString(e)}this.get_currentContext().fillText2(e,L,hT,hU)}else{this.get_currentContext().fillText1(e,L,hT)}if(hW){var hY=this.get_currentContext().measureText(e).width;var hZ=this.get_currentContext().get_textAlign()==='end';var ia=this.get_currentContext().get_textAngle();var ib;if(ia>1){ib='down'}else if(ia<-1){ib='up'}else{ib='horizontal'}this.$5=new l(L,hT,hY,hZ,ib)}else{this.clearPrevTextRunInfo()}},clearPrevTextRunInfo:function(){this.$5=null},strokeCurrentPath:function(e,L){var hT=this.get_currentContext();hT.set_lineWidth(e);hT.set_strokeStyle(L);hT.stroke()},fillCurrentPath:function(e){var L=this.get_currentContext();L.set_shapeFillStyle(e);L.fill()},clipRect:function(e,L,hT,hU,hV){var hW=100000;switch(e){case 0:{return}case 1:{hT=-100000;hV=200000;break}case 2:{L=-100000;hU=200000;break}}var hX=bn.roundStartAndExtent(hT,hV,0);var hY=bn.roundStartAndExtent(L,hU,0);this.get_currentContext().setClip({x:ss.Int32.trunc(hY.item1),y:ss.Int32.trunc(hX.item1),w:ss.Int32.trunc(hY.item2),h:ss.Int32.trunc(hX.item2)})}});ss.initClass(eF,a,{$o:function(e,L,hT){var hU=e.get_hasSelection();var hV=e.get_hasBrushing();var hW='colorOverrideNone';var hX=e.$9(L);var hY=hX.firstMark;var hZ=hX.lastMark;var ia=e.getUserPaneRectByIndex(L);this.get_currentContext().save();switch(hT){case'normalUnderPass':{if(e.get_hasBackground()&&e.get_hasHalos()){if(hU||hV){hW='colorOverrideFog'}else{hW='colorOverrideNone'}{var ib=e.markWorldOffsets;var ic=_.keys(ib);for(var id=0;id<ic.length;id++){var ie=ic[id];var ig=ib[ie];eF.$1w(this.get_currentContext(),ie);for(var ih=hY;ih<=hZ;ih++){if(ig.has(ih)){continue}if(!e.markNeedsDraw(ih)){continue}if(e.getMarkState(ih)!=='markStateNormal'){continue}this.$d(e,ih,'normalUnder',hW)}if(!tab.DoubleUtil.isApproximatelyEqual(ie,0)){this.get_currentContext().restore()}}}if(hU||hV){hW='colorOverrideNone';{var ii=e.markWorldOffsets;var ij=_.keys(ii);for(var ik=0;ik<ij.length;ik++){var il=ij[ik];var im=ii[il];eF.$1w(this.get_currentContext(),il);for(var io=hY;io<=hZ;io++){if(im.has(io)){continue}if(!e.markNeedsDraw(io)){continue}if(e.getMarkState(io)!=='markStateHighlighted'){continue}this.$d(e,io,'normalUnder',hW)}if(!tab.DoubleUtil.isApproximatelyEqual(il,0)){this.get_currentContext().restore()}}}}}break}case'normalOnPass':{if(hU||hV){hW='colorOverrideFog'}else{hW='colorOverrideNone'}{var ip=e.markWorldOffsets;var iq=_.keys(ip);for(var ir=0;ir<iq.length;ir++){var it=iq[ir];var iu=ip[it];eF.$1w(this.get_currentContext(),it);for(var iv=hY;iv<=hZ;iv++){if(iu.has(iv)){continue}if(!e.markNeedsDraw(iv)){continue}if(e.getMarkState(iv)!=='markStateNormal'){continue}this.$d(e,iv,'normalOn',hW)}if(!tab.DoubleUtil.isApproximatelyEqual(it,0)){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(hU||hV){hW='colorOverrideNone';{var iw=e.markWorldOffsets;var ix=_.keys(iw);for(var iy=0;iy<ix.length;iy++){var iz=ix[iy];var iA=iw[iz];eF.$1w(this.get_currentContext(),iz);for(var iB=hY;iB<=hZ;iB++){if(iA.has(iB)){continue}if(!e.markNeedsDraw(iB)){continue}if(e.getMarkState(iB)!=='markStateHighlighted'){continue}this.$d(e,iB,'normalOn',hW)}if(!tab.DoubleUtil.isApproximatelyEqual(iz,0)){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{if(hU||hV){hW='colorOverrideOpaque';{var iC=e.markWorldOffsets;var iD=_.keys(iC);for(var iE=0;iE<iD.length;iE++){var iF=iD[iE];var iG=iC[iF];eF.$1w(this.get_currentContext(),iF);for(var iH=hY;iH<=hZ;iH++){if(iG.has(iH)){continue}if(!e.markNeedsDraw(iH)){continue}if(e.getMarkState(iH)!=='markStateSelected'){continue}this.$d(e,iH,'selectedUnder',hW)}if(!tab.DoubleUtil.isApproximatelyEqual(iF,0)){this.get_currentContext().restore()}}}}break}case'selectedOnPass':{if(hU||hV){hW='colorOverrideOpaque';{var iI=e.markWorldOffsets;var iJ=_.keys(iI);for(var iK=0;iK<iJ.length;iK++){var iL=iJ[iK];var iM=iI[iL];eF.$1w(this.get_currentContext(),iL);for(var iN=hY;iN<=hZ;iN++){if(iM.has(iN)){continue}if(!e.markNeedsDraw(iN)){continue}if(e.getMarkState(iN)!=='markStateSelected'){continue}this.$d(e,iN,'normalOn',hW)}if(!tab.DoubleUtil.isApproximatelyEqual(iL,0)){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},$d:function(e,L,hT,hU){if(e.clipCase!==0){this.get_currentContext().save();this.clipRect(e.clipCase,e.c['cell_x'].gv(L),e.c['cell_y'].gv(L),e.c['clip_width'].gv(L),e.c['clip_height'].gv(L))}switch(hT){case'normalUnder':case'selectedUnder':case'normalOn':{var hV=(e.hasPixelGeometry?1:e.c['size'].gv(L));bn.createMultipolygonPath(this.get_currentContext(),e.hasPixelGeometry,e.c['x'].gv(L),e.c['y'].gv(L),hV,7,e.getMarkGeometry(e.c['geometry'].gv(L)));break}default:{break}}var hW=((hT!=='normalOn')?0:bn.get_multipolyLineSizeOffset());switch(hT){case'normalUnder':{{this.strokeCurrentPath(2-hW,e.c['halo_color'].gv(L)[hU])}break}case'selectedUnder':{{this.strokeCurrentPath(2-hW,e.c['selected_halo_color'].gv(L)[hU])}break}case'normalOn':{{this.fillCurrentPath(e.getMarkColors(L)[hU])}if(e.c['draw_border'].gv(L)){this.strokeCurrentPath(1-hW,e.c['border_color'].gv(L)[hU])}break}default:{break}}if(e.clipCase!==0){this.get_currentContext().restore()}},$k:function(e,L,hT){var hU=e.get_hasSelection();var hV=e.get_hasBrushing();var hW='colorOverrideNone';var hX=e.$9(L);var hY=hX.firstMark;var hZ=hX.lastMark;var ia=e.getUserPaneRectByIndex(L);var ib=e.get_lineDrawState();this.get_currentContext().save();switch(hT){case'normalUnderPass':{break}case'normalOnPass':{if(hU||hV){hW='colorOverrideFog'}else{hW='colorOverrideNone'}var ic=ib.get_lineAttributes();for(var id=0;id<ic.length;id++){var ie=ic[id];if(ie.get_lineState()!=='lineStateNormal'){continue}var ig=ie.worldOffsets;var ih=ig.length;for(var ii=0;ii<ih;ii++){var ij=ig[ii];eF.$1w(this.get_currentContext(),ij);{for(var ik=0;ik<ie.marksNeedingDraw.length;ik++){var il=ie.marksNeedingDraw[ik];this.$9(e,il,'edgeOn',hW,ie.startIndex)}}if(ij!==0){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(hU||hV){hW='colorOverrideNone';var im=ib.get_lineAttributes();for(var io=0;io<im.length;io++){var ip=im[io];if(ip.get_lineState()!=='lineStateHighlighted'){continue}var iq=ip.worldOffsets;var ir=iq.length;for(var it=0;it<ir;it++){var iu=iq[it];eF.$1w(this.get_currentContext(),iu);{for(var iv=0;iv<ip.marksNeedingDraw.length;iv++){var iw=ip.marksNeedingDraw[iv];this.$9(e,iw,'edgeOn',hW,ip.startIndex)}}if(iu!==0){this.get_currentContext().restore()}}}var ix=ib.get_lineAttributes();for(var iy=0;iy<ix.length;iy++){var iz=ix[iy];if(iz.get_lineState()!=='lineStateHighlighted'){continue}var iA=iz.worldOffsets;var iB=iA.length;for(var iC=0;iC<iB;iC++){var iD=iA[iC];eF.$1w(this.get_currentContext(),iD);if(!iz.get_allHighlighted()){{for(var iE=0;iE<iz.marksNeedingDraw.length;iE++){var iF=iz.marksNeedingDraw[iE];if(e.getMarkState(iF)==='markStateHighlighted'){this.$9(e,iF,'highlightedUnder1',hW,iz.startIndex);this.$9(e,iF,'highlightedUnder',hW,iz.startIndex)}}}{for(var iG=0;iG<iz.marksNeedingDraw.length;iG++){var iH=iz.marksNeedingDraw[iG];if(e.getMarkState(iH)==='markStateHighlighted'){this.$9(e,iH,'highlightedOn1',hW,iz.startIndex);this.$9(e,iH,'highlightedOn',hW,iz.startIndex)}}}}if(iD!==0){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{break}case'selectedOnPass':{if(hU||hV){hW='colorOverrideOpaque';var iI=ib.get_lineAttributes();for(var iJ=0;iJ<iI.length;iJ++){var iK=iI[iJ];if(iK.get_lineState()!=='lineStateSelected'){continue}var iL=iK.worldOffsets;var iM=iL.length;for(var iN=0;iN<iM;iN++){var iO=iL[iN];eF.$1w(this.get_currentContext(),iO);{for(var iP=0;iP<iK.marksNeedingDraw.length;iP++){var iQ=iK.marksNeedingDraw[iP];this.$9(e,iQ,'edgeOn',hW,iK.startIndex)}}if(iO!==0){this.get_currentContext().restore()}}}var iR=ib.get_lineAttributes();for(var iS=0;iS<iR.length;iS++){var iT=iR[iS];if(iT.get_lineState()!=='lineStateSelected'){continue}var iU=iT.worldOffsets;var iV=iU.length;for(var iW=0;iW<iV;iW++){var iX=iU[iW];eF.$1w(this.get_currentContext(),iX);if(!iT.get_allHighlighted()){{for(var iY=0;iY<iT.marksNeedingDraw.length;iY++){var iZ=iT.marksNeedingDraw[iY];if(e.getMarkState(iZ)==='markStateHighlighted'){this.$9(e,iZ,'highlightedUnder1',hW,iT.startIndex);this.$9(e,iZ,'highlightedUnder',hW,iT.startIndex)}}}{for(var ja=0;ja<iT.marksNeedingDraw.length;ja++){var jb=iT.marksNeedingDraw[ja];if(e.getMarkState(jb)==='markStateHighlighted'){this.$9(e,jb,'highlightedOn1',hW,iT.startIndex);this.$9(e,jb,'highlightedOn',hW,iT.startIndex)}}}}if(iX!==0){this.get_currentContext().restore()}}}var jc=ib.get_lineAttributes();for(var jd=0;jd<jc.length;jd++){var je=jc[jd];if(je.get_lineState()!=='lineStateSelected'){continue}var jf=je.worldOffsets;var jg=jf.length;for(var jh=0;jh<jg;jh++){var ji=jf[jh];eF.$1w(this.get_currentContext(),ji);{for(var jj=0;jj<je.marksNeedingDraw.length;jj++){var jk=je.marksNeedingDraw[jj];if(e.getMarkState(jk)==='markStateSelected'){this.$9(e,jk,'selectedUnder1',hW,je.startIndex);this.$9(e,jk,'selectedUnder',hW,je.startIndex)}}}{for(var jl=0;jl<je.marksNeedingDraw.length;jl++){var jm=je.marksNeedingDraw[jl];if(e.getMarkState(jm)==='markStateSelected'){this.$9(e,jm,'selectedOn1',hW,je.startIndex);this.$9(e,jm,'selectedOn',hW,je.startIndex)}}}if(ji!==0){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},$9:function(e,L,hT,hU,hV){var hW=e.c['l_neighbor'].gv(L);var hX=e.c['r_neighbor'].gv(L);var hY=e.clipCase;if(hY!==0){this.get_currentContext().save();this.clipRect(hY,e.c['cell_x'].gv(L),e.c['cell_y'].gv(L),e.c['clip_width'].gv(L),e.c['clip_height'].gv(L))}var hZ=e.drawBorder;switch(hT){case'edgeOn':{if(e.c['r_neighbor'].gv(L)!==-1){var ia=[Math.round(e.c['x1'].gv(L)),Math.round(e.c['y1'].gv(L)),Math.round(e.c['x1'].gv(hX)),Math.round(e.c['y1'].gv(hX)),Math.round(e.c['x_prev'].gv(hX)),Math.round(e.c['y_prev'].gv(hX)),Math.round(e.c['x_next'].gv(L)),Math.round(e.c['y_next'].gv(L))];this.get_currentContext().set_lineJoin('miter');this.renderFilledPolygon(ia,e.getMarkColors(hV)[hU])}if(hZ&&e.c['r_neighbor'].gv(L)!==-1){var ib=[e.c['x1'].gv(L),e.c['y1'].gv(L),e.c['x1'].gv(hX),e.c['y1'].gv(hX)];this.renderLine(ib,1,e.c['border_color'].gv(L)[hU],true)}if(hZ&&e.c['r_neighbor'].gv(L)!==-1){var ic=[e.c['x_next'].gv(L),e.c['y_next'].gv(L),e.c['x_prev'].gv(hX),e.c['y_prev'].gv(hX)];this.renderLine(ic,1,e.c['border_color'].gv(L)[hU],true)}if(hZ&&(e.c['l_neighbor'].gv(L)!==-1&&e.c['r_neighbor'].gv(L)!==-1)){var id=[e.c['x_prev'].gv(L),e.c['y_prev'].gv(L),e.c['x_next'].gv(L),e.c['y_next'].gv(L)];this.renderLine(id,1,e.c['border_color'].gv(L)[hU],true)}if(hZ&&e.c['l_neighbor'].gv(L)===-1){var ie=[e.c['x1'].gv(L),e.c['y1'].gv(L),e.c['x_next'].gv(L),e.c['y_next'].gv(L)];this.renderLine(ie,1,e.c['border_color'].gv(L)[hU],true)}if(hZ&&e.c['r_neighbor'].gv(L)===-1){var ig=[e.c['x1'].gv(L),e.c['y1'].gv(L),e.c['x_prev'].gv(L),e.c['y_prev'].gv(L)];this.renderLine(ig,1,e.c['border_color'].gv(L)[hU],true)}if(!hZ&&e.c['r_neighbor'].gv(L)!==-1){var ih=[e.c['x1'].gv(L),e.c['y1'].gv(L),e.c['x1'].gv(hX),e.c['y1'].gv(hX)];this.renderLine(ih,1,e.getMarkColors(hV)[hU],true)}if(!hZ&&e.c['r_neighbor'].gv(L)!==-1){var ii=[e.c['x_next'].gv(L),e.c['y_next'].gv(L),e.c['x_prev'].gv(hX),e.c['y_prev'].gv(hX)];this.renderLine(ii,1,e.getMarkColors(hV)[hU],true)}if(!hZ&&(e.c['l_neighbor'].gv(L)!==-1&&e.c['r_neighbor'].gv(L)!==-1)){var ij=[e.c['x_prev'].gv(L),e.c['y_prev'].gv(L),e.c['x_next'].gv(L),e.c['y_next'].gv(L)];this.renderLine(ij,1,e.getMarkColors(hV)[hU],true)}if(!hZ&&e.c['l_neighbor'].gv(L)===-1){var ik=[e.c['x1'].gv(L),e.c['y1'].gv(L),e.c['x_next'].gv(L),e.c['y_next'].gv(L)];this.renderLine(ik,1,e.getMarkColors(hV)[hU],true)}if(!hZ&&e.c['r_neighbor'].gv(L)===-1){var il=[e.c['x1'].gv(L),e.c['y1'].gv(L),e.c['x_prev'].gv(L),e.c['y_prev'].gv(L)];this.renderLine(il,1,e.getMarkColors(hV)[hU],true)}break}case'selectedOn':{{bn.renderFilledCircle(this.get_currentContext(),0+e.c['x1'].gv(L),0+e.c['y1'].gv(L),5,e.getMarkColors(L)[hU])}break}case'selectedUnder':{{bn.renderCircle(this.get_currentContext(),0+e.c['x1'].gv(L),0+e.c['y1'].gv(L),5,e.c['selected_halo_color'].gv(L)[hU],4)}break}case'selectedOn1':{{bn.renderFilledCircle(this.get_currentContext(),0+e.c['x'].gv(L),0+e.c['y'].gv(L),5,e.getMarkColors(L)[hU])}break}case'selectedUnder1':{{bn.renderCircle(this.get_currentContext(),0+e.c['x'].gv(L),0+e.c['y'].gv(L),5,e.c['selected_halo_color'].gv(L)[hU],4)}break}case'highlightedOn':{{bn.renderFilledCircle(this.get_currentContext(),0+e.c['x1'].gv(L),0+e.c['y1'].gv(L),5,e.getMarkColors(L)[hU])}break}case'highlightedUnder':{{bn.renderCircle(this.get_currentContext(),0+e.c['x1'].gv(L),0+e.c['y1'].gv(L),5,e.c['selected_multi_prim_halo_color'].gv(L)[hU],4)}break}case'highlightedOn1':{{bn.renderFilledCircle(this.get_currentContext(),0+e.c['x'].gv(L),0+e.c['y'].gv(L),5,e.getMarkColors(L)[hU])}break}case'highlightedUnder1':{{bn.renderCircle(this.get_currentContext(),0+e.c['x'].gv(L),0+e.c['y'].gv(L),5,e.c['selected_multi_prim_halo_color'].gv(L)[hU],4)}break}default:{break}}if(hY!==0){this.get_currentContext().restore()}},$n:function(e,L,hT){var hU=e.get_hasSelection();var hV=e.get_hasBrushing();var hW='colorOverrideNone';var hX=e.$9(L);var hY=hX.firstMark;var hZ=hX.lastMark;var ia=e.getUserPaneRectByIndex(L);this.get_currentContext().save();var ib=this.setupContextForTextRendering(e);switch(hT){case'normalUnderPass':{if(hU||hV){hW='colorOverrideFog'}else{hW='colorOverrideNone'}{var ic=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var id=hY;id<=hZ;id++){if(!e.markHasLabel(id)||!e.markLabelNeedsDraw(id,ic)){continue}if(e.getMarkLabelState(id)!=='markStateNormal'){continue}if(e.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,e.c['cell_x'].gv(id),e.c['cell_y'].gv(id),e.c['clip_width'].gv(id),e.c['clip_height'].gv(id))}var ie=e.getMarkInstanceOffsets(id);var ig=ie.length;for(var ih=0;ih<ig;ih++){var ii=ie[ih];if(ii!==0){this.get_currentContext().save();this.get_currentContext().translate(ii,0)}this.$c(e,id,'normalUnder',hW);if(ii!==0){this.get_currentContext().restore()}}if(e.get_clipLabelToCell()){this.get_currentContext().restore()}}}hW='colorOverrideNone';{var ij=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var ik=hY;ik<=hZ;ik++){if(!e.markHasLabel(ik)||!e.markLabelNeedsDraw(ik,ij)){continue}if(e.getMarkLabelState(ik)!=='markStateHighlighted'){continue}if(e.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,e.c['cell_x'].gv(ik),e.c['cell_y'].gv(ik),e.c['clip_width'].gv(ik),e.c['clip_height'].gv(ik))}var il=e.getMarkInstanceOffsets(ik);var im=il.length;for(var io=0;io<im;io++){var ip=il[io];if(ip!==0){this.get_currentContext().save();this.get_currentContext().translate(ip,0)}this.$c(e,ik,'normalUnder',hW);if(ip!==0){this.get_currentContext().restore()}}if(e.get_clipLabelToCell()){this.get_currentContext().restore()}}}hW='colorOverrideNone';{var iq=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var ir=hY;ir<=hZ;ir++){if(!e.markHasLabel(ir)||!e.markLabelNeedsDraw(ir,iq)){continue}if(e.getMarkLabelState(ir)!=='markStateSelected'){continue}if(e.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,e.c['cell_x'].gv(ir),e.c['cell_y'].gv(ir),e.c['clip_width'].gv(ir),e.c['clip_height'].gv(ir))}var it=e.getMarkInstanceOffsets(ir);var iu=it.length;for(var iv=0;iv<iu;iv++){var iw=it[iv];if(iw!==0){this.get_currentContext().save();this.get_currentContext().translate(iw,0)}this.$c(e,ir,'normalUnder',hW);if(iw!==0){this.get_currentContext().restore()}}if(e.get_clipLabelToCell()){this.get_currentContext().restore()}}}break}case'normalOnPass':{if(hU||hV){hW='colorOverrideFog'}else{hW='colorOverrideNone'}{var ix=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var iy=hY;iy<=hZ;iy++){if(!e.markHasLabel(iy)||!e.markLabelNeedsDraw(iy,ix)){continue}if(e.getMarkLabelState(iy)!=='markStateNormal'){continue}if(e.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,e.c['cell_x'].gv(iy),e.c['cell_y'].gv(iy),e.c['clip_width'].gv(iy),e.c['clip_height'].gv(iy))}var iz=e.getMarkInstanceOffsets(iy);var iA=iz.length;for(var iB=0;iB<iA;iB++){var iC=iz[iB];if(iC!==0){this.get_currentContext().save();this.get_currentContext().translate(iC,0)}var iD=this.get_currentContext().get_textAlign()==='end';var iE=e.getMarkLabelProperty('text_run_offset',iy);var iF=e.getMarkLabelProperty('text_run_count',iy);var iG=iF>1;for(var iH=0;iH<iF;iH++){var iI=iH+iE;if(iD){iI=iE+iF-iH-1}this.$j(e,iy,'normalOn',hW,iI,iG,ib)}this.clearPrevTextRunInfo();if(iC!==0){this.get_currentContext().restore()}}if(e.get_clipLabelToCell()){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(hU||hV){hW='colorOverrideNone';{var iJ=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var iK=hY;iK<=hZ;iK++){if(!e.markHasLabel(iK)||!e.markLabelNeedsDraw(iK,iJ)){continue}if(e.getMarkLabelState(iK)!=='markStateHighlighted'){continue}if(e.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,e.c['cell_x'].gv(iK),e.c['cell_y'].gv(iK),e.c['clip_width'].gv(iK),e.c['clip_height'].gv(iK))}var iL=e.getMarkInstanceOffsets(iK);var iM=iL.length;for(var iN=0;iN<iM;iN++){var iO=iL[iN];if(iO!==0){this.get_currentContext().save();this.get_currentContext().translate(iO,0)}var iP=this.get_currentContext().get_textAlign()==='end';var iQ=e.getMarkLabelProperty('text_run_offset',iK);var iR=e.getMarkLabelProperty('text_run_count',iK);var iS=iR>1;for(var iT=0;iT<iR;iT++){var iU=iT+iQ;if(iP){iU=iQ+iR-iT-1}this.$j(e,iK,'highlightedOn',hW,iU,iS,ib)}this.clearPrevTextRunInfo();if(iO!==0){this.get_currentContext().restore()}}if(e.get_clipLabelToCell()){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{if(hU||hV){hW='colorOverrideOpaque';{var iV=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var iW=hY;iW<=hZ;iW++){if(!e.markHasLabel(iW)||!e.markLabelNeedsDraw(iW,iV)){continue}if(e.getMarkLabelState(iW)!=='markStateSelected'){continue}if(e.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,e.c['cell_x'].gv(iW),e.c['cell_y'].gv(iW),e.c['clip_width'].gv(iW),e.c['clip_height'].gv(iW))}var iX=e.getMarkInstanceOffsets(iW);var iY=iX.length;for(var iZ=0;iZ<iY;iZ++){var ja=iX[iZ];if(ja!==0){this.get_currentContext().save();this.get_currentContext().translate(ja,0)}this.$c(e,iW,'selectedUnder',hW);if(ja!==0){this.get_currentContext().restore()}}if(e.get_clipLabelToCell()){this.get_currentContext().restore()}}}}break}case'selectedOnPass':{if(hU||hV){hW='colorOverrideOpaque';{var jb=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var jc=hY;jc<=hZ;jc++){if(!e.markHasLabel(jc)||!e.markLabelNeedsDraw(jc,jb)){continue}if(e.getMarkLabelState(jc)!=='markStateSelected'){continue}if(e.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,e.c['cell_x'].gv(jc),e.c['cell_y'].gv(jc),e.c['clip_width'].gv(jc),e.c['clip_height'].gv(jc))}var jd=e.getMarkInstanceOffsets(jc);var je=jd.length;for(var jf=0;jf<je;jf++){var jg=jd[jf];if(jg!==0){this.get_currentContext().save();this.get_currentContext().translate(jg,0)}var jh=this.get_currentContext().get_textAlign()==='end';var ji=e.getMarkLabelProperty('text_run_offset',jc);var jj=e.getMarkLabelProperty('text_run_count',jc);var jk=jj>1;for(var jl=0;jl<jj;jl++){var jm=jl+ji;if(jh){jm=ji+jj-jl-1}this.$j(e,jc,'normalOn',hW,jm,jk,ib)}this.clearPrevTextRunInfo();if(jg!==0){this.get_currentContext().restore()}}if(e.get_clipLabelToCell()){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},$c:function(e,L,hT,hU){if(e.clipCase!==0){this.get_currentContext().save();this.clipRect(e.clipCase,e.c['cell_x'].gv(L),e.c['cell_y'].gv(L),e.c['clip_width'].gv(L),e.c['clip_height'].gv(L))}switch(hT){case'normalUnder':{{if(e.get_hasBackground()&&e.get_hasHalos()){var hV=e.getMarkLabelProperty('x',L);var hW=e.getMarkLabelProperty('y',L);var hX=e.getMarkLabelProperty('width',L);var hY=-e.getMarkLabelProperty('height',L);if(hY<0){hW+=hY;hY=Math.abs(hY)}var hZ=0;var ia=0;var ib;if(e.isMarkImpliedSelected(L)){ib=e.c['selected_halo_color'].gv(L)['colorOverrideOpaque']}else{ib=e.getMarkLabelProperty('halo_color',L)[hU]}bn.renderFilledBar(this.get_currentContext(),hV+hZ,hW+ia,hX,hY,ib,0,0,false)}}{if(e.isMarkDebug(L)){var ic=e.getMarkLabelProperty('x',L);var id=e.getMarkLabelProperty('y',L);var ie=e.getMarkLabelProperty('width',L);var ig=-e.getMarkLabelProperty('height',L);if(ig<0){id+=ig;ig=Math.abs(ig)}var ih=0;var ii=0;var ij;if(e.isMarkImpliedSelected(L)){ij=e.c['selected_halo_color'].gv(L)['colorOverrideOpaque']}else{ij=e.c['halo_color'].gv(L)[hU]}bn.renderFilledBar(this.get_currentContext(),ic+ih,id+ii,ie,ig,ij,0,0,false)}}break}case'normalOn':{break}case'highlightedUnder':{{if(e.get_hasBackground()&&e.get_hasHalos()){var ik=e.getMarkLabelProperty('x',L);var il=e.getMarkLabelProperty('y',L);var im=e.getMarkLabelProperty('width',L);var io=-e.getMarkLabelProperty('height',L);if(io<0){il+=io;io=Math.abs(io)}var ip=0;var iq=0;var ir;if(e.isMarkImpliedSelected(L)){ir=e.c['selected_halo_color'].gv(L)['colorOverrideOpaque']}else{ir=e.getMarkLabelProperty('halo_color',L)[hU]}bn.renderFilledBar(this.get_currentContext(),ik+ip,il+iq,im,io,ir,0,0,false)}}{if(e.isMarkDebug(L)){var it=e.getMarkLabelProperty('x',L);var iu=e.getMarkLabelProperty('y',L);var iv=e.getMarkLabelProperty('width',L);var iw=-e.getMarkLabelProperty('height',L);if(iw<0){iu+=iw;iw=Math.abs(iw)}var ix=0;var iy=0;var iz;if(e.isMarkImpliedSelected(L)){iz=e.c['selected_halo_color'].gv(L)['colorOverrideOpaque']}else{iz=e.c['halo_color'].gv(L)[hU]}bn.renderFilledBar(this.get_currentContext(),it+ix,iu+iy,iv,iw,iz,0,0,false)}}break}case'highlightedOn':{break}case'selectedUnder':{break}default:{break}}if(e.clipCase!==0){this.get_currentContext().restore()}},$j:function(e,L,hT,hU,hV,hW,hX){if(e.clipCase!==0){this.get_currentContext().save();this.clipRect(e.clipCase,e.c['cell_x'].gv(L),e.c['cell_y'].gv(L),e.c['clip_width'].gv(L),e.c['clip_height'].gv(L))}switch(hT){case'normalUnder':{break}case'normalOn':{var hY=e.getTextRunProperty('text_style_id',hV);hX(hY);var hZ=e.$5(hY,L,hU);var ia=e.getTextRunProperty('text_run',hV);var ib=e.getMarkLabelProperty('x',L)+e.getTextRunProperty('text_run_x',hV);var ic=e.getMarkLabelProperty('y',L)+e.getTextRunProperty('text_run_y',hV);var id=(this.get_currentContext().get_isTextAngleHorizontal()?e.getMarkLabelProperty('width',L):e.getMarkLabelProperty('height',L));this.renderText(ia,ib,ic,id,hZ,hW);break}case'highlightedUnder':{break}case'highlightedOn':{var ie=e.getTextRunProperty('text_style_id',hV);hX(ie);var ig=e.$5(ie,L,hU);var ih=e.getTextRunProperty('text_run',hV);var ii=e.getMarkLabelProperty('x',L)+e.getTextRunProperty('text_run_x',hV);var ij=e.getMarkLabelProperty('y',L)+e.getTextRunProperty('text_run_y',hV);var ik=(this.get_currentContext().get_isTextAngleHorizontal()?e.getMarkLabelProperty('width',L):e.getMarkLabelProperty('height',L));this.renderText(ih,ii,ij,ik,ig,hW);break}case'selectedUnder':{break}default:{break}}if(e.clipCase!==0){this.get_currentContext().restore()}},$p:function(e,L,hT){var hU=e.get_hasSelection();var hV=e.get_hasBrushing();var hW='colorOverrideNone';var hX=e.$9(L);var hY=hX.firstMark;var hZ=hX.lastMark;var ia=e.getUserPaneRectByIndex(L);var ib=e.get_lineDrawState();this.get_currentContext().save();switch(hT){case'normalUnderPass':{if(e.get_hasBackground()&&e.get_hasHalos()){if(hU||hV){hW='colorOverrideFog'}else{hW='colorOverrideNone'}var ic=ib.get_lineAttributes();for(var id=0;id<ic.length;id++){var ie=ic[id];var ig=ie.worldOffsets;var ih=ig.length;for(var ii=0;ii<ih;ii++){var ij=ig[ii];eF.$1w(this.get_currentContext(),ij);{for(var ik=0;ik<ie.marksNeedingDraw.length;ik++){var il=ie.marksNeedingDraw[ik];this.$e(e,il,'normalUnder',hW)}}if(ij!==0){this.get_currentContext().restore()}}}}break}case'normalOnPass':{if(hU||hV){hW='colorOverrideFog'}else{hW='colorOverrideNone'}var im=ib.get_lineAttributes();for(var io=0;io<im.length;io++){var ip=im[io];if(ip.get_lineState()!=='lineStateNormal'){continue}var iq=ip.worldOffsets;var ir=iq.length;for(var it=0;it<ir;it++){var iu=iq[it];eF.$1w(this.get_currentContext(),iu);{for(var iv=0;iv<ip.marksNeedingDraw.length;iv++){var iw=ip.marksNeedingDraw[iv];this.$e(e,iw,'normalOn',hW)}}if(iu!==0){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(hU||hV){var ix=ib.get_lineAttributes();for(var iy=0;iy<ix.length;iy++){var iz=ix[iy];if(iz.get_lineState()!=='lineStateHighlighted'){continue}var iA=iz.worldOffsets;var iB=iA.length;for(var iC=0;iC<iB;iC++){var iD=iA[iC];eF.$1w(this.get_currentContext(),iD);hW='colorOverrideFog';{for(var iE=0;iE<iz.marksNeedingDraw.length;iE++){var iF=iz.marksNeedingDraw[iE];if(e.getMarkState(iF)!=='markStateNormal'){continue}this.$e(e,iF,'normalOn',hW)}}hW='colorOverrideNone';{for(var iG=0;iG<iz.marksNeedingDraw.length;iG++){var iH=iz.marksNeedingDraw[iG];if(e.getMarkState(iH)!=='markStateHighlighted'){continue}this.$e(e,iH,'highlightedOn',hW)}}if(iD!==0){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{break}case'selectedOnPass':{if(hU||hV){var iI=ib.get_lineAttributes();for(var iJ=0;iJ<iI.length;iJ++){var iK=iI[iJ];if(iK.get_lineState()!=='lineStateSelected'){continue}var iL=iK.worldOffsets;var iM=iL.length;for(var iN=0;iN<iM;iN++){var iO=iL[iN];eF.$1w(this.get_currentContext(),iO);hW='colorOverrideFog';{for(var iP=0;iP<iK.marksNeedingDraw.length;iP++){var iQ=iK.marksNeedingDraw[iP];if(e.getMarkState(iQ)!=='markStateNormal'){continue}this.$e(e,iQ,'normalOn',hW)}}hW='colorOverrideNone';{for(var iR=0;iR<iK.marksNeedingDraw.length;iR++){var iS=iK.marksNeedingDraw[iR];if(e.getMarkState(iS)!=='markStateHighlighted'){continue}this.$e(e,iS,'highlightedOn',hW)}}hW='colorOverrideOpaque';{for(var iT=0;iT<iK.marksNeedingDraw.length;iT++){var iU=iK.marksNeedingDraw[iT];if(e.getMarkState(iU)!=='markStateSelected'){continue}this.$e(e,iU,'selectedUnder',hW)}}{for(var iV=0;iV<iK.marksNeedingDraw.length;iV++){var iW=iK.marksNeedingDraw[iV];if(e.getMarkState(iW)!=='markStateSelected'){continue}this.$e(e,iW,'selectedOn',hW)}}if(iO!==0){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},$e:function(e,L,hT,hU){if(e.clipCase!==0){this.get_currentContext().save();this.clipRect(e.clipCase,e.c['cell_x'].gv(L),e.c['cell_y'].gv(L),e.c['clip_width'].gv(L),e.c['clip_height'].gv(L))}switch(hT){case'normalUnder':{var hV=e.c['size'].gv(L)/2;{var hW=e.c['theta'].gv(L);var hX=e.c['theta1'].gv(L);var hY=hW>hX;var hZ=e.c['halo_color'].gv(L)[hU];var ia=false;if(Math.abs(hW-hX)>=1){bn.renderCircle(this.get_currentContext(),e.c['x'].gv(L),e.c['y'].gv(L),hV*2,hZ,4)}else{bn.renderWedge(this.get_currentContext(),e.c['x'].gv(L),e.c['y'].gv(L),hV,hW,hX,hZ,4,hY,ia)}}break}case'normalOn':{var ib=e.c['size'].gv(L)/2;{var ic=e.c['theta'].gv(L);var id=e.c['theta1'].gv(L);if(ic>id){var ie=ic;ic=id;id=ie}var ig=e.c['x'].gv(L);var ih=e.c['y'].gv(L);var ii=e.getMarkColors(L)[hU];if(e.c['alpha'].gv(L)>=1){var ij=bn.toCanvasAngle(ic);var ik=bn.toCanvasAngle(id);if(Math.abs(ik-ij)>=bn.angleEpsilon){this.get_currentContext().beginPath();this.get_currentContext().set_lineCap('butt');this.get_currentContext().set_lineWidth(1.5);this.get_currentContext().set_strokeStyle(ii);this.get_currentContext().moveTo(ig,ih);this.get_currentContext().lineTo(ig+Math.cos(ij)*ib,ih+Math.sin(ij)*ib);this.get_currentContext().stroke()}}if(Math.abs(ic-id)>=1){bn.renderFilledCircle(this.get_currentContext(),ig,ih,ib*2,ii)}else{this.renderFilledWedge(ig,ih,ib,ic,id,ii)}}if(e.c['draw_border'].gv(L)){var il=e.c['theta'].gv(L);var im=e.c['theta1'].gv(L);var io=il>im;var ip=e.c['border_color'].gv(L)[hU];var iq=true;if(Math.abs(il-im)>=1){bn.renderCircle(this.get_currentContext(),e.c['x'].gv(L),e.c['y'].gv(L),ib*2,ip,1)}else{bn.renderWedge(this.get_currentContext(),e.c['x'].gv(L),e.c['y'].gv(L),ib,il,im,ip,1,io,iq)}}break}case'highlightedUnder':{var ir=e.c['size'].gv(L)/2;{var it=e.c['theta'].gv(L);var iu=e.c['theta1'].gv(L);var iv=it>iu;var iw=e.c['halo_color'].gv(L)[hU];var ix=false;if(Math.abs(it-iu)>=1){bn.renderCircle(this.get_currentContext(),e.c['x'].gv(L),e.c['y'].gv(L),ir*2,iw,4)}else{bn.renderWedge(this.get_currentContext(),e.c['x'].gv(L),e.c['y'].gv(L),ir,it,iu,iw,4,iv,ix)}}break}case'highlightedOn':{var iy=e.c['size'].gv(L)/2;{var iz=e.c['theta'].gv(L);var iA=e.c['theta1'].gv(L);if(iz>iA){var iB=iz;iz=iA;iA=iB}var iC=e.c['x'].gv(L);var iD=e.c['y'].gv(L);var iE=e.getMarkColors(L)[hU];if(e.c['alpha'].gv(L)>=1){var iF=bn.toCanvasAngle(iz);var iG=bn.toCanvasAngle(iA);if(Math.abs(iG-iF)>=bn.angleEpsilon){this.get_currentContext().beginPath();this.get_currentContext().set_lineCap('butt');this.get_currentContext().set_lineWidth(1.5);this.get_currentContext().set_strokeStyle(iE);this.get_currentContext().moveTo(iC,iD);this.get_currentContext().lineTo(iC+Math.cos(iF)*iy,iD+Math.sin(iF)*iy);this.get_currentContext().stroke()}}if(Math.abs(iz-iA)>=1){bn.renderFilledCircle(this.get_currentContext(),iC,iD,iy*2,iE)}else{this.renderFilledWedge(iC,iD,iy,iz,iA,iE)}}if(e.c['draw_border'].gv(L)){var iH=e.c['theta'].gv(L);var iI=e.c['theta1'].gv(L);var iJ=iH>iI;var iK=e.c['border_color'].gv(L)[hU];var iL=true;if(Math.abs(iH-iI)>=1){bn.renderCircle(this.get_currentContext(),e.c['x'].gv(L),e.c['y'].gv(L),iy*2,iK,1)}else{bn.renderWedge(this.get_currentContext(),e.c['x'].gv(L),e.c['y'].gv(L),iy,iH,iI,iK,1,iJ,iL)}}break}case'selectedUnder':{var iM=e.c['size'].gv(L)/2;{var iN=e.c['theta'].gv(L);var iO=e.c['theta1'].gv(L);var iP=iN>iO;var iQ=e.c['selected_halo_color'].gv(L)[hU];var iR=false;if(Math.abs(iN-iO)>=1){bn.renderCircle(this.get_currentContext(),e.c['x'].gv(L),e.c['y'].gv(L),iM*2,iQ,4)}else{bn.renderWedge(this.get_currentContext(),e.c['x'].gv(L),e.c['y'].gv(L),iM,iN,iO,iQ,4,iP,iR)}}break}case'selectedOn':{var iS=e.c['size'].gv(L)/2;{var iT=e.c['theta'].gv(L);var iU=e.c['theta1'].gv(L);if(iT>iU){var iV=iT;iT=iU;iU=iV}var iW=e.c['x'].gv(L);var iX=e.c['y'].gv(L);var iY=e.getMarkColors(L)[hU];if(e.c['alpha'].gv(L)>=1){var iZ=bn.toCanvasAngle(iT);var ja=bn.toCanvasAngle(iU);if(Math.abs(ja-iZ)>=bn.angleEpsilon){this.get_currentContext().beginPath();this.get_currentContext().set_lineCap('butt');this.get_currentContext().set_lineWidth(1.5);this.get_currentContext().set_strokeStyle(iY);this.get_currentContext().moveTo(iW,iX);this.get_currentContext().lineTo(iW+Math.cos(iZ)*iS,iX+Math.sin(iZ)*iS);this.get_currentContext().stroke()}}if(Math.abs(iT-iU)>=1){bn.renderFilledCircle(this.get_currentContext(),iW,iX,iS*2,iY)}else{this.renderFilledWedge(iW,iX,iS,iT,iU,iY)}}if(e.c['draw_border'].gv(L)){var jb=e.c['theta'].gv(L);var jc=e.c['theta1'].gv(L);var jd=jb>jc;var je=e.c['border_color'].gv(L)[hU];var jf=true;if(Math.abs(jb-jc)>=1){bn.renderCircle(this.get_currentContext(),e.c['x'].gv(L),e.c['y'].gv(L),iS*2,je,1)}else{bn.renderWedge(this.get_currentContext(),e.c['x'].gv(L),e.c['y'].gv(L),iS,jb,jc,je,1,jd,jf)}}break}default:{break}}if(e.clipCase!==0){this.get_currentContext().restore()}},$P:function(e,L,hT){var hU=e.get_hasSelection();var hV=e.get_hasBrushing();var hW='colorOverrideNone';var hX=e.$9(L);var hY=hX.firstMark;var hZ=hX.lastMark;var ia=e.getUserPaneRectByIndex(L);this.get_currentContext().save();var ib=this.setupContextForTextRendering(e);switch(hT){case'normalUnderPass':{if(e.get_hasBackground()&&e.get_hasHalos()){if(hU||hV){hW='colorOverrideFog'}else{hW='colorOverrideNone'}{var ic=e.markWorldOffsets;var id=_.keys(ic);for(var ie=0;ie<id.length;ie++){var ig=id[ie];var ih=ic[ig];eF.$1w(this.get_currentContext(),ig);for(var ii=hY;ii<=hZ;ii++){if(ih.has(ii)){continue}if(!e.markNeedsDraw(ii)){continue}if(e.getMarkState(ii)!=='markStateNormal'){continue}this.$i(e,ii,'normalUnder',hW)}if(!tab.DoubleUtil.isApproximatelyEqual(ig,0)){this.get_currentContext().restore()}}}{var ij=e.markWorldOffsets;var ik=_.keys(ij);for(var il=0;il<ik.length;il++){var im=ik[il];var io=ij[im];eF.$1w(this.get_currentContext(),im);for(var ip=hY;ip<=hZ;ip++){if(io.has(ip)){continue}if(!e.markNeedsDraw(ip)){continue}if(e.getMarkState(ip)!=='markStateHighlighted'){continue}this.$i(e,ip,'normalUnder',hW)}if(!tab.DoubleUtil.isApproximatelyEqual(im,0)){this.get_currentContext().restore()}}}}break}case'normalOnPass':{if(hU||hV){hW='colorOverrideFog'}else{hW='colorOverrideNone'}{var iq=e.markWorldOffsets;var ir=_.keys(iq);for(var it=0;it<ir.length;it++){var iu=ir[it];var iv=iq[iu];eF.$1w(this.get_currentContext(),iu);for(var iw=hY;iw<=hZ;iw++){if(iv.has(iw)){continue}if(!e.markNeedsDraw(iw)){continue}if(e.getMarkState(iw)!=='markStateNormal'){continue}var ix=this.get_currentContext().get_textAlign()==='end';var iy=e.c['text_run_offset'].gv(iw);var iz=e.c['text_run_count'].gv(iw);var iA=iz>1;for(var iB=0;iB<iz;iB++){var iC=iB+iy;if(ix){iC=iy+iz-iB-1}this.$j(e,iw,'normalOn',hW,iC,iA,ib)}this.clearPrevTextRunInfo()}if(!tab.DoubleUtil.isApproximatelyEqual(iu,0)){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{if(hU||hV){if(!(e.get_hasBackground()&&e.get_hasHalos())){hW='colorOverrideNone';{var iD=e.markWorldOffsets;var iE=_.keys(iD);for(var iF=0;iF<iE.length;iF++){var iG=iE[iF];var iH=iD[iG];eF.$1w(this.get_currentContext(),iG);for(var iI=hY;iI<=hZ;iI++){if(iH.has(iI)){continue}if(!e.markNeedsDraw(iI)){continue}if(e.getMarkState(iI)!=='markStateHighlighted'){continue}this.$i(e,iI,'highlightedUnder',hW)}if(!tab.DoubleUtil.isApproximatelyEqual(iG,0)){this.get_currentContext().restore()}}}}}break}case'highlightedOnPass':{if(hU||hV){hW='colorOverrideNone';{var iJ=e.markWorldOffsets;var iK=_.keys(iJ);for(var iL=0;iL<iK.length;iL++){var iM=iK[iL];var iN=iJ[iM];eF.$1w(this.get_currentContext(),iM);for(var iO=hY;iO<=hZ;iO++){if(iN.has(iO)){continue}if(!e.markNeedsDraw(iO)){continue}if(e.getMarkState(iO)!=='markStateHighlighted'){continue}var iP=this.get_currentContext().get_textAlign()==='end';var iQ=e.c['text_run_offset'].gv(iO);var iR=e.c['text_run_count'].gv(iO);var iS=iR>1;for(var iT=0;iT<iR;iT++){var iU=iT+iQ;if(iP){iU=iQ+iR-iT-1}this.$j(e,iO,'normalOn',hW,iU,iS,ib)}this.clearPrevTextRunInfo()}if(!tab.DoubleUtil.isApproximatelyEqual(iM,0)){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{if(hU||hV){hW='colorOverrideOpaque';{var iV=e.markWorldOffsets;var iW=_.keys(iV);for(var iX=0;iX<iW.length;iX++){var iY=iW[iX];var iZ=iV[iY];eF.$1w(this.get_currentContext(),iY);for(var ja=hY;ja<=hZ;ja++){if(iZ.has(ja)){continue}if(!e.markNeedsDraw(ja)){continue}if(e.getMarkState(ja)!=='markStateSelected'){continue}this.$i(e,ja,'selectedUnder',hW)}if(!tab.DoubleUtil.isApproximatelyEqual(iY,0)){this.get_currentContext().restore()}}}}break}case'selectedOnPass':{if(hU||hV){hW='colorOverrideOpaque';{var jb=e.markWorldOffsets;var jc=_.keys(jb);for(var jd=0;jd<jc.length;jd++){var je=jc[jd];var jf=jb[je];eF.$1w(this.get_currentContext(),je);for(var jg=hY;jg<=hZ;jg++){if(jf.has(jg)){continue}if(!e.markNeedsDraw(jg)){continue}if(e.getMarkState(jg)!=='markStateSelected'){continue}var jh=this.get_currentContext().get_textAlign()==='end';var ji=e.c['text_run_offset'].gv(jg);var jj=e.c['text_run_count'].gv(jg);var jk=jj>1;for(var jl=0;jl<jj;jl++){var jm=jl+ji;if(jh){jm=ji+jj-jl-1}this.$j(e,jg,'normalOn',hW,jm,jk,ib)}this.clearPrevTextRunInfo()}if(!tab.DoubleUtil.isApproximatelyEqual(je,0)){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},$i:function(e,L,hT,hU){if(e.clipCase!==0){this.get_currentContext().save();this.clipRect(e.clipCase,e.c['cell_x'].gv(L),e.c['cell_y'].gv(L),e.c['clip_width'].gv(L),e.c['clip_height'].gv(L))}switch(hT){case'normalUnder':{{if(!(e.clipCase!==0&&e.useCellClipForSelection)){var hV=e.c['x'].gv(L);var hW=e.c['y'].gv(L);var hX=e.c['width'].gv(L);var hY=-e.c['height'].gv(L);if(hY<0){hW+=hY;hY=Math.abs(hY)}var hZ=-e.c['width'].gv(L)/2;var ia=e.c['height'].gv(L)/2;var ib;if(e.isMarkImpliedSelected(L)){ib=e.c['selected_halo_color'].gv(L)['colorOverrideOpaque']}else{ib=e.c['halo_color'].gv(L)[hU]}bn.renderFilledBar(this.get_currentContext(),hV+hZ,hW+ia,hX,hY,ib,0,0,false)}}{if(e.clipCase!==0&&e.useCellClipForSelection){var ic=e.c['x'].gv(L);var id=e.c['y'].gv(L);var ie=e.c['clip_width'].gv(L);var ig=-e.c['clip_height'].gv(L);if(ig<0){id+=ig;ig=Math.abs(ig)}var ih=-e.c['clip_width'].gv(L)/2;var ii=e.c['clip_height'].gv(L)/2;var ij;if(e.isMarkImpliedSelected(L)){ij=e.c['selected_halo_color'].gv(L)['colorOverrideOpaque']}else{ij=e.c['halo_color'].gv(L)[hU]}bn.renderFilledBar(this.get_currentContext(),ic+ih,id+ii,ie,ig,ij,0,0,false)}}break}case'normalOn':{break}case'highlightedUnder':{{if(e.get_hasHaloHighlightColor()&&!(e.clipCase!==0&&e.useCellClipForSelection)){var ik=e.c['x'].gv(L);var il=e.c['y'].gv(L);var im=e.c['width'].gv(L);var io=-e.c['height'].gv(L);if(io<0){il+=io;io=Math.abs(io)}var ip=-e.c['width'].gv(L)/2;var iq=e.c['height'].gv(L)/2;var ir;if(e.isMarkImpliedSelected(L)){ir=e.c['selected_halo_color'].gv(L)['colorOverrideOpaque']}else{ir=e.c['highlighted_halo_color'].gv(L)[hU]}bn.renderFilledBar(this.get_currentContext(),ik+ip,il+iq,im,io,ir,0,0,false)}}{if(e.get_hasHaloHighlightColor()&&(e.clipCase!==0&&e.useCellClipForSelection)){var it=e.c['x'].gv(L);var iu=e.c['y'].gv(L);var iv=e.c['clip_width'].gv(L);var iw=-e.c['clip_height'].gv(L);if(iw<0){iu+=iw;iw=Math.abs(iw)}var ix=-e.c['clip_width'].gv(L)/2;var iy=e.c['clip_height'].gv(L)/2;var iz;if(e.isMarkImpliedSelected(L)){iz=e.c['selected_halo_color'].gv(L)['colorOverrideOpaque']}else{iz=e.c['highlighted_halo_color'].gv(L)[hU]}bn.renderFilledBar(this.get_currentContext(),it+ix,iu+iy,iv,iw,iz,0,0,false)}}break}case'selectedUnder':{{if(!(e.clipCase!==0&&e.useCellClipForSelection)){var iA=e.c['x'].gv(L);var iB=e.c['y'].gv(L);var iC=e.c['width'].gv(L);var iD=-e.c['height'].gv(L);if(iD<0){iB+=iD;iD=Math.abs(iD)}var iE=-e.c['width'].gv(L)/2;var iF=e.c['height'].gv(L)/2;var iG;if(e.isMarkImpliedSelected(L)){iG=e.c['selected_halo_color'].gv(L)['colorOverrideOpaque']}else{iG=e.c['selected_halo_color'].gv(L)[hU]}bn.renderFilledBar(this.get_currentContext(),iA+iE,iB+iF,iC,iD,iG,0,0,false)}}{if(e.clipCase!==0&&e.useCellClipForSelection){var iH=e.c['x'].gv(L);var iI=e.c['y'].gv(L);var iJ=e.c['clip_width'].gv(L);var iK=-e.c['clip_height'].gv(L);if(iK<0){iI+=iK;iK=Math.abs(iK)}var iL=-e.c['clip_width'].gv(L)/2;var iM=e.c['clip_height'].gv(L)/2;var iN;if(e.isMarkImpliedSelected(L)){iN=e.c['selected_halo_color'].gv(L)['colorOverrideOpaque']}else{iN=e.c['selected_halo_color'].gv(L)[hU]}bn.renderFilledBar(this.get_currentContext(),iH+iL,iI+iM,iJ,iK,iN,0,0,false)}}break}default:{break}}if(e.clipCase!==0){this.get_currentContext().restore()}},$l:function(e,L,hT){var hU=e.get_hasSelection();var hV=e.get_hasBrushing();var hW='colorOverrideNone';var hX=e.$9(L);var hY=hX.firstMark;var hZ=hX.lastMark;var ia=e.getUserPaneRectByIndex(L);this.get_currentContext().save();this.get_currentContext().set_lineJoin('miter');switch(hT){case'normalUnderPass':{if(e.get_hasBackground()&&e.get_hasHalos()){if(hU||hV){hW='colorOverrideFog'}else{hW='colorOverrideNone'}{var ib=e.markWorldOffsets;var ic=_.keys(ib);for(var id=0;id<ic.length;id++){var ie=ic[id];var ig=ib[ie];eF.$1w(this.get_currentContext(),ie);for(var ih=hY;ih<=hZ;ih++){if(ig.has(ih)){continue}if(!e.markNeedsDraw(ih)){continue}if(e.getMarkState(ih)!=='markStateNormal'){continue}this.$a(e,ia,ih,'normalUnder',hW)}if(!tab.DoubleUtil.isApproximatelyEqual(ie,0)){this.get_currentContext().restore()}}}hW='colorOverrideNone';{var ii=e.markWorldOffsets;var ij=_.keys(ii);for(var ik=0;ik<ij.length;ik++){var il=ij[ik];var im=ii[il];eF.$1w(this.get_currentContext(),il);for(var io=hY;io<=hZ;io++){if(im.has(io)){continue}if(!e.markNeedsDraw(io)){continue}if(e.getMarkState(io)!=='markStateHighlighted'){continue}this.$a(e,ia,io,'normalUnder',hW)}if(!tab.DoubleUtil.isApproximatelyEqual(il,0)){this.get_currentContext().restore()}}}}break}case'normalOnPass':{if(hU||hV){hW='colorOverrideFog'}else{hW='colorOverrideNone'}{var ip=e.markWorldOffsets;var iq=_.keys(ip);for(var ir=0;ir<iq.length;ir++){var it=iq[ir];var iu=ip[it];eF.$1w(this.get_currentContext(),it);for(var iv=hY;iv<=hZ;iv++){if(iu.has(iv)){continue}if(!e.markNeedsDraw(iv)){continue}if(e.getMarkState(iv)!=='markStateNormal'){continue}this.$a(e,ia,iv,'normalOn',hW)}if(!tab.DoubleUtil.isApproximatelyEqual(it,0)){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(hU||hV){hW='colorOverrideNone';{var iw=e.markWorldOffsets;var ix=_.keys(iw);for(var iy=0;iy<ix.length;iy++){var iz=ix[iy];var iA=iw[iz];eF.$1w(this.get_currentContext(),iz);for(var iB=hY;iB<=hZ;iB++){if(iA.has(iB)){continue}if(!e.markNeedsDraw(iB)){continue}if(e.getMarkState(iB)!=='markStateHighlighted'){continue}this.$a(e,ia,iB,'highlightedOn',hW)}if(!tab.DoubleUtil.isApproximatelyEqual(iz,0)){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{if(hU||hV){hW='colorOverrideOpaque';{var iC=e.markWorldOffsets;var iD=_.keys(iC);for(var iE=0;iE<iD.length;iE++){var iF=iD[iE];var iG=iC[iF];eF.$1w(this.get_currentContext(),iF);for(var iH=hY;iH<=hZ;iH++){if(iG.has(iH)){continue}if(!e.markNeedsDraw(iH)){continue}if(e.getMarkState(iH)!=='markStateSelected'){continue}this.$a(e,ia,iH,'selectedUnder',hW)}if(!tab.DoubleUtil.isApproximatelyEqual(iF,0)){this.get_currentContext().restore()}}}}break}case'selectedOnPass':{if(hU||hV){hW='colorOverrideOpaque';if(e.clipCase!==3){this.get_currentContext().save();this.get_currentContext().setClip(e.getInsetPaneClipRect(L,2))}{var iI=e.markWorldOffsets;var iJ=_.keys(iI);for(var iK=0;iK<iJ.length;iK++){var iL=iJ[iK];var iM=iI[iL];eF.$1w(this.get_currentContext(),iL);for(var iN=hY;iN<=hZ;iN++){if(iM.has(iN)){continue}if(!e.markNeedsDraw(iN)){continue}if(e.getMarkState(iN)!=='markStateSelected'){continue}this.$a(e,ia,iN,'selectedOn',hW)}if(!tab.DoubleUtil.isApproximatelyEqual(iL,0)){this.get_currentContext().restore()}}}if(e.clipCase!==3){this.get_currentContext().restore()}}break}}this.get_currentContext().restore()},$a:function(e,L,hT,hU,hV){if(e.clipCase!==0){this.get_currentContext().save();this.clipRect(e.clipCase,e.c['cell_x'].gv(hT),e.c['cell_y'].gv(hT),e.c['clip_width'].gv(hT),e.c['clip_height'].gv(hT))}switch(hU){case'normalUnder':{var hW=ss.Int32.trunc(e.c['size'].gv(hT)+0.5)/2;{if(e.scaleMarksInX&&e.scaleMarksInY){var hX=e.c['x'].gv(hT);var hY=e.c['x1'].gv(hT);var hZ=e.c['y'].gv(hT);var ia=e.c['y1'].gv(hT);var ib=Math.min(hX,hY);var ic=Math.min(hZ,ia);var id=Math.abs(hY-hX)+0;var ie=Math.abs(ia-hZ)+0;bn.renderBarOutline(this.get_currentContext(),ib,ic,id,ie,e.c['halo_color'].gv(hT)[hV],4,e.get_minBarWidth(),e.get_minBarHeight(),false)}}{if(!e.scaleMarksInX&&e.scaleMarksInY){var ig=e.c['x'].gv(hT)-hW;var ih=e.c['x'].gv(hT)+hW;var ii=e.c['y'].gv(hT);var ij=e.c['y1'].gv(hT);var ik=Math.min(ig,ih);var il=Math.min(ii,ij);var im=Math.abs(ih-ig)+0;var io=Math.abs(ij-ii)+0;bn.renderBarOutline(this.get_currentContext(),ik,il,im,io,e.c['halo_color'].gv(hT)[hV],4,e.get_minBarWidth(),e.get_minBarHeight(),false)}}{if(e.scaleMarksInX&&!e.scaleMarksInY){var ip=e.c['x'].gv(hT);var iq=e.c['x1'].gv(hT);var ir=e.c['y'].gv(hT)-hW;var it=e.c['y'].gv(hT)+hW;var iu=Math.min(ip,iq);var iv=Math.min(ir,it);var iw=Math.abs(iq-ip)+0;var ix=Math.abs(it-ir)+0;bn.renderBarOutline(this.get_currentContext(),iu,iv,iw,ix,e.c['halo_color'].gv(hT)[hV],4,e.get_minBarWidth(),e.get_minBarHeight(),false)}}{if(!e.scaleMarksInX&&!e.scaleMarksInY){var iy=e.c['x'].gv(hT)-hW;var iz=e.c['x'].gv(hT)+hW;var iA=e.c['y'].gv(hT)-hW;var iB=e.c['y'].gv(hT)+hW;var iC=Math.min(iy,iz);var iD=Math.min(iA,iB);var iE=Math.abs(iz-iy)+0;var iF=Math.abs(iB-iA)+0;bn.renderBarOutline(this.get_currentContext(),iC,iD,iE,iF,e.c['halo_color'].gv(hT)[hV],4,e.get_minBarWidth(),e.get_minBarHeight(),true)}}break}case'normalOn':{var iG=ss.Int32.trunc(e.c['size'].gv(hT)+0.5)/2;{if(e.scaleMarksInX&&e.scaleMarksInY){var iH=e.c['x'].gv(hT);var iI=e.c['x1'].gv(hT);var iJ=e.c['y'].gv(hT);var iK=e.c['y1'].gv(hT);var iL=Math.min(iH,iI);var iM=Math.min(iJ,iK);var iN=Math.abs(iI-iH)+0;var iO=Math.abs(iK-iJ)+0;bn.renderFilledBar(this.get_currentContext(),iL-0,iM-0,iN+2*0,iO+2*0,e.getMarkColors(hT)[hV],e.get_minBarWidth(),e.get_minBarHeight(),false)}}{if(e.scaleMarksInX&&e.scaleMarksInY&&e.drawBorder){var iP=e.c['x'].gv(hT);var iQ=e.c['x1'].gv(hT);var iR=e.c['y'].gv(hT);var iS=e.c['y1'].gv(hT);var iT=Math.min(iP,iQ);var iU=Math.min(iR,iS);var iV=Math.abs(iQ-iP)+0;var iW=Math.abs(iS-iR)+0;bn.renderBarOutline(this.get_currentContext(),iT,iU,iV,iW,e.c['border_color'].gv(hT)[hV],1,e.get_minBarWidth(),e.get_minBarHeight(),false)}}{if(!e.scaleMarksInX&&e.scaleMarksInY){var iX=e.c['x'].gv(hT)-iG;var iY=e.c['x'].gv(hT)+iG;var iZ=e.c['y'].gv(hT);var ja=e.c['y1'].gv(hT);var jb=Math.min(iX,iY);var jc=Math.min(iZ,ja);var jd=Math.abs(iY-iX)+0;var je=Math.abs(ja-iZ)+0;bn.renderFilledBar(this.get_currentContext(),jb-0,jc-0,jd+2*0,je+2*0,e.getMarkColors(hT)[hV],e.get_minBarWidth(),e.get_minBarHeight(),false)}}{if(!e.scaleMarksInX&&e.scaleMarksInY&&e.drawBorder){var jf=e.c['x'].gv(hT)-iG;var jg=e.c['x'].gv(hT)+iG;var jh=e.c['y'].gv(hT);var ji=e.c['y1'].gv(hT);var jj=Math.min(jf,jg);var jk=Math.min(jh,ji);var jl=Math.abs(jg-jf)+0;var jm=Math.abs(ji-jh)+0;bn.renderBarOutline(this.get_currentContext(),jj,jk,jl,jm,e.c['border_color'].gv(hT)[hV],1,e.get_minBarWidth(),e.get_minBarHeight(),false)}}{if(e.scaleMarksInX&&!e.scaleMarksInY){var jn=e.c['x'].gv(hT);var jo=e.c['x1'].gv(hT);var jp=e.c['y'].gv(hT)-iG;var jq=e.c['y'].gv(hT)+iG;var jr=Math.min(jn,jo);var js=Math.min(jp,jq);var jt=Math.abs(jo-jn)+0;var ju=Math.abs(jq-jp)+0;bn.renderFilledBar(this.get_currentContext(),jr-0,js-0,jt+2*0,ju+2*0,e.getMarkColors(hT)[hV],e.get_minBarWidth(),e.get_minBarHeight(),false)}}{if(e.scaleMarksInX&&!e.scaleMarksInY&&e.drawBorder){var jv=e.c['x'].gv(hT);var jw=e.c['x1'].gv(hT);var jx=e.c['y'].gv(hT)-iG;var jy=e.c['y'].gv(hT)+iG;var jz=Math.min(jv,jw);var jA=Math.min(jx,jy);var jB=Math.abs(jw-jv)+0;var jC=Math.abs(jy-jx)+0;bn.renderBarOutline(this.get_currentContext(),jz,jA,jB,jC,e.c['border_color'].gv(hT)[hV],1,e.get_minBarWidth(),e.get_minBarHeight(),false)}}{if(!e.scaleMarksInX&&!e.scaleMarksInY){var jD=e.c['x'].gv(hT)-iG;var jE=e.c['x'].gv(hT)+iG;var jF=e.c['y'].gv(hT)-iG;var jG=e.c['y'].gv(hT)+iG;var jH=Math.min(jD,jE);var jI=Math.min(jF,jG);var jJ=Math.abs(jE-jD)+0;var jK=Math.abs(jG-jF)+0;bn.renderFilledBar(this.get_currentContext(),jH-0,jI-0,jJ+2*0,jK+2*0,e.getMarkColors(hT)[hV],e.get_minBarWidth(),e.get_minBarHeight(),true)}}{if(!e.scaleMarksInX&&!e.scaleMarksInY&&e.drawBorder){var jL=e.c['x'].gv(hT)-iG;var jM=e.c['x'].gv(hT)+iG;var jN=e.c['y'].gv(hT)-iG;var jO=e.c['y'].gv(hT)+iG;var jP=Math.min(jL,jM);var jQ=Math.min(jN,jO);var jR=Math.abs(jM-jL)+0;var jS=Math.abs(jO-jN)+0;bn.renderBarOutline(this.get_currentContext(),jP,jQ,jR,jS,e.c['border_color'].gv(hT)[hV],1,e.get_minBarWidth(),e.get_minBarHeight(),true)}}break}case'highlightedUnder':{var jT=ss.Int32.trunc(e.c['size'].gv(hT)+0.5)/2;{if(e.scaleMarksInX&&e.scaleMarksInY){var jU=e.c['x'].gv(hT);var jV=e.c['x1'].gv(hT);var jW=e.c['y'].gv(hT);var jX=e.c['y1'].gv(hT);var jY=Math.min(jU,jV);var jZ=Math.min(jW,jX);var ka=Math.abs(jV-jU)+0;var kb=Math.abs(jX-jW)+0;bn.renderBarOutline(this.get_currentContext(),jY,jZ,ka,kb,e.c['halo_color'].gv(hT)[hV],4,e.get_minBarWidth(),e.get_minBarHeight(),false)}}{if(!e.scaleMarksInX&&e.scaleMarksInY){var kc=e.c['x'].gv(hT)-jT;var kd=e.c['x'].gv(hT)+jT;var ke=e.c['y'].gv(hT);var kf=e.c['y1'].gv(hT);var kg=Math.min(kc,kd);var kh=Math.min(ke,kf);var ki=Math.abs(kd-kc)+0;var kj=Math.abs(kf-ke)+0;bn.renderBarOutline(this.get_currentContext(),kg,kh,ki,kj,e.c['halo_color'].gv(hT)[hV],4,e.get_minBarWidth(),e.get_minBarHeight(),false)}}{if(e.scaleMarksInX&&!e.scaleMarksInY){var kk=e.c['x'].gv(hT);var kl=e.c['x1'].gv(hT);var km=e.c['y'].gv(hT)-jT;var kn=e.c['y'].gv(hT)+jT;var ko=Math.min(kk,kl);var kp=Math.min(km,kn);var kq=Math.abs(kl-kk)+0;var kr=Math.abs(kn-km)+0;bn.renderBarOutline(this.get_currentContext(),ko,kp,kq,kr,e.c['halo_color'].gv(hT)[hV],4,e.get_minBarWidth(),e.get_minBarHeight(),false)}}{if(!e.scaleMarksInX&&!e.scaleMarksInY){var ks=e.c['x'].gv(hT)-jT;var kt=e.c['x'].gv(hT)+jT;var ku=e.c['y'].gv(hT)-jT;var kv=e.c['y'].gv(hT)+jT;var kw=Math.min(ks,kt);var kx=Math.min(ku,kv);var ky=Math.abs(kt-ks)+0;var kz=Math.abs(kv-ku)+0;bn.renderBarOutline(this.get_currentContext(),kw,kx,ky,kz,e.c['halo_color'].gv(hT)[hV],4,e.get_minBarWidth(),e.get_minBarHeight(),true)}}break}case'highlightedOn':{var kA=ss.Int32.trunc(e.c['size'].gv(hT)+0.5)/2;{if(e.scaleMarksInX&&e.scaleMarksInY){var kB=e.c['x'].gv(hT);var kC=e.c['x1'].gv(hT);var kD=e.c['y'].gv(hT);var kE=e.c['y1'].gv(hT);var kF=Math.min(kB,kC);var kG=Math.min(kD,kE);var kH=Math.abs(kC-kB)+0;var kI=Math.abs(kE-kD)+0;bn.renderFilledBar(this.get_currentContext(),kF-0,kG-0,kH+2*0,kI+2*0,e.getMarkColors(hT)[hV],e.get_minBarWidth(),e.get_minBarHeight(),false)}}{if(e.scaleMarksInX&&e.scaleMarksInY&&e.drawBorder){var kJ=e.c['x'].gv(hT);var kK=e.c['x1'].gv(hT);var kL=e.c['y'].gv(hT);var kM=e.c['y1'].gv(hT);var kN=Math.min(kJ,kK);var kO=Math.min(kL,kM);var kP=Math.abs(kK-kJ)+0;var kQ=Math.abs(kM-kL)+0;bn.renderBarOutline(this.get_currentContext(),kN,kO,kP,kQ,e.c['border_color'].gv(hT)[hV],1,e.get_minBarWidth(),e.get_minBarHeight(),false)}}{if(!e.scaleMarksInX&&e.scaleMarksInY){var kR=e.c['x'].gv(hT)-kA;var kS=e.c['x'].gv(hT)+kA;var kT=e.c['y'].gv(hT);var kU=e.c['y1'].gv(hT);var kV=Math.min(kR,kS);var kW=Math.min(kT,kU);var kX=Math.abs(kS-kR)+0;var kY=Math.abs(kU-kT)+0;bn.renderFilledBar(this.get_currentContext(),kV-0,kW-0,kX+2*0,kY+2*0,e.getMarkColors(hT)[hV],e.get_minBarWidth(),e.get_minBarHeight(),false)}}{if(!e.scaleMarksInX&&e.scaleMarksInY&&e.drawBorder){var kZ=e.c['x'].gv(hT)-kA;var la=e.c['x'].gv(hT)+kA;var lb=e.c['y'].gv(hT);var lc=e.c['y1'].gv(hT);var ld=Math.min(kZ,la);var le=Math.min(lb,lc);var lf=Math.abs(la-kZ)+0;var lg=Math.abs(lc-lb)+0;bn.renderBarOutline(this.get_currentContext(),ld,le,lf,lg,e.c['border_color'].gv(hT)[hV],1,e.get_minBarWidth(),e.get_minBarHeight(),false)}}{if(e.scaleMarksInX&&!e.scaleMarksInY){var lh=e.c['x'].gv(hT);var li=e.c['x1'].gv(hT);var lj=e.c['y'].gv(hT)-kA;var lk=e.c['y'].gv(hT)+kA;var ll=Math.min(lh,li);var lm=Math.min(lj,lk);var ln=Math.abs(li-lh)+0;var lo=Math.abs(lk-lj)+0;bn.renderFilledBar(this.get_currentContext(),ll-0,lm-0,ln+2*0,lo+2*0,e.getMarkColors(hT)[hV],e.get_minBarWidth(),e.get_minBarHeight(),false)}}{if(e.scaleMarksInX&&!e.scaleMarksInY&&e.drawBorder){var lp=e.c['x'].gv(hT);var lq=e.c['x1'].gv(hT);var lr=e.c['y'].gv(hT)-kA;var ls=e.c['y'].gv(hT)+kA;var lt=Math.min(lp,lq);var lu=Math.min(lr,ls);var lv=Math.abs(lq-lp)+0;var lw=Math.abs(ls-lr)+0;bn.renderBarOutline(this.get_currentContext(),lt,lu,lv,lw,e.c['border_color'].gv(hT)[hV],1,e.get_minBarWidth(),e.get_minBarHeight(),false)}}{if(!e.scaleMarksInX&&!e.scaleMarksInY){var lx=e.c['x'].gv(hT)-kA;var ly=e.c['x'].gv(hT)+kA;var lz=e.c['y'].gv(hT)-kA;var lA=e.c['y'].gv(hT)+kA;var lB=Math.min(lx,ly);var lC=Math.min(lz,lA);var lD=Math.abs(ly-lx)+0;var lE=Math.abs(lA-lz)+0;bn.renderFilledBar(this.get_currentContext(),lB-0,lC-0,lD+2*0,lE+2*0,e.getMarkColors(hT)[hV],e.get_minBarWidth(),e.get_minBarHeight(),true)}}{if(!e.scaleMarksInX&&!e.scaleMarksInY&&e.drawBorder){var lF=e.c['x'].gv(hT)-kA;var lG=e.c['x'].gv(hT)+kA;var lH=e.c['y'].gv(hT)-kA;var lI=e.c['y'].gv(hT)+kA;var lJ=Math.min(lF,lG);var lK=Math.min(lH,lI);var lL=Math.abs(lG-lF)+0;var lM=Math.abs(lI-lH)+0;bn.renderBarOutline(this.get_currentContext(),lJ,lK,lL,lM,e.c['border_color'].gv(hT)[hV],1,e.get_minBarWidth(),e.get_minBarHeight(),true)}}break}case'selectedUnder':{var lN=ss.Int32.trunc(e.c['size'].gv(hT)+0.5)/2;var lO=1;{var lP=e.c['x'].gv(hT);var lQ=e.c['x1'].gv(hT);var lR=e.c['y'].gv(hT);var lS=e.c['y1'].gv(hT);var lT=Math.min(lP,lQ);var lU=Math.min(lR,lS);var lV=Math.abs(lQ-lP)+0;var lW=Math.abs(lS-lR)+0;if(e.scaleMarksInX&&e.scaleMarksInY&&!this.$8(L,lT,lU,lV,lW)){bn.renderBarOutline(this.get_currentContext(),lT,lU,lV,lW,e.c['selected_halo_color'].gv(hT)[hV],4,e.get_minBarWidth(),e.get_minBarHeight(),false)}}{var lX=e.c['x'].gv(hT);var lY=e.c['x1'].gv(hT);var lZ=e.c['y'].gv(hT);var ma=e.c['y1'].gv(hT);var mb=Math.min(lX,lY);var mc=Math.min(lZ,ma);var md=Math.abs(lY-lX)+0;var me=Math.abs(ma-lZ)+0;if(e.scaleMarksInX&&e.scaleMarksInY&&this.$8(L,mb,mc,md,me)){bn.renderFilledBar(this.get_currentContext(),mb-2,mc-2,md+2*2,me+2*2,e.c['selected_halo_color'].gv(hT)[hV],e.get_minBarWidth(),e.get_minBarHeight(),false)}}{if(e.scaleMarksInX&&e.scaleMarksInY&&e.drawBorder){var mf=e.c['x'].gv(hT);var mg=e.c['x1'].gv(hT);var mh=e.c['y'].gv(hT);var mi=e.c['y1'].gv(hT);var mj=Math.min(mf,mg);var mk=Math.min(mh,mi);var ml=Math.abs(mg-mf)+lO;var mm=Math.abs(mi-mh)+lO;bn.renderBarOutline(this.get_currentContext(),mj,mk,ml,mm,e.c['selected_halo_color'].gv(hT)[hV],4,e.get_minBarWidth(),e.get_minBarHeight(),false)}}{var mn=e.c['x'].gv(hT)-lN;var mo=e.c['x'].gv(hT)+lN;var mp=e.c['y'].gv(hT);var mq=e.c['y1'].gv(hT);var mr=Math.min(mn,mo);var ms=Math.min(mp,mq);var mt=Math.abs(mo-mn)+0;var mu=Math.abs(mq-mp)+0;if(!e.scaleMarksInX&&e.scaleMarksInY&&!this.$8(L,mr,ms,mt,mu)){bn.renderBarOutline(this.get_currentContext(),mr,ms,mt,mu,e.c['selected_halo_color'].gv(hT)[hV],4,e.get_minBarWidth(),e.get_minBarHeight(),false)}}{var mv=e.c['x'].gv(hT)-lN;var mw=e.c['x'].gv(hT)+lN;var mx=e.c['y'].gv(hT);var my=e.c['y1'].gv(hT);var mz=Math.min(mv,mw);var mA=Math.min(mx,my);var mB=Math.abs(mw-mv)+0;var mC=Math.abs(my-mx)+0;if(!e.scaleMarksInX&&e.scaleMarksInY&&this.$8(L,mz,mA,mB,mC)){bn.renderFilledBar(this.get_currentContext(),mz-2,mA-2,mB+2*2,mC+2*2,e.c['selected_halo_color'].gv(hT)[hV],e.get_minBarWidth(),e.get_minBarHeight(),false)}}{if(!e.scaleMarksInX&&e.scaleMarksInY&&e.drawBorder){var mD=e.c['x'].gv(hT)-lN;var mE=e.c['x'].gv(hT)+lN;var mF=e.c['y'].gv(hT);var mG=e.c['y1'].gv(hT);var mH=Math.min(mD,mE);var mI=Math.min(mF,mG);var mJ=Math.abs(mE-mD)+lO;var mK=Math.abs(mG-mF)+lO;bn.renderBarOutline(this.get_currentContext(),mH,mI,mJ,mK,e.c['selected_halo_color'].gv(hT)[hV],4,e.get_minBarWidth(),e.get_minBarHeight(),false)}}{var mL=e.c['x'].gv(hT);var mM=e.c['x1'].gv(hT);var mN=e.c['y'].gv(hT)-lN;var mO=e.c['y'].gv(hT)+lN;var mP=Math.min(mL,mM);var mQ=Math.min(mN,mO);var mR=Math.abs(mM-mL)+0;var mS=Math.abs(mO-mN)+0;if(e.scaleMarksInX&&!e.scaleMarksInY&&!this.$8(L,mP,mQ,mR,mS)){bn.renderBarOutline(this.get_currentContext(),mP,mQ,mR,mS,e.c['selected_halo_color'].gv(hT)[hV],4,e.get_minBarWidth(),e.get_minBarHeight(),false)}}{var mT=e.c['x'].gv(hT);var mU=e.c['x1'].gv(hT);var mV=e.c['y'].gv(hT)-lN;var mW=e.c['y'].gv(hT)+lN;var mX=Math.min(mT,mU);var mY=Math.min(mV,mW);var mZ=Math.abs(mU-mT)+0;var na=Math.abs(mW-mV)+0;if(e.scaleMarksInX&&!e.scaleMarksInY&&this.$8(L,mX,mY,mZ,na)){bn.renderFilledBar(this.get_currentContext(),mX-2,mY-2,mZ+2*2,na+2*2,e.c['selected_halo_color'].gv(hT)[hV],e.get_minBarWidth(),e.get_minBarHeight(),false)}}{if(e.scaleMarksInX&&!e.scaleMarksInY&&e.drawBorder){var nb=e.c['x'].gv(hT);var nc=e.c['x1'].gv(hT);var nd=e.c['y'].gv(hT)-lN;var ne=e.c['y'].gv(hT)+lN;var nf=Math.min(nb,nc);var ng=Math.min(nd,ne);var nh=Math.abs(nc-nb)+lO;var ni=Math.abs(ne-nd)+lO;bn.renderBarOutline(this.get_currentContext(),nf,ng,nh,ni,e.c['selected_halo_color'].gv(hT)[hV],4,e.get_minBarWidth(),e.get_minBarHeight(),false)}}{var nj=e.c['x'].gv(hT)-lN;var nk=e.c['x'].gv(hT)+lN;var nl=e.c['y'].gv(hT)-lN;var nm=e.c['y'].gv(hT)+lN;var nn=Math.min(nj,nk);var no=Math.min(nl,nm);var np=Math.abs(nk-nj)+0;var nq=Math.abs(nm-nl)+0;if(!e.scaleMarksInX&&!e.scaleMarksInY&&!this.$8(L,nn,no,np,nq)){bn.renderBarOutline(this.get_currentContext(),nn,no,np,nq,e.c['selected_halo_color'].gv(hT)[hV],4,e.get_minBarWidth(),e.get_minBarHeight(),true)}}{var nr=e.c['x'].gv(hT)-lN;var ns=e.c['x'].gv(hT)+lN;var nt=e.c['y'].gv(hT)-lN;var nu=e.c['y'].gv(hT)+lN;var nv=Math.min(nr,ns);var nw=Math.min(nt,nu);var nx=Math.abs(ns-nr)+0;var ny=Math.abs(nu-nt)+0;if(!e.scaleMarksInX&&!e.scaleMarksInY&&this.$8(L,nv,nw,nx,ny)){bn.renderFilledBar(this.get_currentContext(),nv-2,nw-2,nx+2*2,ny+2*2,e.c['selected_halo_color'].gv(hT)[hV],e.get_minBarWidth(),e.get_minBarHeight(),true)}}{if(!e.scaleMarksInX&&!e.scaleMarksInY&&e.drawBorder){var nz=e.c['x'].gv(hT)-lN;var nA=e.c['x'].gv(hT)+lN;var nB=e.c['y'].gv(hT)-lN;var nC=e.c['y'].gv(hT)+lN;var nD=Math.min(nz,nA);var nE=Math.min(nB,nC);var nF=Math.abs(nA-nz)+lO;var nG=Math.abs(nC-nB)+lO;bn.renderBarOutline(this.get_currentContext(),nD,nE,nF,nG,e.c['border_color'].gv(hT)[hV],4,e.get_minBarWidth(),e.get_minBarHeight(),true)}}break}case'selectedOn':{var nH=ss.Int32.trunc(e.c['size'].gv(hT)+0.5)/2;{if(e.scaleMarksInX&&e.scaleMarksInY){var nI=e.c['x'].gv(hT);var nJ=e.c['x1'].gv(hT);var nK=e.c['y'].gv(hT);var nL=e.c['y1'].gv(hT);var nM=Math.min(nI,nJ);var nN=Math.min(nK,nL);var nO=Math.abs(nJ-nI)+0;var nP=Math.abs(nL-nK)+0;bn.renderFilledBar(this.get_currentContext(),nM-0,nN-0,nO+2*0,nP+2*0,e.getMarkColors(hT)[hV],e.get_minBarWidth(),e.get_minBarHeight(),false)}}{if(e.scaleMarksInX&&e.scaleMarksInY&&e.drawBorder){var nQ=e.c['x'].gv(hT);var nR=e.c['x1'].gv(hT);var nS=e.c['y'].gv(hT);var nT=e.c['y1'].gv(hT);var nU=Math.min(nQ,nR);var nV=Math.min(nS,nT);var nW=Math.abs(nR-nQ)+0;var nX=Math.abs(nT-nS)+0;bn.renderBarOutline(this.get_currentContext(),nU,nV,nW,nX,e.c['border_color'].gv(hT)[hV],1,e.get_minBarWidth(),e.get_minBarHeight(),false)}}{if(!e.scaleMarksInX&&e.scaleMarksInY){var nY=e.c['x'].gv(hT)-nH;var nZ=e.c['x'].gv(hT)+nH;var oa=e.c['y'].gv(hT);var ob=e.c['y1'].gv(hT);var oc=Math.min(nY,nZ);var od=Math.min(oa,ob);var oe=Math.abs(nZ-nY)+0;var of=Math.abs(ob-oa)+0;bn.renderFilledBar(this.get_currentContext(),oc-0,od-0,oe+2*0,of+2*0,e.getMarkColors(hT)[hV],e.get_minBarWidth(),e.get_minBarHeight(),false)}}{if(!e.scaleMarksInX&&e.scaleMarksInY&&e.drawBorder){var og=e.c['x'].gv(hT)-nH;var oh=e.c['x'].gv(hT)+nH;var oi=e.c['y'].gv(hT);var oj=e.c['y1'].gv(hT);var ok=Math.min(og,oh);var ol=Math.min(oi,oj);var om=Math.abs(oh-og)+0;var on=Math.abs(oj-oi)+0;bn.renderBarOutline(this.get_currentContext(),ok,ol,om,on,e.c['border_color'].gv(hT)[hV],1,e.get_minBarWidth(),e.get_minBarHeight(),false)}}{if(e.scaleMarksInX&&!e.scaleMarksInY){var oo=e.c['x'].gv(hT);var op=e.c['x1'].gv(hT);var oq=e.c['y'].gv(hT)-nH;var or=e.c['y'].gv(hT)+nH;var os=Math.min(oo,op);var ot=Math.min(oq,or);var ou=Math.abs(op-oo)+0;var ov=Math.abs(or-oq)+0;bn.renderFilledBar(this.get_currentContext(),os-0,ot-0,ou+2*0,ov+2*0,e.getMarkColors(hT)[hV],e.get_minBarWidth(),e.get_minBarHeight(),false)}}{if(e.scaleMarksInX&&!e.scaleMarksInY&&e.drawBorder){var ow=e.c['x'].gv(hT);var ox=e.c['x1'].gv(hT);var oy=e.c['y'].gv(hT)-nH;var oz=e.c['y'].gv(hT)+nH;var oA=Math.min(ow,ox);var oB=Math.min(oy,oz);var oC=Math.abs(ox-ow)+0;var oD=Math.abs(oz-oy)+0;bn.renderBarOutline(this.get_currentContext(),oA,oB,oC,oD,e.c['border_color'].gv(hT)[hV],1,e.get_minBarWidth(),e.get_minBarHeight(),false)}}{if(!e.scaleMarksInX&&!e.scaleMarksInY){var oE=e.c['x'].gv(hT)-nH;var oF=e.c['x'].gv(hT)+nH;var oG=e.c['y'].gv(hT)-nH;var oH=e.c['y'].gv(hT)+nH;var oI=Math.min(oE,oF);var oJ=Math.min(oG,oH);var oK=Math.abs(oF-oE)+0;var oL=Math.abs(oH-oG)+0;bn.renderFilledBar(this.get_currentContext(),oI-0,oJ-0,oK+2*0,oL+2*0,e.getMarkColors(hT)[hV],e.get_minBarWidth(),e.get_minBarHeight(),true)}}{if(!e.scaleMarksInX&&!e.scaleMarksInY&&e.drawBorder){var oM=e.c['x'].gv(hT)-nH;var oN=e.c['x'].gv(hT)+nH;var oO=e.c['y'].gv(hT)-nH;var oP=e.c['y'].gv(hT)+nH;var oQ=Math.min(oM,oN);var oR=Math.min(oO,oP);var oS=Math.abs(oN-oM)+0;var oT=Math.abs(oP-oO)+0;bn.renderBarOutline(this.get_currentContext(),oQ,oR,oS,oT,e.c['border_color'].gv(hT)[hV],1,e.get_minBarWidth(),e.get_minBarHeight(),true)}}break}default:{break}}if(e.clipCase!==0){this.get_currentContext().restore()}},$m:function(e,L,hT){var hU=e.get_hasSelection();var hV=e.get_hasBrushing();var hW='colorOverrideNone';var hX=e.$9(L);var hY=hX.firstMark;var hZ=hX.lastMark;var ia=e.getUserPaneRectByIndex(L);var ib=e.get_lineDrawState();this.get_currentContext().save();switch(hT){case'normalUnderPass':{if(e.get_hasBackground()&&e.get_hasHalos()){if(hU||hV){hW='colorOverrideFog'}else{hW='colorOverrideNone'}var ic=ib.get_lineAttributes();for(var id=0;id<ic.length;id++){var ie=ic[id];if(ie.get_lineState()!=='lineStateNormal'){continue}var ig=ie.worldOffsets;var ih=ig.length;for(var ii=0;ii<ih;ii++){var ij=ig[ii];eF.$1w(this.get_currentContext(),ij);{for(var ik=0;ik<ie.marksNeedingDraw.length;ik++){var il=ie.marksNeedingDraw[ik];if(e.c['l_neighbor'].gv(il)!==-1||e.c['r_neighbor'].gv(il)!==-1){this.$b(e,il,'normalUnder',hW)}}}{for(var im=0;im<ie.marksNeedingDraw.length;im++){var io=ie.marksNeedingDraw[im];this.$b(e,io,'edgeUnder',hW);if(e.c['l_neighbor'].gv(io)===-1&&e.c['r_neighbor'].gv(io)===-1||e.shouldShowMarker(io)){this.$b(e,io,'blobUnder',hW)}}}if(ij!==0){this.get_currentContext().restore()}}}var ip=ib.get_lineAttributes();for(var iq=0;iq<ip.length;iq++){var ir=ip[iq];if(ir.get_lineState()!=='lineStateHighlighted'){continue}var it=ir.worldOffsets;var iu=it.length;for(var iv=0;iv<iu;iv++){var iw=it[iv];eF.$1w(this.get_currentContext(),iw);{for(var ix=0;ix<ir.marksNeedingDraw.length;ix++){var iy=ir.marksNeedingDraw[ix];if(e.c['l_neighbor'].gv(iy)!==-1||e.c['r_neighbor'].gv(iy)!==-1){this.$b(e,iy,'normalUnder',hW)}}}{for(var iz=0;iz<ir.marksNeedingDraw.length;iz++){var iA=ir.marksNeedingDraw[iz];this.$b(e,iA,'edgeUnder',hW);if(e.c['l_neighbor'].gv(iA)===-1&&e.c['r_neighbor'].gv(iA)===-1||e.shouldShowMarker(iA)){this.$b(e,iA,'blobUnder',hW)}}}if(iw!==0){this.get_currentContext().restore()}}}}break}case'normalOnPass':{if(hU||hV){hW='colorOverrideFog'}else{hW='colorOverrideNone'}var iB=ib.get_lineAttributes();for(var iC=0;iC<iB.length;iC++){var iD=iB[iC];if(iD.get_lineState()!=='lineStateNormal'){continue}var iE=iD.worldOffsets;var iF=iE.length;for(var iG=0;iG<iF;iG++){var iH=iE[iG];eF.$1w(this.get_currentContext(),iH);var iI=true;if(e.get_hasGlobalTransparency()){if(e.markType==='line'){iI=iD.endIndex-iD.startIndex>1}if(iI){var iJ=((!e.isWrappedDomain&&e.markType==='line')?iD.sloppyBoundingBox:null);this.beginOffScreenRender(iJ);e.forceOpaqueColors=true}}{for(var iK=0;iK<iD.marksNeedingDraw.length;iK++){var iL=iD.marksNeedingDraw[iK];if(e.c['l_neighbor'].gv(iL)!==-1||e.c['r_neighbor'].gv(iL)!==-1){this.$b(e,iL,'normalOn',hW)}else{this.$b(e,iL,'blobOn',hW)}}}{for(var iM=0;iM<iD.marksNeedingDraw.length;iM++){var iN=iD.marksNeedingDraw[iM];this.$b(e,iN,'edgeOn',hW)}}if(e.get_hasGlobalTransparency()){if(iI){e.forceOpaqueColors=false;this.endOffScreenRender(e.globalAlpha)}}{for(var iO=0;iO<iD.marksNeedingDraw.length;iO++){var iP=iD.marksNeedingDraw[iO];if(e.shouldShowMarker(iP)){this.$b(e,iP,'blobOn',hW)}}}if(iH!==0){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(hU||hV){hW='colorOverrideNone';var iQ=ib.get_lineAttributes();for(var iR=0;iR<iQ.length;iR++){var iS=iQ[iR];if(iS.get_lineState()!=='lineStateHighlighted'){continue}var iT=iS.worldOffsets;var iU=iT.length;for(var iV=0;iV<iU;iV++){var iW=iT[iV];eF.$1w(this.get_currentContext(),iW);var iX=true;if(e.get_hasGlobalTransparency()){if(e.markType==='line'){iX=iS.endIndex-iS.startIndex>1}if(iX){var iY=((!e.isWrappedDomain&&e.markType==='line')?iS.sloppyBoundingBox:null);this.beginOffScreenRender(iY);e.forceOpaqueColors=true}}{for(var iZ=0;iZ<iS.marksNeedingDraw.length;iZ++){var ja=iS.marksNeedingDraw[iZ];if(!(e.getMarkState(ja)==='markStateHighlighted')){hW='colorOverrideFog'}if(!(e.getMarkState(ja)==='markStateHighlighted'&&!iS.get_allHighlighted())){if(e.c['l_neighbor'].gv(ja)!==-1||e.c['r_neighbor'].gv(ja)!==-1){this.$b(e,ja,'normalOn',hW)}else{this.$b(e,ja,'blobOn',hW)}}hW='colorOverrideNone'}}{for(var jb=0;jb<iS.marksNeedingDraw.length;jb++){var jc=iS.marksNeedingDraw[jb];if(e.getMarkState(jc)!=='markStateHighlighted'||e.c['r_neighbor'].gv(jc)!==-1&&e.getMarkState(e.c['r_neighbor'].gv(jc))!=='markStateHighlighted'){hW='colorOverrideFog'}this.$b(e,jc,'edgeOn',hW);hW='colorOverrideNone'}}if(e.get_hasGlobalTransparency()){if(iX){e.forceOpaqueColors=false;this.endOffScreenRender(e.globalAlpha)}}{for(var jd=0;jd<iS.marksNeedingDraw.length;jd++){var je=iS.marksNeedingDraw[jd];if(!(e.getMarkState(je)==='markStateHighlighted')){hW='colorOverrideFog'}if(!(e.getMarkState(je)==='markStateHighlighted'&&!iS.get_allHighlighted())){if(e.shouldShowMarker(je)){this.$b(e,je,'blobOn',hW)}}hW='colorOverrideNone'}}{for(var jf=0;jf<iS.marksNeedingDraw.length;jf++){var jg=iS.marksNeedingDraw[jf];if(e.getMarkState(jg)==='markStateHighlighted'&&!iS.get_allHighlighted()){this.$b(e,jg,'highlightedUnder',hW)}}}{for(var jh=0;jh<iS.marksNeedingDraw.length;jh++){var ji=iS.marksNeedingDraw[jh];if(e.getMarkState(ji)==='markStateHighlighted'&&!iS.get_allHighlighted()){this.$b(e,ji,'highlightedOn',hW)}}}if(iW!==0){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{if(hU||hV){hW='colorOverrideNone';var jj=ib.get_lineAttributes();for(var jk=0;jk<jj.length;jk++){var jl=jj[jk];if(jl.get_lineState()!=='lineStateSelected'){continue}var jm=jl.worldOffsets;var jn=jm.length;for(var jo=0;jo<jn;jo++){var jp=jm[jo];eF.$1w(this.get_currentContext(),jp);{for(var jq=0;jq<jl.marksNeedingDraw.length;jq++){var jr=jl.marksNeedingDraw[jq];this.$b(e,jr,'selectedUnder1',hW);this.$b(e,jr,'selectedEdgeUnder',hW)}}if(jp!==0){this.get_currentContext().restore()}}}}break}case'selectedOnPass':{if(hU||hV){hW='colorOverrideOpaque';var js=ib.get_lineAttributes();for(var jt=0;jt<js.length;jt++){var ju=js[jt];if(ju.get_lineState()!=='lineStateSelected'){continue}var jv=ju.worldOffsets;var jw=jv.length;for(var jx=0;jx<jw;jx++){var jy=jv[jx];eF.$1w(this.get_currentContext(),jy);{for(var jz=0;jz<ju.marksNeedingDraw.length;jz++){var jA=ju.marksNeedingDraw[jz];if(e.c['l_neighbor'].gv(jA)!==-1||e.c['r_neighbor'].gv(jA)!==-1){this.$b(e,jA,'normalOn',hW)}else{this.$b(e,jA,'blobOn',hW)}}}{for(var jB=0;jB<ju.marksNeedingDraw.length;jB++){var jC=ju.marksNeedingDraw[jB];this.$b(e,jC,'edgeOn',hW)}}{for(var jD=0;jD<ju.marksNeedingDraw.length;jD++){var jE=ju.marksNeedingDraw[jD];if(e.shouldShowMarker(jE)){this.$b(e,jE,'blobOn',hW)}}}if(!ju.get_allHighlighted()){{for(var jF=0;jF<ju.marksNeedingDraw.length;jF++){var jG=ju.marksNeedingDraw[jF];if(e.getMarkState(jG)==='markStateHighlighted'){this.$b(e,jG,'highlightedUnder',hW)}}}{for(var jH=0;jH<ju.marksNeedingDraw.length;jH++){var jI=ju.marksNeedingDraw[jH];if(e.getMarkState(jI)==='markStateHighlighted'){this.$b(e,jI,'highlightedOn',hW)}}}}{for(var jJ=0;jJ<ju.marksNeedingDraw.length;jJ++){var jK=ju.marksNeedingDraw[jJ];if(e.getMarkState(jK)==='markStateSelected'){this.$b(e,jK,'selectedUnder',hW)}}}{for(var jL=0;jL<ju.marksNeedingDraw.length;jL++){var jM=ju.marksNeedingDraw[jL];if(e.getMarkState(jM)==='markStateSelected'){this.$b(e,jM,'highlightedOn',hW)}}}if(jy!==0){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},$b:function(e,L,hT,hU){var hV=e.c['l_neighbor'].gv(L);var hW=e.c['r_neighbor'].gv(L);switch(hT){case'normalUnder':{{bn.renderCircle(this.get_currentContext(),0+e.c['x'].gv(L),0+e.c['y'].gv(L),e.c['size'].gv(L),e.c['halo_color'].gv(L)[hU],4)}break}case'normalOn':{{{bn.renderFilledCircle(this.get_currentContext(),0+e.c['x'].gv(L),0+e.c['y'].gv(L),e.c['size'].gv(L),e.getMarkColors(L)[hU])}}break}case'blobUnder':{{bn.renderCircle(this.get_currentContext(),0+e.c['x'].gv(L),0+e.c['y'].gv(L),e.c['size'].gv(L)+3,e.c['halo_color'].gv(L)[hU],4)}break}case'blobOn':{{{bn.renderFilledCircle(this.get_currentContext(),0+e.c['x'].gv(L),0+e.c['y'].gv(L),e.c['size'].gv(L)+3,e.getMarkColors(L)[hU])}}break}case'highlightedUnder':{{bn.renderCircle(this.get_currentContext(),0+e.c['x'].gv(L),0+e.c['y'].gv(L),e.c['size'].gv(L)+4,e.c['selected_multi_prim_halo_color'].gv(L)[hU],4)}break}case'highlightedOn':{{{bn.renderFilledCircle(this.get_currentContext(),0+e.c['x'].gv(L),0+e.c['y'].gv(L),e.c['size'].gv(L)+4,e.getMarkColors(L)[hU])}}break}case'selectedUnder':{{bn.renderCircle(this.get_currentContext(),0+e.c['x'].gv(L),0+e.c['y'].gv(L),e.c['size'].gv(L)+4,e.c['selected_halo_color'].gv(L)[hU],4)}break}case'selectedUnder1':{var hX=hW!==-1;var hY=e.get_lineInterpolation();var hZ=e.get_lineMarkerPosition();{bn.renderCircle(this.get_currentContext(),0+e.c['x'].gv(L),0+e.c['y'].gv(L),e.c['size'].gv(L),e.c['selected_multi_prim_halo_color'].gv(L)[hU],4)}if(hX&&hZ==='lmp-left'&&(hY==='lim-step'||hY==='lim-jump')&&e.c['y'].gv(L)!==e.c['y'].gv(hW)){bn.renderCircle(this.get_currentContext(),e.c['x'].gv(hW)-e.c['x'].gv(L)+e.c['x'].gv(L),0+e.c['y'].gv(L),e.c['size'].gv(L),e.c['selected_multi_prim_halo_color'].gv(L)[hU],4)}if(hX&&hZ==='lmp-center'&&(hY==='lim-step'||hY==='lim-jump')){bn.renderCircle(this.get_currentContext(),(e.c['x'].gv(hW)-e.c['x'].gv(L))/2+e.c['x'].gv(L),0+e.c['y'].gv(L),e.c['size'].gv(L),e.c['selected_multi_prim_halo_color'].gv(L)[hU],4)}if(hX&&hZ==='lmp-center'&&(hY==='lim-step'||hY==='lim-jump')&&e.c['y'].gv(L)!==e.c['y'].gv(hW)){bn.renderCircle(this.get_currentContext(),(e.c['x'].gv(hW)-e.c['x'].gv(L))/2+e.c['x'].gv(L),e.c['y'].gv(hW)-e.c['y'].gv(L)+e.c['y'].gv(L),e.c['size'].gv(L),e.c['selected_multi_prim_halo_color'].gv(L)[hU],4)}if(hX&&hZ==='lmp-right'&&(hY==='lim-step'||hY==='lim-jump')&&e.c['y'].gv(L)!==e.c['y'].gv(hW)){bn.renderCircle(this.get_currentContext(),0+e.c['x'].gv(L),e.c['y'].gv(hW)-e.c['y'].gv(L)+e.c['y'].gv(L),e.c['size'].gv(L),e.c['selected_multi_prim_halo_color'].gv(L)[hU],4)}break}case'edgeUnder':{var ia=hW!==-1;var ib=e.get_lineInterpolation();var ic=e.get_lineMarkerPosition();if(ia&&ib==='lim-linear'){this.renderLineEdge(e.c['x'].gv(L),e.c['x'].gv(hW),e.c['y'].gv(L),e.c['y'].gv(hW),e.c['size'].gv(L),e.c['size'].gv(hW),e.c['halo_color'].gv(L)[hU],4)}if(ia&&ib==='lim-step'&&ic==='lmp-left'){this.renderLineEdge(e.c['x'].gv(L),e.c['x'].gv(hW),e.c['y'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L),e.c['size'].gv(hW),e.c['halo_color'].gv(L)[hU],4)}if(ia&&ib==='lim-step'&&ic==='lmp-left'){this.renderLineEdge(e.c['x'].gv(hW),e.c['x'].gv(hW),e.c['y'].gv(L),e.c['y'].gv(hW),e.c['size'].gv(L),e.c['size'].gv(hW),e.c['halo_color'].gv(L)[hU],4)}if(ia&&ib==='lim-step'&&ic==='lmp-center'){this.renderLineEdge(e.c['x'].gv(L),(e.c['x'].gv(L)+e.c['x'].gv(hW))/2,e.c['y'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L),e.c['size'].gv(hW),e.c['halo_color'].gv(L)[hU],4)}if(ia&&ib==='lim-step'&&ic==='lmp-center'){this.renderLineEdge((e.c['x'].gv(L)+e.c['x'].gv(hW))/2,(e.c['x'].gv(L)+e.c['x'].gv(hW))/2,e.c['y'].gv(L),e.c['y'].gv(hW),e.c['size'].gv(L),e.c['size'].gv(hW),e.c['halo_color'].gv(L)[hU],4)}if(ia&&ib==='lim-step'&&ic==='lmp-center'){this.renderLineEdge((e.c['x'].gv(L)+e.c['x'].gv(hW))/2,e.c['x'].gv(hW),e.c['y'].gv(hW),e.c['y'].gv(hW),e.c['size'].gv(L),e.c['size'].gv(hW),e.c['halo_color'].gv(L)[hU],4)}if(ia&&ib==='lim-step'&&ic==='lmp-right'){this.renderLineEdge(e.c['x'].gv(L),e.c['x'].gv(L),e.c['y'].gv(L),e.c['y'].gv(hW),e.c['size'].gv(L),e.c['size'].gv(hW),e.c['halo_color'].gv(L)[hU],4)}if(ia&&ib==='lim-step'&&ic==='lmp-right'){this.renderLineEdge(e.c['x'].gv(L),e.c['x'].gv(hW),e.c['y'].gv(hW),e.c['y'].gv(hW),e.c['size'].gv(L),e.c['size'].gv(hW),e.c['halo_color'].gv(L)[hU],4)}if(ia&&ib==='lim-jump'&&ic==='lmp-left'){this.renderLineEdge(e.c['x'].gv(L),e.c['x'].gv(hW),e.c['y'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L),e.c['size'].gv(hW),e.c['halo_color'].gv(L)[hU],4)}if(ia&&ib==='lim-jump'&&ic==='lmp-center'){this.renderLineEdge(e.c['x'].gv(L),(e.c['x'].gv(L)+e.c['x'].gv(hW))/2,e.c['y'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L),e.c['size'].gv(hW),e.c['halo_color'].gv(L)[hU],4)}if(ia&&ib==='lim-jump'&&ic==='lmp-center'){this.renderLineEdge((e.c['x'].gv(L)+e.c['x'].gv(hW))/2,e.c['x'].gv(hW),e.c['y'].gv(hW),e.c['y'].gv(hW),e.c['size'].gv(L),e.c['size'].gv(hW),e.c['halo_color'].gv(L)[hU],4)}if(ia&&ib==='lim-jump'&&ic==='lmp-right'){this.renderLineEdge(e.c['x'].gv(L),e.c['x'].gv(hW),e.c['y'].gv(hW),e.c['y'].gv(hW),e.c['size'].gv(L),e.c['size'].gv(hW),e.c['halo_color'].gv(L)[hU],4)}break}case'selectedEdgeUnder':{var id=hW!==-1;var ie=e.get_lineInterpolation();var ig=e.get_lineMarkerPosition();if(id&&ie==='lim-linear'){this.renderLineEdge(e.c['x'].gv(L),e.c['x'].gv(hW),e.c['y'].gv(L),e.c['y'].gv(hW),e.c['size'].gv(L),e.c['size'].gv(hW),e.c['selected_multi_prim_halo_color'].gv(L)[hU],4)}if(id&&ie==='lim-step'&&ig==='lmp-left'){this.renderLineEdge(e.c['x'].gv(L),e.c['x'].gv(hW),e.c['y'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L),e.c['size'].gv(hW),e.c['selected_multi_prim_halo_color'].gv(L)[hU],4)}if(id&&ie==='lim-step'&&ig==='lmp-left'){this.renderLineEdge(e.c['x'].gv(hW),e.c['x'].gv(hW),e.c['y'].gv(L),e.c['y'].gv(hW),e.c['size'].gv(L),e.c['size'].gv(hW),e.c['selected_multi_prim_halo_color'].gv(L)[hU],4)}if(id&&ie==='lim-step'&&ig==='lmp-center'){this.renderLineEdge(e.c['x'].gv(L),(e.c['x'].gv(L)+e.c['x'].gv(hW))/2,e.c['y'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L),e.c['size'].gv(hW),e.c['selected_multi_prim_halo_color'].gv(L)[hU],4)}if(id&&ie==='lim-step'&&ig==='lmp-center'){this.renderLineEdge((e.c['x'].gv(L)+e.c['x'].gv(hW))/2,(e.c['x'].gv(L)+e.c['x'].gv(hW))/2,e.c['y'].gv(L),e.c['y'].gv(hW),e.c['size'].gv(L),e.c['size'].gv(hW),e.c['selected_multi_prim_halo_color'].gv(L)[hU],4)}if(id&&ie==='lim-step'&&ig==='lmp-center'){this.renderLineEdge((e.c['x'].gv(L)+e.c['x'].gv(hW))/2,e.c['x'].gv(hW),e.c['y'].gv(hW),e.c['y'].gv(hW),e.c['size'].gv(L),e.c['size'].gv(hW),e.c['selected_multi_prim_halo_color'].gv(L)[hU],4)}if(id&&ie==='lim-step'&&ig==='lmp-right'){this.renderLineEdge(e.c['x'].gv(L),e.c['x'].gv(L),e.c['y'].gv(L),e.c['y'].gv(hW),e.c['size'].gv(L),e.c['size'].gv(hW),e.c['selected_multi_prim_halo_color'].gv(L)[hU],4)}if(id&&ie==='lim-step'&&ig==='lmp-right'){this.renderLineEdge(e.c['x'].gv(L),e.c['x'].gv(hW),e.c['y'].gv(hW),e.c['y'].gv(hW),e.c['size'].gv(L),e.c['size'].gv(hW),e.c['selected_multi_prim_halo_color'].gv(L)[hU],4)}if(id&&ie==='lim-jump'&&ig==='lmp-left'){this.renderLineEdge(e.c['x'].gv(L),e.c['x'].gv(hW),e.c['y'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L),e.c['size'].gv(hW),e.c['selected_multi_prim_halo_color'].gv(L)[hU],4)}if(id&&ie==='lim-jump'&&ig==='lmp-center'){this.renderLineEdge(e.c['x'].gv(L),(e.c['x'].gv(L)+e.c['x'].gv(hW))/2,e.c['y'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L),e.c['size'].gv(hW),e.c['selected_multi_prim_halo_color'].gv(L)[hU],4)}if(id&&ie==='lim-jump'&&ig==='lmp-center'){this.renderLineEdge((e.c['x'].gv(L)+e.c['x'].gv(hW))/2,e.c['x'].gv(hW),e.c['y'].gv(hW),e.c['y'].gv(hW),e.c['size'].gv(L),e.c['size'].gv(hW),e.c['selected_multi_prim_halo_color'].gv(L)[hU],4)}if(id&&ie==='lim-jump'&&ig==='lmp-right'){this.renderLineEdge(e.c['x'].gv(L),e.c['x'].gv(hW),e.c['y'].gv(hW),e.c['y'].gv(hW),e.c['size'].gv(L),e.c['size'].gv(hW),e.c['selected_multi_prim_halo_color'].gv(L)[hU],4)}break}case'edgeOn':{var ih=hW!==-1;var ii=e.get_lineInterpolation();var ij=e.get_lineMarkerPosition();if(ih&&ii==='lim-linear'){if(e.isLineSegmentVisible(L,hW)){var ik=hU;if(e.isLineSegmentFiltered(L,hW)){hU='colorOverrideFog'}this.renderFilledLineEdge(e.c['x'].gv(L),e.c['x'].gv(hW),e.c['y'].gv(L),e.c['y'].gv(hW),e.c['size'].gv(L),e.c['size'].gv(hW),e.getMarkColors(L)[hU],e.getMarkColors(hW)[hU])}}if(ih&&ii==='lim-step'&&ij==='lmp-left'){if(e.isLineSegmentVisible(L,hW)){var il=hU;if(e.isLineSegmentFiltered(L,hW)){hU='colorOverrideFog'}this.renderFilledLineEdge(e.c['x'].gv(L),e.c['x'].gv(hW),e.c['y'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L),e.c['size'].gv(L),e.getMarkColors(L)[hU],e.getMarkColors(L)[hU])}}if(ih&&ii==='lim-step'&&ij==='lmp-left'){if(e.isLineSegmentVisible(L,hW)){var im=hU;if(e.isLineSegmentFiltered(L,hW)){hU='colorOverrideFog'}this.renderFilledLineEdge(e.c['x'].gv(hW),e.c['x'].gv(hW),e.c['y'].gv(L),e.c['y'].gv(hW),e.c['size'].gv(L),e.c['size'].gv(hW),e.getMarkColors(L)[hU],e.getMarkColors(hW)[hU])}}if(ih&&ii==='lim-step'&&ij==='lmp-center'){if(e.isLineSegmentVisible(L,hW)){var io=hU;if(e.isLineSegmentFiltered(L,hW)){hU='colorOverrideFog'}this.renderFilledLineEdge(e.c['x'].gv(L),(e.c['x'].gv(L)+e.c['x'].gv(hW))/2,e.c['y'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L),e.c['size'].gv(L),e.getMarkColors(L)[hU],e.getMarkColors(L)[hU])}}if(ih&&ii==='lim-step'&&ij==='lmp-center'){if(e.isLineSegmentVisible(L,hW)){var ip=hU;if(e.isLineSegmentFiltered(L,hW)){hU='colorOverrideFog'}this.renderFilledLineEdge((e.c['x'].gv(L)+e.c['x'].gv(hW))/2,(e.c['x'].gv(L)+e.c['x'].gv(hW))/2,e.c['y'].gv(L),e.c['y'].gv(hW),e.c['size'].gv(L),e.c['size'].gv(hW),e.getMarkColors(L)[hU],e.getMarkColors(hW)[hU])}}if(ih&&ii==='lim-step'&&ij==='lmp-center'){if(e.isLineSegmentVisible(L,hW)){var iq=hU;if(e.isLineSegmentFiltered(L,hW)){hU='colorOverrideFog'}this.renderFilledLineEdge((e.c['x'].gv(L)+e.c['x'].gv(hW))/2,e.c['x'].gv(hW),e.c['y'].gv(hW),e.c['y'].gv(hW),e.c['size'].gv(hW),e.c['size'].gv(hW),e.getMarkColors(hW)[hU],e.getMarkColors(hW)[hU])}}if(ih&&ii==='lim-step'&&ij==='lmp-right'){if(e.isLineSegmentVisible(L,hW)){var ir=hU;if(e.isLineSegmentFiltered(L,hW)){hU='colorOverrideFog'}this.renderFilledLineEdge(e.c['x'].gv(L),e.c['x'].gv(L),e.c['y'].gv(L),e.c['y'].gv(hW),e.c['size'].gv(L),e.c['size'].gv(hW),e.getMarkColors(L)[hU],e.getMarkColors(hW)[hU])}}if(ih&&ii==='lim-step'&&ij==='lmp-right'){if(e.isLineSegmentVisible(L,hW)){var it=hU;if(e.isLineSegmentFiltered(L,hW)){hU='colorOverrideFog'}this.renderFilledLineEdge(e.c['x'].gv(L),e.c['x'].gv(hW),e.c['y'].gv(hW),e.c['y'].gv(hW),e.c['size'].gv(hW),e.c['size'].gv(hW),e.getMarkColors(hW)[hU],e.getMarkColors(hW)[hU])}}if(ih&&ii==='lim-jump'&&ij==='lmp-left'){if(e.isLineSegmentVisible(L,hW)){var iu=hU;if(e.isLineSegmentFiltered(L,hW)){hU='colorOverrideFog'}this.renderFilledLineEdge(e.c['x'].gv(L),e.c['x'].gv(hW),e.c['y'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L),e.c['size'].gv(L),e.getMarkColors(L)[hU],e.getMarkColors(L)[hU])}}if(ih&&ii==='lim-jump'&&ij==='lmp-center'){if(e.isLineSegmentVisible(L,hW)){var iv=hU;if(e.isLineSegmentFiltered(L,hW)){hU='colorOverrideFog'}this.renderFilledLineEdge(e.c['x'].gv(L),(e.c['x'].gv(L)+e.c['x'].gv(hW))/2,e.c['y'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L),e.c['size'].gv(L),e.getMarkColors(L)[hU],e.getMarkColors(L)[hU])}}if(ih&&ii==='lim-jump'&&ij==='lmp-center'){if(e.isLineSegmentVisible(L,hW)){var iw=hU;if(e.isLineSegmentFiltered(L,hW)){hU='colorOverrideFog'}this.renderFilledLineEdge((e.c['x'].gv(L)+e.c['x'].gv(hW))/2,e.c['x'].gv(hW),e.c['y'].gv(hW),e.c['y'].gv(hW),e.c['size'].gv(hW),e.c['size'].gv(hW),e.getMarkColors(hW)[hU],e.getMarkColors(hW)[hU])}}if(ih&&ii==='lim-jump'&&ij==='lmp-right'){if(e.isLineSegmentVisible(L,hW)){var ix=hU;if(e.isLineSegmentFiltered(L,hW)){hU='colorOverrideFog'}this.renderFilledLineEdge(e.c['x'].gv(L),e.c['x'].gv(hW),e.c['y'].gv(hW),e.c['y'].gv(hW),e.c['size'].gv(hW),e.c['size'].gv(hW),e.getMarkColors(hW)[hU],e.getMarkColors(hW)[hU])}}if(ih&&ij==='lmp-left'&&(ii==='lim-step'||ii==='lim-jump')&&e.c['y'].gv(L)!==e.c['y'].gv(hW)){bn.renderFilledCircle(this.get_currentContext(),e.c['x'].gv(hW)-e.c['x'].gv(L)+e.c['x'].gv(L),0+e.c['y'].gv(L),e.c['size'].gv(L),e.getMarkColors(L)[hU])}if(ih&&ij==='lmp-center'&&(ii==='lim-step'||ii==='lim-jump')){bn.renderFilledCircle(this.get_currentContext(),(e.c['x'].gv(hW)-e.c['x'].gv(L))/2+e.c['x'].gv(L),0+e.c['y'].gv(L),e.c['size'].gv(L),e.getMarkColors(L)[hU])}if(ih&&ij==='lmp-center'&&(ii==='lim-step'||ii==='lim-jump')&&e.c['y'].gv(L)!==e.c['y'].gv(hW)){bn.renderFilledCircle(this.get_currentContext(),(e.c['x'].gv(hW)-e.c['x'].gv(L))/2+e.c['x'].gv(L),e.c['y'].gv(hW)-e.c['y'].gv(L)+e.c['y'].gv(L),e.c['size'].gv(L),e.getMarkColors(L)[hU])}if(ih&&ij==='lmp-right'&&(ii==='lim-step'||ii==='lim-jump')&&e.c['y'].gv(L)!==e.c['y'].gv(hW)){bn.renderFilledCircle(this.get_currentContext(),0+e.c['x'].gv(L),e.c['y'].gv(hW)-e.c['y'].gv(L)+e.c['y'].gv(L),e.c['size'].gv(L),e.getMarkColors(L)[hU])}break}default:{break}}if(e.clipCase!==0){this.get_currentContext().restore()}},$N:function(e,L,hT){var hU=e.get_hasSelection();var hV=e.get_hasBrushing();var hW='colorOverrideNone';var hX=e.$9(L);var hY=hX.firstMark;var hZ=hX.lastMark;var ia=e.getUserPaneRectByIndex(L);switch(hT){case'normalUnderPass':{if(e.get_hasBackground()&&e.get_hasHalos()){if(hU||hV){hW='colorOverrideFog'}else{hW='colorOverrideNone'}{var ib=e.markWorldOffsets;var ic=_.keys(ib);for(var id=0;id<ic.length;id++){var ie=ic[id];var ig=ib[ie];eF.$1w(this.get_currentContext(),ie);for(var ih=hY;ih<=hZ;ih++){if(ig.has(ih)){continue}if(!e.markNeedsDraw(ih)){continue}if(e.getMarkState(ih)!=='markStateNormal'){continue}this.$h(e,ih,'normalUnder',hW)}if(!tab.DoubleUtil.isApproximatelyEqual(ie,0)){this.get_currentContext().restore()}}}if(hU||hV){hW='colorOverrideNone';{var ii=e.markWorldOffsets;var ij=_.keys(ii);for(var ik=0;ik<ij.length;ik++){var il=ij[ik];var im=ii[il];eF.$1w(this.get_currentContext(),il);for(var io=hY;io<=hZ;io++){if(im.has(io)){continue}if(!e.markNeedsDraw(io)){continue}if(e.getMarkState(io)!=='markStateHighlighted'){continue}this.$h(e,io,'normalUnder',hW)}if(!tab.DoubleUtil.isApproximatelyEqual(il,0)){this.get_currentContext().restore()}}}}}break}case'normalOnPass':{if(hU||hV){hW='colorOverrideFog'}else{hW='colorOverrideNone'}{var ip=e.markWorldOffsets;var iq=_.keys(ip);for(var ir=0;ir<iq.length;ir++){var it=iq[ir];var iu=ip[it];eF.$1w(this.get_currentContext(),it);for(var iv=hY;iv<=hZ;iv++){if(iu.has(iv)){continue}if(!e.markNeedsDraw(iv)){continue}if(e.getMarkState(iv)!=='markStateNormal'){continue}this.$h(e,iv,'normalOn',hW);if(e.drawBorder){this.$h(e,iv,'border',hW)}}if(!tab.DoubleUtil.isApproximatelyEqual(it,0)){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(hU||hV){hW='colorOverrideNone';{var iw=e.markWorldOffsets;var ix=_.keys(iw);for(var iy=0;iy<ix.length;iy++){var iz=ix[iy];var iA=iw[iz];eF.$1w(this.get_currentContext(),iz);for(var iB=hY;iB<=hZ;iB++){if(iA.has(iB)){continue}if(!e.markNeedsDraw(iB)){continue}if(e.getMarkState(iB)!=='markStateHighlighted'){continue}this.$h(e,iB,'normalOn',hW);if(e.drawBorder){this.$h(e,iB,'border',hW)}}if(!tab.DoubleUtil.isApproximatelyEqual(iz,0)){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{if(hU||hV){hW='colorOverrideOpaque';{var iC=e.markWorldOffsets;var iD=_.keys(iC);for(var iE=0;iE<iD.length;iE++){var iF=iD[iE];var iG=iC[iF];eF.$1w(this.get_currentContext(),iF);for(var iH=hY;iH<=hZ;iH++){if(iG.has(iH)){continue}if(!e.markNeedsDraw(iH)){continue}if(e.getMarkState(iH)!=='markStateSelected'){continue}this.$h(e,iH,'selectedUnder',hW)}if(!tab.DoubleUtil.isApproximatelyEqual(iF,0)){this.get_currentContext().restore()}}}}break}case'selectedOnPass':{if(hU||hV){hW='colorOverrideOpaque';{var iI=e.markWorldOffsets;var iJ=_.keys(iI);for(var iK=0;iK<iJ.length;iK++){var iL=iJ[iK];var iM=iI[iL];eF.$1w(this.get_currentContext(),iL);for(var iN=hY;iN<=hZ;iN++){if(iM.has(iN)){continue}if(!e.markNeedsDraw(iN)){continue}if(e.getMarkState(iN)!=='markStateSelected'){continue}this.$h(e,iN,'normalOn',hW);if(e.drawBorder){this.$h(e,iN,'border',hW)}}if(!tab.DoubleUtil.isApproximatelyEqual(iL,0)){this.get_currentContext().restore()}}}}break}}},$h:function(e,L,hT,hU){var hV=e.c['shape_id'].gv(L);if(!eF.$1x(hV,hT)){return}var hW=e.c['x'].gv(L);var hX=e.c['y'].gv(L);var hY=e.shouldStampThisShapeMark(L);if(!hY){this.$O(e,hW,hX,L,hT,hU,false);return}var hZ=e.c['size'].gv(L);var ia=bn.getShapeColorForLayer(e,L,hT,hU);var ib=eF.$l(hV,hT,hZ)+2;var ic=ib/2;var id=hX-ic;var ie=hW-ic;var ig=this.get_currentContext();var ih=tab.ShapeManager.getCacheKey(hV,hT,hU,ia,hZ);var ii=tab.ApplicationModel.get_instance().get_shapeManager().getCachedStampCanvas(ih);if(ss.isNullOrUndefined(ii)){var ij=function(){var ik=document.createElement('canvas');ik.width=ib;ik.height=ib;var il=new gx(ik.getContext('2d'));if(tab.FeatureParamsLookup.getBool(38)){il.set_shapeFillStyle('rgba(255, 0, 0, 0.12)');il.fillRect(0,0,ib,ib)}var im=new eF(ik,il);im.$O(e,ic,ic,L,hT,hU,true);return ik};ii=tab.ApplicationModel.get_instance().get_shapeManager().generateCachedStampCanvas(ih,ij)}if(ss.isValue(ii)){ig.drawImage3(ii,ie+0.5<<0,id+0.5<<0,ib,ib)}else{this.$O(e,hW,hX,L,hT,hU,false)}},$O:function(e,L,hT,hU,hV,hW,hX){var hY=e.clipCase!==0&&!hX;if(hY){this.get_currentContext().save();this.clipRect(e.clipCase,e.c['cell_x'].gv(hU),e.c['cell_y'].gv(hU),e.c['clip_width'].gv(hU),e.c['clip_height'].gv(hU))}var hZ=e.c['shape_id'].gv(hU);switch(hZ){case'shapeIDCircle':{this.$t(e,L,hT,hU,hV,hW);break}case'shapeIDFilledCircle':{this.$w(e,L,hT,hU,hV,hW);break}case'shapeIDUnscaledFilledCircle':{this.$M(e,L,hT,hU,hV,hW);break}case'shapeIDSquare':{this.$J(e,L,hT,hU,hV,hW);break}case'shapeIDFilledSquare':{this.$C(e,L,hT,hU,hV,hW);break}case'shapeIDAsterisk':{this.$s(e,L,hT,hU,hV,hW);break}case'shapeIDPlus':{this.$H(e,L,hT,hU,hV,hW);break}case'shapeIDFilledPlus':{this.$A(e,L,hT,hU,hV,hW);break}case'shapeIDTimes':{this.$K(e,L,hT,hU,hV,hW);break}case'shapeIDFilledTimes':{this.$E(e,L,hT,hU,hV,hW);break}case'shapeIDDiamond':{this.$u(e,L,hT,hU,hV,hW);break}case'shapeIDFilledDiamond':{this.$x(e,L,hT,hU,hV,hW);break}case'shapeIDTriangle':{this.$L(e,L,hT,hU,hV,hW);break}case'shapeIDFilledTriangle':{this.$F(e,L,hT,hU,hV,hW);break}case'shapeIDDownTriangle':{this.$v(e,L,hT,hU,hV,hW);break}case'shapeIDFilledDownTriangle':{this.$y(e,L,hT,hU,hV,hW);break}case'shapeIDLeftTriangle':{this.$G(e,L,hT,hU,hV,hW);break}case'shapeIDFilledLeftTriangle':{this.$z(e,L,hT,hU,hV,hW);break}case'shapeIDRightTriangle':{this.$I(e,L,hT,hU,hV,hW);break}case'shapeIDFilledRightTriangle':{this.$B(e,L,hT,hU,hV,hW);break}case'shapeIDFilledStar':{this.$D(e,L,hT,hU,hV,hW);break}default:{bn.renderCustomShape(this.get_currentContext(),e,hU,hV,hW);break}}if(hY){this.get_currentContext().restore()}},$t:function(e,L,hT,hU,hV,hW){switch(hV){case'normalUnder':{{bn.renderCircle(this.get_currentContext(),0+L,0+hT,e.c['size'].gv(hU)*0.958333333333333,e.c['halo_color'].gv(hU)[hW],4)}break}case'normalOn':{{bn.renderCircle(this.get_currentContext(),0+L,0+hT,e.c['size'].gv(hU)*0.958333333333333,e.getMarkColors(hU)[hW],2)}break}case'selectedUnder':{{bn.renderCircle(this.get_currentContext(),0+L,0+hT,e.c['size'].gv(hU)*0.958333333333333,e.c['selected_halo_color'].gv(hU)[hW],4)}break}default:{break}}},$w:function(e,L,hT,hU,hV,hW){switch(hV){case'normalUnder':{{bn.renderCircle(this.get_currentContext(),0+L,0+hT,e.c['size'].gv(hU)*0.979166666666667,e.c['halo_color'].gv(hU)[hW],4)}break}case'normalOn':{{{bn.renderFilledCircle(this.get_currentContext(),0+L,0+hT,e.c['size'].gv(hU)*0.979166666666667,e.getMarkColors(hU)[hW])}}break}case'selectedUnder':{{bn.renderCircle(this.get_currentContext(),0+L,0+hT,e.c['size'].gv(hU)*0.979166666666667,e.c['selected_halo_color'].gv(hU)[hW],4)}break}case'border':{{bn.renderCircle(this.get_currentContext(),0+L,0+hT,e.c['size'].gv(hU)*0.979166666666667,e.c['border_color'].gv(hU)[hW],1)}break}default:{break}}},$M:function(e,L,hT,hU,hV,hW){switch(hV){case'normalUnder':{{bn.renderCircle(this.get_currentContext(),0+L,0+hT,e.c['size'].gv(hU),e.c['halo_color'].gv(hU)[hW],4)}break}case'normalOn':{{{bn.renderFilledCircle(this.get_currentContext(),0+L,0+hT,e.c['size'].gv(hU),e.getMarkColors(hU)[hW])}}break}case'selectedUnder':{{bn.renderCircle(this.get_currentContext(),0+L,0+hT,e.c['size'].gv(hU),e.c['selected_halo_color'].gv(hU)[hW],4)}break}case'border':{{bn.renderCircle(this.get_currentContext(),0+L,0+hT,e.c['size'].gv(hU),e.c['border_color'].gv(hU)[hW],1)}break}default:{break}}},$J:function(e,L,hT,hU,hV,hW){switch(hV){case'normalUnder':{{bn.renderRectangle(this.get_currentContext(),L+0,hT+0,e.c['size'].gv(hU)*0.895833333333333,e.c['size'].gv(hU)*0.895833333333333,e.c['halo_color'].gv(hU)[hW],4)}break}case'normalOn':{{bn.renderRectangle(this.get_currentContext(),L+0,hT+0,e.c['size'].gv(hU)*0.895833333333333,e.c['size'].gv(hU)*0.895833333333333,e.getMarkColors(hU)[hW],2)}break}case'selectedUnder':{{bn.renderRectangle(this.get_currentContext(),L+0,hT+0,e.c['size'].gv(hU)*0.895833333333333,e.c['size'].gv(hU)*0.895833333333333,e.c['selected_halo_color'].gv(hU)[hW],4)}break}default:{break}}},$C:function(e,L,hT,hU,hV,hW){switch(hV){case'normalUnder':{{bn.renderRectangle(this.get_currentContext(),L+0,hT+0,e.c['size'].gv(hU)*0.9375,e.c['size'].gv(hU)*0.9375,e.c['halo_color'].gv(hU)[hW],4)}break}case'normalOn':{{this.renderFilledRectangle(L+0,hT+0,e.c['size'].gv(hU)*0.9375,e.c['size'].gv(hU)*0.9375,e.getMarkColors(hU)[hW])}break}case'selectedUnder':{{bn.renderRectangle(this.get_currentContext(),L+0,hT+0,e.c['size'].gv(hU)*0.9375,e.c['size'].gv(hU)*0.9375,e.c['selected_halo_color'].gv(hU)[hW],4)}break}case'border':{{bn.renderRectangle(this.get_currentContext(),L+0,hT+0,e.c['size'].gv(hU)*0.9375,e.c['size'].gv(hU)*0.9375,e.c['border_color'].gv(hU)[hW],1)}break}default:{break}}},$s:function(e,L,hT,hU,hV,hW){switch(hV){case'normalUnder':{var hX=e.c['size'].gv(hU)*0.958333333333333/2;var hY=0.899999976158142*hX;var hZ=e.c['size'].gv(hU)*0.958333333333333/4;{{this.get_currentContext().set_lineCap('square');var ia=L;var ib=hT;var ic=new Array(4);ic[0]=ia+0;ic[1]=ib+-hX;ic[2]=ia+0;ic[3]=ib+hX;this.renderLine(ic,4,e.c['halo_color'].gv(hU)[hW],true)}}{{this.get_currentContext().set_lineCap('square');var id=L;var ie=hT;var ig=new Array(4);ig[0]=id+-hY;ig[1]=ie+-hZ;ig[2]=id+hY;ig[3]=ie+hZ;this.renderLine(ig,4,e.c['halo_color'].gv(hU)[hW],true)}}{{this.get_currentContext().set_lineCap('square');var ih=L;var ii=hT;var ij=new Array(4);ij[0]=ih+hY;ij[1]=ii+-hZ;ij[2]=ih+-hY;ij[3]=ii+hZ;this.renderLine(ij,4,e.c['halo_color'].gv(hU)[hW],true)}}break}case'normalOn':{var ik=e.c['size'].gv(hU)*0.958333333333333/2;var il=0.899999976158142*ik;var im=e.c['size'].gv(hU)*0.958333333333333/4;{{this.get_currentContext().set_lineCap('square');var io=L;var ip=hT;var iq=new Array(4);iq[0]=io+0;iq[1]=ip+-ik;iq[2]=io+0;iq[3]=ip+ik;this.renderLine(iq,2,e.getMarkColors(hU)[hW],true)}}{{this.get_currentContext().set_lineCap('square');var ir=L;var it=hT;var iu=new Array(4);iu[0]=ir+-il;iu[1]=it+-im;iu[2]=ir+il;iu[3]=it+im;this.renderLine(iu,2,e.getMarkColors(hU)[hW],true)}}{{this.get_currentContext().set_lineCap('square');var iv=L;var iw=hT;var ix=new Array(4);ix[0]=iv+il;ix[1]=iw+-im;ix[2]=iv+-il;ix[3]=iw+im;this.renderLine(ix,2,e.getMarkColors(hU)[hW],true)}}break}case'selectedUnder':{var iy=e.c['size'].gv(hU)*0.958333333333333/2;var iz=0.899999976158142*iy;var iA=e.c['size'].gv(hU)*0.958333333333333/4;{{this.get_currentContext().set_lineCap('square');var iB=L;var iC=hT;var iD=new Array(4);iD[0]=iB+0;iD[1]=iC+-iy;iD[2]=iB+0;iD[3]=iC+iy;this.renderLine(iD,4,e.c['selected_halo_color'].gv(hU)[hW],true)}}{{this.get_currentContext().set_lineCap('square');var iE=L;var iF=hT;var iG=new Array(4);iG[0]=iE+-iz;iG[1]=iF+-iA;iG[2]=iE+iz;iG[3]=iF+iA;this.renderLine(iG,4,e.c['selected_halo_color'].gv(hU)[hW],true)}}{{this.get_currentContext().set_lineCap('square');var iH=L;var iI=hT;var iJ=new Array(4);iJ[0]=iH+iz;iJ[1]=iI+-iA;iJ[2]=iH+-iz;iJ[3]=iI+iA;this.renderLine(iJ,4,e.c['selected_halo_color'].gv(hU)[hW],true)}}break}default:{break}}},$H:function(e,L,hT,hU,hV,hW){switch(hV){case'normalUnder':{var hX=e.c['size'].gv(hU)*0.916666666666667/2;{{this.get_currentContext().set_lineCap('square');var hY=L;var hZ=hT;var ia=new Array(4);ia[0]=hY+0;ia[1]=hZ+-hX;ia[2]=hY+0;ia[3]=hZ+hX;this.renderLine(ia,4,e.c['halo_color'].gv(hU)[hW],true)}}{{this.get_currentContext().set_lineCap('square');var ib=L;var ic=hT;var id=new Array(4);id[0]=ib+-hX;id[1]=ic+0;id[2]=ib+hX;id[3]=ic+0;this.renderLine(id,4,e.c['halo_color'].gv(hU)[hW],true)}}break}case'normalOn':{var ie=e.c['size'].gv(hU)*0.916666666666667/2;{{this.get_currentContext().set_lineCap('square');var ig=L;var ih=hT;var ii=new Array(4);ii[0]=ig+0;ii[1]=ih+-ie;ii[2]=ig+0;ii[3]=ih+ie;this.renderLine(ii,2,e.getMarkColors(hU)[hW],true)}}{{this.get_currentContext().set_lineCap('square');var ij=L;var ik=hT;var il=new Array(4);il[0]=ij+-ie;il[1]=ik+0;il[2]=ij+ie;il[3]=ik+0;this.renderLine(il,2,e.getMarkColors(hU)[hW],true)}}break}case'selectedUnder':{var im=e.c['size'].gv(hU)*0.916666666666667/2;{{this.get_currentContext().set_lineCap('square');var io=L;var ip=hT;var iq=new Array(4);iq[0]=io+0;iq[1]=ip+-im;iq[2]=io+0;iq[3]=ip+im;this.renderLine(iq,4,e.c['selected_halo_color'].gv(hU)[hW],true)}}{{this.get_currentContext().set_lineCap('square');var ir=L;var it=hT;var iu=new Array(4);iu[0]=ir+-im;iu[1]=it+0;iu[2]=ir+im;iu[3]=it+0;this.renderLine(iu,4,e.c['selected_halo_color'].gv(hU)[hW],true)}}break}default:{break}}},$A:function(e,L,hT,hU,hV,hW){switch(hV){case'normalUnder':{var hX=e.c['size'].gv(hU)*0.9375/2;var hY=hX/3;{{var hZ=L;var ia=hT;var ib=new Array(24);ib[0]=hZ+-hY;ib[1]=ia+-hX;ib[2]=hZ+-hY;ib[3]=ia+-hY;ib[4]=hZ+-hX;ib[5]=ia+-hY;ib[6]=hZ+-hX;ib[7]=ia+hY;ib[8]=hZ+-hY;ib[9]=ia+hY;ib[10]=hZ+-hY;ib[11]=ia+hX;ib[12]=hZ+hY;ib[13]=ia+hX;ib[14]=hZ+hY;ib[15]=ia+hY;ib[16]=hZ+hX;ib[17]=ia+hY;ib[18]=hZ+hX;ib[19]=ia+-hY;ib[20]=hZ+hY;ib[21]=ia+-hY;ib[22]=hZ+hY;ib[23]=ia+-hX;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ib,4,e.c['halo_color'].gv(hU)[hW])}}break}case'normalOn':{var ic=e.c['size'].gv(hU)*0.9375/2;var id=ic/3;{{var ie=L;var ig=hT;var ih=new Array(24);ih[0]=ie+-id;ih[1]=ig+-ic;ih[2]=ie+-id;ih[3]=ig+-id;ih[4]=ie+-ic;ih[5]=ig+-id;ih[6]=ie+-ic;ih[7]=ig+id;ih[8]=ie+-id;ih[9]=ig+id;ih[10]=ie+-id;ih[11]=ig+ic;ih[12]=ie+id;ih[13]=ig+ic;ih[14]=ie+id;ih[15]=ig+id;ih[16]=ie+ic;ih[17]=ig+id;ih[18]=ie+ic;ih[19]=ig+-id;ih[20]=ie+id;ih[21]=ig+-id;ih[22]=ie+id;ih[23]=ig+-ic;this.renderFilledPolygon(ih,e.getMarkColors(hU)[hW])}}break}case'selectedUnder':{var ii=e.c['size'].gv(hU)*0.9375/2;var ij=ii/3;{{var ik=L;var il=hT;var im=new Array(24);im[0]=ik+-ij;im[1]=il+-ii;im[2]=ik+-ij;im[3]=il+-ij;im[4]=ik+-ii;im[5]=il+-ij;im[6]=ik+-ii;im[7]=il+ij;im[8]=ik+-ij;im[9]=il+ij;im[10]=ik+-ij;im[11]=il+ii;im[12]=ik+ij;im[13]=il+ii;im[14]=ik+ij;im[15]=il+ij;im[16]=ik+ii;im[17]=il+ij;im[18]=ik+ii;im[19]=il+-ij;im[20]=ik+ij;im[21]=il+-ij;im[22]=ik+ij;im[23]=il+-ii;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(im,4,e.c['selected_halo_color'].gv(hU)[hW])}}break}default:{break}}},$K:function(e,L,hT,hU,hV,hW){switch(hV){case'normalUnder':{var hX=e.c['size'].gv(hU)*0.875/2;{{this.get_currentContext().set_lineCap('square');var hY=L;var hZ=hT;var ia=new Array(4);ia[0]=hY+-hX;ia[1]=hZ+-hX;ia[2]=hY+hX;ia[3]=hZ+hX;this.renderLine(ia,4,e.c['halo_color'].gv(hU)[hW],true)}}{{this.get_currentContext().set_lineCap('square');var ib=L;var ic=hT;var id=new Array(4);id[0]=ib+-hX;id[1]=ic+hX;id[2]=ib+hX;id[3]=ic+-hX;this.renderLine(id,4,e.c['halo_color'].gv(hU)[hW],true)}}break}case'normalOn':{var ie=e.c['size'].gv(hU)*0.875/2;{{this.get_currentContext().set_lineCap('square');var ig=L;var ih=hT;var ii=new Array(4);ii[0]=ig+-ie;ii[1]=ih+-ie;ii[2]=ig+ie;ii[3]=ih+ie;this.renderLine(ii,2,e.getMarkColors(hU)[hW],true)}}{{this.get_currentContext().set_lineCap('square');var ij=L;var ik=hT;var il=new Array(4);il[0]=ij+-ie;il[1]=ik+ie;il[2]=ij+ie;il[3]=ik+-ie;this.renderLine(il,2,e.getMarkColors(hU)[hW],true)}}break}case'selectedUnder':{var im=e.c['size'].gv(hU)*0.875/2;{{this.get_currentContext().set_lineCap('square');var io=L;var ip=hT;var iq=new Array(4);iq[0]=io+-im;iq[1]=ip+-im;iq[2]=io+im;iq[3]=ip+im;this.renderLine(iq,4,e.c['selected_halo_color'].gv(hU)[hW],true)}}{{this.get_currentContext().set_lineCap('square');var ir=L;var it=hT;var iu=new Array(4);iu[0]=ir+-im;iu[1]=it+im;iu[2]=ir+im;iu[3]=it+-im;this.renderLine(iu,4,e.c['selected_halo_color'].gv(hU)[hW],true)}}break}default:{break}}},$E:function(e,L,hT,hU,hV,hW){switch(hV){case'normalUnder':{var hX=e.c['size'].gv(hU)*0.9375/2;var hY=e.c['size'].gv(hU)*0.9375/4;{{var hZ=L;var ia=hT;var ib=new Array(24);ib[0]=hZ+-hY;ib[1]=ia+-hX;ib[2]=hZ+-hX;ib[3]=ia+-hY;ib[4]=hZ+-hY;ib[5]=ia+0;ib[6]=hZ+-hX;ib[7]=ia+hY;ib[8]=hZ+-hY;ib[9]=ia+hX;ib[10]=hZ+0;ib[11]=ia+hY;ib[12]=hZ+hY;ib[13]=ia+hX;ib[14]=hZ+hX;ib[15]=ia+hY;ib[16]=hZ+hY;ib[17]=ia+0;ib[18]=hZ+hX;ib[19]=ia+-hY;ib[20]=hZ+hY;ib[21]=ia+-hX;ib[22]=hZ+0;ib[23]=ia+-hY;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ib,4,e.c['halo_color'].gv(hU)[hW])}}break}case'normalOn':{var ic=e.c['size'].gv(hU)*0.9375/2;var id=e.c['size'].gv(hU)*0.9375/4;{{var ie=L;var ig=hT;var ih=new Array(24);ih[0]=ie+-id;ih[1]=ig+-ic;ih[2]=ie+-ic;ih[3]=ig+-id;ih[4]=ie+-id;ih[5]=ig+0;ih[6]=ie+-ic;ih[7]=ig+id;ih[8]=ie+-id;ih[9]=ig+ic;ih[10]=ie+0;ih[11]=ig+id;ih[12]=ie+id;ih[13]=ig+ic;ih[14]=ie+ic;ih[15]=ig+id;ih[16]=ie+id;ih[17]=ig+0;ih[18]=ie+ic;ih[19]=ig+-id;ih[20]=ie+id;ih[21]=ig+-ic;ih[22]=ie+0;ih[23]=ig+-id;this.renderFilledPolygon(ih,e.getMarkColors(hU)[hW])}}break}case'selectedUnder':{var ii=e.c['size'].gv(hU)*0.9375/2;var ij=e.c['size'].gv(hU)*0.9375/4;{{var ik=L;var il=hT;var im=new Array(24);im[0]=ik+-ij;im[1]=il+-ii;im[2]=ik+-ii;im[3]=il+-ij;im[4]=ik+-ij;im[5]=il+0;im[6]=ik+-ii;im[7]=il+ij;im[8]=ik+-ij;im[9]=il+ii;im[10]=ik+0;im[11]=il+ij;im[12]=ik+ij;im[13]=il+ii;im[14]=ik+ii;im[15]=il+ij;im[16]=ik+ij;im[17]=il+0;im[18]=ik+ii;im[19]=il+-ij;im[20]=ik+ij;im[21]=il+-ii;im[22]=ik+0;im[23]=il+-ij;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(im,4,e.c['selected_halo_color'].gv(hU)[hW])}}break}default:{break}}},$u:function(e,L,hT,hU,hV,hW){switch(hV){case'normalUnder':{var hX=e.c['size'].gv(hU)*1.04166666666667/2;{{var hY=L;var hZ=hT;var ia=new Array(8);ia[0]=hY+0;ia[1]=hZ+-hX;ia[2]=hY+-hX;ia[3]=hZ+0;ia[4]=hY+0;ia[5]=hZ+hX;ia[6]=hY+hX;ia[7]=hZ+0;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ia,4,e.c['halo_color'].gv(hU)[hW])}}break}case'normalOn':{var ib=e.c['size'].gv(hU)*1.04166666666667/2;{{var ic=L;var id=hT;var ie=new Array(8);ie[0]=ic+0;ie[1]=id+-ib;ie[2]=ic+-ib;ie[3]=id+0;ie[4]=ic+0;ie[5]=id+ib;ie[6]=ic+ib;ie[7]=id+0;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ie,2,e.getMarkColors(hU)[hW])}}break}case'selectedUnder':{var ig=e.c['size'].gv(hU)*1.04166666666667/2;{{var ih=L;var ii=hT;var ij=new Array(8);ij[0]=ih+0;ij[1]=ii+-ig;ij[2]=ih+-ig;ij[3]=ii+0;ij[4]=ih+0;ij[5]=ii+ig;ij[6]=ih+ig;ij[7]=ii+0;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ij,4,e.c['selected_halo_color'].gv(hU)[hW])}}break}default:{break}}},$x:function(e,L,hT,hU,hV,hW){switch(hV){case'normalUnder':{var hX=e.c['size'].gv(hU)*1.04166666666667/2;{{var hY=L;var hZ=hT;var ia=new Array(8);ia[0]=hY+0;ia[1]=hZ+-hX;ia[2]=hY+-hX;ia[3]=hZ+0;ia[4]=hY+0;ia[5]=hZ+hX;ia[6]=hY+hX;ia[7]=hZ+0;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ia,4,e.c['halo_color'].gv(hU)[hW])}}break}case'normalOn':{var ib=e.c['size'].gv(hU)*1.04166666666667/2;{{var ic=L;var id=hT;var ie=new Array(8);ie[0]=ic+0;ie[1]=id+-ib;ie[2]=ic+-ib;ie[3]=id+0;ie[4]=ic+0;ie[5]=id+ib;ie[6]=ic+ib;ie[7]=id+0;this.renderFilledPolygon(ie,e.getMarkColors(hU)[hW])}}break}case'selectedUnder':{var ig=e.c['size'].gv(hU)*1.04166666666667/2;{{var ih=L;var ii=hT;var ij=new Array(8);ij[0]=ih+0;ij[1]=ii+-ig;ij[2]=ih+-ig;ij[3]=ii+0;ij[4]=ih+0;ij[5]=ii+ig;ij[6]=ih+ig;ij[7]=ii+0;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ij,4,e.c['selected_halo_color'].gv(hU)[hW])}}break}default:{break}}},$L:function(e,L,hT,hU,hV,hW){switch(hV){case'normalUnder':{var hX=e.c['size'].gv(hU)*0.895833333333333/2;{{var hY=L;var hZ=hT;var ia=new Array(6);ia[0]=hY+0;ia[1]=hZ+-hX;ia[2]=hY+-hX;ia[3]=hZ+hX;ia[4]=hY+hX;ia[5]=hZ+hX;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ia,4,e.c['halo_color'].gv(hU)[hW])}}break}case'normalOn':{var ib=e.c['size'].gv(hU)*0.895833333333333/2;{{var ic=L;var id=hT;var ie=new Array(6);ie[0]=ic+0;ie[1]=id+-ib;ie[2]=ic+-ib;ie[3]=id+ib;ie[4]=ic+ib;ie[5]=id+ib;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ie,2,e.getMarkColors(hU)[hW])}}break}case'selectedUnder':{var ig=e.c['size'].gv(hU)*0.895833333333333/2;{{var ih=L;var ii=hT;var ij=new Array(6);ij[0]=ih+0;ij[1]=ii+-ig;ij[2]=ih+-ig;ij[3]=ii+ig;ij[4]=ih+ig;ij[5]=ii+ig;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ij,4,e.c['selected_halo_color'].gv(hU)[hW])}}break}default:{break}}},$F:function(e,L,hT,hU,hV,hW){switch(hV){case'normalUnder':{var hX=e.c['size'].gv(hU)*0.916666666666667/2;{{var hY=L;var hZ=hT;var ia=new Array(6);ia[0]=hY+0;ia[1]=hZ+-hX;ia[2]=hY+-hX;ia[3]=hZ+hX;ia[4]=hY+hX;ia[5]=hZ+hX;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ia,4,e.c['halo_color'].gv(hU)[hW])}}break}case'normalOn':{var ib=e.c['size'].gv(hU)*0.916666666666667/2;{{var ic=L;var id=hT;var ie=new Array(6);ie[0]=ic+0;ie[1]=id+-ib;ie[2]=ic+-ib;ie[3]=id+ib;ie[4]=ic+ib;ie[5]=id+ib;this.renderFilledPolygon(ie,e.getMarkColors(hU)[hW])}}break}case'selectedUnder':{var ig=e.c['size'].gv(hU)*0.916666666666667/2;{{var ih=L;var ii=hT;var ij=new Array(6);ij[0]=ih+0;ij[1]=ii+-ig;ij[2]=ih+-ig;ij[3]=ii+ig;ij[4]=ih+ig;ij[5]=ii+ig;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ij,4,e.c['selected_halo_color'].gv(hU)[hW])}}break}default:{break}}},$v:function(e,L,hT,hU,hV,hW){switch(hV){case'normalUnder':{var hX=e.c['size'].gv(hU)*0.895833333333333/2;{{var hY=L;var hZ=hT;var ia=new Array(6);ia[0]=hY+0;ia[1]=hZ+hX;ia[2]=hY+-hX;ia[3]=hZ+-hX;ia[4]=hY+hX;ia[5]=hZ+-hX;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ia,4,e.c['halo_color'].gv(hU)[hW])}}break}case'normalOn':{var ib=e.c['size'].gv(hU)*0.895833333333333/2;{{var ic=L;var id=hT;var ie=new Array(6);ie[0]=ic+0;ie[1]=id+ib;ie[2]=ic+-ib;ie[3]=id+-ib;ie[4]=ic+ib;ie[5]=id+-ib;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ie,2,e.getMarkColors(hU)[hW])}}break}case'selectedUnder':{var ig=e.c['size'].gv(hU)*0.895833333333333/2;{{var ih=L;var ii=hT;var ij=new Array(6);ij[0]=ih+0;ij[1]=ii+ig;ij[2]=ih+-ig;ij[3]=ii+-ig;ij[4]=ih+ig;ij[5]=ii+-ig;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ij,4,e.c['selected_halo_color'].gv(hU)[hW])}}break}default:{break}}},$y:function(e,L,hT,hU,hV,hW){switch(hV){case'normalUnder':{var hX=e.c['size'].gv(hU)*0.916666666666667/2;{{var hY=L;var hZ=hT;var ia=new Array(6);ia[0]=hY+0;ia[1]=hZ+hX;ia[2]=hY+-hX;ia[3]=hZ+-hX;ia[4]=hY+hX;ia[5]=hZ+-hX;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ia,4,e.c['halo_color'].gv(hU)[hW])}}break}case'normalOn':{var ib=e.c['size'].gv(hU)*0.916666666666667/2;{{var ic=L;var id=hT;var ie=new Array(6);ie[0]=ic+0;ie[1]=id+ib;ie[2]=ic+-ib;ie[3]=id+-ib;ie[4]=ic+ib;ie[5]=id+-ib;this.renderFilledPolygon(ie,e.getMarkColors(hU)[hW])}}break}case'selectedUnder':{var ig=e.c['size'].gv(hU)*0.916666666666667/2;{{var ih=L;var ii=hT;var ij=new Array(6);ij[0]=ih+0;ij[1]=ii+e.c['size'].gv(hU)*0.916666666666667/2;ij[2]=ih+-ig;ij[3]=ii+-ig;ij[4]=ih+ig;ij[5]=ii+-ig;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ij,4,e.c['selected_halo_color'].gv(hU)[hW])}}break}default:{break}}},$G:function(e,L,hT,hU,hV,hW){switch(hV){case'normalUnder':{var hX=e.c['size'].gv(hU)*0.895833333333333/2;{{var hY=L;var hZ=hT;var ia=new Array(6);ia[0]=hY+-hX;ia[1]=hZ+0;ia[2]=hY+hX;ia[3]=hZ+-hX;ia[4]=hY+hX;ia[5]=hZ+hX;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ia,4,e.c['halo_color'].gv(hU)[hW])}}break}case'normalOn':{var ib=e.c['size'].gv(hU)*0.895833333333333/2;{{var ic=L;var id=hT;var ie=new Array(6);ie[0]=ic+-ib;ie[1]=id+0;ie[2]=ic+ib;ie[3]=id+-ib;ie[4]=ic+ib;ie[5]=id+ib;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ie,2,e.getMarkColors(hU)[hW])}}break}case'selectedUnder':{var ig=e.c['size'].gv(hU)*0.895833333333333/2;{{var ih=L;var ii=hT;var ij=new Array(6);ij[0]=ih+-ig;ij[1]=ii+0;ij[2]=ih+ig;ij[3]=ii+-ig;ij[4]=ih+ig;ij[5]=ii+ig;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ij,4,e.c['selected_halo_color'].gv(hU)[hW])}}break}default:{break}}},$z:function(e,L,hT,hU,hV,hW){switch(hV){case'normalUnder':{var hX=e.c['size'].gv(hU)*0.916666666666667/2;{{var hY=L;var hZ=hT;var ia=new Array(6);ia[0]=hY+-hX;ia[1]=hZ+0;ia[2]=hY+hX;ia[3]=hZ+-hX;ia[4]=hY+hX;ia[5]=hZ+hX;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ia,4,e.c['halo_color'].gv(hU)[hW])}}break}case'normalOn':{var ib=e.c['size'].gv(hU)*0.916666666666667/2;{{var ic=L;var id=hT;var ie=new Array(6);ie[0]=ic+-ib;ie[1]=id+0;ie[2]=ic+ib;ie[3]=id+-ib;ie[4]=ic+ib;ie[5]=id+ib;this.renderFilledPolygon(ie,e.getMarkColors(hU)[hW])}}break}case'selectedUnder':{var ig=e.c['size'].gv(hU)*0.916666666666667/2;{{var ih=L;var ii=hT;var ij=new Array(6);ij[0]=ih+-ig;ij[1]=ii+0;ij[2]=ih+ig;ij[3]=ii+-ig;ij[4]=ih+ig;ij[5]=ii+ig;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ij,4,e.c['selected_halo_color'].gv(hU)[hW])}}break}default:{break}}},$I:function(e,L,hT,hU,hV,hW){switch(hV){case'normalUnder':{var hX=e.c['size'].gv(hU)*0.895833333333333/2;{{var hY=L;var hZ=hT;var ia=new Array(6);ia[0]=hY+-hX;ia[1]=hZ+-hX;ia[2]=hY+-hX;ia[3]=hZ+hX;ia[4]=hY+hX;ia[5]=hZ+0;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ia,4,e.c['halo_color'].gv(hU)[hW])}}break}case'normalOn':{var ib=e.c['size'].gv(hU)*0.895833333333333/2;{{var ic=L;var id=hT;var ie=new Array(6);ie[0]=ic+-ib;ie[1]=id+-ib;ie[2]=ic+-ib;ie[3]=id+ib;ie[4]=ic+ib;ie[5]=id+0;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ie,2,e.getMarkColors(hU)[hW])}}break}case'selectedUnder':{var ig=e.c['size'].gv(hU)*0.895833333333333/2;{{var ih=L;var ii=hT;var ij=new Array(6);ij[0]=ih+-ig;ij[1]=ii+-ig;ij[2]=ih+-ig;ij[3]=ii+ig;ij[4]=ih+ig;ij[5]=ii+0;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ij,4,e.c['selected_halo_color'].gv(hU)[hW])}}break}default:{break}}},$B:function(e,L,hT,hU,hV,hW){switch(hV){case'normalUnder':{var hX=e.c['size'].gv(hU)*0.916666666666667/2;{{var hY=L;var hZ=hT;var ia=new Array(6);ia[0]=hY+-hX;ia[1]=hZ+-hX;ia[2]=hY+-hX;ia[3]=hZ+hX;ia[4]=hY+hX;ia[5]=hZ+0;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ia,4,e.c['halo_color'].gv(hU)[hW])}}break}case'normalOn':{var ib=e.c['size'].gv(hU)*0.916666666666667/2;{{var ic=L;var id=hT;var ie=new Array(6);ie[0]=ic+-ib;ie[1]=id+-ib;ie[2]=ic+-ib;ie[3]=id+ib;ie[4]=ic+ib;ie[5]=id+0;this.renderFilledPolygon(ie,e.getMarkColors(hU)[hW])}}break}case'selectedUnder':{var ig=e.c['size'].gv(hU)*0.916666666666667/2;{{var ih=L;var ii=hT;var ij=new Array(6);ij[0]=ih+-ig;ij[1]=ii+-ig;ij[2]=ih+-ig;ij[3]=ii+ig;ij[4]=ih+ig;ij[5]=ii+0;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ij,4,e.c['selected_halo_color'].gv(hU)[hW])}}break}default:{break}}},$D:function(e,L,hT,hU,hV,hW){switch(hV){case'normalUnder':{var hX=e.c['size'].gv(hU)*1.09166666666667;var hY=hX/2;var hZ=hX*0.3877;{{var ia=L;var ib=hT;var ic=new Array(20);ic[0]=ia+0;ic[1]=ib+(-hY+hX*0.0246);ic[2]=ia+(-hY+hX*0.3817);ic[3]=ib+(-hY+hZ);ic[4]=ia+-hY;ic[5]=ib+(-hY+hZ);ic[6]=ia+(-hY+hX*0.3088);ic[7]=ib+(-hY+hX*0.612);ic[8]=ia+(-hY+hX*0.1909);ic[9]=ib+(-hY+hX*0.9751);ic[10]=ia+0;ic[11]=ib+(-hY+hX*0.7507);ic[12]=ia+(-hY+hX*0.8085);ic[13]=ib+(-hY+hX*0.9751);ic[14]=ia+(-hY+hX*0.6905);ic[15]=ib+(-hY+hX*0.612);ic[16]=ia+hY;ic[17]=ib+(-hY+hZ);ic[18]=ia+(-hY+hX*0.6176);ic[19]=ib+(-hY+hZ);this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ic,4,e.c['halo_color'].gv(hU)[hW])}}break}case'normalOn':{var id=e.c['size'].gv(hU)*1.09166666666667;var ie=id/2;var ig=id*0.3877;{{var ih=L;var ii=hT;var ij=new Array(20);ij[0]=ih+0;ij[1]=ii+(-ie+id*0.0246);ij[2]=ih+(-ie+id*0.3817);ij[3]=ii+(-ie+ig);ij[4]=ih+-ie;ij[5]=ii+(-ie+ig);ij[6]=ih+(-ie+id*0.3088);ij[7]=ii+(-ie+id*0.612);ij[8]=ih+(-ie+id*0.1909);ij[9]=ii+(-ie+id*0.9751);ij[10]=ih+0;ij[11]=ii+(-ie+id*0.7507);ij[12]=ih+(-ie+id*0.8085);ij[13]=ii+(-ie+id*0.9751);ij[14]=ih+(-ie+id*0.6905);ij[15]=ii+(-ie+id*0.612);ij[16]=ih+ie;ij[17]=ii+(-ie+ig);ij[18]=ih+(-ie+id*0.6176);ij[19]=ii+(-ie+ig);this.renderFilledPolygon(ij,e.getMarkColors(hU)[hW])}}break}case'selectedUnder':{var ik=e.c['size'].gv(hU)*1.09166666666667;var il=ik/2;var im=ik*0.3877;{{var io=L;var ip=hT;var iq=new Array(20);iq[0]=io+0;iq[1]=ip+(-il+ik*0.0246);iq[2]=io+(-il+ik*0.3817);iq[3]=ip+(-il+im);iq[4]=io+-il;iq[5]=ip+(-il+im);iq[6]=io+(-il+ik*0.3088);iq[7]=ip+(-il+ik*0.612);iq[8]=io+(-il+ik*0.1909);iq[9]=ip+(-il+ik*0.9751);iq[10]=io+0;iq[11]=ip+(-il+ik*0.7507);iq[12]=io+(-il+ik*0.8085);iq[13]=ip+(-il+ik*0.9751);iq[14]=io+(-il+ik*0.6905);iq[15]=ip+(-il+ik*0.612);iq[16]=io+il;iq[17]=ip+(-il+im);iq[18]=io+(-il+ik*0.6176);iq[19]=ip+(-il+im);this.get_currentContext().set_lineJoin('miter');this.renderPolygon(iq,4,e.c['selected_halo_color'].gv(hU)[hW])}}break}default:{break}}},$f:function(e,L,hT,hU,hV,hW){switch(hT){case'normalUnder':{var hX=hV.CPZ;if(e.isTupleVisible(hV.nSc[L])){if((L===0||!e.isTupleVisible(hV.nSc[L-1]))&&(L+1>=hV._cx.length||!e.isTupleVisible(hV.nSc[L+1]))){var hY=ss.Int32.div(hV.Rdg[L],2)+2.5;if(hV.UvQ){var hZ=e.thisDomainToPixelY(hV._cx[L]);var ia=e.thisDomainToPixelY(hV.mQE[L]);var ib=e.thisDomainToPixelX(hV.mju[L]);{var ic=[ib-hY,hZ,ib-hY,ia,ib+hY,ia,ib+hY,hZ];this.renderFilledPolygon(ic,e.getOneColorAlpha(hX,hU,hW))}}else{var id=e.thisDomainToPixelX(hV._cx[L]);var ie=e.thisDomainToPixelX(hV.mQE[L]);var ig=e.thisDomainToPixelY(hV.mju[L]);{var ih=[id,ig-hY,ie,ig-hY,ie,ig+hY,id,ig+hY];this.renderFilledPolygon(ih,e.getOneColorAlpha(hX,hU,hW))}}}else if(L+1<hV.nSc.length&&e.isTupleVisible(hV.nSc[L+1])){if(hV.UvQ){var ii=e.thisDomainToPixelY(hV._cx[L]);var ij=e.thisDomainToPixelY(hV.mQE[L]);var ik=e.thisDomainToPixelY(hV._cx[L+1]);var il=e.thisDomainToPixelY(hV.mQE[L+1]);var im=e.thisDomainToPixelX(hV.mju[L]);var io=e.thisDomainToPixelX(hV.mju[L+1]);{var ip=[im,ij,io,il,io,ik,im,ii];this.renderFilledPolygon(ip,e.getOneColorAlpha(hX,hU,hW))}}else{var iq=e.thisDomainToPixelX(hV._cx[L]);var ir=e.thisDomainToPixelX(hV.mQE[L]);var it=e.thisDomainToPixelX(hV._cx[L+1]);var iu=e.thisDomainToPixelX(hV.mQE[L+1]);var iv=e.thisDomainToPixelY(hV.mju[L]);var iw=e.thisDomainToPixelY(hV.mju[L+1]);{var ix=[ir,iv,iu,iw,it,iw,iq,iv];this.renderFilledPolygon(ix,e.getOneColorAlpha(hX,hU,hW))}}}}break}}},$q:function(e,L,hT,hU){var hV='colorOverrideNone';var hW=255;var hX=hT;var hY=0;var hZ=1;var ia=2;var ib=hY;for(var ic=0;ic<hX.CJr.length;ic++){var id=hX.CJr[ic];if(e.isTupleSelected(id)){ib=ia;break}if(ib!==hZ&&e.isTupleHighlighted(id)){ib=hZ}}if(ib!==ia){for(var ie=0;ie<hX.nSc.length;ie++){var ig=hX.nSc[ie];if(e.isTupleSelected(ig)){ib=ia;break}if(ib!==hZ&&e.isTupleHighlighted(ig)){ib=hZ}}}switch(L){case'normalUnderPass':{if(ib===hY&&hU==='background'){if(e.get_hasSelection()||e.get_hasBrushing()){hV='colorOverrideFog'}else{hV='colorOverrideNone'}var ih=hX.nSc.length;for(var ii=0;ii<ih;ii++){this.$f(e,ii,'normalUnder',hV,hX,hW)}}break}case'highlightedUnderPass':{if(ib===hZ&&hU==='background'){var ij=hX.nSc.length;for(var ik=0;ik<ij;ik++){if(e.isTupleHighlighted(hX.nSc[ik])&&((ik===0||!e.isTupleVisible(hX.nSc[ik-1]))&&(ik+1>=hX._cx.length||!e.isTupleVisible(hX.nSc[ik+1]))||ik+1<hX.nSc.length&&e.isTupleVisible(hX.nSc[ik+1])&&e.isTupleHighlighted(hX.nSc[ik+1]))){hV='colorOverrideNone'}else{hV='colorOverrideFog'}this.$f(e,ik,'normalUnder',hV,hX,hW)}}break}case'selectedUnderPass':{if(ib===ia&&hU==='background'){hV='colorOverrideReplaceAlpha';hW=76.5;var il=hX.nSc.length;for(var im=0;im<il;im++){this.$f(e,im,'normalUnder',hV,hX,hW)}}break}}},$g:function(e,L,hT,hU,hV,hW){switch(hT){case'border':{if(e.isTupleVisible(hV.nSc[L])){var hX=ss.Int32.div(hV.Rdg[L]-1,2);if(hV.UvQ){var hY=ss.Int32.trunc(e.thisDomainToPixelX(hV.mju[L]));var hZ=ss.Int32.trunc(e.thisDomainToPixelY(hV._cx[L]));var ia=ss.Int32.trunc(e.thisDomainToPixelY(hV.mQE[L]));var ib=hZ-0.5;var ic=ia+1.5;var id=hY-0.5-hX;var ie=hY+1.5+hX;var ig=hZ+1.5;var ih=ia-0.5;var ii=hY-0.5;var ij=hY+1.5;{var ik=[id,ib,ie,ib,ie,ig,ij,ig,ij,ih,ie,ih,ie,ic,id,ic,id,ih,ii,ih,ii,ig,id,ig];this.renderLineLoop(ik,1,e.getOneColorAlpha(hV.CPZ,hU,hW))}}else{var il=ss.Int32.trunc(e.thisDomainToPixelY(hV.mju[L]));var im=ss.Int32.trunc(e.thisDomainToPixelX(hV.mQE[L]));var io=ss.Int32.trunc(e.thisDomainToPixelX(hV._cx[L]));var ip=il-0.5-hX;var iq=il+1.5+hX;var ir=im-0.5;var it=io+1.5;var iu=il-0.5;var iv=il+1.5;var iw=im+1.5;var ix=io-0.5;{var iy=[ir,ip,iw,ip,iw,iu,ix,iu,ix,ip,it,ip,it,iq,ix,iq,ix,iv,iw,iv,iw,iq,ir,iq];this.renderLineLoop(iy,1,e.getOneColorAlpha(hV.CPZ,hU,hW))}}}break}case'normalUnder':{if(e.isTupleVisible(hV.nSc[L])){var iz=ss.Int32.div(hV.Rdg[L]-1,2);var iA=hV.NbC[L];if(hV.UvQ){var iB=ss.Int32.trunc(e.thisDomainToPixelX(hV.mju[L]));var iC=ss.Int32.trunc(e.thisDomainToPixelY(hV._cx[L]));var iD=ss.Int32.trunc(e.thisDomainToPixelY(hV.mQE[L]));{var iE=[iB-iz,iC+0.5,iB+iz+1,iC+0.5];this.renderLine(iE,1,e.getOneColorAlpha(iA,hU,hW),false)}{var iF=[iB-iz,iD+0.5,iB+iz+1,iD+0.5];this.renderLine(iF,1,e.getOneColorAlpha(iA,hU,hW),false)}{var iG=[iB+0.5,iC+1,iB+0.5,iD];this.renderLine(iG,1,e.getOneColorAlpha(iA,hU,hW),false)}}else{var iH=ss.Int32.trunc(e.thisDomainToPixelY(hV.mju[L]));var iI=ss.Int32.trunc(e.thisDomainToPixelX(hV.mQE[L]));var iJ=ss.Int32.trunc(e.thisDomainToPixelX(hV._cx[L]));{var iK=[iI+0.5,iH-iz,iI+0.5,iH+iz+1];this.renderLine(iK,1,e.getOneColorAlpha(iA,hU,hW),false)}{var iL=[iJ+0.5,iH-iz,iJ+0.5,iH+iz+1];this.renderLine(iL,1,e.getOneColorAlpha(iA,hU,hW),false)}{var iM=[iI+1,iH+0.5,iJ,iH+0.5];this.renderLine(iM,1,e.getOneColorAlpha(iA,hU,hW),false)}}}break}}},$r:function(e,L,hT,hU){var hV='colorOverrideNone';var hW=255;var hX=hT;switch(L){case'normalUnderPass':{if(!hX.Brn&&hU==='background'){if(e.get_hasSelection()||e.get_hasBrushing()){hV='colorOverrideFog'}else{hV='colorOverrideNone'}var hY=hX.nSc.length;for(var hZ=0;hZ<hY;hZ++){if(!e.isTupleHighlighted(hX.nSc[hZ])&&!e.isTupleSelected(hX.nSc[hZ])){this.$g(e,hZ,'border',hV,hX,hW);this.$g(e,hZ,'normalUnder',hV,hX,hW)}}}break}case'normalOnPass':{if(hX.Brn&&hU==='underLabel'){if(e.get_hasSelection()||e.get_hasBrushing()){hV='colorOverrideFog'}else{hV='colorOverrideNone'}var ia=hX.nSc.length;for(var ib=0;ib<ia;ib++){if(!e.isTupleHighlighted(hX.nSc[ib])&&!e.isTupleSelected(hX.nSc[ib])){this.$g(e,ib,'border',hV,hX,hW);this.$g(e,ib,'normalUnder',hV,hX,hW)}}}break}case'selectedUnderPass':{if(!hX.Brn&&hU==='background'){var ic=hX.nSc.length;for(var id=0;id<ic;id++){if(e.isTupleSelected(hX.nSc[id])){hV='colorOverrideReplaceAlpha';hW=63.75;this.$g(e,id,'border',hV,hX,hW);hV='colorOverrideReplaceAlpha';hW=hX.sVE/255*255;this.$g(e,id,'normalUnder',hV,hX,hW)}}}break}case'selectedOnPass':{if(hX.Brn&&hU==='underLabel'){var ie=hX.nSc.length;for(var ig=0;ig<ie;ig++){if(e.isTupleSelected(hX.nSc[ig])){hV='colorOverrideReplaceAlpha';hW=63.75;this.$g(e,ig,'border',hV,hX,hW);hV='colorOverrideReplaceAlpha';hW=hX.sVE/255*255;this.$g(e,ig,'normalUnder',hV,hX,hW)}}}break}case'highlightedUnderPass':{if(!hX.Brn&&hU==='background'){hV='colorOverrideNone';var ih=hX.nSc.length;for(var ii=0;ii<ih;ii++){if(e.isTupleHighlighted(hX.nSc[ii])){this.$g(e,ii,'border',hV,hX,hW);this.$g(e,ii,'normalUnder',hV,hX,hW)}}}break}case'highlightedOnPass':{if(hX.Brn&&hU==='underLabel'){hV='colorOverrideNone';var ij=hX.nSc.length;for(var ik=0;ik<ij;ik++){if(e.isTupleHighlighted(hX.nSc[ik])){this.$g(e,ik,'border',hV,hX,hW);this.$g(e,ik,'normalUnder',hV,hX,hW)}}}break}}},$8:function(e,L,hT,hU,hV){var hW=1;var hX=2*hW;return!tab.RectXYUtil.completelyContains$1(e,ss.Int32.trunc(L)-hW,ss.Int32.trunc(hT)-hW,ss.Int32.trunc(hU)+hX,ss.Int32.trunc(hV)+hX)}},bn);ss.initClass(v,a,{get_currentContext:function(){if(ss.isValue(this.$T)){return this.$T}return bn.prototype.get_currentContext.call(this)},$R:function(e){var L={};L.uBu=new Array(e);return L},$Q:function(e){return ss.isValue(this.$V[e.toString()])},$S:function(e,L,hT){this.$T=e;var hU=(hT?'colorOverrideFog':'colorOverrideOpaque');this.$h(this.$U,this.$V[L.toString()],'normalOn',hU)}},eF);ss.initClass(w,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(x,a,{$c:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},$d:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},$e:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},$f:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},$7:function(){return!this.$8},$1:function(){this.$0()},$6:function(e){if(ss.isNullOrUndefined(e)){this.$4();return}if(this.$b!==-1){window.clearTimeout(this.$b);this.$b=-1}this.$a=e;this.$8=false;this.$0();var L=true;var hT=e.get_imageNode();var hU=$(hT);if(ss.isNullOrUndefined(hT)){var hV=document.createElement('img');e.set_imageNode(hV);hT=hV;hU=$(hT)}else{L=hU.width()!==e.get_bounds().w||hU.height()!==e.get_bounds().h}if(L){$(hT).css(ss.mkdict(['left',e.get_bounds().l+'px','top',e.get_bounds().t+'px']))}hU.on('load',ss.mkdel(this,this.$2));hU.on('error',ss.mkdel(this,this.$2));hU.on('abort',ss.mkdel(this,this.$2));this.$b=window.setTimeout(ss.mkdel(this,function(){this.$3()}),600000);var hW=hU.attr('src');if(!tab.BrowserSupport.get_imageLoadIsSynchronous()){hU.attr('src',e.get_src())}else{window.setTimeout(function(){hU.attr('src',e.get_src())},0)}if(ss.referenceEquals(e.get_src(),hW)&&!tab.BrowserSupport.get_raisesEventOnImageReassignment()){window.setTimeout(ss.mkdel(this,function(){this.$2(null)}),0)}},$0:function(){if(ss.isValue(this.$a)&&ss.isValue(this.$a.get_imageNode())){var e=$(this.$a.get_imageNode());if(ss.isValue(e)){e.on('load',ss.mkdel(this,this.$2));e.on('error',ss.mkdel(this,this.$2));e.on('abort',ss.mkdel(this,this.$2))}}},$2:function(e){window.clearTimeout(this.$b);this.$b=-1;if(this.$8){return}this.$8=true;this.$4()},$3:function(){this.$8=true;this.$b=-1;this.$0();this.$5()},$4:function(){if(ss.isValue(this.$1$1)){this.$1$1(this,new hN(this.$9,this.$a))}},$5:function(){if(ss.isValue(this.$1$2)){this.$1$2(this,new hO(this.$9))}}});ss.initClass(y,a,{$4:function(){return this.$8.get(0)},$5:function(){return tab.DoubleUtil.roundToInt(this.$8.width())},$3:function(e){var L=ss.mkdict(['backgroundColor',e]);this.$6.css(L);this.$7.css(L);this.$8.css(L)},$1:function(e,L){var hT=ss.mkdict(['width',e+'px']);if(L){this.$6.addClass('leaflet-zoom-anim').addClass('leaflet-zoom-animated');this.$7.addClass('leaflet-zoom-anim').addClass('leaflet-zoom-animated')}this.$6.css(hT);this.$7.css(hT)},$2:function(){this.$6.removeClass('leaflet-zoom-anim').removeClass('leaflet-zoom-animated');this.$7.removeClass('leaflet-zoom-anim').removeClass('leaflet-zoom-animated')}},spiff.Template,[ss.IDisposable]);ss.initClass(z,a,{$0:function(){this.$4.animate(this.$2,this.$3)},$1:function(e){this.$4.stop(e)}});ss.initClass(A,a,{$5:function(){return this.$a},$0:function(){return this.$6},$1:function(e){this.$6=e},$2:function(){return this.$7},$3:function(){return this.$8},$4:function(){return this.$9}});ss.initClass(B,a,{});ss.initClass(C,a,{$2:function(){return this.$4},$3:function(e){this.$4=e},$0:function(e,L){if(!ss.isValue(this.$4)){return false}return ss.referenceEquals(this.$4.getAttribute('src'),e)&&this.$1===L}});ss.initClass(D,a,{});ss.initClass(E,a,{});ss.initClass(G,a,{$8:function(e){this.$t=this.$a();this.$u=this.$n().offset().left;this.$f(e,this.$u)},$7:function(e){this.$f(e,this.$u)},$6:function(e){var L=this.$3(this.$u,e);var hT=new tab.ResizeHeaderRegionCmd;hT.c['J_M']=this.$r();hT.c['MVr']=L|0;hT.c['nuU']=false;hT.c['Qmg']=tab.PointUtil.toPresModel(this.$t);hT.set_uiBlocking('immediatelySubtle');hT.invoke$1()}},F,[ss.IDisposable,spiff.IViewModel,spiff.IDragSource]);ss.initClass(H,a,{$8:function(e){this.$t=this.$9();this.$u=this.$n().offset().top;this.$g(e,this.$u)},$7:function(e){this.$g(e,this.$u)},$6:function(e){var L=this.$5(this.$u,e);var hT=new tab.ResizeHeaderRegionCmd;hT.c['J_M']=this.$r();hT.c['MVr']=L|0;hT.c['nuU']=true;hT.c['Qmg']=tab.PointUtil.toPresModel(this.$t);hT.set_uiBlocking('immediatelySubtle');hT.invoke$1()}},F,[ss.IDisposable,spiff.IViewModel,spiff.IDragSource]);ss.initClass(I,a,{$8:function(e){this.$t=this.$n().offset().top;this.$g(e,this.$t)},$7:function(e){this.$g(e,this.$t)},$6:function(e){var L=this.$5(this.$t,e);var hT=new tab.ResizeAxisRegionCmd;hT.c['J_M']=this.$r();hT.c['MVr']=L|0;hT.c['nuU']=true;hT.c['Etu']=true;hT.set_uiBlocking('immediatelySubtle');hT.invoke$1()}},F,[ss.IDisposable,spiff.IViewModel,spiff.IDragSource]);ss.initClass(J,a,{});ss.initClass(K,a,{},ss.EventArgs);ss.initClass(M,a,{render:function(){return React.DOM.div({className:'tabAddSubscribersContent'},this.$1(),this.$2(),this.$3(),this.$0())},$3:function(){return React.createElement(hs,this.props.addSubscribersViewModel.get_userSearchViewModel().get_props())},$2:function(){return React.createElement(hq,this.props.addSubscribersViewModel.get_userPillsViewModel().get_props())},$1:function(){return React.DOM.div({className:'tabAddSubscribersHeader'},tab.Strings.AddSubscribersHeader)},$0:function(){var e={clickHandler:ss.mkdel(this.props.addSubscribersViewModel,this.props.addSubscribersViewModel.cancelSelection),label:tab.Strings.SubscribeCancel,buttonClass:'tabAddSubscribersCancelButton',buttonStyle:3,tabIndex:0};var L={clickHandler:ss.mkdel(this.props.addSubscribersViewModel,this.props.addSubscribersViewModel.confirmSelection),label:tab.Strings.DialogButtonOK,buttonClass:'tabAddSubscribersConfirmButton',buttonStyle:0,tabIndex:0};var hT=React.createElement(spiff.StyledButtonComponent,L);var hU=React.createElement(spiff.StyledButtonComponent,e);return React.DOM.div({className:'tabAddSubscribersButtons'},hU,hT)}},React.Component);ss.initClass(N,a,{});ss.initClass(O,a,{});ss.initClass(P,a,{add_propsUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_propsUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_selectionCanceled:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_selectionCanceled:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_selectionConfirmed:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_selectionConfirmed:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_viewModel:function(){return this},get_userSearchViewModel:function(){return this.$2$4},set_userSearchViewModel:function(e){this.$2$4=e},get_userPillsViewModel:function(){return this.$2$5},set_userPillsViewModel:function(e){this.$2$5=e},get_props:function(){return this.$2$6},set_props:function(e){this.$2$6=e},get_viewType:function(){return ss.makeGenericType(spiff.ReactHostView$3,[P,M,O])},updateUberPopupViewModel:function(e){},disposeViewModel:function(){this.dispose()},cancelSelection:function(){this.raiseActionEvent(this.$2$2)},confirmSelection:function(){this.raiseActionEvent$1(Array).call(this,this.$2$3,this.get_userPillsViewModel().get_props().users)},$2:function(){this.raiseActionEvent(this.$2$1)},$3:function(e){this.get_userPillsViewModel().addUser(e)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,spiff.IUberPopupContent,ss.makeGenericType(spiff.IPropsProvider$1,[O])]);ss.initClass(Q,a,{});ss.initClass(R,a,{dispose:function(){this.$12.dispose();this.$16.dispose();if(ss.isValue(this.$15)){this.$15.dispose();this.$15=null}tab.CommandController.get().remove_tabChangeCompleted(ss.mkdel(this,this.handleNewLayout));tab.StartupUtils.remove_clientFullyLoaded(ss.mkdel(this,this.onClientFullyLoaded));tab.CommandController.get().remove_commandQueueComplete(ss.mkdel(this,this.onCommandComplete))},updateClients:function(e,L){if(!ss.referenceEquals(this.$10,e)){var hT=this.$10;this.$10=e;if(tsConfig.allow_custom_views){var hU=(ss.isValue(hT)?hT.get_customViewsViewModel():null);if(ss.isValue(hU)){hU.remove_dirtyChanged(ss.mkdel(this,this.onCustomViewUpdated));hU.remove_customViewListChanged(ss.mkdel(this,this.onCustomViewListLoaded));hU.remove_customViewDestroyed(ss.mkdel(this,this.onCustomViewDestroyed));hU.remove_defaultCustomViewChanged(ss.mkdel(this,this.onCustomViewSetDefault))}var hV=(ss.isValue(e)?e.get_customViewsViewModel():null);if(ss.isValue(hV)){hV.add_dirtyChanged(ss.mkdel(this,this.onCustomViewUpdated));hV.add_customViewListChanged(ss.mkdel(this,this.onCustomViewListLoaded));hV.add_customViewDestroyed(ss.mkdel(this,this.onCustomViewDestroyed));hV.add_defaultCustomViewChanged(ss.mkdel(this,this.onCustomViewSetDefault))}}this.$11=false}if(!ss.referenceEquals(this.$14,L)){if(ss.isValue(this.$15)){this.$15.dispose()}this.$14=L;if(ss.isValue(this.$14)){this.$15=new S(L,this.$Z)}}_.defer(ss.mkdel(this,this.$V));if(!this.$13){var hW=tab.ApplicationModel.get_instance().get_workbook();if(ss.isValue(hW)){hW.addNewDashboardHandler(ss.mkdel(this,this.onNewDashboard));this.$13=true}}else{this.onNewDashboard(null)}},$V:function(){var e={};var L=this.$10.get_viewControllers();for(var hT=0;hT<L.length;hT++){var hU=L[hT];e[hU.get_sheetName()]=hU}var hV=_.keys(this.$17);for(var hW=0;hW<hV.length;hW++){var hX=hV[hW];if(!ss.keyExists(e,hX)){this.$17[hX].dispose();delete this.$17[hX]}else{delete e[hX]}}_.each(_.keys(e),ss.mkdel(this,function(hY){var hZ=e[hY];var ia=ss.mkdel(this,function(ib,ic){if(ss.referenceEquals(hZ.get_sheetName(),ib)){this.onSelectionChanged(ib,ic)}});hw.add_selectionChanged(ia);this.$17[hY]=new tab.CallOnDispose(function(){hw.remove_selectionChanged(ia)})}))},handleEvent:function(e){var L=e.data;if(ss.isNullOrUndefined(L)||typeof(L)!=='string'){return}var hT=L;var hU=tab._ApiCommand.parse(hT);if(ss.isNullOrUndefined(hU.get_rawName())){return}switch(hU.get_name()){case'api.GetClientInfoCommand':{this.$E(hU);break}case'api.GetCurrentUrlCommand':{this.$G(hU);break}case'api.ClearFilterCommand':{this.$7(hU);break}case'api.ApplyCategoricalFilterCommand':{this.$3(hU);break}case'api.ApplyRangeFilterCommand':{this.$5(hU);break}case'api.ApplyRelativeDateFilterCommand':{this.$6(hU);break}case'api.ApplyHierarchicalFilterCommand':{this.$4(hU);break}case'api.RefreshDataCommand':{this.$y(hU);break}case'api.RevertAllCommand':{this.$A(hU);break}case'api.SwitchActiveSheetCommand':{this.$Q(hU);break}case'api.UpdateActiveSheetCommand':{this.$T(hU);break}case'api.SelectMarksCommand':{this.$C(hU);break}case'api.ClearSelectedMarksCommand':{this.$9(hU);break}case'api.FetchSelectedMarksCommand':{this.$f(hU);break}case'api.FetchParametersCommand':{this.$e(hU);break}case'api.SetParameterValueCommand':{this.$H(hU);break}case'api.InvokeCommandCommand':{this.$p(hU);break}case'api.SetSheetSizeCommand':{this.$I(hU);break}case'api.ShowHideToolbarCommand':{this.$M(hU);break}case'api.GetFiltersListCommand':{this.$i(hU);break}case'api.GetOneFilterInfoCommand':{this.$j(hU);break}case'api.GetDataSourceCommand':{this.$g(hU);break}case'api.GetDataSourcesCommand':{this.$h(hU);break}case'api.FetchCustomViewsCommand':{this.$c(hU);break}case'api.ShowCustomViewCommand':{this.$J(hU);break}case'api.UpdateCustomViewCommand':{this.$U(hU);break}case'api.MakeCurrentCustomViewDefaultCommand':{this.$q(hU);break}case'api.RemoveCustomViewCommand':{this.$z(hU);break}case'api.SaveNewCustomViewCommand':{this.$B(hU);break}case'api.ActivateStoryPoint':{this.$15.activateStoryPoint(hU);break}case'api.ActivatePreviousStoryPoint':{this.$15.activatePreviousStoryPoint(hU);break}case'api.ActivateNextStoryPoint':{this.$15.activateNextStoryPoint(hU);break}case'api.RevertStoryPoint':{this.$15.revertStoryPoint(hU);break}case'api.GetSummaryTableCommand':{this.$k(hU);break}case'api.GetUnderlyingTableCommand':{this.$m(hU);break}case'api.ClearHighlightedMarksCommand':{this.$8(hU);break}case'api.HighlightMarksCommand':{this.$n(hU);break}case'api.HighlightMarksByPatternMatch':{this.$o(hU);break}case'api.FetchHighlightedMarksCommand':{this.$d(hU);break}case'api.GetToolbarState':{this.$l(hU);break}case'api.Undo':{this.$S();break}case'api.Redo':{this.$x();break}case'api.ToggleUpdates':{this.$R(hU);break}case'api.ShowShareDialog':{this.$O();break}case'api.ShowSubscribeDialog':{this.$P();break}case'api.ShowCustomViewsDialog':{this.$K();break}case'api.ShowPerformanceDialog':{this.$N();break}case'api.ShowDownloadDialog':{this.$L();break}}},handleNewLayout:function(e){var L=e.item1;var hT=e.item2;this.$Z.sendCrossDomainEventNotification('api.TabSwitchEvent',L,hT)},onSelectionChanged:function(e,L){if(ss.isNullOrUndefined(L)||ss.isNullOrUndefined(L.cmdResult)||ss.isNullOrUndefined(L.cmdResult.$iY)){return}var hT=L.cmdResult.$iY.split(':');if(ss.referenceEquals(hT[0],'tabdoc'.toString())){var hU=hT[1];if(ss.startsWithString(hT[1],'select')){this.$Z.sendCrossDomainEventNotification('api.MarksSelectionChangedEvent',e,null)}else if(hU==='reset-filter'||hU==='clear-existing-filter'||hU==='range-filter'||hU==='categorical-filter'||hU==='categorical-filter-by-index'||hU==='hierarchical-filter'||hU==='relative-date-filter'){if(ss.isNullOrUndefined(L.primarySheet)){return}var hV=L.cmdResult.nCR;var hW=hV['HBp'];if(ss.isNullOrUndefined(hV['cVZ'])&&ss.isNullOrUndefined(hV['oIc'])&&ss.isValue(hW)){var hX=null;var hY=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),L.primarySheet);if(ss.isValue(hY)){var hZ=_.find(hY.get_filters(),function(ib){return ss.referenceEquals(ib.get_globalFieldName(),hW)});if(ss.isValue(hZ)){hX=hZ.get_filterPresModel().fieldCaption}}var ia=[hW,ss.coalesce(hX,hW)];this.$Z.sendCrossDomainEventNotification('api.FilterChangedEvent',L.primarySheet,JSON.stringify(ia))}}}else if(ss.referenceEquals(hT[0],'tabsrv'.toString())&&ss.startsWithString(hT[1],'select')){this.$Z.sendCrossDomainEventNotification('api.MarksSelectionChangedEvent',e,null)}},onClientFullyLoaded:function(){tab.StartupUtils.remove_clientFullyLoaded(ss.mkdel(this,this.onClientFullyLoaded));this.$Z.sendCrossDomainEventNotification('api.VizInteractiveEvent',null,tsConfig.clientNumber)},onCommandComplete:function(){this.$Z.sendCrossDomainEventNotification('api.VizInteractiveEvent',null,tsConfig.clientNumber)},onNewDashboard:function(e){e=tab.ModelUtils.findContentDashboard();this.$12.dispose();if(ss.isNullOrUndefined(e)){return}var L=e.get_zoneModels();_.each(L,ss.mkdel(this,function(hT,hU){if(hT.get_zoneType()==='paramctrl'&&ss.isValue(hT.get_model())){if(ss.referenceEquals(ss.getInstanceType(hT.get_model()),tab.ParameterCtrlModel)){var hV=hT.get_model();hV.add_newParameterCtrl(ss.mkdel(this,this.onParameterChange));this.$12.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){hV.remove_newParameterCtrl(ss.mkdel(this,this.onParameterChange))})))}else if(ss.referenceEquals(ss.getInstanceType(hT.get_model()),tab.ParameterFilterDisplayModel)){var hW=hT.get_model();hW.add_filterUpdated(ss.mkdel(this,this.onParameterChange));this.$12.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){hW.remove_filterUpdated(ss.mkdel(this,this.onParameterChange))})))}}}))},onParameterChange:function(e){var L=e.OLk;this.$Z.sendCrossDomainEventNotification('api.ParameterChangedEvent',null,L)},onCustomViewDestroyed:function(e,L){this.$Z.sendCrossDomainEventNotification('api.CustomViewRemovedEvent',null,JSON.stringify(this.$a()))},onCustomViewUpdated:function(e,L){this.$Z.sendCrossDomainEventNotification('api.CustomViewUpdatedEvent',null,JSON.stringify(this.$a()))},onCustomViewSetDefault:function(e,L){this.$Z.sendCrossDomainEventNotification('api.CustomViewSetDefaultEvent',null,JSON.stringify(this.$a()))},onCustomViewListLoaded:function(e,L){this.$Z.sendCrossDomainEventNotification('api.CustomViewsListLoadedEvent',null,JSON.stringify(this.$a()));this.$11=true},$e:function(e){var L=new Object;L.commandName='get-parameter-models'.toString();L.commandNamespace='tabdoc'.toString();this.$F(e,L,D.$8)},$H:function(e){var L=JSON.parse(e.get_parameters());var hT=new Object;hT.commandName='set-parameter-value'.toString();hT.commandNamespace='tabdoc'.toString();hT.commandParams={};hT.commandParams['OLk']=L['api.setParameterName'];hT.commandParams['vau']=L['api.setParameterValue'];this.$F(e,hT,D.$6)},$i:function(e){var L=function(hU,hV){hV['TWA']=hU['api.ignoreDomain']};var hT=this.$t(e,'get-filter-info',L);this.$F(e,hT,B.$a)},$j:function(e){var L=function(hU,hV){if(ss.isValue(hU['api.fieldCaption'])){hV['OLk']=hU['api.fieldCaption']}else{hV['HBp']=hU['api.fieldName']}if(ss.isValue(hU['api.filterHierarchicalLevels'])){hV['Kyu']=hU['api.filterHierarchicalLevels']}hV['TWA']=hU['api.ignoreDomain']};var hT=this.$t(e,'get-filter-info',L);this.$F(e,hT,B.$e)},$f:function(e){var L=function(hU,hV){};var hT=this.$s(e,'get-selection',L);this.$F(e,hT,ss.mkdel(this,this.$w))},$u:function(e,L){var hT=new Object;var hU=new tab.DataDictionaryModel(null);hU.update(e);var hV=new tab.VizDataModel(null);hV.update(L);var hW=[];hT.marks=hW;if(ss.isNullOrUndefined(hU)||hU.get_isEmpty()){return hT}hV.forEachTupleId(function(hX){var hY=new Object;hY.tupleId=hX;var hZ=[];hY.pairs=hZ;hW.push(hY);hV.forEachVizDataField(function(ia,ib){var ic=new Object;ic.fieldName=ia.get_fieldCaption();ic.formattedValue=tab.VizDataLookup.lookupAlias(hX,ia,hU);ic.valueDataType=f.$0(ia.get_dataType());var id=null;if(!tab.VizDataLookup.isSpecial(hX,ia,hU,null)&&ia.get_hasDataValues()&&ia.isTupleIdValid(hX)){id=tab.VizDataLookup.lookupRawDataValue(hX,ia,hU)}var ie=J.serializeDataValue(id,ia.get_dataType());ic.value=ie;hZ.push(ic);return true});return true});return hT},$w:function(e){var L=e;var hT=L.vZU;var hU=L.zFl;return this.$u(hT,hU)},$4:function(e){var L=ss.mkdel(this,function(hU,hV){hV['oLX']=hU['api.fieldCaption'];if(ss.isValue(hU['api.filterReset'])&&hU['api.filterReset']){hV['Txq']='filter-clear'.toString()}else{if(ss.isValue(hU['api.exclude'])){hV['QGP']=hU['api.exclude']}var hW=this.$W(hU['api.filterUpdateType'].toString());hV['Txq']=hW;if(ss.isValue(hU['api.filterHierarchicalValues'])){hV['CCe']=hU['api.filterHierarchicalValues']}if(ss.isValue(hU['api.filterHierarchicalLevels'])){hV['JzB']=hU['api.filterHierarchicalLevels']}if(ss.isNullOrUndefined(hU['api.filterHierarchicalValues'])&&ss.isNullOrUndefined(hU['api.filterHierarchicalLevels'])){hV['JzB']='[]'}}});var hT=this.$s(e,'hierarchical-filter',L);this.$F(e,hT,B.$9)},$5:function(e){var L=function(hU,hV){hV['oLX']=hU['api.fieldCaption'];if(ss.isValue(hU['api.filterReset'])&&hU['api.filterReset']){hV['Txq']='filter-clear'.toString()}else{if(ss.isValue(hU['api.filterRangeMax'])){hV['JPx']=hU['api.filterRangeMax']}if(ss.isValue(hU['api.filterRangeMin'])){hV['fMN']=hU['api.filterRangeMin']}if(ss.isValue(hU['api.filterRangeNullOption'])){if(hU['api.filterRangeNullOption']==='NULL_VALUES'){hV['$mT']='include-null'.toString()}else if(hU['api.filterRangeNullOption']==='NON_NULL_VALUES'){hV['$mT']='include-non-null'.toString()}else{hV['$mT']='include-all'.toString()}}}};var hT=this.$s(e,'range-filter',L);this.$F(e,hT,B.$9)},$6:function(e){var L=function(hU,hV){hV['oLX']=hU['api.fieldCaption'];if(ss.isValue(hU['api.filterReset'])&&hU['api.filterReset']){hV['Txq']='filter-clear'.toString()}else{if(ss.isValue(hU['api.filterDateArchorValue'])){hV['wNn']=hU['api.filterDateArchorValue']}hV['JAO']=hU['api.filterPeriodType'].toLowerCase();hV['woa']=hU['api.filterDateRangeType'].toLowerCase();if(ss.isValue(hU['api.filterDateRange'])){hV['lZR']=hU['api.filterDateRange']}}};var hT=this.$s(e,'relative-date-filter',L);this.$F(e,hT,B.$9)},$W:function(e){if(e.toLowerCase()==='replace'){return'filter-replace'.toString()}else if(e.toLowerCase()==='all'){return'filter-all'.toString()}else if(e.toLowerCase()==='add'){return'filter-add'.toString()}else if(e.toLowerCase()==='remove'){return'filter-remove'.toString()}else{return'filter-replace'.toString()}},$Y:function(e){if(e.toLowerCase()==='replace'){return'select-replace'.toString()}else if(e.toLowerCase()==='add'){return'select-add'.toString()}else if(e.toLowerCase()==='remove'){return'select-remove'.toString()}return'select-replace'.toString()},$X:function(e){if(e.toLowerCase()==='nullvalues'){return'include-null'.toString()}else if(e.toLowerCase()==='nonnullvalues'){return'include-non-null'.toString()}else if(e.toLowerCase()==='allvalues'){return'include-all'.toString()}return'include-all'.toString()},$7:function(e){var L=JSON.parse(e.get_parameters());var hT=R.$1();var hU=L['api.fieldCaption'];var hV=ss.keyExists(hT,hU);var hW;if(hV){if(hT[hU]==='RD'){var hX=q.$0('api.localfailed','Clearing a relative date filter is not supported when an associated quick filter is on the Worksheet. Please call applyRelativeDateFilter instead.');this.$Z.sendCrossDomainResponse(e,hX);return}hW='reset-filter'}else{hW='clear-existing-filter'}var hY=function(ia,ib){ib['oLX']=hU};var hZ=this.$s(e,hW,hY);this.$F(e,hZ,B.$9)},$3:function(e){var L=ss.mkdel(this,function(hU,hV){hV['oLX']=hU['api.fieldCaption'];if(ss.isValue(hU['api.filterReset'])&&hU['api.filterReset']){hV['Txq']='filter-clear'.toString()}else{if(ss.isValue(hU['api.exclude'])){hV['QGP']=hU['api.exclude'].toString()}var hW=this.$W(hU['api.filterUpdateType'].toString());hV['Txq']=hW;if(ss.isValue(hU['api.filterCategoricalValues'])){hV['CCe']=JSON.stringify(hU['api.filterCategoricalValues'])}else{hV['CCe']='[""]'}}});var hT=this.$s(e,'categorical-filter',L);this.$F(e,hT,B.$9)},$0:function(e,L){var hT=new ss.StringBuilder;hT.append('[');for(var hU=0;hU<e.length;hU++){if(hU>0){hT.append(',')}hT.append('{');hT.append('"'+'oLX'.toString()+'":');hT.append('"'+e[hU]+'"');hT.append(',');hT.append('"'+'Zqk'.toString()+'":');hT.append(L[hU]);hT.append('}')}hT.append(']');return hT.toString()},$2:function(e){var L=new ss.StringBuilder;L.append('{');L.append('"'+'coe'.toString()+'":');L.append('"tuples"');L.append(',');L.append('"'+'kyj'.toString()+'":');L.append(e);L.append('}');return L.toString()},$1:function(e,L){var hT=new ss.StringBuilder;hT.append('[');for(var hU=0;hU<e.length;hU++){if(hU>0){hT.append(',')}hT.append('{');hT.append('"'+'oLX'+'":');hT.append('"'+e[hU]+'"');hT.append(',');var hV=JSON.parse(L[hU]);var hW=JSON.parse(hV[0]);if(ss.isValue(hW['max'])){hT.append('"'+'QG$'+'":');hT.append('"'+hW['max'].toString()+'"')}if(ss.isValue(hW['min'])){if(ss.isValue(hW['max'])){hT.append(',')}hT.append('"'+'Cp$'.toString()+'":');hT.append('"'+hW['min'].toString()+'"')}if(ss.isValue(hW['nullOption'])){var hX=this.$X(hW['nullOption'].toString());hT.append(',');hT.append('"'+'$mT'.toString()+'":');hT.append('"'+hX+'"')}hT.append('}')}hT.append(']');return hT.toString()},$k:function(e){var L=this.$s(e,'get-summary-data',E.$3);this.$F(e,L,E.$6)},$m:function(e){var L=this.$s(e,'get-underlying-data',E.$4);this.$F(e,L,E.$7)},$8:function(e){var L=function(hU,hV){};var hT=this.$t(e,'select-none',L);this.$F(e,hT,R.$2)},$n:function(e){var L=function(hU,hV){hV['oLX']=hU['api.fieldCaption'];hV['_dJ']=hU['api.ObjectTextIDs']};var hT=this.$s(e,'highlight-items',L);this.$F(e,hT,R.$2)},$o:function(e){var L=function(hU,hV){hV['oLX']=hU['api.fieldCaption'];hV['vau']=hU['api.Pattern']};var hT=this.$s(e,'highlight-items-by-pattern-match',L);this.$F(e,hT,R.$2)},$d:function(e){var L=function(hU,hV){};var hT=this.$s(e,'get-highlighted-data',L);this.$F(e,hT,ss.mkdel(this,this.$v))},$v:function(e){var L=e;var hT=L.vZU;var hU=L.zFl;return this.$u(hT,hU)},$C:function(e){var L=ss.mkdel(this,function(hU,hV){if(tab.MiscUtil.isNullOrEmpty(hU)){hV['NNg']='select-replace'.toString()}else{hV['NNg']=this.$Y(hU['api.filterUpdateType'].toString());if(ss.isValue(hU['api.categoricalFieldCaption'])&&ss.isValue(hU['api.categoricalMarkValues'])){var hW=JSON.parse(hU['api.categoricalFieldCaption']);var hX=JSON.parse(hU['api.categoricalMarkValues']);var hY=this.$0(hW,hX);hV['NVJ']=hY}if(ss.isValue(hU['api.hierarchicalFieldCaption'])&&ss.isValue(hU['api.hierarchicalMarkValues'])){var hZ=JSON.parse(hU['api.hierarchicalFieldCaption']);var ia=JSON.parse(hU['api.hierarchicalMarkValues']);var ib=this.$0(hZ,ia);hV['oWK']=ib}if(ss.isValue(hU['api.rangeFieldCaption'])&&ss.isValue(hU['api.rangeMarkValues'])){var ic=JSON.parse(hU['api.rangeFieldCaption']);var id=JSON.parse(hU['api.rangeMarkValues']);var ie=this.$1(ic,id);hV['Ukl']=ie}if(ss.isValue(hU['api.tupleIds'])){var ig=new ss.StringBuilder;ig.append('{');ig.append('"'+'coe'+'":');ig.append('"tuples"');ig.append(',');ig.append('"'+'kyj'+'":');ig.append(hU['api.tupleIds']);ig.append('}');hV['Gvh']=ig.toString()}}});var hT=this.$s(e,'select-by-value',L);this.$F(e,hT,R.$3)},$9:function(e){var L=function(hU,hV){};var hT=this.$t(e,'select-none',L);this.$F(e,hT,R.$3)},$a:function(){var e=this.$10.get_customViewsViewModel();var L=e.get_currentCustomView();var hT=null;if(ss.isValue(L)){hT=J.serializeCustomView(e.get_currentCustomView(),e.buildUrl(e.get_currentCustomView(),true))}var hU=[];var hV=this.$10.get_customViewsViewModel().get_myCustomViews();var hW=ss.getEnumerator(hV);try{while(hW.moveNext()){var hX=hW.current();var hY=e.buildUrl(hX,true);var hZ=J.serializeCustomView(hX,hY);hU.push(hZ)}}finally{hW.dispose()}var ia=this.$10.get_customViewsViewModel().get_otherCustomViews();var ib=ss.getEnumerator(ia);try{while(ib.moveNext()){var ic=ib.current();var id=e.buildUrl(ic,true);var ie=J.serializeCustomView(ic,id);hU.push(ie)}}finally{ib.dispose()}return Q.newCustomViewsInfo(this.$11,e.get_defaultCustomViewId(),hT,hU)},$c:function(e){this.$10.get_customViewsViewModel().updateCustomizedViews(ss.mkdel(this,function(L,hT){var hU=q.$0('api.success',this.$a());this.$Z.sendCrossDomainResponse(e,hU)}),ss.mkdel(this,function(L){var hT=q.$0('api.remotefailed',L);this.$Z.sendCrossDomainResponse(e,hT)}))},$J:function(e){var L=JSON.parse(e.get_parameters());var hT=null;if(ss.isValue(L['api.customViewParam'])){var hU=L['api.customViewParam'];hT=J.convertToCustomizedView(hU)}this.$10.get_customViewsViewModel().select(hT)},$z:function(e){var L=JSON.parse(e.get_parameters());var hT=L['api.customViewParam'];var hU=J.convertToCustomizedView(hT);this.$10.get_customViewsViewModel().destroy(hU,ss.mkdel(this,function(){var hV=q.$0('api.success',this.$a());this.$Z.sendCrossDomainResponse(e,hV)}),ss.mkdel(this,function(hV){var hW=q.$0('api.remotefailed',hV);this.$Z.sendCrossDomainResponse(e,hW)}))},$U:function(e){var L=JSON.parse(e.get_parameters());var hT=L['api.customViewParam'];var hU=J.convertToCustomizedView(hT);this.$10.get_customViewsViewModel().update(hU,ss.mkdel(this,function(hV){var hW=q.$0('api.success',this.$a());this.$Z.sendCrossDomainResponse(e,hW)}),ss.mkdel(this,function(hV){var hW=q.$0('api.remotefailed',hV);this.$Z.sendCrossDomainResponse(e,hW)}))},$q:function(e){this.$10.get_customViewsViewModel().makeCurrentDefault(ss.mkdel(this,function(L){var hT=q.$0('api.success',this.$a());this.$Z.sendCrossDomainResponse(e,hT)}),ss.mkdel(this,function(L){var hT=q.$0('api.remotefailed',L);this.$Z.sendCrossDomainResponse(e,hT)}))},$B:function(e){var L=JSON.parse(e.get_parameters());var hT=L['api.customViewName'];this.$10.get_customViewsViewModel().save(hT,ss.mkdel(this,function(hU){var hV=this.$a();hV.newView=J.serializeCustomView(hU,this.$10.get_customViewsViewModel().buildUrl(hU,false));var hW=q.$0('api.success',hV);this.$Z.sendCrossDomainResponse(e,hW)}),ss.mkdel(this,function(hU){var hV=q.$0('api.remotefailed',hU);this.$Z.sendCrossDomainResponse(e,hV)}))},$g:function(e){var L=JSON.parse(e.get_parameters());var hT=L['api.dataSourceName'];var hU=L['api.worksheetName'];var hV=new Object;hV.commandName='get-schema'.toString();hV.commandNamespace='tabdoc'.toString();hV.commandParams={};var hW=function(hX){var hY=hX;var hZ=d.$0(hY,hU,hT);return hZ.dataSources[0]};this.$F(e,hV,hW)},$h:function(e){var L=JSON.parse(e.get_parameters());var hT=L['api.worksheetName'];var hU=new Object;hU.commandName='get-schema'.toString();hU.commandNamespace='tabdoc'.toString();var hV=function(hW){var hX=hW;var hY=d.$0(hX,hT,null);return hY};this.$F(e,hU,hV)},$p:function(e){var L=JSON.parse(e.get_parameters());var hT=L['api.invokeCommandName'];if(hT==='showExportImageDialog'){this.$10.get_toolbarCommands().exportImage()}else if(hT==='showExportDataDialog'){var hU=null;if(ss.isValue('api.invokeCommandParam')){hU=L['api.invokeCommandParam']}this.$10.get_toolbarCommands().exportData(hU)}else if(hT==='showExportCrosstabDialog'){var hV=null;if(ss.isValue('api.invokeCommandParam')){hV=L['api.invokeCommandParam']}this.$10.get_toolbarCommands().exportCrosstab(hV)}else if(hT==='showExportPDFDialog'){this.$10.get_toolbarCommands().exportPdf()}else if(hT==='pauseAutomaticUpdates'){this.$10.get_toolbarCommands().$4();this.$D(e)}else if(hT==='resumeAutomaticUpdates'){this.$10.get_toolbarCommands().$6();this.$D(e)}else if(hT==='toggleAutomaticUpdates'){this.$R(e)}else if(hT==='showShareDialog'){this.$10.get_toolbarCommands().$f()}else if(hT==='showDownloadWorkbookDialog'){var hW=this.$10.get_applicationPresModel().res.mmK;this.$10.get_toolbarCommands().$1(hW.nhM.VrA)}else if(hT==='selectedMarksKeepOnly'){this.$10.get_toolbarCommands().$b()}else if(hT==='selectedMarksExclude'){this.$10.get_toolbarCommands().$a()}},$l:function(e){var L=q.$0('api.success',this.$16.get_toolbarState());this.$Z.sendCrossDomainResponse(e,L)},$S:function(){var e=this.$10.get_session().get_historyPosition();if(e>0){tab.WorksheetServerCommands.undoToPosition(e-1)}},$x:function(){var e=this.$10.get_session().get_historyPosition();tab.WorksheetServerCommands.redoToPosition(e+1)},$R:function(e){this.$10.get_toolbarCommands().$h();this.$D(e)},$O:function(){this.$10.get_toolbarCommands().$f()},$P:function(){this.$10.get_toolbarCommands().$g()},$N:function(){this.$10.get_toolbarCommands().$e()},$K:function(){this.$10.get_toolbarCommands().$c()},$L:function(){this.$10.get_toolbarCommands().$d()},$D:function(e){var L=Q.newAutoUpdateState(this.$10.get_toolbarCommands().$2());var hT=q.$0('api.success',L);this.$Z.sendCrossDomainResponse(e,hT)},$I:function(e){var L=JSON.parse(e.get_parameters());var hT=new Object;hT.commandName='set-sheet-size'.toString();hT.commandNamespace='tabdoc'.toString();hT.commandParams={};hT.commandParams['Gge']=L['api.setSheetSizeName'];hT.commandParams['EVq']=L['api.minWidth'];hT.commandParams['pAn']=L['api.minHeight'];hT.commandParams['PiK']=L['api.maxWidth'];hT.commandParams['McJ']=L['api.maxHeight'];this.$F(e,hT,null)},$y:function(e){this.$10.get_toolbarCommands().$5();var L=q.$0('api.success','');this.$Z.sendCrossDomainResponse(e,L)},$A:function(e){tab.WorksheetServerCommands.revert();var L=q.$0('api.success','');this.$Z.sendCrossDomainResponse(e,L)},$M:function(e){var L=JSON.parse(e.get_parameters());var hT=L['api.showHideToolbarValue'];this.$10.set_toolbarDisplayed(hT);this.$10.doResize()},$Q:function(e){var L=JSON.parse(e.get_parameters());var hT=new Object;hT.oldRepositoryUrl=L['api.oldRepositoryUrl'];hT.repositoryUrl=L['api.switchToRepositoryUrl'];hT.sheetName=L['api.switchToSheetName'];hT.oldSheetName=tsConfig.current_sheet_name;hT.noUndo=true;hT.successCallback=ss.mkdel(this,function(hU){var hV=q.$0('api.success','');this.$Z.sendCrossDomainResponse(e,hV)});hT.errorCallback=ss.mkdel(this,function(hU){var hV=q.$0('api.remotefailed',hU);this.$Z.sendCrossDomainResponse(e,hV)});tab.ViewSession.fireOnTabSelect(hT)},$T:function(e){this.$10.doResize()},$E:function(e){if(tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapFailed()){return}if(!tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){return}var L=J.serializeClientInfo(this.$10,this.$14);var hT=q.$0('api.success',L);this.$Z.sendCrossDomainResponse(e,hT)},$G:function(e){var L=tab.VizUriModel.createForViewingSheet(tsConfig.repositoryUrl).get_absoluteUri();var hT=q.$0('api.success',L);this.$Z.sendCrossDomainResponse(e,hT)},$s:function(e,L,hT){return this.$r(e,tab.CommandUtils.newDocCommand(L),hT)},$t:function(e,L,hT){return this.$r(e,tab.CommandUtils.newSrvCommand(L),hT)},$r:function(e,L,hT){var hU=JSON.parse(e.get_parameters());var hV=this.$b(hU);L.commandParams=hV;hT(hU,hV);return L},$b:function(e){var L={};if(ss.isValue(e['api.visualId'])){L['J_M']=JSON.stringify(e['api.visualId'])}else{L['AVP']=e['api.worksheetName'];if(ss.isValue(e['api.dashboardName'])){L['XwZ']=e['api.dashboardName']}}return L},$F:function(e,L,hT){L.noExceptionDialog=true;tab.ApiClientCommands.doApiCommand(L,ss.mkdel(this,function(hU){var hV=hU;if(ss.isValue(hT)){hV=hT(hU)}var hW=q.$0('api.success',hV);this.$Z.sendCrossDomainResponse(e,hW)}),ss.mkdel(this,function(hU){var hV=q.$0('api.remotefailed',hU);this.$Z.sendCrossDomainResponse(e,hV)}))}},null,[ss.IDisposable]);ss.initClass(S,a,{dispose:function(){this.$8.dispose();this.$9=true},activateStoryPoint:function(e){this.$6(e,ss.mkdel(this,this.$2))},activatePreviousStoryPoint:function(e){this.$6(e,ss.mkdel(this,function(L){return this.$1(L,function(hT){return hT.clickPrevious()})}))},activateNextStoryPoint:function(e){this.$6(e,ss.mkdel(this,function(L){return this.$1(L,function(hT){return hT.clickNext()})}))},revertStoryPoint:function(e){this.$6(e,ss.mkdel(this,this.$5))},$5:function(e){return this.$3(e,'api.RevertStoryPoint',function(L){return L.revertStoryPoint()})},$2:function(e){return this.$3(e,'api.ActivateStoryPoint',function(L){return L.clickStoryPoint()})},$3:function(e,L,hT){S.$0(e,L);var hU=JSON.parse(e.get_parameters());var hV=hU['api.storyPointIndex'];if(!ss.isValue(hV)||isNaN(ss.unbox(hV))){throw new ss.Exception('Missing index parameter.')}var hW=this.$0();if(ss.Nullable$1.lt(hV,0)||ss.Nullable$1.ge(hV,ss.count(hW.get_captions()))){throw new ss.Exception('The index is out of bounds.')}var hX=$.Deferred();var hY=ss.getItem(hW.get_captions(),ss.unbox(hV));hT(hY).then(ss.mkdel(this,function(hZ){var ia=J.serializeStoryPoint(hZ,this.$7);hX.resolve(ia)}),function(hZ){hX.reject(hZ)});return hX.promise()},$1:function(e,L){S.$0(e,['api.ActivateNextStoryPoint','api.ActivatePreviousStoryPoint']);var hT=this.$0();var hU=$.Deferred();L(hT).then(ss.mkdel(this,function(hV){var hW=ss.getItem(hT.get_captions(),hV);var hX=J.serializeStoryPoint(hW,this.$7);hU.resolve(hX)}),function(hV){hU.reject(hV)});return hU.promise()},$4:function(){var e=J.serializeStory(this.$7);var L=JSON.stringify(e);this.$a.sendCrossDomainEventNotification('api.StorytellingStateChangedEvent',null,L)},$0:function(){var e=this.$7.get_flipboardNavigatorViewModel();if(ss.isNullOrUndefined(e)){throw new ss.Exception('The active sheet is not a story.')}return e},$6:function(L,hT){try{hT(L).then(ss.mkdel(this,function(e){var hU=q.$0('api.success',e);this.$a.sendCrossDomainResponse(L,hU)}),ss.mkdel(this,function(e){var hU=q.$0('api.remotefailed',e);this.$a.sendCrossDomainResponse(L,hU)}))}catch(hU){var e=ss.Exception.wrap(hU);var errorResult1=q.$0('api.localfailed',e.get_message());this.$a.sendCrossDomainResponse(L,errorResult1)}}},null,[ss.IDisposable]);ss.initClass(T,a,{get_toolbarState:function(){return this.$4},dispose:function(){this.$3.dispose()},$1:function(){var e=new tab._ApiCommand('api.ToolbarStateChangedEvent',tab._ApiCommand.generateNextCommandId(),null,null);var L=q.$0('api.success',this.$4);this.$2.sendCrossDomainResponse(e,L)},$0:function(){if(ss.isNullOrUndefined(this.$5.get_vizCommandItems())||ss.isNullOrUndefined(this.$5.get_nonVizCommandItems())){return}var e={};T.$0(e,this.$5.get_vizCommandItems());T.$0(e,this.$5.get_nonVizCommandItems());var L=Q.newToolbarStatePM(T.$2(e,'undo'),T.$2(e,'redo'),T.$2(e,'revert'),T.$3(e,'toggle-updates','Pause'),T.$2(e,'refresh'),T.$1(e,'customviews'),tsConfig.is_metrics_enabled,T.$1(e,'subscribe'),T.$1(e,'share'),T.$1(e,'download'));this.$4=L;this.$1()}},null,[ss.IDisposable]);ss.initClass(U,a,{add_clientChanged:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_clientChanged:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},get_tabbedNavigation:function(){return this.$o},get_client:function(){return this.$k},initTabbedNavigation:function(){if(!tab.ApplicationModel.get_instance().get_showTabs()){return}var e=$('.tabbedNavigation');if(e.length>0){if(ss.isValue(this.$o)){this.$o.destroy()}this.$o=new tableau.base.widget.TabbedNavigation({},e[0]);this.$o.startup()}},dispose:function(){if(!ss.isValue(U.$2)){return}if(ss.isValue(this.$j)){this.$j.dispose();this.$j=null}this.$1();this.$l.dispose();this.$c();this.$m.dispose();if(ss.isValue(this.$o)){this.$o.destroy();this.$o=null}spiff.GlobalTouchWatcher.dispose();tab.ApplicationModel.get_instance().get_workbook().remove_dashboardDeleted(ss.mkdel(this,this.$i));U.$2=null},$i:function(e){this.$1()},$1:function(){if(ss.isNullOrUndefined(this.$k)){return}this.$k.destroyRecursive();this.$k=null;this.$n=null},$2:function(e){tab.SheetClientCommands.switchSheets(e)},$c:function(){if(!U.get_isHostedInApiContext()){return}if(ss.isValue(this.$j)){var e=window.removeEventListener;if(ss.isValue(e)){e('message',ss.mkdel(this,this.$3),true)}else{var L=ss.mkdel(this,this.$3);window.self.detachEvent('onmessage',L)}this.$j=null}},$9:function(e,L){if(!U.get_isHostedInApiContext()){return}this.$j=new R(e,L,tabBootstrap.ViewerBootstrap.get_instance().apiResponder);var hT=window.addEventListener;if(ss.isValue(hT)){hT('message',ss.mkdel(this,this.$3),true)}else{var hU=ss.mkdel(this,this.$3);window.self.attachEvent('onmessage',hU)}},$0:function(){if(!U.get_isHostedInApiContext()){return}if('addEventListener'in window.self){window.addEventListener('unload',ss.mkdel(this,this.$b),true)}else{window.self.attachEvent('onunload',ss.mkdel(this,this.$b))}},$b:function(e){this.$c()},$4:function(){this.$g();this.$7();tab.StartupUtils.remove_clientFullyLoaded(ss.mkdel(this,this.$4))},$f:function(){var e=function(hU){var hV=[];for(var hW=0;hW<hU.length;hW++){var hX=hU[hW];hV.push(cE.toDownloadableFontProperties(hX,''))}ga.get_instance().notifyDownloadableFont(hV)};tab.FontNotificationUtil.add_fontPropertiesIdentified(e);tab.WorldUpdateInterceptor.get().add_onCommandResponse(ss.mkdel(this,function(hU){if(ss.referenceEquals(hU.get_worldUpdateCommand().commandName,'set-active-story-point'.toString())||ss.referenceEquals(hU.get_worldUpdateCommand().commandName,'render-tooltip-server'.toString())||hU.get_sheetChanged()||hU.get_rebuildTheWorld()){this.$8()}}));tab.FontNotificationUtil.add_allFontsFound(U.handleAllFontsFound);if(tab.ProgressiveLoader.get_progressiveLoadEnabled()){var L=null;L=function(){tab.WorldUpdateInterceptor.get().remove_onProgressiveLoadComplete(L);U.handleAllFontsFound()};tab.WorldUpdateInterceptor.get().add_onProgressiveLoadComplete(L)}var hT=null;hT=function(){if(!tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){ga.get_instance().downloadFonts()}};tab.StartupUtils.callAfterModelsInitialized(function(){tab.CommandController.get().add_modelsUpdated(hT)});tab.StartupUtils.callAfterBootstrap(function(){if(!tab.ProgressiveLoader.get_progressiveLoadEnabled()){U.handleAllFontsFound()}tab.CommandController.get().remove_modelsUpdated(hT)});this.$8()},$8:function(){bI.get_instance().reset(1);bI.get_instance().addCompletedHandler(1,function(){dc.logUIStabilized()});ga.get_instance().initialize();var e=(fR.isHighDpi()?ga.bentonSansFontNames:ga.bentonSansSemiDemiFontNames);ga.get_instance().registerServerLoadedFonts(e);if(tab.FeatureFlags.isEnabled('TableauFontWeb')){ga.get_instance().registerServerLoadedFonts(ga.tableauFontNames)}ga.get_instance().notifyDownloadableFont(e)},$7:function(){tabBootstrap.MetricsController.initSessionInfo();tab.MetricsLogger.get_instance().attach()},$3:function(e){if(typeof(ss.getType('ss'))==='undefined'){return}if(ss.isValue(this.$j)){this.$j.handleEvent(e)}},$5:function(e){this.$h(e);var L=tab.CommandController.get().get_legacySession();this.$1();tab.ApplicationModel.get_instance().get_shapeManager().clearShapeStampCache();tabBootstrap.MetricsController.initSessionInfo();var hT=U.$0(true,L);this.$k=hT;this.$n=hT;this.$k.startup();if(ss.isValue(this.$1$3)){this.$1$3()}this.$g();if(tabBootstrap.Utility.get_embedMode()==='embeddedInWg'||tabBootstrap.Utility.get_embedMode()==='notEmbedded'){this.$d(e)}},$6:function(e){this.$g();U.handleAllFontsFound()},$g:function(){if(ss.isValue(this.$j)){this.$j.updateClients(this.$k,this.$n)}},$d:function(e){if(tsConfig.is_authoring){this.$e(e.YnR,e.DDA)}else{this.replaceWindowLocationForTabChangeWhileViewing(e.YnR)}},$e:function(e,L){if(this.$a(e)){var hT=tab.VizUriModel.createForAuthoringPublishedSheet(e);hT.replaceState()}else{var hU=tab.VizUriModel.createForCurrentWindowLocation();if(hU.get_isAuthorNewWorkbookUri()){}else if(tab.MiscUtil.isNullOrEmpty$1(e)){var hV=tab.VizUriModel.createForAuthoringUnpublishedSheet(tsConfig.origin_repository_url,L);hV.replaceState()}}},replaceWindowLocationForTabChangeWhileViewing:function(e){if(this.$a(e)){var L=tab.VizUriModel.createForViewingSheet(e);L.replaceState()}else{}},$a:function(e){if(tab.MiscUtil.isNullOrEmpty$1(e)||ss.startsWithString(e,'ds:')){return false}return true},$h:function(e){tsConfig.current_sheet_name=e.DDA;tsConfig.current_sheet_type=e.xD;tsConfig.current_view_id=e.$oY;if(e.ko_===true){tsConfig.current_custom_view_id=e.s_w}else{tsConfig.current_custom_view_id=null}tsConfig.layoutid=e.JAR;tsConfig.embeddedTitle=e.EGq;tsConfig.blogURI=e.eeK;tsConfig.requestURI=e.EtP;tsConfig.downloadURI=e.VrA;tsConfig.staticImage=e.ZWJ;tsConfig.guid=e.OVc;var L=e.YnR;tsConfig.repositoryUrl=(this.$a(L)?L:'')}},null,[ss.IDisposable]);ss.initClass(V,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(W,a,{get_dom:function(){return this.get_template()},get_dashboardNode:function(){return this.$d.get_dashboardNode()},get_containerNode:function(){return this.$d.get_containerNode()},get_toolbarContainer:function(){return this.get_dom().toolbarContainer},$b:function(){return this.get_viewModel()},onAddedToDom:function(){if(!this.addedToDom){this.$a();this.$9()}spiff.Widget.prototype.onAddedToDom.call(this)},resizeToolbar:function(){this.$c.forceResizeToolbar()},$a:function(){this.$d=spiff.ObjectRegistry.newView(hL).call(null,[this.$b().get_workbookViewModel()]);this.$d.addToDom(this.get_dom().domNode)},$9:function(){if(ss.isNullOrUndefined(this.$b().get_toolbarViewModel())||!tsConfig.toolbarContainerVis){return}{var e=tabBootstrap.MetricsController.createContext('TBRADD'.toString(),64,null);try{this.$c=spiff.ObjectRegistry.newView(gR).call(null,[this.$b().get_toolbarViewModel()]);this.$c.addToDom(this.get_toolbarContainer());this.get_toolbarContainer().height(tabBootstrap.ViewerBootstrap.get_instance().get_vizToolbarHeight())}finally{if(ss.isValue(e)){e.dispose()}}}}},ss.makeGenericType(spiff.BaseView$1,[Y]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[Y])]);ss.initInterface(dz,a,{get_domNode:null,get_isDashboard:null,get_vizSize:null,get_session:null,get_viewControllers:null,get_applicationPresModel:null,get_toolbarContainer:null,get_requestURI:null,get_toolbarDisplayed:null,set_toolbarDisplayed:null,get_vFilterList:null,get_toolbarCommands:null,get_customViewsViewModel:null,destroyRecursive:null,startup:null,doResize:null});ss.initInterface(dx,a,{get_flipboardNavigatorViewModel:null,get_containedSheetName:null,get_containedSheetType:null,get_containedSheetZoneId:null,get_containedDashboardZones:null,get_hasContainedSheet:null});ss.initClass(X,a,{get_flipboardNavigatorViewModel:function(){if(ss.isValue(this.$C)&&ss.isValue(this.$C.get_dashboardViewModel())){return this.$C.get_dashboardViewModel().get_flipboardNavigatorViewModel()}return null},get_hasContainedSheet:function(){return ss.isValue(this.get_containedSheetZoneId())},get_containedSheetName:function(){var e=this.$x();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_dashboardViewModel())||ss.isNullOrUndefined(e.get_dashboardViewModel().dashboardModel)){return null}return e.get_dashboardViewModel().dashboardModel.get_sheetName()},get_containedSheetZoneId:function(){var e=this.$x();if(ss.isNullOrUndefined(e)||e.get_flipboardModel()===null){return null}return e.get_flipboardModel().get_zoneId()},get_containedSheetType:function(){var e=this.$x();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_flipboardModel())||ss.isNullOrUndefined(e.get_flipboardModel().get_storyPointModel())){return'worksheet'}return(e.get_flipboardModel().get_storyPointModel().get_isBackingSheetDashboard()?'dashboard':'worksheet')},get_containedDashboardZones:function(){var e=this.$x();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_dashboardViewModel())||ss.isNullOrUndefined(e.get_dashboardViewModel().dashboardModel)||ss.isNullOrUndefined(e.get_dashboardViewModel().dashboardModel.pm)){return null}return e.get_dashboardViewModel().dashboardModel.pm.HCq},get_autoUpdate:function(){return tab.ApplicationModel.get_instance().get_autoUpdate()},set_autoUpdate:function(e){tab.ApplicationModel.get_instance().set_autoUpdate(e)},get_isDashboard:function(){return this.$v().get_isDashboard()},$z:function(){return tabBootstrap.ViewerBootstrap.get_instance().get_shouldShowTabs()},get_vizSize:function(){return tab.ApplicationModel.get_instance().get_workbook().get_outerDashboardSize()},get_session:function(){return this.session},get_vFilterList:function(){return null},get_applicationPresModel:function(){return tab.ApplicationModel.get_instance().get_appPresModel()},get_requestURI:function(){return tsConfig.requestURI},get_viewControllers:function(){var e=this.$u();if(ss.isValue(e)){return e.viewControllers}return[]},get_toolbarDisplayed:function(){return tabBootstrap.ViewerBootstrap.get_instance().toolbarDisplayed},set_toolbarDisplayed:function(e){tabBootstrap.ViewerBootstrap.get_instance().toolbarDisplayed=e;if(ss.isValue(this.get_toolbarContainer())){this.get_toolbarContainer().toggle(e)}},get_invalid:function(){return tab.ApplicationModel.get_instance().get_invalid()},set_invalid:function(e){tab.ApplicationModel.get_instance().set_invalid(e)},get_skipInit:function(){return this.skipInit},get_toolbarCommands:function(){return this.$K},get_customViewsViewModel:function(){if(ss.isValue(this.get_toolbarViewModel())){return this.get_toolbarViewModel().get_customViewsViewModel()}else{return null}},get_toolbarViewModel:function(){if(ss.isValue(this.$C)){return this.$C.get_toolbarViewModel()}else{return null}},$y:function(){return tab.Logger.getLoggerWithName(ss.getTypeName(X)+tsConfig.layoutid)},$x:function(){if(ss.isValue(this.$C)&&ss.isValue(this.$C.get_dashboardViewModel())){return this.$C.get_dashboardViewModel().get_flipboardViewModel()}return null},$v:function(){if(ss.isValue(this.$C)){return this.$C.get_dashboardViewModel()}return null},$u:function(){if(ss.isValue(this.$C)){return this.$C.get_contentDashboardViewModel()}return null},get_domNode:function(){return this.$B.get_dom().domNode},$w:function(){return this.$B.get_dom().vizPlaceholder},get_toolbarContainer:function(){return this.$B.get_toolbarContainer()},startup:function(){this.$C=new Y(tab.ApplicationModel.get_instance());this.$B=spiff.ObjectRegistry.newView(W).call(null,[this.$C]);this.$C.add_applicationUpdate(ss.mkdel(this,this.$i));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){this.$C.remove_applicationUpdate(ss.mkdel(this,this.$i))})));this.$q();this.resize(false)},destroyRecursive:function(){this.destroy()},destroy:function(){this.$H=tab.MiscUtil.clearTimeout(this.$H);this.$K.dispose();this.$K=null;for(var e=0;e<this._connections.length;e++){var L=this._connections[e];L.dispose()}ss.clear(this._connections);for(var hT=0;hT<this._subscriptions.length;hT++){var hU=this._subscriptions[hT];dojo.unsubscribe(hU)}ss.clear(this._subscriptions);if(ss.isValue(this.$C)){this.$C.dispose();this.$C=null}$('body').off(this.createNamespacedEventName('mouseenter')).off(this.createNamespacedEventName('mouseleave'));this.$B.dispose();this.$A=null;this.$B=null;this.dispose()},doResize:function(){if(!tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){this.$I++}this.$n(!this.$D)},$7:function(e){eI.load(tab.IPdfExportDialogModule).call(null,[]).done(ss.mkdel(this,function(L){var hT=L.createPdfExportDialog(this.get_session(),false,tsConfig.is_mobile);e(hT)}))},createTapToInteractTransition:function(e,L){},createTapToInteractTouchHandler:function(e){},makeAuthorByline:function(){return new bd(tsConfig.workbook_repo_url)},resize:function(e){if(!e&&ss.isValue(this.$G)){var L=tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type);if(L.w===this.$G.w&&L.h===this.$G.h){this.$F=false;return}if(this.$F){this.$G=L;this.$F=false;return}this.$F=true}else{this.$F=false}this.doResize()},$b:function(){tab.CommandController.get().resetInvalidationHandlers();tab.CommandController.get().add_onUrlActionsResponse(tab.ActionUtils.launchActionUrls);this._connections.push(new tab.CallOnDispose(function(){tab.CommandController.get().remove_onUrlActionsResponse(tab.ActionUtils.launchActionUrls)}));tab.CommandController.get().add_onInvalidation(ss.mkdel(this,this.$h));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){tab.CommandController.get().remove_onInvalidation(ss.mkdel(this,this.$h))})));tab.CommandController.get().add_onPrimaryBootstrapSuccess(ss.mkdel(this,this.$f));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){tab.CommandController.get().remove_onPrimaryBootstrapSuccess(ss.mkdel(this,this.$f))})))},$j:function(e){if(tsConfig.is_authoring&&tsConfig.current_sheet_type!=='worksheet'){if(ss.referenceEquals(e.target,this.get_domNode().get(0))||ss.referenceEquals(e.target,this.$B.get_dashboardNode().get(0))||ss.referenceEquals(e.target,this.$B.get_containerNode().get(0))||ss.referenceEquals(e.target,hL.findDashboardContainer().get(0))){tab.SelectionClientCommands.clearActiveZone()}return}if(ss.isValue(e.target)){if(ss.referenceEquals(e.target,this.get_domNode().get(0))||ss.referenceEquals(e.target,this.$B.get_dashboardNode().get(0))||$(e.target).hasClass('wcLayoutContainer')){var L=tab.ModelUtils.findActiveOrDefaultVisual();if(ss.isValue(L)){tab.SelectionClientCommands.clearAllSelections(L.get_visualId())}this.$6();e.preventDefault()}}},$q:function(){$('html').attr('lang',tsConfig.language);$('body').addClass((tab.BrowserSupport.get_isWindows()?'os-windows':''));$('#centeringContainer').append(this.get_domNode());var e=new p;this.get_domNode().on(this.createNamespacedEventName('contextmenu'),ss.mkdel(this,this.$g)).on(this.createNamespacedEventName('mousedown'),ss.mkdel(e,e.$0)).on(this.createNamespacedEventName('mouseup'),ss.mkdel(e,e.$1));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_domNode().off(this.createNamespacedEventName('contextmenu')).off(this.createNamespacedEventName('mousedown')).off(this.createNamespacedEventName('mouseup'))})));e.$6(ss.mkdel(this,this.$j));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){e.$7(ss.mkdel(this,this.$j))})));this.$B.onAddedToDom();if(tsConfig.is_mobile_app){this.$p(null);spiff.OrientationHandler.add_orientationChanged(ss.mkdel(this,this.$k));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){spiff.OrientationHandler.remove_orientationChanged(ss.mkdel(this,this.$k))})))}this.session.get_waitHandler().unlock();this.get_toolbarContainer().toggle(this.get_toolbarDisplayed());this.$t();tab.BaseSession.linkTarget=tsConfig.linktarget;tab.AckbarEventsHelper.get().add_doLaunchAuthoring(ss.mkdel(this,this.$8));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){tab.AckbarEventsHelper.get().remove_doLaunchAuthoring(ss.mkdel(this,this.$8))})));this._subscriptions.push(dojo.subscribe('onDoLaunchAuthoring',ss.mkdel(this,this.$8)));this.$b()},$l:function(){if(tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){}},$8:function(){tab.ToolbarServerCommands.launchEditing()},$a:function(){if(!ss.isNullOrEmptyString(tsConfig.primaryContentUrl)){return tsConfig.primaryContentUrl}if(ss.referenceEquals(window.self,window.top)){return null}var e=tableau.util.parseUri(document.referrer);if(!ss.isValue(e)||ss.isValue(e['hostname'])&&ss.referenceEquals(e['hostname'],window.location.hostname)){return null}return document.referrer},$i:function(){if(ss.isNullOrUndefined(this.$v())){return}var e=this.$u();if(ss.isValue(e)&&ss.getKeyCount(e.viewControllersBySheet)===1){this.$r(e.viewControllers[0],null)}this.$t();if(!this.get_skipInit()&&!this.$E){this.session.get_waitHandler().onNextHide(ss.mkdel(this,this.$9));this.$o()}this.$E=true;if(!this.$z()){var L=X.getClientBounds();L.h=this.$v().get_size().EUR;L.w=this.$v().get_size().rec;this.$d(L)}this.resize(false)},$t:function(){},$o:function(){if(tsConfig.showLytebox){$('#primaryContent').attr('src',this.$a())}},$6:function(){if(this.get_viewControllers().length<=1){return}this.$r(null,null)},$r:function(e,L){var hT=new Object;hT.data=L;hT.oldActive=null;hT.newActive=null;var hU=hT;var hV=null;var hW=null;if(ss.isValue(this.$A)){hV=this.$A;hU.oldActive=hV.get_viewWidget()}if(ss.isValue(e)){hW=e;hU.newActive=hW.get_viewWidget()}if(ss.referenceEquals(hW,hV)){return}this.$A=hW;if(this.get_autoUpdate()||!this.get_invalid()){if(!ss.staticEquals(X.$2$1,null)){X.$2$1(hU)}}},$g:function(e){var L=$(e.target);if(L.filter('input[type=text]').length===0&&L.filter('textarea').length===0){e.preventDefault();e.stopPropagation()}},$f:function(){U.get_instance().initTabbedNavigation();this.$G=tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type);if(this.$I>1){this.$s(X.getClientBounds())}},$h:function(e){var L=e.layoutStatus;if(ss.isValue(e.primarySheet)){var hT=this.$u().viewControllersBySheet['v_'+e.primarySheet];if(ss.isValue(hT)){this.$r(hT,e)}}this.set_invalid(!ss.isNullOrUndefined(L.Ijt)&&L.Ijt);if(ss.isValue(L.XRl)&&L.XRl.length>0){var hU=[];for(var hV=0;hV<L.XRl.length;hV++){var hW=L.XRl[hV];if(!ss.contains(hU,hW.Gge)&&hW.iaP.length>0){hU.push(hW.Gge)}}var hX=this.get_viewControllers();for(var hY=0;hY<hU.length;hY++){var hZ=hU[hY];var ia={$:hZ};var ib=_.find(hX,ss.mkdel({name:ia},function(ic){return ss.referenceEquals(ic.get_sheetName(),this.name.$)}));if(ss.isValue(ib)){ib.$1(e)}}}},$n:function(e){var L=(e?0:1000);this.$H=tab.MiscUtil.clearTimeout(this.$H);this.$H=window.setTimeout(ss.mkdel(this,this.$m),L)},$m:function(){if(!this.session.get_waitHandler().isBusy()&&(!this.$D||ss.isValue(tsConfig.layoutid))&&ss.isValue(this.$C)){this.$c();return}this.$H=tab.MiscUtil.clearTimeout(this.$H);this.$H=window.setTimeout(ss.mkdel(this,this.$m),100)},$p:function(e){var L=window.innerHeight;var hT=(ss.isValue(e)?e.get_dimensions().h:tabBootstrap.ViewerBootstrap.get_instance().getViewport().h);var hU=(ss.isValue(e)?e.get_dimensions().w:tabBootstrap.ViewerBootstrap.get_instance().getViewport().w);var hV=Math.max(tabBootstrap.ViewerBootstrap.get_instance().get_compositeSize().maxHeight,tabBootstrap.ViewerBootstrap.get_instance().get_compositeSize().minHeight);var hW=Math.max(tabBootstrap.ViewerBootstrap.get_instance().get_compositeSize().maxWidth,tabBootstrap.ViewerBootstrap.get_instance().get_compositeSize().minWidth);var hX=hT/hU*hW;if(tabBootstrap.ViewerBootstrap.get_instance().toolbarDisplayed){hX-=tabBootstrap.ViewerBootstrap.get_instance().get_vizToolbarHeight()}if(hX>hV&&hX>L){this.get_domNode().css('height',hX+'px')}else if(!ss.isNullOrEmptyString(this.get_domNode().get(0).style.height)){this.get_domNode().css('height','')}},$k:function(){bm.getViewport(ss.mkdel(this,this.$p))},$c:function(){this.$G=tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type);var e=X.getClientBounds();this.$s(e);tab.CommandController.get().refreshLayout();this.$d(e);var L=U.get_instance().get_tabbedNavigation();if(tsConfig.is_mobile_app&&this.$z()&&ss.isValue(L)){L.domNode.style.width=e.w+'px';if(tab.BrowserSupport.get_isIos()&&tab.BrowserSupport.get_iosVersion()<9){L.domNode.style.maxWidth=$('body').width()+'px'}var hT=tab.ApplicationModel.get_instance().get_workbook().get_outerDashboardSize();if(ss.isValue(hT)){L.resize$1(hT.h)}}this.$D=true},$d:function(e){if(ss.isValue(this.$J)&&tab.RectUtil.isEqual(this.$J,e)){return}this.$J=e;{var L=tabBootstrap.MetricsController.createContext('TBRLAY'.toString(),64,null);try{tab.DomUtil.setContentBox(this.$w().get(0),e);if(!tab.ApplicationModel.get_instance().get_showToolbar()){this.get_toolbarContainer().css('visibility','hidden')}else if(tsConfig.toolbarContainerVis){if(gS.get_toolbarIsBottom()){this.get_domNode().after(this.get_toolbarContainer())}this.get_toolbarContainer().css('visibility','visible');if(tsConfig.is_mobile_app){this.get_toolbarContainer().css('width',e.w+'px');if(tab.BrowserSupport.get_isIos()&&tab.BrowserSupport.get_iosVersion()<9){this.get_toolbarContainer().css('max-width',tab.DoubleUtil.roundToInt($('body').width()))}}else if(gS.get_toolbarIsBottom()||!this.$z()){this.get_toolbarContainer().css('max-width',e.w+'px')}this.$B.resizeToolbar()}}finally{if(ss.isValue(L)){L.dispose()}}}},$s:function(e){if(!tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()||this.skipInit&&!this.$D){return}var L={};L.rec=e.w;L.EUR=e.h;var hT=L;tab.SheetClientCommands.setPortSize(hT)},$e:function(){var e={};e['t']=tabBootstrap.MetricsController.getTiming();e['d']='APPINT'.toString();var L=new tabBootstrap.MetricsEvent('gen',2,e);tabBootstrap.MetricsController.logEvent(L);tab.BrowserSupport.doPostMessageWithContext('tableau.responsive')},$9:function(){var e=(tab.ProgressiveLoader.get_progressiveLoadEnabled()?150:450);this.$e();var L=$('#staticImage');var hT=$('#loadingGlassPane');var hU=$('#loadingSpinner');var hV=$('#svg-spinner-container');var hW=$('#tapToInteract');this.createTapToInteractTouchHandler(hW);if(tsConfig.animateTransition){this.session.get_waitHandler().loadingElementFadeOut(hU,e,function(hX){hX.hide();hV.css('background','rgba(255,255,255,0.6)')});this.session.get_waitHandler().loadingElementFadeOut(hT,e,function(hX){hX.hide().css('cursor','default')});if(L.length>0){this.session.get_waitHandler().loadingElementFadeOut(L,e,function(hX){hX.hide()})}if(hT.length>0){this.createTapToInteractTransition(tsConfig.animateTransition,e)}}else{hU.hide();L.hide();hT.hide();this.createTapToInteractTransition(tsConfig.animateTransition,0)}}},spiff.Widget,[spiff.IAppendableView,ss.IDisposable,dz,dx]);ss.initClass(Y,a,{add_applicationUpdate:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_applicationUpdate:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_dashboardViewModel:function(){return this.$6.get_dashboardViewModel()},get_contentDashboardViewModel:function(){return this.$6.get_contentDashboardViewModel()},get_workbookViewModel:function(){return this.$6},get_toolbarViewModel:function(){return this.$5},dispose:function(){if(ss.isValue(this.$5)){this.$5.dispose()}this.$2();this.$4.remove_newWorkbook(ss.mkdel(this,this.handleNewWorkbook));spiff.BaseViewModel.prototype.dispose.call(this)},handleNewWorkbook:function(e){this.$2();this.$6=new hM(e)},$2:function(){if(ss.isValue(this.$6)){this.$6.dispose();this.$6=null}},handleApplicationUpdate:function(){this.raiseActionEvent(this.$2$1)},$3:function(e){var L=e;if(ss.isValue(L['viewCount'])){this.get_toolbarViewModel().set_viewCount(parseInt(L['viewCount'],10))}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(Z,a,{$c:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},$d:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$a:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},$b:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},dismiss:function(){this.element.remove()},$8:function(){this.$9.label.text(tab.Strings.AreYouSureText);var e=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$6),tab.Strings.AreYouSureCancel,null,2,null);this.disposables.add$1(e);this.$9.cancelButton.append(e.element);var L=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$7),tab.Strings.AreYouSureDelete,null,1,null);this.disposables.add$1(L);this.$9.confirmButton.append(L.element)},$6:function(){this.dismiss();if(ss.isValue(this.$2$2)){this.$2$2()}},$7:function(){this.dismiss();if(ss.isValue(this.$2$1)){this.$2$1()}}},spiff.Widget,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(ba,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bb,a,{});ss.initClass(bc,a,{});ss.initClass(bd,a,{get_element:function(){return this.authorBylineElement},displayAuthorByline:function(e){var L=(e-this.authorBylineElement.width())/2+'px';this.authorBylineElement.css('left',L);var hT=this.$0();var hU=ss.formatString('<a target="_blank" href="{0}">{1}</a>',tableau.format.escapeHTML(hT),tableau.format.escapeHTML(tab.Strings.AuthorBylineText));this.authorBylineText.html(hU)},dispose:function(){if(ss.isValue(this.authorBylineElement)){this.authorBylineElement.remove()}},$0:function(){var e=window.location;return ss.formatString('{0}//{1}/profile/app/rdr/repo?workbook={2}',e.protocol,e.hostname,this.$1)}},null,[ss.IDisposable]);ss.initClass(bg,a,{get_retryWithMessageViewName:function(){return ss.formatString('/{0}/dataSourceGenericErrorView.html',tsConfig.language)},onAuthDialogMessage:function(e,L){if(ss.isNullOrUndefined(e)){return}var hT=e;var hU=hT.data.toString();if(ss.isNullOrEmptyString(hU)||!ss.equalsT(hU,'tableau.authCompleted')){return}if(!ss.equalsT(tab.BrowserSupport.getOrigin(document.location),hT.origin)){return}this.cleanup(L);if(ss.isValue(this.onProceed)){this.onProceed()}},show:null,cleanup:null});ss.initClass(bf,a,{cleanup:function(e){var L=document.getElementById('auth-overlay');if(!ss.isNullOrUndefined(L)){L.parentElement.removeChild(L)}if(ss.isValue(e)){if(ss.isValue(e.onTabSelectHandle)){e.onTabSelectHandle.dispose()}tab.WindowHelper.removeListener(window.self,'message',e.eventHandler);if(ss.isValue(e.zoneBecameValidHandler)){e.zoneBecameValidHandler.dispose()}}}},bg);ss.initClass(be,a,{show:function(){this.createOverlay();var e=new cP;var L=ss.mkdel(this,function(){this.cleanup(e)});hQ.add_zoneBecameValid(L);e.zoneBecameValidHandler=new tab.CallOnDispose(function(){hQ.remove_zoneBecameValid(L)});var hT=ss.mkdel(this,function(hV){this.onAuthDialogMessage(hV,e)});e.eventHandler=hT;var hU=ss.mkdel(this,function(){this.cleanup(e)});tab.CommandController.add_sheetNameChanged(hU);e.onTabSelectHandle=new tab.CallOnDispose(function(){tab.CommandController.remove_sheetNameChanged(hU)});tab.WindowHelper.addListener(window.self,'message',hT)},createOverlay:function(){var e=$('.dashboardSpacer');var L=$("<div id='auth-overlay'></div>");var hT=document.createElement('iframe');hT.setAttribute('src',this.$0);hT.setAttribute('tb-test-id','dse-frame');L.append(hT);e.append(L)}},bf);ss.initClass(bj,a,{get_lineHeight:function(){return this.parent.get_presModel().$tN},get_width:function(){return this.$2},set_width:function(e){this.$2=e},get_itemFormatter:function(){return this.$1},set_itemFormatter:function(e){this.$1=e},get_scrollNode:function(){return null},instantiate:function(e,L,hT){},shouldNotReinstantiate:function(){return false},updateContent:function(e){},resetContent:function(e,L,hT){},setUpForPendingChanges:function(){if(this.parent.shouldDeferChanges()){this.pendingManager=this.parent.makePendingChangesManager();this.pendingManager.add_onPendingChanges(ss.mkdel(this,this.enableApplyButton));this.pendingManager.add_onNoPendingChanges(ss.mkdel(this,this.disableApplyButton));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.pendingManager.remove_onPendingChanges(ss.mkdel(this,this.enableApplyButton));this.pendingManager.remove_onNoPendingChanges(ss.mkdel(this,this.disableApplyButton))})));this.$0()}},$0:function(){this.apply=spiff.LabelButton.newNativeButton();this.apply.addClass('apply');this.apply.set_label(tab.Strings.QuickFilterApply);this.apply.set_hoverTooltipText(tab.Strings.QuickFilterApply);var e=ss.mkdel(this,function(){this.resetPendingVisuals(false);this.parent.applyPendingChangesByChangelist()});this.apply.add_click(e);this.disposables.add$1(this.apply);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.apply.remove_click(e)})));this.cancel=spiff.LabelButton.newNativeButton();this.cancel.addClass('cancel');this.cancel.set_label(tab.Strings.QuickFilterCancel);this.cancel.set_hoverTooltipText(tab.Strings.QuickFilterCancel);var L=ss.mkdel(this,function(){this.resetPendingVisuals(true);this.parent.cancelPendingChangesByChangelist()});this.cancel.add_click(L);this.disposables.add$1(this.cancel);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.cancel.remove_click(L)})));this.disableApplyButton()},appendApplyButton:function(e){if(this.parent.shouldDeferChanges()){e.addClass('CFApplyButtonContainer');e.append(this.apply.element);e.append(this.cancel.element)}},layoutApplyButton:function(e){if(ss.isValue(e)){var L=tab.DoubleUtil.roundToInt(e.width());var hT=parseInt(this.apply.element.css('margin-right'));var hU=Math.floor(L/2-hT);var hV='max-width';if(tab.BrowserSupport.get_isIE()&&tab.BrowserSupport.get_browserVersion()<=8&&hU<this.apply.element.width()){hV='width'}this.apply.element.css(hV,hU+'px');this.cancel.element.css(hV,hU+'px')}},enableApplyButton:function(){this.apply.set_disabled(false);this.cancel.set_disabled(false)},disableApplyButton:function(){this.apply.set_disabled(true);this.cancel.set_disabled(true)},resetPendingVisuals:function(e){},applyChanges:function(){},layout:function(e,L){dojo.marginBox(this.div,e)},fetchChildNodeByIndex:function(e){if(ss.isNullOrUndefined(e)||e<0){return null}if(cY.filterItem.isAllItem(this.div.firstChild)){e+=1}return this.div.childNodes[e]},fetchAllItem:function(){return this.div.childNodes[0]},shouldUseAllItem:function(){return this.attributes['show-all']!=='false'},countIfAll:function(e){var L=((this.parent.get_mode()==='checklist')?1:0);for(var hT=0;hT<e.length;hT++){if(e[hT].s){L+=1}}return L===e.length},getSummaryText:function(){return(this.hasSummaryText()?this.parent.get_oFilter().summary:'')},formatTuple:function(e){return tableau.format.formatTupleDisplayName(e,true,this.parent.get_oFilter().role)},formatFacet:function(e){return tableau.format.formatTupleDisplayFacet(e,true,this.parent.get_oFilter().role)},onSmallSearchUI:function(e,L){},hasSummaryText:function(){var e=this.parent.get_mode()==='slider';var L=this.parent.get_mode()==='dropdown'||this.parent.get_mode()==='checkdropdown';var hT=this.parent.get_oFilter().summary;var hU=!ss.referenceEquals(hT,tab.Strings.QuickFilterAll);return ss.isValue(hT)&&(e||L&&hU)},applyChangesByChangelist:function(e,L){var hT=ss.coalesce(this.attributes['values'],'');var hU=[];var hV=[];var hW=[];if(L==='checklist'||L==='checkdropdown'||L==='typeinlist'){var hX=e.compileForChecklist(hT);var hY;for(var hZ=0;hZ<hX.select.length;hZ++){hY=hX.select[hZ];hU.push(hY)}for(var ia=0;ia<hX.deselect.length;ia++){hY=hX.deselect[ia];hV.push(hY)}tab.FilterClientCommands.modifyCategoricalFilterValuesByIndex(this.parent.get_session().get_visualId(),this.parent.get_field(),Array.prototype.slice.call(hU),Array.prototype.slice.call(hV))}else if(L==='radiolist'){var ib=e.compileForRadiolist(hT);hW.push(ib.index);tab.FilterClientCommands.setCategoricalFilterValuesByIndex(this.parent.get_session().get_visualId(),this.parent.get_field(),'filter-replace',Array.prototype.slice.call(hW))}},destroy:null,dispose:function(){this.disposables.dispose()}},Object,[ss.IDisposable]);ss.initClass(bh,a,{get_scrollNode:function(){var e=null;if(ss.isValue(this.menuNode)){e=this.menuNode.children('.CFInnerContainer').get(0)}return e},instantiate:function(e,L,hT){this.fillListElement=ss.mkdel(this,function(hU){this.createListElement(hU,e,L,hT)});this.dropdown=$('<span>').addClass('tabComboBox').addClass('tab-ctrl-formatted-widget').addClass('tab-ctrl-formatted-darker-border-hover').addClass('tabComboStdTheme').addClass('tabComboBoxNoIcon').addClass('tiledContent').on('click',ss.mkdel(this,this.onDropdownClicked));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.dropdown.remove()})));this.dropdownLabelContainer=$('<div>').addClass('tabComboBoxNameContainer').addClass('tab-ctrl-formatted-fixedsize').appendTo(this.dropdown);$('<span>').addClass('tabComboBoxName').text(this.getLabelText(e)).appendTo(this.dropdownLabelContainer);$("<div class='tabComboBoxButtonHolder'><span class='tabComboBoxButton'>"+ef.getDropDownForColor(this.parent.get_presModel().mCc.YhU.toString())+'</span></div>').appendTo(this.dropdown);this.div.appendChild(this.dropdown.get(0));if(ss.isValue(this.menuNode)){this.menuNode.children('.tiledContent').remove();this.fillMenu(this.menuNode)}this.$6(e.length)},updateContent:function(e){if(ss.isValue(this.menuNode)){if(tab.BrowserSupport.get_isIE()){this.menuNode.css({'box-shadow':'none'})}var L=((e.length>0)?e.join(''):this.searchBox.get_noMatchHtml());var hT=this.menuNode.children('.tiledContent');if(ss.isValue(this.tiledWidget)){this.tiledWidget.destroy();this.tiledWidget=null}hT.html(L);if(this.$c){var hU=this.dropdown.offset();this.menuNode.css({top:hU.top-this.menuNode.outerHeight()+'px'})}if(tab.BrowserSupport.get_isIE()){this.menuNode.css({'box-shadow':'2px 2px 2px #adadad'})}}},resetContent:function(e,L,hT){this.fillListElement=ss.mkdel(this,function(hV){this.createListElement(hV,e,L,hT)});if(ss.isValue(this.menuNode)){this.$a(this.menuNode);var hU=this.$4();this.menuNode.css({top:(this.$c?(hU.y-this.dropdown.height()-this.menuNode.outerHeight()-1+'px'):(hU.y+'px')),left:hU.x+'px'})}this.dropdownLabelContainer.children().text(this.getLabelText(e));if(ss.isValue(this.searchBox)&&this.searchBox.isShowingResults()){return}if(ss.isValue(this.menuNode)){bm.getViewport(ss.mkdel(this,function(hV){if(ss.isValue(this.tiledWidget)){this.tiledWidget.destroy();this.tiledWidget=null}if(ss.isValue(this.menuNode)){this.menuNode.children().remove();this.$3(hV,this.menuNode)}}))}this.$6(e.length)},$6:function(e){var L=(this.shouldUseAllItem()?1:0);if(e+L<=5){this.searchBox.hideUI()}else{this.searchBox.showUI$1()}},shouldNotReinstantiate:function(){return false},layout:function(e,L){this.inherited(arguments);if(ss.isValue(this.tiledWidget)){this.tiledWidget.updateViewport(e.w,e.h)}},destroy:function(){this.dispose();this.hideMenu();if(ss.isValue(this.tiledWidget)){this.tiledWidget.destroy()}this.tiledWidget=null},fetchAllItem:function(){if(!this.shouldUseAllItem()){return null}else{return this.menuNode.children('.CFInnerContainer').children('.FIItem').get(0)}},fetchChildNodeByIndex:function(e){if(ss.isValue(this.tiledWidget)){return this.tiledWidget.getElement(e)}else{return null}},createListElement:null,getLabelText:function(e){var L=cY.isAllOrAllChecked(this.parent);this.currentlySelected=-1;this.multimode=false;var hT=e.length;if(hT===0){if(!L){}return tab.Strings.QuickFilterAll}for(var hU=0;hU<hT;hU++){if(e[hU].s&&!L){if(this.currentlySelected>-1){this.multimode=true;break}this.currentlySelected=hU}}if(L&&hT>1){return tab.Strings.QuickFilterAll}else if(this.multimode){return tab.Strings.QuickFilterMultipleValues}else if(this.currentlySelected===-1&&this.hasSummaryText()){return this.getSummaryText()}else{var hV=((this.currentlySelected>-1)?this.currentlySelected:0);return tableau.format.formatTupleDisplayName(ss.coalesce(e[hV],''),true,this.parent.get_oFilter().role)}},onDropdownClicked:function(e){bm.getViewport(ss.mkdel(this,this.$8))},$8:function(e){if(this.$5()){return}var L=document.body;this.removeGlass();this.glass=new spiff.Glass;this.glass.add_click(ss.mkdel(this,this.hideMenu));this.glass.set_zIndex(899);this.glass.show();var hT=this.$4();this.menuNode=$('<div>').attr('id',this.parent.id+'_menu').addClass('CFOuterContainer').addClass('tabMenuComboDropdownTheme').addClass('tab-ctrl-formatted-widget').css({position:'absolute',top:hT.y+'px',left:hT.x+'px','max-height':30*this.get_lineHeight()+'px','z-index':'900',visibility:'hidden'}).appendTo(L);if(!tab.ColorModel.fromColorCode(this.parent.get_backgroundColor()).isLuminanceAboveThreshold(0.314999997615814)){this.menuNode.addClass('tab-darkBackground')}if(!this.$b){hI.applyFormatting(this.menuNode.get(0),this.parent.get_presModel().mCc,this.parent.get_backgroundColor(),this.get_lineHeight(),true);this.$b=true}this.searchBox.startupNoAppend();this.$a(this.menuNode);this.$3(e,this.menuNode);$(this.menuNode.get(0)).toggleClass('QFDropdownMenuAbove',this.$c)},removeGlass:function(){if(ss.isValue(this.glass)){this.glass.remove_click(ss.mkdel(this,this.hideMenu));this.glass.dispose();this.glass=null}},hideMenu:function(){this.searchBox.clearSearch(false,false);this.removeGlass();if(ss.isValue(this.menuNode)){this.menuNode.remove();this.menuNode=null}},$5:function(){return ss.isValue(this.menuNode)||ss.isValue(this.glass)},$4:function(){var e=this.dropdown.offset();var L=tab.DoubleUtil.roundToInt(this.dropdown.outerHeight());return{x:tab.DoubleUtil.roundToInt(e.left),y:tab.DoubleUtil.roundToInt(e.top)+L-1}},$3:function(e,L){if(ss.isNullOrUndefined(L)){return}this.fillMenu(L);this.$c=this.$7(e,L);if(this.$c){$(this.searchBox.domNode).appendTo(L)}else{$(this.searchBox.domNode).insertBefore(L.children().first())}this.$9(e,L);if(this.searchBox.get_isVisible()){this.searchBox.showUI$1()}},$9:function(e,L){var hT=this.dropdown.offset();var hU=tab.DoubleUtil.roundToInt(this.dropdown.outerWidth())-2;var hV=document.body;var hW=L.find('.tile').eq(0);var hX=hW.css('right');var hY=(ss.isValue(hW[0])?hW[0].style.width:'');hW.css({right:'auto',width:''});var hZ=tab.DoubleUtil.roundToInt(hW.width())+20;hW.css({right:hX});hW.css({width:hY});hZ=Math.max(hZ,hU);var ia=tab.DoubleUtil.roundToInt($(hV).width());hZ=Math.min(hZ,ia);L.width(hZ);var ib=L.offset();var ic=tab.DoubleUtil.roundToInt(ib.left);var id=ic+tab.DoubleUtil.roundToInt(L.outerWidth());var ie=$(hV).find('.dashboardSpacer');var ig=ie.offset();var ih=tab.DoubleUtil.roundToInt(ig.left)+tab.DoubleUtil.roundToInt(ie.width());var ii=id-ih;if(ii>0){var ij=ic-ii;ij=Math.max(ij,0);L.css({left:ij+'px'})}var ik=30*this.get_lineHeight();var il=3*this.get_lineHeight();var im=e.getVisibleRoom(tab.PointUtil.fromPosition(hT),0);var io=(this.$c?im.roomAbove:(im.roomBelow-2))-20;io=io-parseInt(L.css('border-bottom-width'));io=Math.min(io,ik);io=Math.max(io,il);L.css({'max-height':io+'px'});if(this.$c){if(im.roomAbove>io-1){L.css({top:hT.top-L.outerHeight()+'px'})}else{L.css({top:hT.top-im.roomAbove+'px'})}}var ip=((ss.isValue(this.searchBox)&&this.searchBox.get_isVisible())?dojo.marginBox(this.searchBox.domNode).h:0);var iq=0;var ir=L.children('.CFInnerContainer');if(this.parent.shouldDeferChanges()&&ss.isValue(this.apply)&&!this.menuNode.hasClass('CFDropdownNoItems')){iq=dojo.marginBox(this.apply.element.get(0)).h;this.layoutApplyButton(ir)}if(ss.isValue(ir)){ir.css({'max-height':L.get(0).clientHeight-ip-iq+'px'});this.tiledWidget.updateViewport(tab.DoubleUtil.roundToInt(ir.height()),0)}L.css({visibility:'visible'})},$7:function(e,L){var hT=this.dropdown.offset();var hU=30*this.get_lineHeight();var hV=e.getVisibleRoom(tab.PointUtil.fromPosition(hT),0);var hW=Math.min(L.outerHeight(),hU)>hV.roomBelow&&hV.roomAbove>hV.roomBelow;return hW},fillMenu:function(e){if(ss.isNullOrUndefined(e)){return}var L=$('<div>').addClass('CFInnerContainer').addClass('tab-ctrl-formatted-text');e.append(L);this.fillListElement(L.get(0))},$a:function(e){if(this.parent.get_oFilter().all||this.parent.get_oFilter().allNotChecked){e.addClass('CFAll')}else{e.removeClass('CFAll')}if(this.parent.get_oFilter().exclude){e.addClass('CFExclusive')}else{e.removeClass('CFExclusive')}}},bj,[ss.IDisposable]);ss.initInterface(dG,a,{add_fontsReady:null,remove_fontsReady:null,add_fontDownloading:null,remove_fontDownloading:null,reset:null,addFonts:null,downloadFonts:null,finishDownloadingFonts:null});ss.initClass(bl,a,{add_fontsReady:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_fontsReady:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_fontDownloading:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_fontDownloading:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},reset:function(){},addFonts:function(e){for(var L=0;L<e.length;L++){var hT=e[L];tab.StyleUtil.appendCSSRuleToStyleSheet$1('tab-simpleFontLoader','@font-face',hT.toCSSRules())}},downloadFonts:function(){if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}},finishDownloadingFonts:function(){tab.StartupUtils.callAfterBootstrap(ss.mkdel(this,function(){this.$0()}))},$0:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}},null,[dG]);ss.initClass(bm,a,{get_dimensions:function(){return this.$0},translatePositionToViewport:function(e){var L={x:e.x,y:e.y};bm.$0(L);L.y-=this.$0.t;L.x-=this.$0.l;return L},getVisibleRoom:function(e,L){var hT=this.translatePositionToViewport(e);var hU=function(hZ){return Math.max(0,hZ-L)};var hV=hU(Math.min(this.get_dimensions().w-hT.x,window.pageXOffset+window.innerWidth-e.x));var hW=hU(Math.min(hT.x,e.x));var hX=hU(Math.min(hT.y,e.y));var hY=hU(Math.min(this.get_dimensions().h-hT.y,window.pageYOffset+window.innerHeight-e.y));return{roomAbove:hX,roomBelow:hY,roomLeft:hW,roomRight:hV}},getDocumentViewport:function(e){var L=this.getVisibleRoom(e,0);return{l:ss.Int32.trunc(e.x-L.roomLeft),t:ss.Int32.trunc(e.y-L.roomAbove),w:ss.Int32.trunc(L.roomLeft+L.roomRight),h:ss.Int32.trunc(L.roomAbove+L.roomBelow)}}},null,[tab.IBrowserViewport]);ss.initClass(bo,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bp,a,{});ss.initEnum(br,a,{singleSelectionList:0,singleSelectionDropDown:1,multiSelectionList:2,multiSelectionDropDown:3});ss.initClass(bs,a,{get_legendItems:function(){return this.$1}},spiff.Template,[ss.IDisposable]);ss.initClass(bt,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(eu,a,{get_contentArea:function(){return this.legendContentArea}},spiff.Template,[ss.IDisposable]);ss.initClass(bu,a,{},eu,[ss.IDisposable]);ss.initClass(bv,a,{get_docSize:function(){var e=this.get_catLegendViewModel().get_categoricalLegendPM().vNc.vYY;return{w:e.rec,h:e.EUR}},get_catLegendViewModel:function(){return this.get_viewModel()},get_catLegendTemplate:function(){return this.get_template()},get_scrollOffset:function(){var e=this.get_catLegendTemplate().columnsHolder.scrollLeft();var L=this.get_catLegendTemplate().columnsHolder.scrollTop();return{x:e,y:L}},set_scrollOffset:function(e){this.get_catLegendTemplate().columnsHolder.scrollLeft(e.x);this.get_catLegendTemplate().columnsHolder.scrollTop(e.y)},onAddedToDom:function(){ss.makeGenericType(bi,[bw]).prototype.onAddedToDom.call(this);this.drawLegend(true)},onSelectionChanged:function(e){if(this.get_catLegendViewModel().get_categoricalLegendPM().vNc.IAN===this.$o.length){this.$h(e);this.$n()}},onViewModelPropertyChanged:function(e,L){switch(L.get_propertyName()){case'isActiveZone':case'isReadyZone':{break}case'Items':{this.onSelectionChanged(null);break}case'ParentZoneSizeChanged':{var hT=this.get_catLegendViewModel().$4();if(hT.w===this.get_catLegendTemplate().panel.width()&&hT.h===this.get_catLegendTemplate().panel.height()){}else{this.resetLegend(false)}this.$m();break}case'CustomShapesLoaded':{if(this.get_catLegendViewModel().get_legendTypeEnum()==='shape'){if(ss.isValue(this.$r)){tab.WindowHelper.cancelAnimationFrame(ss.unbox(this.$r))}this.$r=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,function(){this.$r=null;this.$h(null)}))}break}case null:{this.resetLegend(false);break}default:{this.resetLegend(true);break}}},$m:function(){if(!this.get_legendTooltip().get_isTooltipShown()){return}var e=this.$d();var L=this.$k();if(ss.isValue(L)&&!tab.RectXYUtil.isEmpty(e)){this.scrollToShowBounds(e);var hT=tab.DomUtil.getRectXY(L.item);var hU={x:hT.x+ss.Int32.div(hT.w,2),y:hT.y+ss.Int32.div(hT.h,2)};this.get_legendTooltip().selectionMoved(hU)}else{this.get_legendTooltip().repositionWithinRegion(tab.DomUtil.getRectXY(this.get_catLegendTemplate().panel))}},scrollToShowBounds:function(e){},$d:function(){var e={x:0,y:0,w:0,h:0};var L=this.get_catLegendViewModel().get_categoricalLegendPM();var hT=L.vNc;for(var hU=0;hU<hT.IAN;++hU){var hV=this.$o[hU];for(var hW=0;hW<hT.OSr&&hW<hV.get_legendItems().length;++hW){var hX=hV.get_legendItems()[hW];var hY=hX.domRoot.data('tabLegendItem');if(ss.isValue(hY)&&this.get_catLegendViewModel().isSelected(hY)){var hZ=tab.DomUtil.getMarginBoxJQ(hX.item);var ia={x:hZ.l,y:hZ.t,w:hZ.w,h:hZ.h};e=tab.RectXYUtil.union(e,ia)}}}return e},$k:function(){var e=this.get_catLegendViewModel().get_categoricalLegendPM();var L=e.vNc;for(var hT=0;hT<L.IAN;++hT){var hU=this.$o[hT];for(var hV=0;hV<L.OSr&&hV<hU.get_legendItems().length;++hV){var hW=hU.get_legendItems()[hV];var hX=hW.domRoot.data('tabLegendItem');if(ss.isValue(hX)&&this.get_catLegendViewModel().isSelected(hX)){return hW}}}return null},getLegendItemFromEvent:function(e){var L=$(e.target);if(L.hasClass('tabLegendItemLabelHolder')||L.hasClass('tabLegendItem')){return null}return L.parents('.tabLegendItem').addBack().first().data('tabLegendItem')},resetLegend:function(e){this.drawLegend(e)},getViewportPosition:function(e){var L=e.get_gestureInfo();var hT={x:L.pageX,y:L.pageY};return hT},getDocumentPosition:function(e){var L={x:e.x,y:e.y};var hT=tab.DomUtil.getRectXY(this.get_catLegendTemplate().columnsHolder);L.x+=this.get_catLegendTemplate().columnsHolder.scrollLeft()+this.bodyOffset.x-hT.x;L.y+=this.get_catLegendTemplate().columnsHolder.scrollTop()+this.bodyOffset.y-hT.y;return L},performSelectOnItem:function(e,L,hT,hU){if(this.get_catLegendViewModel().get_legendTypeEnum()!=='map'){if(tab.FeatureFlags.isEnabled('VizLegendHover')){switch(L){case'simple':case'range':{if(ss.referenceEquals(this.$q,e)){this.get_catLegendViewModel().selectItem(e,'toggle')}this.get_catLegendViewModel().selectItem(e,L);break}case'toggle':{if(!ss.referenceEquals(this.$q,e)){this.get_catLegendViewModel().selectItem(e,L)}break}}this.$q=null}else{this.get_catLegendViewModel().selectItem(e,L)}this.get_legendTooltip().singleSelectCoordinates(hT,{x:hU.x,y:hU.y},this.get_legendViewModel().get_regionType(),'legenditem')}},performHoverOnItem:function(e,L,hT){if(this.get_catLegendViewModel().get_legendTypeEnum()!=='map'){var hU=true;if(tab.FeatureFlags.isEnabled('VizLegendHover')){if(ss.referenceEquals(this.$q,e)){hU=false}else if(this.get_catLegendViewModel().isSelected(e)){this.clearPreviousHoveredItem()}else{this.clearPreviousHoveredItem();this.get_catLegendViewModel().selectItem(e,'toggle');this.$q=e;hU=false}}if(hU){this.get_legendTooltip().hoverOverCoordinates(L,{x:hT.x,y:hT.y},'legenditem',this.get_legendViewModel().get_regionType())}}},clearPreviousHoveredItem:function(){if(tab.FeatureFlags.isEnabled('VizLegendHover')){var e='toggle';if(ss.isValue(this.$q)){this.get_catLegendViewModel().selectItem(this.$q,e)}}},clearHoverOnItem:function(){if(tab.FeatureFlags.isEnabled('VizLegendHover')){this.clearPreviousHoveredItem();this.$q=null}},setContentSize:function(e,L){bv.setDomNodeStyleSize(this.get_catLegendTemplate().columnsHolder,L,e)},onLegendHighlighterTapped:function(){this.get_catLegendViewModel().toggleHighlighting()},setHighlightButtonVisibility:function(e){e=e&&this.get_catLegendViewModel().$n();if(e){this.get_catLegendTemplate().legendHighlighterHolder.show()}else{this.get_catLegendTemplate().legendHighlighterHolder.hide()}},drawLegend:function(e){var L=this.get_catLegendViewModel().get_categoricalLegendPM();var hT=L.vNc;for(var hU=0;hU<this.$o.length;hU++){var hV=this.$o[hU];hV.domRoot.remove()}ss.clear(this.$o);var hW=this.get_catLegendViewModel().$4().w;var hX=this.get_catLegendViewModel().$4().h;bv.setDomNodeStyleSize(this.get_catLegendTemplate().panel,hW,hX);var hY='tableau_base_legend_'+this.get_catLegendViewModel().get_regionType().toString()+(this.get_catLegendViewModel().$n()?'_q_':'_')+encodeURIComponent(this.get_catLegendViewModel().$7());this.get_catLegendTemplate().panel.get(0).id=hY;bv.$0(this.get_catLegendTemplate().titleArea,true);this.viewportWidth=hW;this.viewportHeight=hX;this.bodyOffset={x:0,y:0};this.drawTitle();var hZ=this.get_catLegendViewModel().$5();if(this.get_catLegendViewModel().get_titleInline()){var ia=this.get_catLegendViewModel().get_categoricalLegendPM().vNc.bjh;this.get_baseLegendTemplate().titleArea.css('height',ia+'px');this.get_baseLegendTemplate().titleArea.css('line-height',ia+'px');this.viewportWidth-=hZ.w;this.bodyOffset.x+=hZ.w}else{this.viewportHeight-=hZ.h;this.bodyOffset.y+=hZ.h}this.setContentSize(this.viewportHeight,this.viewportWidth);this.get_catLegendTemplate().columnHolder.attr('aria-label',this.get_catLegendTemplate().titleArea.text());if(e){var ib=L.xxA;if(ss.isNullOrUndefined(ib)){ib={};ib.thj=0;ib.RAC=0}this.set_scrollOffset(tab.PointUtil.fromPresModel(ib))}var ic=hT.EfC.rec;var id=hT.EfC.EUR;var ie=hT.RbA.rec;var ig=hT.RbA.EUR;var ih=Math.ceil((ic-ie)/2);var ii=Math.ceil((id-ig)/2);var ij={w:ic,h:id};var ik=null;var il=false;if(this.get_catLegendViewModel().legendType==='color'||this.get_catLegendViewModel().legendType==='map'){ik={l:ih,t:ii,w:ie,h:ig};il=ss.isValue(this.get_catLegendViewModel().$i().jBs)}var im=this.$l(hT);for(var io=0;io<hT.IAN;++io){var ip=new bs(hT.OSr,im,hT.bjh,ij,ik,il);this.$o.push(ip);ip.column.width(im);this.get_catLegendTemplate().columnHolder.append(ip.domRoot)}this.$n();this.$h(null)},$n:function(){this.get_catLegendTemplate().legendHighlighterHolder.toggleClass('tabHighlightEnabled',this.get_catLegendViewModel().$k());this.get_catLegendTemplate().legendHighlighterHolder.toggleClass('tabHighlightDisabled',!this.get_catLegendViewModel().$k())},$h:function(e){var L=ss.isNullOrUndefined(e);var hT=this.get_catLegendViewModel().get_categoricalLegendPM();var hU=hT.vNc;var hV=this.get_catLegendViewModel().get_numLegendItems();var hW=0;for(var hX=0;hX<hU.IAN&&hW<hV;++hX){var hY=this.$o[hX];for(var hZ=0;hZ<hU.OSr&&hW<hV&&hZ<hY.get_legendItems().length;++hZ,++hW){if(!L&&!ss.contains(e,hZ)){continue}var ia=hY.get_legendItems()[hZ];var ib=this.$f(hW,ia);if(ss.isValue(ib)){this.$g(ib,hT,ia);ia.domRoot.data('tabLegendItem',ib)}}}},$f:function(e,L){var hT=null;switch(this.get_catLegendViewModel().legendType){case'color':case'map':{hT=this.$e(e,L);break}case'size':{hT=this.$j(e,L);break}case'shape':{hT=this.$i(e,L);break}default:{break}}return hT},$e:function(e,L){var hT=this.get_catLegendViewModel().$i();var hU=hT.DKF[e];var hV=this.get_catLegendViewModel().$p();var hW=tab.ColorModel.fromColorCode(hU.YhU);hW=tab.ColorModel.alphaComposite(hW,hV);var hX=this.get_catLegendViewModel().isLegendItemGrayed(hU);if(hX){hW=tab.SceneDataUtil.applyFoggingToColor(hW,hV)}var hY=hW.toString();L.itemSwatch.get(0).id=hY;var hZ={};hZ['background-color']=hY;if(ss.isValue(hT.jBs)){hZ['border-style']='solid';var ia=tab.ColorModel.fromColorCode(hT.jBs);if(hX){ia=tab.SceneDataUtil.applyFoggingToColor(ia,hV)}hZ['border-color']=ia.toString()}L.itemSwatch.css(hZ);return hU},$i:function(e,L){var hT=this.get_catLegendViewModel().$m();var hU=hT.x_f[e];var hV=hT.vNc.EfC.rec;var hW=hT.vNc.EfC.EUR;var hX=L.renderContext;hX.clearRect(0,0,hV,hW);if(ss.isNullOrUndefined(this.$p)||!this.$p.$Q(hU.Yi)){this.$p=new v(L,hV/2,hW/2,hT.vNc.RbA.rec,hT.vNc.RbA.EUR,this.get_catLegendViewModel().$p())}this.$p.$S(hX,hU.Yi,this.get_catLegendViewModel().isLegendItemGrayed(hU));L.itemSwatch.get(0).id=hU.Yi.toString();return hU},$j:function(e,L){var hT=this.get_catLegendViewModel().$o();var hU=hT.nJz[e];var hV=hT.vNc.EfC.rec;var hW=hT.vNc.EfC.EUR;var hX=hT.vNc.RbA.EUR;var hY=Math.ceil((hW-hX)/2);var hZ=L.renderContext;hZ.save();var ia=bv.$6;var ib=bv.$4;if(this.get_catLegendViewModel().isLegendItemGrayed(hU)){var ic=this.get_catLegendViewModel().$p();ia=tab.SceneDataUtil.applyFoggingToColor(ia,ic);ib=tab.SceneDataUtil.applyFoggingToColor(ib,ic)}hZ.set_shapeFillStyle(ia.toString());hZ.set_strokeStyle(ib.toString());hZ.set_lineWidth(2);var id=hV/2;var ie=hW/2;var ig=hU.dIK/2;hZ.clearRect(0,0,hV,hW);hZ.setClip({x:0,y:1,w:hV,h:hW-2});switch(hT.WnZ){case'shape':case'circle':case'pie':{hZ.beginPath();hZ.arc(id,ie,ig,0,Math.PI*2,false);hZ.closePath();hZ.fill();hZ.beginPath();hZ.arc(id,ie,ig,0,Math.PI*2,false);hZ.closePath();hZ.stroke();break}case'line':case'gantt':case'bar':{hZ.fillRect(id-ig,hY,hU.dIK,hX);break}case'square':{var ih=id-ig;var ii=ie-ig;hZ.fillRect(ih,ii,hU.dIK,hU.dIK);hZ.strokeRect(ih,ii,hU.dIK,hU.dIK);break}case'text':{var ij=hT.mYd;if(typeof(ij)==='undefined'){ij=hT.mCc}cy.setTextProperties(hZ,ij,hU.dIK);hZ.set_textAlign('center');hZ.fillText1(tab.Strings.SizeLegendTextMarkSwatch,id,ie);break}default:{break}}hZ.restore();L.itemSwatch.get(0).id=hT.WnZ.toString()+'_'+hU.dIK.toString();return hU},$l:function(e){if(e.ICz==='grid'&&e.vYY.rec<e.Fvw){return e.vYY.rec}else{return e.Fvw}},$g:function(e,L,hT){var hU=L.mCc;var hV=null;var hW='';if(this.get_catLegendViewModel().isSelected(e)){hU=L._PQ;hW=L.kLF}else if(this.get_catLegendViewModel().isLegendItemGrayed(e)){var hX=this.get_catLegendViewModel().$p();hV=tab.SceneDataUtil.applyFoggingToColor(tab.ColorModel.fromColorCode(hU.YhU),hX).toString()}var hY=L.vNc.MsN.RAC;var hZ=L.vNc.MsN.thj;var ia='left';var ib=this.$l(L.vNc);var ic=ib-hZ;var id={};if(hU.weu==='h-align-right'||L.vNc.ZTg){ia='right';id.overflow='inherit';var ie=Math.max(ib-hZ-L.vNc.sWs,0);id.right=ie+'px';ic=ib-ie}else{id.left=hZ+'px'}id.top=hY+'px';id.width=ic+'px';id.bottom='0px';id['text-align']=ia;hT.itemLabelHolder.css(id);hT.itemLabel.css('background-color',hW);hT.itemLabel.css(de.makeFormatStyleDict(hU,hV));hT.itemLabel.text(e.gjO);hT.domRoot.attr('aria-selected',this.get_catLegendViewModel().isSelected(e).toString())}},ss.makeGenericType(bi,[bw]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[bw])]);ss.initClass(es,a,{$4:function(){var e=null;if(ss.isValue(this.$9)){e={w:this.$9.get_width(),h:this.$9.get_height()}}return e},$5:function(){var e=null;if(ss.isValue(this.$9)){e=this.$9.get_titleSize();e.h=Math.max(0,e.h-2*this.get_borderWidth());e.w=Math.max(0,e.w-2*this.get_borderWidth())}else{e={w:0,h:0}}return e},$7:function(){return this.$b},$8:function(){return this.$9.get_zoneId()},$6:function(){return(ss.isValue(this.get_visualModel())?this.$a.get_visualId():null)},get_visualModel:function(){if(ss.isNullOrUndefined(this.$a)){this.$a=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),this.$b)}return this.$a},get_parentZoneVM:function(){return this.$9},get_hasTitle:function(){return this.get_titleWidth()!==0||this.get_titleHeight()!==0},get_borderWidth:null,get_regionType:null,get_titleHtml:null,get_titleInline:null,get_titleHeight:null,get_titleWidth:null,dispose:function(){if(ss.isValue(this.$9)){this.$9.remove_propertyChanged(ss.mkdel(this,this.$2));this.$9.remove_zoneResized(ss.mkdel(this,this.$3))}spiff.BaseViewModel.prototype.dispose.call(this)},$2:function(e,L){this.notifyPropertyChanged(L.get_propertyName())},$3:function(){this.notifyPropertyChanged('ParentZoneSizeChanged')}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(bw,a,{get_catLegendModel:function(){return this.$r},get_legendTypeEnum:function(){switch(this.legendType){case'color':{return'color'}case'shape':{return'shape'}case'size':{return'size'}case'map':{return'map'}}return'color'},get_categoricalLegendPM:function(){return this.$r.get_catLegendPresModel()},get_numLegendItems:function(){var e=this.get_catLegendModel().get_items();return(ss.isNullOrUndefined(e)?0:e.length)},get_titleInline:function(){var e=this.$5();if(this.get_categoricalLegendPM().vNc.HNR===false&&e.h===0&&e.w>0){return true}else{return this.get_categoricalLegendPM().vNc.HNR}},get_titleHtml:function(){return this.get_categoricalLegendPM().XjF},$l:function(){return this.get_catLegendModel().get_legendNames()},$p:function(){return this.$v||new tab.ColorModel(255,255,255,1)},$h:function(){var e=this.get_categoricalLegendPM().rPC;return(ss.isValue(e.eBu)?tab.ColorModel.fromColorCode(e.eBu):bw.$1)},$i:function(){return this.$r.get_catLegendPresModel()},$m:function(){return this.$r.get_catLegendPresModel()},$o:function(){return this.$r.get_catLegendPresModel()},get_regionType:function(){var e='color';switch(this.legendType){case'color':{e='color';break}case'size':{e='size';break}case'shape':{e='shape';break}case'map':{e='map';break}default:{break}}return e},get_borderWidth:function(){var e=this.get_categoricalLegendPM().rPC.s$V;if(this.get_categoricalLegendPM().rPC.ysh1==='bs-none'){e=0}return e},get_titleHeight:function(){var e=this.get_categoricalLegendPM().vNc.jZr;if(e===0){e=this.$5().h}return e},get_titleWidth:function(){var e=this.get_categoricalLegendPM().vNc.nkG1;if(e===0){e=this.$5().w}return e},$k:function(){return this.get_catLegendModel().get_isHighlightEnabled()},$n:function(){return this.get_catLegendModel().get_isHighlightAllowed()},$j:function(){return this.get_visualModel().get_selectionsModel().get_brushVizForNodeSelection()||!this.get_visualModel().get_selectionsModel().tupleSelection.isEmpty},dispose:function(){es.prototype.dispose.call(this);this.$r.remove_legendChanged(ss.mkdel(this,this.$f));this.$r.remove_legendNameChanged(ss.mkdel(this,this.$e));this.$u.remove_newSelection(ss.mkdel(this,this.$g));this.$q.remove_newSelection(ss.mkdel(this,this.$g));this.get_visualModel().get_selectionsModel().remove_newSelections(ss.mkdel(this,this.$g));this.get_visualModel().remove_emptyHighlightFogAllChanged(ss.mkdel(this,this.$d));if(ss.isValue(this.$s)){this.$s.dispose()}},isLegendItemGrayed:function(e){if(this.$k()){if(this.isSelected(e)||this.isBrushed(e)){return false}var L=this.get_visualModel();if(ss.isNullOrUndefined(L)){return false}var hT=ss.isValue(this.$q)&&!this.$q.isEmpty;return L.get_emptyHighlightFogAll()||bw.legendShouldBeGrayed(this.get_catLegendModel().get_isOneWay(),this.$j(),this.hasSelection(),hT)}return false},hasSelection:function(){return!this.$u.isEmpty},isSelected:function(e){return this.$u.isLegendItemSelected(e)},isBrushed:function(e){return this.$q.isLegendItemSelected(e)},toggleHighlighting:function(){tab.SelectionClientCommands.toggleLegendHighlight(this.$8(),this.$6(),this.get_regionType(),this.$l(),null)},selectItem:function(e,L){var hT=[];hT.push(e);tab.SelectionClientCommands.selectLegendItemsLocal(this.$8(),L,hT,this.$6(),this.get_catLegendModel(),this.get_legendTypeEnum())},selectNone:function(e){var L=[];tab.SelectionClientCommands.selectLegendItemsLocal(this.$8(),e,L,this.$6(),this.get_catLegendModel(),this.get_legendTypeEnum())},getLegendItem:function(e){var L=this.get_catLegendModel().get_items();if(ss.isNullOrUndefined(L)||e<0||e>=L.length){return null}return L[e]},$e:function(){this.$u.remove_newSelection(ss.mkdel(this,this.$g));this.$u=this.get_visualModel().get_selectionsModel().getLegendSelection(this.get_legendTypeEnum(),this.$l());this.$u.add_newSelection(ss.mkdel(this,this.$g));this.$q.remove_newSelection(ss.mkdel(this,this.$g));this.$q=this.get_visualModel().get_brushingsModel().getLegendSelection(this.get_legendTypeEnum(),this.$l());this.$q.add_newSelection(ss.mkdel(this,this.$g))},$f:function(){if(this.legendType==='shape'){var e=new Set;var L=this.$m();for(var hT=0;hT<L.x_f.length;hT++){var hU=L.x_f[hT];if(tab.SceneDataUtil.isCustomShape(hU.Yi)){e.add(hU.Yi)}}if(ss.isNullOrUndefined(this.$s)){this.$s=new gc(ss.mkdel(this,function(){this.notifyPropertyChanged('CustomShapesLoaded')}))}this.$s.initialize(tab.SetUtilities.getValues(ss.Int32).call(null,e))}this.$t=this.$c();this.notifyPropertyChanged(null)},$g:function(){var e=this.$c();var L=!this.$t.isSelectionStateTheSame(e);if(L){var hT=this.$t.computeChangedItems(e);this.notifySelectionChanged(hT);this.$t=e}},notifySelectionChanged:function(e){if(!ss.staticEquals(this.selectionChanged,null)){this.selectionChanged(e)}},$d:function(){this.notifyPropertyChanged('Items')},$c:function(){return new et(this.$u.get_ids(),this.$q.get_ids(),this.$k(),this.$j(),this.get_catLegendModel().get_isOneWay())}},es,[ss.IDisposable,spiff.IViewModel]);ss.initClass(bx,a,{$l:function(){return _.map(this.props.items,function(e){return e.label})},$k:function(){return{fontFamily:this.props.itemsFontName,fontSize:this.props.itemsFontSize,color:this.props.itemsTextColor,height:this.props.itemsHeight.toString()+'px',lineHeight:this.props.itemsHeight.toString()+'px'}},$j:function(){return{height:this.props.itemsHeight.toString()+'px',lineHeight:this.props.itemsHeight.toString()+'px'}},$2:function(e){var L=this.$0(e);var hT=L.get_theAllItemIsSelected();var hU=[];if(!ss.staticEquals(this.props.additionalTitleButtons,null)){ss.arrayAddRange(hU,this.props.additionalTitleButtons())}var hV=this.props.searchEnabled;var hW=new Object;hW.onTap=ss.mkdel(this,function(ia){this.$a()});hW.customClassName='tab-NewQFTitleBarBtn';hW.iconClassName='tab-NewQFTitleBarSearchBtnIcon';hW.title=tab.Strings.QuickFilterSearch;hW.key='search';hU.push({show:hV,iconProps:hW});var hX=this.props.clearEnabled;var hY=new Object;hY.disabled=hT;hY.onTap=ss.mkdel(this,function(ia){this.$9()});hY.customClassName='tab-NewQFTitleBarBtn';hY.iconClassName=this.$7(hT);hY.title=this.$8(hT);hY.key='clear';hU.push({show:hX,iconProps:hY});this.$n={backgroundColor:this.props.zoneBackgroundColor,shouldDisplayTitleBarButtons:ss.mkdel(this,this.$i),titleButtons:Array.prototype.slice.call(hU),titleCaption:this.props.titleCaption,titleHeight:this.props.titleHeight,titleHtml:this.props.titleHtml,key:'title'};var hZ=new by;hZ.displayTitleBarButtons=(ss.isValue(this.state)?this.state.displayTitleBarButtons:false);hZ.selection=L;return hZ},$0:function(e){switch(this.props.mode){case 0:case 1:{if(this.props.isExclusive){return spiff.ExclusiveSingleSelectGroupSelection.buildExclusiveSingleSelectGroupSelection(Object).call(null,e.items,function(L){return L.isSelected})}else{return(e.initialAllOptionSelected?spiff.SingleSelectGroupSelection.buildSingleSelectGroupSelection(Object).call(null,e.items,true):spiff.SingleSelectGroupSelection.buildSingleSelectGroupSelection$1(Object).call(null,e.items,function(L){return L.isSelected}))}}case 2:case 3:{if(this.props.isExclusive){return spiff.ExclusiveMultiSelectGroupSelection.buildExclusiveMultiSelectGroupSelection(Object).call(null,e.items,function(L){return L.isSelected})}else{return(e.initialAllOptionSelected?spiff.MultiSelectGroupSelection.buildMultiSelectGroupSelection(Object).call(null,e.items,true):spiff.MultiSelectGroupSelection.buildMultiSelectGroupSelection$1(Object).call(null,e.items,function(L){return L.isSelected}))}}default:{throw new ss.NotSupportedException('Except Categorical Quickfilter to be Single/Multi select Dropdown/List.')}}},$i:function(){return this.state.displayTitleBarButtons},$3:function(){var e='tab-NewQF-CategoricalQuickFilter';if(this.props.itemsFontWeight==='font-weight-bold'){e+=' tab-bold'}if(this.props.itemsFontStyle==='font-style-italic'){e+=' tab-italic'}if(this.props.itemsTextDecoration==='text-decoration-underline'){e+=' tab-underline'}return e},componentWillReceiveProps:function(e){this.setState(this.$2(e))},render:function(){return spiff.EventForwarder.div({tap:ss.mkdel(this,function(e){if(tsConfig.is_mobile){this.$g(true)}})},{onMouseEnter:ss.mkdel(this,function(e){if(!tsConfig.is_mobile){this.$g(true)}}),onMouseLeave:ss.mkdel(this,function(e){if(!tsConfig.is_mobile){var L=$(ReactDOM.findDOMNode(this.refs['CategoricalQFComponent']));var hT=tab.DomUtil.getRectXY$1(L,true);if(hT.x>e.clientX||hT.x+hT.w<=e.clientX||hT.y>e.clientY||hT.y+hT.h<=e.clientY){this.$g(false)}}}),className:this.$3(),ref:'CategoricalQFComponent'},[React.createElement(gJ,this.$n),this.$d()])},$d:function(){var e;switch(this.props.mode){case 0:case 2:{e=this.$f();break}case 1:case 3:{e=this.$e();break}default:{e=null;break}}return React.DOM.div({className:'tab-Filter',style:{top:this.$n.titleHeight},key:'filter'},e)},$h:function(e){var L=new by;L.selection=e;L.displayTitleBarButtons=this.state.displayTitleBarButtons;this.setState(L)},$g:function(e){if(e!==this.state.displayTitleBarButtons){var L=new by;L.selection=this.state.selection;L.displayTitleBarButtons=e;this.setState(L);if(tsConfig.is_mobile){if(e){spiff.GlobalTouchWatcher.add_firstTouch(ss.mkdel(this,this.$c))}else{spiff.GlobalTouchWatcher.remove_firstTouch(ss.mkdel(this,this.$c))}}}},$c:function(e,L){if(tsConfig.is_mobile){var hT=ReactDOM.findDOMNode(this.refs['CategoricalQFComponent']);if(!tab.DomUtil.isEqualOrAncestorOf(hT,e.target)){this.$g(false)}}},$f:function(){return React.createElement(spiff.SelectableButtonGroupComponent,this.$1())},$e:function(){var e=this.$6(false);var L=this.props.isExclusive&&!ss.referenceEquals(e,tab.Strings.QuickFilterAll);return React.createElement(spiff.DropdownComponent,{resetSelector:true,getDesiredHeight:spiff.SelectableButtonGroupComponent.getDesiredHeight,renderButton:function(){return React.createElement(spiff.TextDropdownButtonComponent,{selectionText:e,isSelectionTextMarkedAsExcluded:L})}},this.$f())},$1:function(){this.$m=Math.max(0,Math.floor((this.props.itemsHeight-10)/2))+'px';var e=new Object;e.borders=this.props.mode===0||this.props.mode===2;e.allOption=this.props.allOption;var L=new spiff.SelectableButtonGroupItem;L.label=tab.Strings.QuickFilterAll;L.getCustomContentBefore=ss.mkdel(this,this.$5);L.getCustomContentAfter=ss.mkdel(this,this.$4);e.allItem=L;e.items=_.map(this.$l(),ss.mkdel(this,function(hT){var hU=new spiff.SelectableButtonGroupItem;hU.label=hT;hU.getCustomContentBefore=ss.mkdel(this,this.$5);hU.getCustomContentAfter=ss.mkdel(this,this.$4);return hU}));e.buttonStyle=this.$j();e.labelStyle=this.$k();e.selection=this.state.selection;e.isSelectionExclusive=this.props.isExclusive;e.onSelectionChanged=ss.mkdel(this,this.$b);e.showApplyAndCancelButtons=this.props.showApplyAndCancelButtons;e.applyButtonLabel=tab.Strings.QuickFilterApply;e.cancelButtonLabel=tab.Strings.QuickFilterCancel;return e},$5:function(){return[React.DOM.div({key:'selectionMark',className:'tab-SelectionMark',style:{marginTop:this.$m,marginBottom:this.$m,height:10+'px',width:10+'px'}})]},$4:function(){return[React.DOM.div({key:'glass',className:'tab-Glass'})]},$6:function(e){var L=this.state.selection.get_selectedCount();if(L===0){return(this.props.isExclusive?tab.Strings.QuickFilterAll:tab.Strings.QuickFilterNone)}else if(L===this.props.items.length){return(this.props.isExclusive?tab.Strings.QuickFilterNone:tab.Strings.QuickFilterAll)}else if(L===1){return this.state.selection.mapSelected(String).call(this.state.selection,ss.mkdel(this,function(hT){return this.props.items[hT].label}))[0]}else if(e){return tab.Strings.QuickFilterMultipleValues}else{return tab.Strings.QuickFilterNone}},$b:function(e){this.$h(e);if(!ss.staticEquals(this.props.selectionChangedCallBack,null)){this.props.selectionChangedCallBack(e)}},$a:function(){return},$9:function(){this.state.selection.handleTapAll();this.$h(this.state.selection);this.$b(this.state.selection)},$7:function(e){if(e){return'tab-NewQFTitleBarNonFilteredBtnIcon'}else{return'tab-NewQFTitleBarFilteredBtnIcon'}},$8:function(e){if(e){return tab.Strings.QuickFilterClearDisabled}else{return tab.Strings.QuickFilterClearEnabled}}},React.Component);ss.initClass(by,a,{});ss.initClass(fB,a,{get_filterType:null,handleFilterUpdate:null},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(bz,a,{add_propsUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_propsUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},get_props:function(){return{allOption:this.categoricalQuickFilterModel.get_isAllButtonVisible(),initialAllOptionSelected:this.categoricalQuickFilterModel.get_isAllButtonSelected(),titleCaption:(this.categoricalQuickFilterModel.get_isSelectionExclusive()?tab.Strings.QuickFilterTitleBarExclusive(this.displayModel.get_titleCaption()):this.displayModel.get_titleCaption()),titleHtml:this.displayModel.get_titleHtml(),titleHeight:this.displayModel.get_titleHeight(),additionalTitleButtons:this.$3(),clearEnabled:this.categoricalQuickFilterModel.get_showClearButton(),searchEnabled:this.categoricalQuickFilterModel.get_showSearchButton(),itemsHeight:this.displayModel.get_itemsHeight(),items:this.get_listItems(),itemsFontName:this.displayModel.get_itemsFontName(),itemsFontSize:this.displayModel.get_itemsFontSize(),itemsTextColor:this.displayModel.get_itemsTextColor(),itemsFontWeight:this.displayModel.get_itemsFontWeight(),itemsFontStyle:this.displayModel.get_itemsFontStyle(),itemsTextDecoration:this.displayModel.get_itemsTextDecoration(),mode:this.$2(),isExclusive:this.categoricalQuickFilterModel.get_isSelectionExclusive(),zoneBackgroundColor:this.displayModel.get_zoneBackgroundColor(),showApplyAndCancelButtons:this.categoricalQuickFilterModel.get_showApplyAndCancelButtons(),selectionChangedCallBack:ss.mkdel(this,this.$8)}},get_filterType:function(){return'Categorical'},get_listItems:function(){return this.categoricalQuickFilterModel.get_categoricalFilter().get_items().map(function(e){return{isSelected:e.NPh,label:e.pHt}})},handleFilterUpdate:function(){this.raiseActionEvent(this.$3$1)},$8:function(e){tab.FilterClientCommands.setCategoricalFilterValues(this.displayModel.get_visualId(),this.displayModel.get_fieldName(),'filter-replace',e.mapSelected(String).call(e,ss.mkdel(this,function(L){return this.get_listItems()[L].label})),'categorical-filter-infer-all-when-everything-selected')},$2:function(){switch(this.categoricalQuickFilterModel.get_mode()){case'check-list':{return 2}case'radio-list':{return 0}case'dropdown':{return 1}case'check-dropdown':{return 3}case'slider':case'pattern':case'type-in-list':default:{break}}throw new ss.NotSupportedException},$3:function(){return ss.mkdel(this,function(){var e=(ss.isValue(this.displayModel.get_quickFilterCommands())?tab.CommandsPresModelWrapper.create(this.displayModel.get_quickFilterCommands()):null);var L=this.categoricalQuickFilterModel.get_getDomainValue();var hT=ss.isValue(e)&&e.get_commandItems().length!==0&&tsConfig.current_sheet_type!=='story'&&!(tsConfig.current_sheet_type==='dashboard'&&tsConfig.is_authoring);var hU=new Object;hU.onTap=ss.mkdel(this,function(hX){this.$7(hX)});hU.customClassName='tab-NewQFTitleBarBtn';hU.iconClassName='tab-NewQFTitleBarDropdownBtnIcon';hU.key='contextMenu';hU.ref='ContextMenuDropDownButton';var hV=this.categoricalQuickFilterModel.get_showMoreLessButton()&&tsConfig.current_sheet_type!=='story';var hW=new Object;hW.onTap=ss.mkdel(this,function(hX){this.$6()});hW.customClassName='tab-NewQFTitleBarBtn';hW.iconClassName=this.$4(L);hW.title=this.$5(L);hW.key='domain';return[{show:hT,iconProps:hU},{show:hV,iconProps:hW}]})},$7:function(e){var L=(ss.isValue(this.displayModel.get_quickFilterCommands())?tab.CommandsPresModelWrapper.create(this.displayModel.get_quickFilterCommands()):null);if(ss.isNullOrUndefined(L)){throw new ss.ArgumentNullException('Quick filter context menu drop-down button is clicked when there is no quick filter commands.')}var hT=[];hJ.newMenuItemsFromCommands(hT,L.get_presModel(),function(hY){return function(){var hZ=tab.CommandItemWrapper.create(hY);var ia=tab.CommandSerializer.deserialize(hZ.get_command());tab.ServerCommands.executeServerCommand(ia,'immediately')}});var hU=function(hY){var hZ=hY.data;hZ()};var hV=spiff.MenuViewModel.createForMenu(new spiff.Menu(hT),hU);var hW=new spiff.ShowMenuOptions($(e.target),false,0);hW.additionalMenuClass='tabQFContextMenu';var hX=hW;hV.show(hX)},$6:function(){var e=this.categoricalQuickFilterModel.get_getDomainValue();var L=this.categoricalQuickFilterModel.getDomains();var hT=this.displayModel.get_visualId();var hU=this.displayModel.get_fieldName();switch(e){case'all':{if(ss.contains(L,tableau.types.QFDomain.QFD_CONTEXT)){tab.FilterClientCommands.setCategoricalQuickFilterDomain(hT,hU,tableau.types.QFDomain.QFD_CONTEXT)}else{tab.FilterClientCommands.setCategoricalQuickFilterDomain(hT,hU,tableau.types.QFDomain.QFD_RELEVANT)}break}case'context':{tab.FilterClientCommands.setCategoricalQuickFilterDomain(hT,hU,tableau.types.QFDomain.QFD_RELEVANT);break}case'relevant':{tab.FilterClientCommands.setCategoricalQuickFilterDomain(hT,hU,tableau.types.QFDomain.QFD_ALL);break}}},$4:function(e){switch(e){case'all':{return'tab-NewQFTitleBarDomainAllIcon'}case'context':{return'tab-NewQFTitleBarDomainContextIcon'}case'relevant':{return'tab-NewQFTitleBarDomainRelevantIcon'}}return''},$5:function(e){if(e==='relevant'){return tab.Strings.QuickFilterDomainShowMoreValues}else{return tab.Strings.QuickFilterDomainShowFewerValues}}},fB,[ss.IDisposable,spiff.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(bA,a,{get_selectedIndexes:function(){return this._selectedIndexes},clearRangeAnchor:function(){var e=this.$2.fetchChildNodeByIndex(this._anchorIndex);if(!!e){var L=cY.filterItem.getCssNode(e);if(!!L){$(e).removeClass('anchorSelection')}}this._anchorIndex=this._lastRangeSelectionIndex=-1},clearRangeAnchorAndSelection:function(){this.clearRangeAnchor();this._clearSelection()},refreshRangeAnchorAndSelection:function(){if(this._anchorIndex>=0){var e=this.$2.fetchChildNodeByIndex(this._anchorIndex);if(!!e){var L=cY.filterItem.getCssNode(e);if(!!L){$(L).addClass('anchorSelection')}}else{this._anchorIndex=-1}}for(var hT=this._selectedIndexes.length-1;hT>=0;--hT){var hU=this._selectedIndexes[hT];var hV=this.$2.fetchChildNodeByIndex(hU);if(!!hV){this._selectItem(hU)}else{this._selectedIndexes.splice(hT,1)}}},onListItemClick:function(e){var L=cY.filterItem.getNodeFromEvent(e);if(!!!L){return}var hT=tableau.util.isNodeMatch(e.target,'input',ss.mkdict(['type','checkbox']));hT=hT||tableau.util.isNodeMatch(e.target,'input',ss.mkdict(['type','radio']));if(hT){cY.filterItem.syncCssToCheckState(L);this.$2.handleItemClick(L)}var hU=cY.filterItem.getIndex(L);if(ss.isNullOrUndefined(hU)||hU<0){return}if(cY.filterItem.isTypeInListItem(L)){this.$0(e,hU)}else{if(!!!this.changelist){this.changelist=new tab.Changelist}if(hT){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&!this.$2.shouldDeferChanges()){var hV=[];var hW=this.$2.get_filterTable();if(!!hW&&hW.actual_size===hW.tuples.length){var hX=hW.tuples;var hY=this._getCheckedIndexes(hX,L,this.changelist);for(var hZ=0,ia=hY.length;hZ<ia;hZ++){var ib=hY[hZ];var ic=hX[ib].d||hX[ib].t[0].v;hV.push(ic)}var id=this.$2.get_quickFilter();var ie=new tab.LegacyCategoricalQuickFilterData(id.get_oFilter().targetSheets,id.get_field(),id.get_oFilter().exclude,hV);tab.FilterClientCommands.updateCategoricalFilter(ie)}}this.$1(L,e,hU);if(this.$2.shouldDeferChanges()){this.$2.applyChangesByChangelist(this.changelist);this.changelist.reset()}else{this.notifyChange(this.getDoChangeFunc())}}this._updateRangeAnchor(hU)}},$1:function(e,L,hT){var hU=new tab.RawChange;var hV=cY.filterItem.isChecked(e);if(cY.filterItem.isTiled(e)){if(L.shiftKey===true){this._updateCheckboxRangeFromAnchorByIndex(hT);var hW=((this._anchorIndex>-1)?this._anchorIndex:hT);hU.setRange(new tab.IntegerRange(hW,hT),hV);this.changelist.addChange(hU)}else{hU.setSingle(hT,hV);this.changelist.addChange(hU)}}else if(L.shiftKey===true&&this._anchorIndex>-1){this._updateCheckboxRangeFromAnchor(hT)}else{hU.setSingle(hT,hV);this.changelist.addChange(hU)}},$0:function(e,L){if(e.shiftKey&&this._anchorIndex>=0){this._selectRangeFromAnchor(L)}else if((tab.BrowserSupport.get_isMac()?e.metaKey:e.ctrlKey)){this._toggleItemSelection(L);this._updateRangeAnchor(L)}else{this._clearSelection();this._updateRangeAnchor(L);this._selectItem(L)}},getDoChangeFunc:function(){var e=ss.mkdel(this,function(){this.$2.applyChangesByChangelist(this.changelist);this.changelist.reset()});return e},notifyChange:function(e){this._applyTimer=tab.MiscUtil.clearTimeout(this._applyTimer);this.$2.updateStateIfNeeded();this._applyTimer=tab.WindowHelper.setTimeout(e,this.$2.get_applyDelay())},cancelPendingChange:function(){tab.MiscUtil.clearTimeout(this._applyTimer);this._applyTimer=null},_getCheckedIndexes:function(e,L,hT){var hU=[];var hV=this.$2.get_quickFilter();var hW=hV.get_mode()==='checklist'||hV.get_mode()==='checkdropdown';var hX=hW||hV.get_mode()==='radiolist'||hV.get_mode()==='dropdown';var hY=null;if(hW){hY=hT.compileForChecklist(null)}for(var hZ=0,ia=e.length;hZ<ia;hZ++){var ib=this.$2.fetchChildNodeByIndex(hZ);if(!!ib){if(cY.filterItem.isChecked(ib)){hU.push(hZ)}}else if(hX){var ic=e[hZ].s;if(cY.filterItem.getIndex(L)===hZ){if(cY.filterItem.isChecked(L)){hU.push(hZ)}}else if(hW){if(ss.contains(hY.select,hZ)){hU.push(hZ)}else if(!ss.contains(hY.deselect,hZ)&&ic){hU.push(hZ)}}}}return hU},forEachSelected:function(e){if(ss.isNullOrUndefined(e)||typeof(e)!=='function'){return}for(var L=0,hT=this._selectedIndexes.length;L<hT;L++){var hU=this._selectedIndexes[L];var hV=this.$2.fetchChildNodeByIndex(hU);e(hU,hV)}},_selectRangeFromAnchor:function(e){var L;var hT;var hU=this._anchorIndex;var hV;var hW;var hX=((this._lastRangeSelectionIndex>=0)?this._lastRangeSelectionIndex:hU);var hY=Math.min(hU,e);var hZ=Math.max(hU,e);for(L=e;L<=Math.min(hU,hX);L++){this._selectItem(L)}for(hV=hX;hV<hY;hV++){this._deselectItem(hV)}for(hT=Math.max(hU,hX);hT<=e;hT++){this._selectItem(hT)}for(hW=hZ+1;hW<=hX;hW++){this._deselectItem(hW)}this._lastRangeSelectionIndex=e},_toggleItemSelection:function(e){var L=this.$2.fetchChildNodeByIndex(e);if(cY.filterItem.isSelected(L)){this._deselectItem(e)}else{this._selectItem(e)}},_selectItem:function(e){var L=this.$2.fetchChildNodeByIndex(e);var hT;cY.filterItem.setSelected(L,true);hT=tableau.util.binarySearch(ss.Int32).call(null,e,this._selectedIndexes);if(!hT.found){this._selectedIndexes.splice(hT.index,0,e)}},_deselectItem:function(e){var L=this.$2.fetchChildNodeByIndex(e);var hT;cY.filterItem.setSelected(L,false);hT=tableau.util.binarySearch(ss.Int32).call(null,e,this._selectedIndexes);if(hT.found){this._selectedIndexes.splice(hT.index,1)}},_clearSelection:function(){for(var e=this._selectedIndexes.length-1;e>=0;--e){this._deselectItem(this._selectedIndexes[e])}this._selectedIndexes=[]},_updateCheckboxRangeFromAnchor:function(e){var L=Math.min(this._anchorIndex,e);var hT=Math.max(this._anchorIndex,e);var hU=this.$2.fetchChildNodeByIndex(L);var hV=this.$2.fetchChildNodeByIndex(hT);var hW=cY.filterItem.isChecked(this.$2.fetchChildNodeByIndex(e));var hX;while(!!hU&&!ss.referenceEquals(hU,hV)){cY.filterItem.setChecked(hU,hW);hX=new tab.RawChange;hX.setSingle(cY.filterItem.getIndex(hU),hW);this.changelist.addChange(hX);hU=hU.nextSibling}cY.filterItem.setChecked(hV,hW);hX=new tab.RawChange;hX.setSingle(cY.filterItem.getIndex(hV),hW);this.changelist.addChange(hX)},_updateCheckboxRangeFromAnchorByIndex:function(e){var L=Math.min(this._anchorIndex,e);var hT=Math.max(this._anchorIndex,e);var hU=cY.filterItem.isChecked(this.$2.fetchChildNodeByIndex(e));var hV;var hW;for(hV=L;hV<=hT;++hV){hW=this.$2.fetchChildNodeByIndex(hV);if(!!hW){this.$2.handleClickIfPending(hW);cY.filterItem.setChecked(hW,hU)}}},_updateRangeAnchor:function(e){if(this.$2.isSingleSelect()){return}if(this._anchorIndex===e&&e>=0){return}var L;if(this._anchorIndex>=0){L=this.$2.fetchChildNodeByIndex(this._anchorIndex);if(!!L){$(cY.filterItem.getCssNode(L)).removeClass('anchorSelection')}}this._anchorIndex=e;L=this.$2.fetchChildNodeByIndex(e);if(!!L){$(cY.filterItem.getCssNode(L)).addClass('anchorSelection')}else{this._anchorIndex=-1}this._lastRangeSelectionIndex=-1}});ss.initClass(bB,a,{instantiate:function(e,L,hT){this.setUpForPendingChanges();this.inherited(arguments)},fillMenu:function(e){this.inherited(arguments);var L=$('<div>');this.appendApplyButton(L);if(L.children().length>0){e.append(L);L.css('height',this.apply.element.outerHeight(true)+'px')}},createListElement:function(e,L,hT,hU){var hV=$(e);if(this.shouldUseAllItem()&&L.length>0){bC.addAllItem(hV,this.parent,hT,hU,bC.shouldCheckAllItem(this.parent.get_oFilter(),this.pendingManager),ss.mkdel(cY.filterItem,cY.filterItem.formatChecklistFilterItemHtml))}{if(ss.isValue(this.tiledWidget)){this.tiledWidget.destroy()}this.tiledWidget=gH.createChecklist(this.parent,L,e,hT,this.get_lineHeight())}{var hW=spiff.EventUtil.bindWithDispose(hV,'click',ss.mkdel(this.parent,this.parent.onListItemClick));this.disposables.add$1(hW);var hX=spiff.EventUtil.bindWithDispose(hV,'touchend',ss.mkdel(this.parent,this.parent.onListItemClick));this.disposables.add$1(hX)}hV.parent().toggleClass('CFDropdownNoItems',L.length===0);if(L.length===0){hV.text(tab.Strings.QuickFilterNoItems)}},resetPendingVisuals:function(e){var L;if(ss.isValue(this.searchBox)&&this.searchBox.isShowingResults()){L=this.menuNode.children('.tiledContent')}else{L=this.menuNode.find('.tile')}if(ss.isNullOrUndefined(L)){return}var hT=L.children().get();for(var hU=0;hU<hT.length;hU++){var hV=hT[hU];if(cY.filterItem.isPending(hV)){cY.filterItem.togglePendingState(hV);if(e){cY.filterItem.setChecked(hV,!cY.filterItem.isChecked(hV))}}}}},bh,[ss.IDisposable]);ss.initClass(bC,a,{get_scrollNode:function(){return this.checkListContainer},instantiate:function(e,L,hT){this.setUpForPendingChanges();this.div.innerHTML='';this.$3=this.parent.get_searchWidget();this.$3.setStyle(2);var hU=$(this.div);this.$3.startupAndAppendTo(hU);this.$3.hideUI();var hV=$('<div>').addClass('CFInnerContainer').addClass('tab-ctrl-formatted-text');hU.addClass('CFOuterContainer');hU.append(hV);this.checkListContainer=hV.get(0);this.createChecklist(this.checkListContainer,e,L,hT);hU.children('.FIItem').focus();{var hW=spiff.EventUtil.bindWithDispose($(this.div),'click',ss.mkdel(this.parent,this.parent.onListItemClick));this.disposables.add$1(hW)}this.appendApplyButton($(this.div))},resetContent:function(e,L,hT){var hU=$(this.checkListContainer);hU.empty();if(ss.isValue(this.tiledWidget)){this.tiledWidget.destroy();this.tiledWidget=null}this.createChecklist(this.checkListContainer,e,L,hT);this.appendApplyButton($(this.div))},updateContent:function(e){var L=((e.length>0)?e.join(''):this.$3.get_noMatchHtml());var hT=$(this.checkListContainer);if(ss.isValue(this.tiledWidget)){this.tiledWidget.destroy();this.tiledWidget=null}hT.html(L)},shouldNotReinstantiate:function(){return ss.isValue(this.$3)&&this.$3.isShowingResults()},layout:function(e,L){this.inherited(arguments);if(ss.isValue(this.tiledWidget)){this.tiledWidget.updateViewport(e.w,e.h)}var hT=((ss.isValue(this.$3)&&this.$3.get_isVisible())?dojo.marginBox(this.$3.domNode).h:0);var hU=0;if(this.parent.shouldDeferChanges()){hU=dojo.marginBox(this.apply.element.get(0)).h;this.layoutApplyButton($(this.checkListContainer))}if(ss.isValue(this.checkListContainer)){this.checkListContainer.style.height=this.div.clientHeight-hT-hU+'px'}},destroy:function(){this.dispose();if(ss.isValue(this.$3)){this.$3.destroy()}if(ss.isValue(this.tiledWidget)){this.tiledWidget.destroy()}this.tiledWidget=null},fetchChildNodeByIndex:function(e){if(ss.isValue(this.tiledWidget)){return this.tiledWidget.getElement(e)}else{return null}},createChecklist:function(e,L,hT,hU){if(this.shouldUseAllItem()&&L.length>0){bC.addAllItem($(e),this.parent,hT,hU,bC.shouldCheckAllItem(this.parent.get_oFilter(),this.pendingManager),ss.mkdel(cY.filterItem,cY.filterItem.formatChecklistFilterItemHtml))}{if(ss.isValue(this.tiledWidget)){this.tiledWidget.destroy()}this.tiledWidget=gH.createChecklist(this.parent,L,e,hT,this.get_lineHeight())}},fetchAllItem:function(){if(ss.isValue(this.checkListContainer)){return this.checkListContainer.firstChild}else{return null}},resetPendingVisuals:function(e){var L;if(ss.isValue(this.$3)&&this.$3.isShowingResults()){L=$(this.checkListContainer)}else{L=$(this.checkListContainer).find('.tile')}if(ss.isNullOrUndefined(L)){return}var hT=L.children().get();for(var hU=0;hU<hT.length;hU++){var hV=hT[hU];if(cY.filterItem.isPending(hV)){cY.filterItem.togglePendingState(hV);if(e){cY.filterItem.setChecked(hV,!cY.filterItem.isChecked(hV))}}}}},bj,[ss.IDisposable]);ss.initInterface(dB,a,{destroy:null,format:null,isValid:null});ss.initClass(gl,a,{destroy:function(){},format:function(e,L,hT){var hU='';var hV=ss.safeCast(e,Array);if(ss.isNullOrUndefined(L)){return hU}if(ss.isNullOrUndefined(hT)){return hU}if(!this.isValid(hV)){return hU}hU+=ss.formatString(this.tileHtml,L.y.toString());for(var hW=0,hX=hT.get_from();hW<hV.length;++hW,++hX){hU+=this.$1(this.$0,hV[hW],this.$2,hX)}hU+='</div>';return hU},isValid:function(e){return true}},null,[dB]);ss.initClass(bD,a,{isValid:function(e){var L=ss.safeCast(e,Array);return ss.isValue(L)&&L.length!==0}},gl,[dB]);ss.initClass(gd,a,{get_dom:function(){return this.$5},get_pi:function(){return this.$9},set_pi:function(e){this.$9=e},get_dragStart:function(){return this.$6},get_connectNodePos:function(){return this.$3},get_totalScrollOffset:function(){return this.$c},get_drawOffsets:function(){return((tab.ApplicationModel.get_instance().get_isLocalRenderMode()||tsConfig.is_mobile)?{x:0,y:0}:this.get_totalScrollOffset())},get_autoScrollOffset:function(){return this.$2},get_tooltipAnchor:function(){return{x:this.$8.x+this.$c.x,y:this.$8.y+this.$c.y}},get_hitTestingBox:null,isSingleSelect:null,setSingleSelectPoint:function(e){this.$8={x:e.x,y:e.y}},dragStarted:function(e,L,hT){this.$6={x:e,y:L};this.$3=hT;this.$2={x:0,y:0}},recordScrollingOffsets:function(e){this.$c={x:e.x,y:e.y}},updateAndRenderShape:function(e){this.constrainShape(e);this.updateSpecificShape(this.$8);this.renderShape()},constrainShape:function(e){this.$8={x:e.pageX-this.$3.x,y:e.pageY-this.$3.y};if(ss.isInstanceOfType(this,bE)){return}this.$8.y=Math.max(0,Math.min(this.$8.y,this.$3.h));this.$8.x=Math.max(0,Math.min(this.$8.x,this.$3.w))},shapeScrolled:function(e,L){this.get_dragStart().x-=e;this.get_dragStart().y-=L;this.$c.x+=e;this.$c.y+=L;this.$2.x+=e;this.$2.y+=L;this.updateSpecificShape(this.$8);this.renderShape()},updateSpecificShape:null,renderShape:null,createDomAndAppend:function(e){this.$5=$(this.$7);this.$5.addClass(this.$4);this.$5.css('display','none');this.$5.find('svg').attr('width',this.$b).attr('height',this.$a);e.append(this.$5)},show:null,hide:null,hitTest:function(e,L,hT){var hU=L||this.isSingleSelect();return(hU?this.$0(e,hT):this.$1(e,hT))},$0:function(e,L){var hT={x:this.$8.x,y:this.$8.y,w:1,h:1};var hU=e.hitTestBoundingBoxes(hT,true,L);return e.hitTestSingle(hT,L,hU)},$1:function(e,L){var hT=e.hitTestBoundingBoxes(this.get_hitTestingBox(),false,L);var hU=[];var hV=this.get_hitTestingBox();for(var hW=hT.length-1;hW>=0;hW--){var hX=hT[hW];var hY=hX.get_objectId();if(hY<0){continue}var hZ=dq.findPaneNode(hX);if(ss.isNullOrUndefined(hZ)){continue}var ia=L.getPaneDrawInfoFromKey(hZ.get_paneKey());var ib=dt.getTransformInfo(ia,hX);var ic=tab.RectXYUtil.intersect(hV,hZ.get_boundingBox());var id=this.shapeAreaHit(ic,ia,hX,ib);if(id){hU.push(new du.$ctor1(ia.c['tuple_id'].gv(hY),5,1))}}return hU},shapeAreaHit:null,sendSelectionCommand:null,updateLastState:function(e){if(this.isStateObjectTypeCorrect(e)){e.updateLastState()}},getStateDiff:function(e){if(this.isStateObjectTypeCorrect(e)){this.saveCurrentState(e);return e.getStateDiff()}var L=new Array(1);L[0]=this.get_hitTestingBox();return L},retrieveStateObject:null,saveCurrentState:null,isStateObjectTypeCorrect:null});ss.initClass(bE,a,{get_hitTestingBox:function(){return tab.RectXYUtil.nonemptyify(this.$f(true))},isSingleSelect:function(){return this.$i.radius<1},$f:function(e){return tab.CircleUtil.boundingBox((e?this.$j:this.$i))},updateSpecificShape:function(e){var L=this.get_dragStart().x-this.get_connectNodePos().x;var hT=this.get_dragStart().y-this.get_connectNodePos().y;var hU=Math.sqrt(Math.pow(L-e.x,2)+Math.pow(hT-e.y,2));this.$i={center:{x:L+this.get_drawOffsets().x,y:hT+this.get_drawOffsets().y},radius:hU};this.$j={center:{x:L+this.get_totalScrollOffset().x,y:hT+this.get_totalScrollOffset().y},radius:hU};if(this.$g()){this.$h()}},$g:function(){return ss.isValue(this.$k)&&ss.isValue(this.$k.get_radialSelectionDistanceInfoPresModel())&&this.$k.get_shouldShowDistance()},$h:function(){var e={x:this.$i.center.x+this.$i.radius,y:this.$i.center.y};var L=this.$d(e);if(L>0){this.displayDistance(L)}},$d:function(e){var L=this.$k.get_latLongRect();if(ss.isNullOrUndefined(L)||this.$k.get_mapWidth()<=0||this.$k.get_mapHeight()<=0){return 0}var hT={x:this.$i.center.x%this.$k.get_mapWidth(),y:this.$i.center.y%this.$k.get_mapHeight()};var hU={x:hT.x+(e.x-this.$i.center.x),y:hT.y};var hV=(L.FVU-L.Qao)/this.$k.get_mapHeight();var hW=L.FVU-hV*hT.y;var hX={item1:L.kVX,item2:hW};var hY={item1:L.eMT,item2:hW};var hZ=dk.haversineDistance(hX,hY,this.$k.get_earthRadius());var ia=hZ/this.$k.get_mapWidth();return Math.abs(hU.x-hT.x)*ia},displayDistance:function(e){var L=this.get_dom().find('.tabDistanceReadout');L.text(this.$e(e));var hT={x:ss.round(this.$i.center.x+this.$i.radius+this.$k.get_readoutOffsetPixels()),y:ss.round(this.$i.center.y)-ss.Int32.div(tab.DoubleUtil.roundToInt(L.height()),2)};L.css('left',hT.x+'px');L.css('top',hT.y+'px')},$e:function(e){var L=this.$k.get_smallUnitDisplay();if(e>=this.$k.get_unitTransition()){e/=this.$k.get_smallToLargeUnitDivisor();L=this.$k.get_largeUnitDisplay()}var hT=tab.DoubleUtil.sigFigs(e,this.$k.get_sigFigs());var hU=0;if(hT!==0){var hV=Math.floor(Math.log(Math.abs(hT))/Math.log(10))+1;hU=Math.max(0,this.$k.get_sigFigs()-hV)}var hW=hT.toFixed(hU);if(','===this.$k.get_decimalMark()&&hW.indexOf('.')!==-1){hW=ss.replaceAllString(hW,'.',this.$k.get_decimalMark())}return ss.formatString('{0}  {1}',hW,L)},formatReadoutTestHook:function(e){return this.$e(e)},computeRadialDistanceTestHook:function(e){return this.$d(e)},renderShape:function(){var e=this.get_dom().find('.circle_crosshair');var L=this.get_dom().find('.circle_radius');this.get_dom().find('svg circle').attr('cx',this.$i.center.x.toString()).attr('cy',this.$i.center.y.toString()).attr('r',this.$i.radius.toString());e.eq(0).attr('x1',(this.$i.center.x-4).toString()).attr('x2',(this.$i.center.x+4).toString()).attr('y1',this.$i.center.y.toString()).attr('y2',this.$i.center.y.toString());e.eq(1).attr('x1',this.$i.center.x.toString()).attr('x2',this.$i.center.x.toString()).attr('y1',(this.$i.center.y-4).toString()).attr('y2',(this.$i.center.y+4).toString());L.attr('x1',this.$i.center.x.toString()).attr('x2',(this.$i.center.x+this.$i.radius).toString()).attr('y1',this.$i.center.y.toString()).attr('y2',this.$i.center.y.toString())},show:function(){var e=this.get_dom().find('.tabDistanceReadout');var L=this.get_dom().find('.circle_radius');if(this.$g()){e.css('font-size',this.$k.get_fontSizePixels());e.css('color',this.$k.get_fontColor());e.show();L.show()}else{e.hide();L.hide()}this.get_dom().show()},hide:function(){this.get_dom().hide()},shapeAreaHit:function(e,L,hT,hU){var hV=this.$g();return dt.circleAreaHit(L,hT.get_boundingBox(),this.$j,hT.get_objectId(),hU,L.markType,hV)},sendSelectionCommand:function(e,L,hT,hU){var hV=this.$g();tab.SelectionClientCommands.selectCircleRegionAndDoUbertip(e,this.get_hitTestingBox(),this.$j,L,hT,hU,hV)},retrieveStateObject:function(e){return(this.isStateObjectTypeCorrect(e)?e:new bF)},saveCurrentState:function(e){if(this.isStateObjectTypeCorrect(e)){var L=e;L.saveCurrentState(this.$j)}},isStateObjectTypeCorrect:function(e){if(ss.isValue(e)){if(ss.referenceEquals(ss.getInstanceType(e),bF)){return true}}return false}},gd);ss.initClass(ge,a,{updateLastState:null,getStateDiff:null});ss.initClass(bF,a,{saveCurrentState:function(e){this.$0=tab.CircleUtil.clone(e)},updateLastState:function(){this.$1=this.$0},getStateDiff:function(){if(!tab.CircleUtil.isEmpty(this.$1)){return tab.CircleUtil.getChangedRects(this.$0,this.$1)}var e=new Array(1);e[0]=tab.CircleUtil.boundingBox(this.$0);return e}},ge);ss.initClass(bG,a,{render:function(){return React.DOM.div({className:'tab-collapsible-container'},this.$1(),this.$0())},$1:function(){return spiff.EventForwarder.span({tap:ss.mkdel(this,function(e){this.$3()})},{className:'tab-collapsible-title'},[this.props.title+' . . .'])},$3:function(){this.setState({isOpen:!this.state.isOpen})},$0:function(){return React.DOM.div({className:'tab-collapsible-body',style:this.$2()},(this.state.isOpen?this.props.children:null))},$2:function(){return{visibility:(this.state.isOpen?'visible':'hidden'),opacity:(this.state.isOpen?1:0)}}},React.Component);ss.initClass(bH,a,{},ss.EventArgs);ss.initClass(bI,a,{reset:function(e){this.$2[e]=0;this.$1[e]=null},hold:function(e){if(!ss.keyExists(this.$2,e)){this.$2[e]=0}this.$2[e]+=1;return new bK(e,ss.mkdel(this,function(){this.$0(e)}))},$0:function(e){if(this.$2[e]<=0){return}this.$2[e]-=1;if(this.$2[e]===0&&!ss.staticEquals(this.$1[e],null)){this.$1[e]()}},addCompletedHandler:function(e,L){var hT=null;hT=ss.mkdel(this,function(){if(!ss.staticEquals(L,null)){L()}this.$1[e]=ss.delegateRemove(this.$1[e],hT)});this.$1[e]=ss.delegateCombine(this.$1[e],hT)}});ss.initEnum(bJ,a,{unspecified:0,twoPassRendering:1});ss.initClass(bK,a,{dispose:function(){if(!ss.staticEquals(this.$0,null)){this.$0();this.$0=null}}},null,[ss.IDisposable]);ss.initClass(bL,a,{init:function(e,L){if(!tab.MiscUtil.isNullOrEmpty$1(e)){this.domConditionText.innerHTML=e;this.domCondition.title=e}else{this.domCondition.style.display='none'}if(!tab.MiscUtil.isNullOrEmpty$1(L)){this.domLimitText.innerHTML=L;this.domLimit.title=L}else{this.domLimit.style.display='none'}if(!tab.MiscUtil.isNullOrEmpty$1(e)&&!tab.MiscUtil.isNullOrEmpty$1(L)){this.domLimit.style.borderTop='solid 1px #FAFAFA'}},postCreate:function(){this.$0()},$0:function(){this.domConditionTitle.innerHTML=tableau.format.escapeHTML(tab.Strings.QuickFilterConditionalsCondition);this.domLimitTitle.innerHTML=tableau.format.escapeHTML(tab.Strings.QuickFilterConditionalsLimit)}},Object);ss.initClass(bM,a,{});ss.initClass(bN,a,{dispose:function(){this.confirmViewModel.remove_shown(ss.mkdel(this,this.$d));this.confirmViewModel.remove_hidden(ss.mkdel(this,this.$c));this.$g.remove_closed(ss.mkdel(this,this.$b));this.$g.dispose();this.$g=null;ss.makeGenericType(spiff.BaseView$1,[bO]).prototype.dispose.call(this)},buildDom:function(){this.element.append($('<div>').addClass('tabConfirmationMessage').html(this.confirmViewModel.get_messageHtml()));var e=$('<div>').addClass('tabConfirmationButtons');this.element.append(e);if(this.confirmViewModel.get_showDenyButton()){this.$f=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$a),this.confirmViewModel.get_denyText(),'tabConfirmationDenyButton',2,1);this.disposables.add$1(this.$f);e.append(this.$f.element)}if(this.confirmViewModel.get_showConfirmButton()){this.$e=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$9),this.confirmViewModel.get_confirmText(),'tabConfirmationConfirmButton',0,2);this.disposables.add$1(this.$e);e.append(this.$e.element)}this.$g=new spiff.ModalDialog.$ctor1(this.confirmViewModel.get_titleText(),this.element);this.$g.add_closed(ss.mkdel(this,this.$b))},$b:function(e,L){this.confirmViewModel.cancel()},$9:function(){this.confirmViewModel.confirm()},$a:function(){this.confirmViewModel.deny()},$c:function(e){if(ss.isNullOrUndefined(this.$g)){return}this.$g.close(null)},$d:function(){if(ss.isNullOrUndefined(this.$g)){return}this.$g.show()}},ss.makeGenericType(spiff.BaseView$1,[bO]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[bO])]);ss.initClass(bO,a,{add_shown:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_shown:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_hidden:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_hidden:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_messageHtml:function(){return this.$5},set_messageHtml:function(e){this.$5=e},get_visible:function(){return this.$a},get_confirmText:function(){return this.$3},set_confirmText:function(e){this.$3=e},get_denyText:function(){return this.$4},set_denyText:function(e){this.$4=e},get_titleText:function(){return this.$8},set_titleText:function(e){this.$8=e},get_showConfirmButton:function(){return this.$6},set_showConfirmButton:function(e){this.$6=e},get_showDenyButton:function(){return this.$7},set_showDenyButton:function(e){this.$7=e},dispose:function(){this.$9=null;this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.prototype.dispose.call(this)},show:function(){if(this.$a){return}if(ss.isNullOrUndefined(this.$9)){this.$9=spiff.ObjectRegistry.newView(bN).call(null,[this])}this.$a=true;this.raiseActionEvent(this.$2$1)},disposeOnHide:function(){var e=ss.mkdel(this,function(){this.dispose()});this.add_hidden(e);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hidden(e)})))},confirm:function(){this.$2('confirm')},deny:function(){this.$2('deny')},cancel:function(){this.$2('cancel')},$2:function(e){if(this.$a===false){return}this.$a=false;if(ss.isValue(this.$2$2)){this.$2$2(e)}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(bP,a,{get_data:function(){return this.$0},get_tileIndex:function(){return this.$2},get_itemRange:function(){return this.$1}},ss.EventArgs);ss.initClass(bQ,a,{applyChanges:function(e){this.viewModel.set_sliderCurrentValue(e)},dispose:function(){ss.makeGenericType(spiff.BaseView$1,[bR]).prototype.dispose.call(this);this.viewModel=null}},ss.makeGenericType(spiff.BaseView$1,[bR]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[bR])]);ss.initClass(bR,a,{add_intermediateChange:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_intermediateChange:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_sliderValueChange:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_sliderValueChange:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_sliderClassName:function(){return this.$8},set_sliderClassName:function(e){this.$8=e},get_pixelWidth:function(){return this.$5},set_pixelWidth:function(e){this.$5=e},get_ruleTickCount:function(){return this.$7},set_ruleTickCount:function(e){this.$7=e},get_currentFraction:function(){return this.$3},set_currentFraction:function(e){var L=Math.ceil(Math.log(1000)/Math.LN10);var hT=this.$3.toFixed(L);var hU=e.toFixed(L);if(!ss.referenceEquals(hT,hU)){this.$3=e;this.$2$2(this.$3)}},get_sliderIntermediateValue:function(){return this.$4*1000},get_sliderCurrentValue:function(){return this.get_currentFraction()*1000},set_sliderCurrentValue:function(e){this.set_currentFraction(e/1000)},get_sliderMinimumValue:function(){return 0},get_sliderMaximumValue:function(){return 1000},get_rangeModel:function(){return this.$6},applyIntermediateChange:function(e){this.$4=e/1000;if(ss.isValue(this.$2$1)){this.$2$1(this.$4)}},$2:function(e){this.set_currentFraction(e)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(bS,a,{get_showTitle:function(){return ss.isValue(this.lTitle)&&this.lTitle.length!==0},$5:function(){return Math.max(this.pages.length-1,0)},$3:function(e){return this.pages.length!==0&&e!==this.pages.length-1},getDomNode:function(){return this.domNode},destroyRecursiveShim:function(e){this.destroyRecursive(e)},startupShim:function(){this.startup()},startup:function(){this.containerNode=this.domNode;this.titleSize={w:0,h:0};this.inherited(arguments);this.innerWrapper.startup();this.innerWrapper.domNode.style.overflow='visible';this.buttonsContainer.startup();this.refreshLayout();if(this.show_toggle){var e=document.createElement('div');e.className='fakeCheckBox';if(ss.isValue(this._showHistoryCb.domNode)){this._showHistoryCb.domNode.appendChild(e)}var L=document.createElement('label');L.innerHTML=tableau.format.escapeHTML(tab.Strings.CurrentPagePanelShowHistory);L.setAttribute('for',this._showHistoryCb.id);if(ss.isValue(this._checkboxPane.domNode)){this._checkboxPane.domNode.appendChild(L)}}this._rightBtn.setAttribute('_scroll',false);this._leftBtn.setAttribute('_scroll',false);this._slider.setAttribute('_scroll',false)},layout:function(e){var L=0;var hT=0;var hU=0;if(ss.isNullOrUndefined(this.titleSize)||ss.isValue(this.lTitle)&&this.titleSize.w===0){return}var hV=dojo.marginBox(this.containerNode);var hW=hV.w-this.DOM_OFFSET;var hX=0;if(this.get_showTitle()){if(this.titleSize.w<hV.w){if(hV.h<this.getWidgetOffset()){this.cpOrientation='horizontal'}else{this.cpOrientation='vertical'}hW-=this.titleSize.w;L=this.titleSize.w}else{if(hV.h-this.titleSize.h<this.getWidgetOffset()){this.cpOrientation='horizontal'}else{this.cpOrientation='vertical'}hT=ss.Int32.div(this.titleSize.h,2)}}if(this.cpOrientation==='horizontal'){if(this.show_toggle){hW-=this.TOGGLE_WIDTH_OFFSET}hX=(this.show_dropdown?this.BUTTONS_HEIGHT:this.SLIDER_HEIGHT)}else{hX=(this.show_slider?this.SLIDER_HEIGHT:0);hX+=(this.show_dropdown?this.BUTTONS_HEIGHT:0);hU=(this.show_toggle?ss.Int32.div(this.TOGGLE_HEIGHT,2):0)}this.innerWrapper.isHorizontal=this.cpOrientation==='horizontal';dojo.marginBox(this.innerWrapper.domNode,ss.mkdict(['w',hW,'h',hX]));this.innerWrapper.resize();var hY=dojo.marginBox(this.sliderPane.domNode);if(ss.isValue(this._horizontalRule)&&hY.w>0){dojo.marginBox(this._horizontalRule.domNode,ss.mkdict(['w',hY.w]));if(this.pages.length*2>hY.w){this._horizontalRule.domNode.style.display='none'}else{this._horizontalRule.domNode.style.display=''}}var hZ=Math.min(ss.Int32.div(hV.h-hX,2)-hT-hU,3);var ia=hZ+2*hT;$(this.innerWrapper.domNode).css(ss.mkdict(['top',Math.max(ia,0)+'px','position','absolute','left',L+ss.Int32.div(this.DOM_OFFSET,2)+'px']));if(this.cpOrientation==='vertical'){$(this.buttonsContainer.domNode).css(ss.mkdict(['height',this.ONLY_BUTTONS+'px','position','relative','top','','left','','padding','0 0 2px 0']));this.buttonsContainer.resize();$(this.sliderPane.domNode).css(ss.mkdict(['height',this.SLIDER_HEIGHT+'px','position','relative','top','','left','']));$(this._checkboxPane.domNode).css(ss.mkdict(['width',Math.max(hV.w-1,0)+'px','top',Math.max(ia,0)+hX+hZ+'px','position','absolute','left',L+'px']))}else{dojo.marginBox(this.sliderPane.domNode,ss.mkdict(['w',hY.w-this.WIDGET_SPACE]));if(ss.isValue(this._horizontalRule)){dojo.marginBox(this._horizontalRule.domNode,ss.mkdict(['w',hY.w-this.WIDGET_SPACE-this.RULE_OFFSET]))}var ib=dojo.marginBox(this._dropdown.domNode);dojo.marginBox(this._dropdown.domNode,ss.mkdict(['w',ib.w-this.WIDGET_SPACE]));dojo.marginBox(this._rightBtn.domNode,ss.mkdict(['l',ib.l+ib.w-this.WIDGET_SPACE]));$(this.buttonsContainer.domNode).css(ss.mkdict(['height',this.ONLY_BUTTONS+'px','position','','top','','left','','padding','0 0 2px 0']));this.buttonsContainer.resize();$(this.sliderPane.domNode).css(ss.mkdict(['height',this.SLIDER_HEIGHT+'px','position','','top','','left',ss.Int32.div(hW+this.DOM_OFFSET,2)+'px']));$(this._checkboxPane.domNode).css(ss.mkdict(['top',Math.max(ia,0)+'px','position','absolute','left',L+hW+ss.Int32.div(this.DOM_OFFSET,2)+'px']))}var ic=parseInt($(this._dropdown.domNode).css('width'))-24;dojo.marginBox(this._dropdown.containerNode,ss.mkdict(['w',ic]))},getWidgetOffset:function(){var e=(this.show_dropdown?this.BUTTONS_HEIGHT:0);e+=(this.show_slider?this.SLIDER_HEIGHT:0);e+=(this.show_toggle?this.TOGGLE_HEIGHT:0);return e},postMixInProperties:function(){this.display_dropdown=(this.show_dropdown?'block':'none');this.display_slider=(this.show_slider?'block':'none');this.display_toggle=(this.show_toggle?'block':'none');var e=this.pages.length;this.maximum=this.$5();this.discrete_values=e;this.show_ruler=(this.show_slider?'block':'none');this.ruler_count=e;this.popupClass=((e>this.SCROLL_PAGES)?'cpPopupEx':'cpPopup');this.cpOrientation=((this.cpHeight<this.getWidgetOffset())?'horizontal':'vertical')},postCreate:function(){this.inherited(arguments);this.timestamp=(new Date).getTime();if(!this.show_dropdown){this.innerWrapper.removeChild(this.buttonsContainer)}if(!this.show_slider){this.innerWrapper.removeChild(this.sliderPane)}if(this.show_toggle&&'attr'in this._showHistoryCb){this._showHistoryCb.attr('checked',this.enable)}},$4:function(e,L){if(tab.FeatureFlags.isEnabled('PageCardImprovements')){this.$2(e,L)}else{this.$1();this.requestTimeout=window.setTimeout(ss.mkdel(this,function(){this.$2(e,L)}),500)}},$1:function(){this.requestTimeout=tab.MiscUtil.clearTimeout(this.requestTimeout)},$0:function(){this.rebuildLayoutTimeout=tab.MiscUtil.clearTimeout(this.rebuildLayoutTimeout)},$2:function(e,L){this.$1();if(this.isDashboard){tab.PageServerCommands.syncedChangePage(this.pageViewModel.get_pageModel(),this.pageViewModel.get_visualId(),this.zid,e)}else{tab.PageServerCommands.changePage(e,this.pageViewModel.get_visualId())}},destroy:function(e){this.$1();this.$0();this.inherited(arguments)},updateProperties:function(e){this.sheetid=e.sheetid;this.zid=e.zid;this.enable=e.enable;this.show_slider=e.show_slider;this.show_toggle=e.show_toggle;this.show_dropdown=e.show_dropdown;this.current_page=e.current_page;this.pages=e.pages;this.session=e.session;this.lTitle=e.lTitle;this.titleHtml=e.titleHtml;this.zoneTitleHeight=e.zoneTitleHeight;this.zoneTitleWidth=e.zoneTitleWidth;this.isDashboard=e.isDashboard;this.pageViewModel=e.pageViewModel},setTitle:function(){this._titlePane.innerHTML=this.titleHtml;this.setTitleSize()},setTitleSize:function(){var e=dojo.marginBox(this._titlePane);if(this.zoneTitleWidth===0){e.w=dojo.marginBox(this.containerNode).w}else{e.w=this.zoneTitleWidth;dojo.marginBox(this._titlePane,e)}if(this.zoneTitleHeight===0&&this.get_showTitle()){e.h=dojo.marginBox(this.containerNode).h}else{e.h=this.zoneTitleHeight}this.titleSize=e;$(this._titlePane).css(ss.mkdict(['height',this.titleSize.h+'px']));this.layout(null);tableau.util.setupTitleEllipsis($(this._titlePane))},refreshLayout:function(){this.refreshed=false;var e=false;var L=ss.mkdel(this,function(){this.refreshed=true;this.refreshWidget(this.current_page)});if(this.show_dropdown){var hT=this.pages.length;var hU=false;if(hT!==this._dropdown.options.length){hU=true}else{for(var hV=0;hV<hT;hV++){var hW=this._dropdown.options[hV]['label'];if(!ss.referenceEquals(this.pages[hV],hW)){hU=true;break}}}if(hU){this.$0();e=true;this._dropdown.options=[];this.rebuildLayoutTimeout=window.setTimeout(ss.mkdel(this,function(){var hY=[];for(var hZ=0,ia=this.pages.length;hZ<ia;hZ++){hY.push(ss.mkdict(['label',this.pages[hZ],'value',hZ.toString(10),'selected',hZ===this.current_page]))}this._dropdown.addOption(hY);this._dropdown.startup();L()}),1);this._dropdown.popupExtraClass=((this.pages.length>this.SCROLL_PAGES)?'cpPopupEx':'cpPopup')}else{this._dropdown.setValue(this.current_page)}}if(this.show_slider){if(ss.isValue(this._horizontalRule)){this._horizontalRule.destroy(false);this._horizontalRule=null}this._slider.maximum=this.$5();this._slider.discreteValues=this.pages.length;dijit.setWaiState(this._slider.focusNode,'valuemax',this.pages.length);if(this.pages.length<1200){var hX=ss.mkdict(['style','width:100%; height:3px; margin-left:4px; margin-right:4px;','count',this.pages.length]);this._horizontalRule=new dijit.form.HorizontalRule(hX,this._horizontalRuleNode);this._horizontalRule.placeAt(this.sliderPane.domNode,2);this._horizontalRule.startup()}this._slider.startup()}this._showHistoryCb.attr('value',this.enable);this.setTitle();if(!e){L()}},refreshWidget:function(e){this.updating=true;if(this.show_dropdown&&ss.isValue(this._dropdown)){this._dropdown.setValue(e);var L=!this.$3(e);var hT=e===0;this._rightBtn.setAttribute('disabled',L);this._rightBtn.attr('iconClass','dijitIcon cpRightArrow'+(L?'Grey':'Black'));this._leftBtn.setAttribute('disabled',hT);this._leftBtn.attr('iconClass','dijitIcon cpLeftArrow'+(hT?'Grey':'Black'))}if(this.show_slider&&ss.isValue(this._slider)){this._slider.setValue(e)}if('attr'in this._showHistoryCb){var hU=this.pageViewModel.get_isHistoryToggleInteractionDisabled()||this.pages.length===0;this._showHistoryCb.attr('disabled',hU)}this.updating=false},prevPage:function(e){if(this.current_page===0){return}this.$4(this.current_page-1,this.current_page);if(!tab.FeatureFlags.isEnabled('PageCardImprovements')){this.refreshWidget(this.current_page-1)}},nextPage:function(e){if(!this.$3(this.current_page)){return}this.$4(this.current_page+1,this.current_page);if(!tab.FeatureFlags.isEnabled('PageCardImprovements')){this.refreshWidget(this.current_page+1)}},onCheckboxChange:function(){if(!this.refreshed){return}this.enable=!this.enable;tab.PageServerCommands.toggleTrails(this.pageViewModel.get_visualId())},onSelection:function(e,L){if(this.updating){return}var hT=parseInt(e.toString());hT=(isNaN(hT)?0:hT);if(hT===this.current_page||!this._started||!this.refreshed){return}this.$2(hT,this.current_page);this.refreshWidget(hT)},onSliderChange:function(e){if(this.updating){return}var L=parseInt(e);if(L===this.current_page||!this.refreshed){return}this.$4(L,this.current_page);this.refreshWidget(L)},destroyRecursiveShim$1:function(){this.destroyRecursive()},updatePropertiesShim:function(e){this.updateProperties(e)},refreshLayoutShim:function(){this.refreshLayout()}},Object,[Tableau.JavaScript.Vql.LegacyDojoModuleInterfaces.ILegacyWidgetShim,Tableau.JavaScript.Vql.LegacyDojoModuleInterfaces.ICurrentPagePanelWidgetShim]);ss.initClass(bT,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bU,a,{get_dom:function(){return this.get_template()},get_myViewsScrollPosition:function(){return this.get_dom().myViewsListWrapper.scrollTop()},dispose:function(){this.get_viewModel().exitManageMode();this.get_viewModel().remove_customViewListChanged(ss.mkdel(this,this.$P));ss.makeGenericType(spiff.BaseView$1,[bV]).prototype.dispose.call(this)},$a:function(){this.$k();this.$f();this.$g();this.$e()},$k:function(){var e=tab.DoubleUtil.parseDouble(tab.DomUtil.getComputedStyle(this.get_dom().saveViewArea[0]).height);this.get_dom().saveViewArea.empty();if(this.get_viewModel().get_mode()===bV.modeSelect){if(tsConfig.allow_custom_view_save){var L=$('<span/>').addClass('tab-cv-viewNameInputWrapper');this.$15=this.$r();L.append(this.$15.get_inputElement());this.$14=this.$q();L.append(this.$14.element);this.get_dom().saveViewArea.append(L);this.$U();if(tsConfig.allow_custom_view_default){this.$X=this.$o(tab.Strings.ToolbarCustomViewsMakeItMyDefault,this.get_viewModel().$h());this.get_dom().saveViewArea.append(this.$X.element)}if(tsConfig.allow_custom_view_share){this.$12=this.$o(tab.Strings.ToolbarCustomViewsShareItWithOthers,this.get_viewModel().$i());this.get_dom().saveViewArea.append(this.$12.element)}}else{this.get_dom().saveViewArea.append(this.$j(tab.Strings.ToolbarCustomViewsSaveAreaFillerTextSelect))}}else{this.get_dom().saveViewArea.append(this.$j(tab.Strings.ToolbarCustomViewsSaveAreaFillerTextManage))}if(ss.isValue(e)){var hT=ss.coalesce(tab.DoubleUtil.parseDouble(tab.DomUtil.getComputedStyle(this.get_dom().saveViewArea[0]).height),0);this.get_dom().saveViewArea.height(Math.max(ss.unbox(e),hT)+'px')}},$f:function(){this.get_dom().myViewsTitle.text(tab.Strings.ToolbarCustomViewsMyViews);this.get_dom().myViewsListArea.empty();if(ss.count(this.get_viewModel().get_myCustomViews())>0){var e=ss.getEnumerator(this.get_viewModel().get_myCustomViews());try{while(e.moveNext()){var L=e.current();var hT=this.$9(L,false);this.$10[ss.unbox(L.id)]=hT;this.$V(L);this.get_dom().myViewsListArea.append(hT)}}finally{e.dispose()}}else{this.$R(this.get_dom().myViewsListArea)}},$g:function(){this.get_dom().otherViewsTitle.text(tab.Strings.ToolbarCustomViewsOtherViews);this.get_dom().otherViewsListArea.empty();var e=this.$9(null,true);this.$11=e;this.$V(null);this.get_dom().otherViewsListArea.append(e);var L=ss.getEnumerator(this.get_viewModel().get_otherCustomViews());try{while(L.moveNext()){var hT=L.current();var hU=this.$9(hT,true);this.$10[ss.unbox(hT.id)]=hU;this.$V(hT);this.get_dom().otherViewsListArea.append(hU)}}finally{L.dispose()}},$e:function(){if(!tsConfig.allow_custom_view_default&&!tsConfig.allow_custom_view_save){this.get_dom().manageModeControlArea.hide();return}this.$Y=this.$b();this.get_dom().manageModeControlArea.append(this.$Y.element);this.$Z=this.$c();this.get_dom().manageModeControlArea.append(this.$Z.element);this.$T();this.get_viewModel().add_modeChanged(ss.mkdel(this,this.$J));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_modeChanged(ss.mkdel(this,this.$J))})))},$r:function(){var e=spiff.TextInputView.newTextInputView(this.get_viewModel().$k(),tab.Strings.ToolbarCustomViewsViewNamePlaceholder,null,false);e.get_inputElement().attr('maxlength',bV.maxCustomViewNameLength.toString());e.add_propertyChanged(ss.mkdel(this,this.$H));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$15.remove_propertyChanged(ss.mkdel(this,this.$H))})));e.add_enterKeyPressed(ss.mkdel(this,this.$D));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$15.remove_enterKeyPressed(ss.mkdel(this,this.$D))})));this.disposables.add$1(e);return e},$q:function(){var e=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$N),tab.Strings.ToolbarCustomViewsSave,null,0,null);this.disposables.add$1(e);return e},$o:function(e,L){var hT=spiff.LabelToggleButton.newCheckbox(e,false);hT.set_selected(L);this.disposables.add$1(hT);return hT},$R:function(e){var L=$('<div/>').addClass('tab-cv-emptyList').text(tab.Strings.ToolbarCustomViewsEmptyPlaceholder);e.append(L)},$j:function(e){return $('<div/>').addClass('tab-customViews-saveAreaTitle').text(e)},$9:function(e,L){var hT=$('<div/>').addClass('tab-cv-viewListItem');if(L){var hU=this.$h(e);hT.addClass('tab-cv-viewListItem-showOwner').append(hU)}else if(tsConfig.allow_custom_view_save){var hV=this.$m(e);hT.append(hV)}var hW=this.$d(e);hT.append(hW);hT.click(ss.mkdel(this,function(hX){this.$I(e)}));return hT},$d:function(e){var L=this.$u(e);var hT=$('<div/>').addClass('tab-cv-viewListItem-leftSide');var hU=this.$l(e);var hV=$('<span/>').addClass('tab-cv-viewListItem-viewName').text(L).attr('title',L);hT.append(hU);hT.append(' ');hT.append(hV);return hT},$l:function(e){var L=this.get_viewModel().isDefault(e);var hT=new spiff.IconButton;if(tsConfig.allow_custom_view_default){hT.addClass('tab-customViews-viewListItem-setDefaultButton');hT.onClick(ss.mkdel(this,function(hW){this.$O(e)}));var hU;var hV;if(L){hU='tab-icons-customView-toggled';hV=tab.Strings.ToolbarCustomViewsSetDefaultButtonTooltipWhenCurrent}else{hU='tab-icons-customView-menu';hV=tab.Strings.ToolbarCustomViewsSetDefaultButtonTooltip}hT.set_disabled(L);hT.setIcon(hU);hT.set_hoverTooltipText(hV)}this.disposables.add$1(hT);return hT.element},$h:function(e){var L=this.$v(e);var hT=$('<span/>').addClass('tab-cv-viewListItem-ownerName').text(L).attr('title',L);return hT},$m:function(e){var L=$('<div/>').addClass('tab-customViews-viewListItem-actionButtonWrapper');var hT=new spiff.IconButton;hT.addClass('tab-customViews-viewListItem-renameButton');hT.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsRenameButtonTooltip);hT.setIcon('tab-icons-edit');hT.onClick(ss.mkdel(this,function(hW){this.$L(e)}));this.disposables.add$1(hT);L.append(hT.element);var hU=new spiff.IconButton;hU.addClass('tab-customViews-viewListItem-deleteButton');hU.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsDeleteButtonTooltip);hU.setIcon('tab-icons-delete');hU.onClick(ss.mkdel(this,function(hW){this.$A(e)}));this.disposables.add$1(hU);L.append(hU.element);if(tsConfig.allow_custom_view_share){var hV=new spiff.IconButton;hV.addClass('tab-customViews-viewListItem-toggleHideButton');if(e.isPublic){hV.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsHideViewButtonTooltipWhenPublic);hV.setIcon('tab-icons-view-public')}else{hV.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsHideViewButtonTooltipWhenPrivate);hV.setIcon('tab-icons-view-private')}if(this.get_viewModel().get_mode()===bV.modeSelect){hV.set_disabled(true)}hV.onClick(ss.mkdel(this,function(hW){this.$K(e)}));this.disposables.add$1(hV);L.append(hV.element)}return L},$i:function(e,L){var hT=$('<div/>').addClass('tab-customViews-rename-container');hT.click(ss.mkdel(this,this.$M));var hU=$('<div/>').addClass('tab-cv-viewListItem').width(tab.DoubleUtil.roundToInt(L.width()));var hV=$('<div/>').addClass('tab-customViews-viewListItem-actionButtonWrapper');var hW=new spiff.IconButton;hW.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsRenameUIClearButtonTooltip);var hX=hW;hX.setIcon('tab-icons-canceledit');hX.onClick(ss.mkdel(this,function(ib){this.$z(L)}));hV.append(hX.element);hU.append(hV);hU.append(this.$p(e));hT.append(hU);this.get_dom().domRoot.append(hT);this.$13.get_inputElement().focus();var hY=L.position().top;var hZ=L.position().left;if(!tsConfig.is_mobile){tab.DomUtil.selectAllInputText(this.$13.get_inputElement())}else{var ia=tab.DomUtil.getTransformScale(this.get_rootElement());hY/=ia;hZ/=ia;hY+=L[0].offsetParent.offsetTop;hZ+=L[0].offsetParent.offsetLeft}hU.css('top',hY+'px').css('left',hZ+'px')},$p:function(e){var L=$('<div/>').addClass('tab-customViews-rename-inputWrapper');this.$13=spiff.TextInputView.newTextInputView(e,tab.Strings.ToolbarCustomViewsRenameUIPlaceholderText,null,false);this.$13.get_inputElement().attr('maxlength',bV.maxCustomViewNameLength.toString());this.$13.get_inputElement().addClass('tab-customView-rename-textInput');this.$13.add_enterKeyPressed(ss.mkdel(this,this.$C));this.$13.add_escapeKeyPressed(ss.mkdel(this,this.$F));L.append(this.$13.get_inputElement());return L},$s:function(e){if(this.$w()){this.$t(this.$x())}this.$W=e;var L=this.$x();L.children().hide();this.$i(e.name,L)},$t:function(e){if(!this.$w()){return}this.get_dom().domRoot.children('.tab-customViews-rename-container').remove();e.children().show();this.$W=null;this.$13.remove_enterKeyPressed(ss.mkdel(this,this.$C));this.$13.remove_escapeKeyPressed(ss.mkdel(this,this.$F));this.$13.dispose();this.$13=null},$b:function(){var e=spiff.StyledTextButton.createUnificationIconTextButton(ss.mkdel(this,this.$E),tab.Strings.ToolbarCustomViewsEnterManageButtonText,'tab-customViews-enterManageModeButton');this.disposables.add$1(e);return e},$c:function(){var e=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$G),tab.Strings.ToolbarCustomViewsExitManageButtonText,'tab-customViews-exitManageModeButton',0,null);this.disposables.add$1(e);return e},$U:function(){var e=!this.get_viewModel().shouldSaveButtonBeEnabled(this.$15);if(ss.isValue(this.$14)&&this.$14.get_disabled()!==e){var L=(e?tab.Strings.ToolbarCustomViewsSaveButtonDisabledTitle:'');this.$14.set_hoverTooltipText(L);this.$14.set_disabled(e)}},updateViewListsState:function(){if(ss.count(this.get_viewModel().get_myCustomViews())===0&&ss.count(this.get_viewModel().get_otherCustomViews())===0&&this.get_viewModel().get_mode()===bV.modeManage){this.get_viewModel().exitManageMode()}else{this.$k();this.$f();this.$g()}},$V:function(e){var L;if(this.get_viewModel().isOriginalView(e)){L=this.$11}else{L=this.$y(e)}if(this.get_viewModel().isDefault(e)){L.addClass('tab-cv-viewListItem-defaultView')}if(this.get_viewModel().isCurrentCustomView(e)){L.addClass('tab-cv-viewListItem-currentView')}if(ss.isValue(e)&&e.isPublic){L.addClass('tab-cv-viewListItem-publicView')}var hT=this.$u(e);L.children('.tab-cv-viewListItem-viewName').text(hT).attr('title',hT)},$T:function(){if(this.get_viewModel().get_mode()===bV.modeSelect){this.$Z.element.css('display','none');this.$Y.element.css('display','');if(this.get_viewModel().get_hasCustomViews()){this.$Y.set_disabled(false);this.$Y.set_hoverTooltipText(null)}else{this.$Y.set_disabled(true);this.$Y.set_hoverTooltipText(tab.Strings.ManageCustomViewsDisabledExplanation)}}else if(this.get_viewModel().get_mode()===bV.modeManage){this.$Y.element.css('display','none');this.$Z.element.css('display','');this.$Z.set_disabled(false)}},$P:function(e,L){this.updateViewListsState()},$N:function(){this.$S()},$S:function(){var e=this.get_viewModel().cleanCustomViewName(this.$15.get_text());if(!this.get_viewModel().isValidCustomViewName(e)){return}var L=this.get_viewModel().getMyCustomViewByName(e);if(ss.isNullOrUndefined(L)){L=new Object}L.name=e;L.isPublic=this.$n(this.$12);this.get_viewModel().save$1(L,null,function(hT){eN.showNotification(tab.Strings.ToolbarCustomViewsErrorSavingView)},this.$n(this.$X));this.$15.get_inputElement().blur()},$H:function(e,L){if(ss.equalsT(L.get_propertyName(),'text')){this.$U()}},$D:function(){if(!this.$14.get_disabled()){this.$N()}},$I:function(e){if(this.get_viewModel().get_mode()===bV.modeSelect){this.get_viewModel().select(e);this.updateViewListsState()}},$O:function(e){this.get_viewModel().setDefault(e,ss.mkdel(this,function(L){this.updateViewListsState()}),function(L){eN.showNotification(tab.Strings.ToolbarCustomViewsErrorSettingDefault)})},$A:function(e){var L=Z.create(null,ss.mkdel(this,function(){this.$B(e)}));this.get_dom().customViewsArea.append(L.element)},$B:function(e){this.get_viewModel().destroyCustomView(e,ss.mkdel(this,this.updateViewListsState),ss.mkdel(this,function(L){eN.showNotification(tab.Strings.ToolbarCustomViewsErrorDeleting);this.updateViewListsState()}))},$z:function(e){this.$t(e)},$L:function(e){this.$s(e)},$C:function(){this.$Q()},$F:function(){this.$t(this.$x())},$M:function(e){var L=$(e.target);var hT=L.hasClass('tab-customView-rename-textInput');if(!hT){this.$Q()}},$Q:function(){var e=this.get_viewModel().cleanCustomViewName(this.$13.get_text());if(!this.get_viewModel().isValidCustomViewName(e)){eN.showNotification(tab.Strings.ToolbarCustomViewsErrorInvalidName);return}var L=this.$x();if(ss.equalsT(e,this.$W.name)){this.$t(L);return}this.get_viewModel().updateCustomizedViewName(this.$W,e,ss.mkdel(this,function(hT){this.$t(L);this.updateViewListsState()}),ss.mkdel(this,function(hT){eN.showNotification(tab.Strings.ToolbarCustomViewsErrorRenaming);this.$t(L);this.updateViewListsState()}))},$K:function(e){if(!ss.isValue(e)||this.get_viewModel().get_mode()!==bV.modeManage){return}this.get_viewModel().updateCustomizedViewPublicState(e,!e.isPublic,ss.mkdel(this,function(L){this.updateViewListsState()}),ss.mkdel(this,function(L){eN.showNotification(tab.Strings.ToolbarCustomViewsErrorChangingPublicPrivateState);this.updateViewListsState()}))},$E:function(){this.get_viewModel().startManage()},$G:function(){this.get_viewModel().exitManageMode()},$J:function(e,L){var hT=this.get_viewModel().get_mode();if(hT===bV.modeManage){this.get_dom().customViewsArea.toggleClass('tab-customViews-inManageMode',true)}else if(hT===bV.modeSelect){this.get_dom().customViewsArea.toggleClass('tab-customViews-inManageMode',false)}this.$k();this.updateViewListsState();this.$T()},$w:function(){return ss.isValue(this.$W)},$y:function(e){if(ss.isNullOrUndefined(e)){return this.$11}else{return this.$10[ss.unbox(e.id)]}},$x:function(){return this.$y(this.$W)},$n:function(e){if(ss.isValue(e)){return e.get_selected()}else{return false}},$u:function(e){var L;if(this.get_viewModel().isOriginalView(e)){L=tab.Strings.ToolbarCustomViewsOriginalView}else{L=e.name}if(this.get_viewModel().isDefault(e)){var hT=tab.Strings.ToolbarCustomViewsDefault.toLocaleLowerCase();L+=' '+hT}return L},$v:function(e){var L;if(this.get_viewModel().isOriginalView(e)){L=tsConfig.workbook_owner_friendly_name}else{L=e.owner.friendlyName}return L}},ss.makeGenericType(spiff.BaseView$1,[bV]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[bV])]);ss.initClass(bV,a,{add_modeChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modeChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_customViewListChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_customViewListChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_defaultCustomViewChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_defaultCustomViewChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_customViewDestroyed:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_customViewDestroyed:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_dirtyChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_dirtyChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_mode:function(){return this.$p},get_myCustomViews:function(){return this.$q},get_otherCustomViews:function(){return this.$r},get_currentCustomView:function(){return this.$l},get_defaultCustomViewId:function(){return this.$n},get_currentCustomViewName:function(){return this.$m},get_hasCustomViews:function(){return this.$q.length>0||this.$r.length>0},get_dirty:function(){return tab.ApplicationModel.get_instance().get_workbook().get_isCurrentDashboardModified()},get_viewType:function(){return bU},get_viewModel:function(){return this},$j:function(){return!this.isOriginalView(this.get_currentCustomView())&&this.belongsToCurrentUser(this.get_currentCustomView())},$k:function(){return(this.$j()?this.get_currentCustomView().name:'')},$h:function(){return this.$j()&&this.isDefault(this.get_currentCustomView())},$i:function(){return this.$j()&&this.get_currentCustomView().isPublic},isDefault:function(e){if(tsConfig.allow_custom_view_default){if(this.isOriginalView(e)){return ss.isNullOrUndefined(this.$n)}else{return ss.isValue(this.$n)&&ss.unbox(this.$n)===ss.unbox(e.id)}}else{return false}},isOriginalView:function(e){return ss.isNullOrUndefined(e)},belongsToCurrentUser:function(e){return ss.isValue(e.owner)&&e.owner.id===tsConfig.current_user_id},isCurrentCustomView:function(e){if(this.isOriginalView(e)){return this.isCurrentCustomViewTheOriginalView()}else{return ss.isValue(tsConfig.current_custom_view_id)&&ss.unbox(tsConfig.current_custom_view_id)===ss.unbox(e.id)}},isCurrentCustomViewTheOriginalView:function(){return ss.isValue(tsConfig.current_custom_view_id)===false},shouldSaveButtonBeEnabled:function(e){return this.isValidCustomViewName(this.cleanCustomViewName(e.get_text()))},isValidCustomViewName:function(e){var L=this.cleanCustomViewName(e);return L.length>0&&L.length<=bV.maxCustomViewNameLength},cleanCustomViewName:function(e){return e.trim().substr(0,bV.maxCustomViewNameLength)},$4:function(){if(ss.isValue(this.hideView)){this.hideView()}},save:function(e,L,hT){var hU=this.getMyCustomViewByName(e);if(ss.isNullOrUndefined(hU)){hU=new Object;hU.name=e}this.save$1(hU,L,hT,false)},save$1:function(e,L,hT,hU){this.$s.saveCustomizedView(e,ss.mkdel(this,function(hV){var hW=ss.mkdel(this,function(hX){this.$c(hX);if(ss.isValue(L)){L(hX)}});if(hU){this.setDefault(hV,hW,function(hX){hW(hV)})}else if(this.isDefault(hV)){this.setDefault(null,function(hX){hW(hV)},function(hX){hW(hV)})}else{hW(hV)}}),ss.mkdel(this,function(hV){this.$b(hV);if(ss.isValue(hT)){hT(hV)}}))},getMyCustomViewByName:function(e){var L=null;for(var hT=0;hT<this.$q.length;hT++){var hU=this.$q[hT];if(ss.equalsT(hU.name,e)){L=hU}}return L},select:function(e){if(this.isOriginalView(e)){this.$s.navigateToOriginalView();tsConfig.current_custom_view_id=null}else{this.$s.navigateToCustomizedView(e);tsConfig.current_custom_view_id=e.id}},destroy:function(e,L,hT){this.destroyCustomView(e,L,hT)},update:function(e,L,hT){this.$g(e,null,L,hT)},buildUrl:function(e,L){return tab.CustomizedViewSession.buildUrl(e,L)},makeCurrentDefault:function(e,L){this.setDefault(this.$l,e,L)},setDefault:function(e,L,hT){this.$s.setDefaultCustomizedView(e,ss.mkdel(this,function(hU){this.$e(hU);if(ss.isValue(L)){L(hU)}}),ss.mkdel(this,function(hU){this.$d(hU);if(ss.isValue(hT)){hT(hU)}}))},startManage:function(){if(this.$p===bV.modeSelect&&this.get_hasCustomViews()){this.$f(bV.modeManage)}},exitManageMode:function(){this.$f(bV.modeSelect)},updateCustomizedViews:function(e,L){this.$5(e,L)},destroyCustomView:function(e,L,hT){this.$o=true;this.$s.destroyCustomizedView(e,ss.mkdel(this,function(){ss.remove(this.get_myCustomViews(),e);if(ss.referenceEquals(e.id,this.$n)){this.$n=null}if(ss.referenceEquals(e.id,tsConfig.current_custom_view_id)){this.$l=null;this.$s.updateTsConfig(null,true);if(ss.isValue(tsConfig.requestURI)&&ss.isValue(e.owner)){var hU=tsConfig.requestURI;var hV='/'+e.owner.username+'/'+e.urlId;tsConfig.requestURI=ss.replaceAllString(hU,hV,'')}}this.$5(null,null);if(ss.isValue(L)){L()}}),ss.mkdel(this,function(hU){this.$5(null,null);if(ss.isValue(hT)){hT(hU)}}))},updateCustomizedViewPublicState:function(e,L,hT,hU){if(!ss.isValue(e)||L===e.isPublic){return}var hV=new Object;hV.id=e.id;hV.isPublic=L;hV.name=e.name;hV.owner=e.owner;hV.startViewId=e.startViewId;hV.urlId=e.urlId;this.$g(hV,e,hT,hU)},updateCustomizedViewName:function(e,L,hT,hU){if(ss.equalsT(e.name,L)){return}var hV=new Object;hV.id=e.id;hV.isPublic=e.isPublic;hV.name=L;hV.owner=e.owner;hV.startViewId=e.startViewId;hV.urlId=e.urlId;this.$g(hV,e,hT,hU)},$g:function(e,L,hT,hU){this.$s.updateCustomizedView(e,ss.mkdel(this,function(hV){if(ss.isValue(L)){var hW=ss.indexOf(this.$q,L);if(hW>=0){ss.removeAt(this.$q,hW);ss.insert(this.$q,hW,e)}if(ss.isValue(L)&&ss.referenceEquals(e.id,L.id)&&ss.referenceEquals(e.id,tsConfig.current_custom_view_id)){this.$l=e}}this.$5(null,null);if(ss.isValue(hT)){hT(hV)}}),ss.mkdel(this,function(hV){this.$5(null,null);if(ss.isValue(hU)){hU(hV)}}))},$f:function(e){this.$p=e;this.$a()},$5:function(e,L){this.$s.getCustomizedViews(ss.mkdel(this,function(hT,hU){this.$3(hT,hU);if(ss.isValue(e)){e(hT,hU)}}),ss.mkdel(this,function(hT){this.$2(hT);if(ss.isValue(L)){L(hT)}}))},$c:function(e){var L=tabBootstrap.Utility.get_embedMode()==='embeddedNotInWg'&&!tsConfig.reloadOnCustomViewSave;if(L||ss.isValue(this.$l)&&ss.unbox(this.$l.id)===ss.unbox(e.id)){this.$4();if(L){var hT;if(ss.isValue(e.owner)&&e.owner.id===tsConfig.current_user_id){for(hT=0;hT<this.$q.length;hT++){if(ss.referenceEquals(this.$q[hT].name,e.name)){this.$q[hT]=e;break}}if(hT>=this.$q.length){this.$q.push(e);this.$q.sort(bV.$0)}}else{for(hT=0;hT<this.$r.length;hT++){if(ss.referenceEquals(this.$r[hT].name,e.name)){this.$r[hT]=e;break}}if(hT>=this.$r.length){this.$r.push(e);this.$r.sort(bV.$0)}}}this.$l=e}else{this.$s.navigateToCustomizedView(e)}this.$9()},$b:function(e){this.$4()},$e:function(e){this.$n=(ss.isValue(e)?e.id:null);this.$8()},$d:function(e){},$3:function(e,L){ss.clear(this.$q);ss.clear(this.$r);this.$l=null;this.$m=tab.Strings.ToolbarCustomViewsOriginalView;for(var hT=0;hT<e.length;hT++){var hU=e[hT];if(this.belongsToCurrentUser(hU)){this.$q.push(hU)}else{this.$r.push(hU)}if(this.isCurrentCustomView(hU)){this.$l=hU;this.$m=hU.name}}this.$q.sort(bV.$0);this.$r.sort(bV.$0);this.$n=L;this.$7()},$2:function(e){this.$m=null;this.$o=false},$a:function(){if(ss.isValue(this.$2$1)){this.$2$1(this,ss.EventArgs.Empty)}},$7:function(){if(ss.isValue(this.$2$2)){this.$2$2(this,ss.EventArgs.Empty)}if(this.$o){this.$6();this.$o=false}},$8:function(){if(ss.isValue(this.$2$3)){this.$2$3(this,ss.EventArgs.Empty)}},$6:function(){if(ss.isValue(this.$2$4)){this.$2$4(this,ss.EventArgs.Empty)}},$9:function(){this.raiseEvent(this.$2$5)},disposeViewModel:function(){this.dispose()},updateUberPopupViewModel:function(e){}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,spiff.IUberPopupContent]);ss.initClass(bW,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bX,a,{$e:function(){return this.get_template()},get_dashboardNode:function(){return this.$e().dashboardNode},get_containerNode:function(){return this.$e().domRoot},$a:function(){if(ss.isValue(this.$f.get_formats())){this.$e().dashboardNode.css(this.$f.get_formats());var e=this.$f.get_formats()['color'];if(ss.isNullOrUndefined(e)||e==='#000000'){this.$e().dashboardNode.addClass('lightBackground')}else{this.$e().dashboardNode.addClass('darkBackground')}if(tsConfig.current_sheet_type==='dashboard'&&tsConfig.is_authoring){var L={top:this.$f.gutter.top+'px',left:this.$f.gutter.left+'px'};this.$e().dashboardNode.css(L)}}},$c:function(){this.$e().dashboardNode.height(this.$f.get_size().EUR).width(this.$f.get_size().rec);if(tsConfig.current_sheet_type==='dashboard'&&tsConfig.is_authoring){$('.tab-gutter').height(this.$f.get_size().EUR+this.$f.gutter.top+this.$f.gutter.bottom).width(this.$f.get_size().rec+this.$f.gutter.left+this.$f.gutter.right)}},$b:function(e){var L=spiff.ObjectRegistry.newView(hQ).call(null,[e]);L.addToDom(this.$e().dashboardNode)},onAddedToDom:function(){if(!this.addedToDom){this.$c();this.$a();var e=_.keys(this.$f.get_zoneViewModels());for(var L=0;L<e.length;L++){var hT=e[L];this.$b(this.$f.get_zoneViewModels()[hT])}var hU=this.$e().domRoot.parent();hU.on('scroll',ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(function(){hU.off('scroll')}))}spiff.Widget.prototype.onAddedToDom.call(this)},$9:function(e){var L=this.get_viewModel().viewControllers;for(var hT=0;hT<L.length;hT++){var hU=L[hT];hU.get_viewWidget().handlePageScroll()}},$d:function(){if(this.$f.get_renderMode()==='render-mode-client'){var e=this.$e().dashboardNode.find('img');var L=e.length;for(var hT=0;hT<L;hT++){var hU=e[hT];if(ss.isNullOrUndefined(hU)||hU.naturalHeight===0||hU.naturalWidth===0){continue}var hV=document.createElement('canvas');hV.width=hU.naturalWidth;hV.height=hU.naturalHeight;var hW=hV.getContext('2d');hW.drawImage(hU,0,0);try{var hX=hV.toDataURL('image/png',new Object);hU.src=hX}catch(ih){}}}var hY=this.$e().dashboardNode.clone(false,false);hY.addClass('facadedom');bX.uniquefyClonedFilterRadioElements(hY);if(this.$f.get_renderMode()==='render-mode-server'){var hZ=this.$e().dashboardNode.find('canvas');var ia=hY.find('canvas');var ib=hZ.length;for(var ic=0;ic<ib;ic++){var id=hZ[ic];var ie=ia[ic];if(!ss.isValue(ie)){continue}var ig=ie.getContext('2d');if(ss.isValue(id)&&id.width>0&&id.height>0&&ss.isValue(ig)){ig.drawImage(id,0,0)}}}this.$e().dashboardNode.parent().append(hY)}},ss.makeGenericType(spiff.BaseView$1,[bY]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[bY])]);ss.initClass(bY,a,{add_newZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_vizRebuildStart:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_vizRebuildStart:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_sizeChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_sizeChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_portSizeChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_portSizeChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_formatsChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_formatsChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_zoneViewModels:function(){return this.$n},get_formats:function(){return this.dashboardModel.get_formats()},get_backgroundColor:function(){var e='#FFFFFF';if(ss.isValue(this.get_formats())&&ss.keyExists(this.get_formats(),'backgroundColor')){e=this.get_formats()['backgroundColor']}return e},get_renderMode:function(){return this.dashboardModel.get_renderMode()},get_size:function(){return this.$m||this.dashboardModel.get_dashboardSize()},set_size:function(e){this.$m=e;this.raiseActionEvent(this.$2$3)},get_isDashboard:function(){return this.dashboardModel.get_isDashboard()},get_flipboardNavigatorViewModel:function(){if(!this.dashboardModel.pm.Jqz){return null}return this.$5('flipboard-nav')},get_flipboardViewModel:function(){return this.$5('flipboard')},$l:function(){return tab.CommandController.get().get_legacySession()},dispose:function(){var e=ss.getEnumerator(Object.keys(this.$n));try{while(e.moveNext()){var L=e.current();this.$n[L].dispose()}}finally{e.dispose()}ss.clearKeys(this.$n);for(var hT=0;hT<this.viewControllers.length;hT++){var hU=this.viewControllers[hT];hU.get_viewSession().remove_sheetDataChanged(ss.mkdel(this,this.$k));hU.dispose()}ss.clear(this.viewControllers);ss.clearKeys(this.viewControllersBySheet);this.dashboardModel.zonesModel.remove_newZone(ss.mkdel(this,this.$8));this.dashboardModel.remove_newDashboard(ss.mkdel(this,this.$7));this.dashboardModel.remove_activeZoneChanged(ss.mkdel(this,this.$6));this.dashboardModel.remove_readyZoneChanged(ss.mkdel(this,this.$9));spiff.BaseViewModel.prototype.dispose.call(this)},$8:function(e){if(ss.keyExists(this.$n,e.get_zoneId())){this.$c(e.get_zoneId())}var L=this.$4(e);if(L.get_zoneType()==='viz'){if(ss.isValue(L.get_zoneContentViewModel())){this.$b(L)}else{var hT=null;hT=ss.mkdel(this,function(){L.remove_newZoneContent(hT);this.$b(L)});L.add_newZoneContent(hT)}}L.set_isActiveZone(L.get_zoneId()===this.dashboardModel.get_activeZoneID());this.$i(L)},$b:function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_zoneContentViewModel())){return}var L=this.$3(e.get_associatedSheet());L.get_viewSession().add_sheetDataChanged(ss.mkdel(this,this.$k));e.get_zoneContentViewModel().viewController=L},$4:function(e){var L=new hR(e);this.$n[e.get_zoneId()]=L;return L},$5:function(e){var L=new ss.ObjectEnumerator(this.$n);try{while(L.moveNext()){var hT=L.current();if(hT.value.get_zoneType()===e){return hT.value.get_zoneContentViewModel()}}}finally{L.dispose()}return null},$i:function(e){if(ss.isValue(this.$2$1)){this.$2$1(e)}},$7:function(){this.$j(ss.mkdel(this,function(e){return!this.dashboardModel.hasZone(e.get_zoneId())||!this.dashboardModel.isValidSheet(e.get_model())}))},$g:function(){this.raiseActionEvent(this.$2$3)},$f:function(){this.raiseActionEvent(this.$2$4)},$e:function(){this.raiseActionEvent(this.$2$5)},$a:function(){if(!ss.referenceEquals(this.dashboardModel,tab.ModelUtils.findContentDashboard())){return}this.raiseActionEvent(this.$2$2);this.$j(function(e){return e.get_zoneType()==='viz'})},$j:function(e){var L=[];var hT=_.keys(this.$n);for(var hU=0;hU<hT.length;hU++){var hV=hT[hU];var hW=this.$n[hV];if(e(hW)){L.push(hV)}}this.$d(L);this.$2()},$d:function(e){for(var L=0;L<e.length;L++){var hT=e[L];this.$c(hT)}},$c:function(e){var L=this.$n[e];if(ss.isValue(L)){if(L.get_zoneType()==='viz'){var hT=this.viewControllersBySheet['v_'+L.get_associatedSheet()];if(ss.isValue(hT)){delete this.viewControllersBySheet['v_'+L.get_associatedSheet()];ss.remove(this.viewControllers,hT);hT.dispose()}}L.dispose();delete this.$n[e]}},$2:function(){var e=this.dashboardModel.get_zoneModels();for(var L=0;L<e.length;L++){var hT=e[L];if(!ss.keyExists(this.$n,hT.get_zoneId())&&this.dashboardModel.isValidSheet(hT)){this.$8(hT)}}},$h:function(e){if(this.dashboardModel.autoUpdate){tab.CommandController.get().refreshLayout()}else{this.dashboardModel.invalid=true}},$k:function(){if(this.dashboardModel.autoUpdate){tab.CommandController.get().refreshLayout()}else{this.dashboardModel.invalid=true}},$6:function(){if(tsConfig.isPublic){return}if(!tab.ModelUtils.getSheetInfoPresModel(tab.ApplicationModel.get_instance(),tsConfig.current_sheet_name).WeS){return}var e=this.dashboardModel.get_activeZoneID();var L=ss.getEnumerator(Object.keys(this.$n));try{while(L.moveNext()){var hT=L.current();var hU=this.$n[hT];hU.set_isActiveZone(hU.get_zoneId()===e)}}finally{L.dispose()}},$9:function(){if(!tab.ModelUtils.getSheetInfoPresModel(tab.ApplicationModel.get_instance(),tsConfig.current_sheet_name).WeS){return}var e=this.dashboardModel.get_readyZoneID();var L=ss.getEnumerator(Object.keys(this.$n));try{while(L.moveNext()){var hT=L.current();var hU=this.$n[hT];hU.set_isReadyZone(hU.get_zoneId()===e)}}finally{L.dispose()}},$3:function(e){var L=this.dashboardModel.getViewSession(e);var hT=new hw(e,L);this.viewControllersBySheet['v_'+e]=hT;this.viewControllers.push(hT);return hT}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(bZ,a,{render:function(){return React.DOM.div({className:'tab-dataAlertCreateComponent'},this.$2(),this.$1(),this.$5(),this.$6(),this.$3())},$2:function(){var e=tab.Strings.DataAlertOnConstantThreshold(this.props.fieldCaption);return React.DOM.div({className:'tab-dataAlertConditionMessage'},e)},$1:function(){return React.DOM.div({className:'tab-dataAlertConditionArea'},React.DOM.div({className:'tab-dataAlertOperatorArea'},React.DOM.label({className:'tab-dataAlertOperatorLabel'},tab.Strings.DataAlertCondition),React.createElement(spiff.ComboBoxComponent,this.props.conditionComboBoxProps)),React.DOM.div({className:'tab-dataAlertThresholdArea'},React.DOM.label({className:'tab-dataAlertThresholdLabel'},tab.Strings.DataAlertThreshold),this.$4(),React.DOM.div(this.$7(),tab.Strings.DataAlertThresholdError)))},$7:function(){return{className:'tab-dataAlertErrorText',style:{visibility:(this.props.thresholdIsValid?'hidden':'visible')}}},$4:function(){var e='tab-dataAlertThreshold tab-TextInput';if(!this.props.thresholdIsValid){e+=' error'}return React.DOM.input({type:'text',value:this.props.threshold,className:e,onBeforeInput:tableau.util.maxLengthEnforcingBeforeInputHandler(this.props.maxThresholdLength),onChange:ss.mkdel(this,function(L){this.props.onThresholdInputTextChanged(L.target.value)})})},$5:function(){return React.DOM.div({className:'tab-dataAlertTitleInputArea'},React.DOM.label({className:'tab-dataAlertTitleInputLabel'},tab.Strings.DataAlertSubject),React.DOM.input({type:'text',className:'tab-dataAlertTitleInput tab-TextInput',value:this.props.title,onChange:ss.mkdel(this,function(e){this.props.onTitleInputTextChanged(e.target.value)})}))},$6:function(){return React.DOM.div({className:'tab-dataAlertTriggerTypeArea'},React.DOM.label({className:'tab-dataAlertTriggerTypeLabel'},tab.Strings.DataAlertSchedulePicker),React.createElement(spiff.ComboBoxComponent,this.props.triggerTypeComboBoxProps))},$3:function(){var e={clickHandler:ss.mkdel(this,this.$0),label:tab.Strings.DataAlertCreateButton,buttonClass:'tab-dataAlertSubmitButton tab-UnifiedButton',buttonStyle:0,tabIndex:0,disabled:!this.props.enableSubmitButton};var L=React.createElement(spiff.StyledButtonComponent,e);return React.DOM.div({className:'tab-dataAlertSubmitButtonArea'},L)},$0:function(){this.props.onSave()}},React.Component);ss.initClass(ca,a,{add_closeDialogBox:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_closeDialogBox:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},get_conditionOperatorComboBoxViewModel:function(){if(ss.isValue(this.$g)){return this.$g}var e=this.$g=spiff.ComboBoxViewModel.newReactLineAndArrowComboBoxViewModel();var L=[];var hT=[];hT.push('greater-than-equal');hT.push('greater-than');hT.push('less-than-equal');hT.push('less-than');hT.push('equals');var hU=hT;for(var hV=0;hV<hU.length;hV++){var hW=hU[hV];L.push(new spiff.ComboBoxItem(null,ca.getOperationTypeText(hW),hW,null))}e.setItemsWithInitialSelection(L,L[0]);this.$6(L[0]);this.$g.add_selectedItemChanged(ss.mkdel(this,this.$6));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$g.remove_selectedItemChanged(ss.mkdel(this,this.$6))})));return this.$g},get_triggerTypeComboBoxViewModel:function(){if(ss.isValue(this.$j)){return this.$j}var e=this.$j=spiff.ComboBoxViewModel.newReactLineAndArrowComboBoxViewModel();var L=new spiff.ComboBoxItem(null,'','',null);var hT=[];hT.push(L);e.setItemsWithInitialSelection(hT,L);this.$j.add_selectedItemChanged(ss.mkdel(this,this.$a));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$j.remove_selectedItemChanged(ss.mkdel(this,this.$a))})));return this.$j},get_createButtonEnabled:function(){return this.$h.get_thresholdIsValid()},$e:function(){tab.WorkgroupServerCommands.getSchedules(ss.mkdel(this,function(e){var L=e.filter(function(hT){return hT.get_schedulePresModel().scheduledAction==='Subscription'});this.$f(L)}))},$d:function(){this.$h.add_titleChanged(ss.mkdel(this,this.refresh));this.$h.add_triggerTypeChanged(ss.mkdel(this,this.refresh));this.$h.add_measureChanged(ss.mkdel(this,this.$7));this.$h.add_conditionChanged(ss.mkdel(this,this.$5));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$h.remove_titleChanged(ss.mkdel(this,this.refresh));this.$h.remove_triggerTypeChanged(ss.mkdel(this,this.refresh));this.$h.remove_measureChanged(ss.mkdel(this,this.$7));this.$h.remove_conditionChanged(ss.mkdel(this,this.$5))})))},$c:function(){this.$i=new tab.Debouncer(ss.mkdel(this,function(){tab.DataAlertCommands.updateReferenceLine(this.$h.get_threshold(),this.$h.get_referenceLineSpecId())}),300);this.disposables.add$1(this.$i)},refresh:function(){this.updateProps$1({conditionComboBoxProps:this.get_conditionOperatorComboBoxViewModel().get_props(),triggerTypeComboBoxProps:this.get_triggerTypeComboBoxViewModel().get_props(),enableSubmitButton:this.get_createButtonEnabled(),onThresholdInputTextChanged:ss.mkdel(this,this.$8),maxThresholdLength:18,onTitleInputTextChanged:ss.mkdel(this,this.$9),onSave:ss.mkdel(this,this.$4),title:this.$h.get_title(),fieldCaption:this.$h.get_fieldCaption(),threshold:this.$h.get_threshold(),thresholdIsValid:this.$h.get_thresholdIsValid()})},$f:function(e){var L=[];for(var hT=0;hT<e.length;hT++){var hU=e[hT];var hV=hU.get_schedulePresModel().name;if(tsConfig.display_schedule_description_as_name){hV=hU.get_scheduleFrequencyDescription()}L.push(new spiff.ComboBoxItem(null,hV,hU,null))}this.get_triggerTypeComboBoxViewModel().setItemsWithInitialSelection(L,L[0]);this.$h.set_triggerType(L[0].get_data())},$9:function(e){if(ss.referenceEquals(e,this.$h.get_title())){return}this.$h.set_title(e)},$8:function(e){if(ss.referenceEquals(e,this.$h.get_threshold())){return}if(tab.MiscUtil.isNullOrEmpty$1(e)){this.$i.cancel()}else{this.$i.invokeActionDelayed()}tab.DataAlertCommands.updateCondition(this.$h,this.$h.get_operator(),e)},$6:function(e){if(ss.isNullOrUndefined(e)){return}var L=e.get_data();if(L===this.$h.get_operator()){return}tab.DataAlertCommands.updateCondition(this.$h,L,this.$h.get_threshold())},$a:function(e){if(ss.isNullOrUndefined(e)){return}var L=ss.safeCast(e.get_data(),tab.Schedule);if(ss.isNullOrUndefined(L)){return}this.$h.set_triggerType(L)},$4:function(){var e=ca.getAlertDescriptionText(this.$h.get_measurePresModel().CST,this.$h.get_conditionPresModel().Fcc,this.$h.get_conditionPresModel().dDA.toString());if(ss.isNullOrEmptyString(this.$h.get_title())){this.$h.set_subject(e)}else{this.$h.set_subject(this.$h.get_title()+' - '+e)}var L=ss.mkdel(this,function(){eN.showNotification(tab.Strings.DataAlertCreateSuccess);this.raiseActionEvent(this.$3$1);this.dispose()});var hT=function(){eN.showNotification(tab.Strings.DataAlertCreateFailure)};tab.WorkgroupServerCommands.createDataAlert(this.$h,L,hT)},$7:function(){this.refresh()},$5:function(){this.$b(this.$h.get_operator());this.refresh();this.$b(this.$h.get_operator())},$b:function(e){var L=this.get_conditionOperatorComboBoxViewModel().get_items();var hT=L.filter(function(hU){return hU.get_data()===e})[0];this.get_conditionOperatorComboBoxViewModel().set_selectedItem(hT)}},ss.makeGenericType(spiff.BaseComponentViewModel$1,[Object]),[ss.IDisposable,spiff.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ca.$ctor1.prototype=ca.prototype;ss.initClass(cb,a,{dispose:function(){ss.makeGenericType(spiff.BaseView$1,[cc]).prototype.dispose.call(this);if(ss.isNullOrUndefined(this.$9)){return}this.$9.remove_closed(ss.mkdel(this,this.onDialogClosed));var e=this.$9;var L=this.get_viewModel();e.remove_closing(ss.mkdel(L,L.onCancel));this.$9.dispose()},onDialogClosed:function(e,L){this.dispose()}},ss.makeGenericType(spiff.BaseView$1,[cc]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[cc])]);ss.initClass(cc,a,{get_createViewModel:function(){return this.$2},onCancel:function(e,L){this.dispose()}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(cd,a,{get_variableListArea:function(){return this.$5},get_variableListInstruction:function(){return this.$9},get_variableListHeaderName:function(){return this.$7},get_variableListHeaderValue:function(){return this.$8},get_variableListContainer:function(){return this.$6},get_buttonArea:function(){return this.$1},get_editArea:function(){return this.$2},get_editTitle:function(){return this.$4},get_editInstruction:function(){return this.$3}},spiff.Template,[ss.IDisposable]);ss.initClass(ce,a,{get_dialog:function(){return this.$g},$f:function(){return this.get_template()},get_variableListView:function(){return this.$j},dispose:function(){if(ss.isValue(this.$g)){this.$g.dispose()}if(ss.isValue(this.$h)){this.$h.dispose()}if(ss.isValue(this.get_variableListView())){this.get_variableListView().dispose()}if(ss.isValue(this.$i)){this.$i.dispose()}ss.makeGenericType(spiff.BaseView$1,[cf]).prototype.dispose.call(this)},$a:function(){this.$f().get_variableListInstruction().text(this.get_viewModel().get_variableListInstruction());this.$f().get_variableListHeaderName().text(this.get_viewModel().get_variableListNameLabel());this.$f().get_variableListHeaderValue().text(this.get_viewModel().get_variableListValueLabel());this.get_variableListView().initDom(this.$f().get_variableListContainer());this.$f().get_editTitle().text(this.get_viewModel().get_editSectionTitle());this.$f().get_editInstruction().text(this.get_viewModel().get_editSectionInstruction());this.$e()},$b:function(){this.$f().get_editInstruction().hide();this.$i=spiff.ObjectRegistry.newView(ch).call(null,[this.get_viewModel().get_variableInEdit()]);this.$i.addToDom(this.$f().get_editArea())},$c:function(){this.$f().get_editInstruction().show()},$e:function(){this.$g.set_titleUnescaped(this.get_viewModel().get_promptTitle());this.$h.set_disabled(this.get_viewModel().get_isRequiredVariableMissing());if(!this.$g.get_isShown()){this.$g.show()}},$d:function(){this.$h=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$9),tab.Strings.DialogButtonOK,'tabDataConnPromptOkButton',0,1);this.$f().get_buttonArea().append(this.$h.element);this.$g=new spiff.ModalDialog.$ctor1(this.get_viewModel().get_promptTitle(),this.get_rootElement());this.$g.get_dialogElement().addClass('tabDataConnectionPromptDialog');this.$g.set_closeButtonVisible(false);this.$g.show();this.$a()},$9:function(){this.get_viewModel().applyConnectionVariables();this.$g.close(null)}},ss.makeGenericType(spiff.BaseView$1,[cf]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[cf])]);ss.initClass(cf,a,{get_promptTitle:function(){return this.$4.get_promptTitle()},get_variableListInstruction:function(){return this.$4.get_variableListInstruction()},get_variableListNameLabel:function(){return this.$4.get_variableListNameLabel()},get_variableListValueLabel:function(){return this.$4.get_variableListValueLabel()},get_editSectionTitle:function(){return this.$4.get_editSectionTitle()},get_editSectionInstruction:function(){return this.$4.get_editSectionInstruction()},get_editSectionFromLabel:function(){return this.$4.get_editSectionFromLabel()},get_editSectionToLabel:function(){return this.$4.get_editSectionToLabel()},get_variableListViewModel:function(){return this.$6},get_variableInEdit:function(){return this.$5},get_isRequiredVariableMissing:function(){return _.any(this.$6.get_connectionVariables(),function(e){return e.get_isRequired()&&e.get_values().length===0})},dispose:function(){if(ss.isValue(this.$6)){this.$6.dispose()}if(ss.isValue(this.$5)){this.$5.dispose()}spiff.BaseViewModel.prototype.dispose.call(this)},applyConnectionVariables:function(){tab.DataConnectionCommands.acceptConnectionVariables(this.$4.get_connectionName());this.get_variableListViewModel().set_selectedVariable(null)},$2:function(e){this.$4=e;this.$6.update(this.$4);this.raiseActionEvent(this.$6.contentChanged);this.raiseActionEvent(this.contentChanged)},$3:function(e){if(ss.isNullOrUndefined(e)){this.$5=tab.MiscUtil.dispose$1(this.$5);this.raiseActionEvent(this.variableInEditDeleted);return}if(ss.isNullOrUndefined(this.$5)){this.$5=new ci(e.get_variableModel(),e.get_valueModel(),this.$4.get_connectionName(),this.get_editSectionFromLabel(),this.get_editSectionToLabel());this.raiseActionEvent(this.variableFirstEdited)}this.get_variableInEdit().update(e.get_variableModel(),e.get_valueModel())}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(cg,a,{get_variableModel:function(){return this.$4},get_valueModel:function(){return this.$3},get_variableListId:function(){return this.$2$1},set_variableListId:function(e){this.$2$1=e},get_variableListViewModel:function(){return this.$2$2},set_variableListViewModel:function(e){this.$2$2=e},get_isDefaultValue:function(){return this.$2}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(ch,a,{$i:function(){return this.get_template()},dispose:function(){this.$k.dispose();this.$j.dispose();this.$l.dispose();ss.makeGenericType(spiff.BaseView$1,[ci]).prototype.dispose.call(this)},$9:function(){var e=spiff.ObjectRegistry.newView(spiff.ComboBoxView).call(null,[this.$k]);e.addToDom(this.$i().$5());var L=spiff.ObjectRegistry.newView(spiff.ComboBoxView).call(null,[this.$j]);L.addToDom(this.$i().$3());var hT=spiff.ObjectRegistry.newView(spiff.ComboBoxView).call(null,[this.$l]);hT.addToDom(this.$i().$6())},$f:function(){this.$i().$2().text(this.get_viewModel().get_variableDisplayName());this.$i().$2().prop('title',this.get_viewModel().get_variableDisplayName());this.$i().$1().text(this.get_viewModel().get_variableDescription());this.$i().$1().prop('title',this.get_viewModel().get_variableDescription());this.$g();if(this.get_viewModel().get_selectableValues().length===0){this.$i().$3().hide();this.$i().$6().hide();this.$i().$9().val(this.get_viewModel().get_firstValue());this.$i().$9().show()}else{this.$i().$9().css({display:'none'});this.$h(this.$j,this.get_viewModel().get_firstValueIndex());this.$i().$3().show();if(this.get_viewModel().get_operation().pp==='range-inclusive'){this.$h(this.$l,this.get_viewModel().get_secondValueIndex());this.$i().$6().show();this.$i().$4().text(this.get_viewModel().get_fromLabel());this.$i().$7().text(this.get_viewModel().get_toLabel());this.$i().$8().addClass('range')}else{this.$i().$6().hide();this.$i().$4().text('');this.$i().$7().text('');this.$i().$8().removeClass('range')}}},$g:function(){var e=[];var L=null;var hT=this.get_viewModel().get_selectableOperations();for(var hU=0;hU<hT.length;hU++){var hV=hT[hU];var hW=new spiff.ComboBoxItem(null,hV.RvO,hV,null);e.push(hW);if(hV.pp===this.get_viewModel().get_operation().pp){L=hW}}this.$k.setItemsWithInitialSelection(e,L)},$h:function(e,L){var hT=[];var hU=null;for(var hV=0;hV<this.get_viewModel().get_selectableValues().length;hV++){var hW=new spiff.ComboBoxItem(null,this.get_viewModel().get_selectableValues()[hV],hV,null);hT.push(hW);if(hV===L){hU=hW}}e.setItemsWithInitialSelection(hT,hU)},$b:function(e){if(ss.isNullOrUndefined(e)){return}this.get_viewModel().editOperation(e.get_data())},$a:function(e){if(ss.isNullOrUndefined(e)){return}this.get_viewModel().editValueSelection(e.get_data(),null)},$c:function(e){if(ss.isNullOrUndefined(e)){return}this.get_viewModel().editValueSelection(null,e.get_data())},$d:function(){var e=this.$i().$9().val();this.get_viewModel().editValueInput(e.trim())},$e:function(e){if(e.which===13){this.$d()}}},ss.makeGenericType(spiff.BaseView$1,[ci]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[ci])]);ss.initClass(ci,a,{add_contentUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_contentUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_fromLabel:function(){return this.$2$2},set_fromLabel:function(e){this.$2$2=e},get_toLabel:function(){return this.$2$3},set_toLabel:function(e){this.$2$3=e},get_variableDisplayName:function(){return this.$4.get_displayName()},get_variableDescription:function(){return this.$4.get_description()},get_valueIndex:function(){return this.$3.get_valueIndex()},get_operation:function(){return((this.$4.get_values().length>0)?this.$3.get_operation():this.$4.get_defaultValue().get_operation())},get_firstValue:function(){return((this.$4.get_values().length>0)?this.$3.get_firstValue():this.$4.get_defaultValue().get_firstValue())},get_firstValueIndex:function(){return((this.$4.get_values().length>0)?this.$3.get_firstValueIndex():this.$4.get_defaultValue().get_firstValueIndex())},get_secondValue:function(){return((this.$4.get_values().length>0)?this.$3.get_secondValue():this.$4.get_defaultValue().get_secondValue())},get_secondValueIndex:function(){return((this.$4.get_values().length>0)?this.$3.get_secondValueIndex():this.$4.get_defaultValue().get_secondValueIndex())},get_selectableOperations:function(){return this.$4.get_selectableOperations()},get_selectableValues:function(){return this.$4.get_selectableValues()},update:function(e,L){this.$4=e;this.$3=L;this.raiseActionEvent(this.$2$1)},editOperation:function(e){var L=this.$3.get_firstValueIndex();var hT=this.$3.get_secondValueIndex();tab.DataConnectionCommands.editVariableByIndex(this.$2,this.$4.get_guid(),this.$3.get_valueIndex(),e,L,hT)},editValueSelection:function(e,L){var hT=e;if(ss.isNullOrUndefined(hT)){hT=this.$3.get_firstValueIndex()}var hU=hT;var hV=L;if(ss.isNullOrUndefined(hV)){hV=this.$3.get_secondValueIndex()}var hW=hV;tab.DataConnectionCommands.editVariableByIndex(this.$2,this.$4.get_guid(),this.$3.get_valueIndex(),this.$3.get_operation(),hU,hW)},editValueInput:function(e){tab.DataConnectionCommands.editVariableByInput(this.$2,this.$4.get_guid(),this.$3.get_valueIndex(),this.$3.get_operation(),e)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(cj,a,{get_variableName:function(){return this.$2},get_variableValue:function(){return this.$3},get_deleteVarBtnArea:function(){return this.$1}},spiff.Template,[ss.IDisposable]);ss.initClass(ck,a,{get_dom:function(){return this.get_template()},initDom:function(){this.get_dom().get_variableName().text(this.get_viewModel().get_variableModel().get_displayName());this.get_dom().get_variableName().prop('title',this.get_viewModel().get_variableModel().get_displayName());if(this.get_viewModel().get_isDefaultValue()&&this.get_viewModel().get_variableModel().get_isRequired()){this.get_dom().get_variableValue().text(this.get_viewModel().get_variableListViewModel().get_requiredVariableMessage());this.get_dom().get_variableValue().addClass('required')}else{this.get_dom().get_variableValue().text(this.get_viewModel().get_valueModel().get_displayValue());this.get_dom().get_variableValue().prop('title',this.get_viewModel().get_valueModel().get_displayValue())}var e=new spiff.IconButton;e.addClass('tabDataConnPromptDeleteVarBtn');e.setIcon('tabVarListItemDeleteIcon');e.set_hoverTooltipText(this.get_viewModel().get_variableListViewModel().get_deleteVariableTooltip());var L=ss.mkdel(this,function(){this.get_viewModel().get_variableListViewModel().deleteVariable(this.get_viewModel())});e.add_click(L);this.disposables.add$1(new tab.CallOnDispose(function(){e.remove_click(L);e.dispose()}));e.addToDom(this.get_dom().get_deleteVarBtnArea())}},ss.makeGenericType(spiff.BaseView$1,[cg]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[cg])]);ss.initClass(cl,a,{$e:function(){return this.get_template()},dispose:function(){if(ss.isValue(this.$j)){this.$j.dispose()}if(ss.isValue(this.$f)){this.$f.dispose()}if(ss.isValue(this.$i)){this.$i.remove_selectedItemChanged(ss.mkdel(this,this.$a));this.$i.dispose()}if(ss.isValue(this.$h)){this.$h.dispose()}if(ss.isValue(this.$g)){this.$g.dispose()}ss.makeGenericType(spiff.BaseView$1,[cm]).prototype.dispose.call(this)},initDom:function(e){this.$j=spiff.ListView.createListView(this.get_viewModel().get_listViewModel(),this);this.$e().domRoot.prepend(this.$j.get_domRoot());this.$c();this.$h=new spiff.ScrollableViewModel.$ctor1(false);this.$h.set_content(this.$e().domRoot[0]);this.$h.set_scrollY(true);this.$g=spiff.ScrollableView.createScrollableView(this.$h);this.$g.addToDom(e);this.$j.useScrollableView(this.$g);this.$h.triggerRefresh()},$c:function(){this.$f=tab.MiscUtil.dispose$1(this.$f);if(ss.isValue(this.$i)){this.$i.remove_selectedItemChanged(ss.mkdel(this,this.$a));this.$i.dispose()}if(this.get_viewModel().get_multiValueVariables().length>0){this.$f=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,function(){this.$b(true)}),this.get_viewModel().get_addVariableLabel(),'tabDataConnPromptAddVarBtn',2,2);this.$f.set_hoverTooltipText(this.get_viewModel().get_addVariableTooltip());this.$f.addToDom(this.$e().get_addVariableCtrlBtnArea());this.$9();this.$e().get_addVariableCtrlBtnArea().show()}},$9:function(){this.$i=new spiff.ComboBoxViewModel;this.$i.add_selectedItemChanged(ss.mkdel(this,this.$a));var e=[];var L=this.get_viewModel().get_multiValueVariables();for(var hT=0;hT<L.length;hT++){var hU=L[hT];e.push(new spiff.ComboBoxItem(null,hU.get_displayName(),hU.get_guid(),null))}this.$i.setItems(e);var hV=spiff.ObjectRegistry.newView(spiff.ComboBoxView).call(null,[this.$i]);hV.addToDom(this.$e().get_addVariableCtrlVarSelector());this.$e().get_addVariableCtrlVarSelector().hide()},$a:function(e){if(ss.isNullOrUndefined(e)){return}this.get_viewModel().addVariable(e.get_data());this.$b(false)},$b:function(e){if(e){this.$e().get_addVariableCtrlBtnArea().hide();this.$e().get_addVariableCtrlVarSelector().show();this.$i.set_selectedItem(null);this.get_viewModel().get_listViewModel().clearSelection()}else{this.$e().get_addVariableCtrlBtnArea().show();this.$e().get_addVariableCtrlVarSelector().hide()}},$d:function(){this.$h.triggerRefresh();this.$c();if(ss.isValue(this.get_viewModel().get_selectedVariable())){this.onSelectedVariableChanged(this.get_viewModel().get_selectedVariable())}},onSelectedVariableChanged:function(e){this.$b(false)},createListItemContent:function(e){var L=e.get_data();var hT=spiff.ObjectRegistry.newView(ck).call(null,[L]);return hT.get_dom().domRoot}},ss.makeGenericType(spiff.BaseView$1,[cm]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[cm]),spiff.IListItemContentCreator]);ss.initClass(cm,a,{get_addVariableLabel:function(){return this.$5.get_addVariableLabel()},get_addVariableTooltip:function(){return this.$5.get_addVariableTooltip()},get_deleteVariableTooltip:function(){return this.$5.get_deleteVariableTooltip()},get_requiredVariableMessage:function(){return this.$5.get_requiredVariableMessage()},get_connectionName:function(){return this.$5.get_connectionName()},get_connectionVariables:function(){return this.$6},get_multiValueVariables:function(){return _.filter(this.get_connectionVariables(),function(e){return e.get_supportMultiValue()})},get_selectedVariable:function(){return this.$8},set_selectedVariable:function(e){if(ss.referenceEquals(this.$8,e)){return}this.$8=e;if(ss.isNullOrUndefined(this.$8)){this.get_listViewModel().clearSelection()}else{this.get_listViewModel().selectItemById(this.$8.get_variableListId())}if(!ss.staticEquals(this.selectedVariableChanged,null)){this.selectedVariableChanged(this.$8)}},get_listViewModel:function(){return this.$7},$4:function(){var e=(ss.isNullOrUndefined(this.get_selectedVariable())?null:this.get_selectedVariable().get_variableListId());var L=[];var hT=this.get_connectionVariables();for(var hU=0;hU<hT.length;hU++){var hV=hT[hU];if(hV.get_values().length===0){var hW=hV.get_defaultValue();hW.set_variableListId(hV.get_guid()+'-0');hW.set_variableListViewModel(this);var hX=ss.referenceEquals(hW.get_variableListId(),e);L.push(spiff.ListItemViewModel.newListItem(hV.get_guid(),hW,hX,false,false));continue}var hY=hV.get_values();for(var hZ=0;hZ<hY.length;hZ++){var ia=hY[hZ];var ib=hV.get_guid()+'-'+ia.get_valueModel().get_valueIndex();ia.set_variableListId(ib);ia.set_variableListViewModel(this);var ic=ss.referenceEquals(ia.get_variableListId(),e);L.push(spiff.ListItemViewModel.newListItem(ib,ia,ic,false,false))}}return L},dispose:function(){if(ss.isValue(this.$7)){this.$7.remove_selectionChanged(ss.mkdel(this,this.$3));var e=this.$7.get_originalCollection();for(var L=0;L<e.length;L++){var hT=e[L];hT.dispose()}this.$7.dispose()}if(ss.isValue(this.$8)){this.$8.dispose()}_.each(this.$6,function(hU){hU.dispose()});spiff.BaseViewModel.prototype.dispose.call(this)},update:function(e){this.$5=e;_.each(this.$6,function(hT){hT.dispose()});this.$6=_.map(this.$5.get_connectionVariables(),function(hT){return new cn(hT)});_.each(this.$7.get_originalCollection(),function(hT){hT.dispose()});this.$7.update(this.$4());var L=this.get_listViewModel().get_firstSelectedItem();this.set_selectedVariable((ss.isValue(L)?L.get_data():null))},$2:function(e,L){var hT=_.find(this.get_connectionVariables(),function(hU){return ss.referenceEquals(hU.get_guid(),e)});return hT.get_values()[L]},$3:function(){var e=this.get_listViewModel().get_firstSelectedItem();if(ss.isNullOrUndefined(e)){return}this.set_selectedVariable(e.get_data())},addVariable:function(e){var L=tab.DataConnectionCommands.addVariable(this.get_connectionName(),e);L.done(ss.mkdel(this,function(hT){var hU=this.$2(e,hT);if(ss.isValue(hU)){this.set_selectedVariable(hU)}if(!ss.staticEquals(this.variableAdded,null)){this.variableAdded(hU)}}))},deleteVariable:function(e){tab.DataConnectionCommands.deleteVariable(this.get_connectionName(),e.get_variableModel().get_guid(),e.get_valueModel().get_valueIndex(),ss.mkdel(this,function(){if(ss.isNullOrUndefined(this.get_selectedVariable())){return}if(ss.referenceEquals(this.get_selectedVariable().get_variableListId(),e.get_variableListId())){this.set_selectedVariable(null)}}))}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(cn,a,{get_displayName:function(){return this.$2.get_displayName()},get_description:function(){return this.$2.get_description()},get_guid:function(){return this.$2.get_guid()},get_supportMultiValue:function(){return this.$2.get_supportMultiValue()},get_isRequired:function(){return this.$2.get_isRequired()},get_defaultValue:function(){return this.$3},get_values:function(){return this.$4},get_selectableOperations:function(){return this.$2.get_selectableOperations()},get_selectableValues:function(){return this.$2.get_selectableValues()},dispose:function(){_.each(this.$4,function(e){e.dispose()});this.$3.dispose();spiff.BaseViewModel.prototype.dispose.call(this)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(co,a,{get_compositeSearchWidget:function(){return this.$l},$a:function(e){this.$g();this.$k();if(e.trim().length>0){this.get_viewModel().set_isActive(true);this.$j()}else{this.dataHighlighterViewModel.clearHighlighting();this.populateAndDisplayList(this.get_viewModel().get_fullDomainItemSet(),1)}this.get_viewModel().lastSatisfiedSearchTerm=null;this.get_viewModel().lastSatisfiedSearchResults=null;this.get_viewModel().set_searchText(e)},$k:function(){if(this.$l.get_textInputView().get_text().trim().length>0){this.$l.get_searchButton().element.hide();this.$l.get_clearButton().element.show()}else{this.$l.get_searchButton().element.show();this.$l.get_clearButton().element.hide()}},$j:function(){this.queryDelayTimer=window.setTimeout(ss.mkdel(this,this.$f),200)},$g:function(){this.queryDelayTimer=tab.MiscUtil.clearTimeout(this.queryDelayTimer)},$f:function(){this.dataHighlighterViewModel.sendSearchQuery(this.get_compositeSearchWidget().get_textInputView().get_text(),false);this.$g()},handleNewSearchQueryResults:function(e,L){if(!ss.referenceEquals(e,this.$l.get_textInputView().get_text())||ss.isNullOrUndefined(L)){return}this.populateAndDisplayList(L,2)},populateAndDisplayList:function(e,L){this.currentListPopulationMode=L;this.$p=tab.MiscUtil.dispose(this.$p);this.$p=[];var hT=Math.min(e.NGM.length,this.get_viewModel().get_maxNumberListItems());for(var hU=0;hU<hT;hU++){var hV=e.NGM[hU];this.$p.push(spiff.ListItemViewModel.newListItem(hV.YLs.toString(),hV,false,false,false))}if(hT<e.hjl){var hW=e.hjl-hT;var hX=((hW>1)?tab.Strings.SearchResultsNotShownPlural(hW.toString()):tab.Strings.SearchResultsNotShownSingular);this.$p.push(spiff.ListItemViewModel.newListItem(hX,null,false,false,false));this.notShownResultsListItemIsVisible=true}else{this.notShownResultsListItemIsVisible=false}this.get_compositeSearchWidget().showListInsideUberPopup(this.$p,this,this.dataHighlighterViewRootElement,'tabDataHighlighterViewSearchResultList',312)},createListItemContent:function(e){var L="<div class='{0}' title='{1}'>{1}</div>";var hT;if(ss.isValue(e.get_data())){var hU=e.get_data();hT=hU.gjO}else{hT=e.get_id()}var hV=ss.formatString(L,'tab-list-item-label',tableau.format.escapeHTML(hT));return $(hV).css(this.get_viewModel().get_formatStyle())},handleListItemSelected:function(e){if(ss.isNullOrUndefined(e.get_data())){return}var L=e.get_data();this.get_compositeSearchWidget().setSearchText(L.gjO);this.get_compositeSearchWidget().get_clearButton().element.show();this.get_compositeSearchWidget().get_searchButton().element.hide();this.get_viewModel().highlightItems([L.YLs]);this.get_compositeSearchWidget().get_textInputView().get_inputElement().blur();this.get_viewModel().lastSatisfiedSearchTerm=this.get_compositeSearchWidget().get_textInputView().get_text();var hT=this.get_viewModel();var hU={};hU.NGM=[L];hT.lastSatisfiedSearchResults=hU;this.get_viewModel().saveSearchTextForItem(L.gjO,L.YLs)},removeList:function(){this.currentListPopulationMode=0;this.get_compositeSearchWidget().removeList()},handleTitleChanged:function(){this.setTitleFromModel()},setTitleFromModel:function(){if(ss.isValue(this.dataHighlighterViewModel.get_zoneTitleHtml())){this.zoneTitleRegionRootElement.html(this.dataHighlighterViewModel.get_zoneTitleHtml());var e=this.dataHighlighterViewModel.get_titleAreaHeight();if(e>0){e=Math.max(e,17);this.zoneTitleRegionRootElement.height(e)}var L=this.dataHighlighterViewModel.get_titleAreaWidth();if(L>0){this.zoneTitleRegionRootElement.width(this.dataHighlighterViewModel.get_titleAreaWidth());this.$m.addClass('tab-HorizontalLayout')}else{this.$m.removeClass('tab-HorizontalLayout')}tableau.util.setupTitleEllipsis(this.zoneTitleRegionRootElement);this.zoneTitleRegionRootElement.attr('title',this.dataHighlighterViewModel.get_zoneTitleTooltip())}this.$m.toggleClass('tabBordered',this.get_viewModel().get_zoneHasBorder())},handleTextInputElementClicked:function(){var e=this.get_compositeSearchWidget().get_textInputView().get_text().trim().length;this.$n=(this.$e()?this.$h():null);if(e===0){this.populateAndDisplayList(this.dataHighlighterViewModel.get_fullDomainItemSet(),1)}else if(!this.$e()){this.$i()}},$h:function(){var e=this.get_compositeSearchWidget().get_textInputView().get_inputElement();var L=e.prop('selectionStart');var hT=e.prop('selectionEnd');var hU=L!==hT;if(hU){return null}return L},$e:function(){return ss.isValue(this.get_compositeSearchWidget().get_listViewModel())},$i:function(){if(ss.referenceEquals(this.get_viewModel().lastSatisfiedSearchTerm,this.get_compositeSearchWidget().get_textInputView().get_text())&&ss.isValue(this.get_viewModel().lastSatisfiedSearchResults)){this.populateAndDisplayList(this.get_viewModel().lastSatisfiedSearchResults,2)}this.get_viewModel().sendSearchQuery(this.get_compositeSearchWidget().get_textInputView().get_text(),false)},$b:function(e){this.get_viewModel().set_isActive(true);this.$o=true},$c:function(e){tab.WindowHelper.clearSelection();this.$o=false},$d:function(e){var L=this.$h();var hT=ss.isValue(L);var hU=ss.isValue(this.$n);if(this.$o){if(hT&&!tsConfig.is_mobile){tab.DomUtil.selectAllInputText(this.get_compositeSearchWidget().get_textInputView().get_inputElement())}this.$o=false}else if(this.$e()&&hU&&hT){var hV=ss.unbox(this.$n);var hW=ss.unbox(L);if(hV===hW){var hX=this.get_compositeSearchWidget().get_textInputView().get_text().length;if(hW===hX){this.removeList()}}}this.$n=null},handleSearchButtonClicked:function(){this.get_compositeSearchWidget().get_textInputView().get_inputElement().focus();this.$o=false;this.populateAndDisplayList(this.dataHighlighterViewModel.get_fullDomainItemSet(),1)},handleClearButtonClicked:function(){this.$o=false},handleSearchTextChanged:function(){if(ss.isValue(this.queryDelayTimer)){return}this.get_compositeSearchWidget().setSearchText(this.get_viewModel().get_searchText());this.$k()},handleIsActiveChanged:function(){this.get_compositeSearchWidget().get_textInputView().get_inputElement().toggleClass('tabDataHighlighterViewInactiveText',!this.get_viewModel().get_isActive())},$9:function(){if(!this.$e()){return}var e=this.get_compositeSearchWidget().get_textInputView().get_text().trim().length;if(e>0){this.$i()}else{this.populateAndDisplayList(this.get_viewModel().get_fullDomainItemSet(),1)}},handleEnterKeyPress:function(){this.removeList();this.get_compositeSearchWidget().get_textInputView().get_inputElement().blur()},handleEscapeKeyPress:function(){if(ss.isNullOrEmptyString(this.get_compositeSearchWidget().get_textInputView().get_text())){this.removeList();this.get_compositeSearchWidget().get_textInputView().get_inputElement().blur()}else{this.get_compositeSearchWidget().get_textInputView().set_text('')}}},ss.makeGenericType(spiff.BaseView$1,[cq]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[cq]),spiff.IListItemContentCreator]);ss.initEnum(cp,a,{none:0,fullDomain:1,searchResults:2});ss.initClass(cq,a,{add_receivedSearchQueryResults:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_receivedSearchQueryResults:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_titleChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_titleChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_searchTextChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_searchTextChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_isActiveChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_isActiveChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_fullDomainTotalNumItemsInSetChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_fullDomainTotalNumItemsInSetChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_zoneTitleHtml:function(){if(ss.isValue(this.$b)){return this.$b.xBc}else{return''}},get_titleAreaHeight:function(){return((ss.isValue(this.$b)&&this.$8.get_titleSize().h!==0)?this.$b.EUR:0)},get_titleAreaWidth:function(){return((ss.isValue(this.$b)&&this.$8.get_titleSize().w!==0)?this.$b.rec:0)},get_zoneHasBorder:function(){return this.$5.get_zoneHasBorder()},get_zoneWidth:function(){return this.$5.get_zoneWidth()},get_zoneBorderWidth:function(){return this.$5.get_zoneBorderWidth()},get_zoneTitleTooltip:function(){return(ss.isValue(this.$b)?this.$b.CST:'')},get_searchPlaceholderString:function(){return this.$5.get_searchPlaceholderString()},get_fullDomainItemSet:function(){return this.$5.get_fullDomainItemSet()},get_searchText:function(){return this.$9},set_searchText:function(e){var L=!ss.referenceEquals(e,this.$9);this.$9=e;if(L&&!ss.staticEquals(this.$2$3,null)){this.$2$3()}},get_numHighlighted:function(){return this.$5.get_numHighlighted()},get_isActive:function(){return this.$7},set_isActive:function(e){var L=e!==this.$7;this.$7=e;if(L&&!ss.staticEquals(this.$2$4,null)){this.$2$4()}},get_fullDomainTotalNumItemsInSet:function(){return this.$6},set_fullDomainTotalNumItemsInSet:function(e){var L=e!==this.$6;this.$6=e;if(L&&!ss.staticEquals(this.$2$5,null)){this.$2$5()}},get_maxNumberListItems:function(){var e=tab.FeatureParamsLookup.getInt(44);if(ss.isNullOrUndefined(e)){e=this.$5.get_maxNumberListItems()}return e},get_formatStyle:function(){return de.makeFormatStyleDict(this.$5.get_bodyTextStyle())},$2:function(){return tab.ApplicationModel.get_instance().get_isLocalRenderMode()},sendSearchQuery:function(e,L){var hT=new tab.HighlightItemsByPatternMatchCmd;hT.c['HBp']=this.$5.get_fieldName();hT.c['vau']=e;hT.c['J_M']=this.$a;hT.set_uiBlocking('none');hT.invoke$1().done(ss.mkdel(this,function(hU){if(L){return}this.lastSatisfiedSearchTerm=e;this.lastSatisfiedSearchResults=hU.$c['DBQ'];if(!ss.staticEquals(this.$2$1,null)){this.$2$1(e,hU.$c['DBQ'])}}))},saveSearchTextForItem:function(e,L){var hT=new tab.HighlightItemsByPatternMatchCmd;hT.c['HBp']=this.$5.get_fieldName();hT.c['vau']=e;hT.c['J_M']=this.$a;hT.c['kyj']=[L];hT.invoke$1()},highlightItems:function(e){if(e.length>0){tab.SelectionClientCommands.highlightItems(this.$5,this.$5.get_fieldName(),e,this.$a,this.$2())}},clearHighlighting:function(){tab.SelectionClientCommands.clearHighlighting(this.$5,this.$5.get_fieldName(),this.$a,this.$2())},restoreSearchResultsHighlighting:function(){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isValue(this.lastSatisfiedSearchResults)){this.highlightItems(this.lastSatisfiedSearchResults.NGM.map(function(e){return e.YLs}))}}else{this.sendSearchQuery(this.lastSatisfiedSearchTerm,true)}},$4:function(){var e=this.$8.get_model();var L=ss.isValue(e.pm)&&ss.isValue(e.pm.KDk);if(L){var hT=e.pm.KDk;if(!ss.equals(hT,this.$b)){this.$b=hT;if(!ss.staticEquals(this.$2$2,null)){this.$2$2()}}}},$3:function(){this.set_isActive(this.$5.get_isActive());this.set_searchText(this.$5.get_searchText());this.set_fullDomainTotalNumItemsInSet(this.$5.get_fullDomainItemSet().hjl)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(cr,a,{get_dataHighlighterContentElement:function(){return this.$1},get_dataHighlighterViewRootElement:function(){return this.$2},get_zoneTitleRegionRootElement:function(){return this.$3}},spiff.Template,[ss.IDisposable]);ss.initClass(cs,a,{show:function(){var e=new cP;var L=ss.mkdel(this,function(hT){this.onAuthDialogMessage(hT,e)});e.eventHandler=L;tab.WindowHelper.addListener(window.self,'message',L);this.$0.add_closed(ss.mkdel(this,function(hT,hU){this.cleanup(e)}));this.$0.show()},cleanup:function(e){tab.WindowHelper.removeListener(window.self,'message',e.eventHandler);this.$0.close(null)},dispose:function(){this.$0.dispose()}},bg,[ss.IDisposable]);ss.initClass(eq,a,{updateFilterProperties:function(e){this.titleHTML=e.titleHTML;this.format=e.format;this.backgroundColor=e.backgroundColor},hideEmptyTitlebar:function(){return ss.isNullOrEmptyString(this.titleHTML)},updateTitleBar:function(){this.domTitleBar.innerHTML=this.titleHTML;de.cleanUpFontFamilyStyles($(this.domTitleBar))},resetTitleSize:function(){if(ss.isValue(this.domTitleBar)){$(this.domTitleBar).css({height:'auto',width:'auto'})}}},Object);ss.initClass(ct,a,{setRangeType:function(e,L){var hT,hU;var hV;switch(e){case'curr':{hT=0;hU=0;hV=true;break}case'todate':{hT=0;hU=0;hV=false;break}case'last':{hT=-1;hU=-1;hV=true;break}case'next':{hT=1;hU=1;hV=true;break}case'lastn':{hT=1-L;hU=0;hV=true;break}case'nextn':{hT=0;hU=L-1;hV=true;break}default:{return}}this.firstPeriod=hT;this.lastPeriod=hU;this.isFutureIncluded=hV},getRangeType:function(){var e=this.isFutureIncluded;var L=this.firstPeriod;var hT=this.lastPeriod;var hU;if(L===0&&hT===0&&e){hU='curr'}else if(L===0&&hT===0&&!e){hU='todate'}else if(L===-1&&hT===-1&&e){hU='last'}else if(L===1&&hT===1&&e){hU='next'}else if(L<0&&hT===0&&e){hU='lastn'}else if(L===0&&hT>0&&e){hU='nextn'}else if(L>0&&hT>0&&!e){hU='invalid'}else if(L>hT){hU='invalid'}else if(L===hT){hU='other'}else{hU='othern'}return hU},adjustLastDate:function(e){var L=null;switch(this.periodType){case'year':case'quarter':case'month':case'week':case'day':{L=new Date(e.getFullYear(),e.getMonth(),e.getDate());L=new Date(L.getTime()-tab.DateUtil.oneSecond);break}case'hour':case'minute':case'second':{L=new Date(e.getTime()-tab.DateUtil.oneSecond);break}}return L},getPeriods:function(){return this.lastPeriod-this.firstPeriod+1},roundToPeriod:function(e,L,hT){var hU=e.getMonth();var hV=e.getFullYear();switch(this.periodType){case'year':{if(hU<L){hV-=1}return new Date(hV,L,1)}case'quarter':{var hW;if(hU>=L){hW=Math.floor((hU-L)/3);hU=L+hW*3}else{hW=Math.floor((hU+12-L)/3);var hX=(L+hW*3)%12;if(hX===0){hX=12}if(hX>hU){--hV}hU=hX}return new Date(hV,hU,1)}case'month':{return new Date(hV,hU,1)}case'week':{var hY=(7+(1+e.getDay())-hT)%7;var hZ=new Date(hV,hU,e.getDate(),12);return new Date(hZ.getTime()-hY*tab.DateUtil.oneDay)}case'day':{return new Date(hV,hU,e.getDate())}case'hour':{return new Date(hV,hU,e.getDate(),e.getHours())}case'minute':{return new Date(hV,hU,e.getDate(),e.getHours(),e.getMinutes())}case'second':{return new Date(hV,hU,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())}}return null},getEffectiveAnchor:function(){return(ss.staticEquals(this.anchorDateTime,null)?new Date:this.anchorDateTime)},getAnchorPeriod:function(e){return this.roundToPeriod(e,this.fy,this.startOfWeek)},evaluateFirstDate:function(e){return tab.DateUtil.adjustDateByPeriod(e,this.periodType,this.firstPeriod)},evaluateLastDate:function(e,L){var hT=tab.DateUtil.adjustDateByPeriod(L,this.periodType,this.lastPeriod+1);var hU=this.adjustLastDate(hT);if(!this.isFutureIncluded){hU=new Date(Math.min(e.getTime(),hU.getTime()))}return hU},setPYear:function(){this.setPeriod('year')},setPQuarter:function(){this.setPeriod('quarter')},setPMonth:function(){this.setPeriod('month')},setPWeek:function(){this.setPeriod('week')},setPDay:function(){this.setPeriod('day')},setPHour:function(){this.setPeriod('hour')},setPMinute:function(){this.setPeriod('minute')},setPSecond:function(){this.setPeriod('second')},onTypingLast:function(){this.onTyping(this.inputLastn)},onTypingNext:function(){this.onTyping(this.inputNextn)},setRLast:function(){this.setRange('last')},setRCurr:function(){this.setRange('curr')},setRNext:function(){this.setRange('next')},setRLastn:function(){this.setRange('lastn',parseInt(this.inputLastn.value))},setRNextn:function(){this.setRange('nextn',parseInt(this.inputNextn.value))},setRTodate:function(){this.setRange('todate')},setRange:function(e,L){L=L||0;if(e!==this.rangeType){this._applyTimer=tab.MiscUtil.clearTimeout(this._applyTimer);this.rangeType=e;this.setRangeType(e,L);this._applyTimer=window.setTimeout(ss.mkdel(this,this.applyChanges),this.UPDATE_DELAY)}this.setRangeUI(e,L);this.setPreviewUI()},applyChanges:null,setRangeUI:null,setPeriod:function(e){this._applyTimer=tab.MiscUtil.clearTimeout(this._applyTimer);this.setPeriodUI(e);if(e!==this.periodType){this.periodType=e;this.updateVisibilityOfDayToAnchor();this.setPreviewUI();this._applyTimer=window.setTimeout(ss.mkdel(this,this.applyChanges),this.UPDATE_DELAY*2)}},updateVisibilityOfDayToAnchor:function(){if(this.oFilter.noTime&&this.periodType==='day'){this.radioTodate.style.display='none';this.textTodate.style.display='none';$(this.textTodate).parent().find('.fakeRadio').css('display','none');if(this.rangeType==='todate'){this.setRCurr()}}else{this.radioTodate.style.display='';this.textTodate.style.display='';$(this.textTodate).parent().find('.fakeRadio').css('display','')}},onTyping:function(e){this._applyTimer=tab.MiscUtil.clearTimeout(this._applyTimer);e.value=e.value.replace(new RegExp('/[^0-9]/g'),'');if(e.value.length>0&&parseInt(e.value)!==this.oFilter.rangeN){this.rangeN=parseInt(e.value);this.rangeType=(ss.referenceEquals(e,this.inputLastn)?'lastn':'nextn');this.setRangeType(this.rangeType,this.rangeN);this._applyTimer=window.setTimeout(ss.mkdel(this,this.applyChanges),this.UPDATE_DELAY)}this.setPreviewUI()},updateRangeButtons:null,setPeriodUI:function(e){var L;var hT;var hU;this.updateRangeButtons(e);if(ss.staticEquals(this.anchorDateTime,null)){hU=er.get_nonAnchoredDescriptions()[e]}else{hU=er.get_anchoredDescriptions()[e]}this.textLast.innerHTML=hU['last'];this.textCurr.innerHTML=hU['curr'];this.textNext.innerHTML=hU['next'];var hV=hU['lastn'].split('%');this.textLastn1.innerHTML=hV[0];this.textLastn2.innerHTML=hV[1];var hW=hU['nextn'].split('%');this.textNextn1.innerHTML=hW[0];this.textNextn2.innerHTML=hW[1];this.textTodate.innerHTML=hU['todate'];L=parseFloat($(this.textLastn1).css('width'));hT=parseFloat($(this.textNextn1).css('width'));if(L>hT){this.textNextn1.style.width=L+'px'}else if(L<hT){this.textLastn1.style.width=hT+'px'}},$0:function(){var e=null;if(ss.isValue(this.oFilter)&&ss.isValue(this.oFilter.default_format)){e=this.oFilter.default_format}return((ss.isValue(e)&&e.length===3)?e[0]:'*M/d/yyyy')},$1:function(){var e=null;if(ss.isValue(this.oFilter)&&ss.isValue(this.oFilter.default_format)){e=this.oFilter.default_format}return((ss.isValue(e)&&e.length===3)?e[1].substr(1):'hh:nn:ss ampm')},$2:function(){var e=null;if(ss.isValue(this.oFilter)&&ss.isValue(this.oFilter.default_format)){e=this.oFilter.default_format}return((ss.isValue(e)&&e.length===3)?e[2]:'en_US')},setPreviewUI:function(){this.domPreview.innerHTML=this.getPreviewMessage()},getPreviewMessage:function(){var e=this.getEffectiveAnchor();var L=this.$0();var hT=this.$2();var hU=this.$1();var hV;var hW=this.getAnchorPeriod(e);var hX=this.evaluateFirstDate(hW);var hY=L+' '+hU;var hZ=this.evaluateLastDate(e,hW);if(this.isRangeValid(hX,hZ)){var ia=new Date(Date.UTC(hX.getFullYear(),hX.getMonth(),hX.getDate(),hX.getHours(),hX.getMinutes(),hX.getSeconds()));var ib=new Date(Date.UTC(hZ.getFullYear(),hZ.getMonth(),hZ.getDate(),hZ.getHours(),hZ.getMinutes(),hZ.getSeconds()));var ic=tableau.format.formatCustomJSDateTime(ia,L,0,null,hT,null,null,null);var id=tableau.format.formatCustomJSDateTime(ib,L,0,null,hT,null,null,null);if(this.periodType==='hour'||this.periodType==='minute'||this.periodType==='second'||this.periodType==='day'&&!this.isFutureIncluded){var ie=hY;var ig=(ss.referenceEquals(ic,id)?hU:hY);ic=tableau.format.formatCustomJSDateTime(ia,ie,0,null,hT,null,null,null);id=tableau.format.formatCustomJSDateTime(ib,ig,0,null,hT,null,null,null)}hV=tab.Strings.RelDateFilterPreview(ic,id)}else{hV='Invalid relative date';this._applyTimer=tab.MiscUtil.clearTimeout(this._applyTimer)}return hV},isRangeValid:function(e,L){var hT=true;if(isNaN(e.getTime())||isNaN(L.getTime())){hT=false}else if(this.firstPeriod>this.lastPeriod||this.firstPeriod>0&&!this.isFutureIncluded){hT=false}else if(!!!e||!!!L){hT=false}else if(e<this.lowestAllowedDate||L>this.highestAllowedDate){hT=false}return hT}},eq);ss.initClass(cu,a,{setDateRange:function(e,L){this.$u=cu.$2(e);this.$s=cu.$2(L);this.$v=cu.$4(this.$u);this.$t=cu.$4(this.$s)},show:function(e,L){if(ss.isValue(e)){this.$p=cu.$4(cu.$2(e));this.$B=cu.$2(L||e)}this.$l();return this.element.show().width(tab.DoubleUtil.roundToInt(this.element.width()))},hide:function(){this.$F=false;this.element.height('auto');return this.element.hide()},positionCalendarByElement:function(e){bm.getViewport(ss.mkdel(this,function(L){var hT=e.offset();var hU=tab.DoubleUtil.roundToInt(this.element.outerWidth());var hV=this.getMaxHeight();var hW=tab.DoubleUtil.roundToInt(e.outerHeight());hT=this.$8(L,hW,hT,hU,hV);this.element.offset(hT)}))},$8:function(e,L,hT,hU,hV){var hW=tab.DoubleUtil.roundToInt(hT.left);var hX=tab.DoubleUtil.roundToInt(hT.top);var hY=e.getDocumentViewport({x:hW,y:hX});var hZ=hY.l+hY.w;var ia=hY.t+hY.h;if(hX+L-1+hV<=ia){hX+=L-1;hW=cu.$1(hW,hU,hY.l,hZ)}else if(hX-(hV-1)>hY.t){this.useMaxHeight();hX-=hV-1;hW=cu.$1(hW,hU,hY.l,hZ)}else if(hW-(hU-1)>hY.l){hW-=hU-1;hX=cu.$1(hX,hV,hY.t,ia)}else{var ib=hW;hW=hY.l;hW=cu.$1(hW,hU,hY.l,ib);hX=cu.$1(hX,hV,hY.t,ia)}return{left:hW,top:hX}},getMaxHeight:function(){var e=this.element.find('.tab-datepicker-month-table tbody tr');return tab.DoubleUtil.roundToInt(this.element.outerHeight())+Math.round(tab.DoubleUtil.roundToInt(e.outerHeight())*(6-e.length))},useMaxHeight:function(){if(!this.$F){this.$F=true;this.$l();this.element.height(tab.DoubleUtil.roundToInt(this.element.height()))}},$d:function(){var e=$('<div>').addClass('tab-datepicker-header');this.$x=$('<span>').addClass('tab-datepicker-header-text').appendTo(e);this.$A=$('<span>').addClass('tab-datepicker-header-button').addClass('tab-datepicker-prev-month-button').appendTo(e).click(ss.mkdel(this,this.$j));this.$z=$('<span>').addClass('tab-datepicker-header-button').addClass('tab-datepicker-next-month-button').appendTo(e).click(ss.mkdel(this,this.$i));return e},$c:function(){var e=$('<div>').addClass('tab-datepicker-footer');$('<span>').addClass('tab-datepicker-today-label').html(ss.formatString(this.$D,"<span class='tab-datepicker-today-date'></span>")).appendTo(e);this.$E=$('.tab-datepicker-today-date',e).click(ss.mkdel(this,this.$6));return e},$e:function(){this.$w=$('<table>').addClass('tab-datepicker-month-table');this.$w.on('click','.tab-datepicker-day-cell',ss.mkdel(this,this.$7));return this.$w},$7:function(e){var L=$(e.target);if(!L.hasClass('tab-disabled')){this.$h(L)}},$h:function(e){this.$w.find('.tab-datepicker-day-cell-selected').removeClass('tab-datepicker-day-cell-selected');e.addClass('tab-datepicker-day-cell-selected');var L=e.data();this.$B=new Date(L['year'],L['month'],L['dayOfMonth']);var hT=new Date(Date.UTC(L['year'],L['month'],L['dayOfMonth']));this.$k(hT)},$k:function(e){this.element.trigger('dateSelected',[e])},$j:function(e){if(this.$g()){if(this.$p.getMonth()===0){if(this.$p.getFullYear()>1){this.$p.setMonth(11);this.$p.setFullYear(this.$p.getFullYear()-1)}}else{this.$p.setMonth(this.$p.getMonth()-1)}this.$l()}},$i:function(e){if(this.$f()){if(this.$p.getMonth()===11){this.$p.setMonth(0);this.$p.setFullYear(this.$p.getFullYear()+1)}else{this.$p.setMonth(this.$p.getMonth()+1)}this.$l()}},$g:function(){return ss.isNullOrUndefined(this.$v)||this.$p>this.$v},$f:function(){return ss.isNullOrUndefined(this.$t)||this.$p<this.$t},$6:function(e){var L=cu.$3(new Date);if(!this.$9(L)){this.$k(L)}},$l:function(){this.$n();this.$o();this.$m();this.element.prop('unselectable','on');this.element.find('*').prop('unselectable','on');this.element.trigger('calendarUpdated')},$n:function(){this.$x.text(this.$y(cu.$3(this.$p)));this.$A.toggleClass('tab-disabled',!this.$g());this.$z.toggleClass('tab-disabled',!this.$f())},$m:function(){this.$E.text(this.$r(cu.$3(new Date)));this.$E.toggleClass('tab-disabled',this.$a(cu.$4(new Date)))},$b:function(e){return $('<td>').addClass('tab-datepicker-day-cell').text(e.getDate().toString()).data(ss.mkdict(['year',e.getFullYear(),'month',e.getMonth(),'dayOfMonth',e.getDate()])).toggleClass('tab-datepicker-day-cell-today',cu.$5(e,new Date)).toggleClass('tab-datepicker-day-cell-selected',!!this.$B&&cu.$5(e,this.$B)).toggleClass('tab-datepicker-day-cell-othermonth',e.getMonth()!==this.$p.getMonth()).toggleClass('tab-disabled',this.$9(e))},$9:function(e){return ss.isValue(this.$u)&&e<this.$u||ss.isValue(this.$s)&&e>this.$s},$a:function(e){return ss.isValue(this.$v)&&e<this.$v||ss.isValue(this.$t)&&e>this.$t},$o:function(){var e=(new Date(this.$p.getFullYear(),this.$p.getMonth(),1)).getDay();var L;var hT,hU;var hV,hW,hX;this.$w.html('');hV=$('<thead>').appendTo(this.$w);hX=$('<tr>').appendTo(hV);L=this.$q;do{$('<th>').addClass('tab-datepicker-header-cell').text(this.$C[L]).appendTo(hX);L=cu.$0(L,1)}while(L!==this.$q);hW=$('<tbody>').appendTo(this.$w);hX=$('<tr>').appendTo(hW);hT=new Date(this.$p.getFullYear(),this.$p.getMonth(),1);hT.setDate(hT.getDate()-cu.$0(e,-this.$q));hU=new Date(this.$p.getFullYear(),this.$p.getMonth()+1,1);hU.setDate(hU.getDate()+cu.$0(this.$q,-hU.getDay()));while(!cu.$5(hT,hU)){this.$b(hT).appendTo(hX);hT.setDate(hT.getDate()+1);if(hT.getDay()===this.$q&&!cu.$5(hT,hU)){hX=$('<tr>').appendTo(hW)}}if(this.$F){var hY=hW.find('tr');if(hY.length<6){var hZ=tab.DoubleUtil.roundToInt(hY.height());for(var ia=hY.length;ia<6;++ia){$("<tr><td class='tab-datepicker-day-cell'></td></tr>").height(hZ).insertAfter(hY.last())}}}}},spiff.Widget,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(cv,a,{});ss.initClass(cw,a,{layout:function(e){var L=tabBootstrap.ViewerBootstrap.get_instance().getViewport();var hT=this.node.style;var hU=this.domNode.style;hU.top=0+'px';hU.left=0+'px';hT.width=L.w+'px';hT.height=L.h+'px';var hV=tabBootstrap.ViewerBootstrap.get_instance().getViewport();if(L.w!==hV.w){hT.width=hV.w+'px'}if(L.h!==hV.h){hT.height=hV.h+'px'}}},dijit.DialogUnderlay);ss.initInterface(ea,a,{attach:null,detach:null,disposeTooltip:null,shownTooltipIsSticky:null,isHoverAllowed:null,shouldShowCommandButtons:null,handleUbertipMenuToggle:null,handleUbertipMenuClose:null,hoverOverObject:null,hoverOverWhitespace:null,multiSelectComplete:null,singleSelectComplete:null,selectionMoved:null,repositionWithinRegion:null,onPanningOrDragging:null,onScroll:null,mouseDown:null});ss.initClass(cx,a,{attach:function(){},detach:function(){},dispose:function(){},disposeTooltip:function(){},shownTooltipIsSticky:function(){return true},isHoverAllowed:function(e){return true},shouldShowCommandButtons:function(){return true},handleUbertipMenuToggle:function(e){},handleUbertipMenuClose:function(){},hoverOverObject:function(e,L,hT,hU){},hoverOverWhitespace:function(e){},multiSelectComplete:function(e){},singleSelectComplete:function(e){},selectionMoved:function(e){},repositionWithinRegion:function(e){},onPanningOrDragging:function(){},onScroll:function(){},mouseDown:function(e,L){}},null,[ea,ss.IDisposable]);ss.initClass(cy,a,{renderVisualListHelper:function(e,L){var hT=e.get_visualListPM().tOA;this.renderDrawItems(hT,e,L,null)},renderDrawItems:function(e,L,hT,hU){var hV=this.get_currentContext();var hW=hV.get_numberSavedStates();var hX=4;for(var hY=0;hY<e.length;++hY){var hZ=e[hY];if(true&&hY<hX&&hZ.VzB==='jp$'){}else if(hZ.VzB==='rOX'){var ia=hZ;this.$8(L,ia,hT,hU)}else{this.$b(hV,hZ,hT,null,hU,false)}}while(hV.get_numberSavedStates()>hW){hV.restore()}},renderVisualList:function(e,L){this.cachedVisibleRect=null;this.cachedVisibleRect=this.get_visibleRect();if(ss.isValue(e.get_defaultBackgroundColor())){this.get_currentContext().set_shapeFillStyle(e.get_defaultBackgroundColor());this.get_currentContext().fillRect(this.get_visibleRect().x,this.get_visibleRect().y,this.get_visibleRect().w,this.get_visibleRect().h)}this.renderVisualListHelper(e,L);this.cachedVisibleRect=null},renderDrawItemList:function(e){this.renderDrawItems(e,null,null,null)},$a:function(e){var L=e.get_visualListPM().oqX;var hT=e.get_visualListPM().tOA;for(var hU=0;hU<hT.length;hU++){var hV=hT[hU];if(hV.VzB==='Osj'||hV.VzB==='nuS'){this.renderDrawItemDefaultOptions(this.get_currentContext(),hV)}else if(hV.VzB==='uEs'){var hW=this.get_currentCanvas().width;var hX=this.get_currentCanvas().height;var hY=hV;var hZ=hY.WzG;if(ss.contains(cy.$b,L)){if(Math.abs(hZ[3]-hZ[1])>=hX){var ia={};ia.VzB=hV.VzB;ia.WzG=[0,0,0,hX];this.renderDrawItemDefaultOptions(this.get_currentContext(),ia);ia.WzG[0]+=hW-1;ia.WzG[2]+=hW-1;this.renderDrawItemDefaultOptions(this.get_currentContext(),ia);return}}else if(ss.contains(cy.$c,L)){if(Math.abs(hZ[2]-hZ[0])>=this.get_currentCanvas().width){var ib={};ib.VzB=hV.VzB;ib.WzG=[0,0,hW,0];this.renderDrawItemDefaultOptions(this.get_currentContext(),ib);ib.WzG[1]+=hX-1;ib.WzG[3]+=hX-1;this.renderDrawItemDefaultOptions(this.get_currentContext(),ib);return}}}}},renderDrawItemDefaultOptions:function(e,L){this.$b(e,L,null,null,null,false)},$b:function(e,L,hT,hU,hV,hW){if(!ss.isValue(e)||!ss.isValue(L)){return}switch(L.VzB){case'Osj':{{var hX=L;e.set_lineJoin((ss.isValue(hX.ObK)?bn.toCanvasLineJoin(hX.ObK):gx.defaultLineJoin));var hY='butt';var hZ=hX.vWy||gx.defaultLinePattern;if(hZ!=='dashed'&&hZ!=='dotted'){hY=(ss.isValue(hX.pXS)?bn.toCanvasLineCap(hX.pXS):gx.defaultLineCap)}e.set_lineCap(hY);e.set_linePattern(hZ);e.set_strokeStyle(tab.ColorModel.convertColorForCanvas(hX.YhU)||'rgb(0,0,0)');e.set_lineWidth(hX.Cwi||1)}break}case'nuS':{{var ia=L;e.set_shapeFillStyle(tab.ColorModel.convertColorForCanvas(ia.YhU))}break}case'uXb':{{var ib=L;var ic=ib.WAe;var id=ib.Dwb;var ie=e.createLinearGradient(ic.thj,ic.RAC,id.thj,id.RAC);ie.addColorStop(0,tab.ColorModel.convertColorForCanvas(ib.xJf));ie.addColorStop(1,tab.ColorModel.convertColorForCanvas(ib.$pO));e.set_shapeFillStyle(ie)}break}case'bsq':{{var ig=L;if(ig.WzG.length!==4){return}var ih=cz.rectXYFromDrawRect(ig.WzG);e.strokeRect(ih.x,ih.y,ih.w,ih.h)}break}case'jpw':{{var ii=L;if(ii.WzG.length!==4){return}var ij=cz.rectXYFromDrawRect(ii.WzG);e.fillRect(ij.x,ij.y,ij.w,ij.h)}break}case'MkS':{{cy.$2(e,L,false)}break}case'NLY':{{cy.$2(e,L,true)}break}case'uEs':{{var ik=L;var il=ik.WzG;bn.strokePath(e,il,false,true)}break}case'Bhw':{{var im=L;bn.strokePath(e,im.WzG,true,true)}break}case'Qdw':{{var io=L;bn.fillPath(e,io.WzG,true)}break}case'__v':{{cy.$3(e,L,true)}break}case'bUP':{{cy.$3(e,L,false)}break}case'$OC':{{var ip=L;if(ip.WzG.length===4){if(true&&ip.WzG[2]-ip.WzG[0]===2){break}e.setClip({x:ip.WzG[0],y:ip.WzG[1],w:ip.WzG[2]-ip.WzG[0],h:ip.WzG[3]-ip.WzG[1]})}}break}case'ADd':{{var iq=L;if(iq.WzG.length!==2){return}var ir=iq.WzG[0];var it=iq.WzG[1];var iu=-1;if(ss.isValue(hU)&&hU.w!==0&&hU.h!==0){var iv;var iw;if(e.get_isTextAngleHorizontal()){iv=((hU.x>ir)?ir:(ir-hU.x));iw=hU.w}else{iv=((hU.y>it)?it:(it-hU.y));iw=hU.h}iu=Math.max(iv,iw-iv)}this.renderText(iq.gjO,ir,it,iu,null,hW)}break}case'MqA':{{cy.$0(e,L)}break}case'jp$':{{var ix=L;if(ss.isValue(ix.JZN)&&ix.JZN.length===2){e.translate(ix.JZN[0],ix.JZN[1])}if(ss.isValue(ix.wo_)&&ix.wo_.length===2){e.scale(ix.wo_[0],ix.wo_[1])}if(ss.isValue(ix.SNh)){e.rotate(ix.SNh*Math.PI/180)}}break}case'nfx':{{var iy=new n(e);e.restore();iy.$0(e)}break}case'mpa':{{e.save()}break}case'eTm':{{var iz=L;e.set_shouldAntialias(iz.chK)}break}case'jNr':{{var iA=L;if(ss.isValue(hT)&&ss.keyExists(hT,iA.jW$)){var iB=hT[iA.jW$];if(ss.isValue(iB)&&iB.complete){e.save();if(ss.isValue(hV)){e.setClip(hV)}e.set_alpha(iA.TwJ);e.drawImage4(iB,iA.Pkb[0],iA.Pkb[1],iA.Pkb[2]-iA.Pkb[0],iA.Pkb[3]-iA.Pkb[1]);e.restore()}}else{}}break}default:{{}break}}},$8:function(e,L,hT,hU){var hV=ss.isValue(e)&&e.get_visualListPM().oqX==='annotations';this.clearPrevTextRunInfo();var hW=this.get_currentContext();var hX=false;L.nTH=L.nTH||0;L.Mk_=L.Mk_||0;L.XqN=L.XqN||0;L.$UU=L.$UU||0;var hY={x:L.nTH,y:L.Mk_,w:L.XqN,h:L.$UU};var hZ=tab.RectXYUtil.offsetRect(hW.dirtyRect,this.get_renderOffset());if(L.XqN>0&&L.$UU>0&&(!this.isRectVisible(hY)||!tab.RectXYUtil.intersectsWith(hZ,hY))){hX=true}var ia=this.$9(e,L,hX);var ib=cy.$6(L.tOA,hV);for(var ic=0;ic<ib.length;ic++){var id=ib[ic];if(ia.$0()&&id.VzB==='nuS'){var ie=id;ia.$2=tab.ColorModel.convertColorForCanvas(ie.YhU)}else{var ig=null;if(ia.$0()&&id.VzB==='MqA'){var ih=id;ia.$3=tab.ColorModel.convertColorForCanvas(ih.YhU);ig=hW.get_textFillStyle()}if(!hX||cy.$5(id)){this.$b(hW,id,hT,hY,hU,hV)}if(ss.isValue(ig)){hW.set_textFillStyle(ig)}}}if(ia.$0()){hW.set_shapeFillStyle(ia.$2);hW.set_textFillStyle(ia.$3)}},$9:function(e,L,hT){var hU=null;if(!hT&&ss.isValue(e)){if(e.isSelected(L)){hU=new m('selected')}else if(e.isBrushed(L)){hU=new m('highlighted')}else if(e.isHovered(L)){hU=new m('hover')}}if(ss.isNullOrUndefined(hU)){return new m('normal')}var hV=this.get_currentContext();hU.$2=hV.get_shapeFillStyle();hU.$3=hV.get_textFillStyle();switch(hU.$1()){case'selected':{hV.set_textFillStyle(this.$c.selectionTextColor.toRgba());hV.set_shapeFillStyle(this.$c.selectionBgColor.toRgba());break}case'highlighted':{hV.set_textFillStyle(this.$c.highlightTextColor.toRgba());hV.set_shapeFillStyle(this.$c.highlightBgColor.toRgba());break}case'hover':{hV.set_textFillStyle('rgb(0,0,0)');hV.set_shapeFillStyle('rgb(245,245,245)');break}}var hW=ss.isValue(L.vbn)||ss.isValue(L.TuG);if(hW){L.vbn=L.vbn||0;L.TuG=L.TuG||0;hV.translate(-L.vbn,-L.TuG)}hV.fillRect(L.nTH,L.Mk_,L.XqN,L.$UU);if(hW){hV.translate(L.vbn,L.TuG)}return hU}},bn);ss.initClass(cz,a,{});ss.initClass(cA,a,{showAlertDialog:function(e,L,hT){try{var hU=new Object;hU.content=e;hU.title=L;hU.buttons='None';var hV=hU;var hW=new tableau.base.widget.Dialog(hV);if(hT){cA.$0(hW);$(hW.domNode).addClass('tabErrorDialog')}hW.show();hW.layout(null)}catch(hX){var e=ss.Exception.wrap(hX)}},showConfirmationDialog:function(e,L,hT,hU,hV){var hW=new Object;hW.content=e;hW.title=L;hW.buttons='YesNo';hW.onYes=hU;hW.onNo=hV;var hX=hW;var hY=new tableau.base.widget.Dialog(hX);if(hT){cA.$0(hY);$(hY.domNode).addClass('tabErrorDialog')}hY.show();hY.layout(null)},showSheetAuthenticationOverlay:function(e,L){var hT=new be(e,L);hT.show()},showGenericDataSourceErrorOverlay:function(e,L){var hT=new di(e,L);hT.show()},showSheetAuthenticationDialog:function(e,L){var hT=new cs(e,L);hT.show()},showGenericDataSourceErrorDialog:function(e,L){var hT=new dh(e,L);hT.show()}},null,[tab.ICommonDialogProvider]);ss.initClass(cB,a,{});ss.initClass(cC,a,{});ss.initClass(cD,a,{get_source:function(){return ss.formatString("url('{0}2') format('woff2'), url('{0}') format('woff')",ss.coalesce(this.woffLocation,''))},clone:function(){var e=new cD;e.set_fontFamily(this.get_fontFamily());e.set_style(this.get_style());e.set_weight(this.get_weight());e.woffLocation=this.woffLocation;return e},equals$2:function(e){return this.equalsIgnoreWoff(e)&&ss.compareStrings(this.woffLocation,e.woffLocation,true)===0},equalsIgnoreWoff:function(e){return this.equals$1(e)},toCSSRules:function(){var e={};e['font-family']=de.addQuotationMarks(this.get_fontFamily(),true);e['font-weight']=this.get_weight();e['font-style']=this.get_style();e['src']=this.get_source();return e}},tab.FontProperties);ss.initClass(cE,a,{});ss.initClass(cF,a,{add_complete:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_complete:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_imageLoaded:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_imageLoaded:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_imageTimedOut:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_imageTimedOut:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},addImage:function(e){if(!ss.isValue(e)){return}for(var L=0,hT=this.$3.length;L<hT;L++){if(!this.$3[L].$7()){this.$2++;this.$3[L].$6(e);return}}if(this.$3.length<2){var hU=new x(this.$3.length);hU.$c(ss.mkdel(this,this.onWorkerFinished));hU.$e(ss.mkdel(this,this.onWorkerTimedOut));this.$3.push(hU);this.$2++;hU.$6(e)}else{this.$1.push(e)}},clear:function(){ss.clear(this.$1)},destroy:function(){for(var e=0;e<this.$3.length;e++){var L=this.$3[e];L.$1()}ss.clear(this.$1);this.$1$2=null;this.$1$3=null;this.$1$1=null},onWorkerFinished:function(e,L){if(ss.isValue(this.$1$2)){this.$1$2(this,new dJ(L.get_image()))}this.$0(L.get_workerID())},onWorkerTimedOut:function(e,L){if(ss.isValue(this.$1$3)){this.$1$3(this,ss.EventArgs.Empty)}this.$0(L.get_workerID())},$0:function(e){this.$2--;if(this.$1.length===0){if(this.$2===0){if(ss.isValue(this.$1$1)){this.$1$1(this,ss.EventArgs.Empty)}}}else{this.$3[e].$6(this.$1.shift());this.$2++}}});ss.initClass(cG,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(cH,a,{get_dom:function(){return this.get_template()},$f:function(){return(tsConfig.is_mobile?tab.Strings.ToolbarPublicDownloadLabelMobile:tab.Strings.ToolbarPublicDownloadLabelWeb)},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.$9();window.setTimeout(ss.mkdel(this,function(){var e=this.$i.get_menu().menuItems;for(var L=0;L<e.length;L++){var hT=e[L];if(hT.enabled){this.$i.set_focusedItem(hT);break}}}),0)},$9:function(){this.get_dom().downloadArea.find('.tabDisabled .tabMenuItemName').attr('title',tab.Strings.ToolbarDisabledDownloadExplanation);if(!this.$j.get_exportCrosstabEnabled()){this.get_dom().downloadArea.find('.tabDisabled.tabDownloadCrosstab .tabMenuItemName').attr('title',tab.Strings.ToolbarDisabledCrosstabDownloadExplanation)}if(!this.$j.get_exportDataEnabled()){this.get_dom().downloadArea.find('.tabDisabled.tabDownloadData .tabMenuItemName').attr('title',tab.Strings.ToolbarDisabledDataDownloadExplanation)}if(!this.$j.get_downloadWorkbookEnabled()){this.get_dom().downloadArea.find('.tabDisabled.tabDownloadWorkbook .tabMenuItemName').attr('title',tab.Strings.ToolbarDisabledWorkbookDownloadExplanation)}},$b:function(){var e=[];if(this.$j.get_shouldShowImage()){e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarExportImage,ss.mkdel(this.$j,this.$j.exportImage),'tabDownloadImage'))}var L=(this.$j.get_exportDataEnabled()?ss.mkdel(this.$j,this.$j.exportData):null);e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarExportData,L,'tabDownloadData'));var hT=(this.$j.get_exportCrosstabEnabled()?ss.mkdel(this.$j,this.$j.exportCrosstab):null);e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarExportCrosstab,hT,'tabDownloadCrosstab'));if(this.$j.get_shouldShowPdf()){e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarPrintToPdf,ss.mkdel(this.$j,this.$j.exportPdf),'tabDownloadPdf'))}if(this.$j.get_shouldShowDownloadWorkbook()){var hU=(this.$j.get_downloadWorkbookEnabled()?ss.mkdel(this.$j,this.$j.downloadWorkbook):null);e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarWorkbook,hU,'tabDownloadWorkbook'))}if(this.$k&&gS.$0()){e.push(spiff.MenuItem.newActionItemWithItemClass(this.$f(),ss.mkdel(this,this.$e),'tabPublicApp'))}if(gS.get_toolbarIsBottom()){e.reverse()}return e},$d:function(){if(gS.$0()){return new spiff.UnificationDarkMenuTheme}else{return new spiff.UnificationLightMenuTheme}},$e:function(){window.open(this.$j.get_downloadAppUrl())},$c:function(){this.get_dom().explanationTitle.append(tab.Strings.ToolbarPublicExplanationTitle);this.get_dom().explanationBody.append(tab.Strings.ToolbarPublicExplanationText);var e='<span class=tabWindowsLogo />';var L='<span class=tabAppleLogo />';this.get_dom().availablePlatforms.append(tab.Strings.ToolbarPublicAvailablePlatforms(e,L));var hT=spiff.LabelButton.newTextButton();hT.set_label(this.$f());hT.add_click(ss.mkdel(this,this.$e));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){hT.remove_click(ss.mkdel(this,this.$e))})));this.get_dom().downloadAppButton.append(hT.element)},$a:function(){var e=new spiff.Menu(this.$b());this.$i=spiff.MenuViewModel.createForMenu(e,null,this.$d(),null);this.$i.add_menuItemClicked(spiff.MenuViewModel.handleMenuActionItemClicked);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$i.remove_menuItemClicked(spiff.MenuViewModel.handleMenuActionItemClicked)})));this.$h=spiff.ObjectRegistry.newView(spiff.MenuView).call(null,[this.$i]);this.get_dom().menuArea.append(this.$h.element);if(!this.$k&&gS.$0()){this.$c()}}},ss.makeGenericType(spiff.BaseView$1,[cI]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[cI])]);ss.initClass(cI,a,{add_downloadInitiated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_downloadInitiated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_viewType:function(){return cH},get_viewModel:function(){return this},get_shouldShowDownloadWorkbook:function(){return!tsConfig.is_mobile},get_downloadWorkbookEnabled:function(){return!tsConfig.is_mobile&&(!tsConfig.previewMode&&!ss.isNullOrEmptyString(tsConfig.downloadURI)||tsConfig.is_metrics_view)},get_downloadAppUrl:function(){var e=(ss.isValue(tabBootstrap.ViewerBootstrap.get_instance().location)?tabBootstrap.ViewerBootstrap.get_instance().location.toString():'');return'http://public.tableau.com/s/download?source=viz_toolbar&ref='+e.split('?')[0]},get_shouldShowPdf:function(){return this.$3.isLegacyMenuItemEnabled('print')},get_shouldShowImage:function(){return this.$3.isLegacyMenuItemEnabled('exportimage')},get_exportDataEnabled:function(){return this.$3.isLegacyMenuItemEnabled('exportdata')},get_exportCrosstabEnabled:function(){return this.$3.isLegacyMenuItemEnabled('exportcrosstab')},disposeViewModel:function(){this.dispose()},downloadWorkbook:function(){tab.ToolbarServerCommands.downloadWorkbook();this.$2()},exportImage:function(){var e=new cQ;e.setSheetScrollPositions(U.get_instance().get_client().get_viewControllers());tab.ToolbarServerCommands.exportImage(e);this.$2()},exportData:function(){tab.ToolbarServerCommands.exportData();this.$2()},exportCrosstab:function(){tab.ToolbarServerCommands.exportCrosstab();this.$2()},exportPdf:function(){tab.ToolbarServerCommands.exportPdf(new cQ);this.$2()},updateUberPopupViewModel:function(e){},$2:function(){if(ss.isValue(this.$2$1)){this.$2$1()}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,spiff.IUberPopupContent]);ss.initClass(cJ,a,{show:function(){spiff.Dialog.prototype.show.call(this);this.showInternal()},showInternal:null},spiff.ModalDialog,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(cK,a,{showInternal:function(){this.get_body().append(this.$P)}},cJ,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(cL,a,{showInternal:function(){var e=$('<iframe />');e.attr('src',this.urlToLoadDialogContent);e.attr('tb-test-id',this.$P);this.get_body().append(e)}},cJ,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(cM,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(cN,a,{},ss.makeGenericType(spiff.BaseView$1,[cO]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[cO])]);ss.initClass(cO,a,{onChildrenAdded:function(){this.dispose()}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(cP,a,{});ss.initClass(cQ,a,{get_sheetScrollPositions:function(){return this.$0},setSheetScrollPositions:function(e){this.$0={};for(var L=0;L<e.length;L++){var hT=e[L];this.$0[hT.get_sheetName()]=hT.get_viewWidget().get_scrollPosition()}},triggerExportPdfUI:function(){eI.load(tab.IPdfExportDialogModule).call(null,[]).done(function(e){var L=e.createPdfExportDialog(tab.CommandController.get().get_legacySession(),false,tsConfig.is_mobile);L.add_closed(function(){L.dispose();L=null});L.show()})}},null,[tab.IExportImageHelper,tab.IExportPdfHelper]);ss.initClass(cR,a,{get_tileIndex:function(){return this.$2},get_range:function(){return this.$0},get_rangeType:function(){return this.$1}});ss.initInterface(dA,a,{add_contentFetched:null,remove_contentFetched:null,destroy:null,fetch:null,isTilePending:null});ss.initClass(cS,a,{add_contentFetched:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_contentFetched:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},destroy:function(){},fetch:function(e){for(var L=0;L<e.length;++L){var hT=e[L];if(ss.contains(this.$7,hT.get_tileIndex())){continue}this.$7.push(hT.get_tileIndex());this.$8.push(hT)}while(this.$8.length>this.$6){var hU=this.$8[0];ss.remove(this.$7,hU.get_tileIndex());ss.remove(this.$8,hU)}this.$2()},isTilePending:function(e){return ss.contains(this.$7,e)},$0:function(e){var L=ss.mkdel(this,function(){this.$1(e)});return L},$1:function(e){var L=ss.mkdel(this,function(hU){this.$5=false;ss.remove(this.$7,e.get_tileIndex());var hV=new bP(e.get_tileIndex(),e.get_range(),hU);this.$1$1(this,hV);this.$2()});var hT=ss.mkdel(this,function(hU){this.$5=false;ss.remove(this.$7,e.get_tileIndex());this.$2()});this.$9.getFilterItems(this.$4,this.$3,e.get_range(),L,hT)},$2:function(){if(this.$8.length>0&&!this.$5){this.$5=true;var e=this.$8.length-1;var L=this.$8[e];ss.removeAt(this.$8,e);var hT=this.$0(L);window.setTimeout(hT,0)}}},null,[dA]);ss.initClass(fZ,a,{get_domXButton:function(){return this.domXButton},get_isVisible:function(){return this.isVisible},set_isVisible:function(e){this.isVisible=e},get_qf:function(){return this.qf},set_qf:function(e){this.qf=e},get_dijitDomNode:function(){return this.domNode},get_oResults:function(){return this.oResults},set_oResults:function(e){this.oResults=e},get_applyDelay:null,get_dijitClassName:function(){return this.declaredClass},postMixInProperties:function(){this.inherited(arguments);this.busy_gif_url=tableau.util.assetUrl('/images/busy.gif')},postCreate:function(){this._isTypeInList=!!this.get_qf()&&this.get_qf().get_isTypeInList()},resize:function(e){dojo.marginBox(this.domNode,e);this.layout(null)},onQueryBoxKeyDown:function(e){var L=this.getOnQueryBoxKeyDownBehavior(e);if(!!L){if(L.stopEvent){spiff.EventUtil.stopEvent(e)}if(!!L.functionToCall){window.setTimeout(L.functionToCall,10)}}},getOnQueryBoxKeyDownBehavior:function(e){var L=new Object;L.functionToCall=null;L.stopEvent=false;switch(e.keyCode){case 13:{L.stopEvent=true;break}case 27:{this.onXButtonClick(null);L.stopEvent=true;break}case 16:{L.stopEvent=true;break}case 17:{L.stopEvent=true;break}default:{L.functionToCall=ss.mkdel(this,this.handleQueryTextChanged);break}}return L},handleQueryTextChanged:function(e){this.$0()},onXButtonClick:function(e){if(!this._isTypeInList){var L=this.getQuery();this.hideUI();if(L!==''){this.showUI$1()}}else{this.clearSearch(false,false)}},onButtonHover:function(e){$(e.target).addClass('Hover')},onButtonUnhover:function(e){$(e.target).removeClass('Hover')},toggleUI:function(){if(this.get_isVisible()){this.hideUI()}else{this.showUI$1()}},applyChangesByChangelist:function(e){throw new ss.NotSupportedException},isShowingResults:function(){return this.isVisible&&this.resultCount>0},focusQueryBox:null,blurQueryBox:null,getQuery:null,setQuery:null,updateSearch:null,notifyParentFilterOfChanged:function(e,L,hT){},showUI$1:function(){this.showUI(false)},showUI:function(e){if(this.get_isVisible()){return}$(this.domNode).css('display','block');this.isVisible=true;if(!e){this.get_qf().layout(null)}this.focusQueryBox()},hideUI:function(){if(!this.get_isVisible()){return}this.clearSearch(false,true);$(this.domNode).css('display','none');this.blurQueryBox();this.isVisible=false;this.get_qf().layout(null)},clearSearch:function(e,L){if(!e){this.setQuery('');this.$0()}this.resultCount=0;this.get_qf().layout(null);if(!L){this.focusQueryBox()}},doCategoricalSearch:function(e){var L=this.get_qf().get_oFilter();var hT=this.makeUniqueSearchItemIdPrefix();var hU=ss.mkdel(this,function(hV,hW,hX){return cY.filterItem.getSearchResultHtml(this.get_qf(),hV,hT,hX)});return ez.findMatches(e,L,ss.mkdel(this,this.formatTuple),hU)},$0:function(){if(ss.isNullOrEmptyString(this.getQuery())&&!this._isTypeInList){this.get_domXButton().title=this.XBUTTON_CLOSE_TOOLTIP}else{this.get_domXButton().title=this.XBUTTON_CLEAR_TOOLTIP}},formatTuple:function(e){return tableau.format.formatTupleDisplayName(e,true,this.get_qf().get_oFilter().role)},isSingleSelect:function(){return this.get_qf().isSingleSelect()},makeUniqueSearchItemIdPrefix:function(){return cY.getBaseItemName(this.get_qf(),'SI')},currentDomain:function(){var e=tableau.types.QFDomain.QFD_ALL;if(!!this.get_qf().get_attributes()){e=this.get_qf().get_attributes()['values']}return e},doAjaxRemoteSearch:function(e,L,hT,hU,hV){return this.get_qf().get_session().searchFilter(this.get_qf().get_field(),e,L,hT,this.currentDomain(),hU,hV)}},Object);ss.initClass(cT,a,{get_noMatchHtml:function(){return this.NO_MATCHES},$5:function(){return this.get_qf()},setStyle:function(e){this.$8=e;var L=$(this.domNode);if(this.$8===1){L.addClass('FilteringDropdown');L.addClass('SearchCleared')}else if(this.$8===2){L.addClass('FilteringInline')}},get_applyDelay:function(){return 0},startupAndAppendTo:function(e){e.append(this.domNode);this.startupNoAppend()},startupNoAppend:function(){this.startup()},layout:function(e){},hideUI:function(){this.domNode.style.display='none';fZ.prototype.hideUI.call(this)},showUI:function(e){fZ.prototype.showUI.call(this,e);this.focusQueryBox()},focusQueryBox:function(){this.domQueryBox.focus()},blurQueryBox:function(){this.domQueryBox.blur()},getQuery:function(){return this.domQueryBox.value},setQuery:function(e){this.domQueryBox.value=e},onXButtonClick:function(e){if(this.$8===1){this.clearSearch(false,false);$(this.get_domXButton()).removeClass('Hover')}else{fZ.prototype.onXButtonClick.call(this,e)}},updateSearch:function(){if(this.get_isVisible()){this.searchWithQuery(this.getQuery())}},searchWithQuery:function(e){if(e.length<=0){this.clearSearch(false,false)}else if(this.get_qf().get_oFilter().isTiled){this.doRemoteSearch(e,true)}else{this.$2(this.doCategoricalSearch(e))}},doRemoteSearch:function(e,L){this.doAjaxRemoteSearch(e,this.$6,L,ss.mkdel(this,this.$2),ss.mkdel(this,this.$3))},getOnQueryBoxKeyDownBehavior:function(e){var L;L=this.inherited(arguments);switch(e.keyCode){case 9:{L.functionToCall=null;L.stopEvent=true;break}case 37:case 39:case 38:{L.functionToCall=null;L.stopEvent=false;break}case 40:{var hT=$(this.domNode.parentElement);hT.find('.FIItem').eq(0).focus();L.functionToCall=null;L.stopEvent=true;break}case 27:{if(tab.BrowserSupport.get_isFF()){L.functionToCall=ss.mkdel(this,this.onXButtonClick)}break}case 13:{L.stopEvent=true;L.functionToCall=ss.mkdel(this,this.$1);break}}return L},clearSearch:function(e,L){if(this.resultCount===-1){return}$(this.domNode).addClass('SearchCleared');fZ.prototype.clearSearch.call(this,e,L);this.$5().filterBySearchResults(null);this.resultCount=-1},handleQueryTextChanged:function(e){var L=500;$(this.domNode).removeClass('SearchCleared');fZ.prototype.handleQueryTextChanged.call(this,e);switch(this.domQueryBox.value.length){case 1:{L=Math.round(L*1.5);break}case 2:{L=Math.round(L*1.25);break}}this.$7=tab.MiscUtil.clearTimeout(this.$7);this.$7=window.setTimeout(ss.mkdel(this,this.updateSearch),L)},$1:function(e){this.updateSearch()},$2:function(e){if(ss.isValue(e.length)){this.resultCount=e.length}else if(ss.isValue(e.tuples)){this.resultCount=e.tuples.length;e=this.$4(e)}this.$5().filterBySearchResults(e);if(!$(this.domQueryBox).is(':focus')){this.domNode.focus();this.focusQueryBox()}},$4:function(e){var L=this.makeUniqueSearchItemIdPrefix();var hT=e.tuples;var hU=e.indices;var hV=[];for(var hW=0;hW<hT.length;hW++){hV.push(cY.filterItem.getSearchResultHtml(this.get_qf(),hT[hW],L,hU[hW]))}return hV},$3:function(e){}},fZ);ss.initEnum(cU,a,{invalid:0,dropdown:1,inline:2});ss.initClass(cV,a,{getSearchResultHtml:null,formatChecklistFilterItemHtml:null,getCheckHtml:null,formatRadiolistFilterItemHtml:null,getRadioHtml:null,formatDropdownListFilterItemHtml:null,getDropdownHtml:null,getDropdownNoneHtml:null,getTypeInHtml:null,getSelectHtml:function(e,L,hT,hU){var hV=['<option value="','','" ','','>','','</option>'];hV[1]=tableau.format.escapeHTML(e);hV[3]=((hT&&!hU)?'SELECTED':'');hV[5]=tableau.format.escapeHTML(L);return hV.join('')},getCssNode:null,isPending:null,togglePendingState:null,setChecked:null,isChecked:null,syncCssToCheckState:null,setSelected:null,isSelected:null,isTiled:function(e){var L=e.parentNode;if(ss.isValue(L)){return $(L).hasClass('tile')}return false},getNodeFromEvent:null,getIndex:null,isTypeInListItem:null,isAllItem:null,getCheckboxOrRadio:function(e){var L=tableau.util.findElementByTagName(e,'input',ss.mkdict(['type','checkbox']));if(ss.isValue(L)){return L}return tableau.util.findElementByTagName(e,'input',ss.mkdict(['type','radio']))}});ss.initClass(cW,a,{$0:function(e,L,hT,hU,hV){var hW=["<div tabindex='0' class=\"",'','" id="','','"><div class="facet">','','</div><div class="facetOverflow"><a title="','','">','','</a></div></div>'];hW[1]='FIItem FISimpleDropdownItem'+(hV?' FINone':'');hW[3]=e;hW[7]=hW[9]=L;hW[5]=(hU?hT:'');return hW.join('')},getSearchResultHtml:function(e,L,hT,hU){switch(e.get_mode()){case'checklist':case'checkdropdown':case'typeinlist':{return this.formatChecklistFilterItemHtml(e,L,hT,hU)}case'radiolist':{return this.formatRadiolistFilterItemHtml(e,L,hT,hU)}case'dropdown':{return this.formatDropdownListFilterItemHtml(e,L,hT,hU)}}return''},formatChecklistFilterItemHtml:function(e,L,hT,hU){var hV=cY.getItemId(hT,hU);var hW=cY.shouldCheckFilterItemMultiValue(L,e);var hX=tableau.format.formatTupleDisplayName(L,true,e.get_oFilter().role);var hY=tableau.format.formatTupleDisplayFacet(L,false,e.get_oFilter().role);var hZ=cY.showFacets(e);var ia=e.get_viewModel().get_filterType()!=='Hierarchical'&&ss.isValue(e.get_modeContents().pendingManager)&&e.get_modeContents().pendingManager.isPending(L,hU);return this.getCheckHtml(hV,hX,hW,hY,hZ,ia)},getCheckHtml:function(e,L,hT,hU,hV,hW){var hX=['<div class="','','" id="','','"><div class="facet">','','</div><div class="facetOverflow"><input type="checkbox" class="FICheckRadio" name="','','" ','','><div class="fakeCheckBox"></div><a class="FIText" title="','','">','','</a></div></div>'];var hY=(hW?'FIItem FIPending':'FIItem');hX[1]=hY;hX[3]=hX[7]=tableau.format.escapeHTML(e);hX[9]='';hX[11]=hX[13]=tableau.format.escapeHTML(L);hX[5]=(hV?hU:'');if(hT&&!hW||!hT&&hW){hX[1]+=' FIChecked';hX[9]+=' checked="checked" '}return hX.join('')},formatRadiolistFilterItemHtml:function(e,L,hT,hU){var hV=cY.getItemId(hT,hU);var hW=cY.shouldCheckFilterItemSingleValue(L,e);var hX=tableau.format.formatTupleDisplayName(L,true,e.get_oFilter().role);var hY=tableau.format.formatTupleDisplayFacet(L,false,e.get_oFilter().role);var hZ=cY.showFacets(e);return this.getRadioHtml(hV,hT,hX,hW,hY,hZ)},getRadioHtml:function(e,L,hT,hU,hV,hW){var hX=['<div class="','','" id="','','"><div class="facet">','','</div><div class="facetOverflow"><input type="radio" class="FICheckRadio" name="','','" ','','><div class="fakeRadio"></div><a class="FIText" title="','','">','','</a></div></div>'];hX[1]='FIItem';hX[3]=tableau.format.escapeHTML(e);hX[7]=tableau.format.escapeHTML(L);hX[9]='';hX[11]=hX[13]=tableau.format.escapeHTML(hT);hX[5]=(hW?hV:'');if(hU){hX[1]+=' FIChecked';hX[9]+=' checked="checked" '}return hX.join('')},formatDropdownListFilterItemHtml:function(e,L,hT,hU){var hV=cY.getItemId(hT,hU);var hW=tableau.format.formatTupleDisplayName(L,false,e.get_oFilter().role);var hX=tableau.format.formatTupleDisplayFacet(L,false,e.get_oFilter().role);var hY=cY.showFacets(e);return this.getDropdownHtml(hV,hW,hX,hY)},getDropdownNoneHtml:function(e,L,hT,hU){return this.$0(e,L,hT,hU,true)},getDropdownHtml:function(e,L,hT,hU){return this.$0(e,L,hT,hU,false)},getTypeInHtml:function(e,L){var hT=['<div tabindex="0" class="FIItem FITypeInItem FIChecked" id="','','" title="','','">','','</div>'];hT[1]=tableau.format.escapeHTML(e);hT[3]=hT[5]=tableau.format.escapeHTML(L);return hT.join('')},getCssNode:function(e){return cY.getClassElement(e,'FIItem')},isPending:function(e){var L=this.getCssNode(e);return ss.isValue(L)&&$(L).hasClass('FIPending')},togglePendingState:function(e){var L=this.getCssNode(e);$(L).toggleClass('FIPending')},setChecked:function(e,L,hT){var hU=this.getCssNode(e);if(ss.isValue(hU)){if(L){$(hU).addClass('FIChecked')}else{$(hU).removeClass('FIChecked')}}var hV=this.getCheckboxOrRadio(e);if(ss.isValue(hV)){hV.checked=L===true}if(ss.isValue(hT)){hT.s=L===true}return hT},isChecked:function(e){var L=this.getCssNode(e);return ss.isValue(L)&&$(L).hasClass('FIChecked')},syncCssToCheckState:function(e){var L=this.getCheckboxOrRadio(e);if(ss.isValue(L)){this.setChecked(e,L.checked,null)}},setSelected:function(e,L){var hT=this.getCssNode(e);if(L){$(hT).addClass('FISelected')}else{$(hT).removeClass('FISelected')}},isSelected:function(e){var L=this.getCssNode(e);return ss.isValue(L)&&$(L).hasClass('FISelected')},getNodeFromEvent:function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.target)){return null}var L=e.target;while(ss.isValue(L)&&L.tagName!=='OPTION'&&!$(L).hasClass('FIItem')){L=L.parentNode}return L},getIndex:function(e){return cY.getIndexFromId(e.id)},isTypeInListItem:function(e){var L=this.getCssNode(e);return ss.isValue(L)&&$(L).hasClass('FITypeInItem')},isAllItem:function(e){if(ss.isNullOrUndefined(e)||this.isTypeInListItem(e)){return false}return cY.isAllItemId(e.id)}},cV);ss.initClass(cX,a,{$0:function(e,L,hT,hU,hV){var hW='';if(hU){hW=hT}return['<div class="FIMContainer FIMDropdown'+(hV?' FINone':'')+'" id="',e,'"><div class="facet">',hW,'</div><span class="FIMCheckLabel tab-ctrl-formatted-fixedsize">',L,'</span></div>'].join('')},getSearchResultHtml:function(e,L,hT,hU){switch(e.get_mode()){case'checklist':case'checkdropdown':case'typeinlist':{return this.formatChecklistFilterItemHtml(e,L,hT,hU)}case'radiolist':{return this.formatRadiolistFilterItemHtml(e,L,hT,hU)}case'dropdown':{return this.formatDropdownListFilterItemHtml(e,L,hT,hU)}}return''},formatChecklistFilterItemHtml:function(e,L,hT,hU){var hV=cY.getItemId(hT,hU);var hW=cY.shouldCheckFilterItemMultiValue(L,e);var hX=tableau.format.formatTupleDisplayName(L,false,e.get_oFilter().role);var hY=tableau.format.formatTupleDisplayFacet(L,false,e.get_oFilter().role);var hZ=cY.showFacets(e);var ia=ss.isValue(e.get_modeContents().pendingManager)&&e.get_modeContents().pendingManager.isPending(L,hU);return this.getCheckHtml(hV,hX,hW,hY,hZ,ia)},getCheckHtml:function(e,L,hT,hU,hV,hW){var hX='';var hY=(hW?'FIMPending':'');var hZ='';if(hT&&!hW||!hT&&hW){hX=' FIMChecked'}if(hV){hZ=hU}return['<div class="FIMContainer '+hY+' facetOverflow" id="',e,'"><div class="facet">',hZ,'</div><span class="FIMCheckMark',hX,'"></span><span class="FIMCheckLabel tab-ctrl-formatted-text',hX,'">',L,'</span></div>'].join('')},formatRadiolistFilterItemHtml:function(e,L,hT,hU){var hV=cY.getItemId(hT,hU);var hW=cY.shouldCheckFilterItemSingleValue(L,e);var hX=tableau.format.formatTupleDisplayName(L,false,e.get_oFilter().role);var hY=tableau.format.formatTupleDisplayFacet(L,false,e.get_oFilter().role);var hZ=cY.showFacets(e);return this.getRadioHtml(hV,null,hX,hW,hY,hZ)},getRadioHtml:function(e,L,hT,hU,hV,hW){var hX='',hY='';if(hU){hX=' FIMRadiolist FIMChecked'}if(hW){hY=hV}return['<div class="FIMContainer facetOverflow" id="',e,'"><div class="facet">',hY,'</div><span class="FIMCheckMark',hX,'"></span><span class="FIMCheckLabel tab-ctrl-formatted-text',hX,'">',hT,'</span></div>'].join('')},formatDropdownListFilterItemHtml:function(e,L,hT,hU){var hV=cY.getItemId(hT,hU);var hW=tableau.format.formatTupleDisplayName(L,false,e.get_oFilter().role);var hX=tableau.format.formatTupleDisplayFacet(L,false,e.get_oFilter().role);var hY=cY.showFacets(e);return this.getDropdownHtml(hV,hW,hX,hY)},getDropdownNoneHtml:function(e,L,hT,hU){return this.$0(e,L,hT,hU,true)},getDropdownHtml:function(e,L,hT,hU){return this.$0(e,L,hT,hU,false)},getTypeInHtml:function(e,L){return['<div class="FIMContainer FIMTypeIn" id="',e,'"><span class="FIMCheckLabel tab-ctrl-formatted-text">',L,'</span></div>'].join('')},getCssNode:function(e){return cY.getClassElement(e,'FIMContainer')},setChecked:function(e,L,hT){var hU=$(e).find('.FIMCheckMark');var hV=$(e).find('.FIMCheckLabel');if(ss.isValue(hU)&&ss.isValue(hV)){if(L){hU.addClass('FIMChecked');hV.addClass('FIMChecked')}else{hU.removeClass('FIMChecked');hV.removeClass('FIMChecked')}}if(ss.isValue(hT)){hT.s=L===true}return hT},isChecked:function(e){if(ss.isValue(e)&&$(e).hasClass('FIMContainer')){var L=$(e).find('.FIMCheckMark');return(ss.isValue(L)?L.hasClass('FIMChecked'):false)}return false},isPending:function(e){if(ss.isValue(e)){return $(e).hasClass('FIMPending')}return false},togglePendingState:function(e){$(e).toggleClass('FIMPending')},syncCssToCheckState:function(e){var L=this.getCheckboxOrRadio(e);if(ss.isValue(L)){this.setChecked(e,L.checked)}},setSelected:function(e,L){var hT=this.getCssNode(e);if(L){$(hT).addClass('FIMSelected')}else{$(hT).removeClass('FIMSelected')}},isSelected:function(e){var L=this.getCssNode(e);return $(L).hasClass('FIMSelected')},getNodeFromEvent:function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.target)){return null}var L=e.target;while(ss.isValue(L)&&L.tagName!=='OPTION'&&!$(L).hasClass('FIMContainer')){L=L.parentNode}return L},getIndex:function(e){return cY.getIndexFromId(e.id)},isTypeInListItem:function(e){var L=this.getCssNode(e);return $(L).hasClass('FIMTypeIn')},isAllItem:function(e){if(this.isTypeInListItem(e)){return false}return cY.isAllItemId(e.id)}},cV);ss.initClass(cY,a,{});ss.initInterface(dZ,a,{add_scrolled:null,remove_scrolled:null,destroy:null,setContent:null,getTileElement:null,getItemElement:null});ss.initClass(cZ,a,{add_scrolled:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_scrolled:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},get_windowNode:function(){return this.$6},get_tileContainerNode:function(){return this.$4},destroy:function(){this.$6.off('scroll');this.$4.remove()},setContent:function(e,L){var hT=$(L);this.$4.append(hT);this.$5[e]=hT},getTileElement:function(e){if(e<0||e>=this.$5.length){return null}return this.$5[e].get(0)},getItemElement:function(e,L){var hT=this.getTileElement(e);if(ss.isNullOrUndefined(hT)){return null}var hU=hT.children;if(hU.length<L||L<0){return null}return hU[L]},$0:function(e){var L=(new Date).getTime();var hT=tab.DoubleUtil.roundToInt(this.$6.parent().offset().top)-tab.DoubleUtil.roundToInt(this.$4.offset().top);var hU=0;if(ss.isValue(this.$3)){var hV=Math.abs(this.$2-hT);var hW=L-this.$1;hU=hV/Math.min(hW,1000)}var hX=new fX({x:0,y:hT});this.$2=hT;this.$1=L;this.$3=hX;var hY=ss.mkdel(this,function(){if(ss.referenceEquals(hX,this.$3)){this.$1$1(this,hX)}});if(hU>cZ.$0){window.setTimeout(hY,100)}else{hY()}}},null,[dZ]);ss.initClass(da,a,{$4:function(){return this.quickFilterDisplayViewModel.get_quickFilterDisplayModel()},get_getFilterModeMatrix:function(){if(ss.isValue(this.$4())&&ss.isValue(this.$4().get_quickFilterModeMatrix())){return this.$4().get_quickFilterModeMatrix()}else{return null}},postCreate:function(){if(this.metricsOnly){return}},dispose:function(){this.requestSetAttributes=null;this.$5.dispose()},updateFilterProperties:function(e){this.titleHTML=e.titleHTML;this.attributes=e.attributes;this.format=e.format;this.layoutSession=e.layoutSession;this.width=e.width;this.textStyle=e.textStyle;this.backgroundColor=e.backgroundColor},destroy:function(){this.dispose();this.inherited(arguments)},makeQuantitativeFilter:function(e){return new tableau.base.widget.LegacyQuantitativeQuickFilter(e)},makeQuantitativeDateFilter:function(e){return new tableau.base.widget.LegacyQuantitativeDateQuickFilter(e)},makeHierarchicalFilter:function(e){return new tableau.base.widget.LegacyHierarchicalQuickFilter(e)},makeCategoricalFilter:function(e){return new tableau.base.widget.LegacyCategoricalQuickFilter(e)},makeRelativeDateFilter:function(e){return new tableau.base.widget.LegacyRelativeDateQuickFilter(e)},makeRelativeDatePickFilter:function(e){return new tableau.base.widget.RelativeDatePickFilter(e)},setupEventHandlers:function(){var e=$(this.filter.domNode);this.$5.add$1(spiff.EventUtil.bindWithDispose(e,'mouseenter',ss.mkdel(this,this.$3)));this.$5.add$1(spiff.EventUtil.bindWithDispose(e,'mouseleave',ss.mkdel(this,this.$2)))},$1:function(e){var L=new Object;L.presModel=this.$4().get_quickFilterDisplayPresModel();L.backgroundColor=this.$4().get_zone().rPC.eBu;L.textStyle=this.textStyle;L.field=this.field;L.oFilter=e;L.filterViewModel=this.quickFilterDisplayViewModel.get_filterTypeViewModel();L.layoutSession=this.layoutSession;L.zid=this.zid;L.format=this.format;L.attributes=this.attributes||{};L.requestSetAttributes=this.requestSetAttributes;L.titleH=this.$7;L.titleW=this.$8;L.titleHTML=this.titleHTML;L.width=this.width;L.getContextMenuCommands=ss.mkdel(this,function(){return this.getContextMenuCommands()});L.showContextMenu=ss.mkdel(this,function(hT){if(ss.isNullOrUndefined(this.get_getFilterModeMatrix())){this.showContextMenu(hT)}else{this.showFilterPicker()}});if(ss.isValue(this.session)){L.session=this.session}else{L.metricsOnly=true}return L},updateFilterState:function(e){if(!ss.referenceEquals(this.field,tableau.format.formatQualifiedName(e.name))){return}if(!!this.filter&&(!ss.referenceEquals(this.filter.oFilter.type,e.type)||e.type==='RD'&&e.showRelDatePick!==this.filter.oFilter.showRelDatePick||e.type==='C'&&!ss.referenceEquals(e.mode,this.filter.oFilter.mode))){this.filter.destroy(false);this.filter=null}this.textStyle=this.quickFilterDisplayViewModel.get_quickFilterDisplayPresModel().mCc;var L=this.$1(e);if(ss.isNullOrUndefined(this.filter)){this.createFilterWidget(e,L)}else{this.filter.attributes=(ss.isNullOrUndefined(this.attributes)?{}:this.attributes);this.filter.oFilter=e;this.filter.setTitleSize(this.$7,this.$8);this.filter.initFromState();this.$0()}},createFilterWidget:function(e,L){if(ss.isNullOrUndefined(L)){L=this.$1(e)}switch(e.type){case'Q':{if(tab.LegacyFilterModel.isQuantitativeDateFilter(e)){this.filter=this.makeQuantitativeDateFilter(L)}else{this.filter=this.makeQuantitativeFilter(L)}break}case'H':{this.filter=this.makeHierarchicalFilter(L);break}case'C':{this.filter=this.makeCategoricalFilter(L);break}case'RD':{if(e.showRelDatePick){this.filter=this.makeRelativeDatePickFilter(L)}else{this.filter=this.makeRelativeDateFilter(L)}break}default:{this.domNode.style.display='none';return}}this.addChild(this.filter);this.setupEventHandlers();this.filter.setTitleSize(this.$7,this.$8);this.$0();this.hideControls()},$0:function(){var e=this.$4().get_quickFilterDisplayPresModel().$tN;if(ss.isValue(this.session)){dojo.marginBox(this.filter.domNode,dojo.contentBox(this.domNode))}hI.applyFormatting(this.domNode,this.textStyle,this.backgroundColor,e,false);this.filter.layout(null)},$3:function(e){if(this.$7>0){$(this.filter.domControls).removeClass('HideControls')}},hideControls:function(){$(this.filter.domControls).addClass('HideControls')},$2:function(e){var L=dojo.coords(this.filter.domNode,true);if(L.x>e.pageX||L.x+L.w<=e.pageX||L.y>e.pageY||L.y+L.h<=e.pageY){this.hideControls()}},setTitleSize:function(e,L){this.$7=e;this.$8=L},resize:function(e,L){this.$6=dojo.marginBox(this.domNode);this.inherited(arguments)},layout:function(e){if(!!this.filter){var L=dojo.marginBox(this.domNode);var hT=_.isEqual(this.$6,L);if(!hT){dojo.marginBox(this.filter.domNode,dojo.contentBox(this.domNode));this.filter.setTitleSize(this.$7,this.$8);this.filter.layout(null)}}},updateAttributes:function(e){this.attributes=(ss.isNullOrUndefined(e)?{}:e)},updateSubWidget:function(e){if(ss.isValue(this.filter)){var L=this.$1(e);this.filter.setTitleSize(L.titleH,L.titleW);this.filter.updateFilterProperties(L)}},getContextMenuCommands:function(){if(ss.isValue(this.$4())&&ss.isValue(this.$4().get_quickFilterCommands())){return this.$4().get_quickFilterCommands()}else{return new Object}},showContextMenu:function(e){var L=this.getContextMenuCommands();var hT=[];hJ.newMenuItemsFromCommands(hT,L,function(hY){return function(){var hZ=tab.CommandItemWrapper.create(hY);var ia=tab.CommandSerializer.deserialize(hZ.get_command());tab.ServerCommands.executeServerCommand(ia,'immediately')}});var hU=function(hY){var hZ=hY.data;hZ()};var hV=spiff.MenuViewModel.createForMenu(new spiff.Menu(hT),hU);var hW=new spiff.ShowMenuOptions($(e),false,0);hW.additionalMenuClass='tabQFContextMenu';var hX=hW;hV.show(hX)},showFilterPicker:function(){},getDomNode:function(){return this.domNode},destroyRecursiveShim:function(e){this.destroyRecursive(e)},startupShim:function(){this.startup()},updateAttributesShim:function(e){this.updateAttributes(e)},updateFilterStateShim:function(e){this.updateFilterState(e)},setTitleSizeShim:function(e,L){this.setTitleSize(e,L)},updateFilterPropertiesShim:function(e){this.updateFilterProperties(e)},updateSubWidgetShim:function(e){this.updateSubWidget(e)}},Object,[ss.IDisposable,Tableau.JavaScript.Vql.LegacyDojoModuleInterfaces.ILegacyWidgetShim,Tableau.JavaScript.Vql.LegacyDojoModuleInterfaces.IFilterPanelWidgetShim]);ss.initClass(db,a,{get_currentToolMode:function(){return this.$7},set_currentToolMode:function(e){if(e!==this.$7){var L=this.$7;this.$7=e;this.toolModeChanged(L)}else if(e===this.api.defaultPointerToolMode()){this.updateFlyOutVisibility(false);this.updateButtonState(e,true)}},dispose:function(){try{this.disposables.dispose()}catch(e){}if(ss.isValue(this.buttonContainer)){this.buttonContainer.remove()}if(ss.isValue(this.flyOutButtons)){this.flyOutButtons.remove()}if(ss.isValue(this.flyOutContainer)){this.flyOutContainer.remove()}this.api=null;this.buttonContainer=null;this.flyOutButtons=null;this.flyOutContainer=null;this.zoomInBtn=null;this.zoomOutBtn=null;this.zoomAreaBtn=null;this.zoomHomeBtn=null;this.flyOutBtn=null;this.rectSelectBtn=null;this.radialSelectBtn=null;this.lassoSelectBtn=null;this.panBtn=null;spiff.Widget.prototype.dispose.call(this)},setZoomHomePossibility:function(e){this.canZoomHome=e;if(this.toolbarType==='homeOnlyToolbar'){this.setActiveState(this.canZoomHome)}},setActiveState:function(e){if(this.toolbarType==='homeOnlyToolbar'&&!this.canZoomHome){this.element.css({display:'none'})}else{this.element.css({display:(e?'':'none')})}if(!e){this.updateFlyOutVisibility(false)}},resetPointerToolMode:function(){this.set_currentToolMode(this.api.defaultPointerToolMode());this.api.setPointerToolMode(this.get_currentToolMode(),false);this.updateFlyOutVisibility(false)},resetVisualState:function(){this.updateFlyOutVisibility(false)},enableUserInteraction:function(e){this.element.css({'pointer-events':(e?'auto':'none')});this.acceptingInteraction=e},init:function(){this.createButtons();this.resetPointerToolMode();this.setActiveState(false)},createButtons:null,setupEventHandling:function(){if(ss.isValue(this.rectSelectBtn)){this.disposables.add$1(this.rectSelectBtn.onClick(ss.mkdel(this,function(){this.setToolMode('rectangular-selection',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('rectangular-selection')}})));this.disposables.add$1(this.rectSelectBtn.onShiftClick(ss.mkdel(this,function(){this.setToolMode('rectangular-selection',true)})))}if(ss.isValue(this.panBtn)){this.disposables.add$1(this.panBtn.onClick(ss.mkdel(this,function(){this.setToolMode('pan-map',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('pan-map')}})));this.disposables.add$1(this.panBtn.onShiftClick(ss.mkdel(this,function(){this.setToolMode('pan-map',true)})))}if(ss.isValue(this.radialSelectBtn)){this.disposables.add$1(this.radialSelectBtn.onClick(ss.mkdel(this,function(){this.setToolMode('radial-selection',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('radial-selection')}})));this.disposables.add$1(this.radialSelectBtn.onShiftClick(ss.mkdel(this,function(){this.setToolMode('radial-selection',true)})))}if(ss.isValue(this.lassoSelectBtn)){this.disposables.add$1(this.lassoSelectBtn.onClick(ss.mkdel(this,function(){this.setToolMode('lasso-selection',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('lasso-selection')}})));this.disposables.add$1(this.lassoSelectBtn.onShiftClick(ss.mkdel(this,function(){this.setToolMode('lasso-selection',true)})))}if(ss.isValue(this.zoomHomeBtn)){this.disposables.add$1(this.zoomHomeBtn.onClick(ss.mkdel(this,function(){this.clickZoomHome()})))}},updateFlyOutVisibility:function(e){if(ss.isValue(this.flyOutContainer)){this.flyOutContainer.css({display:(e?'':'none')})}},toggleFlyout:function(e){if(!this.acceptingInteraction){return}if(this.flyOutContainer.is(':visible')){this.updateFlyOutVisibility(false)}else{var L=this.flyOutBtn.element.position();var hT=tab.DoubleUtil.roundToInt(this.flyOutBtn.element.width());this.flyOutContainer.css({top:L.top+'px',left:hT+'px'});this.updateFlyOutVisibility(true)}},addButton:function(e,L,hT){var hU=new spiff.Button($(document.createElement('div')));hU.set_hoverTooltipText(hT);this.$6(e,hU,L);return hU},addToggleButton:function(e,L,hT){var hU=new spiff.ToggleButton($(document.createElement('span')));hU.set_hoverTooltipText(hT);this.$6(e,hU,L);return hU},addSpacer:function(){var e=$(document.createElement('div'));e.addClass('fztSpacer');this.buttonContainer.append(e)},$6:function(e,L,hT){L.element.addClass(hT);L.element.addClass('fztButton');e.append(L.element);this.disposables.add$1(L)},setToolMode:function(e,L){if(e===this.get_currentToolMode()){this.set_currentToolMode(this.api.defaultPointerToolMode())}else{this.set_currentToolMode(e)}this.api.setPointerToolMode(this.get_currentToolMode(),L)},clickZoomHome:function(){if(this.canZoomHome){this.api.zoomHome()}},createButtonContainer:function(){this.buttonContainer=$("<div class='fztButtonContainer'/>");this.element.append(this.buttonContainer);if(ss.isValue(this.parent)){this.parent.append(this.element)}},createButtonFlyOut:function(){this.flyOutContainer=$("<div class='fztFlyOutContainer'/>");this.updateFlyOutVisibility(false);this.element.append(this.flyOutContainer);this.flyOutButtons=$("<div class='fztFlyOutButtons'/>");this.flyOutContainer.append(this.flyOutButtons)},updateButtonState:function(e,L){switch(e){case'area-zoom':case'zoom-out':{this.selectButton(this.zoomAreaBtn,L);break}case'pan-map':{if(ss.isValue(this.panBtn)){this.selectButton(this.panBtn,L)}break}case'rectangular-selection':{if(ss.isValue(this.rectSelectBtn)){this.selectButton(this.rectSelectBtn,L)}break}case'radial-selection':{this.selectButton(this.radialSelectBtn,L);break}case'lasso-selection':{this.selectButton(this.lassoSelectBtn,L);break}default:{break}}},selectButton:function(e,L){var hT=ss.safeCast(e,spiff.ToggleButton);if(ss.isValue(hT)){hT.set_selected(L)}},toolModeChanged:function(e){this.updateButtonState(e,false);this.updateButtonState(this.get_currentToolMode(),true);this.updateFlyOutVisibility(false)}},spiff.Widget,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(dc,a,{});ss.initClass(dd,a,{});ss.initClass(de,a,{});ss.initClass(df,a,{get_textStyleModel:function(){return this.$2},get_backgroundColor:function(){return this.$0},get_lineHeight:function(){return this.$1}});ss.initClass(dg,a,{},spiff.Widget,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(dh,a,{show:function(){this.$1.show()},cleanup:function(e){this.$1.closeAndDispose()},dispose:function(){this.$1.dispose()}},bg,[ss.IDisposable]);ss.initClass(di,a,{createOverlay:function(e){var L=$('.dashboardSpacer');var hT=$("<div id='auth-overlay'></div>");var hU=ss.mkdel(this,function(){if(ss.isValue(this.onProceed)){this.onProceed()}this.cleanup(e)});var hV=new dg(this.dataSourceConnectionAttemptErrorResponse.ErrorMessage,hU);hT.append(hV.element);L.append(hT)},show:function(){var e=new cP;var L=ss.mkdel(this,function(){this.cleanup(e)});hQ.add_zoneBecameValid(L);e.zoneBecameValidHandler=new tab.CallOnDispose(function(){hQ.remove_zoneBecameValid(L)});this.createOverlay(e)}},bf);ss.initClass(eM,a,{dispose:function(){if(this.get_viewModel().get_visible()){this.$b=true;this.get_viewModel().hide();return}this.notificationViewModel.remove_shown(ss.mkdel(this,this.shown));this.notificationViewModel.remove_hidden(ss.mkdel(this,this.hidden));ss.makeGenericType(spiff.BaseView$1,[eN]).prototype.dispose.call(this)},onViewModelPropertyChanged:function(e,L){this.updateContent()},updateContent:function(){this.messageDom.text(this.notificationViewModel.get_message())},hidden:function(){this.element.fadeOut('slow',ss.mkdel(this,this.$a))},shown:function(){this.element.css('display','none');this.element.appendTo($('body'));if(this.adjustMargin){this.element.css('margin-left','-'+this.element.outerWidth(true)/2+'px')}this.element.fadeIn('fast')},$a:function(){if(this.$b){this.dispose()}else{this.element.detach()}},$9:function(e){this.get_viewModel().hide()}},ss.makeGenericType(spiff.BaseView$1,[eN]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[eN])]);ss.initClass(dj,a,{},eM,[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[eN])]);ss.initClass(dk,a,{});ss.initClass(dl,a,{get_button:function(){return this.$9},$8:function(){var e={timeout:6000,enableHighAccuracy:true};window.navigator.geolocation.getCurrentPosition(ss.mkdel(this,this.$6),ss.mkdel(this,this.$7),e)},$6:function(e){var L={};var hT=Math.abs(0.452185866478557);var hU=Math.abs(e.coords.latitude);var hV=89.5478141335214;if(hU>hV){L.Qao=((e.coords.latitude<0)?-90:(e.coords.latitude-hT));L.FVU=((e.coords.latitude<0)?(e.coords.latitude+hT):90)}else{L.Qao=e.coords.latitude-hT;L.FVU=e.coords.latitude+hT}var hW;var hX=Math.cos(dk.degreeToRad(hU));var hY=0.00249530881941949;if(hX<hY){hW=180}else{hW=50/(111.32*hX)}L.kVX=e.coords.longitude-hW;L.eMT=e.coords.longitude+hW;tab.PaneClientCommands.boundingBoxPan(this.$a,L)},$7:function(e){var L='';if(e.code===e.PERMISSION_DENIED){if(tab.BrowserSupport.get_isChrome()&&tab.BrowserSupport.get_googleChromeVersion()>=50){L=tab.Strings.GotoMyLocationPermissionDeniedUnsecureConnection}else{L=tab.Strings.GotoMyLocationPermissionDeniedError}}else if(e.code===e.TIMEOUT){L=tab.Strings.GotoMyLocationTimeoutError}else{L=tab.Strings.GotoMyLocationPositionUnavailableError}var hT=this.element.offset();var hU={x:tab.DoubleUtil.roundToInt(hT.left)+tab.DoubleUtil.roundToInt(this.element.width())+8,y:tab.DoubleUtil.roundToInt(hT.top)};if(tsConfig.is_mobile){hU.y+=ss.Int32.div(tab.DoubleUtil.roundToInt(this.element.height()),4)}eN.showGeoLocationNotification(L,-1,{x:hU.x,y:hU.y})}},spiff.Widget,[spiff.IAppendableView,ss.IDisposable]);ss.initEnum(dm,a,{noHit:0,areaHit:1,nearHit:2,exactHit:3});ss.initEnum(dn,a,{none:0,misc:1,trendLine:2,referenceLine:3,referenceLineLabel:4,mark:5,markLabel:6});ss.initClass(dp,a,{});ss.initClass(dq,a,{get_objectId:function(){return this.$4},get_worldOffset:function(){return this.$9},get_nodeType:function(){return this.$3},get_boundingBox:function(){return this.$0},get_labelBox:function(){return this.$2},get_children:function(){return this.$1},get_parent:function(){return this.$8},set_parent:function(e){this.$8=e},get_paneKey:function(){return this.$6},set_paneKey:function(e){this.$6=e},get_paneIndex:function(){return this.$5},set_paneIndex:function(e){this.$5=e},get_paneOrderIndex:function(){return this.$7},set_paneOrderIndex:function(e){this.$7=e},addNode:function(e){this.$1.push(e);e.set_parent(this)},addNodes:function(e){ss.arrayAddRange(this.$1,e);for(var L=0;L<e.length;L++){var hT=e[L];hT.set_parent(this)}},resetChildren:function(){ss.clear(this.$1)}});ss.initEnum(dr,a,{rectangle:0,circle:1,line:2,polygon:3});ss.initClass(ds,a,{get_context2D:function(){return this.$2.getContext('2d')},debugDrawBoundingBoxesHierarchy:function(e){this.clear();this.$0(e)},debugDrawBoundingBoxesHierarchies:function(e){this.clear();for(var L=0;L<e.length;L++){var hT=e[L];this.$0(hT)}},clear:function(){this.get_context2D().clearRect(0,0,this.$2.width,this.$2.height)},done:function(){this.$4.style.position=this.$3;this.$1.removeChild(this.$2)},$0:function(e){var L=new Array;L.push(e);while(L.length>0){var hT=L.shift();if(hT.get_nodeType()===2){var hU=hT.get_boundingBox();this.get_context2D().save();if(ds.$0%2===0){this.get_context2D().fillStyle='rgba(120, 255, 20, 0.1)'}else{this.get_context2D().fillStyle='rgba(20, 255, 120, 0.1)'}this.get_context2D().fillRect(hU.x,hU.y,hU.w,hU.h);this.get_context2D().restore();++ds.$0}if(hT.get_nodeType()===3||hT.get_nodeType()===5){var hV=hT.get_boundingBox();this.get_context2D().save();this.get_context2D().fillStyle='rgba(255, 0, 0, 0.2)';this.get_context2D().fillRect(hV.x,hV.y,hV.w,hV.h);this.get_context2D().restore()}if(hT.get_nodeType()===4){var hW=hT.get_boundingBox();this.get_context2D().save();this.get_context2D().fillStyle='rgba(0, 0, 255, 0.2)';this.get_context2D().fillRect(hW.x,hW.y,hW.w,hW.h);this.get_context2D().restore()}var hX=hT.get_children();hX.forEach(function(hY){L.push(hY)})}}});ss.initClass(dt,a,{hitTestPanes:function(e){var L=[];var hT=new Array;hT.push(this.$5);while(hT.length>0){var hU=hT.pop();var hV=tab.RectXYUtil.intersectsWith(hU.get_boundingBox(),e);if(hV){if(hU.get_nodeType()===1){L.push(hU.get_paneKey())}else{var hW=hU.get_children();hW.forEach(function(hX){hT.push(hX)})}}}return L},hitTest:function(e,L,hT){if(tab.RectXYUtil.isEmpty(e)){return[]}var hU=this.hitTestBoundingBoxes(e,L,hT);return(L?this.hitTestSingle(e,hT,hU):this.$1(e,hT,hU))},hitTestSingle:function(e,L,hT){var hU=e.x+e.w/2;var hV=e.y+e.h/2;var hW={};var hX=[];for(var hY=hT.length-1;hY>=0;hY--){var hZ=hT[hY];if(hZ.get_objectId()<0){continue}var ia=dq.findPaneNode(hZ);if(ss.isNullOrUndefined(ia)){continue}if(ss.isNullOrUndefined(hW[ia.get_paneIndex()])){hW[ia.get_paneIndex()]=[];hX.push(ia)}hW[ia.get_paneIndex()].push(hZ)}var ib=[];var ic=[];var id={};for(var ie=0;ie<hX.length;ie++){var ig=hX[ie];var ih=L.getPaneDrawInfoFromKey(ig.get_paneKey());var ii=tab.RectXYUtil.offsetRect(e,{x:-ih.paneRect.x,y:-ih.paneRect.y});var ij=hW[ig.get_paneIndex()];for(var ik=0;ik<ij.length;ik++){var il=ij[ik];var im=ih.getMarkState(il.get_objectId());var io=il.get_worldOffset();var ip=ih.c['tuple_id'].gv(il.get_objectId());var iq=false;if(ss.isValue(il.get_labelBox())){iq=tab.RectXYUtil.intersectsWithMoreThanSharedEdge(il.get_labelBox(),e)}if(iq){ib.push(new du.$ctor1(ip,6,3));id[ip]={item1:ig.get_paneOrderIndex(),item2:im}}var ir=dt.$0(ih,ii,il.get_objectId(),io,ih.markType);if(ir){ib.push(new du.$ctor1(ip,5,3));id[ip]={item1:ig.get_paneOrderIndex(),item2:im}}else if(ib.length===0){var it=dt.$1(ih,ii,il.get_objectId(),io,ih.markType);if(it){var iu;switch(ih.markType){case'line':{iu=eF.$p(ih,hU,hV,il.get_objectId());break}case'bar':case'square':{iu=eF.$b(ih,hU,hV,il.get_objectId());break}case'shape':{iu=eF.$1B(ih,hU,hV,il.get_objectId());break}case'text':{iu=eF.$1J(ih,hU,hV,il.get_objectId());break}case'area':{iu=eF.$3(ih,hU,hV,il.get_objectId());break}default:{iu=dk.getSquaredDistanceToCenter(il.get_boundingBox(),{x:hU,y:hV});break}}var iv=new du.$ctor1(ip,5,2);ic.push({item1:iv,item2:iu});id[ip]={item1:ig.get_paneOrderIndex(),item2:im}}else{}}}}if(ib.length>0){var iw=this.$4(ib,id);if(iw.get_hitType()===3){return[iw]}}if(ic.length>0){var ix=this.$3(ic,id);if(ix.get_hitType()===2){return[ix]}}return[]},$1:function(e,L,hT){var hU=[];for(var hV=hT.length-1;hV>=0;hV--){var hW=hT[hV];var hX=hW.get_objectId();if(hX<0){continue}var hY=dq.findPaneNode(hW);if(ss.isNullOrUndefined(hY)){continue}var hZ=L.getPaneDrawInfoFromKey(hY.get_paneKey());var ia=dt.getTransformInfo(hZ,hW);var ib=dt.rectangleAreaHit(hZ,hW.get_boundingBox(),e,hX,ia,hZ.markType);if(ib){hU.push(new du.$ctor1(hZ.c['tuple_id'].gv(hX),5,1))}}return hU},hitTestBoundingBoxes:function(e,L,hT){if(tab.RectXYUtil.isEmpty(e)){return[]}var hU=[];var hV=new Array;var hW={};hV.push(this.$5);while(hV.length>0){var hX=hV.pop();var hY=e;if(L&&ss.isValue(hT)&&hX.get_nodeType()===3){var hZ=dq.findPaneNode(hX);if(ss.isValue(hZ)){var ia=hZ.get_paneKey();if(ss.keyExists(hW,ia)){hY=hW[ia]}else{var ib=hT.getPaneDrawInfoFromKey(hZ.get_paneKey());if(ss.isValue(ib)){var ic;switch(ib.markType){case'bar':case'square':{ic=eF.$c(ib,hX.get_objectId());break}case'shape':{ic=eF.$1C(ib,hX.get_objectId());break}case'text':{ic=eF.$1K(ib,hX.get_objectId());break}case'area':{ic=eF.$4(ib,hX.get_objectId());break}default:{ic=null;break}}if(ss.isValue(ic)&&!tab.SizeUtil.isEmpty(ic)){hY=tab.RectXYUtil.outsetRectSizeF(hY,ic)}}hW[ia]=hY}}}var id=tab.RectXYUtil.intersectsWithMoreThanSharedEdge(hX.get_boundingBox(),hY);if(!id&&L&&ss.isValue(hX.get_labelBox())){id=tab.RectXYUtil.intersectsWithMoreThanSharedEdge(hX.get_labelBox(),e)}if(id){if(hX.get_nodeType()===3){hU.push(hX)}else{var ie=hX.get_children();ie.forEach(function(ig){hV.push(ig)})}}}return hU},$4:function(e,L){if(e.length===0){return new du.$ctor1(0,0,0)}var hT=new du.$ctor1(0,0,0);e.sort(function(hX,hY){return((hX.get_id()>hY.get_id())?-1:1)});for(var hU=0;hU<e.length;hU++){var hV=e[hU];if(!ss.keyExists(L,hV.get_id())){continue}if(L[hV.get_id()].item2==='markStateInvisible'){continue}if(hT.get_hitType()===0){hT=hV}else{var hW=this.$0(hV.get_id(),hT.get_id(),L);if(hW>0){hT=hV}else if(hW===0){if(hV.get_hitObjectType()>hT.get_hitObjectType()){hT=hV}}}}return hT},$3:function(e,L){if(e.length===0){return new du.$ctor1(0,0,0)}var hT=new du.$ctor1(0,0,0);var hU=null;e.sort(function(hZ,ia){return((hZ.item1.get_id()>ia.item1.get_id())?-1:1)});for(var hV=0;hV<e.length;hV++){var hW=e[hV];var hX=hW.item1;var hY=hW.item2;if(!ss.keyExists(L,hX.get_id())){continue}if(L[hX.get_id()].item2==='markStateInvisible'){continue}if(hT.get_hitType()===0){hT=hX;hU=hY}else if(ss.Nullable$1.lt(hY,hU)){hT=hX;hU=hY}else if(hY===hU&&this.$0(hX.get_id(),hT.get_id(),L)>0){hT=hX}}return hT},$0:function(e,L,hT){var hU=hT[e];var hV=hT[L];var hW=this.$2(hU.item2);var hX=this.$2(hV.item2);if(hW>hX){return 1}if(hW===hX){var hY=hU.item1;var hZ=hV.item1;if(hY>hZ){return 1}if(hY===hZ){return 0}}return-1},$2:function(e){switch(e){case'markStateInvisible':{return 0}case'markStateNormal':{return 1}case'markStateHighlighted':{return 2}case'markStateSelected':{return 3}default:{return-1}}}});ss.initClass(du,a,{get_id:function(){return this.$2},get_hitObjectType:function(){return this.$0},get_hitType:function(){return this.$1},get_shouldRenderOverlay:function(){return this.$3},get_overlayTargetType:function(){switch(this.$0){case 3:case 4:{return'ref-line'}case 2:{return'trend-line'}case 5:case 6:{return'mark'}default:{return'unspecified'}}},get_tooltipTargetType:function(){switch(this.$0){case 3:case 4:case 2:{return'visualparts'}case 5:case 6:{return'mark'}default:{return'unspecified'}}},doNotRenderOverlay:function(){this.$3=false}});du.$ctor1.prototype=du.prototype;ss.initClass(dv,a,{});ss.initClass(dX,a,{$1:null},spiff.Template,[ss.IDisposable]);ss.initClass(dw,a,{$1:function(){this.prevButton.addClass('tabCatLegendScrollLeft');this.nextButton.addClass('tabCatLegendScrollRight')}},dX,[ss.IDisposable]);ss.initInterface(dy,a,{get_filterTable:null,get_quickFilter:null,shouldDeferChanges:null,updateStateIfNeeded:null,clearRangeAnchorAndSelection:null,forEachSelected:null,onListItemClick:null,fetchChildNodeByIndex:null,handleItemClick:null,handleClickIfPending:null});ss.initClass(dC,a,{_getMenuItemForOption:function(e){if(ss.isNullOrEmptyString(e.value)){return new dijit.MenuSeparator}else{var L=ss.mkdel(this,function(){this._setValueAttr(e)});var hT=new Object;hT.option=e;hT.label=e.label;hT.onClick=L;hT.disabled=e.disabled||false;return new tableau.base.widget.ui.iMenuItem(hT)}}},Object);ss.initInterface(dD,a,{get_filterType:null},[ss.IDisposable]);ss.initInterface(dE,a,{add_remoteUpdateComplete:null,remove_remoteUpdateComplete:null,get_captions:null,get_currentPointIndex:null,clickNext:null,clickPrevious:null});ss.initInterface(dF,a,{get_dashboardViewModel:null,get_flipboardModel:null});ss.initInterface(dH,a,{get_type:null});ss.initClass(dI,a,{get_imageNode:function(){return this.$2},set_imageNode:function(e){this.$2=e},get_index:function(){return this.$1},get_src:function(){return this.$3},get_bounds:function(){return this.$0},get_version:function(){return this.$4}});ss.initClass(dJ,a,{get_image:function(){return this.$0}},ss.EventArgs);ss.initClass(dK,a,{});ss.initClass(dL,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(dM,a,{get_domRoot:function(){return this.get_template().domRoot},get_image:function(){return this.$k},$i:function(){return this.get_viewModel()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(tsConfig.is_mobile&&tsConfig.is_authoring&&tsConfig.current_sheet_type==='dashboard'){this.element.addClass('tabDontBustMyClicks')}this.handleNewImageZone()},handleNewImageZone:function(){this.createImageZoneView()},createImageZoneView:function(){var e=ss.mkdict(['position','absolute','overflow','hidden','top','0px','left','0px','right','0px','bottom','0px']);this.get_template().domRoot.css(e);if(!this.$e()){this.$k=this.$b()}else{this.$g()}},$e:function(){var e=this.get_image();if(ss.isNullOrUndefined(e)||!ss.referenceEquals(e.attr('src'),this.$i().get_imageUrl())){return false}else{var L=e.get(0)['width'];var hT=e.get(0)['height'];if(L===0&&hT===0){return false}}return true},$b:function(){var e=$('<img>');var L=ss.mkdel(this,function(){if(ss.isNullOrUndefined(this.$k)){window.setTimeout(ss.mkdel(this,function(){this.$j=e.get(0);this.$g()}),1)}else{this.$j=e.get(0);this.$g()}e.off('load')});e.on('load',L);var hT=this.$i().get_imageUrl();if(!ss.isNullOrEmptyString(this.$i().get_imageZonePresModel().Gqc)){hT='data:image/jpeg;base64,'+this.$i().get_imageZonePresModel().Gqc}e.css('border','none').attr('src',hT);return e},$9:function(e){this.get_template().domRoot.empty();this.get_template().domRoot.append(e)},$d:function(){this.$g()},$g:function(){var e=this.$i().get_imageZonePresModel();if(e.qWY){this.$f()}var L=this.$h();this.$9(L);if(e.OvI){this.$a(L)}return L},$c:function(){var e=this.$i().get_zonePresModel();var L=this.$i().get_imageZonePresModel();var hT=hm.absolutizeURI(L.ZNi,false);var hU=e.jAM==='bitmap'&&!tab.MiscUtil.isNullOrEmpty$1(L.ixs)&&!tab.MiscUtil.isNullOrEmpty$1(hT);if(hU){return $('<a/>').attr('href',hT).attr('target','_blank').css(ss.mkdict(['position','absolute','outline','none']))}else{return $('<div/>')}},$h:function(){var e=this.get_image();var L=this.$c();L.append(e);return L},$f:function(){var e=this.$i().get_zonePresModel();var L=this.$j['width'];var hT=this.$j['height'];if(tab.BrowserSupport.get_isIE()&&tab.BrowserSupport.get_browserVersion()>8){L=this.$j['naturalWidth'];hT=this.$j['naturalHeight']}var hU=0;var hV=0;var hW;if(L/e.rec>=hT/e.EUR){hW={width:e.rec+'px',height:'auto'};hU=e.rec;hV=ss.Int32.trunc(e.rec/L*hT)}else{hW={height:e.EUR+'px',width:'auto'};hV=e.EUR;hU=ss.Int32.trunc(e.EUR/hT*L)}if(tab.BrowserSupport.get_isIE()&&tab.BrowserSupport.get_browserVersion()>8){var hX=window.screen['deviceXDPI'];var hY=window.screen['systemXDPI'];var hZ=hX/hY>1;if(!hZ&&hU>0&&hV>0&&hU/L<0.75&&L<500&&hT<500){var ia=this.$k.get(0).getAttribute('src');var ib=dK.scaleImage(this.$j,hU,hV,ss.Int32.trunc(L),ss.Int32.trunc(hT));this.$k=$(ib);this.$k.get(0).setAttribute('src',ia);hW=ss.mkdict(['width',hU+'px','height',hV+'px'])}else{this.$k=$(this.$j)}}this.$k.css(hW)},$a:function(e){var L=this.$i().get_zonePresModel();var hT=ss.Int32.div(L.EUR-tab.DoubleUtil.roundToInt(this.get_image().height()),2);var hU=ss.Int32.div(L.rec-tab.DoubleUtil.roundToInt(this.get_image().width()),2);e.css(ss.mkdict(['position','absolute','top',hT.toString()+'px','left',hU.toString()+'px']))}},ss.makeGenericType(spiff.BaseView$1,[dN]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[dN])]);ss.initClass(dN,a,{add_newImageZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newImageZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_zonePresModel:function(){return this.$2.get_zone()},get_imageZonePresModel:function(){return this.$2.pm},get_imageUrl:function(){var e=tab.CommandController.get().get_legacySession();var L=e.formatDashboardTempfileReference(this.get_imageZonePresModel().ixs,true,false);return L},handleNewImageZone:function(){if(ss.isValue(this.$2$1)){this.$2$1()}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(eO,a,{postCreate:function(){this.inherited(arguments);if(this.$4){var e=new tableau.util.NoClickDelay(this.domNode)}},$0:function(){this.getParent().focusChild(this)},$1:function(e){this.$3=tab.MiscUtil.clearTimeout(this.$3);this.$3=window.setTimeout(e,this.$2)},_onClick:function(e){if(this.$4){if(!this._isReasonableEvent(e)){return}var L=ss.mkdel(this,function(){this.getParent().onItemClick(this,e);spiff.EventUtil.stopEvent(e)});this.$0();this.$1(L)}else{this.inherited(arguments)}},_onHover:function(e){if(this.$4){this._onClick(e)}else{this.inherited(arguments)}}},dijit.MenuItem);ss.initClass(hl,a,{},eO);ss.initClass(dP,a,{},hl);ss.initInterface(dQ,a,{get_location:null,set_location:null});ss.initClass(dR,a,{});ss.initInterface(dS,a,{add_loadComplete:null,remove_loadComplete:null,refreshImages:null,destroy:null,reset:null},[spiff.IScrollable]);ss.initInterface(dT,a,{createNonMarksRenderer:null,renderGridLines:null,createPaneDrawInfo:null});ss.initInterface(dU,a,{instantiate:null,instantiateFromDomain:null,layout:null,destroy:null,setNewState:null,updateReadout:null});ss.initInterface(dV,a,{get_caption:null,get_isCurrentPoint:null,get_isCaptured:null,get_storyPointId:null,get_storyPointIndex:null,get_selectedStoryPointStyle:null,get_unselectedStoryPointStyle:null,clickStoryPoint:null,revertStoryPoint:null});ss.initClass(dW,a,{get_domRoot:function(){return this.$c.domRoot},get_scrollIncrement:function(){return this.$b},set_scrollIncrement:function(e){this.$b=e},$6:function(){return(this.$9?this.$a.scrollLeft():this.$a.scrollTop())},$7:function(e){if(this.$9){this.$a.scrollLeft(e)}else{this.$a.scrollTop(e)}},$5:function(){if(this.$9){return this.$a.children()[0].scrollWidth-tab.DoubleUtil.roundToInt(this.$a.width())}else{return this.$a.children()[0].scrollHeight-tab.DoubleUtil.roundToInt(this.$a.height())}},reset:function(){if(this.$9){this.$a.scrollLeft(0)}else{this.$a.scrollTop(0)}this.updateButtonState()},dispose:function(){this.$c.dispose();this.$8.dispose()},$3:function(e){this.$7(Math.max(0,this.$6()-this.$b));this.updateButtonState()},$2:function(e){this.$7(Math.min(this.$5(),this.$6()+this.$b));this.updateButtonState()},updateButtonState:function(){this.$4(this.$c.prevButton,this.$1());this.$4(this.$c.nextButton,this.$0())},$1:function(){return this.$6()>0},$0:function(){return this.$6()<this.$5()},$4:function(e,L){e.toggleClass('tabIterButtonDisabled',!L)}},null,[ss.IDisposable]);ss.initInterface(dY,a,{get_totalHeight:null,get_viewportHeight:null,get_itemHeight:null,get_tileCount:null,destroy:null,updateViewport:null,getTileStatus:null,updateTileStatus:null,getTilePosition:null,getTileRange:null,getTileRangeType:null,pixelToTileRange:null,itemToTileIndex:null,globalToLocalItemIndex:null});ss.initClass(eb,a,{get_enabled:function(){return ss.isValue(this.$h)&&this.$i.get_useFastMaps()},$f:function(){return new L.LatLng(this.$i.get_centerLatitude(),this.$i.get_centerLongitude())},getDistanceForScreenPointsInMeters:function(e,hT){var hU=this.$h.containerPointToLatLng(new L.Point(e.x,e.y));var hV=this.$h.containerPointToLatLng(new L.Point(hT.x,hT.y));return hU.distanceTo(hV)},$e:function(){if(this.get_enabled()){var e=this.$i.get_zoom();var L=this.$f();_.defer(ss.mkdel(this,function(){this.$b(L,e,true)}))}},zoomOnPoint:function(e,hT){if(this.get_enabled()){var hU=hS.incrementZoom(this.$i.get_zoom(),hT);var hV=this.$h.containerPointToLatLng(new L.Point(e.x,e.y));_.defer(ss.mkdel(this,function(){this.$b(hV,hU,true)}))}},animateAnchorZoom:function(e,hT){var hU=new L.LatLng(hT.x,hT.y);_.defer(ss.mkdel(this,function(){this.$c(hU,e)}))},zoomRect:function(e){if(this.get_enabled()){var hT=new L.Point(e.x,e.y+e.h);var hU=new L.Point(e.x+e.w,e.y);var hV=new L.LatLngBounds(this.$h.containerPointToLatLng(hT),this.$h.containerPointToLatLng(hU));var hW=new L.Point(e.x+ss.Int32.div(e.w,2),e.y+ss.Int32.div(e.h,2));var hX=this.$h.containerPointToLatLng(hW);this.$8(hV,hX,true)}},moveToBounds:function(e){if(this.get_enabled()){var hT=new L.LatLngBounds(new L.LatLng(e.Qao,e.kVX),new L.LatLng(e.FVU,e.eMT));var hU=new L.LatLng((e.FVU+e.Qao)*0.5,(e.eMT+e.kVX)*0.5);var hV=this.$8(hT,hU,true);if(!hV){this.removeMarkOverlay()}}},$8:function(e,L,hT){var hU=this.$h.getBoundsZoom(e,true);var hV=hS.resolveDesiredZoom(this.$i.get_mapServerPresModel(),hU);hT=hT&&Math.abs(this.$h.getZoom()-hV)<=2;_.defer(ss.mkdel(this,function(){this.$b(L,hV,hT)}));return hT},panTo:function(e,hT){if(this.get_enabled()){var hU=this.$h.latLngToContainerPoint(this.$f());var hV=new L.Point(hU.x-e,hU.y-hT);var hW=this.$h.containerPointToLatLng(hV);var hX=new Object;hX.animate=false;this.$h.panTo(hW,hX)}},getPointLatLong:function(e){var hT=new L.Point(e.x,e.y);var hU=this.$h.containerPointToLatLng(hT);return{x:hU.lat,y:hU.lng}},touchMove:function(e,hT,hU){if(isNaN(hU)||isNaN(hT)||isNaN(e)){return}if(tab.DoubleUtil.isApproximatelyEqual(hU,1)&&!this.$l){this.panTo(e,hT);return}if(!this.$l){$(this.$h.getPanes().mapPane).addClass('leaflet-touching');$(this.$h.getPanes().overlayPane).addClass('leaflet-touching');this.$g=new L.Point(e,hT)}this.$l=true;tab.WindowHelper.cancelAnimationFrame(this.$n);this.$n=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,function(){var L=hS.combineTileZoomAndStretch(this.$i.get_zoom(),hU);this.$1(L,hU,e,hT)}))},touchEnd:function(e,L,hT){if(this.get_enabled()){this.$a();if(this.$l){var hU=hS.combineTileZoomAndStretch(this.$i.get_zoom(),hT);var hV=hS.resolveDesiredZoom(this.$i.get_mapServerPresModel(),hU);hT=Math.pow(2,hV-this.$i.get_zoom());this.$1(hV,hT,e,L)}this.$l=false}},splatOverlayToMapForTransition:function(e){if(ss.isValue(this.$h)&&ss.isNullOrUndefined(this.$k)){var hT=tabBootstrap.MetricsController.createContext('Leaflet Marks Splat',32,null);{var hU=fR.calculatePixelRatio(true);if(!bp.canvasDensified(e)){hU=1}var hV=Math.floor(2*hU);var hW={x:hV,y:hV,w:e.width-2*hV,h:e.height-2*hV};var hX=Math.floor(this.$h.latLngToContainerPoint(eb.$2(eb.$6)).y*hU);var hY=Math.floor(this.$h.latLngToContainerPoint(eb.$2(eb.$8)).y*hU);if(hY<e.height){hW.h=hY}if(hX>0){hW.y+=hX;hW.h-=hX}var hZ=new Object;hZ.pixelRatio=hU;this.$k=new L.CanvasOverlay(this.$h.getBounds(),hZ);this.$h.addLayer(this.$k);var ia=this.$k.getCanvas();var ib=bn.getRenderContext(ia,'transparent');var ic={x:hV,y:hV,w:hW.w,h:hW.h};ib.drawImage5(e,hW.x,hW.y,hW.w,hW.h,ic.x,ic.y,ic.w,ic.h);e.width=e.width}hT.dispose()}},$2:function(e,hT){this.$i=hT;this.$5();var hU=this.$3();var hV=this.$4();this.$m=new y;this.$m.domRoot.appendTo(e);this.$h=new L.Map(this.$m.$4(),hU);this.$j=new L.TileLayer(this.$i.get_tileUrl(),hV);this.$d();this.$h.addLayer(this.$j);this.$i.add_newMapServerInfo(ss.mkdel(this,this.$7));if(this.$i.get_hasWashout()){var hW=this.$i.get_washoutColor();var hX=eb.$0(hW.toRgb());hV=this.$4();hV.opacity=hW.get_a();this.$h.addLayer(new L.TileLayer(hX,hV))}this.$m.$3(this.$i.get_mapBGFillColor());this.$0(this.$i.get_zoom(),false)},$d:function(){var e=(this.$i.get_hasValidTileLayer()?1:0);this.$j.setOpacity(e)},$5:function(){if(ss.isValue(this.$h)){this.$h.remove();this.$h=null;if(ss.isValue(this.$i)){this.$i.remove_newMapServerInfo(ss.mkdel(this,this.$7))}this.$i=null;this.$m.dispose();this.$m=null}},$7:function(){if(this.get_enabled()){if(this.$h._animatingZoom){window.setTimeout(ss.mkdel(this,this.$7),10)}else{this.$d();var e=this.$f();var L=this.$h.latLngToContainerPoint(this.$h.getCenter());var hT=this.$h.latLngToContainerPoint(e);var hU=Math.abs(this.$h.getZoom()-this.$i.get_zoom());if(hU>0.001){}var hV=hU<0.01&&L.distanceTo(hT)<8;this.$b(e,this.$i.get_zoom(),hV);this.$6()}}},$6:function(){var e=$(this.$h.getPanes().tilePane).find('.leaflet-tile-container');for(var L=0;L<e.length;++L){if(!tab.MiscUtil.isNullOrEmpty$1(e[L].style.visibility)){this.$h._onZoomTransitionEnd();break}}},$9:function(e,L){if(this.get_enabled()){tab.DomUtil.setMarginBox(this.$h.getContainer(),{l:0,t:0,w:e,h:L});this.$h.invalidateSize(false);this.$0(this.$i.get_zoom(),false);this.$m.$2()}},setScrollX:function(e){if(this.get_enabled()){this.$h.getContainer().style.left=-e+'px'}},setScrollY:function(e){if(this.get_enabled()){this.$h.getContainer().style.top=-e+'px'}},removeMarkOverlay:function(){if(ss.isValue(this.$k)){this.$h.removeLayer(this.$k);this.$6();this.$a()}this.$k=null},dispose:function(){this.$5()},$3:function(){var e=new Object;e.center=this.$f();e.zoom=this.$i.get_zoom();e.zoomControl=false;e.attributionControl=false;return e},$4:function(){var e=new Object;e.maxZoom=100;e.maxNativeZoom=this.$i.get_maxZoom();e.minZoom=this.$i.get_minZoom();e.continuousZoom=true;e.intermediateTileLevels=ss.isValue(this.$i.get_intermediateTileLevels())&&this.$i.get_intermediateTileLevels()>1;var L=this.$i.get_mapServerPresModel().WLq;e.zoomOffset=tab.MapUtil.getLeafletZoomOffsetForTileSize(L);e.tileSize=L;return e},$c:function(e,L){var hT=new Object;hT.animate=true;if(L>=0){if(this.$h._animatingZoom){this.$6()}this.$h.setZoomAround(e,L,hT);this.$0(L,true)}},$b:function(e,L,hT){var hU=new Object;hU.animate=hT;if(L>=0){if(this.$h._animatingZoom){this.$6()}this.$h.setView(e,L,hU);this.$0(L,hT)}},$0:function(e,L){var hT=tab.MapUtil.getVisiblePixelWidth(e,this.$i.get_numWorldRepeats(),this.$i.get_tilePixelSize());var hU=this.$m.$5();var hV=Math.ceil((hU-hT)/2);hV=Math.max(hV,0);this.$m.$1(hV,L)},$1:function(e,hT,hU,hV){var hW=new L.Point(hU,hV);hW=hW.subtract(this.$g);var hX=this.$h.containerPointToLayerPoint(this.$h.getSize().divideBy(2));var hY=(new L.Point(0,0)).subtract(hW).divideBy(hT);var hZ=hX.add(hY);var ia=this.$h.layerPointToLatLng(hZ);if(isNaN(ia.lat)||isNaN(ia.lng)){return}this.$h._animateZoom(ia,e,hX,hT,hW);this.$0(e,false)},$a:function(){$(this.$h.getPanes().mapPane).removeClass('leaflet-touching');$(this.$h.getPanes().overlayPane).removeClass('leaflet-touching');tab.WindowHelper.cancelAnimationFrame(this.$n)}},null,[ss.IDisposable]);ss.initClass(ec,a,{get_domBox:function(){return this.domBox},get_resetButton:function(){return this.resetButton},get_applyDelay:function(){return this.applyDelay},get_isTypeInList:function(){return this.isTypeInList},get_oFilter:function(){return this.oFilter},get_quickFilterViewModel:function(){return this.filterViewModel},get_viewModel:function(){return this.filterViewModel},get_dijitDeclaredClass:function(){return this.declaredClass},get_mode:function(){return this.mode},set_mode:function(e){this.mode=e},get_session:function(){return this.session},set_session:function(e){this.session=e},get_attributes:function(){return this.attributes},set_attributes:function(e){this.attributes=e},get_field:function(){return this.field},get_stateId:function(){return this.stateId},set_stateId:function(e){this.stateId=e},get_modeContents:function(){return this.modeContents},get_domContent:function(){return this.domContent},set_domContent:function(e){this.domContent=e},get_dijitDomNode:function(){return this.domNode},set_dijitDomNode:function(e){this.domNode=e},get_domain:function(){var e=null;if(!!this.get_attributes()['values']){e=this.get_attributes()['values']}return e},get_searchWidget:function(){return this.$g},set_searchWidget:function(e){this.$g=e},get_presModel:function(){return this.presModel},get_backgroundColor:function(){return this.backgroundColor},$c:function(){return this.$f},$d:function(e){this.$f=e},get_quickFilter:function(){return this},get_filterTable:function(){return this.get_quickFilterViewModel().get_catFilterTable()},getCheckDropdownCatmodeClass:function(){return tableau.base.widget.catmode.CheckDropdown},getChecklistCatmodeClass:function(){return tableau.base.widget.catmode.Checklist},getRadiolistCatmodeClass:function(){return tableau.base.widget.catmode.Radiolist},getSliderCatmodeClass:function(){return tableau.base.widget.catmode.Slider},getDropdownCatmodeClass:function(){return tableau.base.widget.catmode.SimpleDropdown},getPatternCatmodeClass:function(){return tableau.base.widget.catmode.Pattern},getTypeInListCatmodeClass:function(){return tableau.base.widget.catmode.TypeIn},makeSmallSearchWidget:function(e,L){return new tableau.base.widget.SmallSearchWidget(e,L)},makeSearchWidget:function(e,L){return new tableau.base.widget.SearchWidget(e,L)},makeFilteringSearchWidget:function(e){return new tableau.base.widget.FilteringSearchWidget(e)},makePendingChangesManager:function(){return new fp(this.get_modeContents(),this.oFilter.table.actual_size,this.oFilter.exclude,this.oFilter.all)},postCreate:function(){this.getSID=ss.mkdel(this,function(){return this.get_stateId()});this.$4();this.$8();if(this.mode!=='pattern'){cB.disableTextSelection(this.get_domContent())}if(this.filterViewModel.get_filterType()!=='Categorical'){}var e={};e.qf=this;if(this.mode==='slider'){this.set_searchWidget(this.makeSmallSearchWidget(e,this.searchDiv))}else if(this.$b()){this.set_searchWidget(this.makeFilteringSearchWidget(e))}else{this.set_searchWidget(this.makeSearchWidget(e,this.searchDiv))}this.get_searchWidget().startup();this.initFromState(true,false)},processControlButtons:function(){if(this.metricsOnly){return}var e=this.mode==='checkdropdown'||this.mode==='dropdown'||this.mode==='pattern'||this.mode==='typeinlist'||this.shouldHideSearchButton();var L=this.mode==='pattern'||this.mode==='typeinlist'||this.shouldHideDomainButton();var hT=this.shouldHideContextMenu();var hU=this.mode==='pattern'||this.mode==='typeinlist'||this.shouldHideResetButton();var hV=0;var hW=function(hX,hY){if(hY){$(hX.domNode).removeClass('CFButtonR1 CFButtonR2 CFButtonR3 CFButtonR4');hX.domNode.classList.add('CFButtonHide')}else{hV+=1;hX.domNode.classList.remove('CFButtonHide');hX.domNode.classList.add('CFButtonR'+hV)}};hW(this.menuButton,hT);hW(this.domainButton,L);hW(this.searchButton,e);hW(this.resetButton,hU);this.domControls.classList.add('CF'+hV+'Button');$(this.menuButton.domNode).css('background-color',this.backgroundColor);$(this.domainButton.domNode).css('background-color',this.backgroundColor);$(this.searchButton.domNode).css('background-color',this.backgroundColor);$(this.resetButton.domNode).css('background-color',this.backgroundColor)},setTitleSize:function(e,L){this.titleH=e;this.titleW=L},updateStateIfNeeded:function(){this.set_stateId(this.get_stateId()+1)},handleClickIfPending:function(e){if(this.shouldDeferChanges()){this.get_modeContents().pendingManager.handleItemClicked(cY.filterItem.getIndex(e),e)}},shouldDeferChanges:function(){var e=this.get_attributes()['show-apply']==='true';return e&&(this.get_mode()==='checklist'||this.get_mode()==='checkdropdown')},shouldHideResetButton:function(){return this.hideEmptyTitlebar()||this.get_attributes()['show-all']==='false'||this.get_attributes()['show-filter-state']==='false'},shouldHideSearchButton:function(){return this.hideEmptyTitlebar()||this.get_attributes()['show-search']==='false'},shouldHideIncludeExclude:function(){return tsConfig.current_sheet_type==='dashboard'&&tsConfig.is_authoring||this.hideEmptyTitlebar()||this.get_attributes()['show-exclude']==='false'},shouldHideDomainButton:function(){return this.hideEmptyTitlebar()||this.get_attributes()['show-morefewerbutton']!=='true'},shouldHideContextMenu:function(){if(tsConfig.current_sheet_type==='dashboard'&&tsConfig.is_authoring){return true}var e=tab.CommandsPresModelWrapper.create(this.getContextMenuCommands());return this.hideEmptyTitlebar()||ss.isNullOrUndefined(e)||e.get_commandItems().length===0},$7:function(){return $(this.domNode).hasClass('CFInlineTitle')},resize$1:function(e){dojo.marginBox(this.domNode,e);this.layout(null)},destroy:function(e){if(ss.isValue(this.get_modeContents())&&typeof(this.get_modeContents()['destroy'])==='function'){this.get_modeContents()['destroy']();this.modeContents=null}if(ss.isValue(this.get_searchWidget())){this.get_searchWidget().destroy();this.set_searchWidget(null)}if(ss.isValue(this.$e)){this.$e.cancelPendingChange()}this.requestSetAttributes=null;this.getContextMenuCommands=null;this.showContextMenu=null;this.get_domContent().innerHTML='';this.domContent=null;this.inherited(arguments)},handleItemClick:function(e){if(ss.isValue(this.get_modeContents().pendingManager)){this.get_modeContents().pendingManager.handleItemClicked(cY.filterItem.getIndex(e),e)}if(cY.filterItem.isAllItem(e)){this.doSelectAll(this.isSingleSelect()||cY.filterItem.isChecked(e));return}},$4:function(){this.mode=ss.coalesce(this.get_oFilter().mode,'checklist');if(!ss.isNullOrEmptyString(this.get_oFilter().pattern)){this.mode='pattern'}this.isTypeInList=this.mode==='typeinlist'},initFromState:function(e,L,hT){var hU;var hV;var hW;var hX=tableau.format.formatColumnDisplayName(this.get_oFilter(),false,true);var hY=0;var hZ='';var ia=this.get_oFilter().showFacets&&this.width>100;var ib;var ic=0;var id=0;this.processControlButtons();var ie=ss.isValue(this.get_modeContents())&&this.$b();if(ss.isValue(this.get_modeContents())&&ss.isValue(this.get_modeContents().get_scrollNode())&&this.get_modeContents().get_scrollNode().scrollTop>0){ic=this.get_modeContents().get_scrollNode().scrollTop}var ig=ss.isValue(this.modeContents)&&ss.isValue(this.get_modeContents().pendingManager);var ih=ig&&ss.isValue(this.get_modeContents().pendingManager.get_allItemCheckState());var ii=ig&&ss.coalesce(this.get_modeContents().pendingManager.get_allItemCheckState(),false);var ij=(ih?ii:(this.get_oFilter().all||this.get_oFilter().allNotChecked));var ik=$(this.domNode);ik.toggleClass('CFAll',ij);ik.toggleClass('CFValue',!ij);if(this.get_oFilter().exclude){this.domNode.classList.add('CFExclusive')}else{this.domNode.classList.remove('CFExclusive')}this.handleResetButtonState();this.updateDomainButton();if(ss.isValue(this.get_modeContents())&&this.get_modeContents().shouldNotReinstantiate()){var il=ec.$0(this.$c(),this.get_oFilter());var im=this.$c().exclude!==this.get_oFilter().exclude;var io=ec.$1(this.$c(),this.get_oFilter());this.$d(this.get_oFilter());if(ss.isValue(this.get_oFilter().domains)&&ss.contains(this.get_oFilter().domains,'relevant')&&il||im){this.updateSearch()}else if(io){if(this.get_searchWidget().get_isVisible()){this.get_searchWidget().toggleUI()}}return}this.$d(this.get_oFilter());this.$4();if(this.get_oFilter().exclude){hX=tab.Strings.QuickFilterTitleBarExclusive(hX)}this.domTitleBar.setAttribute('title',hX);this.updateTitleBar();if(!ie){this.get_domContent().innerHTML=''}hW=cY.getBaseItemName(this,'FI');hU=((this.mode==='pattern')?this.get_oFilter().pattern:this.get_oFilter().table.tuples);if(ia&&(this.mode==='slider'||this.mode==='checklist'||this.mode==='checkdropdown'||this.mode==='radiolist'||this.mode==='dropdown')){ib=this.get_oFilter().table.tuples;for(hV=0;hV<ib.length;hV++){hY+=parseInt(ib[hV].f[0].v,10)}hZ=hY.toString()}if(ie){if(!hT&&ss.isValue(this.modeContents.pendingManager)){this.get_modeContents().pendingManager.resetFilterInfo(this.get_oFilter().table.actual_size,this.get_oFilter().exclude,this.get_oFilter().all);this.get_modeContents().pendingManager.resetPendingChanges()}this.get_modeContents().resetContent(hU,hW,hZ)}else{if(ss.isValue(this.get_modeContents())&&typeof(this.get_modeContents()['destroy'])==='function'){this.get_modeContents().destroy();this.modeContents=null}this.$5();this.get_modeContents().set_width(this.width);this.get_modeContents().instantiate(hU,hW,hZ)}this.$e.refreshRangeAnchorAndSelection();this.conditionals.init(this.get_oFilter().condition,this.get_oFilter().limit);if(!e){this.layout(null)}if(!L&!this.$b()){this.updateSearch()}if(ss.isValue(this.get_modeContents())&&ss.isValue(this.get_modeContents().get_scrollNode())){id=this.get_modeContents().get_scrollNode().scrollHeight-this.get_modeContents().get_scrollNode().clientHeight;this.get_modeContents().get_scrollNode().scrollTop=Math.min(ic,id)}},handleResetButtonState:function(){if(ss.isValue(this.get_oFilter().all)&&this.get_oFilter().all){fv.disableResetButton(this.get_resetButton())}else{fv.enableResetButton(this.get_resetButton())}},$1:function(){var e=null;if(this.mode==='checkdropdown'){e=this.getCheckDropdownCatmodeClass()}else if(this.mode==='checklist'){e=this.getChecklistCatmodeClass()}else if(this.mode==='radiolist'){e=this.getRadiolistCatmodeClass()}else if(this.mode==='slider'){e=this.getSliderCatmodeClass()}else if(this.mode==='dropdown'){e=this.getDropdownCatmodeClass()}else if(this.mode==='pattern'){e=this.getPatternCatmodeClass()}else if(this.mode==='typeinlist'){e=this.getTypeInListCatmodeClass()}if(ss.isNullOrUndefined(e)){return}this.modeContents=new e(this,this.get_domContent(),this.get_attributes())},$5:function(){this.$1()},updateSearch:function(){this.get_searchWidget().updateSearch()},applyChanges:function(){this.get_modeContents().applyChanges()},applyChangesByChangelist:function(e){if(this.shouldDeferChanges()){this.get_modeContents().pendingManager.processChanges(e);if(ss.isValue(this.get_modeContents().pendingManager.get_allItemCheckState())){if(ss.unbox(this.get_modeContents().pendingManager.get_allItemCheckState())){this.domNode.classList.add('CFAll')}else{this.domNode.classList.remove('CFAll')}}}else{this.get_modeContents().applyChangesByChangelist(e,this.mode)}},applyPendingChangesByChangelist:function(){if(this.get_modeContents().pendingManager.isSelectAll()){this.$0(true)}else if(this.get_modeContents().pendingManager.isDeSelectAll()){this.$0(false)}else{var e=this.get_modeContents().pendingManager.get_pendingChangelist();this.get_modeContents().applyChangesByChangelist(e,this.mode)}this.get_modeContents().pendingManager.resetPendingChanges()},cancelPendingChangesByChangelist:function(){this.get_modeContents().pendingManager.resetPendingChanges();this.initFromState(false,true,true)},$b:function(){return this.mode==='checklist'||this.mode==='radiolist'||this.mode==='checkdropdown'||this.mode==='dropdown'},filterBySearchResults:function(e){if(ss.isNullOrUndefined(e)){this.initFromState(false,true,true)}else if(this.$b()){this.modeContents.updateContent(e);this.$e.clearRangeAnchor()}},updateStateFromSearch:function(e){var L=false;var hT=this.get_isTypeInList();if(this.get_isTypeInList()){this.$a(e)}this.initFromState(L,hT)},$a:function(e){var L;var hT={};var hU;var hV;var hW;var hX;var hY=this.get_oFilter().table.tuples;for(hU=0;hU<hY.length;hU++){hV={};hV.node=this.fetchChildNodeByIndex(hU);hV.tuple=hY[hU];var hZ=hY[hU].d;if(ss.isNullOrUndefined(hZ)){hZ=hY[hU].t[0].v}hT[hZ]=hV}for(hU=0;hU<e.tuples.length;hU++){hX=e.tuples[hU];var ia=hX.d;if(ss.isNullOrUndefined(ia)){ia=hX.t[0].v}L=hT[ia];if(ss.isValue(L)&&ss.isValue(L.node)){cY.filterItem.setChecked(L.node,hX.s,L.tuple)}else{hW=tableau.util.binarySearch(Object).call(null,hX,hY,0,null,ss.mkdel(this,this.$9));if(!hW.found){hY.splice(hW.index,0,hX)}}}},$9:function(e,L){var hT=tableau.format.formatTupleDisplayName(e);var hU=tableau.format.formatTupleDisplayName(L);if(ss.referenceEquals(hT,hU)){return 0}else if(ss.compareStrings(hT,hU)<0){return-1}else{return 1}},fetchChildNodeByIndex:function(e){return this.get_modeContents().fetchChildNodeByIndex(e)},isSingleSelect:function(){return this.mode!=='checklist'&&this.mode!=='checkdropdown'&&this.mode!=='typeinlist'},updateDomainButton:function(){if(ss.isNullOrUndefined(this.get_oFilter().domains)||this.get_oFilter().domains.length<=1){this.domainButton.domNode.style.display='none';return}var e=this.domainButton.iconNode.classList;e.remove('wcIconDomainAll');e.remove('wcIconDomainContext');e.remove('wcIconDomainRelevant');if(this.get_attributes()['values']===tableau.types.QFDomain.QFD_RELEVANT){this.domainButton.attr('label',tab.Strings.QuickFilterDomainShowMoreValues);e.add('wcIconDomainRelevant')}else if(this.get_attributes()['values']===tableau.types.QFDomain.QFD_CONTEXT){this.domainButton.attr('label',tab.Strings.QuickFilterDomainShowFewerValues);e.add('wcIconDomainContext')}else{this.domainButton.attr('label',tab.Strings.QuickFilterDomainShowFewerValues);e.add('wcIconDomainAll')}},doMenu:function(){this.showContextMenu(this.menuButton.domNode)},toggleReset:function(){fv.disableResetButton(this.resetButton);this.doSelectAll(true,true)},toggleDomain:function(){var e=function(L){return L===tableau.types.QFDomain.QFD_CONTEXT};if(this.get_attributes()['values']===tableau.types.QFDomain.QFD_RELEVANT){this.$2(ss.mkdict(['values',tableau.types.QFDomain.QFD_ALL]),false)}else if(this.get_attributes()['values']===tableau.types.QFDomain.QFD_CONTEXT){this.$2(ss.mkdict(['values',tableau.types.QFDomain.QFD_RELEVANT]),false)}else if(_.any(this.get_oFilter().domains,e)){this.$2(ss.mkdict(['values',tableau.types.QFDomain.QFD_CONTEXT]),false)}else{this.$2(ss.mkdict(['values',tableau.types.QFDomain.QFD_RELEVANT]),false)}},getTheAllItemNode:function(){return this.get_modeContents().fetchAllItem()},doSelectAll:function(e,L){if(this.shouldDeferChanges()){this.get_modeContents().pendingManager.processAll(e);if(e){this.domNode.classList.add('CFAll')}else{this.domNode.classList.remove('CFAll')}if(L){this.applyPendingChangesByChangelist()}}else{this.$0(e)}},$0:function(e){var L,hT;var hU;var hV;var hW;var hX=[];if(this.mode==='checklist'||this.mode==='checkdropdown'){if($(this.get_domContent()).find('.tiledContent').length>0){hT=this.get_oFilter().table.actual_size;var hY=(this.get_oFilter().exclude?!e:e);for(L=0;L<hT;++L){hV=this.fetchChildNodeByIndex(L);if(ss.isValue(hV)){cY.filterItem.setChecked(hV,hY)}}}}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){hW=new tab.LegacyCategoricalQuickFilterData(this.get_oFilter().targetSheets,this.get_field(),this.get_oFilter().exclude,null);if(e){hW.set_includeAll(true)}tab.FilterClientCommands.updateCategoricalFilter(hW)}if(e){tab.FilterClientCommands.setCategoricalFilterValues(this.get_session().get_visualId(),this.get_field(),'filter-all',null,null)}else if(this.mode==='checklist'||this.mode==='checkdropdown'){fv.enableResetButton(this.resetButton);hU=new Object;hU.schema=this.get_oFilter().table.schema;hU.tuples=[];if(this.get_oFilter().exclude){this.$3();return}tab.FilterClientCommands.setCategoricalFilterValues(this.get_session().get_visualId(),this.get_field(),'filter-replace',hX,null)}},$3:function(){var e;var L,hT=0,hU=this.get_oFilter().table.actual_size-1;var hV=new tab.Changelist;var hW=new tab.RawChange;if($(this.get_domContent()).find('.tiledContent').length>0){for(L=hT;L<=hU;L++){e=this.get_modeContents().fetchChildNodeByIndex(L);if(ss.isValue(e)){cY.filterItem.setChecked(e,true)}}}hW.setRange(new tab.IntegerRange(hT,hU),true);hV.addChange(hW);this.get_modeContents().applyChangesByChangelist(hV,this.mode)},toggleSearchUI:function(){this.get_searchWidget().toggleUI()},$2:function(e,L){this.requestSetAttributes(e,L)},doscrollHoriz:function(){this.get_domContent().scrollLeft=this.domHorizScroll.scrollLeft},$6:function(){return this.mode==='slider'||this.mode==='dropdown'||this.mode==='checkdropdown'||this.mode==='pattern'},getTitleOffset:function(){if($(this.domNode).hasClass('CFInlineTitle')){return 0}else{return dojo.marginBox(this.domTitleBar).h}},_getSearchWidgetDim:function(){var e=this.get_searchWidget().get_dijitDomNode();if($(e).css('display')==='none'||this.$b()){var L={};L.h=0;L.l=0;L.t=0;L.w=0;return L}else{return dojo.marginBox(e)}},layoutVertical:function(e){var L;var hT=ss.mkdict(['h',0]);var hU=ss.mkdict(['h',0]);this._layoutSearchWidget(e);hU=this._getSearchWidgetDim();L=e.h-hT.h-hU.h;this.get_modeContents().layout({w:e.w,h:L},false)},_getContentFloatingElement:function(){return(this.get_isTypeInList()?this.get_searchWidget().get_dijitDomNode():this.get_domContent())},_layoutSearchWidget:function(e){var L;var hT;if(this.get_searchWidget().get_isVisible()){hT=ss.mkdict(['h',0]);L=e.h-hT['h'];this.get_searchWidget().layout(L)}},_layoutTypeInList:function(e){if(this.$7()){dojo.marginBox(this.get_searchWidget().get_dijitDomNode(),e)}else{$(this.get_searchWidget().get_dijitDomNode()).css({height:'auto',width:'auto'})}this.layoutVertical(e)},_layoutCompactFilter:function(e){this.domNode.classList.add('CFHorizontal');this._layoutSearchWidget(e);this.get_modeContents().layout({w:e.w,h:e.h},false)},layout:function(e){var L;var hT,hU;var hV;this.updateTitleBar();if(ss.isNullOrUndefined(this.domNode.parentNode)){return}this.domNode.classList.remove('CFHorizontal');this.domNode.classList.remove('CFInlineTitle');this.domHorizScroll.style.display='none';hT=dojo.marginBox(this.domTitleBar);this.resetTitleSize();if(this.titleH>0){hT.h=this.titleH;dojo.marginBox(this.domTitleBar,ss.mkdict(['h',hT.h]))}if(this.titleW>0){hT.w=this.titleW;dojo.marginBox(this.domTitleBar,ss.mkdict(['w',hT.w]))}tableau.util.setupTitleEllipsis($(this.domTitleBar));hU=dojo.contentBox(this.domNode);hV={w:hU.w,h:hU.h};if(!this.metricsOnly){if(!this.hideEmptyTitlebar()){L=this._getContentFloatingElement();if(this.titleW>0){hV.w=hU.w-hT.w;this.domTitleBar.style.cssFloat='left';L.style.cssFloat='left';this.domNode.classList.add('CFInlineTitle')}else{hV.h=hU.h-hT.h;this.domTitleBar.style.cssFloat='none';L.style.cssFloat='none'}}}if(this.$6()){this._layoutCompactFilter(hV)}else if(this.get_isTypeInList()){this._layoutTypeInList(hV)}else{this.layoutVertical(hV)}},$8:function(){cB.localizeDojoLabeledControls([{item1:this.searchButton,item2:'QuickFilterSearch'},{item1:this.domainButton,item2:'QuickFilterDomainShowFewerValues'}])},clearRangeAnchorAndSelection:function(){this.$e.clearRangeAnchorAndSelection()},forEachSelected:function(e){if(ss.isNullOrUndefined(e)||$.isFunction(e)){return}var L=this.$e.get_selectedIndexes();for(var hT=0,hU=L.length;hT<hU;hT++){var hV=L[hT];var hW=this.fetchChildNodeByIndex(hV);e(hV,hW)}},onListItemClick:function(e){this.$e.onListItemClick(e)},notifyChange:function(e){this.$e.notifyChange(e)}},eq,[dy]);ss.initClass(ed,a,{get_filterType:function(){return this.$2.get_filterType()},get_legacyCategoricalQuickFilterModel:function(){return this.$2},get_mode:function(){return this.$2.get_mode()},get_pattern:function(){return this.$2.get_pattern()},get_isAllMode:function(){return this.$2.get_isAllMode()},get_allItemsAreChecked:function(){return this.$2.get_allItemsAreChecked()},get_noItemsAreChecked:function(){return this.$2.get_noItemsAreChecked()},get_exclude:function(){return this.$2.get_exclude()},get_isTiled:function(){return this.$2.get_isTiled()},get_isSearchable:function(){return this.$2.get_isSearchable()},get_summary:function(){return this.$2.get_summary()},get_underlyingDataSourceIsCube:function(){return this.$2.get_underlyingDataSourceIsCube()},get_condition:function(){return this.$2.get_condition()},get_limit:function(){return this.$2.get_limit()},get_rangeType:function(){return this.$2.get_rangeType()},get_catFilterTable:function(){return this.$2.get_catFilterTable()},get_domainActualSize:function(){return this.$2.get_domainActualSize()},get_tuples:function(){return this.$2.get_tuples()},handleUpdateFilterContent:function(){},dispose:function(){this.$2.remove_filterUpdated(ss.mkdel(this,this.handleUpdateFilterContent));this.$2=null;spiff.BaseViewModel.prototype.dispose.call(this)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,dD]);ss.initClass(ee,a,{postCreate:function(){this.inherited(arguments);this.domNode.style.display='none';if(this.buttons==='YesNo'){var e=new Object;e.label=tab.Strings.DialogYesButtonText;e.onClick=ss.mkdel(this,this.$4);this.$6=new dijit.form.Button(e);e.label=tab.Strings.DialogNoButtonText;e.onClick=ss.mkdel(this,this.$3);this.$5=new dijit.form.Button(e);var L=this.containerNode;L.appendChild(document.createElement('br'));L.appendChild(this.$6.domNode);L.appendChild(this.$5.domNode)}var hT=function(hU){hU.stopPropagation()};$(this.domNode).on(this.$1('touchstart'),hT).on(this.$1('touchend'),hT).on(this.$1('click'),hT).on(this.$1('mousedown'),hT)},destroy:function(){$(this.domNode).off('touchstart').off('touchcancel').off('touchend').off('touchmove').off('click').off('mousedown').off('mousemove').off('mouseup');this.inherited(arguments)},show:function(){this.inherited(arguments);this._position();this.domNode.style.display=''},hide:function(){this.inherited(arguments);this.domNode.style.display='none'},_setup:function(){var e=this.domNode;if(!!this.titleBar&&this.draggable){var L=new Object;L.handle=this.titleBar;L.timeout=0;this._moveable=new dojo.dnd.Moveable(e,L);dojo.subscribe('/dnd/move/stop',ss.mkdel(this,this._endDrag))}else{e.classList.add('dijitDialogFixed')}var hT={};hT['id']=this.id+'_underlay';hT['class']=_.map(this.$2(),function(hW){return hW+'_underlay'}).join(' ');this._underlay=new tableau.base.widget.DialogUnderlay(hT);var hU=this._underlay;var hV=new Object;hV.node=e;hV.duration=this.duration;hV.onBegin=ss.mkdel(hU,hU.show);this._fadeIn=dojo.fadeIn(hV);hV=new Object;hV.node=e;hV.duration=this.duration;hV.onEnd=function(){e.style.visibility='hidden';e.style.top='-9999px';hU.hide()};this._fadeOut=dojo.fadeOut(hV)},uninitialize:function(){if(!!this.$6){this.$6.destroyRecursive()}if(!!this.$5){this.$5.destroyRecursive()}this.$6=this.$5=null;this.inherited(arguments)},_position:function(){if(!$(document.body).hasClass('dojoMove')){spiff.SpiffBrowserViewport.getViewport(ss.mkdel(this,function(e){var L=this.domNode;var hT=this._relativePosition;var hU=(ss.isValue(hT)?null:dojo.marginBox(L));var hV=e.get_dimensions().l;var hW=e.get_dimensions().t;$(L).css(ss.mkdict(['left',Math.floor(hV+(ss.isValue(hT)?hT.l:((e.get_dimensions().w-hU.w)/2)))+'px','top',Math.floor(hW+(ss.isValue(hT)?hT.t:((e.get_dimensions().h-hU.h)/2)))+'px']))}))}},onHide:function(){this.inherited(arguments);window.setTimeout(ss.mkdel(this,this.destroyRecursive),500)},$1:function(e){return e.toString()},$2:function(){return this['class'].split(new RegExp('\\s'))},$4:function(e){this.$0(true,e)},$3:function(e){this.$0(false,e)},$0:function(e,L){spiff.EventUtil.stopEvent(L);this.hide();if(e){if(ss.isValue(this.onYes)){this.onYes()}}else if(ss.isValue(this.onNo)){this.onNo()}}},dijit.Dialog);ss.initClass(ef,a,{});ss.initClass(eg,a,{get_applyDelay:function(){throw new ss.NotSupportedException},get_isTypeInList:function(){return false},get_oFilter:function(){return this.oFilter},get_quickFilterViewModel:function(){return this.filterViewModel},get_viewModel:function(){return this.filterViewModel},get_dijitDeclaredClass:function(){return this.declaredClass},get_mode:function(){return this.$c},set_mode:function(e){window.alert(tab.Strings.noLoc('Bad interface call to set LegacyHierarchicalQuickFilter.Mode'))},get_session:function(){return this.session},set_session:function(e){this.session=e},get_domain:function(){var e=null;if(!!this.get_attributes()['values']){e=this.get_attributes()['values']}return e},get_attributes:function(){return this.attributes},set_attributes:function(e){this.attributes=e},get_field:function(){return this.field},get_stateId:function(){return this.stateId},set_stateId:function(e){this.stateId=e},get_modeContents:function(){return null},get_domContent:function(){return this.domContent},set_domContent:function(e){this.domContent=e},get_dijitDomNode:function(){return this.domNode},set_dijitDomNode:function(e){this.domNode=e},get_searchWidget:function(){return this.searchWidget},set_searchWidget:function(e){this.searchWidget=e},destroy:function(){this.tree.remove_notifyChangeCalled(ss.mkdel(this,this.$8));this.searchWidget.destroy();this.searchWidget=null;this.tree.destroy();this.tree=null;this.inherited(arguments)},applyChangesByChangelist:function(e){window.alert(tab.Strings.noLoc('Bad interface call on LegacyHierarchicalQuickFilter.ApplyChangesByChangelist'))},postCreate:function(){if(this.filterViewModel.get_filterType()!=='Hierarchical'){}this.$a=ss.mkdel(this,function(){return this.stateId});var e={};e.qf=this;this.searchWidget=new tableau.base.widget.SearchWidget(e,this.searchDiv);this.searchWidget.startup();this.initFromState(true);this.$7();var L=this.tree;_.each(this.tree.rootNode.getChildren(),function(hT){if(hT.isExpandable){L._expandNode(hT)}});eg.$0(this.textStyle,this.backgroundColor)},$2:function(){if(!!tab.BrowserSupport.get_isIE()){var e=$(this.domContent);e.css('zoom','1');tab.WindowHelper.requestAnimationFrame(function(){fR.manualFadeAnimation(e,96,100,8,3875,true)})}},shouldHideLevelButtons:function(){return this.attributes['show-levels']==='false'},shouldHideSearchButton:function(){return this.hideEmptyTitlebar()||this.attributes['show-search']==='false'},shouldHideContextMenu:function(){if(tsConfig.current_sheet_type==='dashboard'&&tsConfig.is_authoring){return true}var e=tab.CommandsPresModelWrapper.create(this.getContextMenuCommands());return this.hideEmptyTitlebar()||ss.isNullOrUndefined(e)||e.get_commandItems().length===0},resize:function(e){dojo.marginBox(this.domNode,e);this.layout(null)},isSingleSelect:function(){return this.$c!=='checklist'},initMode:function(){this.$c=this.$5()},$5:function(){var e='checklist';if(ss.keyExists(this.attributes,'mode')){e=this.attributes['mode']}return e},createTreeDom:function(){var e=new tableau.base.widget.hsm.TreeModel(this.session,this.field,this.oFilter.levels.length,this.isSingleSelect());e.onChildrenChange(e.root,e.itemsFromTable(this.oFilter.table[0],0));var L=new Object;L.model=e;L.showRoot=false;this.tree=new tableau.base.widget.hsm.Tree(L);this.tree.add_notifyChangeCalled(ss.mkdel(this,this.$8));this.connect(this.tree,'_onTreeFocus',ss.mkdel(this,this.updateRangeAnchor));this.domContent.appendChild(this.tree.domNode)},hideEmptyTitlebar:function(){return ss.isNullOrEmptyString(this.titleHTML)},setTitleSize:function(e,L){this.$d=e;this.$e=L},initFromState:function(e){if(!ss.referenceEquals(this.$5(),this.$c)){$(this.domContent).empty()}if(!this.domContent.hasChildNodes()){this.initMode();this.createTreeDom()}var L=tableau.format.formatColumnDisplayName(this.oFilter,false,true);this.domTitleBar.setAttribute('title',L);this.updateTitleBar();if(ss.isValue(this.domLevelContainer)){$(this.domLevelContainer).empty()}if(this.shouldHideLevelButtons()){if(ss.isValue(this.domLevelBox)){this.domLevelBox.setAttribute('display','none')}}else{this.$3()}if(!e){this.tree.model.refresh(this.oFilter.table)}if(ss.isValue(this.tree.anchor)){this.tree.anchor.labelNode.classList.add('anchorSelection');this.tree.anchor.domNode.classList.add('anchorSelectionNode')}else{this.tree.anchor=null}this.conditionals.init(this.oFilter.condition,this.oFilter.limit);this.layout(null);if(ss.isValue(this.searchWidget)){this.searchWidget.updateSearch()}var hT=0;if(!this.metricsOnly){var hU=ss.mkdel(this,function(hV,hW){if(!this._hasDomNode(hV)){return}if(hW){$(hV.domNode).removeClass('HFButtonR1 HFButtonR2');hV.domNode.classList.add('HFButtonHide')}else{hT+=1;hV.domNode.classList.remove('HFButtonHide');hV.domNode.classList.add('HFButtonR'+hT)}$(hV.domNode).css('background-color',this.backgroundColor)});hU(this.menuButton,this.shouldHideContextMenu());hU(this.searchButton,this.shouldHideSearchButton());this.domControls.classList.add('HF'+hT+'Button')}},$3:function(){var e;if(ss.isNullOrUndefined(this.domLevelBox)){return}e=document.createElement('td');e.appendChild(document.createTextNode(' '));e.classList.add('HFLevelSpacer');for(var L=0;L<this.oFilter.levels.length;L++){e=document.createElement('td');e.appendChild(document.createTextNode(L.toString()));this.domLevelContainer.appendChild(e);if(this.$c!=='radiolist'){if(this.oFilter.levels[L]===0){e.classList.add('HFLevelAllSelected')}else if(this.oFilter.levels[L]===1){e.classList.add('HFLevelNoneSelected')}else{e.classList.add('HFLevelSomeSelected')}}if(L===0){e.classList.add('HFLevelFirst')}else if(L<this.oFilter.levels.length-1){e.classList.add('HFLevelNonLeaf')}else{e.classList.add('HFLevelLast')}this.connect(e,'onclick',ss.mkdel(this,this.onLevelClick))}},doMenu:function(){this.showContextMenu(this.menuButton.domNode)},$0:function(){var e=[];var L=[];var hT=[].concat.apply([],this.tree.rootNode.getChildren());var hU='filter-delta';var hV=[];var hW=[];if(hT.length===0){return}do{var hX=hT.shift();var hY=hX.item.tuple;if(hX.item.schema.length>e.length){e=hX.item.schema}if(hX.isChecked&&!hY.s){hY.s=true;L.push(hY);if(this.isSingleSelect()){hU='filter-replace';break}}else if(!hX.isChecked&&hY.s){delete hY['s'];L.push(hY)}hT=hT.concat.apply(hT,hX.getChildren())}while(hT.length!==0);var hZ=L;if(hZ.length!==0){for(var ia=0;ia<hZ.length;ia++){var ib=hZ[ia].t.length-1;var ic=hZ[ia].t[ib].v;if(hZ[ia].s){hV.push(ic)}else{hW.push(ic)}}tab.FilterClientCommands.doMemberHierarchialFilter(this.session.get_visualId(),this.field,hV,hW,hU)}},$1:function(e,L){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(L)){return}var hT=this.tree.getDepth(L);var hU=this.tree.findEarlierNode(L,e,hT);var hV=(ss.referenceEquals(hU,L)?e:L);var hW=hU.item.tuple.t;var hX=hV.item.tuple.t;var hY=hW[hW.length-1].v;var hZ=hX[hX.length-1].v;var ia={};var ib={};var ic='filter-delta';if(e.isChecked){ia[this.RANGE_START]=hY;ia[this.RANGE_END]=hZ}else{ib[this.RANGE_START]=hY;ib[this.RANGE_END]=hZ}tab.FilterClientCommands.doRangeHierarchialFilter(this.session.get_visualId(),this.field,ia,ib,ic)},updateStateFromSearch:function(e){var L={};var hT=e.tuples;for(var hU=0;hU<hT.length;hU++){L[hT[hU].d]=hT[hU].s===true}var hV=[].concat.apply([],this.tree.rootNode.getChildren());while(hV.length!==0){var hW=hV.shift();var hX=hW.item.tuple;var hY=L[hX.d];if(ss.isValue(hY)){if(hY!==hX.s){if(hY){hW.isChecked=true;hW.labelNode.firstChild.checked=true;hX.s=true}else{hW.isChecked=false;hW.labelNode.firstChild.checked=false;delete hX['s']}}}else if(this.isSingleSelect()&&hX.s){hW.isChecked=false;hW.labelNode.firstChild.checked=false;delete hX['s']}hV=hV.concat.apply(hV,hW.getChildren())}},updateRangeAnchor:function(e){if(this.isSingleSelect()){return}if(ss.referenceEquals(this.tree.anchor,e)){return}if(ss.isValue(this.tree.anchor)){this.tree.anchor.labelNode.classList.remove('anchorSelection');this.tree.anchor.domNode.classList.remove('anchorSelectionNode');this.tree.anchor.labelNode.classList.remove('dijitTreeLabelFocused');this.tree.prev_anchor=this.tree.anchor}this.tree.anchor=e;this.tree.anchor.labelNode.classList.add('anchorSelection');this.tree.anchor.domNode.classList.add('anchorSelectionNode')},$8:function(e){if(e.target.tagName.toLowerCase()==='input'){this._applyTimer=tab.MiscUtil.clearTimeout(this._applyTimer);this.stateId++;var L=dijit.getEnclosingWidget(e.target.parentNode);if(!ss.referenceEquals(this.tree.anchor,L)){this.updateRangeAnchor(L)}if(e.shiftKey===true&&ss.isValue(this.tree.prev_anchor)&&this.tree.getDepth(this.tree.prev_anchor)===this.tree.getDepth(this.tree.anchor)&&!this.isSingleSelect()){this.updateCheckboxRange(this.tree.anchor,this.tree.prev_anchor);this.$1(this.tree.anchor,this.tree.prev_anchor)}else{this._applyTimer=window.setTimeout(ss.mkdel(this,this.$0),this.$9)}}},updateCheckboxRange:function(e,L){var hT=this.tree.getDepth(L);var hU=this.tree.findEarlierNode(L,e,hT);var hV=(ss.referenceEquals(hU,L)?e:L);var hW=e.isChecked;var hX=hU;this.tree.anchorIsStart=!ss.referenceEquals(hU,L);while(ss.isValue(hX)&&hX.isTreeNode&&!ss.referenceEquals(hX,hV)){hX.labelNode.firstChild.checked=hW;hX.isChecked=hW;hX=this.$6(hX,hT)}hV.labelNode.firstChild.checked=hW;hV.isChecked=hW},$6:function(e,L){var hT=L;var hU=e;var hV=e.getNextSibling();if(ss.isValue(hV)){return hV}while(ss.isNullOrUndefined(hV)&&hT>=0){hU=hU.getParent();hT-=1;hV=hU.getNextSibling();while(ss.isValue(hV)){var hW=this.$4(hV,hT,L);if(ss.isValue(hW)){return hW}hV=hV.getNextSibling()}}if(hT>=0){return hV}return null},$4:function(e,L,hT){if(ss.isNullOrUndefined(e)){return null}if(L<0){return null}if(L>hT){return null}if(L===hT){return e}if(e.hasChildren()){var hU=e.getChildren();var hV=hU.length;for(var hW=0;hW<hV;hW++){var hX=this.$4(hU[hW],L+1,hT);if(ss.isValue(hX)){return hX}}}return null},toggleSearchUI:function(){if(ss.isValue(this.searchWidget)){this.searchWidget.toggleUI()}},onLevelClick:function(e){var L=e.target;var hT;var hU=[];var hV=[];if(L.tagName.toLowerCase()!=='td'){return}spiff.EventUtil.stopEvent(e);if(this.isSingleSelect()){return}var hW=parseInt(L.textContent,10);if(this.oFilter.levels[hW]===0){hT=false;L.classList.remove('HFLevelAllSelected');L.classList.remove('HFLevelSomeSelected');L.classList.add('HFLevelNoneSelected')}else{hT=true;L.classList.remove('HFLevelNoneSelected');L.classList.remove('HFLevelSomeSelected');L.classList.add('HFLevelAllSelected')}if(hT){hU.push(hW)}else{hV.push(hW)}if(hU.length>0||hV.length>0){tab.FilterClientCommands.doLevelHierarchialFilter(this.session.get_visualId(),this.field,hU,hV,'filter-delta')}},layout:function(e){var L=$(this.domContent);L.hide();this.domNode.classList.remove('HFHorizontal');var hT=dojo.contentBox(this.domNode);var hU=dojo.marginBox(this.domTitleBar);var hV=(ss.isValue(this.domLevelBox)?dojo.marginBox(this.domLevelBox):ss.mkdict(['w',0,'h',0]));var hW=dojo.marginBox(this.conditionals.domNode);var hX=ss.mkdict(['h',0]);this.updateTitleBar();this.resetTitleSize();if(this.$d>0){hU.h=this.$d;dojo.marginBox(this.domTitleBar,ss.mkdict(['h',hU.h]))}if(this.$e>0){hU.w=this.$e;dojo.marginBox(this.domTitleBar,ss.mkdict(['w',hU.w]))}tableau.util.setupTitleEllipsis($(this.domTitleBar));var hY=hU.h;var hZ=hT.w;if(!this.hideEmptyTitlebar()&&this.$e>0){this.domNode.classList.add('HFHorizontal');this.domTitleBar.style.cssFloat='left';if(ss.isValue(this.domLevelBox)){this.domLevelBox.style.cssFloat='left'}if(this._hasDomNode(this.menuButton)){this.menuButton.domNode.classList.add('HFButtonHide')}if(this._hasDomNode(this.searchButton)){this.searchButton.domNode.classList.add('HFButtonHide')}hZ-=hU.w;hY=0}else{if(!this.shouldHideContextMenu()&&this._hasDomNode(this.menuButton)){this.menuButton.domNode.classList.remove('HFButtonHide')}if(!this.shouldHideSearchButton()&&this._hasDomNode(this.searchButton)){this.searchButton.domNode.classList.remove('HFButtonHide')}this.domTitleBar.style.cssFloat='none';if(ss.isValue(this.domLevelBox)){this.domLevelBox.style.cssFloat='none'}}if(ss.isValue(this.searchWidget)&&this.searchWidget.get_isVisible()){var ia=hT.h-hY-hV.h-hW.h;this.searchWidget.layout(ia);hX=dojo.marginBox(this.searchWidget.get_dijitDomNode())}var ib=hT.h-hY-hV.h-hW.h-hX.h;if(ss.isValue(this.domLevelBox)){dojo.marginBox(this.domLevelBox,ss.mkdict(['w',hZ]))}dojo.marginBox(this.domContent,ss.mkdict(['h',ib,'w',hZ]));this.$2();L.show()},_hasDomNode:function(e){return ss.isValue(e)&&ss.isValue(e.domNode)},$7:function(){cB.localizeDojoLabeledControls([{item1:this.searchButton,item2:'QuickFilterSearch'}])}},eq);ss.initClass(eh,a,{get_filterType:function(){return this.$2.get_filterType()},get_legacyHierarchicalQuickFilterModel:function(){return this.$2},get_hierarchyTables:function(){return this.$2.get_hierarchyTables()},get_levels:function(){return this.$2.get_levels()},get_isSearchable:function(){return this.$2.get_isSearchable()}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,dD]);ss.initClass(ei,a,{},eu,[ss.IDisposable]);ss.initClass(ej,a,{get_domRoot:function(){return this.get_template().domRoot},get_domNode:function(){return this.get_template().domRoot.get(0)},$f:function(){return this.legacyLegendViewModel.get_viewSession()},get_serverRenderedModel:function(){return this.legacyLegendViewModel.get_presModel()},get_legendTemplate:function(){return this.get_template()},onAddedToDom:function(){ss.makeGenericType(bi,[ek]).prototype.onAddedToDom.call(this);this.$i=(new Date).getTime();this.eventHandler=this.makeViewerInputHandler(this.$f(),this.get_legendTemplate().get_contentArea().get(0));this.get_viewModel().$h().add_refreshLegacyLegendImages(ss.mkdel(this,this.refreshImages));hw.add_selectionChanged(ss.mkdel(this,this.onSelectionChanged));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().$h().remove_refreshLegacyLegendImages(ss.mkdel(this,this.refreshImages));hw.remove_selectionChanged(ss.mkdel(this,this.onSelectionChanged))})));this.iterButtons=new dW(this.get_legendTemplate().get_contentArea(),true,12);this.updateHighlightStatus();this.hideControls();this.doConnections();this.disposables.add$1(spiff.ClickHandler.targetAndClick(this.get_legendTemplate().domHighlighterHolder,ss.mkdel(this,this.toggleHighlight)));this.get_legendTemplate().domImageBody.on('load',ss.mkdel(this,function(e){this.$d();this.setBodySize()}));this.get_legendTemplate().domImageBody.on('error',ss.mkdel(this,function(e){this.onImageLoadFailed()}));this.refreshImages()},dispose:function(){this.legacyLegendViewModel.remove_newLegacyLegend(ss.mkdel(this,this.handleNewLegacyLegend));if(ss.isValue(this.eventHandler)){this.eventHandler.dispose();this.eventHandler=null}this.iterButtons.dispose();ss.makeGenericType(bi,[ek]).prototype.dispose.call(this)},handleNewLegacyLegend:function(){var e=this.legacyLegendViewModel.get_presModel();if(ss.isValue(this.get_serverRenderedModel())&&this.get_serverRenderedModel().dWr===e.dWr&&ss.referenceEquals(this.get_serverRenderedModel().R_X,e.R_X)){this.$d();this.updateHighlightStatus()}else{this.refreshImages()}this.layout()},handleValidStateChanged:function(){if(this.legacyLegendViewModel.$g()){this.refreshImages()}},onViewModelPropertyChanged:function(e,L){if(ss.compareStrings(L.get_propertyName(),'urlCacheInfo',false)===0){this.refreshImages()}else if(ss.compareStrings(L.get_propertyName(),'ParentZoneSizeChanged',false)===0){this.$e();if(this.get_legendTooltip().get_isTooltipShown()){this.get_legendTooltip().repositionWithinRegion(tab.DomUtil.getRectXY(this.get_legendTemplate().domBox))}}},$e:function(){var e=this.legacyLegendViewModel.$4();if(ss.isValue(e)&&!tab.SizeUtil.equals(e,this.$g)){this.get_legendTemplate().domBox.css(ss.mkdict(['width',e.w+'px','height',e.h+'px']));this.$g=e}},get_visualId:function(){return tab.ModelUtils.getVisualId(this.legacyLegendViewModel.get_sheetName())},allowHover:function(){},disallowHover:function(){},doConnections:function(){},cancelHover:function(){},hideControls:function(){this.get_legendTemplate().domHighlighterHolder.css('visibility','hidden');this.get_domRoot().removeClass('tvmodeSelect')},updateHighlightStatus:function(){this.get_legendTemplate().domHighlighterHolder.toggleClass('tabHighlightEnabled',this.get_serverRenderedModel().MJI);this.get_legendTemplate().domHighlighterHolder.toggleClass('tabHighlightDisabled',!this.get_serverRenderedModel().MJI)},refreshImages:function(){var e=this.get_viewModel().$f();this.$h+=1;this.bodySize=null;var L=this.$h+'Z'+this.$i;var hT=(ss.isValue(this.get_serverRenderedModel().dWr)?this.get_serverRenderedModel().dWr.toString():'');this.disallowHover();this.get_legendTemplate().domBox.addClass('LegendBusy');if(tab.BrowserSupport.get_isSafari()||this.get_serverRenderedModel().fXK){this.get_legendTemplate().get_contentArea().css('overflow','hidden')}var hU=this.$f().formatLegendRegionTileURL(e,this.get_serverRenderedModel().jhL+'-body',this.get_serverRenderedModel().R_X,hT,L);this.get_legendTemplate().domImageBody.attr('src',hU)},onImageLoadFailed:function(){this.get_legendTemplate().domContent.css('visibility','hidden')},onSelectionChanged:function(e,L){if(!ss.referenceEquals(e,this.get_viewModel().$h().get_sheetName())){return}if(ss.isNullOrUndefined(L)){return}this.allowHover()},getDocumentPoint:function(e){var L={x:0,y:0};if(this.get_legendViewModel().get_titleInline()&&!this.get_serverRenderedModel().HNR){L.x=-this.get_legendViewModel().get_titleWidth();L.y=this.get_legendViewModel().get_titleHeight()}return{x:e.pageX+L.x,y:e.pageY+L.y}},documentPointToContentPoint:function(e){var L=this.get_legendTemplate().get_contentArea().offset();return{x:e.x-tab.DoubleUtil.roundToInt(L.left)+this.get_legendTemplate().get_contentArea().scrollLeft()+this.bodyOffset.x,y:e.y-tab.DoubleUtil.roundToInt(L.top)+this.get_legendTemplate().get_contentArea().scrollTop()+this.bodyOffset.y}},onHover:function(e){var L=this.getDocumentPoint(e);var hT=this.documentPointToContentPoint(L);if('map'!==this.get_serverRenderedModel().jhL){this.get_legendTooltip().hoverOverCoordinates(L,hT,'legenditem',this.legacyLegendViewModel.get_regionType())}},toggleHighlight:function(){this.get_serverRenderedModel().MJI=!this.get_serverRenderedModel().MJI;this.updateHighlightStatus();this.$f().toggleHighlight(this.legacyLegendViewModel.get_regionType(),this.get_serverRenderedModel().R_X)},setBodySize:function(){this.get_legendTemplate().domContent.css('visibility','');this.allowHover();this.get_legendTemplate().domBox.removeClass('LegendBusy');this.bodySize={w:tab.DoubleUtil.roundToInt(this.get_legendTemplate().domImageBody.width()),h:tab.DoubleUtil.roundToInt(this.get_legendTemplate().domImageBody.height())};this.layout()},layout:function(){if(!!!this.bodySize){return}this.drawTitle();this.get_domRoot().removeClass('LegendHorizontal');if(this.get_serverRenderedModel().fXK){this.get_domRoot().addClass('CategoricalLegend')}else{this.get_domRoot().addClass('QuantitativeLegend')}var e=this.$g;var L={w:e.w,h:e.h};this.bodyOffset={x:0,y:0};if(this.get_legendViewModel().get_titleInline()){L.w=e.w-this.get_legendViewModel().get_titleWidth();this.bodyOffset.x=this.get_serverRenderedModel().nkG1}else{L.h=e.h-this.get_legendViewModel().get_titleHeight();this.bodyOffset.y=this.get_serverRenderedModel().jZr}this.layoutButtons(L)},getFieldNameVec:function(){if(ss.isValue(this.get_serverRenderedModel().R_X)){return this.get_serverRenderedModel().R_X.toString().split('\n')}return null},$d:function(){var e=this.get_serverRenderedModel();if(!e.fXK){this.get_legendTemplate().domImageBody.css('width','inherit')}else if(this.get_serverRenderedModel().ICz!=='vertical'){var L=e.gCJ;if(!!!e.HNR&&ss.isValue(e.jZr)&&e.jZr!==0){L-=e.jZr+1}this.get_legendTemplate().domImageBody.css('height',L+'px');this.get_legendTemplate().domImageBody.css('width','')}else{this.get_legendTemplate().domImageBody.css('width',e.mi_+'px');this.get_legendTemplate().domImageBody.css('height','')}},layoutButtons:null,makeViewerInputHandler:null},ss.makeGenericType(bi,[ek]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[ek])]);ss.initClass(ek,a,{add_newLegacyLegend:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_newLegacyLegend:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},add_validStateChanged:function(e){this.$3$2=ss.delegateCombine(this.$3$2,e)},remove_validStateChanged:function(e){this.$3$2=ss.delegateRemove(this.$3$2,e)},get_presModel:function(){return this.$i.pm},get_viewId:function(){return tab.ModelUtils.findContentDashboard().getViewId(this.get_sheetName())},get_sessionId:function(){return tab.CommandController.get().get_legacySession().get_id()},get_sheetName:function(){return this.get_parentZoneVM().get_associatedSheet()},get_viewSession:function(){return tab.ModelUtils.getViewSession(this.get_sheetName())},$h:function(){if(ss.isNullOrUndefined(this.$j)){this.$j=_.find(U.get_instance().get_client().get_viewControllers(),ss.mkdel(this,function(e){return ss.referenceEquals(e.get_sheetName(),this.get_sheetName())}))}return this.$j},$f:function(){return this.get_visualModel().get_cacheUrlInfo()},$g:function(){return this.get_parentZoneVM().get_valid()},get_titleHtml:function(){return this.get_presModel().XjF},get_titleInline:function(){var e=this.$5();if(this.get_presModel().HNR===false&&e.h===0&&e.w>0){return true}else{return this.get_presModel().HNR}},get_regionType:function(){var e='color';switch(this.get_presModel().jhL){case'color':{e='color';break}case'size':{e='size';break}case'shape':{e='shape';break}case'map':{e='map';break}default:{break}}return e},get_borderWidth:function(){if(ss.isValue(this.get_parentZoneVM())){return this.get_parentZoneVM().get_model().borderWidth()}else{return 0}},get_titleHeight:function(){var e=this.get_presModel().jZr;if(e===0){e=this.$5().h}return e},get_titleWidth:function(){var e=(this.get_presModel().fXK?this.get_presModel().nkG1:this.$5().w);if(e===0){e=this.$5().w}return e},handleZoneValidStateChanged:function(){this.$e()},dispose:function(){this.$i.remove_newLegacyLegend(ss.mkdel(this,this.handleNewLegacyLegend));this.get_visualModel().remove_urlInfoCacheChange(ss.mkdel(this,this.$c));this.$k.remove_validStateChanged(ss.mkdel(this,this.handleZoneValidStateChanged));es.prototype.dispose.call(this)},handleNewLegacyLegend:function(){this.$d()},$d:function(){if(ss.isValue(this.$3$1)){this.$3$1()}},$e:function(){if(ss.isValue(this.$3$2)){this.$3$2()}},$c:function(){this.notifyPropertyChanged('urlCacheInfo')}},es,[ss.IDisposable,spiff.IViewModel]);ss.initClass(em,a,{get_attributes:function(){return this.attributes},get_presModel:function(){return this.presModel},get_oCurrentMin:function(){return this.oCurrentMin},get_oCurrentMax:function(){return this.oCurrentMax},get_editingFormat:function(){if(ss.isNullOrUndefined(this.$e)){this.$e=tableau.format.deriveNumberEditingFormat(this.oFilter.format)}return this.$e},get_quickFilterViewModel:function(){return this.filterViewModel},postCreate:function(){if(this.filterViewModel.get_filterType()!=='Quantitative'){}this.domLowerInput.style.display='none';this.domUpperInput.style.display='none';$(this.domLowerInput).on('blur',ss.mkdel(this,this.hideLowerInput)).on('keydown',ss.mkdel(this,this.lowerInputKeyDown)).on('keypress',ss.mkdel(this,this.checkLowerEnter));$(this.domUpperInput).on('blur',ss.mkdel(this,this.hideUpperInput)).on('keydown',ss.mkdel(this,this.upperInputKeyDown)).on('keypress',ss.mkdel(this,this.checkUpperEnter));$(document.body).on('mousedown.'+this.domNode.id,ss.mkdel(this,function(hT){if(!ss.referenceEquals(hT.target,this.domLowerInput)){this.domLowerInput.blur()}if(!ss.referenceEquals(hT.target,this.domUpperInput)){this.domUpperInput.blur()}}));this.timestamp=(new Date).getTime();this.localize();var e=tableau.format.formatColumnDisplayName(this.oFilter,false,true);this.domTitleBar.setAttribute('title',e);this.updateTitleBar();this.$9();var L=this.oFilter.table;this.$3(L.min.v,L.max.v)},$9:function(){if(this.metricsOnly){return}var e=0;var L=ss.mkdel(this,function(hT,hU){if(hU){$(hT.domNode).removeClass(this.classQFButtonR+'1 '+this.classQFButtonR+'2 '+this.classQFButtonR+'3');hT.domNode.classList.add(this.classQFButtonHide)}else{e+=1;hT.domNode.classList.remove(this.classQFButtonHide);hT.domNode.classList.add(this.classQFButtonR+e)}});L(this.menuButton,this.shouldHideContextMenu());L(this.domainButton,this.shouldHideDomainButton());L(this.resetButton,this.shouldHideResetButton());this.domControls.classList.add(this.classQF+e+'Button');$(this.menuButton.domNode).css('background-color',this.backgroundColor);$(this.domainButton.domNode).css('background-color',this.backgroundColor);$(this.resetButton.domNode).css('background-color',this.backgroundColor)},$3:function(e,L){if(this.isMaxRange(e,L)){fv.disableResetButton(this.resetButton)}else{fv.enableResetButton(this.resetButton)}},isMaxRange:function(e,L){var hT=ss.isValue(e);var hU=ss.isValue(L);if(hT&&hU&&this.oFilter.table.included!=='include-all'){return false}var hV=this.oFilter.range.min.v;var hW=this.oFilter.range.max.v;if(!hT){e=hV}if(!hU){L=hW}return ss.isValue(hV)&&ss.isValue(e)&&tab.DoubleUtil.isLessThanOrApproximatelyEqual(ss.unbox(e),ss.unbox(hV))&&(ss.isValue(hW)&&ss.isValue(L)&&tab.DoubleUtil.isGreaterThanOrApproximatelyEqual(ss.unbox(L),ss.unbox(hW)))},postMixInProperties:function(){this.inherited(arguments);this.templateRoot=dojo.moduleUrl('tableau.base.widget','templates').toString()},destroy:function(e){if(ss.isValue(this.$g)){this.$g.dispose()}$(this.domLowerInput).off('blur').off('keydown').off('keypress');$(this.domUpperInput).off('blur').off('keydown').off('keypress');$(document.body).off('mousedown.'+this.domNode.id);this.showContextMenu=null;this.requestSetAttributes=null;this.getContextMenuCommands=null;this.inherited(arguments)},$1:function(){return null},showFullDateTimes:function(e,L){return 0},getPrecision:function(){return this.precision},hasCurrentMin:function(){return tab.LegacyFilterModel.isNormalValue(this.oCurrentMin)},hasCurrentMax:function(){return tab.LegacyFilterModel.isNormalValue(this.oCurrentMax)},getRangeMin:function(){return(ss.isValue(this.rangeMinOverride)?this.rangeMinOverride:this.oRangeMin.v)},getRangeMax:function(){return(ss.isValue(this.rangeMaxOverride)?this.rangeMaxOverride:this.oRangeMax.v)},getRange:function(){var e=this.getRangeMin();var L=this.getRangeMax();if(ss.isValue(e)&&ss.isValue(L)){return ss.Nullable$1.sub(L,e)}return null},hasDataMin:function(){var e=this.presModel.ps$;return tab.LegacyFilterModel.isNormalValue(this.oDataMin)&&ss.keyExists(e,'IIq'.toString())},hasDataMax:function(){var e=this.presModel.ps$;return tab.LegacyFilterModel.isNormalValue(this.oDataMax)&&ss.keyExists(e,'Wba'.toString())},getDataMin:function(){return this.oDataMin.v},getDataMax:function(){return this.oDataMax.v},getCurMin:function(){return this.oCurrentMin.v},getCurMax:function(){return this.oCurrentMax.v},getMinText:function(){return this.speciallyFormatDataValueForQuantitativeQF(this.oCurrentMin)},getMaxText:function(){return this.speciallyFormatDataValueForQuantitativeQF(this.oCurrentMax)},getLowerPos:function(){return this.domLowerImg.offsetLeft-this.oMetrics.absOffset+(this.$f-1)},setLowerPos:function(e){this.domLowerImg.style.left=e+this.oMetrics.absOffset-(this.$f-1)+'px'},$4:function(){return this.lastLowerOffset!==this.domLowerImg.offsetLeft},$2:function(){return this.domUpperImg.offsetLeft-this.oMetrics.absOffset},setUpperPos:function(e){this.domUpperImg.style.left=e+this.oMetrics.absOffset+'px'},$5:function(){return this.lastUpperOffset!==this.domUpperImg.offsetLeft},isRange:function(){switch(this.oFilter.table.included){case'include-all':case'include-null':case'include-non-null':{return false}default:{return true}}},shouldHideDomainButton:function(){return this.hideEmptyTitlebar()||this.attributes['show-morefewerbutton']!=='true'},shouldHideContextMenu:function(){if(tsConfig.current_sheet_type==='dashboard'&&tsConfig.is_authoring){return true}var e=tab.CommandsPresModelWrapper.create(this.getContextMenuCommands());return this.hideEmptyTitlebar()||ss.isNullOrUndefined(e)||e.get_commandItems().length===0},shouldHideResetButton:function(){return this.hideEmptyTitlebar()||this.attributes['show-all']==='false'||this.attributes['show-filter-state']==='false'},computePrecision:function(e){var L=this.getRange();var hT=((ss.isValue(L)&&e!==0)?(ss.unbox(L)/e):1);var hU=Math.log(hT)/Math.log(10);this.precision=((hU>0)?Math.ceil(hU):Math.floor(hU));if(this.precision===Number.NEGATIVE_INFINITY||isNaN(this.precision)){this.precision=5}},$a:function(e,L,hT){var hU;var hV=e*ss.coalesce(this.getRange(),0)/L;if(this.precision>=0){return Math.round(hT+hV)}hU=Math.pow(10,-this.precision);return Math.round((hT+hV)*hU)/hU},clearDataRange:function(){if(ss.isValue(this.oDataMin)){this.oDataMin=null}if(ss.isValue(this.oDataMax)){this.oDataMax=null}this.domHighlight.style.visibility='hidden'},setMinValue:function(e){if(ss.isNullOrUndefined(e)||isNaN(e)){return}if(this.hasCurrentMax()&&ss.Nullable$1.gt(e,this.getCurMax())){e=ss.unbox(this.getCurMax())}if(this.oCurrentMin.t==='i'){this.oCurrentMin.v=Math.round(e)}else{this.oCurrentMin.v=e}this.domLowerText.textContent=this.getMinText();var L=this.getRangeMin();if(this.hasCurrentMin()&&(!ss.isValue(L)||ss.Nullable$1.lt(this.getCurMin(),L))){this.rangeMinOverride=this.getCurMin()}},setMaxValue:function(e){if(ss.isNullOrUndefined(e)||isNaN(e)){return}if(this.hasCurrentMin()&&ss.Nullable$1.lt(e,this.getCurMin())){e=ss.unbox(this.getCurMin())}if(this.oCurrentMax.t==='i'){this.oCurrentMax.v=Math.round(e)}else{this.oCurrentMax.v=e}this.domUpperText.textContent=this.getMaxText();var L=this.getRangeMax();if(this.hasCurrentMax()&&(!ss.isValue(L)||ss.Nullable$1.gt(this.getCurMax(),L))){this.rangeMaxOverride=this.getCurMax()}},removeRangeOverride:function(){this.rangeMinOverride=null;this.rangeMaxOverride=null},getValueFromInput:function(e,L){var hT={t:L.t,v:ss.unbox(L.v)};return tableau.format.parseQuantitativeDataValue(e.value,L.t,this.get_editingFormat(),this.showFullDateTimes(this.get_editingFormat()),hT)},speciallyFormatDataValueForQuantitativeQF:function(e){return tableau.format.formatDataValue(e,this.oFilter.role,this.oFilter.format,null,0)},initValues:function(){this.oRangeMin=$.extend({},this.oFilter.range.min);this.oRangeMax=$.extend({},this.oFilter.range.max);this.oDataMin=$.extend({},this.oFilter.data.min);this.oDataMax=$.extend({},this.oFilter.data.max);if(this.isRange()&&(ss.isValue(this.oFilter.table.min.v)||ss.isValue(this.oFilter.table.max.v))){this.oCurrentMin=$.extend({},this.oFilter.table.min);this.oCurrentMax=$.extend({},this.oFilter.table.max)}else{this.oCurrentMin=$.extend({},this.oFilter.range.min);this.oCurrentMax=$.extend({},this.oFilter.range.max)}this.oMetrics={};this.domLowerInput.value=tableau.format.formatDataValue(this.oCurrentMin,this.oFilter.role,this.get_editingFormat(),null,this.showFullDateTimes(this.get_editingFormat()));this.domUpperInput.value=tableau.format.formatDataValue(this.oCurrentMax,this.oFilter.role,this.get_editingFormat(),null,this.showFullDateTimes(this.get_editingFormat()))},setTitleSize:function(e,L){this.titleH=e;this.titleW=L},resize:function(e){tab.DomUtil.setMarginBox(this.domNode,e);this.layout(null)},layout:function(e){var L=200;this.initValues();this.updateTitleBar();if(this.hasCurrentMin()){this.domLowerText.textContent=this.getMinText();this.domLowerText.parentNode.classList.remove(this.classQFDisabled);this.domLowerText.parentNode.classList.add('tab-ctrl-formatted-border-hover')}else{this.domLowerText.textContent=this.speciallyFormatDataValueForQuantitativeQF(this.oRangeMin);this.domLowerText.parentNode.classList.add(this.classQFDisabled);this.domLowerText.parentNode.classList.remove('tab-ctrl-formatted-border-hover')}if(this.hasCurrentMax()){this.domUpperText.textContent=this.getMaxText();this.domUpperText.parentNode.classList.remove(this.classQFDisabled);this.domUpperText.parentNode.classList.add('tab-ctrl-formatted-border-hover')}else{this.domUpperText.textContent=this.speciallyFormatDataValueForQuantitativeQF(this.oRangeMax);this.domUpperText.parentNode.classList.add(this.classQFDisabled);this.domUpperText.parentNode.classList.remove('tab-ctrl-formatted-border-hover')}this.domNode.classList.add(this.classQFHideButtons);this.domNode.classList.remove(this.classQFCenterText);var hT=dojo.marginBox(this.domTitleBar);this.resetTitleSize();var hU=this.titleH===0&&this.titleW===0;if(this.titleH>0||hU){hT.h=this.titleH;dojo.marginBox(this.domTitleBar,ss.mkdict(['h',hT.h]))}if(this.titleW>0||hU){hT.w=this.titleW;dojo.marginBox(this.domTitleBar,ss.mkdict(['w',hT.w]))}tableau.util.setupTitleEllipsis($(this.domTitleBar));var hV=dojo.contentBox(this.domNode);var hW={w:hV.w,h:hV.h};if(!this.metricsOnly){if(this.titleW>0){hW.w=hV.w-hT.w;this.domContent.style.top='';this.domContent.style.left=hT.w+'px'}else if(this.titleH>0){this.domNode.classList.remove(this.classQFHideButtons);hW.h=hV.h-hT.h;this.domContent.style.top=hT.h+'px';this.domContent.style.left=''}else{this.domNode.classList.remove(this.classQFHideButtons);this.domContent.style.top='';this.domContent.style.left=''}}dojo.marginBox(this.domContent,ss.mkdict(['w',hW.w,'h',hW.h]));if(this.attributes['show-slider']!=='false'&&this.attributes['show-readout']!=='false'){this.domNode.classList.remove(this.classQFHideReadout);this.domNode.classList.remove(this.classQFHideSlider);var hX=dojo.contentBox(this.domLowerBound).h+dojo.contentBox(this.domLowerImg).h+8;if(hW.h<hX&&hW.w>200){this.domNode.classList.add(this.classQFCenterText);var hY=this.contentBox(this.domLowerText).w;var hZ=this.contentBox(this.domUpperText).w;this.domLowerBound.style.width='';this.domUpperBound.style.width='';this.domLowerBound.style.top='0';this.domUpperBound.style.top='0';var ia=hW.w-(hY+dojo.contentBox(this.domLowerImg).w)-(hZ+dojo.contentBox(this.domUpperImg).w)-16;dojo.marginBox(this.domBar,ss.mkdict(['w',ia]));this.domBar.style.top='7px';this.domBar.style.left=hY+tab.DomUtil.getContentBox(this.domLowerImg).w+8+'px';this.domLowerInput.style.width=hY+'px';this.domUpperInput.style.width=hZ+'px'}else{var ib=Math.min(L,Math.floor(hW.w/2-4));dojo.marginBox(this.domLowerBound,ss.mkdict(['w',ib]));dojo.marginBox(this.domUpperBound,ss.mkdict(['w',ib]));this.domLowerInput.style.width=dojo.contentBox(this.domLowerBound).w+'px';this.domUpperInput.style.width=dojo.contentBox(this.domUpperBound).w+'px';var ic=this.domLowerBound.offsetTop+this.domLowerBound.offsetHeight+8;dojo.marginBox(this.domBar,ss.mkdict(['w',hW.w-24]));this.domBar.style.top=ic+'px';this.domBar.style.left='12px'}}else if(this.attributes['show-slider']!=='false'){this.domNode.classList.add(this.classQFHideReadout);this.domNode.classList.remove(this.classQFHideSlider);dojo.marginBox(this.domBar,ss.mkdict(['w',hW.w-24]));this.domBar.style.left='12px'}else if(this.attributes['show-readout']!=='false'){this.domNode.classList.remove(this.classQFHideReadout);this.domNode.classList.add(this.classQFHideSlider);var id=Math.min(L,Math.floor(hW.w/2-4));dojo.marginBox(this.domLowerBound,ss.mkdict(['w',id]));dojo.marginBox(this.domUpperBound,ss.mkdict(['w',id]));this.domLowerInput.style.width=tab.DomUtil.getContentBox(this.domLowerBound).w+'px';this.domUpperInput.style.width=tab.DomUtil.getContentBox(this.domUpperBound).w+'px'}else{this.domNode.classList.add(this.classQFHideSlider);this.domNode.classList.add(this.classQFHideReadout)}this.oMetrics.top=this.domBar.offsetTop-2;this.oMetrics.absOffset=this.domBar.offsetLeft;this.oMetrics.left=0;this.oMetrics.right=this.domBar.offsetWidth;if(this.hasCurrentMin()){this.domLowerImg.style.top=this.oMetrics.top-4+'px';this.domLowerImg.style.visibility='visible'}else{this.domLowerImg.style.visibility='hidden'}if(this.hasCurrentMax()){this.domUpperImg.style.top=this.oMetrics.top-4+'px';this.domUpperImg.style.visibility='visible'}else{this.domUpperImg.style.visibility='hidden'}var ie=(this.shouldShowDomContent()?'visible':'hidden');this.domContent.style.visibility=ie;this.oMetrics.width=this.oMetrics.right-this.oMetrics.left;this.computePrecision(this.oMetrics.width);var ig=this.hasDataMin()||this.hasDataMax();this.domHighlight.style.visibility=(ig?'visible':'hidden');this.updateMinAndMax(this.oCurrentMin.v,this.oCurrentMax.v);this.updateDomainButton()},shouldShowDomContent:function(){return this.hasCurrentMax()||this.hasCurrentMin()},updateFromIcons:function(){var e,L;var hT;if(this.hasCurrentMin()&&this.$4()){var hU=this.getLowerPos();e=hU-this.oMetrics.left;if(e===0){hT=this.getRangeMin()}else if(e===this.oMetrics.width){hT=this.getRangeMax()}else if(this.hasCurrentMax()&&this.getLowerPos()===this.$2()){hT=this.getCurMax()}else{hT=this.$a(e,this.oMetrics.width,ss.unbox(this.getRangeMin())||0)}if(ss.isValue(hT)){this.setMinValue(ss.unbox(hT))}this.lastLowerOffset=this.domLowerImg.offsetLeft;this.domRange.style.left=hU+'px'}L=(this.hasCurrentMin()?this.getLowerPos():this.oMetrics.left);if(this.hasCurrentMax()){var hV=this.$2()-L;if(this.$5()){e=this.oMetrics.right-this.$2();if(e===0){hT=this.getRangeMax()}else if(e===this.oMetrics.width){hT=this.getRangeMin()}else if(this.hasCurrentMin()&&this.getLowerPos()===this.$2()){hT=this.getCurMin()}else{hT=this.$a(-e,this.oMetrics.width,ss.unbox(this.getRangeMax())||0)}if(ss.isValue(hT)){this.setMaxValue(ss.unbox(hT))}this.lastUpperOffset=this.domUpperImg.offsetLeft}this.domRange.style.width=hV+'px'}else{this.domRange.style.width=this.oMetrics.right-L+'px'}this.updateDataBar()},doMenu:function(){this.showContextMenu(this.menuButton.domNode)},updateFromOneInput:function(e){var L,hT;if(ss.referenceEquals(e,this.domLowerInput)){L=(this.hasCurrentMin()?this.getValueFromInput(this.domLowerInput,this.oCurrentMin):Number.MIN_VALUE);hT=this.oCurrentMax.v}else{L=this.oCurrentMin.v;hT=(this.hasCurrentMax()?this.getValueFromInput(this.domUpperInput,this.oCurrentMax):Number.MAX_VALUE)}this.updateMinAndMax(L,hT)},updateMinAndMax:function(e,L){var hT;if(ss.isValue(e)&&ss.isValue(L)){if(ss.unbox(e)>ss.unbox(L)){var hU=e;e=L;L=hU}}this.removeRangeOverride();if(this.hasCurrentMin()&&ss.isValue(e)&&!isNaN(ss.unbox(e))){this.setMinValue(ss.unbox(e))}if(this.hasCurrentMax()&&ss.isValue(L)&&!isNaN(ss.unbox(L))){this.setMaxValue(ss.unbox(L))}var hV=this.getRange();hT=this.oMetrics.left;if(this.hasCurrentMin()){var hW=((ss.isValue(hV)&&!tab.DoubleUtil.isApproximatelyZero(ss.unbox(hV)))?Math.round((ss.coalesce(this.getCurMin(),0)-ss.coalesce(this.getRangeMin(),0))*this.oMetrics.width/ss.unbox(hV)):0);if(this.oMetrics.left+hW>this.oMetrics.width){hW=this.oMetrics.left+this.oMetrics.width}this.setLowerPos(this.oMetrics.left+hW);this.lastLowerOffset=this.domLowerImg.offsetLeft;this.domRange.style.left=this.oMetrics.left+hW+'px';hT=this.getLowerPos()}else{this.domRange.style.left=hT+'px'}if(this.hasCurrentMax()){var hX=(this.hasCurrentMin()?this.getCurMin():this.getRangeMin());var hY=((ss.isValue(hV)&&!tab.DoubleUtil.isApproximatelyZero(ss.unbox(hV)))?Math.round((ss.coalesce(this.getCurMax(),0)-ss.unbox(hX))*this.oMetrics.width/ss.unbox(hV)):this.oMetrics.width);this.setUpperPos(hT+hY);this.lastUpperOffset=this.domUpperImg.offsetLeft;this.domRange.style.width=Math.max(hY,0)+'px'}else{this.domRange.style.width=Math.max(this.oMetrics.right-hT,0)+'px'}this.updateDataBar()},updateDataBar:function(){var e=0;var L;var hT;var hU=this.getRange();if(ss.isValue(hU)&&!tab.DoubleUtil.isApproximatelyZero(ss.unbox(hU))&&this.hasDataMin()){var hV=ss.coalesce((this.hasCurrentMin()?this.getCurMin():this.getRangeMin()),0);e=Math.round((ss.coalesce(this.getDataMin(),0)-hV)*this.oMetrics.width/ss.unbox(hU))}this.domHighlight.style.left=e+'px';hT=(this.hasCurrentMin()?this.getLowerPos():this.oMetrics.left);L=(this.hasCurrentMax()?this.$2():this.oMetrics.right)-hT;if(ss.isValue(hU)&&this.hasDataMax()){var hW=(this.hasDataMin()?this.getDataMin():this.getRangeMin());if(!tab.DoubleUtil.isApproximatelyZero(ss.unbox(hU))){L=Math.round((ss.coalesce(this.getDataMax(),0)-ss.unbox(hW))*this.oMetrics.width/ss.unbox(hU))}L=Math.max(L,2)}this.domHighlight.style.width=Math.max(L,0)+'px'},startUpperCapture:function(e){this.startCapture(e,false,this.domUpperImg)},startLowerCapture:function(e){this.startCapture(e,false,this.domLowerImg)},startRangeCapture:function(e){if(this.hasCurrentMin()&&this.hasCurrentMax()){this.startCapture(e,true,this.domRange)}},startCapture:function(e,L,hT){this.savePreviousMinAndMaxVals();var hU=(L?ss.mkdel(this,this.$8):ss.mkdel(this,this.onMouseMove));spiff.EventUtil.stopEvent(e);var hV=this.getRange();if(!ss.isValue(hV)||tab.DoubleUtil.isApproximatelyZero(ss.unbox(hV))){return}this.captureInfo={x:e.pageX,y:e.pageY,xStart:hT.offsetLeft,isRangeCapture:L,oImg:hT};if(L){this.captureInfo.lowerStart=this.getLowerPos();this.captureInfo.upperStart=this.$2()}if(ss.isValue(this.$g)){this.$g.dispose()}this.$g=new tab.DisposableHolder;this.$g.add$1(spiff.EventUtil.bindWithDispose($(document),'mousemove',hU));this.$g.add$1(spiff.EventUtil.bindWithDispose($(document),'mouseup',ss.mkdel(this,this.$b)))},onMouseMove:function(e){var L=(this.hasCurrentMin()?this.getLowerPos():this.oMetrics.left);var hT=(this.hasCurrentMax()?this.$2():this.oMetrics.right);var hU=(ss.referenceEquals(this.captureInfo.oImg,this.domLowerImg)?(this.oMetrics.left-this.$f):L);var hV=(ss.referenceEquals(this.captureInfo.oImg,this.domUpperImg)?this.oMetrics.right:(hT-this.$f));var hW=e.pageX-this.captureInfo.x+this.captureInfo.xStart-this.oMetrics.absOffset;spiff.EventUtil.stopEvent(e);hW=Math.min(hV,Math.max(hU,hW));var hX=false;if(ss.referenceEquals(this.captureInfo.oImg,this.domLowerImg)){hX=hW+this.$f!==L;this.setLowerPos(hW+this.$f)}else{hX=hW!==hT;this.setUpperPos(hW)}this.updateFromIcons();if(hX){this.applyQuantFilter(this.getCurMin(),this.getCurMax())}},applyQuantFilter:function(e,L){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var hT=new tab.QuantitativeFilterData(this.oFilter.targetSheets,this.field,e,L,this.previousMinVal,this.previousMaxVal);tab.FilterClientCommands.updateQuantitativeFilter(hT)}},savePreviousMinAndMaxVals:function(){this.previousMinVal=this.getCurMin();this.previousMaxVal=this.getCurMax()},$8:function(e){var L=this.captureInfo.x-(this.captureInfo.lowerStart-this.oMetrics.left);var hT=this.captureInfo.x+(this.oMetrics.right-this.captureInfo.upperStart);var hU=e.pageX;hU=Math.min(hT,Math.max(L,hU));spiff.EventUtil.stopEvent(e);this.setLowerPos(this.captureInfo.lowerStart+(hU-this.captureInfo.x));this.setUpperPos(this.captureInfo.upperStart+(hU-this.captureInfo.x));tab.ModelUtils.invalidateVisuals(this.oFilter.targetSheets);this.updateFromIcons()},$b:function(e){if(ss.isValue(this.$g)){this.$g.dispose()}this.$g=null;spiff.EventUtil.stopEvent(e);if(this.captureInfo.x!==e.pageX){this.removeRangeOverride();this.updateFromIcons();this.notifyChange()}},showLowerInput:function(e){if(!this.hasCurrentMin()){return}this.showInput(e,this.oCurrentMin,this.domLowerInput);this.domLowerBound.classList.add('active');this.savePreviousMinAndMaxVals()},showUpperInput:function(e){if(!this.hasCurrentMax()){return}this.showInput(e,this.oCurrentMax,this.domUpperInput);this.domUpperBound.classList.add('active');this.savePreviousMinAndMaxVals()},showInput:function(e,L,hT){spiff.EventUtil.stopEvent(e);if($(hT).css('display')!=='none'){return}hT.value=tableau.format.formatDataValue(L,this.oFilter.role,this.get_editingFormat(),null,this.showFullDateTimes(this.get_editingFormat()));this.showInputStartValue=this.getValueFromInput(hT,L);$(hT).show().siblings('.readoutText').hide();hT.focus();hT.select()},lowerInputKeyDown:function(e){this.$7(e,this.domLowerInput)},upperInputKeyDown:function(e){this.$7(e,this.domUpperInput)},$7:function(e,L){if(e.which===27){$(L).val('');L.blur()}},checkLowerEnter:function(e){this.$0(e,this.domLowerInput)},checkUpperEnter:function(e){this.$0(e,this.domUpperInput)},$0:function(e,L){if(e.keyCode===13){spiff.EventUtil.stopEvent(e);L.blur()}},hideLowerInput:function(e){this.$6(e,this.oCurrentMin,this.domLowerInput,this.domLowerBound)},hideUpperInput:function(e){this.$6(e,this.oCurrentMax,this.domUpperInput,this.domUpperBound)},$6:function(e,L,hT,hU){var hV=this.getValueFromInput(hT,L);spiff.EventUtil.stopEvent(e);this.applyInputValue(L,hT,hU,hV,ss.mkdel(this,function(){this.updateFromOneInput(hT)}))},applyInputValue:function(e,L,hT,hU,hV){var hW=new Object;hW=$.extend({},e);var hX=null;if(ss.isNullOrUndefined(hU)||isNaN(ss.unbox(hU))){hU=this.showInputStartValue}else{hW.v=ss.unbox(hU);hX=this.speciallyFormatDataValueForQuantitativeQF(hW)}var hY=$(L).hide().siblings('.readoutText').show();if(ss.isValue(hU)&&(ss.isValue(this.showInputStartValue)&&!tab.DoubleUtil.isApproximatelyEqual(ss.unbox(this.showInputStartValue),ss.unbox(hU)))){hY.text(hX);hV();this.notifyChange()}this.showInputStartValue=null;hT.classList.remove('active')},applyChanges:function(){var e=false;var L=$.extend(false,new Object,this.oFilter.table);if(this.hasCurrentMin()&&(!ss.isValue(L.min.v)||!tab.DoubleUtil.isApproximatelyEqual(ss.unbox(L.min.v),ss.unbox(this.getCurMin())))){e=true;L.min=$.extend({},this.oCurrentMin)}if(this.hasCurrentMax()&&(!ss.isValue(L.max.v)||!tab.DoubleUtil.isApproximatelyEqual(ss.unbox(L.max.v),ss.unbox(this.getCurMax())))){e=true;L.max=$.extend({},this.oCurrentMax)}if(!e){tab.FilterClientCommands.resetQuantitativeFilter(this.field,this.oFilter.targetSheets);return}this.clearDataRange();++this.rid;if(!this.isRange()){L.included='include-range'}tab.FilterClientCommands.setQuantitativeFilterRange(this.session.get_visualId(),this.field,L.min.v,L.max.v,L.included);this.$3(L.min.v,L.max.v)},updateDomainButton:function(){if(!ss.isValue(this.oFilter.domains)||this.oFilter.domains.length<=1){this.domainButton.domNode.style.display='none';return}var e=this.domainButton.iconNode.classList;e.remove('wcIconDomainAll');e.remove('wcIconDomainContext');e.remove('wcIconDomainRelevant');var L=this.attributes['values'];if(L==='relevant'){this.domainButton.attr('label',tab.Strings.QuickFilterShowLargerRange);e.add('wcIconDomainRelevant')}else if(L==='context'){this.domainButton.attr('label',tab.Strings.QuickFilterShowSmallerRange);e.add('wcIconDomainContext')}else{this.domainButton.attr('label',tab.Strings.QuickFilterShowSmallerRange);e.add('wcIconDomainAll')}},toggleReset:function(){var e=this.oFilter.table;var L=ss.isValue(e.min.v);var hT=ss.isValue(e.max.v);if(!L&&hT||!hT&&L){var hU=null;var hV=null;if(!L){hV=this.getRangeMax()}else{hU=this.getRangeMin()}tab.FilterClientCommands.setQuantitativeFilterRange(this.session.get_visualId(),this.field,hU,hV,this.oFilter.table.included)}else{tab.FilterClientCommands.setQuantitativeFilterRange(this.session.get_visualId(),this.field,this.oRangeMin.v,this.oRangeMax.v,'include-all')}fv.disableResetButton(this.resetButton)},toggleDomain:function(){var e=function(hU){return hU==='context'};var L;var hT=this.attributes['values'];if(hT==='relevant'){L='all'}else if(hT==='context'){L='relevant'}else if(_.any(this.oFilter.domains,e)){L='context'}else{L='relevant'}this.doRequestSetAttributes(ss.mkdict(['values',L.toString()]),false)},doRequestSetAttributes:function(e,L){var hT=ss.getEnumerator(Object.keys(e));try{while(hT.moveNext()){var hU=hT.current();this.attributes[hU]=e[hU]}}finally{hT.dispose()}if(!tab.BaseSession.autoUpdate){this.initFromState()}this.requestSetAttributes(e,L)},notifyChange:function(){this.$d=tab.MiscUtil.clearTimeout(this.$d);this.$d=window.setTimeout(ss.mkdel(this,this.applyChanges),this.$c)},initFromState:function(){this.$9();this.layout(null)},localize:function(){},contentBox:function(e){var L=$(e).css('display');if(L==='none'){e.style.display=''}var hT=dojo.contentBox(e);e.style.display=L;return hT}},eq);ss.initClass(el,a,{get_editingFormat:function(){return this.oFilter.editing_format},postCreate:function(){this.inherited(arguments);var e=this.oFilter.date_format;var L=e.locale_formatting_strings;var hT=this.get_editingFormat();var hU=L.narrowDay.filter(function(hY){return!ss.isNullOrEmptyString(hY)});var hV=this.oFilter.first_day_of_week;if(ss.isValue(hV)){hV=hV-1}var hW=new Date;var hX=new Date(Date.UTC(hW.getFullYear(),hW.getMonth(),hW.getDate()));this.$o=new cu(new cv(hX,hX,null,null,hV,hU,L.todayFormatTemplate,function(hY){return tableau.format.formatCustomJSDateTime(hY,tableau.format.mapIcuToOleFormat(e.yearMonthFormat),0,'d',e.locale,null,null,L)},function(hY){return tableau.format.formatCustomJSDateTime(hY,hT.format,0,'d',hT.locale,null,null,L)}));this.$o.element.on('dateSelected',ss.mkdel(this,this.$i)).on('mousedown',ss.mkdel(this,this.$h)).appendTo(document.body);this.$n=false},destroy:function(e){this.$o.dispose();this.$o=null;this.inherited(arguments)},showFullDateTimes:function(e,L){this.$q=el.getDateTimeFormatMode([this.oCurrentMin,this.oCurrentMax,this.oRangeMin,this.oRangeMax,L],this.get_presModel().Ymv1,e,this.$q);return this.$q},speciallyFormatDataValueForQuantitativeQF:function(e){return tableau.format.formatDataValue(e,this.oFilter.role,this.oFilter.date_format,null,this.showFullDateTimes(this.oFilter.date_format,e))},$k:function(){return el.isPureTime([this.oCurrentMin,this.oCurrentMax,this.oRangeMin,this.oRangeMax],this.get_presModel().Ymv1)},showInput:function(e,L,hT){this.inherited(arguments);if(this.get_presModel().Ymv1!=='trunc-month'&&this.get_presModel().Ymv1!=='trunc-year'&&!this.$k()&&(!ss.referenceEquals(this.$p,hT)||this.$o.element.is(':hidden'))){var hU=((tab.LegacyFilterModel.isNormalValue(L)&&!isNaN(ss.unbox(L.v)))?new Date(tableau.types.JsDateFromOleDate(ss.unbox(L.v))):null);this.$o.show(hU);this.$p=hT;this.$l()}},layout:function(e){this.inherited(arguments);this.$l()},$l:function(){if(ss.isNullOrUndefined(this.$p)){return}var e=$((ss.referenceEquals(this.$p,this.domLowerInput)?this.domLowerBound:this.domUpperBound));this.$o.positionCalendarByElement(e)},$i:function(e,L){this.$o.hide();var hT=ss.referenceEquals(this.$p,this.domLowerInput);var hU=(hT?this.oCurrentMin:this.oCurrentMax);var hV=(hT?this.domLowerBound:this.domUpperBound);var hW=el.mergeDateWithTime(L,new Date(tableau.types.JsDateFromOleDate(ss.unbox(hU.v))));var hX=tableau.types.OleDateFromJsDate(hW.getTime());this.applyInputValue(hU,this.$p,hV,hX,ss.mkdel(this,function(){this.$m(hT,hX)}))},$m:function(e,L){if(e){this.updateMinAndMax(L,this.oCurrentMax.v)}else{this.updateMinAndMax(this.oCurrentMin.v,L)}},$h:function(e){this.$n=true},hideLowerInput:function(e){this.$j(e,this.domLowerInput,ss.mkdel(this,function(L){em.prototype.hideLowerInput.call(this,L)}))},hideUpperInput:function(e){this.$j(e,this.domUpperInput,ss.mkdel(this,function(L){em.prototype.hideUpperInput.call(this,L)}))},$j:function(e,L,hT){if(this.$n){spiff.EventUtil.stopEvent(e);this.$n=false;window.setTimeout(function(){if($(L).is(':visible')){L.focus()}},0)}else{hT(e);this.$o.hide();if(ss.referenceEquals(this.$p,L)){this.$p=null}}}},em);ss.initClass(en,a,{get_filterType:function(){return this.$2.get_filterType()},get_legacyQuantitativeQuickFilterModel:function(){return this.$2},get_range:function(){return this.$2.get_range()},get_data:function(){return this.$2.get_data()},get_dateFormat:function(){return this.$2.get_dateFormat()},get_editingFormat:function(){return this.$2.get_editingFormat()},get_format:function(){return this.$2.get_format()},get_calendarControlStartOfWeek:function(){return this.$2.get_calendarControlStartOfWeek()},get_dataSourceStartOfWeek:function(){return this.$2.get_dataSourceStartOfWeek()},get_quantitativeFilterTable:function(){return this.$2.get_quantitativeFilterTable()},get_column:function(){return this.get_quantitativeFilterTable().column},get_included:function(){return this.get_quantitativeFilterTable().included},get_min:function(){return this.get_quantitativeFilterTable().min},get_max:function(){return this.get_quantitativeFilterTable().max}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,dD]);ss.initClass(eo,a,{get_zonePresModel:function(){return this.$h().get_zone()},get_domRoot:function(){return this.get_template().domRoot},$g:function(){return this.$h().get_frame()},$h:function(){return this.get_viewModel()},dispose:function(){if(ss.isValue(this.$i)){this.$i.destroyRecursiveShim(false);this.$i=null}ss.makeGenericType(spiff.BaseView$1,[ep]).prototype.dispose.call(this)},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(ss.isValue(this.$h().get_quickFilterDisplayModel())){this.$b()}},$b:function(){if(ss.isNullOrUndefined(this.$i)||this.$h().get_needToUpdateDisplay()){if(ss.isNullOrUndefined(this.$i)){this.$i=this.$9();this.get_template().domRoot.append(this.$i.getDomNode());this.$i.startupShim()}else{this.$e()}this.$f();this.$a()}},$a:function(){if(ss.isValue(this.$i)&&(this.$h().get_needToUpdateContent()||this.$h().get_needToUpdateDisplay())){this.$i.updateAttributesShim(this.$g().attributes);this.$i.updateFilterStateShim(this.$h().get_filterPresModel())}},$f:function(){tab.DomUtil.resize(this.$i,hQ.viewRect(this.get_zonePresModel()));var e=this.$h().get_quickFilterDisplayPresModel().jOs.EUR;if(e>0){if(this.$h().get_hasBorder()){e+=3}e=Math.max(e,17)}var L=this.$h().get_quickFilterDisplayPresModel().jOs.rec;this.$i.setTitleSizeShim(((this.get_zonePresModel().jZr===0)?0:e),((this.get_zonePresModel().nkG1===0)?0:L))},$9:function(){var e=this.$c();var L=this.makeFilterPanel(e);return L},$e:function(){var e=this.$c();this.$i.updateFilterPropertiesShim(e);this.$i.updateSubWidgetShim(this.$h().get_filterPresModel())},$c:function(){var e=this.$h().get_layoutSession();var L=this.$h().get_zone().Gge;var hT=new Object;hT.sessionid=e.get_id();hT.urlRoot=e.get_urlRoot();hT.layoutSession=e;hT.sheetid=L;hT.zid=this.$g().key.zid;hT.titleHTML=this.$h().get_quickFilterDisplayModel().get_quickFilterTitle().xBc;hT.session=this.$h().get_viewSession();hT.field=this.$g().param;hT.quickFilterDisplayViewModel=this.$h();if(ss.isValue(this.$g().format)){hT.format=this.$g().format}if(ss.isValue(this.$g().attributes)){hT.attributes=this.$g().attributes}if(ss.isValue(this.$g().w)){hT.width=this.$g().w}var hU=ss.mkdel(this,function(hV,hW){this.$d(this.$g().param,this.$h().get_visualId(),hV,hW)});hT.requestSetAttributes=hU;hT.textStyle=this.$h().get_quickFilterDisplayPresModel().mCc;if(ss.isValue(this.get_zonePresModel().rPC)){hT.backgroundColor=this.get_zonePresModel().rPC.eBu}return hT},makeFilterPanel:function(e){var L=spiff.ObjectRegistry.resolve(Tableau.JavaScript.Vql.LegacyDojoModuleInterfaces.ILegacyDojoWidgetMaker).call(null,[]);return L.makeFilterPanelWidget(e)},$d:function(e,L,hT,hU){if(ss.keyExists(hT,'mode')){tab.FilterClientCommands.setCategoricalQuickFilterMode(L,e,hT['mode'])}else if(ss.keyExists(hT,'values')){tab.FilterClientCommands.setCategoricalQuickFilterDomain(L,e,hT['values'])}}},ss.makeGenericType(spiff.BaseView$1,[ep]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[ep])]);ss.initClass(ep,a,{add_updateQuickFilterDisplay:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updateQuickFilterDisplay:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_updateQuickFilterContent:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_updateQuickFilterContent:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_resized:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_resized:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_quickFilterDisplayModel:function(){return this.$a},get_frame:function(){return this.$a.get_frame()},get_zone:function(){return this.$a.get_zone()},get_quickFilterDisplayPresModel:function(){return this.$a.get_quickFilterDisplayPresModel()},get_viewSession:function(){return tab.ModelUtils.getViewSession(this.get_zone().Gge)},get_layoutSession:function(){return tab.CommandController.get().get_legacySession()},get_hasBorder:function(){return this.$a.get_zoneModel().get_hasBorder()},get_filterPresModel:function(){return this.$6.get_filterPresModel()},get_filterTypeViewModel:function(){return this.$7},get_needToUpdateContent:function(){return this.$8},set_needToUpdateContent:function(e){this.$8=e},get_needToUpdateDisplay:function(){return this.$9},set_needToUpdateDisplay:function(e){this.$9=e},get_visualId:function(){return tab.ModelUtils.getVisualId(this.get_zone().Gge)},handleUpdateQuickFilterDisplay:function(e){this.set_needToUpdateDisplay(true);_.defer(ss.mkdel(this,function(){this.raiseActionEvent(this.$2$1);this.set_needToUpdateDisplay(false)}))},$4:function(){this.raiseActionEvent(this.$2$3)},$5:function(){this.set_needToUpdateContent(true);_.defer(ss.mkdel(this,function(){this.raiseActionEvent(this.$2$2);this.set_needToUpdateContent(false)}))},$3:function(){this.$2();switch(this.$6.get_filterType()){case'Categorical':{this.$7=new ed(this.$6);break}case'Hierarchical':{this.$7=new eh(this.$6);break}case'Quantitative':{this.$7=new en(this.$6);break}case'RelativeDate':case'RelativeDatePick':{this.$7=new fO(this.$6);break}}},$2:function(){if(ss.isValue(this.$7)){this.$7.dispose();this.$7=null}},dispose:function(){this.$a.remove_quickFilterDisplayUpdated(ss.mkdel(this,this.handleUpdateQuickFilterDisplay));this.$a.get_zoneModel().remove_resizeZone(ss.mkdel(this,this.$4));this.$a=null;this.$6.remove_filterUpdated(ss.mkdel(this,this.$5));this.$6=null;this.$2();spiff.BaseViewModel.prototype.dispose.call(this)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,Tableau.JavaScript.Vql.LegacyDojoModuleInterfaces.ILegacyQuickFilterDisplayViewModel]);ss.initClass(er,a,{get_filterViewModel:function(){return this.filterViewModel},postCreate:function(){if(this.filterViewModel.get_filterType()!=='RelativeDate'){}this.$3();this.getSID=ss.mkdel(this,function(){return this.stateId});if(ss.isValue(this.oFilter.fy)){this.fy=this.oFilter.fy-1}if(ss.isValue(this.oFilter.start_of_week)){this.startOfWeek=this.oFilter.start_of_week}this.timestamp=(new Date).getTime();this.$a=[this.buttonYear,this.buttonQuarter,this.buttonMonth,this.buttonWeek,this.buttonDay];if(this.oFilter.noTime){this.buttonHour.domNode.style.display='none';this.buttonMinute.domNode.style.display='none'}else{this.$a.push(this.buttonHour);this.$a.push(this.buttonMinute)}this.connect(this.domTooltipDialog,'onOpen',ss.mkdel(this,this.$4));this.initFromState();$(this.menuButton.domNode).css('background-color',this.backgroundColor)},shouldHideContextMenu:function(){if(tsConfig.current_sheet_type==='dashboard'&&tsConfig.is_authoring){return true}var e=tab.CommandsPresModelWrapper.create(this.getContextMenuCommands());return this.hideEmptyTitlebar()||ss.isNullOrUndefined(e)||e.get_commandItems().length===0},shouldHideDomainButton:function(){return true},setTitleSize:function(e,L){this.titleH=e;this.titleW=L},dispose:function(){this.$8.dispose();this.showContextMenu=null},destroy:function(e){this.dispose();if(ss.isValue(this.domText)){this.domText.innerHTML=''}this.inherited(arguments)},layout:function(e){this.updateTitleBar();this.domNode.classList.remove('RDFHorizontal');var L=dojo.marginBox(this.domDialog);if(!ss.isValue(L)||!ss.isValue(L.w)||L.w===0){return}var hT=dojo.marginBox(this.domTitleBar);this.resetTitleSize();if(this.titleH>0){hT.h=this.titleH;dojo.marginBox(this.domTitleBar,ss.mkdict(['h',hT.h]))}if(this.titleW>0){hT.w=this.titleW;dojo.marginBox(this.domTitleBar,ss.mkdict(['w',hT.w]))}tableau.util.setupTitleEllipsis($(this.domTitleBar));var hU=dojo.contentBox(this.domNode);var hV=hU.w-2;var hW=$(this.domDropdownButton.domNode);hW.find('.dijitButtonNode').addClass('tab-ctrl-formatted-widget tab-ctrl-formatted-darker-border-hover');hW.find('.dijitButtonText').addClass('tab-ctrl-formatted-fixedsize');hW.find('.dijitArrowButtonInner')[0].innerHTML=ef.getDropDownForColor(this.textStyle.YhU.toString());if(!this.hideEmptyTitlebar()&&this.titleW>0){this.domNode.classList.add('RDFHorizontal');this.domTitleBar.style.cssFloat='left';this.domDropdownButton.domNode.style.cssFloat='left';var hX=dojo._getPadBorderExtents(this.domDropdownButton.domNode);hV=hU.w-hT.w-hX.w}else{this.domTitleBar.style.cssFloat='none';this.domDropdownButton.domNode.style.cssFloat='none'}if(hV>29){this.domDropdownButton.domNode.style.width=hV+'px';this.domDropdownButton.domNode.firstChild.style.width=hV-2+'px';hV=hV-25;var hY=this.domDropdownButton.domNode.firstChild.firstChild.firstChild.childNodes[1];if(ss.isValue(hY)){hY.style.width=hV+'px'}}var hZ=Math.floor((L.w-10)/this.$a.length);for(var ia=0;ia<this.$a.length;ia++){var ib=this.$a[ia];ib.titleNode.style.width=hZ-5+'px'}},initFromState:function(){var e=ss.mkdel(this,function(L,hT){if(hT){L.domNode.classList.remove(this.$7);L.domNode.classList.add(this.$6)}else{L.domNode.classList.remove(this.$6);L.domNode.classList.add(this.$7)}});e(this.menuButton,this.shouldHideContextMenu());this.domDropdownButton.attr('label',this.oFilter.text);this.updateCurrentStateOfData();this.setRangeType(this.rangeType,this.rangeN);this.setTitle();this.updateTitleBar()},updateCurrentStateOfData:function(){var e=this.oFilter.table;this.periodType=e.periodType;this.rangeType=e.rangeType;this.rangeN=e.rangeN;if(!(typeof(e.anchor)==='undefined')){var L=e.anchor;this.anchorDateTime=new Date(L.year,L.month-1,L.day,L.hour,L.minute,L.second)}},setTitle:function(){var e=tableau.format.formatColumnDisplayName(this.oFilter,false,true);this.domTitleBar.setAttribute('title',e)},applyChanges:function(){var e={};e.periodType=this.periodType;e.rangeType=this.rangeType;e.rangeN=this.rangeN;this.stateId+=1;var L=tableau.util.findDirectParentByClassName(this.domDialog,'dijitPopup',document.body);if(!ss.isNullOrUndefined(L)){L.style.zIndex='980'}tab.FilterClientCommands.doRelativeDateQuickFilter(this.session.get_visualId(),this.field,this.periodType,this.rangeType,this.rangeN)},doMenu:function(){this.showContextMenu(this.menuButton.domNode)},$4:function(){this.setPeriodUI(this.periodType);this.setRangeUI(this.rangeType,this.rangeN);this.setPreviewUI();this.updateVisibilityOfDayToAnchor()},setRangeUI:function(e,L){this.inputLastn.disabled=true;this.inputNextn.disabled=true;this.lastSpinner.style.display='none';this.radioLastn.classList.remove('spinnerBugFix');this.nextSpinner.style.display='none';this.radioNextn.classList.remove('spinnerBugFix');switch(e){case'last':{this.radioLast['checked']=true;break}case'curr':{this.radioCurr['checked']=true;break}case'next':{this.radioNext['checked']=true;break}case'lastn':{this.radioLastn['checked']=true;this.rangeN=L;this.inputLastn.value=this.rangeN.toString();this.inputLastn.disabled=false;this.lastSpinner.style.display='';this.radioLastn.classList.add('spinnerBugFix');break}case'nextn':{this.radioNextn['checked']=true;this.rangeN=L;this.inputNextn.value=this.rangeN.toString();this.inputNextn.disabled=false;this.nextSpinner.style.display='';this.radioNextn.classList.add('spinnerBugFix');break}case'todate':{this.radioTodate['checked']=true;break}}},updateRangeButtons:function(e){var L=this.$a.length;for(var hT=0;hT<L;hT++){this.$a[hT].attr('checked',ss.referenceEquals(this.$a[hT].name,e.toString()))}},overLastUp:function(){this.lastUp.classList.add('hover')},outLastUp:function(){this.lastUp.classList.remove('hover')},overLastDown:function(){this.lastDown.classList.add('hover')},outLastDown:function(){this.lastDown.classList.remove('hover')},overNextUp:function(){this.nextUp.classList.add('hover')},outNextUp:function(){this.nextUp.classList.remove('hover')},overNextDown:function(){this.nextDown.classList.add('hover')},outNextDown:function(){this.nextDown.classList.remove('hover')},$5:function(e,L){var hT=parseInt(e.value,10)+(L?1:-1);if(hT<1){return}e.value=hT.toString();this.onTyping(e)},upLast:function(){this.$5(this.inputLastn,true)},downLast:function(){this.$5(this.inputLastn,false)},upNext:function(){this.$5(this.inputNextn,true)},downNext:function(){this.$5(this.inputNextn,false)},$3:function(){cB.localizeDojoLabeledControls([{item1:this.buttonYear,item2:'RelDateFilterYears'},{item1:this.buttonQuarter,item2:'RelDateFilterQuarters'},{item1:this.buttonMonth,item2:'RelDateFilterMonths'},{item1:this.buttonWeek,item2:'RelDateFilterWeeks'},{item1:this.buttonDay,item2:'RelDateFilterDays'},{item1:this.buttonHour,item2:'RelDateFilterHours'},{item1:this.buttonMinute,item2:'RelDateFilterMinutes'}])}},ct,[ss.IDisposable]);ss.initClass(et,a,{get_isCurrentLegendGreyed:function(){var e=ss.isValue(this.selectedItems)&&this.selectedItems.length>0;var L=ss.isValue(this.brushedItems)&&this.brushedItems.length>0;return bw.legendShouldBeGrayed(this.isOneway,this.hasMarkNodeSelection,e,L)},computeChangedItems:function(e){if(ss.isNullOrUndefined(e)){return null}if(this.isHighlightingEnabled!==e.isHighlightingEnabled){return null}if(this.get_isCurrentLegendGreyed()!==e.get_isCurrentLegendGreyed()){return null}var L=et.$0(this.selectedItems,e.selectedItems);var hT=et.$0(this.brushedItems,e.brushedItems);return L.concat.apply(L,hT)},isSelectionStateTheSame:function(e){if(ss.isNullOrUndefined(e)){return false}if(this.isHighlightingEnabled!==e.isHighlightingEnabled){return false}if(this.get_isCurrentLegendGreyed()!==e.get_isCurrentLegendGreyed()){return false}var L=_.isEqual(e.selectedItems,this.selectedItems);var hT=_.isEqual(e.brushedItems,this.brushedItems);return L&&hT}});ss.initClass(ev,a,{get_allHighlighted:function(){return this.highlightedCount>=this.endIndex-this.startIndex+1},get_lineState:function(){if(this.selectedCount>0){return'lineStateSelected'}else if(this.highlightedCount>0){return'lineStateHighlighted'}else{return'lineStateNormal'}}});ss.initClass(ew,a,{get_lineAttributes:function(){return this.$1},$0:function(e){ss.clear(this.$1);var L=e.markCount;var hT=new ev(0);for(var hU=0;hU<L;hU++){var hV=e.getMarkBounds(hU);tab.RectXYUtil.unionInPlace(hT.boundingBox,hV);var hW=e.getMarkState(hU);if(hW==='markStateSelected'){hT.selectedCount++;if(e.isMarkHighlighted(hU)){hT.highlightedCount++}}else if(hW==='markStateHighlighted'){hT.highlightedCount++}if(e.markNeedsDraw(hU)){hT.marksNeedingDraw.push(hU)}if(e.isMarkEndPrimitive(hU)){hT.worldOffsets=e.getWorldInstanceOffsets(hT.boundingBox.x,hT.boundingBox.x+hT.boundingBox.w);hT.endIndex=hU;hT.sloppyBoundingBox=tab.RectXYUtil.outsetRect(hT.boundingBox,4,4);this.$1.push(hT);hT=new ev(hU+1)}}}});ss.initClass(ex,a,{get_totalHeight:function(){return this.$5},get_itemHeight:function(){return this.$2},get_tileCount:function(){return this.$3},get_viewportHeight:function(){return this.$6},destroy:function(){},updateViewport:function(e,L){this.$6=L},getTileStatus:function(e){var L=this.$0[e];if(typeof(L)==='undefined'){return false}return L.$0()},updateTileStatus:function(e,L){var hT=this.$0[e];if(typeof(hT)==='undefined'){return}this.$0[e].$1(L)},getTilePosition:function(e){var L=this.$0[e];if(typeof(L)==='undefined'){return null}return{x:L.$2().x,y:L.$2().y}},getTileRange:function(e){var L=this.$0[e];if(typeof(L)==='undefined'){return null}return new tab.IntegerRange(L.$3().get_from(),L.$3().get_to())},getTileRangeType:function(e){var L=this.$0[e];if(typeof(L)==='undefined'){return'unknown'}return L.$4()},pixelToTileRange:function(e){return tab.IntegerRange.pixelToTileRange(e,this.$2,this.$4)},itemToTileIndex:function(e){var L=Math.floor(e/this.$4);return L},globalToLocalItemIndex:function(e){return e%this.$4}},null,[dY]);ss.initClass(hE,a,{add_updated:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_updated:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},get_current:function(){return this.$0},set_current:function(e){this.$0=e;if(ss.isValue(this.$1$1)){this.$1$1(e)}},get_hasHit:function(){return ss.isValue(this.$0)&&ss.isValue(this.$0.get_result())&&this.$0.get_result().get_hitObjectType()!==0},dispose:function(){this.paneTable=null;this.$1.dispose();this.lastEvent=null;this.set_current(null)},isWithinLastHitTestDistance:function(e){if(this.get_hasHit()){var L=this.region.toLocalCoordsEvent(e,false);return tab.PointUtil.isWithinDistance(this.get_current().get_regionCoordinates(),L,20)}return false},getLastHitTestDistance:function(e){if(ss.isValue(this.$0)&&ss.isValue(this.$0.get_result())){var L=this.region.toLocalCoordsEvent(e,false);return tab.PointUtil.distance(this.get_current().get_regionCoordinates(),L)}return-1},getAsync:function(e){var L=$.Deferred();if(this.isWithinLastHitTestDistance(e)){L.resolve(this.$0)}else{var hT=null;hT=ss.mkdel(this,function(hU){this.remove_updated(hT);L.resolve(hU)});this.add_updated(hT);this.update(e)}return L.promise()},update:function(e){this.lastEvent=e;this.$1.invokeActionDelayed()},makePaneSpecId:function(e,L){return L*this.paneTable.get_numColumns()+e},hitTest:null},null,[ss.IDisposable]);ss.initClass(ey,a,{hitTest:function(e,L){var hT=this.region.getPaneDrawInfoFromSelectionAnchor(e);if(ss.isValue(hT)){var hU=this.region.hitTestSingleMarksAndVisualParts(e);var hV=this.makePaneSpecId(hT.paneColumn,hT.paneRow);this.set_current(new hD(this.region,hV,hT.paneColumn,hT.paneRow,e,L,hU))}else{this.set_current(null)}}},hE,[ss.IDisposable]);ss.initClass(ez,a,{});ss.initClass(eA,a,{dispose:function(){eA.$0=null;this.logOnViewModel.remove_shown(ss.mkdel(this,this.$c));this.logOnViewModel.remove_hidden(ss.mkdel(this,this.$9));this.$d.dispose();ss.makeGenericType(spiff.BaseView$1,[eB]).prototype.dispose.call(this)},onViewModelPropertyChanged:function(e,L){this.updateContent()},updateContent:function(){},$a:function(){this.logOnViewModel.logOnComplete()},$c:function(){this.$b();this.$d.show()},$9:function(){this.$d.dispose()},$b:function(){var e=800;var L=600;var hT=new tab.WindowHelper(window.self);var hU=hT.get_screenLeft()+ss.Int32.div(hT.get_outerWidth()-e,2);var hV=hT.get_screenTop()+ss.Int32.div(hT.get_outerHeight()-L,3);var hW=ss.formatString('width={0},height={1},left={2},top={3},toolbar=1,resizable=1',e,L,hU,hV);var hX='/#/signin?closePopupWhenDone=true&site='+encodeURIComponent(tsConfig.site_url_name);var hY=tab.WindowHelper.open(hX,'TableauAuthentication',hW);if(ss.isValue(hY)){_.defer(ss.mkdel(hY,hY.focus))}}},ss.makeGenericType(spiff.BaseView$1,[eB]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[eB])]);ss.initClass(eB,a,{add_shown:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_shown:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_hidden:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_hidden:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_logOnCanceled:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_logOnCanceled:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_logOnCompleted:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_logOnCompleted:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},get_logOnUrl:function(){return'/'},dispose:function(){this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;spiff.BaseViewModel.prototype.dispose.call(this)},showLogOn:function(){spiff.ObjectRegistry.newView(eA).call(null,[this]);if(ss.isValue(this.$2$1)){this.$2$1()}},cancel:function(){if(ss.isValue(this.$2$2)){this.$2$2()}if(ss.isValue(this.$2$3)){this.$2$3()}},logOnComplete:function(){if(ss.isValue(this.$2$2)){this.$2$2()}if(ss.isValue(this.$2$4)){this.$2$4()}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(eC,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(eD,a,{get_compositeSearchWidget:function(){return this.$h},get_isCollapsed:function(){return this.$i},set_isCollapsed:function(e){this.$i=e;this.mapsSearchView.toggleClass('tabMapsSearchViewCollapsed',this.$i);this.mapsSearchView.parent().toggleClass('tabMapsSearchContainerCollapsed',this.$i)},get_isVisible:function(){return this.$j},set_isVisible:function(e){if(tab.FeatureParamsLookup.getBool(28)===true){e=true}if(this.$j===e){return}this.$j=e;this.mapsSearchViewTemplate.get_template().domRoot.css('display',(this.$j?'':'none'))},get_gotoMyLocationButtonEnabled:function(){return tab.FeatureParamsLookup.getBool(32)===true&&tab.BrowserSupport.get_isGeolocationSupported()},$b:function(e){this.mapsSearchView.removeClass('tabMapsSearchViewTranslucent')},$c:function(e){this.mapsSearchView.addClass('tabMapsSearchViewTranslucent')},$a:function(e){this.$e();if(e.trim().length===0){this.removeList()}else{this.$g();this.$f()}},showNewSuggestions:function(e,L){if(!ss.referenceEquals(e,this.$h.get_textInputView().get_text())||ss.isNullOrUndefined(L)){return}this.$k=tab.MiscUtil.dispose(this.$k);this.$k=[];for(var hT=0;hT<L.length;hT++){var hU=L[hT];this.$k.push(spiff.ListItemViewModel.newListItem(hT.toString(),hU,false,false,false))}this.get_compositeSearchWidget().showList(this.$k,this,this.mapsSearchView)},$g:function(){if(ss.isNullOrUndefined(this.$k)){return}this.get_compositeSearchWidget().showList(this.$k,this,this.mapsSearchView)},$9:function(e){var L=$("<span class='tab-list-item-label'/>");var hT='<span/>';var hU=$(hT);var hV=$(hT);hU.addClass('tabMapsSearchViewSuggestionDisplayName');var hW=e.JYk;var hX=ss.trimEndString(this.$h.get_textInputView().get_text());if(ss.startsWithString(hW.toLowerCase(),hX.toLowerCase())){var hY=$(hT);hY.addClass('tabMapsSearchViewSuggestionActiveSearchText');hY.text(hW.substr(0,hX.length));hU.append(hY);var hZ=$(hT);hZ.text(hW.substr(hX.length));hU.append(hZ)}else{hU.text(e.JYk)}L.append(hU);hV.addClass('tabMapsSearchViewSuggestionParentName');hV.text(e.JiO);L.append(hV);return L},handleEnterKeyPress:function(){this.$e();if(ss.isValue(this.get_compositeSearchWidget().get_listViewModel())){this.mapsSearchViewModel.moveMapToCandidateBounds(this.get_compositeSearchWidget().get_listViewModel().get_collection()[0].get_data());this.removeList()}else{this.mapsSearchViewModel.commitToSearchString(this.get_compositeSearchWidget().get_textInputView().get_text())}},handleListItemClick:function(e){this.$e();this.removeList();this.mapsSearchViewModel.moveMapToSuggestionListItem(e)},collapseSearchWidget:function(){this.set_isCollapsed(true)},removeList:function(){this.$h.removeList();this.$k=tab.MiscUtil.dispose(this.$k)},setGeoLocationButtonVisibility:function(e){if(e){this.gotoMyLocationButton.element.css('display','inline-block')}else{this.gotoMyLocationButton.element.css('display','none')}},handleSearchButtonClick:function(){this.$e();this.set_isCollapsed(!this.$i);if(!this.$i){if(!tab.BrowserSupport.get_isIE()){this.$h.get_textInputView().get_inputElement().focus()}if(this.get_compositeSearchWidget().get_textInputView().get_text().length>0){this.selectAllSearchText()}}},$f:function(){this.queryDelayTimer=window.setTimeout(ss.mkdel(this,this.$d),200)},$e:function(){this.queryDelayTimer=tab.MiscUtil.clearTimeout(this.queryDelayTimer)},$d:function(){this.mapsSearchViewModel.getSuggestionsForSearchString(this.get_compositeSearchWidget().get_textInputView().get_text());this.$e()},updateSearchTextValue:function(e){var L=e.JYk;if(!ss.isNullOrEmptyString(e.JiO)){L+=', '+e.JiO}this.get_compositeSearchWidget().setSearchText(L)},selectAllSearchText:function(){tab.DomUtil.selectAllInputText(this.$h.get_textInputView().get_inputElement())},enableUserInteraction:function(e){this.element.css({'pointer-events':(e?'auto':'none')})},createListItemContent:function(e){return this.$9(e.get_data())},dispose:function(){this.$h.dispose();if(ss.isValue(this.gotoMyLocationButton)){this.gotoMyLocationButton.dispose()}ss.makeGenericType(spiff.BaseView$1,[eE]).prototype.dispose.call(this)}},ss.makeGenericType(spiff.BaseView$1,[eE]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[eE]),spiff.IListItemContentCreator]);ss.initClass(eE,a,{add_receivedNewSuggestions:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_receivedNewSuggestions:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_updateTextInputValue:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_updateTextInputValue:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_onMoveMapToBounds:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_onMoveMapToBounds:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_visualID:function(){return this.$2},commitToSearchString:function(e){e=e.trim();this.sendGeographicSearchQuery(e,1,ss.mkdel(this,this.moveToTopGeographicCandidate))},getSuggestionsForSearchString:function(e){this.sendGeographicSearchQuery(e,5,ss.mkdel(this,this.processGeographicSuggestions))},moveMapToCandidateBounds:function(e){if(ss.isValue(this.$2$2)){this.$2$2(e)}if(ss.isValue(this.$2$3)){this.$2$3(e.v_N)}tab.PaneClientCommands.boundingBoxPan(this.$2,e.v_N)},moveMapToSuggestionListItem:function(e){var L=e.get_data();this.moveMapToCandidateBounds(L)},moveToTopGeographicCandidate:function(e){var L=e.vOC;if(L.length===0){}else{var hT=L[0];this.moveMapToCandidateBounds(hT)}},processGeographicSuggestions:function(e){if(!ss.isValue(this.$2$1)){return}var L=[];for(var hT=0;hT<e.vOC.length;hT++){L.push(e.vOC[hT])}this.$2$1(e.Ikc,L)},sendGeographicSearchQuery:function(e,L,hT){var hU=tsConfig.workbookLocale||'en_us';tab.PaneClientCommands.geographicSearchQuery(this.$2,e,hU,L,hT)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(eG,a,{});ss.initClass(eH,a,{dispose:function(){$(document).off('.ModifierKeyState');$(window).off('.ModifierKeyState')},$1:function(){this.$4(true)},$0:function(){this.$4(false)},$2:function(){if('focus'in window.self){window.focus()}},$3:function(e){if(!this.$5&&!tab.BrowserSupport.get_isIE()){if(tab.BrowserSupport.get_isFF()&&ss.isValue(document.activeElement)){tab.DomUtil.blur()}this.$2()}eH.fireModifierKeysChanged(e)},$4:function(e){if(e===this.$5){return}this.$5=e}},null,[ss.IDisposable]);ss.initClass(eI,a,{});ss.initClass(eJ,a,{add_fontsReady:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_fontsReady:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_fontDownloading:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_fontDownloading:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},reset:function(){},addFonts:function(e){for(var L=0;L<e.length;L++){var hT=e[L];var hU=ss.mkdict(['style',hT.get_style(),'weight',hT.get_weight()]);var hV=new FontFace(hT.get_fontFamily(),hT.get_source(),hU);if(ss.keyExists(this.$2,hT.get_hash())){continue}eJ.$0().add(hV);this.$2[hT.get_hash()]=hV}},downloadFonts:function(){var e=_.values(this.$2);for(var L=0;L<e.length;L++){var hT=e[L];if(hT.status==='unloaded'){this.$3.push(hT.load());this.$0()}}},finishDownloadingFonts:function(){if(this.$3.length>0){Promise.all(this.$3).then(ss.mkdel(this,this.$1))}else{this.$1()}},$1:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}},$0:function(){if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}}},null,[dG]);ss.initEnum(eK,a,{root:0,pane:1,bin:2,mark:3,lineSegmentUnionRect:4,trendLineSegment:5,userPane:6});ss.initClass(eL,a,{});ss.initClass(eN,a,{add_shown:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_shown:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_hidden:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_hidden:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_message:function(){return this.$6},set_message:function(e){this.$6=e},get_visible:function(){return this.$7},get_autoHideTimeout:function(){return this.$4},set_autoHideTimeout:function(e){this.$4=e},get_displayPosition:function(){return this.$5},set_displayPosition:function(e){this.$5=e},show:function(){if(this.$7){return}this.$7=true;if(this.$4>0){this.$3=window.setTimeout(ss.mkdel(this,this.hide),this.$4)}this.raiseActionEvent(this.$2$1)},disposeOnHide:function(){this.add_hidden(ss.mkdel(this,this.dispose));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hidden(ss.mkdel(this,this.dispose))})))},hide:function(){if(this.$7===false){return}this.$7=false;window.clearTimeout(this.$3);this.raiseActionEvent(this.$2$2)},$2:function(e,L){this.hide()}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(eP,a,{get_location:function(){return{x:ss.Int32.trunc(this.$7.x),y:ss.Int32.trunc(this.$7.y)}},set_location:function(e){this.$7={x:e.x,y:e.y};this.$6()},clone:function(){return new eP(this.$8.get(0),this.element.attr('src'))},show:function(e){this.$7=e;this.$6()},hide:function(){this.element.detach()},$6:function(){if(!ss.referenceEquals(this.element.parent()[0],this.$8[0])){this.$8.append(this.element)}if(ss.isNullOrUndefined(this.$7)){return}var e=this.$7.y;var L=this.$7.x;this.element.css(ss.mkdict(['top',e+'px','left',L+'px']))}},spiff.Widget,[spiff.IAppendableView,ss.IDisposable,dQ]);ss.initClass(eQ,a,{show:function(){if(ss.isNullOrUndefined(this.$8)){this.element.appendTo(document.body)}else{this.element.appendTo(this.$8)}this.element.css(ss.mkdict(['opacity','0.01','filter','alpha(opacity=01)','display','']));this.element.fadeTo('fast',this.$7)},hide:function(){this.element.fadeOut('fast',ss.mkdel(this,this.$6))},bind:function(e,L){this.element.on(e,L)},$6:function(){this.element.remove()}},spiff.Widget,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(eR,a,{buildItem:function(e){var L=['tabPagableUserListItem'];if(ss.referenceEquals(e,this.props.activeUser)){L.push('active')}return React.DOM.div({className:L.join(' ')},e.friendlyName)},getUniqueKey:function(e){return e.id},getEventHandleSpecForItem:function(e){return{tap:ss.mkdel(this,function(L){this.props.userListViewModel.selectUser(e.data)})}},onScrollStop:function(e,L){this.props.userListViewModel.handleScrollStop(e,L)},shouldScrollbarAlwaysBeShown:function(){return true}},ss.makeGenericType(spiff.PagableListComponent$2,[Object,tab.User]));ss.initClass(eS,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(eT,a,{get_zonePresModel:function(){return this.pageViewModel.get_pageModel().get_zone()},get_domRoot:function(){return this.get_template().domRoot},dispose:function(){if(ss.isValue(this.$9)){this.$9.destroyRecursiveShim(false);this.$9=null}ss.makeGenericType(spiff.BaseView$1,[eU]).prototype.dispose.call(this)},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(ss.isValue(this.pageViewModel.get_pageModel())){this.handleNewPage()}},handleNewPage:function(){if(ss.isNullOrUndefined(this.$9)&&ss.isValue(this.pageViewModel.get_pageModel())&&ss.isValue(this.pageViewModel.get_pageModel().pm)){this.$9=this.createCurrentPagePanel();this.get_template().domRoot.append(this.$9.getDomNode());this.$9.startupShim();var e={x:0,y:0,w:this.get_zonePresModel().rec,h:this.get_zonePresModel().EUR};tab.DomUtil.resize(this.$9,tab.RectXYUtil.toRect(e))}else{var L=this.createCurrentPagePanelProperties();this.$9.updatePropertiesShim(L);this.$9.refreshLayoutShim()}},updateSize:function(){if(ss.isValue(this.pageViewModel.get_pageModel())&&ss.isValue(this.pageViewModel.get_pageModel().pm)){this.$9.destroyRecursiveShim$1();this.$9=null;this.handleNewPage()}},createCurrentPagePanelProperties:function(){var e=this.pageViewModel.get_pageModel().pm;var L=new Object;L.cpHeight=this.get_zonePresModel().EUR;L.sheetid=this.get_zonePresModel().Gge;L.zid=this.get_zonePresModel().BCp;L.enable=this.pageViewModel.get_historyTrailsEnabled();L.show_slider=e.Xmc;L.show_toggle=this.pageViewModel.get_showHistoryToggle();L.show_dropdown=e.uin;L.current_page=e.f_c;L.pages=e.tMd;L.session=this.pageViewModel.get_viewSession();L.layoutSession=this.pageViewModel.get_layoutSession();L.lTitle=this.pageViewModel.get_pageModel().get_title();L.titleHtml=e.XjF;L.zoneTitleHeight=this.get_zonePresModel().jZr;L.zoneTitleWidth=this.get_zonePresModel().nkG1;L.isDashboard=true;L.pageViewModel=this.pageViewModel;return L},createCurrentPagePanel:function(){var e=this.createCurrentPagePanelProperties();return this.instantiateCurrentPagePanel(e)},instantiateCurrentPagePanel:function(e){var L=spiff.ObjectRegistry.resolve(Tableau.JavaScript.Vql.LegacyDojoModuleInterfaces.ILegacyDojoWidgetMaker).call(null,[]);return L.makeCurrentPagePanelWidget(e)}},ss.makeGenericType(spiff.BaseView$1,[eU]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[eU])]);ss.initClass(eU,a,{add_newPage:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newPage:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_resized:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_resized:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_pageModel:function(){return this.$2},get_viewSession:function(){return tab.ModelUtils.getViewSession(this.get_pageModel().get_zone().Gge)},get_layoutSession:function(){return tab.CommandController.get().get_legacySession()},get_visualId:function(){return tab.ModelUtils.getVisualId(this.get_pageModel().get_zone().Gge)},get_historyTrailsEnabled:function(){return this.$2.pm.TjM.chK},get_isHistoryToggleInteractionDisabled:function(){return tab.ApplicationModel.get_instance().get_workbook().get_isCurrentSheetStoryboard()},get_showHistoryToggle:function(){var e=this.$2.pm.SCY;if(tsConfig.is_mobile&&this.get_isHistoryToggleInteractionDisabled()&&!this.get_historyTrailsEnabled()){e=false}return e},get_showHistoryToggleForPopup:function(){var e=this.get_showHistoryToggle();if(this.get_isHistoryToggleInteractionDisabled()){e=false}return e},handleNewPage:function(e){this.raiseActionEvent(this.$2$1)},handleParentZoneResized:function(){this.raiseActionEvent(this.$2$2)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,Tableau.JavaScript.Vql.LegacyDojoModuleInterfaces.IPageViewModel]);ss.initClass(eV,a,{get_hasLabels:function(){return ss.isValue(this.labelColumnIterators)},get_hasSelection:function(){return this.sceneInfo.$r()},get_hasBrushing:function(){return this.sceneInfo.$q()},get_lineDrawState:function(){if(this.$j===null){this.$j=new ew(this)}return this.$j},get_hasBackground:function(){var e=ss.keyExists(this.c,'pane_has_background');if(e){var L=this.c['pane_has_background'];e=L.v[(L.c?0:0)]===true}return e},get_hasHalos:function(){var e=ss.keyExists(this.c,'has_halos');if(e){var L=this.c['has_halos'];e=L.v[(L.c?0:0)]===true}return e},get_hasHaloHighlightColor:function(){return ss.keyExists(this.c,'highlighted_halo_color')&&this.c['highlighted_halo_color'].isValid},get_borderColor:function(){var e;if(ss.keyExists(this.c,'border_color')){var L=this.c['border_color'];e=L.v[(L.c?0:0)]}else{e=null}return e},get_minBarWidth:function(){var e;if(ss.keyExists(this.c,'min_bar_width')){var L=this.c['min_bar_width'];e=L.v[(L.c?0:0)]}else{e=0}return e},get_minBarHeight:function(){var e;if(ss.keyExists(this.c,'min_bar_height')){var L=this.c['min_bar_height'];e=L.v[(L.c?0:0)]}else{e=0}return e},get_lineInterpolation:function(){var e;if(ss.keyExists(this.c,'line_interp')){var L=this.c['line_interp'];e=L.v[(L.c?0:0)]}else{e='lim-linear'}return e},get_lineMarkerPosition:function(){var e;if(ss.keyExists(this.c,'line_marker_pos')){var L=this.c['line_marker_pos'];e=L.v[(L.c?0:0)]}else{e='lmp-left'}return e},get_textStyleColumns:function(){return this.textStyleColumnIterators},get_mapExtentOrPaneRect:function(){return this.mapExtents||this.paneRect},get_clipLabelToCell:function(){return this.truncateLabelToCell},get_paneDescriptorKey:function(){return this.paneMarks.fDN},get_hasGlobalTransparency:function(){return this.globalAlpha<1},get_extents:function(){return this.domainExtents},get_paneFlags:function(){return this.$n},set_paneFlags:function(e){this.$n=e;this.$a()},getTextRunProperty:function(e,L){if(ss.isNullOrUndefined(this.textRunColumnIterators)||!ss.keyExists(this.textRunColumnIterators,e)){return null}var hT=this.textRunColumnIterators[e];return hT.v[(hT.c?0:L)]},markHasLabel:function(e){if(tab.FeatureFlags.isEnabled('HideMarkLabelsAsLocalAction')){if(!this.showLabels){return false}if(this.labelMode==='mlm-selection'&&this.getMarkState(e)!=='markStateSelected'){return false}if(this.labelMode==='mlm-highlight'&&this.getMarkState(e)!=='markStateHighlighted'){return false}}return this.c['label_index'].gv(e)!==-1},getOneColorAlpha:function(e,L,hT){var hU=null;this.$i=this.$i||{};if(!ss.keyExists(this.$i,e)){hU=tab.ColorModel.fromArgbInt(e);this.$i[e]=tab.SceneDataUtil.createColorCollection(hU,this.foggedBackgroundColor,this.fogBlendFactor)}var hV=this.$i[e];if(L==='colorOverrideReplaceAlpha'){hU=hU||tab.ColorModel.fromArgbInt(e);return tab.ColorModel.fromColorModelPlusAlpha(hU,hT/255).toRgba()}return hV[L]},getMarkColors:function(e){var L='color';if(this.forceOpaqueColors&&this.c['opaque_color'].isValid){L='opaque_color'}var hT=this.c[L].gv(e);if(this.isMarkFiltered(e)){var hU={};hU['colorOverrideFog']=hT['colorOverrideFog'];hU['colorOverrideNone']=hT['colorOverrideFog'];hU['colorOverrideOpaque']=hT['colorOverrideFog'];hT=hU}return hT},getMarkGeometry:function(e){return this.sceneInfo.$7(this.pdMarksKey,e)},isMarkPropertyConstant:function(e){return this.c[e].c},computeDirtyMarks:function(e){this.$h={};var L=tab.RectXYUtil.completelyContains(e,this.paneRect);var hT=this.c['tuple_id'];for(var hU=0;hU<this.markCount;hU++){var hV=hT.v[(hT.c?0:hU)];if(!this.isTupleVisible(hV)){continue}if(L){this.$h[hU]=true;continue}if(this.markType==='line'||this.markType==='area'){this.$h[hU]=true}else{var hW=this.$6(hV);var hX=this.getMarkInstanceOffsets(hU);if(tab.RectXYUtil.intersectsWithAny$1(e,hW,hX)){this.$h[hU]=true}}}},clearDirtyMarks:function(){this.$h=null},markNeedsDraw:function(e){return ss.isValue(this.$h)&&ss.keyExists(this.$h,e)},markLabelNeedsDraw:function(e,L){if(this.getMarkState(e)==='markStateInvisible'){return false}var hT=this.getMarkLabelBounds(e);var hU=this.getMarkInstanceOffsets(e);return tab.RectXYUtil.intersectsWithAny$1(L,hT,hU)},refreshMarkState:function(){this.$l=this.sceneInfo.computeTupleStates(this.c['tuple_id']);this.$m={};for(var e=0;e<this.markCount;e++){if(this.$3(e)){this.$m[e]=true}}if(this.$b()){this.$j=new ew(this)}},getMarkState:function(e){if(ss.isValue(this.$l)&&this.$l.length>e){return this.$l[e]}return this.$2(e)},getMarkLabelState:function(e){if(this.$b()){var L=this.get_lineDrawState().get_lineAttributes();for(var hT=0;hT<L.length;hT++){var hU=L[hT];if(hU.startIndex<=e&&e<=hU.endIndex){switch(hU.get_lineState()){case'lineStateHighlighted':{return(this.$c(e)?'markStateHighlighted':this.getMarkState(e))}case'lineStateSelected':{if(this.markType==='pie'&&!this.$c(e)){return this.getMarkState(e)}return'markStateSelected'}case'lineStateNormal':{return'markStateNormal'}}return'markStateNormal'}}}return this.getMarkState(e)},getMarkLabelProperty:function(e,L){if(this.markType==='text'){return this.c[e].gv(L)}var hT=this.c['label_index'].gv(L);if(hT===-1){return null}var hU=this.labelColumnIterators[e];return hU.v[(hU.c?0:hT)]},getAllMarkBounds:function(){var e=new Array(this.markCount);var L=this.c['tuple_id'];var hT=this.c['label_index'];for(var hU=0;hU<this.markCount;hU++){var hV=L.v[(L.c?0:hU)];var hW=this.sceneInfo.getMarkBoundingBox(hV);var hX=((hT.v[(hT.c?0:hU)]===-1)?null:this.sceneInfo.$6(hV));e[hU]={item1:hW,item2:hX}}return e},getMarkBounds:function(e){var L=this.c['tuple_id'];return this.$6(L.v[(L.c?0:e)])},getMarkIndexFromTupleID:function(e){return this.tupleToIndexMap[e]},containsTuple:function(e){return ss.isValue(this.tupleToIndexMap[e])},getMarkLabelBounds:function(e){var L=this.sceneInfo;var hT=this.c['tuple_id'];return L.$6(hT.v[(hT.c?0:e)])},getInsetPaneClipRect:function(e,L){var hT=2*L;var hU=this.getUserPaneRectByIndex(e);return{x:hU.x+L,y:hU.y+L,w:hU.w-hT,h:hU.h-hT}},getUserPaneRectByMark:function(e){if(this.hasUserPanes){return this.$g.$8(e)}else{return{x:0,y:0,w:this.paneRect.w,h:this.paneRect.h}}},getUserPaneRectByIndex:function(e){if(this.hasUserPanes){return this.$g.$7(e)}else{return{x:0,y:0,w:this.paneRect.w,h:this.paneRect.h}}},getUserPaneRectByTupleID:function(e){if(this.hasUserPanes){return this.$g.$8(this.getMarkIndexFromTupleID(e))}else{return{x:0,y:0,w:this.paneRect.w,h:this.paneRect.h}}},$8:function(e){if(!this.hasUserPanes){return this.markCount}else{return this.$g.$5(e)}},$9:function(e){if(!this.hasUserPanes){return{firstMark:0,lastMark:this.markCount-1}}else{return this.$g.$6(e)}},$7:function(e){if(!this.hasUserPanes){return 0}else{return this.$g.$4(e)}},$e:function(e){if(!this.hasUserPanes){var L=this.getUserPaneRectByIndex(0);var hT=this.markCount;for(var hU=0;hU<hT;++hU){e(hU,L)}}else{this.$g.$9(e)}},$f:function(e,L){if(!this.hasUserPanes){var hT=this.getUserPaneRectByIndex(0);for(var hU=0;hU<e.length;hU++){var hV=e[hU];L(hV,hT)}}else{this.$g.$a(e,L)}},getMarkInstanceOffsets:function(e){if(!this.isWrappedDomain||ss.isNullOrUndefined(this.$k)){return eV.$b}return this.$k[e]},getWorldInstanceOffsets:function(e,L){if(!this.isWrappedDomain){return eV.$b}var hT=Math.ceil((this.paneRect.x-L)/this.worldWidth);var hU=Math.floor((this.paneRect.x+this.paneRect.w-e)/this.worldWidth);var hV=hU-hT+1;var hW=new Array(hV);var hX=hT*this.worldWidth;for(var hY=0;hY<hV;hY++,hX+=this.worldWidth){hW[hY]=hX}return hW},getWorldOffsetBounds:function(e){var L=[];var hT=this.getWorldInstanceOffsets(e.x,e.x+e.w);var hU=hT.length;for(var hV=0;hV<hU;hV++){var hW=hT[hV];if(hW!==0){var hX=tab.RectXYUtil.offsetRectXY(e,ss.Int32.trunc(hW)|0,0);L.push(hX)}else{L.push(e)}}return L},isTupleSelected:function(e){return e!==0&&this.sceneInfo.$e(e)},isMarkSelected:function(e){var L=this.c['tuple_id'];return this.isTupleSelected(L.v[(L.c?0:e)])},isMarkImpliedSelected:function(e){var L=this.c['tuple_id'];var hT=L.v[(L.c?0:e)];return hT!==0&&this.sceneInfo.$d(hT)},isTupleHighlighted:function(e){return e!==0&&this.sceneInfo.$b(e)},isMarkHighlighted:function(e){var L=this.c['tuple_id'];var hT=L.v[(L.c?0:e)];return this.isTupleHighlighted(hT)},isTupleVisible:function(e){return e!==0&&this.sceneInfo.$f(e)},isMarkFiltered:function(e){var L=this.c['tuple_id'];var hT=L.v[(L.c?0:e)];return hT!==0&&this.sceneInfo.$c(hT)},isLineSegmentVisible:function(e,L){return this.getMarkState(e)!=='markStateInvisible'&&this.getMarkState(L)!=='markStateInvisible'},isLineSegmentFiltered:function(e,L){return this.isMarkFiltered(e)||this.isMarkFiltered(L)},shouldStampThisShapeMark:function(e){if(this.$o){return true}if(ss.isNullOrUndefined(this.shapeMarkStampingDecision)){return false}if(e>=this.markCount){return false}return this.shapeMarkStampingDecision[e]},isMarkEndPrimitive:function(e){var L=this.c['mark_flags'].gv(e);return tab.SceneDataUtil.isMarkFlagSet(L,'endprimitive')},isMarkDebug:function(e){var L=this.c['mark_flags'].gv(e);return tab.SceneDataUtil.isMarkFlagSet(L,'debug')},shouldShowMarker:function(e){if(ss.isNullOrUndefined(this.$m)){return this.$3(e)}return ss.keyExists(this.$m,e)},$5:function(e,L,hT){var hU=null;if(L>=0&&!this.hasConstantColor&&this.markType==='text'){hU=this.getMarkColors(L)}else if(ss.isValue(this.textStyleColumnIterators)&&ss.keyExists(this.textStyleColumnIterators,'text_style_color')){var hV=this.textStyleColumnIterators['text_style_color'];hU=hV.v[(hV.c?0:e)]}if(ss.isNullOrUndefined(hU)){return'black'}if(L!==-1&&this.isMarkFiltered(L)){hT='colorOverrideFog'}return hU[hT]},thisDomainToPixelX:function(e){return eV.domainToPixelX(e,this.domainExtents,this.paneRect)},thisDomainToPixelY:function(e){return eV.domainToPixelY(e,this.domainExtents,this.paneRect)},thisDomainToPixelWidth:function(e){return eV.domainToPixelWidth(e,this.domainExtents,this.paneRect)},thisDomainToPixelHeight:function(e){return eV.domainToPixelHeight(e,this.domainExtents,this.paneRect)},$b:function(){return this.markType==='line'||this.markType==='area'||this.markType==='pie'},$c:function(e){return this.getMarkLabelProperty('label_one_per_group',e)},$3:function(e){var L=this.c['mark_flags'].gv(e);return tab.SceneDataUtil.isMarkFlagSet(L,'marked')||tab.SceneDataUtil.isMarkFlagSet(L,'markediflabel')&&this.markHasLabel(e)&&!this.$c(e)},setUserPaneInfo:function(e){if(ss.isNullOrUndefined(e)){return}if(this.markType==='text'){return}this.$g=new ho(e,this);this.userPaneCount=this.$g.$i;this.hasUserPanes=true},processColors:function(e){var L=this.$d();if(ss.isNullOrUndefined(e)||!ss.keyExists(this.c,'color_idx')){if(L){this.$0()}return}var hT=tab.VisualColumnHelpers.buildColorTable(e,this.c,this.foggedBackgroundColor,this.fogBlendFactor);var hU=null;if(L){hU=tab.VisualColumnHelpers.buildOpaqueColorTable(hT)}var hV=this.c['color_idx'];var hW=hV.length;var hX=new Array(hW);var hY=(L?new Array(hW):null);for(var hZ=0;hZ<hW;hZ++){var ia=hV.v[(hV.c?0:hZ)];hX[hZ]=hT[ia];if(L){hY[hZ]=hU[ia]}}this.c['color']=tab.VisualColumnIterator.create(hX);if(L){this.c['opaque_color']=tab.VisualColumnIterator.create(hY)}delete this.c['color_idx']},$0:function(){var e=this.c['color'];if(ss.isValue(e)){var L=new Array(e.length);for(var hT=0;hT<e.length;++hT){L[hT]=tab.SceneDataUtil.createOpaqueColorCollection(e.v[(e.c?0:hT)])}this.c['opaque_color']=tab.VisualColumnIterator.create(L)}},buildTupleLookup:function(){ss.clearKeys(this.tupleToIndexMap);var e=this.c['tuple_id'];var L=e.length;for(var hT=0;hT<L;hT++){this.tupleToIndexMap[e.v[(e.c?0:hT)]]=hT}},$6:function(e){return this.sceneInfo.getMarkBoundingBox(e)},$d:function(){return this.markType==='line'&&this.get_hasGlobalTransparency()},transformColumnData:function(e){var L=tab.VisualColumnHelpers.transformColumn(e['alpha'],function(iu){return iu/255});for(var hT=0;hT<eV.$1.length;hT++){var hU=eV.$1[hT];var hV={$:L&&(hU==='color'||hU==='text_style_color')};var hW;if(hV.$){var hX=e['alpha'];hW=hX.v[(hX.c?0:0)]}else{hW=1}var hY={$:hW};tab.VisualColumnHelpers.transformColumn(e[hU],ss.mkdel({useAlpha:hV,colorAlpha:hY,$this:this},function(iu){var iv=tab.ColorModel.fromArgbInt(iu);if(this.useAlpha.$){iv=new tab.ColorModel(iv.get_r(),iv.get_g(),iv.get_b(),this.colorAlpha.$*iv.get_a())}return tab.SceneDataUtil.createColorCollection(iv,this.$this.foggedBackgroundColor,this.$this.fogBlendFactor)}))}tab.VisualColumnHelpers.transformColumn(e['shape_id'],function(iu){return tab.SceneDataUtil.shapeMapping[iu]||iu});tab.VisualColumnHelpers.transformColumn(e['line_interp'],function(iu){return tab.SceneDataUtil.lineInterpolationMapping[iu]||iu});tab.VisualColumnHelpers.transformColumn(e['line_marker_pos'],function(iu){return tab.SceneDataUtil.lineMarkerPositionMapping[iu]||iu});if(ss.isValue(this.paneRect)&&ss.isValue(this.domainExtents)&&this.domainExtents.w!==0&&this.domainExtents.h!==0){var hZ=_.keys(eV.$a);for(var ia=0;ia<hZ.length;ia++){var ib=hZ[ia];var ic={$:1};var id={$:0};var ie=ib+'_int';if(ss.contains(eV.$4,ib)){var ig=100*Math.max(1,this.paneRect.w);ic.$=this.domainExtents.w/ig;id.$=this.domainExtents.x}else if(ss.contains(eV.$5,ib)){var ih=100*Math.max(1,this.paneRect.h);ic.$=this.domainExtents.h/ih;id.$=this.domainExtents.y}else{ic.$=(eV.$a[ib].y-eV.$a[ib].x)/32767;id.$=eV.$a[ib].x}var ii=tab.VisualColumnHelpers.transformColumn(e[ie],ss.mkdel({scale:ic,offset:id},function(iu){return(ss.isValue(iu)?(iu*this.scale.$+this.offset.$):null)}));if(ii){e[ib]=e[ie];delete e[ie]}}var ij={x:0,y:0,w:this.paneRect.w,h:this.paneRect.h};for(var ik=0;ik<eV.$4.length;ik++){var il=eV.$4[ik];tab.VisualColumnHelpers.transformColumn(e[il],ss.mkdel(this,function(iu){return eV.domainToPixelX(iu,this.domainExtents,ij)}))}for(var im=0;im<eV.$3.length;im++){var io=eV.$3[im];tab.VisualColumnHelpers.transformColumn(e[io],ss.mkdel(this,function(iu){return eV.domainToPixelWidth(iu,this.domainExtents,this.paneRect)}))}for(var ip=0;ip<eV.$5.length;ip++){var iq=eV.$5[ip];tab.VisualColumnHelpers.transformColumn(e[iq],ss.mkdel(this,function(iu){return eV.domainToPixelY(iu,this.domainExtents,ij)}))}for(var ir=0;ir<eV.$2.length;ir++){var it=eV.$2[ir];tab.VisualColumnHelpers.transformColumn(e[it],ss.mkdel(this,function(iu){return eV.domainToPixelHeight(iu,this.domainExtents,this.paneRect)}))}}},$4:function(e,L){var hT={};if(ss.keyExists(e,'font')){var hU=e['font'];var hV=hU.uBu.length;var hW=new Array(hV);for(var hX=0;hX<hV;++hX){hW[hX]=eV.$0(e,hX)}hT['font']=tab.VisualColumnIterator.create(hW);var hY=_.keys(e);for(var hZ=0;hZ<hY.length;hZ++){var ia=hY[hZ];if(!ss.contains(eV.$6,ia)){var ib=e[ia];hT[ia]=tab.VisualColumnHelpers.createDataArray(ib,0,ib.uBu.length)}}if(L){var ic=this.c['alpha'].gv(0);if(ss.isValue(ic)){hT['alpha']=tab.VisualColumnIterator.create([ic*255])}}this.transformColumnData(hT);tab.VisualColumnHelpers.transformColumn(hT['text_orientation'],function(id){return eV.$c[id]});tab.VisualColumnHelpers.transformColumn(hT['text_alignment'],function(id){var ie='start';var ig=id;if(ig===2){ie='end'}return ie})}return hT},prepareLeftRight:function(){var e=new Array(this.markCount);var L=new Array(this.markCount);for(var hT=0;hT<this.markCount;++hT){e[hT]=-1;L[hT]=-1}var hU=0;var hV=this.c['mark_flags'];for(var hW=0;hW<this.markCount;hW++){var hX=hV.v[(hV.c?0:hW)];if(!tab.SceneDataUtil.isMarkFlagSet(hX,'end')){L[hW]=hW+1;e[hW+1]=hW}if(tab.SceneDataUtil.isMarkFlagSet(hX,'closedprimitive')){L[hW]=hU;e[hU]=hW}if(tab.SceneDataUtil.isMarkFlagSet(hX,'endprimitive')){hU=hW+1}}this.c['l_neighbor']=tab.VisualColumnIterator.create(e);this.c['r_neighbor']=tab.VisualColumnIterator.create(L)},setupBoundingBoxes:function(){var e=this.c['tuple_id'];var L={};var hT=new Array(this.markCount);this.$e(ss.mkdel(this,function(ic,id){var ie=eX.getMarkBoundingBox(ic,this,id);L[e.v[(e.c?0:ic)]]=ie;hT[ic]=ie}));if(this.markType==='pie'){var hU=new ew(this);var hV=hU.get_lineAttributes();for(var hW=0;hW<hV.length;hW++){var hX=hV[hW];var hY=[];var hZ=e.v[(e.c?0:hX.startIndex)];hY.push(hZ);var ia=tab.RectXYUtil.clone(L[hZ]);for(var ib=hX.startIndex+1;ib<=hX.endIndex;++ib){hZ=e.v[(e.c?0:ib)];hY.push(hZ);tab.RectXYUtil.unionInPlace(ia,L[hZ])}this.sceneInfo.$0(this,ia,hY)}}this.$1(hT);this.sceneInfo.$2(this,L)},setupCustomShapePositions:function(){if(this.markType==='shape'&&this.sceneInfo.customShapes.length>0){var e=[];var L=[];var hT=this.c['shape_id'];var hU=this.c['x'];var hV=this.c['y'];var hW=this.c['size'];for(var hX=0;hX<this.markCount;++hX){if(tab.SceneDataUtil.isCustomShape(hT.v[(hT.c?0:hX)])){var hY=hW.v[(hW.c?0:hX)]/2;e[hX]=Math.round(hU.v[(hU.c?0:hX)]-hY);L[hX]=Math.round(hV.v[(hV.c?0:hX)]-hY)}}if(e.length>0){this.c['left']=tab.VisualColumnIterator.create(e);this.c['top']=tab.VisualColumnIterator.create(L)}}},setupShapeMarkStampingMap:function(){if(this.markCount<eV.shapeMarkStampingRatio){return}if(tab.BrowserSupport.get_isIE()){this.shapeMarkStampingDecision=null;if(!this.sceneInfo.get_isSingleUserPane()){return}if(this.clipCase!==0){return}this.skipClipping=true}var e=this.isMarkPropertyConstant('color');var L=this.isMarkPropertyConstant('size');var hT=this.isMarkPropertyConstant('shape_id');if(hT){var hU=this.c['shape_id'].gv(0);if(!tab.SceneDataUtil.isSupportedStampShape(hU)){return}if(e&&L){this.$o=true;return}}var hV=this.c['size'];var hW=this.c['shape_id'];var hX={};var hY=new Array(this.markCount);for(var hZ=0;hZ<this.markCount;hZ++){hY[hZ]=false;var ia=[];if(!L){ia.push(hV.v[(hV.c?0:hZ)])}if(!hT){var ib=hW.v[(hW.c?0:hZ)];if(!tab.SceneDataUtil.isSupportedStampShape(ib)){continue}ia.push(ib)}if(!e){var ic=this.getMarkColors(hZ);ia.push(ic['colorOverrideNone'])}var id=ia.toString();if(!ss.keyExists(hX,id)){hX[id]=[]}hX[id].push(hZ)}var ie=false;var ig=0;var ih=_.keys(hX);for(var ii=0;ii<ih.length;ii++){var ij=ih[ii];var ik=hX[ij];if(ik.length>=eV.shapeMarkStampingRatio){for(var il=0;il<ik.length;il++){var im=ik[il];hY[im]=true;ig++}ie=true}}if(ig===this.markCount){this.$o=true;this.shapeMarkStampingDecision=null}else if(ie){this.shapeMarkStampingDecision=hY}else{this.shapeMarkStampingDecision=null}},parseTextInfo:function(e,L,hT){if(ss.isValue(e)){this.textRunColumnIterators={};var hU=_.keys(e);for(var hV=0;hV<hU.length;hV++){var hW=hU[hV];var hX=e[hW];this.textRunColumnIterators[hW]=tab.VisualColumnHelpers.createDataArray(hX,0,hX.uBu.length)}this.transformColumnData(this.textRunColumnIterators)}if(ss.isValue(L)){this.textStyleColumnIterators=this.$4(L,!hT)}},$1:function(e){if(!this.isWrappedDomain){this.markWorldOffsets={};this.markWorldOffsets[0]=new Set;return}this.markWorldOffsets={};var L=e.length;this.$k=new Array(L);for(var hT=0;hT<L;hT++){var hU=e[hT];this.$k[hT]=this.getWorldInstanceOffsets(hU.x+this.paneRect.x,hU.x+hU.w+this.paneRect.x);var hV=this.$k[hT];for(var hW=0;hW<hV.length;hW++){var hX=hV[hW];if(!ss.keyExists(this.markWorldOffsets,hX)){this.markWorldOffsets[hX]=new Set;for(var hY=0;hY<this.markCount;hY++){this.markWorldOffsets[hX].add(hY)}}this.markWorldOffsets[hX].delete(hT)}}},ensureLinePixelAlignment:function(){var e=this.c['size'];var L=this.c['x'];var hT=this.c['y'];var hU=this.c['r_neighbor'];var hV=this.markCount;for(var hW=0;hW<hV;hW++){var hX=hU.v[(hU.c?0:hW)];if(hX!==-1){var hY=e.v[(e.c?0:hW)];var hZ=e.v[(e.c?0:hX)];if(tab.DoubleUtil.isApproximatelyEqual(hY,hZ)&&Math.round(hY)%2===1){var ia=L.v[(L.c?0:hW)];var ib=hT.v[(hT.c?0:hW)];var ic={x:ia,y:ib};var id=L.v[(L.c?0:hX)];var ie=hT.v[(hT.c?0:hX)];var ig={x:id,y:ie};bn.modifyLineEndpoints(ic,ig,hY);L.v[(L.c?0:hW)]=ic.x;hT.v[(hT.c?0:hW)]=ic.y;if(hU.v[(hU.c?0:hX)]===-1){L.v[(L.c?0:hX)]=ig.x;hT.v[(hT.c?0:hX)]=ig.y}}}}},$a:function(){this.scaleMarksInX=tab.SceneDataUtil.isPaneFlagSet(this.$n,'enable-scale-x');this.scaleMarksInY=tab.SceneDataUtil.isPaneFlagSet(this.$n,'enable-scale-y');this.useCellClipForSelection=tab.SceneDataUtil.isPaneFlagSet(this.$n,'clip-to-cell-for-selection');this.paneHasCellsX=tab.SceneDataUtil.isPaneFlagSet(this.$n,'has-cells-x');this.paneHasCellsY=tab.SceneDataUtil.isPaneFlagSet(this.$n,'has-cells-y')},$2:function(e){var L=this.c['tuple_id'];var hT=[L.v[(L.c?0:e)]];var hU=this.sceneInfo.computeTupleStates(tab.VisualColumnIterator.create(hT));return hU[0]}});ss.initClass(eW,a,{});ss.initClass(eX,a,{drawReferenceLineAndTrendLineGroup:function(e,L,hT,hU,hV){var hW=false;var hX=null;var hY=null;var hZ=null;for(var ia=0;ia<e.length;ia++){var ib=e[ia];var ic=ib.VzB==='jpw'||ib.VzB==='ADd';var id=L==='hover'||L==='selected';var ie=true;if(ic&&id){var ig=tab.ColorModel.fromColorCode(hT.get_shapeFillStyle());if(ig.get_a()<1){if(L==='hover'){continue}ie=false}}var ih=ib.VzB==='Osj'||ib.VzB==='nuS'||ib.VzB==='MqA';if(hU||ih){if((ih||!ie)&&hW){hT.set_strokeStyle(hX.toString());hT.set_shapeFillStyle(hY.toString());hT.set_textFillStyle(hZ.toString());hW=false}if((ss.isValue(hV)||L!=='normal')&&!hW&&!ih&&ie){hX=tab.ColorModel.fromColorCode(hT.get_strokeStyle());hY=tab.ColorModel.fromColorCode(hT.get_shapeFillStyle());hZ=tab.ColorModel.fromColorCode(hT.get_textFillStyle());var ii=eX.$0(hX,L,ib.VzB,hV);var ij=eX.$0(hY,L,ib.VzB,hV);var ik=eX.$0(hZ,L,ib.VzB,hV);hW=!ss.referenceEquals(ii,hX.toString())||!ss.referenceEquals(ij,hY.toString())||!ss.referenceEquals(ik,hZ.toString());if(hW){hT.set_strokeStyle(ii);hT.set_shapeFillStyle(ij);hT.set_textFillStyle(ik)}}this.renderVisualParts(hT,ib)}}if(hW){hT.set_strokeStyle(hX.toString());hT.set_shapeFillStyle(hY.toString());hT.set_textFillStyle(hZ.toString())}},renderScene:function(e){this.$r=e.get_scene();var L=this.$r.scene;if(!ss.isValue(L)){return}this.$o.setRenderOffsetNoTranslate(this.get_renderOffset());var hT=this.get_currentContext().get_numberSavedStates();var hU=e.get_mapServerModel().get_useFastMaps();if(!hU){this.$n(e.get_vizRegionMap(),e.get_drawFirstParts())}var hV=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());var hW=3;hV=tab.RectXYUtil.outsetRect(hV,hW,hW);this.$r.prepareForDraw(hV);this.$j(L.HUq,hU);this.$r.cleanupFromDraw();this.$n(e.get_vizRegionMap(),e.get_drawLastParts());while(this.get_currentContext().get_numberSavedStates()>hT){this.get_currentContext().restore()}},renderViewportBorders:function(e){this.$r=e.get_scene();var L=this.$r.scene;if(ss.isNullOrUndefined(L)){return}var hT=this.$9(L.HUq);if(ss.isNullOrUndefined(hT)){return}var hU=[];var hV=this.get_currentCanvas().width-1;var hW=this.get_currentCanvas().height-1;var hX={x:0,y:0};var hY={x:hV,y:0};var hZ={x:0,y:hW};var ia={x:hV,y:hW};var ib=false;var ic=false;for(var id=0;id<hT.tOA.length;id++){var ie=hT.tOA[id];if(ie.VzB==='$OC'||ie.VzB==='jp$'){continue}if(ie.VzB==='uEs'){var ig=tab.MiscUtil.cloneObject(ie);if(ig.WzG[1]===ig.WzG[3]){if(ib){eX.$2(ig.WzG,hZ,ia)}else{eX.$2(ig.WzG,hX,hY)}ib=true}else{if(ic){eX.$2(ig.WzG,hY,ia)}else{eX.$2(ig.WzG,hX,hZ)}ic=true}hU.push(ig)}else{hU.push(ie)}}this.get_currentContext().save();this.$d(hU,null,'pane-borders');this.get_currentContext().restore()},renderAxisRulers:function(e,L,hT){var hU=e.get_vizRegionMap()['axis-rules'];if(ss.isValue(hU)){var hV=function(id,ie){var ig={};ig.VzB='uEs';ig.WzG=new Array(4);eX.$2(ig.WzG,id,ie);return ig};var hW=fR.calculatePixelRatio();var hX=this.get_currentCanvas().height-1;var hY=[];var hZ=hU.get_visualListPM().tOA;for(var ia=0;ia<hZ.length;ia++){var ib=hZ[ia];if(ib.VzB==='Osj'){hY.push(ib)}else if(ib.VzB==='uEs'){var ic=ib;if(ic.WzG[0]===ic.WzG[2]){hY.push(hV({x:0,y:-hT.y},{x:0,y:Math.round(hW*L.h)-hT.y}))}else if(ic.WzG[1]===ic.WzG[3]){hY.push(hV({x:-hT.x,y:hX},{x:Math.round(hW*L.w)-hT.x,y:hX}))}}}this.get_currentContext().save();this.$d(hY,null,'axis-rules');this.get_currentContext().restore()}},$9:function(e){for(var L=0;L<e.length;L++){var hT=e[L];for(var hU=0;hU<hT.MdI.length;hU++){var hV=hT.MdI[hU];if(hV.oqX==='pane-borders'){return hV}}}return null},$n:function(e,L){if(!ss.isValue(e)){return}for(var hT=0;hT<L.length;hT++){var hU=L[hT];var hV=e[hU];if(!ss.contains(fc.blackListVisualParts,hU)&&hU!=='axis-rules'){if(ss.isValue(hV)){this.get_currentContext().save();var hW=this.$r.get_imageDictionary();this.$o.renderVisualListHelper(hV,hW);this.get_currentContext().restore()}}}},$l:function(e,L){if(!ss.isValue(e)){return}this.get_currentContext().save();this.$d(e.tOA,L,e.oqX);this.get_currentContext().restore()},$e:function(e){for(var L=0;L<e.length;L++){var hT=e[L];if(!this.$b(hT)){continue}this.$p.renderGridLines(this.$q,this.$a(hT))}},$j:function(e,L){if(!ss.isValue(e)){return}if(!L){this.$m(e,'background');if(!tab.FeatureFlags.isEnabled('RuntimeNoWebClientChanges')&&tab.FeatureFlags.isEnabled('RuntimeGridLines')){this.$e(e)}}this.$g(e);this.$m(e,'foreground')},$m:function(e,L){for(var hT=0;hT<e.length;hT++){var hU=e[hT];if(!this.$b(hU)){continue}for(var hV=0;hV<hU.MdI.length;hV++){var hW=hU.MdI[hV];if(L===this.$8(hW.oqX)){if(!tab.FeatureFlags.isEnabled('RuntimeGridLines')||hW.oqX!=='cell-borders'){this.$l(hW,this.$a(hU))}}}}},$a:function(e){var L=_.find(e.MdI,function(hT){return hT.oqX==='marks'});if(ss.isValue(L)){return this.$r.$a(L.SgS)}return null},$g:function(e){var L=[];var hT=[];for(var hU=0;hU<e.length;hU++){var hV=e[hU];if(this.$b(hV)){L.push(hV);var hW=null;for(var hX=0;hX<hV.MdI.length;hX++){var hY=hV.MdI[hX];if(hY.oqX==='marks'){hW=this.$r.$a(hY.SgS);break}}hT.push(hW)}}for(var hZ=0;hZ<eX.$6.length;hZ++){var ia=eX.$6[hZ];for(var ib=0;ib<eX.$5.length;ib++){var ic=eX.$5[ib];var id=0;for(var ie=0;ie<L.length;ie++){var ig=L[ie];var ih=hT[id];id++;if(ss.isNullOrUndefined(ih)){continue}if(ic==='marks'||ic==='label'){for(var ii=0;ii<ig.MdI.length;ii++){var ij=ig.MdI[ii];if(ij.oqX==='marks'){if(ic==='marks'){this.$i(ih,ia);break}else if(ic==='label'){if(ih.get_hasLabels()){this.$h(ih,ia);break}}}}}else{for(var ik=0;ik<ig.YVl.length;ik++){var il=ig.YVl[ik];switch(il.VzB){case'rLc':{var im=new eF(this.get_currentCanvas(),this.get_currentContext());im.setRenderOffsetNoTranslate(this.get_renderOffset());im.$q(ih,ia,il,ic);break}case'BVa':{var io=new eF(this.get_currentCanvas(),this.get_currentContext());io.setRenderOffsetNoTranslate(this.get_renderOffset());io.$r(ih,ia,il,ic);break}}}}}}}},$d:function(e,L,hT){if(!ss.isValue(e)){return}var hU=this.$r.get_imageDictionary();if(hT!=='ref-lines'&&hT!=='ref-bands'&&hT!=='trend-lines'){var hV=null;if(hT==='decoration'){if(ss.isValue(L)){hV=L.mapExtents}}this.$o.renderDrawItems(e,null,hU,hV)}else{var hW=this.$r.selections.refLineSelection;var hX=!hW.isEmpty;var hY=this.$r.selections.trendLineSelection;var hZ=!hY.isEmpty;var ia=this.$r.brushings.trendLineSelection;var ib=null;for(var ic=0;ic<e.length;ic++){var id=e[ic];if(id.VzB==='rOX'){var ie=id;var ig=false;var ih=false;switch(hT){case'ref-lines':{ig=hW.isObjectSelected(ie.YLs);ih=!ig&&(hX||hZ);break}case'ref-bands':{ih=(hX||hZ)&&!hW.isObjectSelected(ie.YLs);break}case'trend-lines':{if(ie.YLs>2147483647){if(!ia.isEmpty){continue}ig=false;ih=false}else{ig=hY.isObjectSelected(ie.YLs);ih=!ig&&!ia.isObjectSelected(ie.YLs)&&(this.$r.$q()||this.$r.$r())}break}}var ii=(ig?'selected':'normal');if(ih&&ss.isNullOrUndefined(ib)){if(ss.isValue(L)&&ss.isValue(L.fogBlendFactor)&&ss.isValue(L.foggedBackgroundColor)){ib={item1:L.fogBlendFactor,item2:L.foggedBackgroundColor}}else{var ij=tab.ColorModel.fromColorCode('rgba(255,255,255,255)');var ik=tab.SceneDataUtil.getFogBlendFactor(ij);var il=tab.SceneDataUtil.applyFogToBackgroundColor(ij,ik);ib={item1:ik,item2:il}}}this.drawReferenceLineAndTrendLineGroup(ie.tOA,ii,this.get_currentContext(),true,(ih?ib:null))}else{this.renderVisualParts(this.get_currentContext(),id)}}}},renderVisualParts:function(e,L){this.$o.renderDrawItemDefaultOptions(e,L)},$b:function(e){return this.isRectVisible(tab.RecordCast.rectPresModelAsRectXY(e.PeS))},$k:function(e,L,hT,hU,hV,hW){this.get_currentContext().save();if(!e.skipClipping){this.get_currentContext().setClip(hW)}this.get_currentContext().translate(e.paneRect.x,e.paneRect.y);hV(e,L,hT,hU);this.get_currentContext().restore()},$c:function(e,L,hT){if(e.markCount===0){return}var hU=new eF(this.get_currentCanvas(),this.get_currentContext());hU.setRenderOffsetNoTranslate(this.get_renderOffset());if(!e.hasUserPanes){this.$k(e,0,hU,L,hT,e.get_mapExtentOrPaneRect());return}var hV=e.userPaneCount;var hW=e.paneRect.x;var hX=e.paneRect.y;for(var hY=0;hY<hV;++hY){var hZ=e.getUserPaneRectByIndex(hY);hZ=tab.RectXYUtil.offsetRectXY(hZ,hW,hX);var ia=e.$8(hY);if(ia>0&&this.isRectVisible(hZ)){this.$k(e,hY,hU,L,hT,hZ)}}},$i:function(e,L){this.$c(e,L,ss.mkdel(this,this.$f))},$h:function(e,L){this.$c(e,L,function(hT,hU,hV,hW){hV.$n(hT,hU,hW)})},$f:function(e,L,hT,hU){var hV=e.markType;switch(hV){case'shape':{{hT.$N(e,L,hU)}break}case'square':case'bar':{{hT.$l(e,L,hU)}break}case'pie':{{hT.$p(e,L,hU)}break}case'line':{{hT.$m(e,L,hU)}break}case'area':{{hT.$k(e,L,hU)}break}case'text':{{hT.$P(e,L,hU)}break}case'multipolygon':{{hT.$o(e,L,hU)}break}default:{break}}},$8:function(e){switch(e){case'background':case'decoration':case'ref-bands':case'cell-borders':{return'background'}case'mark-trails':case'marks':case'mark-labels':{return'marks'}case'borders':case'trend-lines':case'ref-lines':case'pane-borders':case'annotations':case'axis-rules':{return'foreground'}}return'background'}},bn);ss.initClass(eY,a,{get_paneTableVM:function(){return this.get_viewModel()},get_paneTableRenderer:function(){return this.renderer},get_isContentOpaque:function(){return!this.get_paneTableVM().get_mapServerModel().get_useFastMaps()},get_backgroundFillColor:function(){return this.get_paneTableVM().get_visualModel().get_backgroundColor()},performRender:function(){var e={};e['viz']=this.get_paneTableVM().get_sheetId();{var L=tabBootstrap.MetricsController.createContext('RNDRPT'.toString(),4,e);try{this.renderer.clear();this.get_paneTableRenderer().renderScene(this.get_paneTableVM())}finally{if(ss.isValue(L)){L.dispose()}}}},onViewModelPropertyChanged:function(e,L){var hT=this.get_paneTableVM().getAndClearInvalidationRects();if(hT.length===0){this.invalidate(false)}else{var hU=tab.RectXYUtil.unionAll(hT);var hV=3;tab.RectXYUtil.outsetRectInPlace(hU,hV,hV);tab.RectXYUtil.offsetRectXYInPlace(hU,-this.get_scrollPos().x,-this.get_scrollPos().y);this.invalidateRect(hU,false)}},postRenderFinalPass:function(){this.get_paneTableRenderer().renderViewportBorders(this.get_paneTableVM());this.get_paneTableRenderer().renderAxisRulers(this.get_paneTableVM(),this.get_docSize(),this.get_scrollPos())}},ss.makeGenericType(hB,[fc]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[fc]),spiff.IScrollable,dS]);ss.initClass(eZ,a,{get_paneTableVM:function(){return this.get_viewModel()},get_lastTargetState:function(){return this.$O},get_backgroundFillColor:function(){return this.get_paneTableVM().get_visualModel().get_backgroundColor()},clearOverlays:function(){this.$u();this.$v();this.$t();this.$o();this.$S=false},hoverOverWhitespace:function(){this.$L=false},setScrollPosition:function(e){this.set_scrollPos(e);this.$I=[];this.invalidate(true)},setDragOverlayTuples:function(e){this.$u();this.$v();this.$o();if(this.$S){return}this.$P=e;var L=eZ.$0(this.$J,e);var hT=L.length;if(hT>0){var hU=this.get_paneTableVM().get_scene();var hV=[];for(var hW=0;hW<hT;hW++){var hX=L[hW];var hY=this.$w(hX,hU);hV.push(hY)}var hZ=this.$T.get_shapeSelector();this.$R=hZ.retrieveStateObject(this.$R);var ia=hZ.getStateDiff(this.$R);var ib=ia.length;var ic=new Set;var id=new Array(ib);for(var ie=0;ie<ib;ie++){var ig=ia[ie];var ih={x:0,y:0,w:0,h:0};for(var ii=0;ii<hT;ii++){if(ic.has(ii)){continue}var ij=hV[ii];if(tab.RectXYUtil.intersectsWithAny(ig,ij)){ih=tab.RectXYUtil.union(tab.RectXYUtil.unionAll(ij),ih);ic.add(ii)}}id[ie]=(tab.RectXYUtil.isEmpty(ih)?ih:tab.RectXYUtil.outsetRect(ih,3,3))}id=tab.RectXYUtil.reduceRectangles(id);this.$I=id;if(eZ.$1){this.invalidate(false)}var ik=tab.RectXYUtil.unionAll(id);ik=tab.RectXYUtil.offsetRect(ik,{x:-this.get_scrollPos().x,y:-this.get_scrollPos().y});this.invalidateRect(ik,true)}else{this.$I=[];this.clearDirty();this.$P=null}},setHoverOverlayTarget:function(e,L){this.$O='hover';if(!this.$M.$1(e,L)){this.$L=false}if(this.$M.$2(e,L)||ss.isValue(this.$J)&&this.$J.length>0){return false}this.$p();var hT=this.$x(e,L);this.$y(hT);this.$M.$3(e,L,hT);this.$D();return true},setPressedOverlayTarget:function(e,L){this.$L=true;this.$O='press';if(this.$Q.$2(e,L)){return false}this.$p();var hT=this.$x(e,L);this.$y(hT);this.$Q.$3(e,L,hT);this.$D();return true},$C:function(e,L){if(L.get_propertyName()==='scene'||L.get_propertyName()==='vizdata'){this.$H()}},performRender:function(){var e=tabBootstrap.MetricsController.createContext('Render Overlay Panetable',32,null);{if(this.$I.length>0||ss.isValue(this.$J)&&this.$J.length>0){this.$E()}else{this.renderer.clear();var L=tab.RectXYUtil.offsetRect(this.get_dirtyRect(),{x:this.get_scrollPos().x,y:this.get_scrollPos().y});if(this.$M.$4()){if(this.$M.$8==='mark'){var hT=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(this.$M.$5());if(!ss.isNullOrUndefined(hT)){this.$q(this.$M.$5(),hT,L);eX.renderHoverOverlay(this.$M.$5(),hT,this.context)}}else{this.$G(this.$M)}}else if(this.$Q.$4()){if(this.$Q.$8==='mark'){var hU=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(this.$Q.$5());if(!ss.isNullOrUndefined(hU)){this.$q(this.$Q.$5(),hU,L);eX.renderPressedOverlay(this.$Q.$5(),hU,this.context)}}else{this.$G(this.$Q)}}}}e.dispose()},$s:function(e,L,hT){var hU=tab.RectXYUtil.offsetRectXY(e,L.paneRect.x,L.paneRect.y);var hV=L.mapExtents;if(ss.isValue(hV)){tab.RectXYUtil.intersectInPlace(hU,hV)}tab.RectXYUtil.intersectInPlace(hU,hT);this.context.setClip(hU);this.context.translate(L.paneRect.x,L.paneRect.y)},$q:function(e,L,hT){var hU=L.getUserPaneRectByTupleID(e);this.$s(hU,L,hT)},$r:function(e,L,hT){var hU=L.getUserPaneRectByIndex(e);this.$s(hU,L,hT)},$E:function(){var e=75;var L=(new Date).getTime();if(ss.isNullOrUndefined(this.$P)){this.$P=this.$J}if(this.$I.length===0){var hT={x:this.get_scrollPos().x,y:this.get_scrollPos().y,w:this.get_effectiveViewSize().w,h:this.get_effectiveViewSize().h};this.$I.push(hT)}if(this.$P.length===0){this.renderer.clear();return}if(eZ.$1){this.renderer.clear()}var hU={};var hV={};var hW={};var hX=this.get_paneTableVM().get_scene();for(var hY=0;hY<this.$P.length;hY++){var hZ=this.$P[hY];var ia=hX.getPaneDrawInfoFromTupleId(hZ);var ib=ia.pdiKey;hU[ib]=ss.coalesce(hU[ib],new Set);hU[ib].add(hZ);hV[ib]=ia;var ic=hX.getMarkBoundingBox(hZ);var id=ia.getWorldOffsetBounds(ic);hW[hZ]=id}var ie=0;var ig=this.$I.length;for(var ih=0;ih<ig;ih++){var ii=this.$I[ih];this.context.clearRect(ii.x,ii.y,ii.w,ii.h);if(eZ.$1){this.context.set_strokeStyle('rgb(255,0,0)');this.context.strokeRect(ii.x,ii.y,ii.w,ii.h)}var ij=new ss.ObjectEnumerator(hU);try{while(ij.moveNext()){var ik=ij.current();var il=hV[ik.key];var im=tab.RectXYUtil.intersect(ii,il.get_mapExtentOrPaneRect());if(tab.RectXYUtil.isEmpty(im)){continue}var io=false;var ip=il.hasUserPanes;var iq=-1;var ir=false;var it=tab.SetUtilities.getValues(ss.Int32).call(null,ik.value);for(var iu=0;iu<it.length;iu++){var iv=it[iu];if(ie>=e){if((new Date).getTime()-L>145){ir=true;break}ie=0}++ie;if(!tab.RectXYUtil.intersectsWithAny(im,hW[iv])){continue}var iw=0;if(ip){iw=il.$7(il.getMarkIndexFromTupleID(iv));if(iw!==iq){if(io){this.context.restore();io=false}iq=iw}}if(!io){this.context.save();this.$r(iw,il,ii);io=true}eX.renderHoverOverlay(iv,il,this.context)}if(io){this.context.restore()}if(ir){this.$S=true;this.renderer.clear();return}}}finally{ij.dispose()}}},$G:function(e){var L=[];if(e.$7()==='hover'&&tsConfig.is_authoring){switch(e.$8){case'ref-line':{L=this.get_paneTableVM().get_refLineVisualLists();break}case'trend-line':{L=this.get_paneTableVM().get_trendLineVisualLists();break}}}for(var hT=0;hT<L.length;hT++){var hU=L[hT];var hV=[];ss.arrayAddRange(hV,hU.tOA);this.$F(hV,e)}},$F:function(e,L){var hT=L.$7();var hU=L.$5();this.context.save();var hV=this.renderer;var hW=ss.getEnumerator(e);try{while(hW.moveNext()){var hX=hW.current();if(hX.VzB==='rOX'){var hY=hX;var hZ=true;if(this.$L){switch(L.$8){case'ref-line':{hZ=!this.get_paneTableVM().get_scene().selections.refLineSelection.isObjectSelected(hY.YLs);break}case'trend-line':{hZ=!this.get_paneTableVM().get_scene().selections.trendLineSelection.isObjectSelected(hY.YLs);break}}}if(hZ){hV.drawReferenceLineAndTrendLineGroup(hY.tOA,hT,this.context,hU===hY.YLs,null)}}else{hV.renderVisualParts(this.context,hX)}}}finally{hW.dispose()}this.context.restore()},postRenderFinalPass:function(){},redrawFinished:function(){this.$J=this.$P;this.$P=null;this.$T.get_shapeSelector().updateLastState(this.$R);this.$I=[];if(this.$S){this.$t()}},$D:function(){if(this.$K||tab.MiscUtil.isNullOrEmpty(this.$N)){this.$K=false;this.invalidate(true)}else{var e=tab.RectXYUtil.unionAll(this.$N);ss.clear(this.$N);var L={x:-this.get_scrollPos().x,y:-this.get_scrollPos().y};e=tab.RectXYUtil.offsetRect(e,L);e=tab.RectXYUtil.outsetRect(e,3,3);this.invalidateRect(e,true)}},$o:function(){if(this.$K||!tab.MiscUtil.isNullOrEmpty(this.$N)){this.$D()}},$H:function(){if(!this.$z(this.$M)){this.$M.$0()}if(!this.$z(this.$Q)){this.$Q.$0()}if(ss.isValue(this.$J)){var e=new Set;for(var L=0;L<this.$J.length;L++){var hT=this.$J[L];if(this.$A(hT)){e.add(hT)}}this.$J=tab.SetUtilities.getValues(ss.Int32).call(null,e)}},$z:function(e){if(!e.$4()){return false}switch(e.$8){case'mark':{return this.$A(e.$5())}case'ref-line':{return this.$B(this.get_paneTableVM().get_refLineVisualLists(),e.$5())}case'trend-line':{return this.$B(this.get_paneTableVM().get_trendLineVisualLists(),e.$5())}case'unspecified':default:{return false}}},$A:function(e){var L=this.get_paneTableVM().get_visualModel().get_vizDataModel();var hT=this.get_paneTableVM().get_scene();return ss.isValue(L)&&L.hasTupleId(e)&&!hT.$c(e)},$B:function(e,L){for(var hT=0;hT<e.length;hT++){var hU=e[hT];var hV=hU.tOA;for(var hW=0;hW<hV.length;hW++){var hX=hV[hW];if(hX.YLs===L){return true}}}return false},$p:function(){this.$u();this.$v();this.$t()},$x:function(e,L){if(L==='mark'){return this.$w(e)}else{return null}},$y:function(e){if(ss.isNullOrUndefined(e)){this.$K=true;ss.clear(this.$N);return}for(var L=0;L<e.length;L++){var hT=e[L];this.$N.push(hT)}},$w:function(e,L){L=L||this.get_paneTableVM().get_scene();var hT=L.getMarkBoundingBox(e);var hU=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(e);var hV=hU.getWorldOffsetBounds(hT);return hV},$u:function(){if(this.$M.$4()){this.$y(this.$M.$6());this.$M.$0()}},$v:function(){if(this.$Q.$4()){this.$y(this.$M.$6());this.$Q.$0()}},$t:function(){if(ss.isValue(this.$J)){var e=this.get_paneTableVM().get_scene();for(var L=0;L<this.$J.length;L++){var hT=this.$J[L];ss.arrayAddRange(this.$N,this.$w(hT,e))}this.$J=null}this.$P=null;this.$I=[];this.$R=null}},ss.makeGenericType(hB,[fc]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[fc]),spiff.IScrollable,dS]);ss.initClass(fa,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(fb,a,{get_sortIndicators:function(){return this.get_paneTableVM().get_sortIndicators()},get_posTV:function(){return tab.PointUtil.fromPosition(this.dom.domRoot.offset())},get_sheetid:function(){return this.get_paneTableVM().get_sheetId()},get_session:function(){return this.get_controller().get_viewSession()},get_numColumns:function(){return(ss.isValue(this.geometry)?this.geometry.pi.xWidths.length:0)},get_numRows:function(){return(ss.isValue(this.geometry)?this.geometry.pi.yHeights.length:0)},get_scrollPosition:function(){return this.$K},set_scrollPosition:function(e){this.$K=e;this.$l(this.$K);this.$r()},get_controller:function(){return this.get_paneTableVM().viewController},get_visualId:function(){return this.get_paneTableVM().get_visualId()},get_paneTableVM:function(){return this.get_viewModel()},get_mapsSearchEnabled:function(){return tsConfig.allow_filter&&this.isMap&&this.get_paneTableVM().get_visualModel().get_geoSearchVisibility()==='on'&&!tab.ApplicationModel.get_instance().get_isOffline()},get_vizToolTip:function(){this.$c();return this.vizTooltip},init:function(){this.$i();this.makeConnections();this.makeRegions();this.initEventHandlers();this.makeRegionContentProviders();if(tab.FeatureFlags.isEnabled('ReferenceLineDragDrop')){this.vizHitTester=tab.MiscUtil.dispose$1(this.vizHitTester);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.vizHitTester=new ey(this,this.regions['viz'])}else{this.vizHitTester=new gb(this,this.regions['viz'])}}},dispose:function(){this.$z=true;if(ss.isValue(this.vizHitTester)){this.vizHitTester.dispose()}this.destroyInputHandlers();this.destroyRegions();this.disposables.dispose();this.visibleGeometry=null;this.disposeOfOverlays();if(ss.isValue(this.get_paneTableVM())){this.get_paneTableVM().remove_vizRegionMapChange(ss.mkdel(this,this.$u));if(ss.isValue(this.regions['viz'])){var e=this.get_paneTableVM();var L=this.regions['viz'];e.remove_propertyChanged(ss.mkdel(L,L.$5))}}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.dispose()}if(ss.isValue(this.$N)){this.$N.dispose()}if(ss.isValue(this.$y)){this.$y.dispose()}if(ss.isValue(this.$C)){this.$C.dispose()}if(ss.isValue(this.vizTooltip)){this.vizTooltip.remove_tooltipClosed(ss.mkdel(this,this.onTooltipClosed));this.vizTooltip.remove_ubertipUpdated(ss.mkdel(this,this.maybeShowOverlayImages));this.vizTooltip.remove_ubertipCommandExecuted(ss.mkdel(this,this.onCommandExecuted));this.vizTooltip.remove_ubertipActionExecuted(ss.mkdel(this,this.onActionExecuted));this.vizTooltip.dispose()}if(ss.isValue(this.$E)){this.get_paneTableVM().remove_propertyChanged(ss.mkdel(this.$E,this.$E.$C));this.$E.dispose()}if(ss.isValue(this.mapsSearchView)){this.mapsSearchView.dispose()}ss.makeGenericType(spiff.BaseView$1,[fc]).prototype.dispose.call(this)},$d:function(e,L,hT){if(e.moveNext()){e.current()(this,L).done(ss.mkdel(this,function(hU){if(hU){hT.resolve(true);return}this.$d(e,L,hT)}))}else{hT.resolve(false)}},initEventHandlers:function(){this.$9();this.makeInputHandlers();this.setupDrilling();this.setupSortIndicators();this.refreshScrollingAndDrilling()},callAsyncVizDragHandlers:function(e,L){var hT=$.Deferred();if(tab.FeatureFlags.isEnabled('ReferenceLineDragDrop')){this.$d(ss.getEnumerator(fb.$2),e,hT)}else{hT.resolve(false)}hT.done(ss.mkdel(this,function(hU){if(hU){this.get_vizToolTip().close();e.stopPropagation();return}L(e)}))},callVizDragHandlers:function(e,L){if(tab.FeatureFlags.isEnabled('ReferenceLineDragDrop')){for(var hT=0;hT<fb.$4.length;hT++){if(fb.$4[hT](this,e)){this.get_vizToolTip().close();e.stopPropagation();return}}}L(e)},getVizDragApproval:function(e){if(ss.isValue(e)){for(var L=0;L<fb.$3.length;L++){if(fb.$3[L](e)){return true}}}return false},zoomHome:function(){this.get_session().restoreSheetAxes();if(ss.isValue(this.mapsSearchView)){this.mapsSearchView.collapseSearchWidget();this.mapsSearchView.get_compositeSearchWidget().get_textInputView().set_text('')}},handlePageScroll:function(){var e=new ss.ObjectEnumerator(this.regions);try{while(e.moveNext()){var L=e.current();L.value.handlePageScroll()}}finally{e.dispose()}},doTiledViewerRefreshImages:function(e){this.refreshImages(e)},setPointerToolMode:function(e,L){this.isPointerToolLocked=L;if(this.isPointerToolLocked){this.regions['viz'].setLockedPointerToolMode(e)}this.regions['viz'].setPointerToolMode(e)},defaultPointerToolMode:function(){if(ss.keyExists(this.regions,'viz')){return this.regions['viz'].get_defaultPointerToolMode()}return'rectangular-selection'},isExistingSelection:function(){if(ss.keyExists(this.regions,'viz')){return this.regions['viz'].isExistingSelection()}return false},resetPointerToolMode:function(){if(ss.isNullOrUndefined(this.zoomToolbar)&&this.ftv!=='hide'){this.createZoomToolbar()}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.resetPointerToolMode()}else if(ss.keyExists(this.regions,'viz')){this.regions['viz'].resetPointerToolMode()}},connectTooltipEventHandlers:function(){var e=this.get_vizToolTip();e.add_tooltipClosed(ss.mkdel(this,this.onTooltipClosed));e.add_ubertipUpdated(ss.mkdel(this,this.maybeShowOverlayImages));e.add_ubertipCommandExecuted(ss.mkdel(this,this.onCommandExecuted));e.add_ubertipActionExecuted(ss.mkdel(this,this.onActionExecuted))},updateRegionBGColor:function(){var e=this.get_paneTableVM().get_visualModel();var L=[e.get_backgroundColor(),e.get_paneBGColor(),e.get_headerBGColor()];if(ss.isValue(this.$w)&&_.isEqual(this.$w,L)){return}this.$w=L;var hT=this.listAllRegions();var hU=tab.ApplicationModel.get_instance().get_isLocalRenderMode();var hV=_.keys(hT);for(var hW=0;hW<hV.length;hW++){var hX=hV[hW];var hY=hT[hX];if(ss.isNullOrUndefined(hY)){continue}var hZ=L[0];if(hX==='viz'){hZ=L[1]}else if(ss.contains(fb.headerRegions,hX)){hZ=L[2]}hY.css('background-color',hZ);if(!hU){var ia=$('.tvimagesContainer',hY);ia.css('background-color',hZ)}}this.dom.tlSpacer.css('background-color',L[2]);this.dom.trSpacer.css('background-color',L[2]);this.dom.blSpacer.css('background-color',L[2]);this.dom.brSpacer.css('background-color',L[2])},makeRegionContentProvidersHelper:function(e,L){var hT=this.listNonVizRegions();if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.get_paneTableVM().add_vizRegionMapChange(ss.mkdel(this,this.$u));var hU='transparent';var hV=new eY(this.get_paneTableVM(),this.getDomNodeForContentRegion(e),hU);var hW=$('.tvimagesContainer',e);hW.get(0).appendChild(hV.element.get(0));this.regions['viz'].set_contentProvider(hV);var hX=this.get_paneTableVM();var hY=this.regions['viz'];hX.add_propertyChanged(ss.mkdel(hY,hY.$5));this.$u();this.$E=new eZ(this.get_paneTableVM(),this.getDomNodeForContentRegion(e),this.regions['viz']);this.get_paneTableVM().add_propertyChanged(ss.mkdel(this.$E,this.$E.$C));hW.get(0).appendChild(this.$E.element.get(0))}else{var hZ=_.keys(hT);for(var ia=0;ia<hZ.length;ia++){var ib=hZ[ia];var ic=hT[ib];var id=this.makeTiledWindow(ic,this.get_session(),this.get_controller(),ss.mkdel(this,this.$e),null);this.regions[ib].set_contentProvider(id)}this.regions['viz'].set_contentProvider(this.makeTiledWindow(e,this.get_session(),this.get_controller(),ss.mkdel(this,this.$e),L))}this.updateRegionBGColor()},makeTiledWindowHelper:function(e,L,hT,hU,hV,hW){var hX=new gI(this.getDomNodeForContentRegion(e),L,hT,hU,hW);if(ss.isValue(hV)){hX.add_loadComplete(hV);this.disposables.add$1(new tab.CallOnDispose(function(){hX.remove_loadComplete(hV)}))}return hX},listNonVizRegions:function(){var e={};e['yheader']=this.dom.yLabel;e['leftaxis']=this.dom.leftAxis;e['rightaxis']=this.dom.rightAxis;e['xheader']=this.dom.xLabel;e['bottomaxis']=this.dom.bottomAxis;e['topaxis']=this.dom.topAxis;return e},listAllRegions:function(){var e=this.listNonVizRegions();e['viz']=this.dom.view;return e},destroyRegions:function(){var e=ss.getEnumerator(Object.keys(this.regions));try{while(e.moveNext()){var L=e.current();if(ss.isValue(this.regions[L])){this.regions[L].destroy()}}}finally{e.dispose()}},checkForHoverOverlay:null,isUserDragging:null,onTooltipClosed:function(){},$o:function(e){if(ss.keyExists(e.commandParams,'OBN')){var L=e.commandParams['OBN'];if(ss.isValue(L)){var hT=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(L);if(!ss.isValue(hT)){return false}}}if(ss.keyExists(e.commandParams,'Gvh')){var hU=e.commandParams['Gvh'];if(ss.isValue(hU)){try{var hV=JSON.parse(hU);if(hV.coe==='tuples'){for(var hW=0;hW<hV.kyj.length;hW++){var hX=hV.kyj[hW];var hY=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(hX);if(!ss.isValue(hY)){return false}}}}catch(hZ){return false}}}return true},onCommandExecuted:function(e,L){if(ss.isNullOrUndefined(L)||ss.isNullOrUndefined(L.command)){return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&ss.isValue(L.command.command)&&!this.$o(L.command.command)){return}if(L.command.commandType===7){this.get_session().executeCommand(L.command)}else{tab.UberTipClientCommands.executeUbertipCommand(L.command)}},onActionExecuted:function(e,L){if(ss.isNullOrUndefined(L)||ss.isNullOrUndefined(L.action)){return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&ss.isValue(L.action.command)&&!this.$o(L.action.command)){return}var hT=function(){e.hideSpinner()};var hU=function(hV){e.hideSpinner()};this.get_session().executeAction(L.action,hU,hT)},isMapWithBaseLayer:function(){return this.isMap&&this.get_paneTableVM().get_mapServerModel().get_hasPresModel()},doDoubleTap:function(e,L,hT){if(!tsConfig.allow_filter){return}if(this.isMapWithBaseLayer()&&hT<1&&!tab.MapUtil.allowZoomAtCurrentLevel(this.get_paneTableVM().get_mapServerModel().get_zoom(),1/hT)){return}if(e.get_regionPart()==='viz'&&this.allowPanZoomOnDoubleTap()){this.get_controller().incrementCacheVersion();var hU=tab.DeferLayoutImpl.get_instance();hU.setDeferLayoutUpdates(true);var hV=this.resolvePane(e.toLocalCoordsEvent(L,false));e.zoomPoint(hV,e.toLocalCoordsEvent(L,false),hT,true,hU);this.get_vizToolTip().close();this.disposeOfOverlays()}},$j:function(e,L){if(!ss.referenceEquals(e,this.get_controller().get_sheetName())){return}this.checkForHoverOverlay();if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.regions['viz'].reset()}},dragOverride:function(e,L){if(this.isUserDragging()){return}this.callVizDragHandlers(e,L)},dragOverrideAsync:function(e,L){if(this.isUserDragging()){return}this.callAsyncVizDragHandlers(e,L)},clearSelection:function(){tab.SelectionClientCommands.clearAllSelections(this.get_visualId())},refreshImages:function(e){this.$J+=1;var L=ss.getEnumerator(Object.keys(this.regions));try{while(L.moveNext()){var hT=L.current();this.regions[hT].refreshImages(e)}}finally{L.dispose()}if(this.$I.length>0){var hU=this.$I.length;for(var hV=0;hV<hU;hV++){var hW=this.$I[hV]['element'];if(ss.isValue(hW)){var hX=this.get_session().formatRegionTileURL(e,this.$I[hV]['name'],this.$e());var hY=hW.children().first();var hZ=fR.calculatePixelRatio(false);if(tab.DoubleUtil.isGreaterThanAndNotApproximatelyEqual(hZ,1)){hY.css('width',hW[0].offsetWidth+'px')}hY.attr('src',hX)}}}},layout:function(){},$t:function(e,L){var hT=L.x+L.w;return Math.max(e,hT)},$s:function(e,L){var hT=L.y+L.h;return Math.max(e,hT)},setGeometry:function(e,L){var hT={item1:L,item2:e};if(ss.isValue(this.$x)&&_.isEqual(hT,this.$x)){this.refreshScrollingAndDrilling();return}this.$x=hT;var hU=0,hV=0;var hW=0,hX=0;var hY=0,hZ=0;var ia=0,ib=0,ic=0;var id=0,ie=0;var ig=0,ih=0;var ii,ij,ik,il,im,io,ip;var iq,ir,it,iu;this.$I=[];this.$J+=1;this.visibleGeometry={};var iv=this.visibleGeometry;var iw={};$.extend(true,iw,e);this.geometry=iw;var ix=iw.ri.length;for(var iy=0;iy<ix;iy++){iw[iw.ri[iy].r]=iw.ri[iy]}var iz=L.w;var iA=L.h;if(this.$H!==-1){iz=this.$H}if(this.$G!==-1){iA=this.$G}if(ss.isValue(iw.title)){hX=this.$s(hX,iw.title)}if(ss.isValue(iw.xheader)){ia=iw.xheader.x;hY=iw.xheader.w;hX=this.$s(hX,iw.xheader)}if(ss.isValue(iw.bottomaxis)){ia=iw.bottomaxis.x;hY=iw.bottomaxis.w;hX=this.$s(hX,iw.bottomaxis)}if(ss.isValue(iw.topaxis)){hX=this.$s(hX,iw.topaxis)}if(ss.isValue(iw.viz)){ia=iw.viz.x;hY=iw.viz.w;hX=this.$s(hX,iw.viz)}if(ss.isValue(iw.caption)){hX=this.$s(hX,iw.caption)}if(ss.isValue(iw.yheader)){ic=iw.yheader.y;hZ=iw.yheader.h;hW=this.$t(hW,iw.yheader)}if(ss.isValue(iw.leftaxis)){ic=iw.leftaxis.y;hZ=iw.leftaxis.h;hW=this.$t(hW,iw.leftaxis)}if(ss.isValue(iw.rightaxis)){hW=this.$t(hW,iw.rightaxis)}if(ss.isValue(iw.viz)){ic=iw.viz.y;hZ=iw.viz.h;hW=this.$t(hW,iw.viz)}if(hZ>0){var iB=hX;if(hW>iz){iB+=eG.get_scrollH()}if(iB>iA){id=eG.get_scrollW()}}if(hY>0&&hW>iz){ie=eG.get_scrollH()}if(tab.BrowserSupport.get_isIE()&&id>0){id+=1}if(tab.BrowserSupport.get_isIE()&&ie>0){ie+=1}if(hZ>0){var iC=hX-hZ;ih=iA-iC-ie;ih=Math.min(hZ,ih);hV=hZ-ih}if(hY>0){var iD=hW-hY;ig=iz-iD-id;ig=Math.min(hY,ig);hU=hY-ig}this.$L.h=Math.min(hX-hV,iA);this.$L.w=Math.min(hW-hU,iz);ib=this.$L.h;var iE=tab.ApplicationModel.get_instance().get_isLocalRenderMode();var iF=((iE&&ss.isValue(iw.bottomaxis))?1:0);var iG=((iE&&ss.isValue(iw.rightaxis))?1:0);if(iE){var iH=[iw.yheader,iw.rightaxis,iw.leftaxis,iw.viz];for(var iI=0;iI<iH.length;iI++){var iJ=iH[iI];if(ss.isValue(iJ)){iJ.h+=iF}}var iK=[iw.xheader,iw.bottomaxis,iw.topaxis,iw.viz];for(var iL=0;iL<iK.length;iL++){var iM=iK[iL];if(ss.isValue(iM)){iM.w+=iG}}}if(ih<0){ih=0}if(ig<0){ig=0}this.titleHeight=0;if(ss.isValue(iw.title)&&this.dom.title.css('display')!=='none'){this.titleHeight=iw.title.h;var iN={l:0,t:iw.title.y,w:iw.title.w+id,h:iw.title.h};var iO=tab.DomUtil.getMarginBoxJQ(this.dom.title);if(!_.isEqual(iN,iO)){tab.DomUtil.setAbsolutePositionBox(this.dom.title,iN);this.$N.handleNewTextRegion();ib=Math.max(ib,iw.title.h+iw.title.y)}}ij=function(){return{l:iw.yheader.x,t:iw.yheader.y,w:Math.min(iw.yheader.w,iz-id),h:ih+iF}};iv.yheaderArea=this.setRegionAndContentGeometry(iw.yheader,this.dom.yLabel,ij,'yheader',iw.ts);ik=function(){return{l:iw.leftaxis.x,t:iw.leftaxis.y,w:iw.leftaxis.w,h:ih+iF}};iv.leftaxisArea=this.setRegionAndContentGeometry(iw.leftaxis,this.dom.leftAxis,ik,'leftaxis',iw.ts);il=function(){return{l:iw.rightaxis.x-hU,t:iw.rightaxis.y,w:iw.rightaxis.w,h:ih+iF}};iv.rightaxisArea=this.setRegionAndContentGeometry(iw.rightaxis,this.dom.rightAxis,il,'rightaxis',iw.ts);im=function(){return{l:iw.xheader.x,t:iw.xheader.y,w:ig+iG,h:iw.xheader.h}};iv.xheaderArea=this.setRegionAndContentGeometry(iw.xheader,this.dom.xLabel,im,'xheader',iw.ts);io=function(){return{l:iw.bottomaxis.x,t:iw.bottomaxis.y-hV,w:ig+iG,h:iw.bottomaxis.h}};iv.bottomaxisArea=this.setRegionAndContentGeometry(iw.bottomaxis,this.dom.bottomAxis,io,'bottomaxis',iw.ts);ip=function(){return{l:iw.topaxis.x,t:iw.topaxis.y,w:ig+iG,h:iw.topaxis.h}};iv.topaxisArea=this.setRegionAndContentGeometry(iw.topaxis,this.dom.topAxis,ip,'topaxis',iw.ts);if(ss.isValue(this.$y)&&this.dom.caption.css('display')!=='none'){var iP;if(ss.isValue(iw.caption)){ib-=iw.caption.h+8+ie;iP={l:iw.caption.x,t:iw.caption.y-hV,w:iw.caption.w,h:iw.caption.h}}else{iP={l:0,t:0,w:0,h:0}}var iQ=tab.DomUtil.getMarginBoxJQ(this.dom.caption);if(!_.isEqual(iP,iQ)){tab.DomUtil.setAbsolutePositionBox(this.dom.caption,iP);this.$y.handleNewTextRegion()}}var iR=null;if(iE){var iS=this.get_paneTableVM().get_vizRegionMap()['background'];if(ss.isValue(iS)){iR=iS.get_visualListPM().tOA}}iq=function(){return{l:iw.uleft.x,t:iw.uleft.y,w:Math.min(iw.uleft.w,iz-id),h:iw.uleft.h}};iv.uleftArea=this.$m(iw.uleft,this.dom.tlSpacer,iq);if(ss.isValue(iw.uleft)){this.$n(this.dom.tlSpacer,'uleft',iR);this.tlspacerAreaY=$.extend({},iv.uleftArea);if(ss.isValue(iw.di)&&iw.uleft.h>=40){this.tlspacerAreaY.t=iw.uleft.y+iw.uleft.h-40;this.tlspacerAreaY.h=40}this.tlspacerAreaX=null;if(ss.isValue(iw.di)&&ss.isValue(iw.di.xy)&&ss.isValue(iw.di.xy[0])){var iT=18;var iU=iw.xheader;if(ss.isValue(iU)&&iU.h>iw.di.xs){ix=iw.di.xy.length;for(var iV=0;iV<ix;iV++){if(iw.di.xy[iV][1]>0){this.tlspacerAreaX={l:this.tlspacerAreaY.l+this.tlspacerAreaY.w-iT,t:iw.uleft.y,w:iT,h:iw.uleft.h};this.tlspacerAreaY.w=this.tlspacerAreaX.l;break}}}}}else{this.tlspacerAreaY=null;this.tlspacerAreaX=null}ir=function(){return{l:iw.uright.x-hU,t:iw.uright.y,w:Math.min(iw.uright.w,iz-id),h:iw.uright.h}};this.$m(iw.uright,this.dom.trSpacer,ir);if(ss.isValue(iw.uright)){this.$n(this.dom.trSpacer,'uright',iR)}it=function(){return{l:iw.lleft.x,t:iw.lleft.y-hV,w:iw.lleft.w,h:iw.lleft.h}};this.blspacerArea=this.$m(iw.lleft,this.dom.blSpacer,it);if(ss.isValue(iw.lleft)){this.$n(this.dom.blSpacer,'lleft',iR)}iu=function(){return{l:iw.lright.x-hU,t:iw.lright.y-hV,w:iw.lright.w,h:iw.lright.h}};this.$m(iw.lright,this.dom.brSpacer,iu);if(ss.isValue(iw.lright)){this.$n(this.dom.brSpacer,'lright',iR)}ii=function(){return{l:iw.viz.x,t:iw.viz.y,w:ig+iG,h:ih+iF}};this.setRegionAndContentGeometry(iw.viz,this.dom.view,ii,'viz',iw.ts);this.setGeometryForWebScrollbars(ih,ig,id,ie,ic,this.$L.w,ib,ia,hZ,hY);this.refreshScrollingAndDrilling();this.setRegionResizersForWeb();this.refreshTooltipIfNeeded()},$m:function(e,L,hT){if(ss.isValue(e)){var hU=hT();tab.DomUtil.setAbsolutePositionBox(L,hU);this.setRegionGeometryHelper(L,hU);L.show();return hU}else{L.hide();return null}},$n:function(e,L,hT){if(ss.isValue(hT)){var hU=this.$b(e,'canvas');var hV=fR.calculatePixelRatio();var hW=e[0];bp.setCanvasSizeAndDensify(hU,hV,{w:hW.offsetWidth,h:hW.offsetHeight})}else if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.$b(e,'div')}else{this.$b(e,'img');this.$I.push(ss.mkdict(['name',L,'element',e]))}},$k:function(e){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){return}var L=this.get_paneTableVM().get_vizRegionMap()['background'];if(ss.isNullOrUndefined(L)||ss.isNullOrUndefined(L.get_visualListPM().tOA)){return}var hT=L.get_visualListPM().tOA;var hU={};var hV=e.ri.length;for(var hW=0;hW<hV;hW++){var hX=e.ri[hW];hU[hX.r]=hX}var hY=null;if(ss.isValue(this.get_paneTableVM())&&ss.isValue(this.get_paneTableVM().get_scene())){hY=this.get_paneTableVM().get_scene().get_imageDictionary()}var hZ=fR.calculatePixelRatio();var ia=this.get_paneTableVM().get_visualModel().get_backgroundColor();var ib=[this.dom.tlSpacer,this.dom.trSpacer,this.dom.blSpacer,this.dom.brSpacer];var ic=['uleft','uright','lleft','lright'];for(var id=0;id<4;id++){var ie=hU[ic[id].toString()];if(ss.isNullOrUndefined(ie)){continue}var ig=ib[id];var ih=ig.get(0).firstChild;if(!ss.isValue(ih)){continue}var ii=ih;var ij=bn.getRenderContext(ii,'opaque');ij.set_shapeFillStyle(ia);ij.fillRect(0,0,ii.width,ii.height);ij.setDefaultPropertyValues();if(!tab.DoubleUtil.isApproximatelyEqual(hZ,1)){bp.scaleCanvasDrawing(ij,hZ)}var ik=new cy(ii,ij,dR.defaultColors);ik.set_renderOffset({x:ie.x,y:ie.y});ik.renderDrawItems(hT,null,hY,null)}},$b:function(e,L){var hT=e.get(0).firstChild;if(!(ss.compareStrings(hT.tagName,L,true)===0)){hT=document.createElement(L);e.children().first().replaceWith(hT)}return hT},setRegionAndContentGeometry:function(e,L,hT,hU,hV){var hW=this.$m(e,L,hT);if(ss.isValue(e)){var hX=hT();this.regions[hU].setGeometry(e,hX,hV);if(hU==='viz'&&ss.isValue(this.$E)){this.$E.set_actualViewSize({w:hX.w,h:hX.h});this.$E.reset(e,hV)}}return hW},resolvePane:function(e){var L,hT;var hU=this.geometry.pi;var hV={x:e.x,y:e.y};var hW={canDragH:hU.hasXQAxis,canDragV:hU.hasYQAxis,x:0,y:0,w:0,h:0};hT=hU.xWidths.length;for(L=0;L<hT;L++){if(hV.x<hW.x+hU.xWidths[L]){hW.tx=L;hW.w=hU.xWidths[L];break}hW.x=hW.x+hU.xWidths[L]}hT=hU.yHeights.length;for(L=0;L<hT;L++){if(hV.y<hW.y+hU.yHeights[L]){hW.ty=L;hW.h=hU.yHeights[L];break}hW.y=hW.y+hU.yHeights[L]}return hW},allowPanZoom:null,allowPanZoomOnDoubleTap:null,isVizLargerThanScreen:function(){if(ss.isValue(this.geometry)&&ss.isValue(this.geometry.viz)){var e=this.geometry.viz.w;var L=this.geometry.viz.h;var hT=this.regions['viz'];var hU=hT.get_contentProvider();if(ss.isNullOrUndefined(hU)){return false}var hV=hU.get_effectiveViewSize().w;var hW=hU.get_effectiveViewSize().h;return e>hV||L>hW}return false},isOneVisiblePane:function(){if(ss.isValue(this.geometry)&&ss.isValue(this.geometry.viz)){var e,L;var hT=this.geometry.viz.w;var hU=this.geometry.viz.h;var hV=this.geometry.pi.xWidths;var hW=this.geometry.pi.yHeights;L=hV.length;for(e=0;e<L;e++){if(Math.abs(hT-hV[e])>1){return false}}L=hW.length;for(e=0;e<L;e++){if(Math.abs(hU-hW[e])>1){return false}}}return true},maybeShowOverlayImages:null,createOverlayImageFromDataUri:function(e){var L=new eP(this.dom.view.find('.tvimagesContainer').get(0),'data:image/png;base64,'+e);return L},createOverlayImageFromFile:function(e){var L=new eP(this.dom.view.find('.tvimagesContainer').get(0),this.get_session().formatSessionTempfileReference(e,false,false));return L},updateOverlayTarget:function(e,L,hT){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){return}switch(L){case'press':{this.$E.setPressedOverlayTarget(e,hT);break}case'hover':{this.$E.setHoverOverlayTarget(e,hT);break}default:{break}}},updateOverlayForLastTargetState:function(e,L){this.updateOverlayTarget(e,this.$E.get_lastTargetState(),L)},hoverOverWhitespace:function(){this.$E.hoverOverWhitespace()},updateHoveredCategoricalHeaders:function(e,L,hT){var hU=this.get_paneTableVM().get_vizRegionMap()[hT];if(ss.isNullOrUndefined(hU)){return}switch(L){case'press':{hU.set_hoveredCategoricalNode(null);break}case'hover':{hU.set_hoveredCategoricalNode(e);break}default:{break}}},showOverlayImages:function(e,L){if(ss.isValue(L)&&ss.isValue(e)&&L.length>0){this.disposeOfOverlayImages();for(var hT=1;hT<L.length;++hT){var hU=e.clone();this.$D.push(hU);hU.show(L[hT])}this.$D.push(e);e.show(L[0])}},setRegionGeometryHelper:null,getDomNodeForContentRegion:null,clickTitle:function(e){},clickCaption:function(e){},makeConnections:function(){},makeMapsSearchViewConnections:null,makeRegions:null,makeInputHandlers:null,makeRegionContentProviders:null,setupDrilling:function(){},refreshScrollingAndDrilling:null,refreshTooltipIfNeeded:function(){},setupSortIndicators:function(){},destroyInputHandlers:null,setGeometryForWebScrollbars:function(e,L,hT,hU,hV,hW,hX,hY,hZ,ia){},setRegionResizersForWeb:function(){},makeFloatingZoomToolbar:null,makeTooltip:null,makeTiledWindow:null,shouldInformTooltipOfLocalTapOnViz:null,disposeOfOverlays:function(){this.disposeOfOverlayImages()},disposeOfOverlayImages:function(){for(var e=0;e<this.$D.length;e++){var L=this.$D[e];if(ss.isValue(L)){L.dispose()}}ss.clear(this.$D);if(ss.isValue(this.$E)){this.$E.clearOverlays()}this.$F=tab.MiscUtil.clearTimeout(this.$F)},$l:function(e){if(ss.isValue(this.$E)){this.$E.setScrollPosition(e)}},checkForDragOverlays:function(){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isValue(this.$F)){return}var e=(new Date).getTime()-this.$B;if(e>=30){this.$a()}else{this.$F=window.setTimeout(ss.mkdel(this,this.$a),30-e)}}},$a:function(){this.$F=null;var e=du.getIdsFromHitTestResults(this.regions['viz'].hitTestMarksAgainstSelectionShape(),true);this.$E.setDragOverlayTuples(e);this.$B=(new Date).getTime()},updateRegionContentProvider:function(e,L){this.regions[e].set_contentProvider(L)},isSelectActionOnVizAllowed:function(e){return true},handleLocalTap:function(e,L,hT,hU){var hV=false;if(this.isSelectActionOnVizAllowed(L)){if(e.get_regionPart()==='viz'){var hW=ss.mkdel(this,function(ib){if(this.shouldInformTooltipOfLocalTapOnViz(ib)){this.$g(ib,e,hT,hU)}});var hX=this.get_vizToolTip();var hY=e.doSelectFromPoint(hU,L,ss.mkdel(hX,hX.suppress),hW);hV=hY.get_hitType()!==0}else if(ss.isValue(e.get_contentProvider())){var hZ=e.hitTestNodes(hU);if(ss.isValue(hZ)){var ia=ss.mkdel(this,function(){this.get_vizToolTip().singleSelectCoordinates(hT,hU,e.get_regionPart(),'header')});e.selectNode(hU,hZ,L,ia);hV=true}else{tab.SelectionClientCommands.clearAllSelections(this.get_visualId())}}if(!hV){this.get_vizToolTip().hoverOverWhitespace(hT,e.get_regionPart())}}},$g:function(e,L,hT,hU){var hV=null;if(ss.isValue(this.get_paneTableVM())&&ss.isValue(this.get_paneTableVM().get_scene())&&e.get_tooltipTargetType()==='mark'){var hW=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(e.get_id());hV=hW.get_paneDescriptorKey()}this.get_vizToolTip().singleSelectComplete(hT,tab.PointUtil.add(hU,{x:this.geometry.viz.x,y:this.geometry.viz.y}),hU,e.get_id(),hV,e.get_tooltipTargetType(),L.get_regionPart())},$f:function(){var e=this.get_paneTableVM().get_visualModel();if(ss.isNullOrUndefined(e)){return}var L=e.get_geometryModel().pm;this.$k(L)},handleNewVisual:function(){if(this.get_paneTableVM().isInvalidSheet()){$('<div/>').text(tab.Strings.BaseClientInvalidSheet(this.get_paneTableVM().get_sheetId())).addClass('wcInvalidSheet').appendTo(this.get_template().domRoot).get(0);return}if(this.$z){return}var e=this.get_paneTableVM().get_visualModel();if(ss.isNullOrUndefined(e)){return}this.regions['viz'].$8();this.$v(e);this.$p(e);this.updateTooltipMode(e);this.updateMapSettings(e);var L=this.determineToolbarType();var hT=e.get_geometryModel().pm;{this.setGeometry(hT,e.get_containerGeometry())}var hU=L!==this.determineToolbarType();this.updateVizNavigationTools(e,hU);this.updateRegionBGColor();this.$q();this.$k(hT);this.isAnimationOccurring=false},updateMapSettings:function(e){this.isMap=e.get_isMap()},updateVizNavigationTools:function(e,L){var hT=this.$A;this.updateMapsSearchView();this.regions['viz'].updateDefaultToolMode();var hU=this.ftv;this.ftv=e.get_floatingToolbarVisibility();var hV=hT!==this.$A;var hW=hU!==this.ftv;var hX=hW||hV||L;if(ss.isValue(this.zoomToolbar)&&hX){this.zoomToolbar.dispose();this.zoomToolbar=null}if(this.get_paneTableVM().shouldEnableZoomHomeToolbar()&&ss.isNullOrUndefined(this.zoomToolbar)){this.createZoomToolbar()}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.setZoomHomePossibility(this.get_paneTableVM().shouldEnableZoomHomeToolbar())}},updateMapsSearchView:function(){if(this.get_mapsSearchEnabled()){if(ss.isNullOrUndefined(this.get_paneTableVM().get_mapsSearchViewModel())||ss.isNullOrUndefined(this.mapsSearchView)){this.get_paneTableVM().set_mapsSearchViewModel(new eE(this.get_paneTableVM().get_visualId()));this.get_paneTableVM().get_mapsSearchViewModel().add_onMoveMapToBounds(ss.mkdel(this,this.handleMoveMapToBounds));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_paneTableVM().get_mapsSearchViewModel().remove_onMoveMapToBounds(ss.mkdel(this,this.handleMoveMapToBounds))})));this.mapsSearchView=spiff.ObjectRegistry.newView(eD).call(null,[this.get_paneTableVM().get_mapsSearchViewModel()]);this.makeMapsSearchViewConnections();this.mapsSearchView.set_isCollapsed(true);this.mapsSearchView.addClass('tabSuppressVizTooltipsAndOverlays')}if(!this.$A){this.mapsSearchView.addToDom(this.dom.view);this.$A=true}}else if(ss.isValue(this.mapsSearchView)){if(this.$A){var e=this.mapsSearchView.element[0].parentNode;if(ss.isValue(e)){e.removeChild(this.mapsSearchView.element[0]);this.$A=false}}this.mapsSearchView.set_isCollapsed(true);this.mapsSearchView.set_isVisible(false)}},handlePropertyChanged:function(e,L){switch(L.get_propertyName()){case'vizNavigationSetting':{this.initEventHandlers();break}default:{break}}},updateTooltipMode:function(e){if(ss.isValue(this.vizTooltip)&&e.get_tooltipMode()!==this.vizTooltip.get_currentTooltipMode()){this.vizTooltip.close();this.vizTooltip.dispose();this.vizTooltip=null}},$v:function(e){if(this.get_paneTableVM().get_hasTitle()){if(ss.isValue(this.$N)){return}this.dom.title.css('display','');var L=new gB(e.get_titleModel());L.options=new gy(!tsConfig.is_authoring);this.$N=new gA(L);this.$N.addToDom(this.dom.title)}else if(ss.isValue(this.$N)){this.dom.title.css('display','none');this.$N.get_viewModel().dispose();this.$N=null}},$p:function(e){if(this.get_paneTableVM().get_hasCaption()){if(ss.isValue(this.$y)){return}this.dom.caption.css('display','');var L=new gB(e.get_captionModel());L.options=new gy(!tsConfig.is_authoring);this.$y=new gA(L);this.$y.addToDom(this.dom.caption)}else if(ss.isValue(this.$y)){this.dom.caption.css('display','none');this.$y.get_viewModel().dispose();this.$y=null}},$q:function(){var e=this.get_paneTableVM().get_mapServerModel();if(ss.isValue(e)&&e.get_hasPresModel()&&e.get_isAttributionVisible()){if(ss.isNullOrUndefined(this.$C)){this.$C=new eC;this.$C.attributionBackground.css('background-color',e.get_attributionBGColor());this.$C.attributionLink.text(e.get_attributionText());this.$C.attributionLink.css('color',e.get_attributionTextColor());this.$C.attributionLink.css('font-size',e.get_attributionTextSize());this.$C.attributionLink.attr('href',e.get_attributionUrl());this.$C.attributionLink.attr('target','_blank');this.dom.view.append(this.$C.domRoot);this.$r()}}else if(ss.isValue(this.$C)){this.$C.dispose();this.$C=null}},$r:function(){if(ss.isValue(this.$C)){var e=1;var L=1;var hT=this.regions['viz'].get_contentProvider().get_effectiveViewSize();var hU=this.regions['viz'].get_contentProvider().get_docSize();var hV=Math.min(0,hT.h+this.$K.y-hU.h);hV+=e;var hW=Math.min(0,-this.$K.x);hW+=L;this.$C.domRoot.css('bottom',hV+'px');this.$C.domRoot.css('left',hW+'px')}},$h:function(){var e=this.get_paneTableVM().get_cacheUrlInfo();this.refreshImages(e)},$u:function(){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var e=this.listNonVizRegions();this.regions['viz'].$6();var L=ss.getEnumerator(Object.keys(this.get_paneTableVM().get_vizRegionMap()));try{while(L.moveNext()){var hT=L.current();var hU=tab.ModelUtils.visualPartToRegionMap[hT];if(ss.isValue(hU)&&ss.isValue(this.regions[hU])){var hV=this.regions[hU].get_contentProvider();if(!ss.isNullOrUndefined(hV)&&!ss.referenceEquals(hV.get_viewModel(),this.get_paneTableVM().get_vizRegionMap()[hT])){hV.destroy();hV=null}if(ss.isNullOrUndefined(hV)){var hW=e[hU];if(ss.isValue(hW)){var hX=this.get_paneTableVM().get_vizRegionMap()[hT];var hY=new gm(hX,this.getDomNodeForContentRegion(hW),this.get_paneTableVM());hW.find('.tvimagesContainer').append(hY.element);this.updateRegionContentProvider(hU,hY);hY.invalidate(false);this.$x=null}}else{this.regions[hU].$6()}}}}finally{L.dispose()}var hZ=ss.getEnumerator(Object.keys(tab.ModelUtils.visualPartToRegionMap));try{while(hZ.moveNext()){var ia=hZ.current();var ib=tab.ModelUtils.visualPartToRegionMap[ia];if(!ss.keyExists(this.get_paneTableVM().get_vizRegionMap(),ia)&&ss.isValue(this.regions[ib])&&ss.isValue(this.regions[ib].get_contentProvider())){this.regions[ib].get_contentProvider().destroy();this.regions[ib].set_contentProvider(null)}}}finally{hZ.dispose()}}},$e:function(){return this.$M.toString()+'Z'+this.$J.toString()},showFloatingZoomToolbar:function(e){if(e&&this.ftv!=='hide'&&ss.isNullOrUndefined(this.zoomToolbar)){this.createZoomToolbar()}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.setZoomHomePossibility(this.get_paneTableVM().shouldEnableZoomHomeToolbar());this.zoomToolbar.setActiveState(e)}},determineToolbarType:function(){var e='fullToolbar';if(this.ftv!=='show'&&(this.ftv!=='auto'||!this.allowPanZoom())){e='homeOnlyToolbar'}else if(!this.allowPanZoom()){e='disablePanZoomToolbar'}return e},createZoomToolbar:function(){if(!tsConfig.allow_filter){return}this.zoomToolbar=this.makeFloatingZoomToolbar(this.dom.view)},handleMoveMapToBounds:function(e){if(ss.isValue(this.regions['viz'])&&tab.FeatureParamsLookup.getBool(19)===true){this.regions['viz'].moveMapToBounds(e)}},$9:function(){var e={};e.tap=ss.mkdel(this,function(hT){hT.stopPropagation();hT.preventDefault();this.clearSelection()});var L=ss.mkdel(this,function(hT){this.disposables.add$1(new spiff.TableauEventHandler.$ctor1(hT.get(0),e))});L(this.dom.tlSpacer);L(this.dom.trSpacer);L(this.dom.blSpacer);L(this.dom.brSpacer);L(this.dom.title);L(this.dom.caption)},$i:function(){hw.add_selectionChanged(ss.mkdel(this,this.$j));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){hw.remove_selectionChanged(ss.mkdel(this,this.$j))})))},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);var e=ss.mkdict(['top','0px','left','0px','right','0px','bottom','0px']);this.get_template().domRoot.css(e);this.handleNewVisual();if(this.get_paneTableVM().get_visualModel().get_isVisualValid()){this.$h()}},checkForSuppressTooltipsAndOverlays:function(e){var L=$(e);var hT=L.hasClass('tabSuppressVizTooltipsAndOverlays')||L.parents('.tabSuppressVizTooltipsAndOverlays').length>0;if(hT){this.disposeOfOverlayImages();var hU=this.get_vizToolTip();hU.clearTooltipWithFakeHover()}this.get_vizToolTip().suppress(hT)},$c:function(){if(ss.isNullOrUndefined(this.vizTooltip)){this.vizTooltip=this.makeTooltip();this.connectTooltipEventHandlers()}}},ss.makeGenericType(spiff.BaseView$1,[fc]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[fc])]);ss.initClass(fc,a,{add_vizRegionMapChange:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_vizRegionMapChange:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newPaneTable:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newPaneTable:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_textUpdated:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_textUpdated:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_scene:function(){return this.$q},get_vizRegionMap:function(){return this.$u},get_refLineVisualLists:function(){return this.$j().get_refLineVisualLists()},get_trendLineVisualLists:function(){return this.$j().get_trendLineVisualLists()},get_drawFirstParts:function(){return this.$j().get_drawFirstParts()},get_drawLastParts:function(){return this.$j().get_drawLastParts()},get_zonePresModel:function(){return this.$t.get_zone().pm},get_sheetId:function(){return this.$s},get_sortIndicators:function(){return this.$t.get_sortIndicatorsModel().get_sortIndicatorsPresModel()},get_selectionsModel:function(){return this.$t.get_selectionsModel()},get_cacheUrlInfo:function(){return this.$t.get_cacheUrlInfo()},get_hasTitle:function(){return this.get_zonePresModel().yqe},get_hasCaption:function(){return this.get_zonePresModel().ElQ},get_visualModel:function(){return this.$t},$j:function(){return this.$t.get_sceneModel()},get_visualId:function(){return this.$t.get_visualId()},get_mapServerModel:function(){return this.get_visualModel().get_mapServerModel()},get_mapsSearchViewModel:function(){return this.$o},set_mapsSearchViewModel:function(e){this.$o=e},dispose:function(){if(ss.isValue(this.$o)){this.$o.dispose()}if(ss.isValue(this.$t)){if(ss.isValue(this.$t.get_selectionsModel().tupleSelection)){this.$t.get_selectionsModel().remove_newSelections(ss.mkdel(this,this.$c))}this.$t.get_impliedSelectionModel().remove_newSelection(ss.mkdel(this,this.$c));if(ss.isValue(this.$t.get_brushingsModel().tupleSelection)){this.$t.get_brushingsModel().remove_newSelections(ss.mkdel(this,this.$3))}if(ss.isValue(this.$t.get_sceneModel())){this.$t.get_sceneModel().remove_newSceneModel(ss.mkdel(this,this.$b))}if(ss.isValue(this.$t.get_labelsModel())){this.$t.get_labelsModel().remove_newSceneModel(ss.mkdel(this,this.$b))}this.$t.remove_newHiddenTuples(ss.mkdel(this,this.$8));this.$t.remove_newFilteredTuples(ss.mkdel(this,this.$7));this.$t.remove_brushingFromActionChanged(ss.mkdel(this,this.$4));this.$t.remove_colorDictionaryChanged(ss.mkdel(this,this.$5));this.$t.remove_vizNavigationSettingChanged(ss.mkdel(this,this.$e));this.$t.remove_newVisual(ss.mkdel(this,this.$d));this.$t.remove_newVisual(ss.mkdel(this,this.$a));this.$t.remove_emptyHighlightFogAllChanged(ss.mkdel(this,this.$6));this.$l=tab.MiscUtil.dispose$1(this.$l)}var e=new ss.ObjectEnumerator(this.$u);try{while(e.moveNext()){var L=e.current();L.value.dispose()}}finally{e.dispose()}spiff.BaseViewModel.prototype.dispose.call(this)},getAndClearInvalidationRects:function(){var e=this.$n;this.$n=[];return e},$9:function(){this.notifyPropertyChanged('images')},$e:function(){this.notifyPropertyChanged('vizNavigationSetting')},$c:function(){var e=this.$t.get_selectionsModel().computeSelectionsDiff(this.$r,this.$m,this.$t.get_impliedSelectionModel());this.$r=this.$t.get_selectionsModel().createSelectionsToken();this.$m=this.$t.get_impliedSelectionModel().createSelectionToken();this.$h(e,'selection')},$3:function(){var e=this.$t.get_brushingsModel().computeSelectionsDiff(this.$k,null,null);this.$k=this.$t.get_brushingsModel().createSelectionsToken();this.$q.$i(this.$t.get_emptyHighlightFogAll());this.$h(e,'brushing')},$h:function(e,L){if(!e.item1){if(e.item2.length===0){return}var hT=this.$q.$9(e.item2);this.$2(hT)}this.notifyPropertyChanged(L)},$4:function(){this.$q.$j(this.$t.get_isBrushedFromAction());this.notifyPropertyChanged('brushing')},$6:function(){this.$q.$i(this.$t.get_emptyHighlightFogAll());this.$p=true},$8:function(){var e=tab.SelectionsModel.computeTupleDictionaryDifference(this.$t.get_hiddenTuples(),this.$q.get_hiddenTuples());if(e.length===0){return}var L=this.$q.$9(e);this.$2(L);this.$q.set_hiddenTuples(this.$t.get_hiddenTuples());this.notifyPropertyChanged('scene')},$7:function(){var e=tab.SelectionsModel.computeTupleDictionaryDifference(this.$t.get_filteredTuples(),this.$q.$o());if(e.length===0){return}var L=this.$q.$9(e);this.$2(L);this.$q.$p(this.$t.get_filteredTuples());this.notifyPropertyChanged('scene')},$5:function(){this.$p=true},$2:function(e){ss.arrayAddRange(this.$n,e)},$b:function(){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){return}var e=false;var L=ss.getEnumerator(Object.keys(this.$j().get_visualListModels()));try{while(L.moveNext()){var hT=L.current();var hU=this.$j().get_visualListModels()[hT];var hV=this.$u[hT];if(ss.isValue(hV)&&ss.referenceEquals(hV.get_visualList(),hU)){}else{tab.MiscUtil.dispose$1(this.$u[hT]);delete this.$u[hT];if(ss.contains(fc.blackListVisualParts,hT)){this.$u[hT]=new hy(hU,this.get_visualId(),tab.ModelUtils.visualPartToRegionMap[hT],this.$t.get_selectionsModel(),this.$t.get_brushingsModel())}else{this.$u[hT]=new hy(hU,this.get_visualId(),tab.ModelUtils.visualPartToRegionMap[hT],null,null)}e=true}}}finally{L.dispose()}var hW=Object.keys(this.$u);var hX=ss.getEnumerator(hW);try{while(hX.moveNext()){var hY=hX.current();if(!ss.keyExists(this.$j().get_visualListModels(),hY)){tab.MiscUtil.dispose$1(this.$u[hY]);delete this.$u[hY];e=true}}}finally{hX.dispose()}var hZ=this.$j().get_backgroundColor().toString();var ia=ss.getEnumerator(Object.keys(this.$u));try{while(ia.moveNext()){var ib=ia.current();this.$u[ib].set_defaultBackgroundColor(hZ)}}finally{ia.dispose()}if(e){this.$g()}this.$p=true},$d:function(){if(this.$p){this.$i();this.notifyPropertyChanged('scene')}this.$p=false},$g:function(){if(ss.isValue(this.$2$1)){this.$2$1()}},$i:function(){fc.updateSceneInfoFromVisualModel(this.$q,this.$t);if(this.$q.customShapes.length>0){this.$l=this.$l||new gc(ss.mkdel(this,function(){this.notifyPropertyChanged('images')}));this.$l.initialize(this.$q.customShapes)}if(ss.isValue(this.$t)&&ss.isValue(this.$t.pm)&&ss.isValue(this.$t.pm.LBF)){this.$q.$m(this.$t.pm.LBF,ss.mkdel(this,function(){this.$9()}))}},isInvalidSheet:function(){return _.any(this.$t.get_invalidSheets(),ss.mkdel(this,function(e){return _.isEqual(this.get_visualId(),e)}))},$a:function(){this.raiseActionEvent(this.$2$2)},shouldEnableZoomHomeToolbar:function(){return this.get_visualModel().get_hasModifiedAxes()},$f:function(){if(!ss.staticEquals(this.$2$3,null)){this.$2$3()}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(fd,a,{get_model:function(){return this.$d.get_parameterCtrlModel().get_parameterCtrlPresModel()},get_domBoxElement:function(){return this.domBox},get_backgroundColor:function(){return this.backgroundColor},postCreate:function(){this.getSID=ss.mkdel(this,function(){return this.stateId});this.$1()},destroy:function(e){if(ss.isValue(this.$c)){this.$c.destroy()}this.domContent.innerHTML='';this.inherited(arguments)},getTypeInParamClass:function(){return tableau.base.widget.paramui.TypeIn},getTypeInDateFieldParamClass:function(){return tableau.base.widget.paramui.TypeInDateField},getCompactParamClass:function(){return tableau.base.widget.paramui.Compact},getListParamClass:function(){return tableau.base.widget.paramui.List},getSliderParamClass:function(){return tableau.base.widget.paramui.Slider},$1:function(){var e=null;if(ss.isNullOrUndefined(this.get_model())||ss.isNullOrUndefined(this.get_model().nql)){return}this.domTitleBar.setAttribute('title',this.get_model().nql.title);switch(this.$2()){case'type_in':{e=this.getTypeInParamClass();break}case'compact':{e=this.getCompactParamClass();break}case'list':{e=this.getListParamClass();break}case'slider':{e=this.getSliderParamClass();break}case'datetime':{e=this.getTypeInDateFieldParamClass();break}default:{return}}if(ss.isValue(this.$c)){this.$c.destroy();this.$c=null}if(ss.isNullOrUndefined(this.$7)){this.$7={}}this.$c=new e(this,this.domContent,this.$8,this.$7,this.$d);this.$c.instantiate(false);this.$6();this.$3()},$6:function(){this.domTitleBar.innerHTML=this.$a;de.cleanUpFontFamilyStyles($(this.domTitleBar));$(this.domTitleBar).find('div').css(ss.mkdict(['text-overflow','ellipsis','overflow','hidden']))},updateProperties:function(e){this.session=e.session;this.$8=e.field;this.$9=e.titleH;this.$b=e.titleW;this.$a=e.titleHTML;this.format=e.format;this.backgroundColor=e.backgroundColor;this.$7=e.attributes;this.$6();this.$3();this.$4()},$3:function(){hI.applyFormatting(this.domNode,this.get_model().mCc,this.get_backgroundColor(),this.get_model().$tN,false)},$4:function(){if(ss.isValue(this.$c)){this.$c.refreshState(this.$7)}},$2:function(){return this.get_model().NId},$0:function(){return this.$b===0&&this.$9===0},$5:function(){if(ss.isValue(this.domTitleBar)){$(this.domTitleBar).css({height:'auto',width:'auto'})}},getTitleOffset:function(){return($(this.domNode).hasClass('PCInlineTitle')?0:dojo.marginBox(this.domTitleBar).h)},layout:function(e){if(ss.isNullOrUndefined(this.domNode.parentNode)||ss.isNullOrUndefined(this.$c)){return}$(this.domNode).removeClass('PCInlineTitle');var L={};this.$5();if(this.$9>0||this.$0()){L.h=this.$9;this.domTitleBar.style.height=L.h+'px'}if(this.$b>0||this.$0()){L.w=this.$b;this.domTitleBar.style.width=L.w+'px'}tableau.util.setupTitleEllipsis($(this.domTitleBar));var hT=dojo.contentBox(this.domNode);var hU={w:hT.w,h:hT.h};if(!this.$0()){if(this.$b>0){hU.w=hT.w-L.w;if(this.$d.get_hasBorder()){this.domContent.style.paddingTop='1px';hU.w-=6}else{hU.w-=2}this.domTitleBar.style.cssFloat='left';this.domContent.style.cssFloat='left';this.domNode.classList.add('PCInlineTitle')}else{hU.h=hT.h-L.h;this.domTitleBar.style.cssFloat='none';this.domContent.style.cssFloat='none'}}this.$c.layout(hU)},getDomNode:function(){return this.domNode},destroyRecursiveShim:function(e){this.destroyRecursive(e)},startupShim:function(){this.startup()},destroyRecursiveShim$1:function(){this.destroyRecursive()},updatePropertiesShim:function(e){this.updateProperties(e)},layoutShim:function(e){this.layout(e)}},Object,[Tableau.JavaScript.Vql.LegacyDojoModuleInterfaces.ILegacyWidgetShim,Tableau.JavaScript.Vql.LegacyDojoModuleInterfaces.IParameterControlWidgetShim]);ss.initClass(fe,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(ff,a,{get_zonePresModel:function(){return this.$b.get_zone()},$9:function(){return this.$b.get_frame()},dispose:function(){if(ss.isValue(this.$a)){this.$a.destroyRecursiveShim(false);this.$a=null}ss.makeGenericType(spiff.BaseView$1,[fg]).prototype.dispose.call(this)},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(ss.isValue(this.$b.get_parameterCtrlModel())){this.handleNewParameterControl()}},handleNewParameterControl:function(){if(ss.isNullOrUndefined(this.$a)){this.$a=this.createParameterControl();this.get_template().domRoot.append(this.$a.getDomNode());this.$a.startupShim();tab.DomUtil.resize(this.$a,hQ.viewRect(this.get_zonePresModel()))}else{this.updateViewProperties()}this.$a.layoutShim(null)},updateSize:function(){tab.DomUtil.resize(this.$a,hQ.viewRect(this.get_zonePresModel()));this.$a.layoutShim(null)},updateViewProperties:function(){var e=this.createParameterControlProperties();this.$a.updatePropertiesShim(e)},createParameterControlProperties:function(){var e=new Object;e.session=this.$b.get_layoutSession();e.zid=this.get_zonePresModel().BCp.toString();e.field=this.$9().param;if(ss.isValue(this.get_zonePresModel().rPC.eBu)){e.backgroundColor=this.get_zonePresModel().rPC.eBu}if(ss.isValue(this.get_zonePresModel().KDk)){e.titleHTML=this.get_zonePresModel().KDk.xBc;if(this.get_zonePresModel().jZr>0){e.titleH=this.get_zonePresModel().KDk.EUR;if(this.$b.get_hasBorder()){e.titleH+=3}e.titleH=Math.max(e.titleH,17)}if(this.get_zonePresModel().nkG1>0){e.titleW=this.get_zonePresModel().KDk.rec}e.titleH=(ss.isNullOrUndefined(e.titleH)?0:e.titleH);e.titleW=(ss.isNullOrUndefined(e.titleW)?0:e.titleW)}if(ss.isValue(this.$9().format)){e.format=this.$9().format}if(ss.isValue(this.$9().attributes)){e.attributes=this.$9().attributes}e.viewModel=this.$b;return e},createParameterControl:function(){var e=this.createParameterControlProperties();this.$a=this.makeParameterControl(e);return this.$a},makeParameterControl:function(e){var L=spiff.ObjectRegistry.resolve(Tableau.JavaScript.Vql.LegacyDojoModuleInterfaces.ILegacyDojoWidgetMaker).call(null,[]);return L.makeControlWidget(e)}},ss.makeGenericType(spiff.BaseView$1,[fg]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[fg])]);ss.initClass(fg,a,{add_newParameterControl:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newParameterControl:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_resized:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_resized:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_parameterCtrlModel:function(){return this.$4},get_frame:function(){return this.$4.get_frame()},get_zone:function(){return this.$4.get_zone()},get_layoutSession:function(){return tab.CommandController.get().get_legacySession()},get_hasBorder:function(){return this.$4.get_zoneModel().get_hasBorder()},$2:function(e){this.raiseActionEvent(this.$2$1)},$3:function(){this.raiseActionEvent(this.$2$2)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,Tableau.JavaScript.Vql.LegacyDojoModuleInterfaces.IParameterControlViewModel]);ss.initClass(fh,a,{add_propsUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_propsUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_props:function(){return{allOption:false,initialAllOptionSelected:false,titleCaption:this.displayModel.get_titleCaption(),titleHtml:this.displayModel.get_titleHtml(),titleHeight:this.displayModel.get_titleHeight(),searchEnabled:false,clearEnabled:false,itemsHeight:this.displayModel.get_itemsHeight(),items:Array.prototype.slice.call(this.get_listItems()),itemsFontName:this.displayModel.get_itemsFontName(),itemsFontSize:this.displayModel.get_itemsFontSize(),itemsTextColor:this.displayModel.get_itemsTextColor(),itemsFontWeight:this.displayModel.get_itemsFontWeight(),itemsFontStyle:this.displayModel.get_itemsFontStyle(),itemsTextDecoration:this.displayModel.get_itemsTextDecoration(),mode:this.$2(),isExclusive:false,zoneBackgroundColor:this.displayModel.get_zoneBackgroundColor(),showApplyAndCancelButtons:false,selectionChangedCallBack:ss.mkdel(this,this.$3)}},get_listItems:function(){return this.displayModel.get_items().map(ss.mkdel(this,function(e){return{isSelected:ss.referenceEquals(this.displayModel.get_selectedItem(),e.formattedValue),label:e.formattedValue}}))},handleFilterUpdate:function(){this.raiseActionEvent(this.$2$1)},$3:function(e){var L=e.mapSelected(Object).call(e,ss.mkdel(this,function(hT){return this.displayModel.get_items()[hT].domainValue}));tab.ParameterServerCommands.setParameterValue(this.displayModel.get_fieldName(),L[0].toString(),null)},$2:function(){switch(this.displayModel.get_displayMode()){case'compact':{return 1}case'list':{return 0}case'type_in':case'slider':case'datetime':default:{break}}throw new ss.NotSupportedException}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(fi,a,{get_legacyModel:function(){return this.parameterViewModel.get_parameterCtrlModel().get_parameterCtrlJsonPresModel()},get_model:function(){return this.parameterViewModel.get_parameterCtrlModel().get_parameterCtrlPresModel()},instantiate:null,setNewState:null,refreshState:function(e){this.attributes=e;this.setNewState()},dispose:function(){this.disposables.dispose()},destroy:function(e){this.dispose();this.div.innerHTML=''},layout:function(e){dojo.marginBox(this.div,e)}},Object,[ss.IDisposable]);ss.initClass(fj,a,{instantiate:function(e){},setNewState:function(){if(ss.isValue(this.$2.get_selectedItem())&&!ss.referenceEquals(this.get_legacyModel().alias,this.$2.get_selectedItem().get_name())){var e=this.$2.get_items();for(var L=0;L<e.length;L++){var hT=e[L];if(ss.referenceEquals(hT.get_name(),this.get_legacyModel().alias)){this.$2.set_selectedItem(hT);break}}}},$0:function(e){var L=e.get_data();var hT=this.get_legacyModel().domain;if(L>=hT.length||L<0||tab.MiscUtil.isNullOrEmpty(hT)){return}if(ss.referenceEquals(hT[L],this.get_legacyModel().alias)){return}var hU=hT[L];tab.ParameterServerCommands.setParameterValue(this.field,hU,null)},layout:function(e){this.inherited(arguments)}},fi,[ss.IDisposable]);ss.initClass(fk,a,{instantiate:function(e){var L=ss.mkdel(cY.filterItem,cY.filterItem.getRadioHtml);var hT=this.field;var hU=this.get_legacyModel().alias;var hV=[];var hW=this.get_legacyModel().domain;var hX=hW.length;for(var hY=0;hY<hX;hY++){var hZ=[hT,'_',hY.toString()].join('');hV.push(L(hZ,hT,hW[hY],ss.referenceEquals(hU,hW[hY])))}this.div.innerHTML=hV.join('');$(this.div).addClass('tab-ctrl-formatted-text');if(e!==true){this.disposables.add$1(spiff.EventUtil.bindWithDispose($(this.div),'click',ss.mkdel(this,this.$0)))}},setNewState:function(){this.instantiate(true)},$0:function(e){var L=e.target.tagName.toLowerCase();if(L!=='input'){return}var hT=$(e.target);var hU=hT.parents('.FIItem');if(hU.length>0){var hV=cY.filterItem.getIndex(hU.get(0));var hW=this.get_legacyModel().domain[hV];tab.ParameterServerCommands.setParameterValue(this.field,hW,null)}}},fi,[ss.IDisposable]);ss.initClass(fl,a,{instantiate:function(e){var L=this.get_legacyModel();var hT=this.get_legacyModel().domain;var hU=this.get_legacyModel().alias;var hV=1;var hW=1;this.slider=new tableau.base.widget.ui.Slider(this.div,this.attributes,false,ss.mkdel(this,this.doUpdateViz),ss.mkdel(this.parent,this.parent.getTitleOffset),ss.mkdel(this,this.getCurrentText),null,null,false);if(L.fake_continuous){this.attributes['show-step-btns']='false';this.attributes['show-ticks']='false'}var hX=ss.mkdel(this,function(){this.slider.instantiateFromDomain(hT,hU)});var hY=ss.mkdel(this,function(){hV=Number.POSITIVE_INFINITY;hW=this.percentageOfRange(this.modelValueOrRangeMin())*100;this.attributes['show-step-btns']='false';this.slider.instantiate(hV,hW,hU)});var hZ=ss.mkdel(this,function(){hV=this.numPeriods();hW=this.indexInDateRange(this.modelValueOrRangeMin());hU=this.formatValue(this.modelValueOrRangeMin());this.slider.instantiate(hV,hW,hU)});var ia=ss.mkdel(this,function(){hV=this.sizeOfDiscreteRange();hW=this.indexInRange(this.modelValueOrRangeMin());this.slider.instantiate(hV,hW,hU)});this.behaviorPicker(hX,hY,hZ,ia)},behaviorPicker:function(e,L,hT,hU){if(this.$0()){return e()}else if(this.$1()){if(this.$6()){return L()}else if(this.$5()){return hT()}else{return hU()}}return null},setNewState:function(){var e=this.get_legacyModel().domain;var L=this.get_legacyModel().alias;var hT=function(){var hY=e.length;for(var hZ=0;hZ<hY;hZ++){if(ss.referenceEquals(e[hZ],L)){return{item1:L,item2:hZ}}}return null};var hU=ss.mkdel(this,function(){return{item1:L,item2:this.percentageOfRange(this.modelValueOrRangeMin())*100}});var hV=ss.mkdel(this,function(){return{item1:this.formatValue(this.modelValueOrRangeMin()),item2:this.indexInDateRange(this.modelValueOrRangeMin())}});var hW=ss.mkdel(this,function(){return{item1:L,item2:this.indexInRange(this.modelValueOrRangeMin())}});var hX=this.behaviorPicker(hT,hU,hV,hW);this.slider.setNewState(hX.item2);this.slider.updateReadout(hX.item1)},doUpdateViz:function(e){var L=ss.mkdel(this,function(){return{item1:this.get_legacyModel().domain[e],item2:null}});var hT=ss.mkdel(this,function(){return{item1:null,item2:this.$4(this.$d(e))}});var hU=ss.mkdel(this,function(){return{item1:null,item2:this.$4(this.$b(e))}});var hV=ss.mkdel(this,function(){return{item1:null,item2:this.$4(this.$c(e))}});var hW=this.behaviorPicker(L,hT,hU,hV);var hX=null;if(ss.isValue(hW.item1)){hX=hW.item1}else if(ss.isValue(hW.item2)){hX=tableau.format.formatDataValue(hW.item2,null,null,null,2)}tab.ParameterServerCommands.setParameterValue(this.field,hX,true)},layout:function(e){this.inherited(arguments);if(ss.isValue(this.slider)&&typeof(this.slider['layout'])==='function'){this.slider.layout()}},getCurrentText:function(e){var L=ss.mkdel(this,function(){return this.get_legacyModel().domain[e]});var hT=ss.mkdel(this,function(){return this.formatValue(this.$d(e))});var hU=ss.mkdel(this,function(){return this.formatValue(this.$b(e))});var hV=ss.mkdel(this,function(){return this.formatValue(this.$c(e))});return this.behaviorPicker(L,hT,hU,hV)},$0:function(){return ss.isValue(this.get_legacyModel().domain)},$1:function(){return ss.isValue(this.get_legacyModel().granularity)&&ss.isValue(this.get_legacyModel().min)&&ss.isValue(this.get_legacyModel().max)},$6:function(){return this.get_legacyModel().granularity.s==='n'},$5:function(){return ss.isValue(this.get_legacyModel().date_period_type)},$8:function(){return ss.unbox(this.get_legacyModel().min.v)},$7:function(){return ss.unbox(this.get_legacyModel().max.v)},modelValueOrRangeMin:function(){return(ss.isValue(this.get_legacyModel().value.v)?ss.unbox(this.get_legacyModel().value.v):this.$8())},$3:function(){return this.get_legacyModel().granularity.v},$2:function(){return this.get_legacyModel().date_period_type},numPeriods:function(){return this.get_legacyModel().num_periods},$a:function(){return this.$7()-this.$8()},percentageOfRange:function(e){return(e-this.$8())/this.$a()},$d:function(e){return e/100*this.$a()+this.$8()},sizeOfDiscreteRange:function(){return Math.round(this.$a()/this.$3())+1},indexInRange:function(e){return Math.round((e-this.$8())/this.$3())},$c:function(e){return e*this.$3()+this.$8()},indexInDateRange:function(e){return Math.round((e-this.$8())/(this.$3()*this.$9()))},$b:function(e){e=e*this.$3();var L=tab.DateUtil.adjustDateByPeriodInUTC(new Date(tableau.types.JsDateFromOleDate(this.$8())),this.$2(),e);return Math.min(tableau.types.OleDateFromJsDate(L.getTime()),this.$7())},$9:function(){switch(this.$2()){case'year':{return 365.25}case'quarter':{return 91.3125}case'month':{return 30.4375}case'week':{return 7}case'day':{return 1}case'hour':{return 0.0416666666666667}case'minute':{return 0.000694444444444444}case'second':{return 1.15740740740741E-05}}return 0},formatValue:function(e){var L=this.get_legacyModel().date_format||this.get_legacyModel().format;return tableau.format.formatDataValue(this.$4(e),null,L,null,2)},$4:function(e){return{t:this.get_legacyModel().min.t,v:e.toString()}}},fi,[ss.IDisposable]);ss.initClass(fm,a,{getWidgetClass:function(){return tableau.base.widget.ui.TypeIn},instantiate:function(e){var L=this.getWidgetClass();this.widget=new L(this.div,ss.mkdel(this,this.$0),'TypeIn');this.widget.instantiate(this.get_legacyModel().alias,this.field,this.get_legacyModel().value,this.get_legacyModel().min,this.get_legacyModel().max,this.get_legacyModel().format,this.get_legacyModel().date_format,this.get_legacyModel().editing_format,this.get_model()._$D);if(this.get_legacyModel().is_list_domain){this.widget.$2(this.get_legacyModel().domain,ss.mkdel(this.parent.session,this.parent.session.getAutocompleteInfo))}},setNewState:function(){this.widget.setNewState(this.get_legacyModel().alias,this.get_legacyModel().domain,this.get_legacyModel().value,this.get_legacyModel().min,this.get_legacyModel().max)},layout:function(e){this.inherited(arguments);this.widget.layout()},$0:function(e){if(ss.referenceEquals(this.newValInFlight,e)){return}this.newValInFlight=e;tab.ParameterServerCommands.setParameterValue$1(this.field,e,false,ss.mkdel(this,this.$2),ss.mkdel(this,this.$1))},$1:function(e){this.widget.queryBox.value=this.get_legacyModel().alias;this.newValInFlight=null;this.setNewState()},$2:function(e){this.newValInFlight=null;_.defer(ss.mkdel(this,this.setNewState))}},fi,[ss.IDisposable]);ss.initClass(fn,a,{getWidgetClass:function(){return tableau.base.widget.ui.TypeInDateField}},fm,[ss.IDisposable]);ss.initClass(fo,a,{instantiate:function(e,L,hT){var hU=arguments[0];this.widget=new tableau.base.widget.ui.TypeIn(this.div,ss.mkdel(this,this.doChange),'Pattern');this.widget.instantiate(hU,L)},destroy:function(){this.widget.destroy()},layout:function(e,L){this.inherited(arguments);this.widget.layout()},doChange:function(e){this.parent.set_stateId(this.parent.get_stateId()+1);this.parent.get_session().setPatternFilterState(e,this.parent);this.parent.get_oFilter().pattern=e}},bj,[ss.IDisposable]);ss.initClass(fp,a,{add_onPendingChanges:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_onPendingChanges:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_onNoPendingChanges:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_onNoPendingChanges:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},get_allItemCheckState:function(){return this.$4},set_allItemCheckState:function(e){this.$4=e},get_pendingChangelist:function(){return this.$8},set_pendingChangelist:function(e){this.$8=e},resetFilterInfo:function(e,L,hT){this.domainActualSize=e;this.$6=L;this.$5=hT},resetPendingChanges:function(){this.$8=new tab.Changelist;this.$7=[];this.$a=false;this.$9=false;this.$4=null;this.$1()},processChanges:function(e){this.get_pendingChangelist().appendChangelist(e);this.$0()},processAll:function(e){this.$7=[];this.$a=true;this.$9=(this.$6?!e:e);this.$8=new tab.Changelist;var L=new tab.RawChange;L.setRange(new tab.IntegerRange(0,this.domainActualSize),this.$9);this.get_pendingChangelist().addChange(L);this.$0()},isSelectAll:function(){return this.$a&&this.$7.length===0&&(this.$6?!this.$9:this.$9)},isDeSelectAll:function(){return this.$a&&this.$7.length===0&&(this.$6?this.$9:!this.$9)},handleAllItemClicked:function(e){var L=(this.$6?!e:e);this.set_allItemCheckState(e);var hT=0;while(this.hasItemAtIndex(hT)){if(L){if(!this.isChecked(hT)){this.togglePendingCss(hT)}this.setChecked(hT,true)}else{if(this.isChecked(hT)){this.togglePendingCss(hT)}this.setChecked(hT,false)}hT++}this.$a=true;this.$9=L;this.$7=[]},handleItemClicked:function(e,L){if(e===-1){this.handleAllItemClicked(this.isChecked(e));return}if(!this.isChecked(e,L)){if(this.parent.shouldUseAllItem()){this.set_allItemCheckState(false);if(this.hasAllItem()){this.setAllItemChecked(false);if(this.$6){var hT=true;var hU=0;while(hT&&this.hasItemAtIndex(hU)){if(this.isChecked(hU)){hT=false}hU++}this.setAllItemChecked(hT)}}}}else if(this.hasAllItem()){var hV=true;var hW=0;while(hV&&this.hasItemAtIndex(hW)){if(!this.isChecked(hW)){hV=false}hW++}this.setAllItemChecked(hV)}this.togglePendingCss(e,L);this.$3(e)},hasAllItem:function(){var e=this.parent.fetchAllItem();return ss.isValue(e)&&cY.filterItem.isAllItem(e)},hasItemAtIndex:function(e){return e<this.domainActualSize&&ss.isValue(this.parent.fetchChildNodeByIndex(e))},setAllItemChecked:function(e){var L=this.parent.fetchAllItem();if(ss.isValue(L)){cY.filterItem.setChecked(L,e);this.set_allItemCheckState(e)}},togglePendingCss:function(e,L){var hT=(ss.isValue(L)?L:this.parent.fetchChildNodeByIndex(e));if(ss.isValue(hT)){cY.filterItem.togglePendingState(hT)}},setChecked:function(e,L){var hT=this.parent.fetchChildNodeByIndex(e);if(ss.isValue(hT)){cY.filterItem.setChecked(hT,L)}},isChecked:function(e,L){var hT;if(e===-1){hT=this.parent.fetchAllItem()}else{hT=(ss.isValue(L)?L:this.parent.fetchChildNodeByIndex(e))}return cY.filterItem.isChecked(hT)},isPending:function(e,L){if(this.$a){var hT=((this.$5&&!this.$6)?true:e.s);if(ss.contains(this.$7,L)){return hT===this.$9}else{return hT!==this.$9}}else{return ss.contains(this.$7,L)}},$0:function(){if(this.$a||this.$7.length>0){this.$2()}else{this.$1()}},$2:function(){if(ss.isValue(this.$1$1)){this.$1$1()}},$1:function(){if(ss.isValue(this.$1$2)){this.$1$2()}},$3:function(e){if(ss.contains(this.$7,e)){ss.remove(this.$7,e)}else{this.$7.push(e)}}});ss.initClass(fq,a,{get_hitTestingBox:function(){return((this.$k.length===0)?{x:0,y:0,w:0,h:0}:tab.RectXYUtil.nonemptyify(this.$g(true)))},get_autoScrollAdjustment:function(){return((tab.ApplicationModel.get_instance().get_isLocalRenderMode()||tsConfig.is_mobile)?this.get_autoScrollOffset():{x:0,y:0})},isSingleSelect:function(){return this.$k.length===0},$g:function(e){var L=(e?this.$l:this.$k);var hT=L[0].x;var hU=hT;var hV=L[0].y;var hW=hV;for(var hX=0;hX<L.length;hX++){var hY=L[hX];if(hY.x<hT){hT=hY.x}else if(hY.x>hU){hU=hY.x}if(hY.y<hV){hV=hY.y}else if(hY.y>hW){hW=hY.y}}return{x:hT,y:hV,w:hU-hT,h:hW-hV}},updateSpecificShape:function(e){if(this.$k.length===0){var L=this.get_dragStart().x-this.get_connectNodePos().x;var hT=this.get_dragStart().y-this.get_connectNodePos().y;this.$d(L,hT)}var hU=e.x;var hV=e.y;this.$d(hU,hV)},renderShape:function(){if(ss.isNullOrEmptyString(this.$p)){return}this.get_dom().find('svg path').attr('d',this.$p);this.$i=tab.MiscUtil.clearTimeout(this.$i);this.$i=window.setTimeout(ss.mkdel(this,function(){this.$f()}),300);this.get_dom().css('display','')},$f:function(){this.$i=tab.MiscUtil.clearTimeout(this.$i);this.get_dom().find('svg path').attr('d',this.$p+'Z')},show:function(){this.$e();this.renderShape();this.get_dom().find('.selectionShape').show()},hide:function(){this.get_dom().find('.selectionShape').hide()},shapeAreaHit:function(e,L,hT,hU){var hV=hT.get_objectId();var hW=L.markType;var hX=dt.rectangleAreaHit(L,hT.get_boundingBox(),e,hV,hU,hW);if(!hX){return false}var hY=0;var hZ=0;if(hU.get_transformType()===3){hY=hU.get_translateX();hZ=hU.get_translateY()}var ia=this.$h(hY,hZ);if(hU.get_transformType()===1){ia=hU.transformPolygon(ia)}return dt.polyAreaHit(L,hT.get_boundingBox(),ia,hV,hU,hW)},sendSelectionCommand:function(e,L,hT,hU){tab.SelectionClientCommands.selectPolyRegionAndDoUbertip(e,this.get_hitTestingBox(),this.$l,L,hT,hU)},retrieveStateObject:function(e){return(this.isStateObjectTypeCorrect(e)?e:new fr)},saveCurrentState:function(e){if(this.isStateObjectTypeCorrect(e)){var L=e;L.saveCurrentState(this.$l)}},isStateObjectTypeCorrect:function(e){if(ss.isValue(e)){if(ss.referenceEquals(ss.getInstanceType(e),fr)){return true}}return false},$e:function(){ss.clear(this.$k);ss.clear(this.$l);ss.clearKeys(this.$j);this.$p='';this.$n=null;this.$o=null},$d:function(e,L){var hT=2;var hU=1;if(this.$m&&ss.isValue(this.$n)&&ss.isValue(this.$o)){if(Math.abs(e-ss.unbox(this.$n))<hT&&Math.abs(L-ss.unbox(this.$o))<hT){return}}var hV=e+this.get_drawOffsets().x+this.get_autoScrollAdjustment().x;var hW=L+this.get_drawOffsets().y+this.get_autoScrollAdjustment().y;var hX=e+this.get_totalScrollOffset().x;var hY=L+this.get_totalScrollOffset().y;var hZ=false;var ia=false;var ib=false;var ic=this.$l.length;if(this.$m){if(ic>1){var id=this.$l[ic-1];var ie=this.$l[ic-2];var ig=Math.abs(hX-ie.x);var ih=Math.abs(hX-id.x);var ii=Math.abs(hY-ie.y);var ij=Math.abs(hY-id.y);hZ=ii<=hU&&ij<=hU;if(hZ){hZ=fq.$0(hX,id.x,ie.x)}else{ia=ig<=hU&&ih<=hU;if(ia){ia=fq.$0(hY,id.y,ie.y)}else{ib=ig*ij===ii*ih&&fq.$0(hX,id.x,ie.x)}}}}var ik=ic-1;if(hZ){this.$k[ik].x=hV;this.$l[ik].x=hX}else if(ia){this.$k[ik].y=hW;this.$l[ik].y=hY}else if(ib){this.$k[ik].x=hV;this.$k[ik].y=hW;this.$l[ik].x=hX;this.$l[ik].y=hY}else{this.$k.push({x:hV,y:hW});this.$l.push({x:hX,y:hY})}this.$p='';var il=this.get_autoScrollAdjustment();var im='M';for(var io=0;io<this.$k.length;io++){var ip=this.$k[io];this.$p+=im+(ip.x-il.x)+','+(ip.y-il.y);im='L'}this.$n=e;this.$o=L},$h:function(e,L){var hT=0;var hU=this.$l.length;var hV=e.toString()+':'+L.toString();var hW=this.$j[hV];if(ss.isNullOrUndefined(hW)){hW=new Array(hU*2);this.$j[hV]=hW}else{hT=ss.Int32.div(hW.length,2);if(this.$m){hT-=1}hW.length=hU*2}var hX=Math.round(e);var hY=Math.round(L);for(var hZ=hT,ia=hT*2;hZ<hU;hZ++,ia+=2){var ib=this.$l[hZ];hW[ia]=ib.x-hX;hW[ia+1]=ib.y-hY}return hW}},gd);ss.initClass(fr,a,{saveCurrentState:function(e){if(e.length<this.$1){}this.$0=ss.arrayClone(e)},updateLastState:function(){this.$1=Math.max(0,this.$0.length-1)},getStateDiff:function(){if(this.$0.length===0){return[]}var e=this.$0[0].y;var L=e;var hT=this.$0[0].x;var hU=hT;for(var hV=this.$1,hW=this.$0.length;hV<hW;hV++){e=Math.min(e,this.$0[hV].y);L=Math.max(L,this.$0[hV].y);hT=Math.min(hT,this.$0[hV].x);hU=Math.max(hU,this.$0[hV].x)}var hX=new Array(1);hX[0]=tab.RectXYUtil.nonemptyify({x:hT,y:e,w:hU-hT,h:L-e});return hX}},ge);ss.initClass(fs,a,{},ss.makeGenericType(spiff.BaseView$1,[ft]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[ft])]);ss.initClass(ft,a,{activate:function(){if(!ss.staticEquals(this.$2,null)){this.$2()}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(fu,a,{setDefaultLabelLookupValues:function(){this.c['label_index']=tab.VisualColumnIterator.create([-1])},addLabelInfo:function(e,L){this.labelColumnIterators=tab.VisualColumnHelpers.parseColumns(e,L.QNi,tab.SceneDataUtil.getNumPaneItems(L));this.transformColumnData(this.labelColumnIterators);var hT=this.labelColumnIterators['tuple_id'];var hU=[];if(ss.isValue(hT)){var hV=new Array(this.markCount);for(var hW=0;hW<this.markCount;hW++){hV[hW]=-1}for(var hX=0;hX<hT.length;hX++){var hY=this.tupleToIndexMap[hT.v[(hT.c?0:hX)]];if(ss.isValue(hY)){hV[hY]=hX}hU.push(hY)}this.c['label_index']=tab.VisualColumnIterator.create(hV)}hT=this.c['tuple_id'];var hZ={};this.$f(hU,ss.mkdel(this,function(id,ie){var ig=eX.$1('label',id,this,ie);hZ[hT.v[(hT.c?0:id)]]=ig}));this.sceneInfo.$1(this,hZ);var ia;if(ss.keyExists(this.labelColumnIterators,'pane_flags')){var ib=this.labelColumnIterators['pane_flags'];ia=ib.v[(ib.c?0:0)]}else{ia=0}var ic=ia;this.truncateLabelToCell=tab.SceneDataUtil.isPaneFlagSet(ic,'clip-to-cell-x');this.parseTextInfo(e.MbY,e.Smu,true)}},eV);fu.$ctor1.prototype=fu.prototype;ss.initClass(fv,a,{});ss.initClass(fw,a,{},eu,[ss.IDisposable]);ss.initClass(fx,a,{$l:function(){return this.get_viewModel()},$k:function(){return this.get_template()},onAddedToDom:function(){ss.makeGenericType(bi,[fy]).prototype.onAddedToDom.call(this);this.$e()},onViewModelPropertyChanged:function(e,L){switch(L.get_propertyName()){case'isActiveZone':case'isReadyZone':{break}case'ParentZoneSizeChanged':{var hT=this.$l().$4();if(hT.w===this.$k().panel.width()&&hT.h===this.$k().panel.height()){}else{this.$h()}break}case null:case'ModelChanged':{this.$h();break}default:{this.$h();break}}},$i:function(){return tab.FeatureFlags.isEnabled('VizLegendPerMeasure')&&tsConfig.current_sheet_type!=='story'&&!(tsConfig.current_sheet_type==='dashboard'&&tsConfig.is_authoring)},$j:function(){throw new ss.NotImplementedException},$f:function(e){this.$k().panel.addClass('hover')},$g:function(e){this.$k().panel.removeClass('hover')},$h:function(){this.$e()},$e:function(){this.drawTitle();var e='tableau_qcolor_legend_'+encodeURIComponent(this.$l().$7());this.$k().panel.get(0).id=e;var L=this.$l().get_quantColorLegendPresModel();var hT=this.$l().$4().w;var hU=this.$l().$4().h;if(!this.get_legendViewModel().get_titleInline()){this.$k().titleArea.width(hT)}fx.setDomNodeStyleSize(this.$k().panel,hT,hU);var hV=$.extend(true,new Object,L.tV.oyQ);var hW=this.$k().ramp;var hX=hW.get(0);var hY=bn.getRenderContext(hX,'opaque');hY.save();cy.setTextProperties(hY,L.ZBT,0);var hZ=L.tV.xuX.thj+L.tV.xuX.rec<hV.thj;{var ia=L.tV.xuX;var ib=this.$k().minLabel;ib.css('left',ia.thj.toString()+'px');ib.css('top',ia.RAC.toString()+'px');ib.css('width',ia.rec.toString()+'px');ib.css('height',ia.EUR.toString()+'px');ib.css('line-height',ia.EUR.toString()+'px');ib.css('text-align',(L.tV.fUl?'center':'left'));var ic=L.ZBT;ib.css(de.makeFormatStyleDict(ic,null));ib.text(L.lUK);if(hZ){var id=Math.round(hY.measureText(L.lUK).width)-ia.rec;id=this.$d(id,hV.rec);if(id>0){hV.thj+=id;hV.rec-=id}}}var ie=this.$k().maxLabel;if(L.tV.fUl){ie.css('visibility','hidden')}else{ie.css('visibility','visible');var ig=L.tV._oB;ie.css('left',ig.thj.toString()+'px');ie.css('top',ig.RAC.toString()+'px');ie.css('width',ig.rec.toString()+'px');ie.css('height',ig.EUR.toString()+'px');ie.css('line-height',ig.EUR.toString()+'px');ie.css('text-align','right');var ih=L.ZBT;ie.css(de.makeFormatStyleDict(ih,null));ie.text(L.ZWE);if(hZ){var ii=Math.max(0,Math.round(hY.measureText(L.ZWE).width)-ig.rec);ii+=this.$l().get_borderWidth()*2;ii=this.$d(ii,hV.rec);if(ii>0){ie.css('left',(ig.thj-ii).toString()+'px');hV.rec-=ii}}}hY.restore();{hW.css('left',hV.thj.toString()+'px');hW.css('top',hV.RAC.toString()+'px');var ij=L.POI.s$V*2;var ik=hV.rec-ij+1;var il=hV.EUR-ij+1;hW.css('width',ik+'px');hW.css('height',il+'px');{var im={w:ik,h:il};bp.sizeCanvasWithHighDPISupport(hX,hY,im);hY.save();var io=this.$l().get_rampColorSamplesAsColorModels();var ip=io.length;if(L.tzB){var iq=0;var ir=Math.round(ik/ip);for(var it=0;it<ip-1;++it){hY.set_shapeFillStyle(io[it]);hY.fillRect(iq,0,ir+1,il);iq+=ir}var iu=ik-iq;hY.set_shapeFillStyle(io[ip-1]);hY.fillRect(iq,0,iu,il)}else{var iv=hY.createLinearGradient(0,0,ik,0);var iw=1/(ip-1);for(var ix=0;ix<ip;++ix){var iy=ix*iw;iv.addColorStop(iy,io[ix])}hY.set_shapeFillStyle(iv);hY.fillRect(0,0,ik,il)}hY.restore()}{var iz=de.$3(L.POI);hW.css(iz)}if(L.uiH){var iA=this.$k().centerMark;iA.css('visibility','visible');var iB=L.tV.sOh.thj;var iC=L.tV.sOh.RAC;var iD=L.tV.fhz.RAC;var iE=iD-iC;if(hZ&&hV.rec!==L.tV.oyQ.rec){var iF=L.tV.oyQ;var iG=(iB-iF.thj)/iF.rec;iB=hV.thj+Math.ceil(iG*hV.rec)}iA.css('left',iB.toString()+'px');iA.css('top',iC.toString()+'px');iA.width(1);iA.height(iE);iA.css('background-color','black')}else{this.$k().centerMark.css('visibility','hidden')}}},$d:function(e,L){var hT=0;if(e>0&&L>1){hT=Math.min(e,Math.floor(L*0.15))}return hT}},ss.makeGenericType(bi,[fy]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[fy])]);ss.initClass(fy,a,{get_quantColorLegendPresModel:function(){return this.$d.get_quantColorLegendPresModel()},get_titleHtml:function(){return this.get_quantColorLegendPresModel().XjF},get_titleInline:function(){var e=this.$5();if(this.get_quantColorLegendPresModel().tV.HNR===false&&e.h===0&&e.w>0){return true}else{return this.get_quantColorLegendPresModel().tV.HNR}},get_regionType:function(){return'color'},get_rampColorSamplesAsColorModels:function(){var e=[];var L=this.get_quantColorLegendPresModel().eg$;if(ss.isValue(L)){var hT=this.get_quantColorLegendPresModel().Avh/255;e=new Array(L.length);for(var hU=0;hU<L.length;++hU){e[hU]=tab.ColorModel.fromColorModelPlusAlpha(tab.ColorModel.fromColorCode(L[hU]),hT).toString()}}return e},get_borderWidth:function(){var e=this.get_quantColorLegendPresModel().rPC.s$V;if(this.get_quantColorLegendPresModel().rPC.ysh1==='bs-none'){e=0}return e},get_titleHeight:function(){var e=this.get_quantColorLegendPresModel().tV.HVI.EUR;if(e===0){e=this.$5().h}return e},get_titleWidth:function(){var e=this.get_quantColorLegendPresModel().tV.HVI.rec;if(e===0){e=this.$5().w}return e},dispose:function(){this.$d.remove_legendChanged(ss.mkdel(this,this.$c));es.prototype.dispose.call(this)},$c:function(){this.notifyPropertyChanged('ModelChanged')}},es,[ss.IDisposable,spiff.IViewModel]);ss.initClass(fz,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(fA,a,{});ss.initClass(fC,a,{});ss.initClass(fD,a,{get_scrollNode:function(){return this.contentNode},instantiate:function(e,L,hT){this.$3=this.parent.get_searchWidget();this.$3.setStyle(2);var hU=$(this.div).addClass('CFOuterContainer');this.$3.startupAndAppendTo(hU);this.$3.hideUI();var hV=$('<div>').addClass('CFInnerContainer').addClass('tab-ctrl-formatted-text');hU.append(hV);this.contentNode=hV.get(0);this.resetContent(e,L,hT);this.disposables.add$1(spiff.EventUtil.bindWithDispose($(this.div),'click',ss.mkdel(this.parent,this.parent.onListItemClick)))},resetContent:function(e,L,hT){var hU=$(this.contentNode);hU.empty();if(this.shouldUseAllItem()&&e.length>0){bC.addAllItem(hU,this.parent,L,hT,cY.isAllOrAllChecked(this.parent),this.get_itemFormatter());if(cY.isAllOrAllChecked(this.parent)){for(var hV=0;hV<e.length;hV++){e[hV].s=false}}}if(ss.isValue(this.tiledWidget)){this.tiledWidget.destroy()}this.tiledWidget=gH.createRadiolist(this.parent,e,this.contentNode,L,this.get_lineHeight())},updateContent:function(e){var L=((e.length>0)?e.join(''):this.$3.get_noMatchHtml());var hT=$(this.contentNode);if(ss.isValue(this.tiledWidget)){this.tiledWidget.destroy();this.tiledWidget=null}hT.html(L)},shouldNotReinstantiate:function(){return ss.isValue(this.$3)&&this.$3.isShowingResults()},layout:function(e,L){this.inherited(arguments);if(ss.isValue(this.tiledWidget)){this.tiledWidget.updateViewport(e.w,e.h)}var hT=((ss.isValue(this.$3)&&this.$3.get_isVisible())?dojo.marginBox(this.$3.domNode).h:0);this.contentNode.style.height=this.div.clientHeight-hT+'px'},destroy:function(){this.dispose();if(ss.isValue(this.$3)){this.$3.destroy()}if(ss.isValue(this.tiledWidget)){this.tiledWidget.destroy()}this.tiledWidget=null},fetchChildNodeByIndex:function(e){if(ss.isValue(this.tiledWidget)){return this.tiledWidget.getElement(e)}else{return null}},fetchAllItem:function(){if(this.shouldUseAllItem()&&ss.isValue(this.contentNode)){return this.contentNode.firstChild}else{return null}}},bj,[ss.IDisposable]);ss.initClass(fE,a,{},bD,[dB]);ss.initClass(fF,a,{get_type:function(){return 0},get_geom:function(){return this.$0}},null,[dH]);ss.initClass(fG,a,{get_hitTestingBox:function(){return tab.RectXYUtil.nonemptyify(this.$e)},isSingleSelect:function(){return this.$d.w<=1&&this.$d.h<=1},updateSpecificShape:function(e){var L=this.get_dragStart().x-this.get_connectNodePos().x;var hT=this.get_dragStart().y-this.get_connectNodePos().y;var hU=Math.round(Math.min(e.x,L));var hV=Math.round(Math.max(e.x,L));var hW=Math.round(Math.min(e.y,hT));var hX=Math.round(Math.max(e.y,hT));var hY=hV-hU;var hZ=hX-hW;this.$d={x:hU+this.get_drawOffsets().x,y:hW+this.get_drawOffsets().y,w:hY,h:hZ};this.$e={x:hU+this.get_totalScrollOffset().x,y:hW+this.get_totalScrollOffset().y,w:hY,h:hZ}},renderShape:function(){var e={l:this.$d.x,t:this.$d.y,w:this.$d.w,h:this.$d.h};tab.DomUtil.setMarginBoxJQ(this.get_dom(),e);this.get_dom().css('display','')},show:function(){this.get_dom().addClass('tvdrag_marquee')},hide:function(){this.get_dom().removeClass('tvdrag_marquee')},shapeAreaHit:function(e,L,hT,hU){return dt.rectangleAreaHit(L,hT.get_boundingBox(),e,hT.get_objectId(),hU,L.markType)},sendSelectionCommand:function(e,L,hT,hU){tab.SelectionClientCommands.selectRectRegionAndDoUbertip(e,this.get_hitTestingBox(),L,hT,hU)},retrieveStateObject:function(e){return(this.isStateObjectTypeCorrect(e)?e:new fH)},saveCurrentState:function(e){if(this.isStateObjectTypeCorrect(e)){var L=e;L.saveCurrentState(this.get_hitTestingBox())}},isStateObjectTypeCorrect:function(e){if(ss.isValue(e)){if(ss.referenceEquals(ss.getInstanceType(e),fH)){return true}}return false}},gd);ss.initClass(fH,a,{saveCurrentState:function(e){this.$0=tab.RectXYUtil.clone(e)},updateLastState:function(){this.$1=this.$0},getStateDiff:function(){if(!tab.RectXYUtil.isEmpty(this.$1)){return tab.RectXYUtil.getChangedRects(this.$1,this.$0)}var e=new Array(1);e[0]=this.$0;return e}},ge);ss.initClass(fI,a,{$h:function(){return this.get_viewModel()},$g:function(){return this.get_template()},$9:function(){var e=this.$g().$1.val();if(!ss.referenceEquals(e,this.$h().get_constantValue())){tab.PaneClientCommands.setReferenceLineConstantValue(e,this.$h().get_refLineId())}this.$a()},$b:function(){this.$9()},$c:function(){this.$g().$1.attr('tabindex','1');this.$g().$1.attr('value',this.$h().get_constantValue());this.$i=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$9),tab.Strings.DialogButtonOK,'refLineConstantValueEditorButton',0,2);this.$i.addToDom(this.element);this.disposables.add$1(this.$i);this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.element,'keydown',ss.mkdel(this,this.$d)))},$a:function(){this.$h().dispose()},$d:function(e){switch(e.which){case 27:{this.$a();break}case 108:case 13:{this.$9();break}}},onAddedToDom:function(){this.$f();tab.CommandController.get().add_undoCommand(ss.mkdel(this,this.dispose));this.$g().$1.focus();tab.DomUtil.selectAllInputText(this.$g().$1);spiff.Widget.prototype.onAddedToDom.call(this)},$f:function(){if(ss.isNullOrUndefined(this.$j)){this.$j=new spiff.Glass;this.$j.set_zIndex(988);this.$j.add_click(ss.mkdel(this,this.$b))}this.$j.show()},$e:function(){if(ss.isValue(this.$j)){this.$j.remove_click(ss.mkdel(this,this.$b));this.$j.dispose();this.$j=null}},dispose:function(){this.element.remove();this.$e();tab.CommandController.get().remove_undoCommand(ss.mkdel(this,this.dispose));ss.makeGenericType(spiff.BaseView$1,[fJ]).prototype.dispose.call(this)}},ss.makeGenericType(spiff.BaseView$1,[fJ]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[fJ])]);ss.initClass(fJ,a,{get_constantValue:function(){return this.$2.ybD},get_refLineId:function(){return this.$2.hGF}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(fK,a,{});ss.initClass(fL,a,{});ss.initEnum(fM,a,{year:'year',quarter:'quarter',month:'month',week:'week',day:'day',hour:'hour',minute:'minute',second:'second'},true);ss.initEnum(fN,a,{curr:'curr',todate:'todate',last:'last',next:'next',lastn:'lastn',nextn:'nextn',other:'other',othern:'othern',invalid:'invalid'},true);ss.initClass(fO,a,{get_filterType:function(){return this.$2.get_filterType()},get_legacyRelativeDateQuickFilterModel:function(){return this.$2},get_defaultFormat:function(){return this.$2.get_defaultFormat()},get_fiscalYearStart:function(){return this.$2.get_fiscalYearStart()},get_noTime:function(){return this.$2.get_noTime()},get_isRelativeDatePick:function(){return this.$2.get_isRelativeDatePick()},get_text:function(){return this.$2.get_text()},get_relativeDateTable:function(){return this.$2.get_relativeDateTable()},get_periodType:function(){return this.get_relativeDateTable().periodType},get_rangeType:function(){return this.get_relativeDateTable().rangeType},get_rangeN:function(){return this.get_relativeDateTable().rangeN},get_anchor:function(){return(ss.isValue(this.get_relativeDateTable().anchor)?this.get_relativeDateTable().anchor:null)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,dD]);ss.initClass(fP,a,{get_filterViewModel:function(){return this.filterViewModel},postCreate:function(){if(this.filterViewModel.get_filterType()!=='RelativeDatePick'){}this.disposables=new tab.DisposableHolder;this.getSID=ss.mkdel(this,function(){return this.stateId});this.timestamp=(new Date).getMilliseconds();this.initFromState();$(this.menuButton.domNode).css('background-color',this.backgroundColor)},shouldHideDomainButton:function(){return true},shouldHideContextMenu:function(){if(tsConfig.current_sheet_type==='dashboard'&&tsConfig.is_authoring){return true}var e=tab.CommandsPresModelWrapper.create(this.getContextMenuCommands());return this.hideEmptyTitlebar()||ss.isNullOrUndefined(e)||e.get_commandItems().length===0},dispose:function(){this.disposables.dispose();this.showContextMenu=null},destroy:function(e){this.dispose();this.domPicker.innerHTML='';this.inherited(arguments)},initFromState:function(){this.currentRange=this.oFilter.table;this.currentAbbrev=this.toAbbrev(this.currentRange);this.domPicker.innerHTML='';var e=tableau.format.formatColumnDisplayName(this.oFilter,false,false);this.domTitleBar.setAttribute('title',e);this.updateTitleBar();_.each(fP.pickerStrings,ss.mkdel(this,function(hT,hU){var hV=document.createElement('div');hV.innerHTML=tableau.format.escapeHTML(hT);hV.classList.add('PickLabel');hV.classList.add('tab-ctrl-formatted-border-hover');this.domPicker.appendChild(hV);var hW=$(hV);var hX=ss.mkdel(this,function(hY){this.onClick(hU,hY)});this.disposables.add$1(spiff.EventUtil.bindWithDispose(hW,'click',hX));if(ss.referenceEquals(this.currentAbbrev,fP.pickerDurations[hU])){this.$0(hV);this.$2=hV}}));this.layout(null);var L=function(hT,hU){var hV=$(hT.domNode);if(hU){hV.removeClass('RDFButtonR1');hV.addClass('RDFButtonHide')}else{hV.removeClass('RDFButtonHide');hV.addClass('RDFButtonR1')}};L(this.menuButton,this.shouldHideContextMenu())},$0:function(e){var L=$(e);L.addClass('Selected');L.addClass('tab-ctrl-formatted-widget');L.removeClass('tab-ctrl-formatted-border-hover');L.addClass('tab-ctrl-formatted-darker-border-hover')},$1:function(e){var L=$(e);L.removeClass('Selected');L.removeClass('tab-ctrl-formatted-widget');L.addClass('tab-ctrl-formatted-border-hover');L.removeClass('tab-ctrl-formatted-darker-border-hover')},formatTuple:function(e){return tableau.format.formatTupleDisplayName(e,true,this.oFilter.role)},toAbbrev:function(e){var L=e.rangeN.toString();var hT='';switch(e.rangeType){case'curr':{hT='0';break}case'lastn':{hT='-'+L;break}case'nextn':{hT=L;break}default:{return''}}switch(e.periodType){case'year':{hT+='y';break}case'quarter':{hT+='q';break}case'month':{hT+='m';break}case'week':{hT+='w';break}case'day':{hT+='d';break}case'hour':{hT+='h';break}default:{return''}}return hT},onClick:function(e,L){var hT=fP.pickerDurationsInteger[e];if(!ss.referenceEquals(L.target,this.$2)){if(ss.isValue(this.$2)){this.$1(this.$2)}this.$0(L.target);tab.FilterClientCommands.doRelativeDateQuickFilter(this.session.get_visualId(),this.field,'day','lastn',hT)}},hideEmptyTitlebar:function(){return ss.isNullOrEmptyString(this.titleHTML)},doMenu:function(){this.showContextMenu(this.menuButton.domNode)},setTitleSize:function(e,L){this.$3=e;this.$4=L},adjustLabelPickWidth:function(e){var L=Math.floor((e-1)/fP.pickerDurations.length);_.each(this.domPicker.childNodes,function(hT){$(hT).css('width',L-3+'px')})},layout:function(e){var L;$(this.domNode).removeClass('RDPFHorizontal');this.updateTitleBar();var hT=dojo.marginBox(this.domPicker);if(!ss.isValue(hT)||!ss.isValue(hT.w)||hT.w===0){return}var hU=dojo.marginBox(this.domTitleBar);this.resetTitleSize();if(this.$3>0){hU.h=this.$3;dojo.marginBox(this.domTitleBar,ss.mkdict(['h',hU.h]))}if(this.$4>0){hU.w=this.$4;dojo.marginBox(this.domTitleBar,ss.mkdict(['w',hU.w]))}tableau.util.setupTitleEllipsis($(this.domTitleBar));var hV=dojo.contentBox(this.domNode);L=hV.w;if(!this.hideEmptyTitlebar()&&this.$4>0){$(this.domNode).addClass('RDPFHorizontal');$(this.domTitleBar).css('float','left');$(this.domPicker).css('float','left');L=hV.w-hU.w}else{$(this.domTitleBar).css('float','none');$(this.domPicker).css('float','none')}dojo.contentBox(this.domPicker,ss.mkdict(['w',L]));this.adjustLabelPickWidth(L)}},eq,[ss.IDisposable]);ss.initClass(fQ,a,{add_fontsReady:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_fontsReady:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_fontDownloading:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_fontDownloading:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},reset:function(){this.$2()},addFonts:function(e){for(var L=0;L<e.length;L++){var hT=e[L];if(!ss.keyExists(this.$b,hT.woffLocation)){var hU=this.$1(hT);this.$b[hT.woffLocation]=new j(hU)}var hV=this.$b[hT.woffLocation];if(!_.contains(hV.$2,hT)&&!_.contains(hV.$1,hT)){this.$b[hT.woffLocation].$2.push(hT)}}},downloadFonts:function(){this.updateMeasurementDivs()},finishDownloadingFonts:function(){this.updateMeasurementDivs();this.$7()},updateMeasurementDivs:function(){if(ss.isNullOrUndefined(this.$8)){this.$8=fQ.$0('tab-baselineFontMeasurer',["'Courier New', Monaco, monospace"]);this.$8.appendTo(document.body)}if(ss.isNullOrUndefined(this.$a)){this.$a=$('<canvas/>').css(fQ.$2).appendTo(document.body)[0];this.$9=this.$a.getContext('2d')}var e=_.values(this.$b);for(var L=0;L<e.length;L++){var hT=e[L];if(ss.isValue(hT.$3)&&!ss.referenceEquals(hT.$3[0].parentElement,document.body)){hT.$3.appendTo(document.body)}}},updateFontState:function(){var e=_.values(this.$b);for(var L=0;L<e.length;L++){var hT=e[L];if(ss.isNullOrUndefined(hT.$3)){continue}this.$9.font='100% '+hT.$0;var hU=tab.DoubleUtil.roundToInt(this.$9.measureText('The quick brown fox jumps over the lazy dog iiilllest').width);if(!fQ.$1(hT.$3,this.$8)&&hU===tab.DoubleUtil.roundToInt(hT.$3.width())){hT.$3=null}else{this.$4()}}},isDownloadingDone:function(){var e=_.values(this.$b);for(var L=0;L<e.length;L++){var hT=e[L];if(ss.isValue(hT.$3)){return false}}return true},$1:function(e){var L="'"+e.woffLocation.substr(e.woffLocation.lastIndexOf('/')+1)+"'";var hT=new cD;hT.set_fontFamily(L);hT.woffLocation=e.woffLocation;var hU=hT;tab.StyleUtil.appendCSSRuleToStyleSheet$1('tab-renderAndCheckFontLoader','@font-face',hU.toCSSRules());var hV=fQ.$0('tab-hiddenFontMeasurer',[hU.get_fontFamily(),"'Courier New', Monaco, monospace"]);return hV},$7:function(){this.$2();var e=this.$3();if(e){return}this.$c=window.setInterval(ss.mkdel(this,function(){this.$3()}),100)},$3:function(){this.$d++;this.updateFontState();var e=this.isDownloadingDone();if(e||this.$d>1200){this.$2();this.$6();if(e){this.$0()}return true}return false},$2:function(){window.clearInterval(this.$c);this.$c=0;this.$d=0},$6:function(){if(ss.isValue(this.$8)){this.$8.remove();this.$8=null}if(ss.isValue(this.$a)){this.$9=null;this.$a.parentNode.removeChild(this.$a);this.$a=null}$('body > .tab-hiddenFontMeasurer').remove()},$4:function(){if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}},$5:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}},$0:function(){var e=_.values(this.$b);for(var L=0;L<e.length;L++){var hT=e[L];while(hT.$2.length>0){var hU=hT.$2.pop();hT.$1.push(hU);tab.StyleUtil.appendCSSRuleToStyleSheet$1('tab-renderAndCheckFontLoader','@font-face',hU.toCSSRules())}}this.$5()}},null,[dG]);ss.initClass(fR,a,{});ss.initClass(fS,a,{});ss.initClass(fT,a,{});ss.initClass(fU,a,{$r:function(){return ss.isValue(this.selections)&&this.selections.get_hasPaneTableObjectSelection()},$q:function(){return this.$z||ss.isValue(this.brushings)&&this.brushings.get_hasPaneTableObjectSelection()||ss.isValue(this.$y)&&!this.$y.isEmpty||this.$t},get_imageDictionary:function(){return this.$w},get_hiddenTuples:function(){return this.$x},set_hiddenTuples:function(e){this.$x=e||{}},get_isSingleUserPane:function(){return this.scene.HUq.length===1&&ss.isNullOrUndefined(this.sceneUserPaneInfo)},$o:function(){return this.$u},$p:function(e){this.$u=e||{}},$l:function(e,L,hT,hU,hV,hW,hX){ss.clearKeys(this.$B);ss.clearKeys(this.$v);ss.clearKeys(this.$A);ss.clearKeys(this.$D);ss.clearKeys(this.$C);this.sceneUserPaneInfo=null;this.scene=e;if(tab.FeatureFlags.isEnabled('PageCardImprovements')){this.$n=e.f_c;this.$s=e.eDc}this.set_hiddenTuples(hW);this.$p(hX);if(ss.isValue(e)&&(ss.isValue(e.ObZ)||ss.isValue(e.pd))){var hY=null;if(ss.isValue(e.pd)){hY=tab.RuntimeUtil.constructRuntimeData(e.pd,e.SBs,e.SVa);e.ObZ=hY.getPDMarksPresModels()}this.customShapes=fU.extractCustomShapes(e);this.$g(e);if(ss.isValue(e.HUq)){if(ss.isValue(e.$Ww)){this.sceneUserPaneInfo=new fV.$0(e.$Ww)}for(var hZ=0;hZ<e.HUq.length;hZ++){var ia=e.HUq[hZ];for(var ib=0;ib<ia.MdI.length;ib++){var ic=ia.MdI[ib];if(ss.isValue(ic.SgS)){var id=ic.SgS;var ie=id.fDN;var ig=this.scene.ObZ[ie];var ih=fU.getPaneMarksKey(id);var ii=eW.create(ie,this,ia,id,ig,hV,ih,hY);this.$D[ih]=ii}}}}}if(ss.isValue(L)){this.selections=L;this.$y=hT}if(ss.isValue(hU)){this.brushings=hU}this.colorModel=dR.extractInteractionColors(this.scene)},getMarkBoundingBox:function(e){if(ss.keyExists(this.$B,e)){return this.$B[e]}else{return fU.$1}},$7:function(e,L){if(ss.keyExists(this.$C,e)&&L>=0&&L<this.$C[e].length){return this.$C[e][L]}return null},computeTupleStates:function(e){var L=this.$r();var hT=this.selections;var hU=(ss.isValue(hT)?hT.tupleSelection:null);var hV=new Set;if(ss.isValue(hU)){tab.SetUtilities.addAll(ss.Int32).call(null,hV,hU.get_ids())}var hW=this.$q();var hX=this.brushings;var hY=(ss.isValue(hX)?hX.tupleSelection:null);var hZ=new Set;if(ss.isValue(hY)){tab.SetUtilities.addAll(ss.Int32).call(null,hZ,hY.get_ids())}var ia=new Set;if(ss.isValue(this.$y)){tab.SetUtilities.addAll(ss.Int32).call(null,ia,this.$y.get_ids())}var ib=e.length;var ic=new Array(ib);for(var id=0;id<ib;id++){var ie=e.v[(e.c?0:id)];var ig='markStateNormal';if(ss.keyExists(this.$x,ie)){ig='markStateInvisible'}else if(L&&hV.has(ie)){ig='markStateSelected'}else if(hW&&(hZ.has(ie)||ia.has(ie))){ig='markStateHighlighted'}ic[id]=ig}return ic},prepareForDraw:function(e){this.$4(e);this.$h()},cleanupFromDraw:function(){this.$3()},$6:function(e){if(ss.keyExists(this.$A,e)){return this.$A[e]}else{return fU.$1}},$9:function(e){var L=[];for(var hT=0;hT<e.length;hT++){var hU=e[hT];var hV=this.$8(hU);for(var hW=0;hW<hV.length;hW++){var hX=hV[hW];L.push(hX)}}return L},$8:function(e){var L=false;var hT=[];for(var hU=0;hU<this.scene.HUq.length;hU++){var hV=this.scene.HUq[hU];if(hV.YVl.length>0){L=true;break}}var hW=this.getPaneDrawInfoFromTupleId(e);if(ss.isNullOrUndefined(hW)){return hT}var hX=hW.markType;if(L){hT.push(hW.paneRect)}else if(hX==='area'||hX==='line'){hT.push(hW.paneRect)}else{var hY=this.$5(e);var hZ=hW.getWorldOffsetBounds(hY);for(var ia=0;ia<hZ.length;ia++){var ib=hZ[ia];hT.push(ib)}var ic=this.$6(e);if(!tab.RectXYUtil.isNull(ic)){var id=hW.getWorldOffsetBounds(ic);for(var ie=0;ie<id.length;ie++){var ig=id[ie];hT.push(ig)}}}return hT},$m:function(e,L){if(ss.isValue(e)&&ss.isValue(e.t$x)){var hT=new ss.ObjectEnumerator(e.t$x);try{while(hT.moveNext()){var hU=hT.current();var hV=hU.key;if(!ss.keyExists(this.$w,hV)){var hW=hU.value;var hX={$:document.createElement('img')};hX.$.src='data:image/jpeg;base64,'+hW;this.$w[hV]=hX.$;var hY={$:null};hY.$=ss.mkdel({imgElt:hX,imageFinishedLoad:hY},function(){if(ss.isValue(L)){L()}this.imgElt.$.removeEventListener('load',this.imageFinishedLoad.$,false)});hX.$.addEventListener('load',hY.$,false)}}}finally{hT.dispose()}var hZ=ss.getEnumerator(Object.keys(this.$w));try{while(hZ.moveNext()){var ia=hZ.current();if(!ss.keyExists(e.t$x,ia)){delete this.$w[ia]}}}finally{hZ.dispose()}}},$e:function(e){return this.$r()&&this.selections.tupleSelection.isObjectSelected(e)},$b:function(e){return this.$q()&&(ss.isValue(this.brushings)&&this.brushings.tupleSelection.isObjectSelected(e)||this.$d(e))},$d:function(e){return ss.isValue(this.$y)&&this.$y.isObjectSelected(e)},$f:function(e){return!ss.keyExists(this.$x,e.toString())},$c:function(e){return ss.keyExists(this.$u,e.toString())},$k:function(e){if(ss.isValue(e)&&ss.isValue(e.HUq)){for(var L=0;L<e.HUq.length;L++){var hT=e.HUq[L];for(var hU=0;hU<hT.MdI.length;hU++){var hV=hT.MdI[hU];if(ss.isValue(hV.SgS)){var hW=hV.SgS;var hX=fU.getPaneMarksKey(hW);if(ss.isValue(ss.keyExists(this.$D,hX))){var hY=this.$D[hX];var hZ=hW.fDN;var ia=e.ObZ[hZ];hY.addLabelInfo(ia,hW)}}}}}},$a:function(e){var L=null;if(ss.isValue(e)){L=this.$D[fU.getPaneMarksKey(e)]}return L},getPaneDrawInfoFromKey:function(e){return this.$D[e]},getPaneDrawInfoFromTupleId:function(e){var L=_.keys(this.$D);for(var hT=0;hT<L.length;hT++){var hU=L[hT];var hV=this.$D[hU];if(hV.containsTuple(e)){return hV}}return null},$j:function(e){this.$z=e},$i:function(e){this.$t=e},$2:function(e,L){fU.$0(e,L,this.$B)},$1:function(e,L){fU.$0(e,L,this.$A)},$0:function(e,L,hT){tab.RectXYUtil.offsetRectXYInPlace(L,e.paneRect.x,e.paneRect.y);for(var hU=0;hU<hT.length;hU++){var hV=hT[hU];this.$v[hV]=L}},$g:function(e){if(!ss.isValue(e)||!ss.isValue(e.ObZ)){return}var L=Object.keys(e.ObZ);for(var hT=0;hT<L.length;hT++){var hU=L[hT];var hV=e.ObZ[hU];var hW=hV.qOh;if(!ss.isValue(hW)){continue}var hX=hV.LTd['pane_flags'];var hY=tab.SceneDataUtil.isPaneFlagSet(hX,'enable-scale-x')&&tab.SceneDataUtil.isPaneFlagSet(hX,'enable-scale-y');var hZ=null;var ia=null;var ib=false;if(hY){for(var ic=0;ic<e.HUq.length;ic++){var id=e.HUq[ic];for(var ie=0;ie<id.MdI.length;ie++){var ig=id.MdI[ie];var ih=ig.SgS;if(ss.isValue(ih)&&ss.referenceEquals(ih.fDN,hU)){hZ=tab.RecordCast.doubleRectPresModelAsDoubleRectXY(ih.NQL);ia={x:0,y:0,w:ih.wyR.rec,h:ih.wyR.EUR};ib=true;break}}if(ib){break}}}var ii=hW.length;var ij=new Array(ii);for(var ik=0;ik<ii;ik++){var il=hW[ik];var im=null;ij[ik]=null;if(tab.MiscUtil.isNullOrEmpty$1(il)){continue}im=JSON.parse(il);if(dk.isGeometryPresModelFeatureEmpty(im)){continue}im=tab.RleDecoder.decode(im);if(im.TDA==='multipolygon'){dk.checkFor180DegLngLine(im.Zmn)}if(hY&&ib){dk.domainToPixelGeometry(im,hZ,ia,true)}ij[ik]=im}this.$C[hU]=ij}},$5:function(e){var L=this.$v[e];if(ss.isNullOrUndefined(L)){L=this.getMarkBoundingBox(e)}return L},$4:function(e){var L=_.keys(this.$D);for(var hT=0;hT<L.length;hT++){var hU=L[hT];var hV=this.$D[hU];hV.computeDirtyMarks(e)}},$3:function(){var e=_.keys(this.$D);for(var L=0;L<e.length;L++){var hT=e[L];var hU=this.$D[hT];hU.clearDirtyMarks()}},$h:function(){var e=_.keys(this.$D);for(var L=0;L<e.length;L++){var hT=e[L];var hU=this.$D[hT];hU.refreshMarkState()}}});ss.initClass(fV,a,{});fV.$1.prototype=fV.$0.prototype=fV.prototype;ss.initClass(fW,a,{});ss.initClass(fX,a,{get_newPos:function(){return this.$0}},ss.EventArgs);ss.initClass(fY,a,{get_applyDelay:function(){return this.applyDelay},get_isPendingMode:function(){return false},get_filterTable:function(){return(!!this.get_oResults()?this.get_oResults():null)},get_quickFilter:function(){return this.get_qf()},shouldDeferChanges:function(){return false},postCreate:function(){this.inherited(arguments);if(this._isTypeInList){this.showUI(true)}this._isFilterSearchable=true;if(!!this.get_qf()&&this._isTypeInList){this._isFilterSearchable=this.get_qf().get_oFilter().is_searchable}if(this._isFilterSearchable){this.domSearchAddButton.title=this.ADD_ITEM_CTRL_ENTER}else{this.domSearchAddButton.title=this.ADD_ITEM_ENTER}this.setQueryIconsVisibility(true);cB.disableTextSelection(this.domResults)},destroy:function(){if(ss.isValue(this.domResults)){$([this.domResults]).remove()}this.inherited(arguments)},onQueryBoxPaste:function(e){this._queryBoxPasteTimeout=tab.MiscUtil.clearTimeout(this._queryBoxPasteTimeout);this._queryBoxPasteTimeout=window.setTimeout(ss.mkdel(this,this._handleQueryBoxPaste),10)},_handleQueryBoxPaste:function(){var e;var L;L=this.getQuery();L=L.replace('/\r\n/g','\n');e=L.split('\n');if(e.length>1){this.addManualSearchItems(e)}},getOnQueryBoxKeyDownBehavior:function(e){var L;L=this.inherited(arguments);switch(e.keyCode){case 27:{if(tab.BrowserSupport.get_isFF()){L.functionToCall=ss.mkdel(this,this.onXButtonClick)}break}case 13:{if(this._isTypeInList){L.stopEvent=true;L.functionToCall=this._getEnterKeyDownBehaviorOnTypeInList(e)}break}}return L},_getEnterKeyDownBehaviorOnTypeInList:function(e){if(e.ctrlKey){return ss.mkdel(this,this.onSearchAddButtonClick)}if(this._isFilterSearchable){return ss.mkdel(this,this.onSearchButtonClick)}return ss.mkdel(this,this.onSearchAddButtonClick)},handleQueryTextChanged:function(e){this.inherited(arguments);if(this._isTypeInList){this.clearSearch(true,false)}if(!this._isTypeInList){this.$7()}},onSearchAddButtonClick:function(e){this.addManualSearchItems(null)},onSearchButtonClick:function(e){this.doSearch()},onSearchBusyImgClick:function(e){this.$2()},focusQueryBox:function(){this.domQueryBox.focus()},blurQueryBox:function(){this.domQueryBox.blur()},getQuery:function(){return this.domQueryBox.value},setQuery:function(e){this.domQueryBox.value=e},showUI:function(e){if(this.get_isVisible()){return}if(this.get_qf().get_dijitDeclaredClass()==='tableau.base.widget.LegacyCategoricalQuickFilter'&&this.get_qf().get_oFilter().table.tuples.length===0&&!this._isTypeInList){return}this.inherited(arguments)},clearSearch:function(e,L){this.domResults.style.display='none';this.domResults.innerHTML='';this.clearRangeAnchorAndSelection();this.$2();this.inherited(arguments)},setQueryIconsVisibility:function(e){var L=this._isTypeInList;var hT=((!!e&&e)?false:tableau.util.isElementVisible(this.domResults));var hU=!ss.isNullOrEmptyString(this.getQuery())&&L&&!hT;var hV=hU;var hW=hU&&this._isFilterSearchable;this.domSearchBusyImg.style.display=((hW&&this._bSearching)?'block':'none');this.domSearchButton.style.display=((hW&&!this._bSearching)?'block':'none');this.domSearchAddButton.style.display=(hV?'block':'none');var hX=((L&&!hT)?'none':'block');this.get_domXButton().style.display=hX;this.fixQueryWidth()},fetchChildNodeByIndex:function(e){var L=this.domResults.childNodes;for(var hT=0,hU=L.length;hT<hU;hT++){if(cY.filterItem.getIndex(L[hT])===e){return L[hT]}}return null},layout:function(e){this.setQueryIconsVisibility();var L=this.$3();if(this._isTypeInList||this.get_qf().get_mode()==='checkdropdown'){this.$4(L)}else if(L!==0){this.$6(ss.Int32.div(ss.unbox(e),L),L)}},fixQueryWidth:function(){var e=tableau.util.isElementVisible(this.get_domXButton());var L=tableau.util.isElementVisible(this.domSearchAddButton);var hT=tableau.util.isElementVisible(this.domSearchButton);var hU=tableau.util.isElementVisible(this.domSearchBusyImg);var hV=0;if(e){hV+=dojo.marginBox(this.get_domXButton()).w}if(L){hV+=dojo.marginBox(this.domSearchAddButton).w}if(hT){hV+=dojo.marginBox(this.domSearchButton).w}if(hU){hV+=dojo.marginBox(this.domSearchBusyImg).w}dojo.marginBox(this.domQueryBox,ss.mkdict(['w',dojo.contentBox(this.domQuerySection).w-hV-1]))},$4:function(e){var L=$(hL.dashboardContainerSelector).get(0);if(!this._initializedSearchResults){this._initializedSearchResults=true;L.appendChild(this.domResults);$(this.domResults).css(ss.mkdict(['position','absolute','zIndex','987']));this._domResultsPBExtents=dojo._getPadBorderExtents(this.domResults)}var hT=dojo.coords(this.domQuerySection);var hU=$(this.domQuerySection).offset();var hV=$(L).offset();var hW=tab.DoubleUtil.roundToInt(hU.top)-tab.DoubleUtil.roundToInt(hV.top);var hX=hW+hT.h;var hY=dojo.coords(L);var hZ=hY.t+hY.h;var ia=e+this._domResultsPBExtents.h;var ib=this.domResults.childNodes.length*e+this._domResultsPBExtents.h;var ic=hZ-hX;var id=hW-hY.t;var ie=true;var ig=Math.min(ib,ic);if(ig<ia&&id>ic){ig=Math.min(ib,id);ie=false}ig=Math.max(ig,ia);dojo.marginBox(this.domResults,ss.mkdict(['w',hT.w,'h',ig]));var ih=(ie?hX:(hW-ig));var ii=tab.DoubleUtil.roundToInt(hU.left)-tab.DoubleUtil.roundToInt(hV.left);$(this.domResults).css(ss.mkdict(['top',ih.toString()+'px','left',ii.toString()+'px','borderTopWidth',(ie?'0':'1px'),'borderBottomWidth',(ie?'1px':'0')]))},$6:function(e,L){var hT=Math.max(this.domResults.childNodes.length,1);var hU=Math.min(hT,Math.floor(e/2));this.domResults.style.height=(hU*L).toString()+'px'},$3:function(){if(ss.isNullOrUndefined(this.domResults.firstChild)){return 0}var e=$(this.domResults.firstChild);if(ss.isValue(e[0].offsetHeight)){return e[0].offsetHeight}return 15},$7:function(){this._searchTimer=tab.MiscUtil.clearTimeout(this._searchTimer);this._searchTimer=window.setTimeout(ss.mkdel(this,this.doSearch),this.searchDelay)},showSearchSpinner:function(e){this._bSearching=e;this.setQueryIconsVisibility()},addManualSearchItems:function(e){if(this.get_qf().get_dijitDeclaredClass()!=='tableau.base.widget.LegacyCategoricalQuickFilter'){return}if(tab.MiscUtil.isNullOrUndefined(e)){e=this.getQuery().split('\n')}if(tab.MiscUtil.isNullOrEmpty(e)){return}var L=[];for(var hT=0,hU=e.length;hT<hU;hT++){var hV=e[hT];if(!tab.MiscUtil.isNullOrEmpty$1(hV)){L.push({d:hV,s:true,t:[{t:'s',v:hV}]})}}var hW=new Object;hW.schema=this.get_qf().get_oFilter().table.schema;hW.tuples=L;this.notifyParentFilterOfChanged(hW,true,false);this.clearSearch(false,false)},doSearch:function(){this.searchWithQuery(this.getQuery())},updateSearch:function(){if(this.get_isVisible()&&this.resultCount>0){this.searchWithQuery(this.getQuery())}},searchWithQuery:function(e){if(e.length<=0){this.clearSearch(false,false)}else if(this.get_qf().get_dijitDeclaredClass().indexOf('LegacyCategoricalQuickFilter')>-1&&!this._isTypeInList){if(this.get_qf().get_oFilter().isTiled){this.doRemoteSearch(e,true)}else{this.handleSearchResults(this.doCategoricalSearch(e))}}else{this.doRemoteSearch(e,false)}},doRemoteSearch:function(e,L){this.showSearchSpinner(this._isTypeInList);this._lastRemoteSearch=this.doAjaxRemoteSearch(e,this.$9,L,ss.mkdel(this,this.handleSearchResults),ss.mkdel(this,this.handleSearchResultsError))},$2:function(){if(!!this._lastRemoteSearch){this._lastRemoteSearch.abort();this._lastRemoteSearch=null}this.showSearchSpinner(false)},$1:function(e,L,hT){var hU=tableau.format.escapeHTML;if(!ss.isNullOrUndefined(hT)&&L<hT){var hV=hT-L;e.push('<div class="searchResultsRemaining">');if(hV===1){e.push(hU(tab.Strings.SearchResultsNotShownSingular))}else{var hW=tableau.format.formatIntAuto(hV,'t',',','3;0');e.push(hU(tab.Strings.SearchResultsNotShownPlural(hW)))}e.push('</div>')}},$5:function(e){if(e.length<=0){return[]}this.set_oResults(e);var L=this.get_oResults().tuples;var hT=this.get_oResults().indices;var hU=[];var hV=this.makeUniqueSearchItemIdPrefix();for(var hW=0,hX=L.length;hW<hX;hW++){var hY=(!!hT?hT[hW]:hW);var hZ=cY.filterItem.getSearchResultHtml(this.get_qf(),L[hW],hV,hY);hU.push(hZ)}this.$1(hU,L.length,e.actual_size);return hU},handleSearchResults:function(e){var L=tableau.format.escapeHTML;var hT=tab.Strings.QuickFilterSearchNoMatches;this.showSearchSpinner(false);if(!!e&&e.dojoType==='cancel'){return}this.domResults.innerHTML='';if(this.get_qf().get_dijitDeclaredClass()==='tableau.base.widget.LegacyHierarchicalQuickFilter'||this._isTypeInList||this.get_qf().get_oFilter().isTiled){if(!!e.schema[0].collation&&e.schema[0].collation.f===0){hT='<div>'+L(hT)+'<br/>'+L(tab.Strings.QuickFilterSearchDataIsCaseSensitive)+'</div>'}e=this.$5(e)}this.resultCount=e.length;this.domResults.innerHTML=((this.resultCount>0)?e.join(''):hT);this.domResults.style.display=((this.domResults.innerHTML.length>0)?'block':'none');this.setQueryIconsVisibility();this.get_qf().layout(null);this.$8.refreshRangeAnchorAndSelection()},handleSearchResultsError:function(e){this.showSearchSpinner(false);this.domResults.innerHTML='';this.resultCount=0},applyChanges:function(){var e=null;if(this.get_qf().get_dijitDeclaredClass()==='tableau.base.widget.LegacyCategoricalQuickFilter'&&!this._isTypeInList){e=this.applyChangesCat()}else{e=this.applyChangesHierOrTypeIn()}this.notifyParentFilterOfChanged(e,false,false)},applyChangesByChangelist:function(e){if(this.get_qf().get_dijitDeclaredClass()==='tableau.base.widget.LegacyCategoricalQuickFilter'&&!this._isTypeInList){this.get_qf().applyChangesByChangelist(e)}else{this.applyChanges()}},notifyParentFilterOfChanged:function(e,L,hT){if(e.tuples.length===0){return}this.get_qf().updateStateFromSearch(e);if(hT){return}var hU=this.get_qf();hU.set_stateId(hU.get_stateId()+1);if(L){this.get_qf().get_session().addManualFilterItems(e,this.get_qf())}else{var hV=this._isTypeInList&&this.get_qf().get_oFilter().all;var hW=hV||this.get_qf().isSingleSelect();if(hW){if(this.get_qf().get_dijitDeclaredClass()==='tableau.base.widget.LegacyHierarchicalQuickFilter'){this._doModifyHierarchialFilter(hW,e)}else{this.doSetCategoricalFilter(hV,e)}}else if(this.get_qf().get_dijitDeclaredClass()==='tableau.base.widget.LegacyHierarchicalQuickFilter'){this._doModifyHierarchialFilter(false,e)}else{this.doModifyCategoricalFilter(e)}}},doSetCategoricalFilter:function(e,L){var hT;var hU=[];var hV=L.tuples.length;if(e){for(var hW=0;hW<hV;hW++){hT=L.tuples[hW].d||L.tuples[hW].t[0].v;if(L.tuples[hW].s){hU.push(hT)}}}else{hT=L.tuples[0].d||L.tuples[0].t[0].v;hU.push(hT)}tab.FilterClientCommands.setCategoricalFilterValues(this.get_qf().get_session().get_visualId(),this.get_qf().get_field(),'filter-replace',hU,null)},doModifyCategoricalFilter:function(e){var L=[];var hT=[];var hU=e.tuples.length;for(var hV=0;hV<hU;hV++){var hW=e.tuples[hV].d||e.tuples[hV].t[0].v;if(e.tuples[hV].s){L.push(hW)}else{hT.push(hW)}}tab.FilterClientCommands.modifyCategoricalFilterValues(this.get_qf().get_session().get_visualId(),this.get_qf().get_field(),L,hT,true)},_doModifyHierarchialFilter:function(e,L){var hT=[];var hU=[];var hV=(e?'filter-replace':'filter-delta');var hW=L.tuples.length;var hX=L.tuples;for(var hY=0;hY<hW;hY++){var hZ=hX[hY].t.length;var ia='';for(var ib=0;ib<hZ;++ib){var ic=hX[hY].t[ib];if(!!ic.v){ia=ic.v}}if(hX[hY].s){hT.push(ia)}else{hU.push(ia)}}tab.FilterClientCommands.doMemberHierarchialFilter(this.get_qf().get_session().get_visualId(),this.get_qf().get_field(),hT,hU,hV)},applyChangesCat:function(){var e=new Object;e.schema=this.get_qf().get_oFilter().table.schema;e.tuples=[];var L=this.domResults.firstChild;var hT=this.domResults.childNodes.length;var hU;var hV=this.get_qf().get_oFilter().table.tuples;if(this.get_qf().isSingleSelect()){for(var hW=0;hW<hT;hW++,L=L.nextSibling){if(cY.filterItem.isChecked(L)){hU=cY.filterItem.getIndex(L);this.recordCheckedChanges(e,L,hV[hU]);for(var hX=0;hX<hV.length;++hX){if(hX!==hU){hV[hX].s=false}}break}}}else{var hY=[];for(var hZ=0;hZ<hT;hZ++,L=L.nextSibling){hU=cY.filterItem.getIndex(L);this.recordCheckedChanges(e,L,hV[hU]);hY[hU]=1}L=this.get_qf().get_domContent().firstChild;if(cY.filterItem.isAllItem(L)){L=L.nextSibling}var ia=hV.length;for(var ib=0;ib<ia;ib++,L=L.nextSibling){if(hY[ib]===0){this.recordCheckedChanges(e,L,hV[ib])}}}return e},applyChangesHierOrTypeIn:function(){var e=new Object;e.schema=this.get_oResults().schema;e.tuples=[];var L=this.domResults.firstChild;var hT=this.get_oResults().tuples;for(var hU=0,hV=hT.length;hU<hV;hU++,L=L.nextSibling){this.recordCheckedChanges(e,L,hT[hU])}return e},onManualAddSuccess:function(e){var L=tableau.format.escapeHTML;var hT=e.invalidTuples;var hU=hT.length;if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.invalidTuples)||ss.isNullOrUndefined(e.totalTuples)){return false}if(hU>0){var hV=[];if(hU===1){hV.push(L(tab.Strings.QuickFilterSearchInvalidDataMemberSingular(hT[0].t[0].v)));hV.push('<br/>')}else{hV.push(L(tab.Strings.QuickFilterSearchInvalidDataMembersPlural));hV.push('<br/>');for(var hW=0;hW<hU;hW++){hV.push('&nbsp;&nbsp;&nbsp;&nbsp;&bull;&nbsp;');hV.push(hT[hW].t[0].v);hV.push('<br/>')}}U.get_commonDialogProvider().showAlertDialog(hV.join(''),tab.Strings.QuickFilterSearchInvalidDataMembersDialogTitle,true);var hX=[];for(var hY=0;hY<hU;hY++){var hZ=hT[hY].t[0].v;hX.push({d:hZ,s:false,t:hT[hY].t})}var ia=new Object;ia.schema=this.get_qf().get_oFilter().table.schema;ia.tuples=hX;this.notifyParentFilterOfChanged(ia,true,true)}return e.totalTuples>hU},updateStateIfNeeded:function(){},handleClickIfPending:function(e){},clearRangeAnchorAndSelection:function(){this.$8.clearRangeAnchorAndSelection()},forEachSelected:function(e){this.$8.forEachSelected(e)},onListItemClick:function(e){this.$8.onListItemClick(e)},handleItemClick:function(e){},recordCheckedChanges:function(e,L,hT){if(cY.filterItem.isChecked(L)&&!hT.s){e.tuples.push(cY.filterItem.setChecked(L,true,hT))}else if(!cY.filterItem.isChecked(L)&&hT.s){e.tuples.push(cY.filterItem.setChecked(L,false,hT))}}},fZ,[dy]);ss.initClass(ga,a,{add_fontPreparationComplete:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_fontPreparationComplete:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},initialize:function(){this.$3.reset();this.$5=false;this.$2=bI.get_instance().hold(1)},registerServerLoadedFonts:function(e){for(var L=0;L<e.length;L++){var hT=e[L];var hU=hT.get_hash();if(!ss.keyExists(this.$4,hU)){this.$4[hU]=hT}}},notifyDownloadableFont:function(e){if(this.$5){return}var L=[];for(var hT=0;hT<e.length;hT++){var hU=e[hT];var hV=hU.get_hash();if(ss.keyExists(this.$4,hV)){L.push(this.$4[hV])}}if(ss.isValue(L)&&L.length>0){this.$3.addFonts(L)}},downloadFonts:function(){var e=tabBootstrap.MetricsController.createContext('DownloadFonts',128,null);try{this.$3.downloadFonts()}finally{if(ss.isValue(e)){e.dispose()}}},allFontsFound:function(){this.$5=true;this.$3.finishDownloadingFonts()},$0:function(){dc.logFontsLoaded();this.$1();if(ss.isValue(this.$2)){this.$2.dispose()}},$1:function(){tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,function(){tab.WindowHelper.setTimeout(ss.mkdel(this,function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}),200)}))}});ss.initClass(gb,a,{hitTest:function(e,L){var hT=new tab.HitTestSceneCmd;hT.c['WAe']=tab.PointUtil.toPresModel(e);hT.c['J_M']=this.region.get_visualId();hT.invoke$1().done(ss.mkdel(this,function(hU){var hV=hU.$c['LB$'];if(ss.isValue(hV)&&hV.length>0){var hW=new tab.SceneElementModel(hV[0]);var hX=hW.get_paneId();var hY=this.makePaneSpecId(hX.get_columnIndex(),hX.get_rowIndex());var hZ=new du(hW);this.set_current(new hD(this.region,hY,hX.get_columnIndex(),hX.get_rowIndex(),e,L,hZ))}else{this.set_current(null)}}))}},hE,[ss.IDisposable]);ss.initClass(gc,a,{dispose:function(){this.$2=null;tab.ApplicationModel.get_instance().get_shapeManager().remove_shapeLoaded(ss.mkdel(this,this.onShapeLoaded))},initialize:function(e){this.$3.clear();for(var L=0;L<e.length;L++){var hT=e[L];this.$0(hT)}this.$1()},$0:function(e){if(tab.SceneDataUtil.isCustomShape(e)&&!tab.ApplicationModel.get_instance().get_shapeManager().hasShape(e)){this.$3.add(e)}},onShapeLoaded:function(e){if(!this.$3.has(e)){return}this.$3.delete(e);this.$1()},$1:function(){if(this.$3.size===0&&ss.isValue(this.$2)){this.$2()}}},null,[ss.IDisposable]);ss.initClass(gf,a,{});ss.initClass(gg,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(gh,a,{get_dom:function(){return this.get_template()},$9:function(){var e=$("\n            <div class='tab-shareLinkSection'>\n                <span class='tab-shareLinkTitle tab-shareTitle'/>\n                <span class='tab-shareLinkInput'/>\n                <div class='tab-shareLinkButtons'/>\n            </div>");var L=$("\n            <div class='tab-shareEmbedSection'>\n                <span class='tab-shareEmbedTitle tab-shareTitle'/>\n                <span class='tab-shareEmbedInput'/>\n            </div>");if(this.$h.get_allowSharingDifferentViews()){this.get_dom().shareArea.append($("\n            <div class='tab-shareViewStateSection'>\n                <span class='tab-shareCurrentView tab-shareViewToggle'/><span class='tab-shareOriginalView tab-shareViewToggle'/>\n            </div>"));this.get_dom().shareStateArea=this.get_dom().getElementBySelector('.tab-shareViewStateSection');this.get_dom().shareCurrentView=this.get_dom().getElementBySelector('.tab-shareCurrentView');this.get_dom().shareOriginalView=this.get_dom().getElementBySelector('.tab-shareOriginalView')}this.get_dom().shareArea.append(L);this.get_dom().shareArea.append(e);this.get_dom().shareLinkSection=this.get_dom().getElementBySelector('.tab-shareLinkSection');this.get_dom().shareLinkTitle=this.get_dom().getElementBySelector('.tab-shareLinkTitle');this.get_dom().shareLinkButtons=this.get_dom().getElementBySelector('.tab-shareLinkButtons');this.get_dom().shareLinkInput=this.$a().get_inputElement();this.get_dom().getElementBySelector('.tab-shareLinkInput').replaceWith(this.get_dom().shareLinkInput);this.get_dom().shareEmbedTitle=this.get_dom().getElementBySelector('.tab-shareEmbedTitle');this.get_dom().shareEmbedInput=this.$a().get_inputElement();this.get_dom().getElementBySelector('.tab-shareEmbedInput').replaceWith(this.get_dom().shareEmbedInput);if(!tsConfig.is_mobile){this.get_dom().shareLinkInput.click(ss.mkdel(this,function(hX){this.get_dom().shareLinkInput.focus();this.get_dom().shareLinkInput.select()}));this.get_dom().shareEmbedInput.click(ss.mkdel(this,function(hX){this.get_dom().shareEmbedInput.focus();this.get_dom().shareEmbedInput.select()}))}this.get_dom().shareLinkButtons.empty();if(this.$h.get_shouldShowSocialShareOptions()){var hT=new spiff.IconButton;hT.addClass('tab-shareIconButton');hT.addClass('tab-shareSocialMail');hT.setIcon('tab-shareMailIcon');hT.onClick(ss.mkdel(this,function(hX){this.$h.doSendEmailAction()}));this.get_dom().shareLinkButtons.append(hT.element);var hU=$("<div class='tab-shareIconButton tab-shareSocialTwitter'/>");hU.click(ss.mkdel(this,function(hX){this.$h.doTwitterShareAction()}));this.get_dom().shareLinkButtons.append(hU);var hV=$("<div class='tab-shareIconButton tab-shareSocialFacebook'/>");hV.click(ss.mkdel(this,function(hX){this.$h.doFacebookShareAction()}));this.get_dom().shareLinkButtons.append(hV)}else{var hW=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this.$h,this.$h.doSendEmailAction),tab.Strings.ShareDialogEmailLink,null,0,null);this.get_dom().shareLinkButtons.append(hW.element)}},$d:function(){this.get_dom().shareLinkTitle.html(this.$h.get_linkLabel());this.get_dom().shareEmbedTitle.html(this.$h.get_embedLabel());this.$b();this.$e()},$b:function(){if(!this.$h.get_allowSharingDifferentViews()){return}var e;var L;if(this.$g){var hT=$("<input type='radio' name='state' checked>"+this.$h.get_currentViewLabel()+'</input>');this.get_dom().shareCurrentView.append(hT);this.get_dom().shareCurrentView.addClass('narrow');var hU=$("<input type='radio' name='state'>"+this.$h.get_originalViewLabel()+'</input>');this.get_dom().shareOriginalView.append(hU);this.get_dom().shareOriginalView.addClass('narrow');this.get_dom().shareStateArea.height(tab.DoubleUtil.roundToInt(this.get_dom().shareStateArea.height())+15);e=new spiff.ToggleButton(hT);L=new spiff.ToggleButton(hU);this.get_dom().shareStateArea.addClass('narrow')}else{this.get_dom().shareCurrentView.html(this.$h.get_currentViewLabel());this.get_dom().shareOriginalView.html(this.$h.get_originalViewLabel());e=new spiff.ToggleButton(this.get_dom().shareCurrentView);L=new spiff.ToggleButton(this.get_dom().shareOriginalView)}var hV=new spiff.SelectableGroup;hV.addItem(e);hV.addItem(L);hV.selectItem(e);this.$h.set_shouldShareOriginalView(false);L.add_propertyChanged(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){L.remove_propertyChanged(ss.mkdel(this,this.$c))})));this.disposables.add$1(hV)},$c:function(e,L){if(L.get_propertyName()==='selected'){this.$h.set_shouldShareOriginalView(e.get_selected());this.$e()}},$e:function(){var e=this.$h.generateShareBaseUrl();if(ss.isNullOrEmptyString(e)){this.get_dom().shareLinkSection.hide()}else{var L=this.$h.generateShareUrl();this.get_dom().shareLinkInput.val(L);this.get_dom().shareLinkSection.show()}this.$h.generateEmbedCode().always(ss.mkdel(this,function(hT){this.get_dom().shareEmbedInput.val(hT)}))},onAddedToDom:function(){this.$d();spiff.Widget.prototype.onAddedToDom.call(this)},$a:function(){var e=spiff.TextInputView.newTextInputView('','',null,!tsConfig.is_mobile);e.get_inputElement().addClass('tab-shareInput');return e}},ss.makeGenericType(spiff.BaseView$1,[gi]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[gi])]);ss.initClass(gi,a,{get_viewType:function(){return gh},get_viewModel:function(){return this},get_allowSharingDifferentViews:function(){if(!gS.$0()||!tsConfig.statefulURL){return false}if(this.$9()){return true}return tab.ApplicationModel.get_instance().get_workbook().get_isCurrentDashboardModified()},get_shouldShareOriginalView:function(){return this.$a},set_shouldShareOriginalView:function(e){this.$a=e},get_shouldShowSocialShareOptions:function(){return gS.$0()},get_linkLabel:function(){return tab.Strings.ToolbarSendTitle},get_embedLabel:function(){return tab.Strings.ToolbarEmbedTitle},get_currentViewLabel:function(){return tab.Strings.ToolbarCurrentView},get_originalViewLabel:function(){return tab.Strings.ToolbarOriginalView},$9:function(){return!tab.MiscUtil.isNullOrEmpty$1(tsConfig.guid)},disposeViewModel:function(){this.dispose()},saveSharedView:function(){if(!this.get_allowSharingDifferentViews()){return}tab.XhrUtil.guid=null;if(tsConfig.statefulURL){var e=this.$6();if(e==='null'||ss.isNullOrUndefined(e)){e=''}tab.CommandController.get().get_legacySession().saveSharedView('',e,function(){})}},generateShareUrl:function(){var e=this.generateShareBaseUrl();e=gi.$3(e,tsConfig.toolbarvis,tsConfig.toolbarvisDefault,'toolbar');e=gi.$3(e,tabBootstrap.ViewerBootstrap.get_instance().get_shouldShowTabs(),tsConfig.showTabsDefault,'tabs');e=gi.$3(e,gS.$0()&&tsConfig.showViewCount,tsConfig.showViewCountDefault,'display_count');e=gi.$3(e,false,false,'size');e=gi.$3(e,tab.MiscUtil.sanatizeBoolean(tsConfig.showVizHome),true,'showVizHome');return e},generateShareBaseUrl:function(){var e=tsConfig.requestURI;if(!this.get_shouldShareOriginalView()&&this.get_allowSharingDifferentViews()){var L=tab.XhrUtil.guid;var hT=(tsConfig.single_frame?window.location:window.parent.location);var hU=hT.protocol+'//'+hT.hostname+gi.currentViewPath;if(!tab.MiscUtil.isNullOrEmpty$1(L)){e=hU+L}else if(!tab.MiscUtil.isNullOrEmpty$1(tsConfig.guid)){e=hU+tsConfig.guid}}return e},generateApiBasedEmbedCode:function(){var e=tab.VizUriModel.createForCurrentWindowLocation();var L=tableau.util.parseUri(e.get_absoluteUri());var hT=gi.$6(L);var hU=this.$3(this.$7());var hV=tableau.format.escapeHTML(gi.$4());var hW;var hX=tab.ModelUtils.findContentDashboard();if(hX.get_isDashboard()&&hX.get_deviceLayouts().length>0){hW=gi.$0()}else{var hY=tab.DashboardCommands.getCurrentSheetSizeConstraints().pipe(function(hZ){return gi.$1(hZ,0.75)},function(hZ){return''});hW=hY}return hW.pipe(ss.mkdel(this,function(hZ){return this.$2(hT,hU,hV,hZ)}),function(hZ){return''})},$3:function(e){var L='';if(!tab.MiscUtil.isNullOrEmpty$1(e)){var hT=tableau.format.escapeHTML;var hU=ss.coalesce(this.$6(),'#');L="<noscript><a href='"+hT(hU)+"'>"+"<img alt='"+hT(tsConfig.embeddedTitle)+" ' src='"+hT(e)+"' style='border: none' /></a></noscript>"}return L},$2:function(e,L,hT,hU){var hV="\n                <script type='text/javascript'>\n                    var divElement = document.getElementById('{0}');\n                    var vizElement = divElement.getElementsByTagName('object')[0];\n                    {1}\n                    var scriptElement = document.createElement('script');\n                    scriptElement.src = '{2}';\n                    vizElement.parentNode.insertBefore(scriptElement, vizElement);\n                </script>";var hW=ss.formatString(hV,hT,hU,e);var hX=(tsConfig.single_frame?window.location:window.parent.location);var hY=this.$8(hX,this.$7(),'');var hZ=ss.formatString("<div class='tableauPlaceholder' id='{0}' style='position: relative'>{1}{2}</div>",hT,L,hY);return hZ+hW},generateEmbedCode:function(){if(tab.FeatureFlags.isEnabled('APIBasedEmbedCode')){return this.generateApiBasedEmbedCode()}var e=$.Deferred();var L=(tsConfig.single_frame?window.location:window.parent.location);var hT=tableau.format.escapeHTML;var hU=this.$6();var hV=tsConfig.embeddedTitle;var hW=this.$7();var hX=this.$4();var hY=gi.$8(L);var hZ="width='"+hX.w+"' height='"+hX.h+"'";var ia=this.$8(L,hW,hZ);var ib=ss.coalesce(hU,'#');var ic='';if(!tab.MiscUtil.isNullOrEmpty$1(hW)){ic="<noscript><a href='"+hT(ib)+"'>"+"<img alt='"+hT(hV)+" ' src='"+hT(hW)+"' style='border: none' /></a></noscript>"}var id=ss.formatString("<div class='tableauPlaceholder' style='width: {0}px; height: {1}px;'>{2}{3}</div>",hX.w,hX.h,ic,ia);var ie=hY+id;return e.resolve(ie).promise()},$8:function(e,L,hT){var hU=tabBootstrap.ViewerBootstrap.get_instance().location.search;var hV=tsConfig.repositoryUrl;var hW=tsConfig.site_root;var hX=tableau.format.escapeHTML;var hY="<object class='tableauViz' "+hT+" style='display:none;'>";var hZ=ss.arrayClone(gi.$e);hZ.push('embed');hZ.push('show_tabs');hZ.push('loadOrderID');hY+="<param name='host_url' value='"+hX(encodeURIComponent(e.protocol+'//'+e.host+'/'))+"' /> ";hZ.push('host_url');if(!this.get_allowSharingDifferentViews()){hY+="<param name='site_root' value='"+hX(hW)+"' />";hY+="<param name='name' value='"+hX(hV)+"' />";hZ.push('site_root');hZ.push('name');hY+="<param name='tabs' value='"+(tabBootstrap.ViewerBootstrap.get_instance().get_shouldShowTabs()?'yes':'no')+"' />";hZ.push('tabs')}else{var ia=this.generateShareBaseUrl();hY+="<param name='path' value='"+hX(ss.replaceAllString(ia,e.protocol+'//'+e.host+'/',''))+"' /> ";hZ.push('path')}hY+="<param name='toolbar' value='"+(tsConfig.toolbarvis?'yes':'no')+"' />";hZ.push('toolbar');if(gS.$0()){if(!tab.MiscUtil.isNullOrEmpty$1(L)){var ib=ss.replaceAllString(L,'_rss.png','.png');hY+="<param name='static_image' value='"+hX(ib)+"' /> "}hY+="<param name='animate_transition' value='yes' />";hY+="<param name='display_static_image' value='yes' />";hY+="<param name='display_spinner' value='yes' />";hY+="<param name='display_overlay' value='yes' />";hY+="<param name='display_count' value='yes' />";hZ.push('animate_transition');hZ.push('display_static_image');hZ.push('display_spinner');hZ.push('display_overlay');hZ.push('display_count')}if(hU.length>0){var ic=hU.substr(1).split('&');for(var id=0;id<ic.length;id++){var ie=ic[id].match(new RegExp('^(:|%3A)([^=]+)=(.+)'));var ig;var ih;if(ss.isValue(ie)&&ie.length===4){ig=ie[2];ih=ie[3]}else{ig='filter';ih=ic[id]}if(!tab.MiscUtil.isNullOrEmpty$1(ig)&&!ss.contains(hZ,ig)){hY+="<param name='"+hX(ig)+"' value='"+hX(ih)+"' />"}}}hY+='</object>';return hY},updateUberPopupViewModel:function(e){},doSendEmailAction:function(){gr.mailTo(this.generateShareUrl(),tsConfig.shareDescription)},doFacebookShareAction:function(){gr.facebookPopup(tsConfig.facebookAppID,this.generateShareUrl(),this.$5(),tsConfig.shareDescription,tsConfig.facebookDescription,gi.$7())},doTwitterShareAction:function(){gr.twitterPopup(this.generateShareUrl(),tsConfig.shareDescription)},$7:function(){var e=tab.XhrUtil.guid;var L=tsConfig.staticImage;if(!ss.isValue(L)){return''}if(!this.get_shouldShareOriginalView()&&this.get_allowSharingDifferentViews()&&ss.isValue(e)){var hT=L.indexOf('/images/')+8;var hU=L.substr(0,hT);L=hU+e.substr(0,2)+'/'+e+'/1_rss.png'}return L},$6:function(){if(!ss.isNullOrEmptyString(tsConfig.primaryContentUrl)){return tsConfig.primaryContentUrl}if(ss.referenceEquals(window.self,window.top)){return null}var e=tableau.util.parseUri(document.referrer);if(!ss.isValue(e)||ss.isValue(e['hostname'])&&ss.referenceEquals(e['hostname'],window.location.hostname)){return null}return document.referrer},$4:function(){var e=tab.ApplicationModel.get_instance().get_workbook().get_outerDashboardSize().w;var L=tab.ApplicationModel.get_instance().get_workbook().get_outerDashboardSize().h;e+=4;L+=gi.$5();return{w:e,h:L}},$5:function(){var e=tab.XhrUtil.guid;if(!this.get_shouldShareOriginalView()&&this.get_allowSharingDifferentViews()&&ss.isValue(e)){var L=this.$7();var hT=L.split(String.fromCharCode(47));hT[hT.length-1]='thumb.png';var hU=hT.join('/');hU+='?vizqlid='+tab.CommandController.get().get_legacySession().get_id();return hU}return tsConfig.baseViewThumbLink}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,spiff.IUberPopupContent]);ss.initClass(gj,a,{},ss.EventArgs);ss.initClass(gk,a,{createListElement:function(e,L,hT,hU){var hV=$(e);if(this.shouldUseAllItem()&&L.length>0){bC.addAllItem(hV,this.parent,hT,hU,false,ss.mkdel(cY.filterItem,cY.filterItem.formatDropdownListFilterItemHtml))}{if(ss.isValue(this.tiledWidget)){this.tiledWidget.destroy()}this.tiledWidget=gH.createSimpleList(this.parent,L,e,hT,this.get_lineHeight())}{var hW=spiff.EventUtil.bindWithDispose(hV,'click',ss.mkdel(this,this.$e));this.disposables.add$1(hW);var hX=spiff.EventUtil.bindWithDispose(hV,'touchend',ss.mkdel(this,this.$e));this.disposables.add$1(hX);var hY=spiff.EventUtil.bindWithDispose(hV,'keydown',ss.mkdel(this,this.$d));this.disposables.add$1(hY)}hV.parent().toggleClass('CFDropdownNoItems',L.length===0);if(L.length===0){hV.text(tab.Strings.QuickFilterNoItems)}},$e:function(e){var L=cY.filterItem.getNodeFromEvent(e);if(!!!L){return}var hT=cY.filterItem.getIndex(L);if(hT===-1&&!this.parent.get_oFilter().all){this.parent.doSelectAll(true);this.hideMenu();return}if(hT!==this.currentlySelected){if(hT>=this.parent.get_oFilter().table.actual_size||hT<0){this.hideMenu();return}this.parent.set_stateId(this.parent.get_stateId()+1);var hU=[];hU.push(hT);tab.FilterClientCommands.setCategoricalFilterValuesByIndex(this.parent.get_session().get_visualId(),this.parent.get_field(),'filter-replace',hU)}this.hideMenu()},$d:function(e){switch(e.which){case 40:case 38:{this.$f(cY.filterItem.getNodeFromEvent(e),e.which===38);e.preventDefault();break}case 9:{e.preventDefault();break}case 13:{this.$e(e);break}}},$f:function(e,L){var hT=this.menuNode.find('.FIItem');for(var hU=0,hV=hT.length;hU<hV;hU++){if(ss.referenceEquals(hT.eq(hU).get(0).getAttribute('id'),e.getAttribute('id'))){if(!L&&hU!==hV-1){hT.eq(hU+1).focus()}else if(L&&hU!==0){hT.eq(hU-1).focus()}else if(L&&hU===0){this.menuNode.parent().find('.QueryBox').eq(0).get(0).focus()}return}}}},bh,[ss.IDisposable]);ss.initClass(gm,a,{get_displayListRenderer:function(){return this.renderer},get_visualListVM:function(){return this.get_viewModel()},get_backgroundFillColor:function(){return this.$o.get_visualModel().get_backgroundColor()},performRender:function(){var e=tabBootstrap.MetricsController.createContext('RNDRRG'.toString(),32,null);try{this.get_displayListRenderer().clear();this.get_displayListRenderer().renderVisualList(this.get_visualListVM(),this.$o.get_scene().get_imageDictionary())}finally{if(ss.isValue(e)){e.dispose()}}},postRenderFinalPass:function(){this.get_displayListRenderer().$a(this.get_visualListVM())},onViewModelPropertyChanged:function(e,L){if(L.get_propertyName()==='HoverNode'){var hT={x:-this.get_scrollPos().x,y:-this.get_scrollPos().y};this.invalidateRect(this.get_visualListVM().dirtyRect(hT),true)}else{ss.makeGenericType(hB,[hy]).prototype.onViewModelPropertyChanged.call(this,e,L)}}},ss.makeGenericType(hB,[hy]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[hy]),spiff.IScrollable,dS]);ss.initClass(gn,a,{get_oneLineLayout:function(){return this.$u},$9:function(e){return this.$h[e[0]]!=='false'&&this.$h[e[1]]!=='true'},calculateStyleid:function(){this.styleid=0;if(!this.$9(this.$e)){this.styleid+=4}if(!this.$9(this.$f)){this.styleid+=2}if(!this.$9(this.$d)){this.styleid+=1}if(this.styleid>5){this.styleid=3}},dispose:function(){this.$j.dispose()},destroy:function(){dojo.unsubscribe(this.$z);dojo.unsubscribe(this.$A);this.$4();this.dispose();if(ss.isValue(this.$D)){this.$D.domNode.parentNode.removeChild(this.$D.domNode);this.$D=null}if(ss.isValue(this.slider)&&typeof(this.slider['destroy'])==='function'){this.slider.destroy()}if(ss.isValue(this.$y)&&typeof(this.$y['destroy'])==='function'){this.$y.destroy()}},instantiateFromDomain:function(e,L){var hT=[];var hU=e.length;for(var hV=0;hV<hU;hV++){hT[hV]={d:e[hV],s:ss.referenceEquals(L,e[hV]),t:[]}}this.instantiateFromTuples(hT,null)},instantiateFromTuples:function(e,L){var hT=-1;var hU=tab.Strings.QuickFilterUnknown;var hV=null;if(e.length>0){var hW=e.length;for(var hX=0;hX<hW;hX++){if(e[hX].s===true&&!this.$p){if(hT>-1){hU=tab.Strings.QuickFilterMultipleValues}else{hT=hX;hU=this.$n(hX)}}}}if(hT<0){hT=0;if(ss.isValue(L)){hU=L}}if(this.$x){hV=this.$m(hT)}this.instantiate$1(e.length,hT,hU,hV)},instantiate:function(e,L,hT){this.instantiate$1(e,L,hT,null)},instantiate$1:function(e,L,hT,hU){var hV=null;this.currentlySelected=L;this.calculateStyleid();if(this.$9(this.$e)){this.readout=document.createElement('div');this.readout.classList.add('sliderTextReadout');this.readout.classList.add('tab-ctrl-formatted-widget');this.readout.classList.add('tab-ctrl-formatted-fixedsize');this.$B=document.createElement('div');this.$B.classList.add('sliderText');this.$B.innerHTML=tableau.format.escapeHTML(hT);if(this.$x){this.$l=document.createElement('div');this.$l.className='facet';this.$l.innerHTML=tableau.format.escapeHTML(hU);this.readout.appendChild(this.$l)}this.readout.appendChild(this.$B);this.div.appendChild(this.readout)}if(this.styleid===3){return}var hW=document.createElement('div');if(this.$9(this.$f)){hV=document.createElement('div');hW.appendChild(hV)}this.div.appendChild(hW);if(!ss.isValue(e)||ss.unbox(e)<1){e=1}this.$q=!isFinite(ss.unbox(e));if(this.$9(this.$f)&&ss.Nullable$1.lt(e,1200)&&this.$9(this.$g)){var hX=ss.mkdict(['count',e]);this.$y=new dijit.form.HorizontalRule(hX,hV)}var hY={};hY.templateString="<div class='dijit dijitReset'><div class='dijitReset tableauSlider' dojoAttachPoint='tableauSlider'><table class='dijit dijitReset' cellspacing='0' cellpadding='0' border='0' rules='none'><tr class='dijitReset'><td class='dijitReset'></td><td dojoAttachPoint='containerNode,topDecoration' class='dijitReset' style='text-align:center;width:100%;'></td><td class='dijitReset'></td></tr><tr class='dijitReset'><td class='dijitReset'><div class='dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper dijitSliderLeftBumper' dojoAttachEvent='onclick:_onClkDecBumper'></div></td><td class='dijitReset'><input dojoAttachPoint='valueNode' type='hidden' name='${name}'><div class='dijitReset dijitSliderBarContainerH' waiRole='presentation' dojoAttachPoint='sliderBarContainer'><div waiRole='presentation' dojoAttachPoint='progressBar' class='dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH' dojoAttachEvent='onclick:_onBarClick'><div class='dijitSliderMoveable dijitSliderMoveableH'><div dojoAttachPoint='sliderHandle,focusNode' class='dijitSliderImageHandle dijitSliderImageHandleH' dojoAttachEvent='onmousedown:_onHandleClick' waiRole='slider' valuemin='${minimum}' valuemax='${maximum}'></div></div></div><div waiRole='presentation' dojoAttachPoint='remainingBar' class='dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH' dojoAttachEvent='onclick:_onBarClick'></div></div></td><td class='dijitReset'><div class='dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper dijitSliderRightBumper' dojoAttachEvent='onclick:_onClkIncBumper'></div></td></tr><tr class='dijitReset'><td class='dijitReset'></td><td dojoAttachPoint='containerNode,bottomDecoration' class='dijitReset'></td><td class='dijitReset'></td></tr></table></div><div class='dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH tableauArrowDec' style='display:none' dojoAttachPoint='decrementButton'><div class='dijitSliderDecrementIconH' tabIndex='-1'><span class='dijitSliderButtonInner'>-</span></div></div><div class='dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH tableauArrowInc' style='display:none' dojoAttachPoint='incrementButton'><div class='dijitSliderIncrementIconH' tabIndex='-1'><span class='dijitSliderButtonInner'>+</span></div></div></div>";hY.onChange=ss.mkdel(this,this.$0);hY.value=this.currentlySelected;hY.slideDuration=0;hY.intermediateChanges=true;hY.showButtons=this.$9(this.$d);hY.pageIncrement=1;if(isFinite(ss.unbox(e))){hY.minimum=0;hY.maximum=ss.unbox(e)-1;hY.discreteValues=ss.unbox(e)}this.slider=new dijit.form.HorizontalSlider(hY,hW);this.$z=dojo.subscribe('/dnd/move/start',ss.mkdel(this,this.startDrag));this.$A=dojo.subscribe('/dnd/move/stop',ss.mkdel(this,this.stopDrag));this.slider.startup();if(ss.isValue(this.$y)){this.$y.startup()}this.$w=false;if(!this.$9(this.$e)){this.$E=document.createElement('div');this.slider.sliderHandle.appendChild(this.$E);var hZ=dijit._MasterTooltip.prototype;hZ['templateString']="<div class='dijitTooltip dijitTooltipLeft' id='dojoTooltip'><div class='dijitTooltipContainer' dojoAttachpoint='coreArea'><div class='dijitTooltipContents' dojoAttachPoint='containerNode' waiRole='alert'></div></div><div class='dijitTooltipConnector'></div></div>";this.$D=new dijit._MasterTooltip;this.$D.dojoOrient=this.$D.orient;this.$D.orient=ss.mkdel(this,function(ib,ic,id,ie){this.$D.dojoOrient(ib,ic,id,ie);$(this.$D.domNode).addClass('sliderThumbTooltip')});var ia=$(this.slider.sliderHandle);this.$j.add$1(spiff.EventUtil.bindWithDispose(ia,'mouseenter',ss.mkdel(this,this.$6)));this.$j.add$1(spiff.EventUtil.bindWithDispose(ia,'mouseleave',ss.mkdel(this,this.$5)))}this.$s=this.slider.decrementButton.childNodes[0];this.$v=this.slider.incrementButton.childNodes[0];this.$b();this.$3()},$b:function(){this.$7(this.$s,'Left',this.currentlySelected===0);this.$7(this.$v,'Right',this.currentlySelected===this.slider.maximum)},$7:function(e,L,hT){var hU=$(e);hU.removeClass('cp'+L+'Arrow'+(hT?'Black':'Grey'));hU.addClass('cp'+L+'Arrow'+(hT?'Grey':'Black'))},setNewState:function(e){this.currentlySelected=e;this.slider._setValueAttr(this.currentlySelected)},startDrag:function(e){if(ss.isValue(e)&&ss.referenceEquals(e.node,this.slider.sliderHandle)){this.$r=true;if(this.$C>0){this.$4()}}},stopDrag:function(e){if(ss.isValue(e)&&ss.referenceEquals(e.node,this.slider.sliderHandle)){this.$r=false;if(this.$C>0){this.$4()}this.$8();this.$1()}},$6:function(e){if(!this.$9(this.$e)){this.$F=tab.MiscUtil.clearTimeout(this.$F);this.$w=true;this.$F=window.setTimeout(ss.mkdel(this,this.$1),50)}},$5:function(e){this.$F=tab.MiscUtil.clearTimeout(this.$F);if(ss.isValue(this.$D)){this.$D.hide(this.$E)}this.$w=false},$1:function(){if(!this.$9(this.$e)){this.$D.hide(this.$E);if(this.$w||this.$r){var e=this.$i;if(ss.isNullOrUndefined(e)){e=ss.Int32.trunc(this.currentlySelected)}var L=e;var hT=this.$n(L);this.$D.show(hT,this.$E,['above','below'])}}},$2:function(){var e;if(!ss.isValue(this.$i)||isNaN(ss.unbox(this.$i))){return 0}if(this.$q){e=ss.unbox(this.$i)}else{e=parseInt(ss.unbox(this.$i).toString(),10)}if(e<0){e=0}return e},$c:function(){if(ss.isNullOrUndefined(this.$i)||ss.isNullOrUndefined(this.currentlySelected)||this.$i===this.currentlySelected){return}var e=this.$2();if(ss.isValue(this.$k)){this.$k(e)}this.$i=e;this.currentlySelected=e;this.$b()},updateReadout:function(e){this.updateReadout$1(e,null)},updateReadout$1:function(e,L){if(this.styleid<4){this.$B.innerHTML=e;if(this.$x){this.$l.innerHTML=L}}},$0:function(e){if(isNaN(e)){return}var L=(this.$x?this.$m(e):null);this.updateReadout$1(this.$n(e),L);this.$i=e;if(ss.isValue(this.$t)){this.$t()}if(!this.$r){if(this.$C>0){this.$4()}this.$8()}else if(this.$C>0){this.$4()}this.$1()},$3:function(){if(!this.$9(this.$d)){this.div.classList.add('HideArrows')}if(!this.$9(this.$f)){this.div.classList.add('HideSlider')}if(this.styleid>3){$(this.div).css('height','15px')}},$8:function(){this.$C=window.setTimeout(ss.mkdel(this,this.$a),500)},$4:function(){if(this.$C>0){window.clearTimeout(this.$C);this.$C=-1}},$a:function(){this.$c()},layout:function(){var e=0;var L=34;this.$u=false;var hT=$(this.div);hT.css('overflow','hidden');var hU=dojo.marginBox(this.div).h;var hV=parseFloat(hT.css('width'))-5;hT.css('overflow','');if(hV<L){return}if(ss.isValue(this.readout)){$(this.readout).css('width','');$(this.readout).css('float','none')}if(ss.isValue(this.slider)){$(this.slider.tableauSlider).css('width','');$(this.slider.tableauSlider).css('float','none')}if(ss.isValue(this.$y)&&this.$y.count*4>hV){$(this.$y.domNode).css('display','none')}if(hU<38&&this.styleid<=1){var hW=((this.styleid===0)?(hV-L):hV);hW=Math.floor((hW-14)/2);$(this.readout).css('width',hW+'px');$(this.slider.tableauSlider).css('width',hW+'px');$(this.readout).css('float','left');$(this.slider.tableauSlider).css('float','left');this.$u=true}else if(this.styleid===0||this.styleid===4){$(this.slider.tableauSlider).css('width',hV-L+'px')}else if(this.styleid===1||this.styleid===5){$(this.slider.tableauSlider).css('width',hV+'px')}else if(this.styleid===2){$(this.readout).css('width',hV-L-4+'px')}if(this.$9(this.$d)){if(this.styleid===2||this.styleid===4){e=1}if(this.styleid===0){e=(this.$u?1:20)}e+=this.$o();$(this.slider.incrementButton).css('top',e+'px');$(this.slider.decrementButton).css('top',e+'px')}}},null,[dU,ss.IDisposable]);ss.initClass(go,a,{instantiate:function(e,L,hT){this.$3=e;var hU=cY.isAllOrAllChecked(this.parent);if(this.shouldUseAllItem()){this.$3=cY.addAllItemToTuples(this.$3,hU,hT)}else{hU=false}this.$4=new tableau.base.widget.ui.Slider(this.div,this.attributes,hU,ss.mkdel(this,this.updateViz),ss.mkdel(this.parent,this.parent.getTitleOffset),ss.mkdel(this,this.getCurrentText),ss.mkdel(this,this.onIntermediateChange),ss.mkdel(this,this.getCurrentFacet),this.parent.get_oFilter().showFacets);this.$4.instantiateFromTuples(this.$3,this.getSummaryText())},destroy:function(){this.$4.destroy()},layout:function(e,L){this.inherited(arguments);this.$4.layout()},showOrHide:function(e,L){e.style.display=(L?'':'none')},onSmallSearchUI:function(e,L){var hT=!e;var hU=this.$4;if(hU.styleid===2||hU.styleid===4){this.showOrHide(hU.slider.decrementButton,hT);this.showOrHide(hU.slider.incrementButton,hT)}if(hU.styleid===3){this.showOrHide(hU.div,hT);L.style.marginBottom='2px'}else if(hU.styleid<3){this.showOrHide(hU.readout,hT);if(hU.get_oneLineLayout()){this.showOrHide(hU.div,hT)}}else{this.showOrHide(hU.slider.tableauSlider,hT)}},getRealIndex:function(e){if(typeof(e)==='undefined'||isNaN(e)){return 0}var L=parseInt(e.toString(),10);if(L<0){L=0}return L},updateViz:function(e){var L=new Object;L.schema=this.parent.get_oFilter().table.schema;L.tuples=[];var hT=this.getRealIndex(e);var hU=new Array(0);if(this.shouldUseAllItem()&&hT===0){this.parent.doSelectAll(true);return}this.$3[hT].s=true;L.tuples.push(this.$3[hT]);this.parent.set_stateId(this.parent.get_stateId()+1);var hV=this.$3[hT].d||this.$3[hT].t[0].v;hU.push(hV);tab.FilterClientCommands.setCategoricalFilterValues(this.parent.get_session().get_visualId(),this.parent.get_field(),'filter-replace',hU,null)},onIntermediateChange:function(){if(this.parent.get_searchWidget().get_isVisible()){this.parent.get_searchWidget().toggleUI()}},getCurrentText:function(e){var L=this.getRealIndex(e);var hT=this.$3[L];return tableau.format.formatTupleDisplayName(hT,true,this.parent.get_oFilter().role)},getCurrentFacet:function(e){var L=this.getRealIndex(e);var hT=this.$3[L];return tableau.format.formatTupleDisplayFacet(hT,true,this.parent.get_oFilter().role)}},bj,[ss.IDisposable]);ss.initClass(gp,a,{get_applyDelay:function(){window.alert(tab.Strings.noLoc('Bad call of ApplyDelay on SmallSearchWidget'));return 0},startup:function(){this.inherited(arguments);var e=new Object;e.store=null;e.autoComplete=false;e.hasDownArrow=false;e.highlightMatch='none';e.searchDelay=this.searchDelay;e.onChange=ss.mkdel(this,this.applyChanges);e.onKeyDown=ss.mkdel(this,this.onQueryBoxKeyDown);this.autocompleter=new dijit.form.ComboBox(e,this.domAutocompleter);this.autocompleter.startup();this.autocompleter._getQueryString=function(hT){var hU=hT.length;if(hU<1){return''}if(hT.charCodeAt(0)===39&&hT.charCodeAt(hU-1)===39){return hT.substr(1,hU-2)}var hV=hT;if(hV.length>1&&hV.charCodeAt(0)===92&&hV.charCodeAt(1)===42){hV='*'+hV.substr(2)}if(hV.length>1&&hV.charCodeAt(hV.length-2)===92&&hV.charCodeAt(hV.length-1)===42){hV=hV.substr(0,hV.length-2)+'*'}if(hV.charCodeAt(0)!==42&&hV.charCodeAt(hV.length-1)!==42){hV='*'+hV+'*'}return hV};var L=this.NO_MATCHES;this.autocompleter.DOJO_openResultList=this.autocompleter._openResultList;this.autocompleter._openResultList=ss.mkdel(this,function(hT,hU){this.resultCount=hT.length;this.autocompleter.DOJO_openResultList(hT,hU);if(!!!hT.length){this.autocompleter.tooltipPosition=['above','below'];this.autocompleter.displayMessage(L)}else{dijit.hideTooltip(this.autocompleter.domNode)}if(tab.BrowserSupport.get_isIE()&&tab.BrowserSupport.get_browserVersion()>=11){this.focusQueryBox()}})},getOnQueryBoxKeyDownBehavior:function(e){var L;L=this.inherited(arguments);switch(e.keyCode){case 13:{if(tab.BrowserSupport.get_isIE()&&tab.BrowserSupport.get_browserVersion()>=9&&tab.BrowserSupport.get_browserVersion()<=10){this.applyChanges($(this.domNode).find('input').val())}L.functionToCall=null;L.stopEvent=false;break}case 40:{L.functionToCall=null;L.stopEvent=false;if(tab.BrowserSupport.get_isIE()&&tab.BrowserSupport.get_browserVersion()>=11){var hT=this.$1();hT.attr('tabindex','1').keydown(ss.mkdel(this,this.$2));hT.eq(0).get(0).focus();var hU=$(this.domNode.parentElement);hU.find('input').eq(0).val(hT.eq(0).html());L.stopEvent=true}if(!$(e.target).hasClass('dijitReset')){L.stopEvent=true}break}case 37:case 39:case 38:{L.functionToCall=null;L.stopEvent=false;break}default:{L.functionToCall=ss.mkdel(this,this.onSmallSearchKeyDown);L.stopEvent=false;break}}return L},onSmallSearchKeyDown:function(e){this.autocompleter._startSearchFromInput()},$2:function(e){switch(e.which){case 40:case 38:{this.$3(e.currentTarget,e.which===38);e.preventDefault();break}case 9:{e.preventDefault();break}case 13:{this.applyChanges($(this.domNode).find('input').val());break}}},$3:function(e,L){var hT=this.$1();for(var hU=0,hV=hT.length;hU<hV;hU++){if(ss.referenceEquals(hT.eq(hU).get(0).getAttribute('id'),e.getAttribute('id'))){var hW=null;if(!L&&hU!==hV-1){hW=hT.eq(hU+1)}else if(L&&hU!==0){hW=hT.eq(hU-1)}else if(L&&hU===0){var hX=$(this.domNode.parentElement);hX.find('input').eq(0).get(0).focus();return}if(ss.isValue(hW)){hW.focus();var hY=$(this.domNode.parentElement);hY.find('input').eq(0).val(hW.html())}return}}},$1:function(){return $('.dijitPopup .dijitMenu li.dijitReset')},getDataStore:function(){var e;var L=[];var hT;var hU=this.get_qf().get_oFilter().table.tuples;for(e=0,hT=hU.length;e<hT;e++){L.push(ss.mkdict(['name',this.formatTuple(hU[e])]))}return new dojo.data.ItemFileWriteStore(ss.mkdict(['data',ss.mkdict(['items',L])]))},destroy:function(e){this.domSearchBox.innerHTML='';this.autocompleter.destroy();this.autocompleter=null;this.inherited(arguments)},focusQueryBox:function(){this.autocompleter.focus()},blurQueryBox:function(){this.autocompleter._onBlur()},getQuery:function(){return this.autocompleter.attr('value')},setQuery:function(e){this.autocompleter.attr('value',e)},fixQueryWidth:function(){var e=dojo.marginBox(this.domNode).w;if(e>25){var L=ss.mkdict(['w',e-25]);dojo.marginBox(this.autocompleter.comboNode,L);dojo.marginBox(this.autocompleter.comboNode.firstChild,L);dojo.marginBox(this.autocompleter.textbox,L)}this.autocompleter.comboNode.style.cssFloat='left'},showUI:function(e){if(this.get_isVisible()){return}fZ.prototype.showUI.call(this,e);this.get_qf().get_modeContents().onSmallSearchUI(true,this.domNode)},hideUI:function(){if(!this.get_isVisible()){return}fZ.prototype.hideUI.call(this);this.get_qf().get_modeContents().onSmallSearchUI(false,this.domNode)},layout:function(e){this.fixQueryWidth()},updateSearch:function(){this.autocompleter.store=this.getDataStore();this.get_qf().get_modeContents().onSmallSearchUI(this.get_isVisible(),this.domNode)},applyChanges:function(e){if(!!!e){return}var L=[];var hT=this.get_qf().get_oFilter().table.tuples;for(var hU=0,hV=hT.length;hU<hV;hU++){if(ss.referenceEquals(e,this.formatTuple(hT[hU]))){L.push(hT[hU]);hT[hU].s=true}else if(hT[hU].s){delete hT[hU]['s']}}if(L.length!==0){this.get_qf().updateStateFromSearch(null);var hW=L[0].d||L[0].t[0].v;var hX=[hW];tab.FilterClientCommands.setCategoricalFilterValues(this.get_qf().get_session().get_visualId(),this.get_qf().get_field(),'filter-replace',hX,null);this.clearSearch(false,true);this.onXButtonClick(null)}}},fZ);ss.initClass(gq,a,{add_onMouseStop:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_onMouseStop:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},attach:function(){this.$9.add_showed(ss.mkdel(this,this.$3));this.$9.add_closed(ss.mkdel(this,this.$2));this.$9.add_disposed(ss.mkdel(this,this.$4))},detach:function(){this.$5.dispose();if(ss.isValue(this.$9)){this.$9.remove_showed(ss.mkdel(this,this.$3));this.$9.remove_closed(ss.mkdel(this,this.$2));this.$9.remove_disposed(ss.mkdel(this,this.$4))}},dispose:function(){this.detach()},disposeTooltip:function(){this.dispose()},shownTooltipIsSticky:function(){return false},isHoverAllowed:function(e){return true},shouldShowCommandButtons:function(){return false},handleUbertipMenuToggle:function(e){},handleUbertipMenuClose:function(){},hoverOverObject:function(e,L,hT,hU){if(hT){this.$9.close()}else if(ss.isValue(hU)&&hU&&this.$9.get_isShown()){this.$9.move(e)}else{this.showTooltip(e)}},hoverOverWhitespace:function(e){if(this.$9.get_isShown()){this.$9.close()}},multiSelectComplete:function(e){this.showTooltip(e)},singleSelectComplete:function(e){this.showTooltip(e)},selectionMoved:function(e){},repositionWithinRegion:function(e){},onPanningOrDragging:function(){if(this.$9.get_isShown()){this.$9.close()}},onScroll:function(){if(this.$9.get_isShown()){this.$9.close()}},mouseDown:function(e,L){},showTooltip:function(e){if(this.$9.get_isShown()&&tab.PointUtil.equals(this.$9.get_location(),e)){return}this.$9.show(this.$9.get_body().children()[0],e)},$3:function(){this.$0();this.$1({x:this.$9.get_calculatedShownArgs().origX,y:this.$9.get_calculatedShownArgs().origY});this.$8=new Date},$2:function(){this.$9.element.off('.SmoothTooltipBehavior');this.$8=null;this.$0()},onMouseMove:function(e){var L=this.$9.get_lastLocation()||{x:0,y:0};var hT={x:e.pageX,y:e.pageY};this.$9.set_lastLocation(hT);this.$9.move(hT);var hU=tab.PointUtil.distance(L,this.$9.get_lastLocation());if(hU>0){this.$7=tab.MiscUtil.clearTimeout(this.$7);this.$1(hT);if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(!ss.isValue(this.serverMarkBounds)||!tab.RectXYUtil.inRect(this.serverMarkBounds,{x:e.offsetX+e.target.offsetLeft,y:e.offsetY+e.target.offsetTop})){this.$9.close()}}}},$1:function(e){this.$7=tab.MiscUtil.clearTimeout(this.$7);this.$7=window.setTimeout(ss.mkdel(this,function(){if(ss.isValue(this.$1$1)){this.$1$1(e)}}),this.$6)},$4:function(e,L){this.dispose()},$0:function(){this.$7=tab.MiscUtil.clearTimeout(this.$7)}},null,[ea,ss.IDisposable]);ss.initClass(gr,a,{});ss.initClass(gs,a,{get_dom:function(){return this.get_template()},dispose:function(){this.$w.remove_schedulesChanged(ss.mkdel(this,this.handleSchedulesUpdated));this.$w.remove_subscribersChanged(ss.mkdel(this,this.$h));ss.makeGenericType(spiff.BaseView$1,[gt]).prototype.dispose.call(this)},handleSchedulesUpdated:function(){this.$b();this.$p()},$g:function(){var e=new spiff.ToggleButton(this.get_dom().subscribeThisView);var L=new spiff.ToggleButton(this.get_dom().subscribeAllViews);this.get_dom().subscribeThisView[0].tabIndex=0;this.get_dom().subscribeAllViews[0].tabIndex=0;this.get_dom().subscribeViewsToggleLabel.text(tab.Strings.SubscribeViewsToggleLabel);this.get_dom().subscribeThisView.text(tab.Strings.ToolbarSubscribeThisView);this.get_dom().subscribeAllViews.text(tab.Strings.ToolbarSubscribeAllView);var hT=new spiff.SelectableGroup;hT.addItem(e);hT.addItem(L);hT.selectItem(e);this.$w.set_shouldSubscribeAllViews(false);L.add_propertyChanged(ss.mkdel(this,this.$o));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){L.remove_propertyChanged(ss.mkdel(this,this.$o))})));this.disposables.add$1(hT)},$b:function(){this.get_dom().subscribeScheduleDropdown.empty();this.$r=this.get_viewModel().generateScheduleViewModel();this.$r.set_theme(3);this.$r.set_menuTheme(this.menuTheme);var e=spiff.ObjectRegistry.newView(spiff.ComboBoxView).call(null,[this.$r]);e.element[0].tabIndex=0;this.get_dom().subscribeScheduleDropdown.append($('<label>').text(tab.Strings.ToolbarSubscribeSchedule));this.get_dom().subscribeScheduleDropdown.append(e.element);this.disposables.add$1(this.$r)},$a:function(){this.get_viewModel().set_sendOnlyWhenDataPresentCheckboxSelected(false);this.$s=spiff.LabelToggleButton.newCheckbox(tab.Strings.ToolbarSubscribeDataPresentCheckbox,false);this.$s.addClass(gs.get_sendOnlyWhenDataPresentCheckboxClass());this.$s.add_click(ss.mkdel(this,this.$l));this.$s.element.insertAfter(this.get_dom().subscribeScheduleDropdown);this.get_viewModel().add_sendOnlyWhenDataPresentCheckboxStateChanged(ss.mkdel(this,this.$m));this.disposables.add$1(this.$s)},$l:function(){this.get_viewModel().set_sendOnlyWhenDataPresentCheckboxSelected(this.$s.get_selected())},$m:function(){this.$s.set_disabled(!this.get_viewModel().get_sendOnlyWhenDataPresentCheckboxEnabled());this.$s.set_selected(this.get_viewModel().get_sendOnlyWhenDataPresent())},$c:function(){if(!ss.isNullOrEmptyString(this.get_viewModel().get_email())){this.get_dom().subscribeEmail.hide()}else{if(ss.isValue(this.$q)){this.$q.remove_propertyChanged(ss.mkdel(this,this.$i));this.$q.remove_enterKeyPressed(ss.mkdel(this,this.$j))}this.$q=spiff.TextInputView.newTextInputView('',null,tab.Strings.ToolbarSubscribeEmailPlaceholder,false);this.$q.get_inputElement().attr('maxlength',gt.maxSubscriptionEmailLength.toString());this.$q.add_propertyChanged(ss.mkdel(this,this.$i));this.$q.add_enterKeyPressed(ss.mkdel(this,this.$j));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$q.remove_propertyChanged(ss.mkdel(this,this.$i))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$q.remove_enterKeyPressed(ss.mkdel(this,this.$j))})));this.get_dom().subscribeEmail.append(this.$q.element)}},$d:function(){if(ss.isValue(this.$t)){this.$t.remove_propertyChanged(ss.mkdel(this,this.$i));this.$t.remove_enterKeyPressed(ss.mkdel(this,this.$j))}this.$t=spiff.TextInputView.newTextInputView(this.get_viewModel().get_defaultSubject(),null,tab.Strings.ToolbarSubscribeSubjectPlaceholder,false);this.$t.get_inputElement().attr('maxlength',gt.maxSubscriptionSubjectLength.toString());this.$t.add_propertyChanged(ss.mkdel(this,this.$i));this.$t.add_enterKeyPressed(ss.mkdel(this,this.$j));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$t.remove_propertyChanged(ss.mkdel(this,this.$i))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$t.remove_enterKeyPressed(ss.mkdel(this,this.$j))})));this.get_dom().subscribeSubject.append(this.$t.element)},$j:function(){if(!this.$u.get_disabled()){this.$k()}},$i:function(e,L){if(ss.equalsT(L.get_propertyName(),'text')){this.$p()}},$e:function(){this.$u=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$k),tab.Strings.ToolbarSubscribeSubmitButton,null,0,0);this.get_dom().subscribeButton.append(this.$u.element)},$p:function(){var e=!this.get_viewModel().shouldSubscribeButtonBeEnabled((ss.isValue(this.$q)?this.$q.get_text():null),this.$t.get_text(),ss.isNullOrUndefined(this.$v)||this.$v.get_selected());if(this.$u.get_disabled()!==e){var L=(e?tab.Strings.ToolbarSubscribeSubmitDisabledTitle:'');this.$u.set_hoverTooltipText(L);this.$u.set_disabled(e)}},$f:function(){this.$v=spiff.LabelToggleButton.newCheckbox(tab.Strings.SubscribeSelf,true);this.$v.addClass('tab-subscribeSelf');this.$v.add_click(ss.mkdel(this,this.$p));this.$v.element[0].tabIndex=0;this.get_dom().subscribeSelfArea.append(this.$v.element);this.disposables.add$1(this.$v);var e=spiff.LabelButton.newAnchorButton();e.set_label(tab.Strings.AddSubscribers);e.add_click(ss.mkdel(this,function(){this.get_viewModel().createAddSubscribersPopup(this.get_dom().subscribeSelfArea)}));e.addClass('tab-addSubscribers');this.get_dom().addSubscribersLabel.text(tab.Strings.SubscribeOthers);e.element.insertAfter(this.get_dom().addSubscribersLabel);this.disposables.add$1(e);var L=spiff.LabelButton.newAnchorButton$1(this.get_viewModel().get_subscriptionsPageUrl(),null);L.set_label(tab.Strings.ManageSubscriptions);L.addClass('tab-manageSubscribers');this.get_dom().manageSubscribersLabel.text(tab.Strings.CurrentSubscribers);L.element.insertAfter(this.get_dom().manageSubscribersLabel);this.disposables.add$1(L)},$h:function(){var e=new ss.StringBuilder;if(this.get_viewModel().get_subscribers().length>0){e.append(this.get_viewModel().get_subscribers()[0].friendlyName);if(this.get_viewModel().get_subscribers().length>1){e.append(' + ');e.append(this.get_viewModel().get_subscribers().length-1)}e.append(', ')}e.append(tab.Strings.AddSubscribers);this.get_dom().getElementBySelector('.tab-addSubscribers').text(e.toString())},$n:function(){if(this.get_viewModel().get_subscribers().length>0){this.get_viewModel().createSubscriptions(this.$t.get_text(),this.$r.get_selectedItem().get_data(),this.$v.get_selected())}else{this.get_viewModel().createSubscription(this.$t.get_text(),this.$r.get_selectedItem().get_data())}},$k:function(){if(ss.isNullOrEmptyString(this.get_viewModel().get_email())){var e=this.$q.get_text();var L=ss.mkdel(this,function(hU){var hV=((hU===10011)?tab.Strings.SubscribeInvalidAddress:tab.Strings.SubscribeFailure);this.get_dom().subscribeEmail.append($('<div>').addClass('tab-SubscribeError').text(hV))});var hT=ss.mkdel(this,function(){this.get_viewModel().set_email(e);this.$n()});tab.WorkgroupServerCommands.setUserEmail(e,hT,L)}else{this.$n()}},$o:function(e,L){if(L.get_propertyName()==='selected'){this.$w.set_shouldSubscribeAllViews(e.get_selected())}},$9:function(){this.$d();this.$b();if(this.get_viewModel().get_sendOnlyWhenDataPresentCheckboxVisible()){this.$a()}this.$g();this.$c();this.$e();if(tab.FeatureFlags.isEnabled('SubscribeOthers')&&tsConfig.allow_subscribe_others){this.$f()}this.$p();this.$t.get_inputElement().attr('autofocus','true')}},ss.makeGenericType(spiff.BaseView$1,[gt]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[gt])]);ss.initClass(gt,a,{add_schedulesChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_schedulesChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_subscribeSuccess:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_subscribeSuccess:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_subscribersChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_subscribersChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_sendOnlyWhenDataPresentCheckboxStateChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_sendOnlyWhenDataPresentCheckboxStateChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_addSubscribersPopupStateChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_addSubscribersPopupStateChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_schedules:function(){return this.$6},get_viewType:function(){return gs},get_viewModel:function(){return this},get_shouldSubscribeAllViews:function(){return this.$7},set_shouldSubscribeAllViews:function(e){this.$7=e;if(!tab.FeatureFlags.isEnabled('AlertWhenDataPresent')){return}if(ss.staticEquals(this.$2$4,null)){return}this.$2$4()},get_sendOnlyWhenDataPresentCheckboxEnabled:function(){return!this.$7},get_sendOnlyWhenDataPresentCheckboxSelected:function(){return this.$2$6},set_sendOnlyWhenDataPresentCheckboxSelected:function(e){this.$2$6=e},get_sendOnlyWhenDataPresentCheckboxVisible:function(){if(!tab.FeatureFlags.isEnabled('AlertWhenDataPresent')){return false}if(!tsConfig.allow_subscribe_on_data_present){return false}return tsConfig.current_sheet_type==='dashboard'||tsConfig.current_sheet_type==='worksheet'},get_defaultSubject:function(){return tsConfig.current_sheet_name},get_email:function(){return this.$2$7},set_email:function(e){this.$2$7=e},get_subscriptionsPageUrl:function(){return this.$2$8},set_subscriptionsPageUrl:function(e){this.$2$8=e},get_subscribers:function(){return this.$8},set_subscribers:function(e){this.$8=e;this.raiseActionEvent(this.$2$3)},get_sendOnlyWhenDataPresent:function(){return this.get_sendOnlyWhenDataPresentCheckboxSelected()&&!this.get_shouldSubscribeAllViews()},$4:function(){return(this.get_sendOnlyWhenDataPresent()?'DataPresent':'Always')},disposeViewModel:function(){this.$8=[];this.dispose()},updateUberPopupViewModel:function(e){},createAddSubscribersPopup:function(e){if(ss.isValue(this.$5)){return}var L=new P(this.get_subscribers());this.$5=L;var hT=spiff.UberPopupViewModel.createForContent$1(this.$5,e,ss.mkdel(this,this.$2),true);hT.options.preferUp=gS.get_toolbarIsBottom();hT.options.horizontalAttach=1;hT.options.isToolbarFlyout=true;hT.options.coverRelativeElement=true;var hU=function(){hT.hide(false)};L.add_selectionCanceled(hU);var hV=ss.mkdel(this,function(hW){this.set_subscribers(hW);hT.hide(false)});L.add_selectionConfirmed(hV);hT.addDisposables(new tab.CallOnDispose(ss.mkdel(this,function(){L.remove_selectionCanceled(hU);L.remove_selectionConfirmed(hV);this.raiseActionEvent(this.$2$5)})));hT.show();this.raiseActionEvent(this.$2$5);$('.tabUserSearchInput').focus()},shouldSubscribeButtonBeEnabled:function(e,L,hT){if(ss.isNullOrUndefined(this.get_schedules())||this.get_schedules().length===0){return false}if(ss.isNullOrUndefined(L)||L.trim().length===0){return false}if(ss.isNullOrEmptyString(this.get_email())&&!this.$3(e)){return false}if(ss.isValue(this.$5)){return false}return hT||this.get_subscribers().length>0},generateScheduleViewModel:function(){var e=new spiff.ComboBoxViewModel;e.set_additionalMenuClass('tabSubscriptionScheduleDropdown');var L=this.get_schedules();for(var hT=0;hT<L.length;hT++){var hU=L[hT];var hV=hU.get_schedulePresModel().name;if(tsConfig.display_schedule_description_as_name){hV=hU.get_scheduleFrequencyDescription()}e.addItem(new spiff.ComboBoxItem(null,hV,hU,null))}if(e.get_items().length>0){e.set_selectedItem(e.get_items()[0])}return e},createSubscription:function(e,L){var hT=ss.mkdel(this,function(){if(ss.isValue(this.$2$2)){this.$2$2()}eN.showNotification(tab.Strings.SubscribeSuccess)});var hU=function(){eN.showNotification(tab.Strings.SubscribeFailure)};tab.WorkgroupServerCommands.createSubscription(e,this.get_shouldSubscribeAllViews(),L,this.$4(),hT,hU)},createSubscriptions:function(e,L,hT){var hU=ss.mkdel(this,function(hY){var hZ=hY['results'].length;eN.showNotification(tab.Strings.SubscribeOthersSuccess(hZ));this.raiseActionEvent(this.$2$2)});var hV=ss.mkdel(this,function(hY){var hZ=hY['errors'];if(hZ.length===1&&ss.isNullOrUndefined(hZ[0]['id'])){eN.showNotification(tab.Strings.SubscribeFailure)}else{eN.showNotification(tab.Strings.SubscribeOthersFailed(hZ.length));this.raiseActionEvent(this.$2$2)}});var hW=function(hY){eN.showNotification(tab.Strings.SubscribeFailure)};var hX=_.map(this.get_subscribers(),function(hY){return hY.id.toString()});if(hT&&!_.contains(hX,tsConfig.current_user_id.toString())){hX.push(tsConfig.current_user_id.toString())}tab.WorkgroupServerCommands.createSubscriptions(e,this.get_shouldSubscribeAllViews(),hX,L,this.$4(),hU,hV,hW)},$2:function(){this.$5=tab.MiscUtil.dispose$1(this.$5)},$3:function(e){if(ss.isNullOrUndefined(e)){return false}var L=new RegExp('^[^\\s"(),:;<>@[\\]]+@([-a-z0-9]+\\.)+[a-z0-9]{2,}$','i');return L.test(e)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,spiff.IUberPopupContent]);ss.initClass(gu,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(gv,a,{startup:function(){$(this._leftBtn.domNode).find('button').addClass('tnLeftButton');$(this._rightBtn.domNode).find('button').addClass('tnRightButton');$(this._menuBtn.domNode).find('button').addClass('tnMenuButton');this.containerNode=this.domNode;this.inherited(arguments)},destroy:function(){tab.MiscUtil.dispose$1(this.$r);for(var e=0;e<this.$n.length;e++){var L=this.$n[e];L.destroyRecursive()}this.$o.dispose();this.inherited(arguments)},layout:function(e){if(this.$q.length===0){return}var L=dojo.contentBox(this._containerNode.domNode);var hT=this.$k(L.w);this._buttons.css('display',(hT?'':'none'));this._innerWrapper.layout(e);this._containerNode.domNode.style.top='-1px';if(!hT){this._containerNode.domNode.scrollLeft=0}this.$c(this.currentTab);this.$l();this.$h();if(tabBootstrap.ViewerBootstrap.get_instance().get_shouldShowTabs()){$('.tabbedNavigationWrapper').css('visibility','visible');$('.tabbedNavigationOuterWrapper').css('display','')}else{$('.tabbedNavigationOuterWrapper').css('display','none')}},postCreate:function(){tab.ViewSession.add_onTabSelect(ss.mkdel(this,this.$f));tab.CommandController.get().add_newLayoutId(ss.mkdel(this,this.$d));this.$o.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.ViewSession.remove_onTabSelect(ss.mkdel(this,this.$f));tab.CommandController.get().remove_newLayoutId(ss.mkdel(this,this.$d))})));this.inherited(arguments);this.$2();this.$p=[];for(var e=0;e<this.$q.length;e++){var L=this.$q[e];this.addTab(L,e,tsConfig.repository_urls[e]);this.addToMenu(this.$p,L)}this._buttons=$(this.domNode).find('.dijitButton');this.layout(null);this.$m=this.selectedTabArrayIndex;this.currentTab=this.$n[this.selectedTabArrayIndex];if(ss.isValue(this.currentTab)){this.currentTab.domNode.setAttribute('aria-selected','true');this.currentTab.domNode.tabIndex=0}},chooseTabByName:function(e){if(ss.isNullOrUndefined(e)){return}var L=this.$5(e);if(ss.isValue(L)){this.chooseTab(L)}},chooseTab:function(e){if(ss.isNullOrUndefined(e)){return}this.$3(e)},addTab:function(e,L,hT){var hU=document.createElement('span');this._scrollNode.appendChild(hU);var hV=this.baseClass+'_tab_'+L;var hW=new Object;hW.id=hV;hW.label=tableau.format.escapeHTML(e);hW.value=e;hW.showLabel=true;hW.repository_url=hT;hW.onClick=ss.mkdel(this,function(){this.$j(hV)});hW.onKeyDown=ss.mkdel(this,function(hY){switch(hY.keyCode){case 13:case 32:{this.$j(hV);spiff.EventUtil.stopEvent(hY);break}case 39:case 40:{this.$6();spiff.EventUtil.stopEvent(hY);break}case 37:case 38:{this.$7();spiff.EventUtil.stopEvent(hY);break}case 9:{var hZ=this._indexOf(this.$q,tsConfig.current_sheet_name);var ia=hZ;if(ss.isNullOrUndefined(ia)){ia=this.selectedTabArrayIndex}this.$m=ia;break}}});var hX=new dijit.layout._TabButton(hW,hU);this.$1(hX);this.$n.push(hX)},addToMenu:function(e,L){var hT=spiff.MenuItem.newActionItem(L,ss.mkdel(this,function(){this.chooseTabByName(L)}));e.push(hT)},resize$1:function(e){this._innerWrapper.resize();this.layout(e)},$g:function(e){var L=this.$5(e);this.$c(L)},$f:function(e){this.$g(e.sheetName)},$d:function(e){this.$g(e.DDA)},$5:function(e){for(var L=0;L<this.$n.length;L++){if(ss.referenceEquals(this.$n[L].value,e)){return this.$n[L]}}return null},$6:function(){this.$m++;if(this.$m>this.$n.length-1){this.$m=0}var e=this.$8();var L=dijit.byId(e);L.domNode.focus();this.$l()},$7:function(){this.$m--;if(this.$m<0){this.$m=this.$n.length-1}var e=this.$8();var L=dijit.byId(e);L.domNode.focus();this.$l()},$8:function(){return this.baseClass+'_tab_'+this.$m},$j:function(e){var L=dijit.byId(e);this.chooseTab(L)},$b:function(){var e=$(this._scrollNode).find('.dijitTab');if(!!e.length){var L=e[0];var hT=e[e.length-1];return hT.offsetLeft+parseFloat($(hT).css('width'))-L.offsetLeft}else{return 0}},$k:function(e){var L=this.$b();return L>0&&e<L},_indexOf:function(e,L){for(var hT=0;hT<e.length;hT++){if(ss.referenceEquals(e[hT],L)){return hT}}return-1},_indexOf:function(e,L){for(var hT=0;hT<e.length;hT++){if(ss.referenceEquals(e[hT],L)){return hT}}return-1},$9:function(){var e=$(this._scrollNode).find('.dijitTab');var L=this._containerNode.domNode.offsetWidth;var hT=this.$b();var hU={};if(!!e.length&&hT>L){hU.min=0;hU.max=e[e.length-1].offsetLeft+parseFloat($(e[e.length-1]).css('width'))+2-L}else{hU.min=0;hU.max=0}return hU},$3:function(e){if(ss.isValue(this.currentTab)&&ss.referenceEquals(this.currentTab.value,e.value)){return}if(ss.isValue(this.currentTab)){this.currentTab.attr('checked',false);this.currentTab.domNode.setAttribute('aria-selected','false');this.currentTab.domNode.tabIndex=-1}this.$m=this._indexOf(this.$n,e);var L=new Object;L.sheetName=e.value;L.repositoryUrl=e.repository_url;L.oldRepositoryUrl=(ss.isValue(this.currentTab)?this.currentTab.repository_url:null);tab.ViewSession.fireOnTabSelect(L)},$c:function(e){if(ss.isValue(this.currentTab)){this.currentTab.attr('checked',false);this.currentTab.domNode.setAttribute('aria-selected','false');this.currentTab.domNode.tabIndex=-1}else{e=this.currentTab=this.$n[this.selectedTabArrayIndex]}if(ss.isNullOrUndefined(e)){return}e.attr('checked',true);e.domNode.setAttribute('aria-selected','true');e.domNode.tabIndex=0;this.currentTab=e;this.$i(e)},$i:function(e){var L=e.domNode;var hT=this._getScroll();if(hT>L.offsetLeft||hT+parseFloat($(this._containerNode.domNode).css('width'))<L.offsetLeft+parseFloat($(L).css('width'))){this._createSmoothScroll(e).play()}},$a:function(e){var L=e.domNode;var hT=parseFloat($(this._containerNode.domNode).css('width'));var hU=this.$9();var hV;hV=L.offsetLeft+parseFloat($(L).css('width'))/2-hT/2;hV=Math.min(Math.max(hV,hU.min),hU.max);return hV},$2:function(){this.connect(this._rightBtn,'onClick',ss.mkdel(this,function(){this.$e(this._rightBtn)}));this.connect(this._leftBtn,'onClick',ss.mkdel(this,function(){this.$e(this._leftBtn)}));this.connect(this._menuBtn,'onClick',ss.mkdel(this,this.onMenuButtonClicked))},onMenuButtonClicked:function(){if(ss.isValue(this.$r)){this.$r.dispose()}this.$r=spiff.MenuViewModel.createForMenu(new spiff.Menu(this.$p),spiff.MenuViewModel.handleMenuActionItemClicked);this.$r.show(spiff.ShowMenuOptions.create($(this._menuBtn.domNode)))},$e:function(e){if(e.dojoAttachPoint==='_leftBtn'){this.$4(-1)}else{this.$4(1)}e.domNode.focus()},$4:function(e){var L=parseFloat($(this._containerNode.domNode).css('width'));var hT=L*0.5*e;var hU=this._getScroll()+hT;this._createSmoothScroll(null,hU).play()},_getScroll:function(){return this._containerNode.domNode.scrollLeft},_createSmoothScroll:function(e,L){if(ss.isValue(e)){L=this.$a(e)}else{var hT=this.$9();L=Math.min(Math.max(L,hT.min),hT.max)}if(ss.isValue(this._anim)&&this._anim.status()==='playing'){this._anim.stop()}var hU=null;var hV=new Object;hV.duration=100;hV.beforeBegin=ss.mkdel(this,function(){var hW=this._containerNode.domNode.scrollLeft;hU.curve=new dojo._Line(hW,L)});hV.onAnimate=ss.mkdel(this,function(hW){this._containerNode.domNode.scrollLeft=hW});hV.onEnd=ss.mkdel(this,function(){this.$l()});hU=new dojo._Animation(hV);this._anim=hU;return hU},$l:function(){var e=this._getScroll();var L=this.$9();var hT;var hU;if(e>L.max){this._containerNode.domNode.scrollLeft=L.max}hU=e>=ss.Int32.trunc(L.max);hT=e<=ss.Int32.trunc(L.min);this._rightBtn.setAttribute('disabled',hU);this._leftBtn.setAttribute('disabled',hT);$(this._rightBtn.domNode).find('button').toggleClass('tnRightButtonDisabled',hU);$(this._leftBtn.domNode).find('button').toggleClass('tnLeftButtonDisabled',hT);this.$0(this._rightBtn.domNode,tab.Strings.AccessibilityScrollSheetTabsRight,hU);this.$0(this._leftBtn.domNode,tab.Strings.AccessibilityScrollSheetTabsLeft,hT)},$h:function(){$(this._menuBtn.domNode).find('button')[0].tabIndex=-1;this._menuBtn.domNode.tabIndex=-1;this._menuBtn.domNode.setAttribute('aria-disabled','true')},$1:function(e){$(e.domNode).find('.tabLabel')[0].removeAttribute('role');e.domNode.removeAttribute('wairole');e.domNode.setAttribute('role','tab');e.domNode.tabIndex=-1;e.domNode.setAttribute('aria-selected','false')},$0:function(e,L,hT){e.setAttribute('role','button');e.setAttribute('aria-label',L);e.setAttribute('aria-disabled',hT.toString());if(hT){e.tabIndex=-1}else{e.tabIndex=0}$(e).find('button')[0].tabIndex=-1}},Object);ss.initClass(gw,a,{},ss.EventArgs);ss.initClass(gx,a,{get_textAngle:function(){return this.$k},set_textAngle:function(e){this.$k=e},get_isTextAngleHorizontal:function(){return Math.abs(this.get_textAngle())<0.01},get_numberSavedStates:function(){return this.$g},get_alpha:function(){return this.$7.globalAlpha},set_alpha:function(e){if(e!==this.$7.globalAlpha){this.$7.globalAlpha=e}},get_compositeOperation:function(){return this.$7.globalCompositeOperation},set_compositeOperation:function(e){this.$7.globalCompositeOperation=e},get_font:function(){return this.$7.font},set_font:function(e){var L=this.$d.normalizeFont(e);if(!ss.referenceEquals(L,this.$7.font)){this.$7.font=L}this.$e=gx.$0(L)},get_lineCap:function(){return this.$9},set_lineCap:function(e){if(e!==this.$9){this.$7.lineCap=e;this.$9=e}},get_lineJoin:function(){return this.$a},set_lineJoin:function(e){if(e!==this.$a){this.$7.lineJoin=e;this.$a=e}},get_lineWidth:function(){return this.$7.lineWidth},set_lineWidth:function(e){if(e!==this.$7.lineWidth){this.$7.lineWidth=e;if(this.$f!=='solid'){this.$5()}}},get_linePattern:function(){return this.$f},set_linePattern:function(e){if(e!==this.$f){this.$f=e;this.$5()}},get_miterLimit:function(){return this.$7.miterLimit},set_miterLimit:function(e){if(e!==this.$7.miterLimit){this.$7.miterLimit=e}},get_shadowBlur:function(){return this.$7.shadowBlur},set_shadowBlur:function(e){this.$7.shadowBlur=e},get_shadowColor:function(){return this.$7.shadowColor},set_shadowColor:function(e){this.$7.shadowColor=e},get_shadowOffsetX:function(){return this.$7.shadowOffsetX},set_shadowOffsetX:function(e){this.$7.shadowOffsetX=e},get_shadowOffsetY:function(){return this.$7.shadowOffsetY},set_shadowOffsetY:function(e){this.$7.shadowOffsetY=e},get_transformation:function(){return this.$m},set_transformation:function(e){this.$m.setTransform(e)},get_strokeStyle:function(){return this.$b},set_strokeStyle:function(e){if(!ss.referenceEquals(e,this.$b)){this.$7.strokeStyle=e;this.$b=e}},get_shapeFillStyle:function(){return this.$h},set_shapeFillStyle:function(e){this.$h=e;this.$3(e)},get_shouldAntialias:function(){return this.$i},set_shouldAntialias:function(e){this.$i=e},get_shouldUnderlineText:function(){return this.$j},set_shouldUnderlineText:function(e){this.$j=e},get_textFillStyle:function(){return this.$l},set_textFillStyle:function(e){this.$l=e},get_textAlign:function(){return this.$7.textAlign},set_textAlign:function(e){this.$7.textAlign=e},get_textBaseline:function(){return this.$7.textBaseline},set_textBaseline:function(e){this.$7.textBaseline=e},$6:function(){var e=this.$7.canvas;var L={w:e.width,h:e.height};return L},clearDirtyRect:function(){this.dirtyRect={x:0,y:0,w:0,h:0}},setDefaultPropertyValues:function(){this.set_alpha(1);this.set_strokeStyle('rgb(0,0,0)');this.set_linePattern(gx.defaultLinePattern);this.set_lineWidth(1);this.set_lineJoin(gx.defaultLineJoin);this.set_lineCap(gx.defaultLineCap);this.set_shapeFillStyle('rgb(0,0,0)');this.set_textFillStyle('rgb(0,0,0)');this.set_textBaseline(gx.defaultTextBaseline);this.set_textAlign(gx.defaultTextAlign);this.set_textAngle(0);this.set_font(8+'pt '+'Arial');this.$i=true;this.$j=false},setClip:function(e){this.beginPath();this.rect(e.x,e.y,e.w,e.h);this.$1()},arc:function(e,L,hT,hU,hV,hW){this.$7.arc(e,L,hT,hU,hV,hW)},arcTo:function(e,L,hT,hU,hV){this.$7.arcTo(e,L,hT,hU,hV)},beginPath:function(){this.$7.beginPath()},bezierCurveTo:function(e,L,hT,hU,hV,hW){this.$7.bezierCurveTo(e,L,hT,hU,hV,hW)},clearRect:function(e,L,hT,hU){this.$7.clearRect(e,L,hT,hU)},closePath:function(){this.$7.closePath()},createImageData1:function(e){return this.$7.createImageData(e)},createImageData2:function(e,L){return this.$7.createImageData(e,L)},createLinearGradient:function(e,L,hT,hU){return this.$7.createLinearGradient(e,L,hT,hU)},createPattern1:function(e,L){return this.$7.createPattern(e,L)},createPattern2:function(e,L){return this.$7.createPattern(e,L)},createRadialGradient:function(e,L,hT,hU,hV,hW){return this.$7.createRadialGradient(e,L,hT,hU,hV,hW)},drawImage1:function(e,L,hT){this.$7.drawImage(e,L,hT)},drawImage2:function(e,L,hT){this.$7.drawImage(e,L,hT)},drawImage3:function(e,L,hT,hU,hV){this.$7.drawImage(e,L,hT,hU,hV)},drawImage4:function(e,L,hT,hU,hV){this.$7.drawImage(e,L,hT,hU,hV)},drawImage5:function(e,L,hT,hU,hV,hW,hX,hY,hZ){this.$7.drawImage(e,L,hT,hU,hV,hW,hX,hY,hZ)},drawImage6:function(e,L,hT,hU,hV,hW,hX,hY,hZ){this.$7.drawImage(e,L,hT,hU,hV,hW,hX,hY,hZ)},fill:function(){this.$7.fill()},fillRect:function(e,L,hT,hU){this.$7.fillRect(e,L,hT,hU)},fillText1:function(e,L,hT){if(this.$4()){var hU=ss.mkdel(this,function(hV){this.$7.fillText(hV,0,0)});this.$2(hU,e,L,hT)}else{this.$7.fillText(e,L,hT)}},fillText2:function(e,L,hT,hU){if(this.$4()){var hV=ss.mkdel(this,function(hW){this.$7.fillText(hW,0,0,hU)});this.$2(hV,e,L,hT)}else{this.$7.fillText(e,L,hT,hU)}},getImageData:function(e,L,hT,hU){return this.$7.getImageData(e,L,hT,hU)},isPointInPath:function(e,L){return this.$7.isPointInPath(e,L)},lineTo:function(e,L){this.$7.lineTo(e,L)},measureText:function(e){return this.$7.measureText(e)},moveTo:function(e,L){this.$7.moveTo(e,L)},putImageData1:function(e,L,hT){this.$7.putImageData(e,L,hT)},putImageData2:function(e,L,hT,hU,hV,hW,hX){this.$7.putImageData(e,L,hT,hU,hV,hW,hX)},quadraticCurveTo:function(e,L,hT,hU){this.$7.quadraticCurveTo(e,L,hT,hU)},rect:function(e,L,hT,hU){this.$7.rect(e,L,hT,hU)},reset:function(){while(this.$g>0){this.restore()}this.setDefaultPropertyValues();this.resetTransform();this.pixelRatio=1;this.save()},restore:function(){this.$7.restore();this.$9=this.$7.lineCap;this.$a=this.$7.lineJoin;this.$b=this.$7.strokeStyle;this.$8=this.$7.fillStyle;var e=this.$c.pop();e.$0(this);--this.$g},rotate:function(e){this.$m.rotate(e);this.$0()},save:function(){var e=new o(this.$f,this.$k,this.$h,this.$l,this.$i,this.$j,this.$m);this.$c.push(e);this.$7.save();++this.$g},scale:function(e,L){if(e===1&&L===1){return}this.$m.scale(e,L);this.$0()},setTransform:function(e){this.$m.setTransform(e);this.$0()},resetTransform:function(){this.$m.reset();this.$0()},stroke:function(){this.$7.stroke()},strokeRect:function(e,L,hT,hU){this.$7.strokeRect(e,L,hT,hU)},strokeText1:function(e,L,hT){},strokeText2:function(e,L,hT,hU){},translate:function(e,L){if(e===0&&L===0){return}this.$m.translate(e,L);this.$0()},$0:function(){var e=this.$m.get_matrix();this.$7.setTransform(e[0],e[1],e[2],e[3],e[4],e[5])},$1:function(){this.$7.clip()},$4:function(){return!this.get_isTextAngleHorizontal()||ss.isNullOrUndefined(this.$h)||!ss.referenceEquals(this.$h,this.$l)||this.$j},$2:function(e,L,hT,hU){this.$7.save();var hV=this.$m.clone();this.translate(hT,hU);if(!this.get_isTextAngleHorizontal()){this.rotate(this.get_textAngle())}this.$3(this.$l);e(L);if(this.$j){var hW=this.measureText(L).width;var hX=Math.round(Math.max(1,(this.$e-5)/10));var hY=Math.round((this.$e-5)/10);var hZ=0;if(this.get_textAlign()==='center'){hZ-=hW/2}else if(this.get_textAlign()==='end'){hZ-=hW}this.$7.fillRect(hZ,hY,hW,hX)}this.$7.restore();this.$m.setTransform(hV);this.$8=null},$3:function(e){if(!ss.referenceEquals(e,this.$8)){this.$7.fillStyle=e;this.$8=e}},$5:function(){var e=null;var L=0;switch(this.$f){case'solid':{e=[];break}case'dashed':{L=this.$7.lineWidth;e=[gx.defaultLineDashDashed[0]*L,gx.defaultLineDashDashed[1]*L];break}case'dotted':{L=this.$7.lineWidth;e=[gx.defaultLineDashDotted[0]*L,gx.defaultLineDashDotted[1]*L];break}}if(typeof(this.$7['setLineDash'])==='function'){this.$7.setLineDash(e)}else if('mozDash'in this.$7){this.$7['mozDash']=e}else if('webkitLineDash'in this.$7){this.$7['webkitLineDash']=e}}});ss.initClass(gy,a,{});ss.initClass(gz,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(gA,a,{$i:function(){return this.get_viewModel()},$h:function(){return this.get_template()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(tsConfig.is_mobile&&tsConfig.current_sheet_type==='dashboard'){this.element.addClass('tabDontBustMyClicks')}if(this.$i().options.textSelectable){this.$h().contentElem.addClass('tab-selectable')}this.handleNewTextRegion()},handleNewTextRegion:function(){if(!this.$i().hasPresModel()){return}this.$b(this.$h().textRegionBoundaryElem);this.$c(this.$h().contentElem)},handleRightClick:function(e){this.get_viewModel().showContextMenu(spiff.ShowMenuOptions.anchorToCursorLocation(this.element,{left:e.clientX,top:e.clientY}))},$c:function(e){var L={};e.removeAttr('style');e.html(this.$i().get_html());de.cleanUpFontFamilyStyles(e);if(!tsConfig.is_mobile_device){var hT=function(ib){ib.stopPropagation()};e.on(this.createNamespacedEventName('touchstart'),hT).on(this.createNamespacedEventName('touchend'),hT)}var hU=this.$i().get_orientation();var hV=this.$g(hU);var hW=this.$f(hU);if(hV||hW){var hX=tab.DoubleUtil.roundToInt(e.parent().width());var hY=tab.DoubleUtil.roundToInt(e.parent().height());L['width']=hY+'px';var hZ='0%';if(hV){if(!(tab.BrowserSupport.get_isIE()&&tab.BrowserSupport.get_browserVersion()<9)){L['bottom']='100%'}hZ='100%'}else if(hW){if(!(tab.BrowserSupport.get_isIE()&&tab.BrowserSupport.get_browserVersion()<9)){L['top']='100%'}hZ='0%'}e.css(L);L['left']=this.$d(hX,tab.DoubleUtil.roundToInt(e.height()),this.$i().get_hAlign(),hU);this.$9(e,'0% '+hZ,hU.toString())}else{L['width']='100%';var ia=tab.DoubleUtil.roundToInt(this.$h().domRoot.height());if(ia<=e.height()&&!this.$e(e,ia)){L['top']='0%'}else{switch(this.$i().get_vAlign()){case'v-align-center':{L['top']='50%';L['margin-top']=(-e.height()/2).toString()+'px';break}case'v-align-bottom':{L['bottom']='0%';break}case'v-align-top':{L['top']='0%';break}default:{break}}}}e.css(L)},$e:function(e,L){var hT=false;e.find('span').each(function(hU,hV){if(!hT&&ss.isValue(hV.style.lineHeight)){hT=parseInt(hV.style.lineHeight)>=L}});return hT},$b:function(e){var L=this.$i().get_styledBox();var hT=de.getCSSBorderStyle(L.ysh1);var hU=ss.mkdict(['border-width',L.s$V+'px','border-color',L.mjt1,'border-style',hT]);if(this.$i().get_styledBox().iKN){this.$a(hU)}e.css(hU)},$a:function(e){var L=tab.ColorModel.fromColorCode(this.$i().get_styledBox().eBu);if(L.get_a()<1){if(tab.BrowserSupport.get_isIE()&&tab.BrowserSupport.get_browserVersion()<9){var hT=L.toArgbHex();var hU='progid:DXImageTransform.Microsoft.gradient(startColorStr='+hT+','+'endColorStr='+hT+')';e['background']='transparent';e['filter']=hU;e['-ms-filter']=hU;e['zoom']=1}else{e['background-color']=L.toString()}}else if(tab.BrowserSupport.get_isIE()&&tab.BrowserSupport.get_browserVersion()<9){e['background-color']=L.toRgb()}else{e['background-color']=L.toString()}},$g:function(e){return Math.round(e)===90},$f:function(e){return Math.round(e)===-90},$9:function(e,L,hT){var hU={};if(tab.BrowserSupport.get_isIE()&&tab.BrowserSupport.get_browserVersion()<9){var hV=((hT==='90')?1:((hT==='-90')?3:0));if(hV!==0){var hW='white';var hX='white';if(this.$i().get_styledBox().iKN){var hY=tab.ColorModel.fromColorCode(this.$i().get_styledBox().eBu);{var hZ='white';var ia=tab.ModelUtils.findContentDashboard();if(ss.isValue(ia)){hZ=ia.get_backgroundColor()||'white'}var ib=tab.ColorModel.alphaComposite(hY,tab.ColorModel.fromColorCode(hZ));hY=new tab.ColorModel(ib.get_r(),ib.get_g(),ib.get_b(),1)}hW=hY.toRgb();hX=hY.toArgbHex()}var ic="progid:DXImageTransform.Microsoft.Chroma(color='"+hX+"')";var id='progid:DXImageTransform.Microsoft.BasicImage(rotation='+hV+')';var ie=ic+' '+id;hU['-ms-filter']=ie;hU['filter']=ie;hU['background-color']=hW}}else{hU['transform-origin']=L;hU['transform']='rotate('+hT+'deg)'}e.css(hU)},$d:function(e,L,hT,hU){var hV=0;if(L>e){if(this.$g(hU)){hT='h-align-right'}else{hT='h-align-left'}}if(hT==='h-align-left'){hV=0}else if(hT==='h-align-right'){hV=e-L}else if(hT==='h-align-center'){hV=ss.Int32.div(e,2)-ss.Int32.div(L,2)}return hV.toString()+'px'}},ss.makeGenericType(spiff.BaseView$1,[gB]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[gB])]);gA.$ctor1.prototype=gA.prototype;ss.initClass(gB,a,{add_newTextRegion:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newTextRegion:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_hAlign:function(){return this.$3.get_hAlign()},get_html:function(){return this.$3.get_html()},get_orientation:function(){return this.$3.get_orientation()},get_vAlign:function(){return this.$3.get_vAlign()},get_styledBox:function(){return this.$3.get_styledBox()},get_presModelKey:function(){return this.$3.presModelKey},handleNewTextRegion:function(){this.$2()},hasPresModel:function(){return!ss.isNullOrUndefined(this.$3.pm)},showContextMenu:function(e){if(!tab.FeatureFlags.isEnabled('SeamlessTitlesAndCaptionsWebSP1')||!tsConfig.is_authoring){return}if(ss.referenceEquals(this.get_presModelKey().name,'CTm'.toString())&&tsConfig.current_sheet_type==='worksheet'){var L=function(hU){var hV=hU.$c['Jmx'];var hW=hJ.menuViewModelFromCommands(hV,hJ.commandMenuItemClicked,null);hW.show(e)};tab.SheetClientCommands.getTitleContextMenu(tsConfig.current_sheet_name,L)}if(ss.referenceEquals(this.get_presModelKey().name,'vv_'.toString())&&tsConfig.current_sheet_type==='worksheet'){var hT=function(hU){var hV=hU.$c['Jmx'];var hW=hJ.menuViewModelFromCommands(hV,hJ.commandMenuItemClicked,null);hW.show(e)};tab.SheetClientCommands.getCaptionContextMenu(tsConfig.current_sheet_name,hT)}},$2:function(){if(ss.isValue(this.$2$1)){this.$2$1()}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(gC,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(gD,a,{get_canScrollX:function(){return this.get_docSize().w-this.get_actualViewSize().w>0},get_canScrollY:function(){return this.get_docSize().h-this.get_actualViewSize().h>0},get_docSize:function(){return{w:tab.DoubleUtil.roundToInt(this.element.width()),h:tab.DoubleUtil.roundToInt(this.element.height())}},get_actualViewSize:function(){return{w:0,h:0}},set_actualViewSize:function(e){throw new ss.NotSupportedException('Setting ActualViewSize is not supported.')},get_effectiveViewSize:function(){return this.get_actualViewSize()},get_scrollPos:function(){return{x:this.element.scrollLeft(),y:this.element.scrollTop()}},set_scrollPos:function(e){this.setXPos(e.x);this.setYPos(e.y)},setXPos:function(e){this.element.scrollLeft(e)},setYPos:function(e){this.element.scrollTop(e)}},ss.makeGenericType(spiff.BaseView$1,[gE]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[gE]),spiff.IScrollable]);ss.initClass(gE,a,{},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(gF,a,{get_name:function(){return this.get_regionPart().toString()},get_regionPart:function(){return this.$g},get_viewSession:function(){return this.$l},get_visualId:function(){return this.paneTableViewModel.get_visualId()},get_sheetid:function(){return this.$j},get_contentProvider:function(){return this.regionContent},set_contentProvider:function(e){if(ss.isValue(this.regionContent)){this.regionContent.remove_loadComplete(ss.mkdel(this,this.onRegionContentLoadComplete))}this.regionContent=e;if(ss.isValue(this.regionContent)){this.regionContent.add_loadComplete(ss.mkdel(this,this.onRegionContentLoadComplete))}},get_defaultPointerToolMode:function(){return this.$1$1},set_defaultPointerToolMode:function(e){this.$1$1=e},get_currentModifierKeyToolMode:function(){return this.$1$2},set_currentModifierKeyToolMode:function(e){this.$1$2=e},get_currentToolbarToolMode:function(){return this.currentToolbarToolMode},set_currentToolbarToolMode:function(e){if(tsConfig.allow_filter){this.currentToolbarToolMode=e}},get_currentPointerToolMode:function(){return((this.get_currentModifierKeyToolMode()==='no-tools')?this.get_currentToolbarToolMode():this.get_currentModifierKeyToolMode())},get_sceneInfo:function(){if(this.$g!=='viz'){return null}var e=ss.safeCast(this.regionContent,eY);if(ss.isNullOrUndefined(e)){return null}var L=e.get_viewModel();return L.get_scene()},get_vlvm:function(){var e=this.get_contentProvider();return e.get_viewModel()},get_shapeSelector:function(){return this.$i},sendSelectionCommand:function(e,L,hT,hU){this.get_shapeSelector().sendSelectionCommand(e,L,hT,hU)},turnOnWindowLogging:function(){if(!ss.isValue(gF.windowLog)){gF.windowLog=tab.Logger.getLoggerWithName('WindowAppender')}},reset:function(){this.backgroundMap.removeMarkOverlay();this.setViewportBorderVisibility(false);this.hideDomDrag()},destroy:function(){this.resetControlledAnimations();this.disposables.dispose();this.allowPanZoom=null;if(ss.isValue(this.regionContent)){this.regionContent.remove_loadComplete(ss.mkdel(this,this.onRegionContentLoadComplete));this.regionContent.destroy()}if(ss.isValue(this.paneTableViewModel.get_mapServerModel())){this.paneTableViewModel.get_mapServerModel().remove_tileUrlChanged(ss.mkdel(this,this.$7))}this.backgroundMap.$5();this.backgroundMap.dispose()},handlePageScroll:function(){this.$f=null},setGeometry:function(e,L,hT){if(ss.isValue(this.regionContent)){this.regionContent.set_actualViewSize({w:L.w,h:L.h});this.regionContent.reset(e,hT);this.backgroundMap.$9(e.w,e.h);this.$h={x:0,y:0,w:e.w,h:e.h};this.$f=null}},refreshImages:function(e){if(ss.isValue(this.regionContent)){this.regionContent.refreshImages(e)}},onZoomBoxMouseMove:function(e){this.onSelectorMouseMove(e,this.domPanZoomRect)},onMarqueeMouseMove:function(e){this.onSelectorMouseMove(e,this.$i)},onSelectorMouseMove:function(e,L){e.preventDefault();L.recordScrollingOffsets({x:this.scroller.get_scrollPos().x,y:this.scroller.get_scrollPos().y});var hT=L.get_connectNodePos();var hU=e.get_gestureInfo().pageX-hT.x;var hV=e.get_gestureInfo().pageY-hT.y;var hW=((hU<0)?hU:((hU>hT.w)?(hU-hT.w):0));var hX=((hV<0)?hV:((hV>hT.h)?(hV-hT.h):0));var hY=this.determineScrollDirection(0,hW);var hZ=this.determineScrollDirection(1,hX);var ia=((Math.max(Math.abs(hW),Math.abs(hX))>15)?'fast':'slow');if(hY!==0||hZ!==0){this.startScrolling(hY,hZ,ia);L.constrainShape(e.get_gestureInfo())}else{this.stopScrolling();L.updateAndRenderShape(e.get_gestureInfo())}},debugWindowLog:function(e){if(ss.isValue(gF.windowLog)){}},toLocalCoords:function(e,L){var hT=this.getLocalOffsetPoint(L);var hU={x:e.x-hT.x,y:e.y-hT.y};return hU},toLocalCoordsRect:function(e,L){var hT=this.getLocalOffset(L);var hU={x:hT.x,y:hT.y};var hV={x:e.x-hU.x,y:e.y-hU.y,w:e.w,h:e.h};return hV},toLocalCoordsEvent:function(e,L){var hT={x:e.get_gestureInfo().pageX,y:e.get_gestureInfo().pageY};return this.toLocalCoords(hT,L)},getLocalOffset:function(e){this.$f=this.$f||tab.DomUtil.getRectXY(this.connectNode);if(e||ss.isNullOrUndefined(this.regionContent)){return this.$f}if(this.regionContent.get_scrollPos().x===0&&this.regionContent.get_scrollPos().y===0){return this.$f}var L=tab.MiscUtil.cloneObject(this.$f);L.x-=this.regionContent.get_scrollPos().x;L.y-=this.regionContent.get_scrollPos().y;return L},getLocalOffsetPoint:function(e){var L=this.getLocalOffset(e);var hT={x:L.x,y:L.y};return hT},getPaneDrawInfoFromSelectionAnchor:function(e){this.$2();var L=new dt(this.$d);var hT={x:e.x,y:e.y,w:1,h:1};var hU=L.hitTestPanes(hT);if(hU.length===0){return null}return this.get_sceneInfo().getPaneDrawInfoFromKey(hU[0])},hitTestVisualPartsHelper:function(e,L,hT){return(du.hasExactHit(hT)?[]:this.$4(e,L))},$4:function(e,L){var hT;var hU=tabBootstrap.MetricsController.createContext('HitTestVisualParts',16,null);{var hV=[];var hW=[];var hX=this.paneTableViewModel.get_refLineVisualLists();if(ss.isValue(hX)){hV=hz.hitTestRefLines(hX,e,L);if(hV.length!==0&&hV[0].get_hitType()!==0){}}if(!du.hasExactHit(hV)){this.$3();hW=hz.hitTestTrendLines(this.$k,e,L);if(hW.length!==0&&hW[0].get_hitType()!==0){}}if(L){var hY=du.tieBreakHits(hV,hW);if(hY.get_hitType()===0){hT=[]}else{hT=[hY]}}else{hT=[];hT.push.apply(hT,hV);hT.push.apply(hT,hW)}}hU.dispose();return hT},computeBoundsOfSelectedMarks:function(){var e=tab.ModelUtils.getVisualModelFromVisualId(this.get_visualId()).get_selectionsModel();var L=e.tupleSelection;var hT={x:0,y:0,w:0,h:0};var hU=L.get_ids();for(var hV=0;hV<hU.length;hV++){var hW=hU[hV];var hX=this.paneTableViewModel.get_scene().getMarkBoundingBox(hW);hT=tab.RectXYUtil.union(hT,hX)}return hT},computeBoundsOfSelectedNodes:function(){var e=tab.ModelUtils.getVisualModelFromVisualId(this.get_visualId()).get_selectionsModel();var L=e.nodeSelection;var hT={x:0,y:0,w:0,h:0};if(ss.isNullOrUndefined(this.get_vlvm())){return hT}var hU=this.get_vlvm().get_groupItemNodes();for(var hV=0;hV<hU.length;hV++){var hW=hU[hV];if(!L.isNodeSelected(hW)){continue}var hX=hW.nTH||0;var hY=hW.Mk_||0;var hZ={x:hX,y:hY,w:hW.XqN,h:hW.$UU};hT=tab.RectXYUtil.union(hT,hZ)}return hT},computeBoundsOfSelectedRefLines:function(){var e=tab.ModelUtils.getVisualModelFromVisualId(this.get_visualId()).get_selectionsModel();var L=e.refLineSelection;var hT={x:0,y:0,w:0,h:0};if(L.isEmpty){return hT}var hU=this.paneTableViewModel.get_refLineVisualLists();for(var hV=0;hV<hU.length;hV++){var hW=hU[hV];for(var hX=0;hX<hW.tOA.length;hX++){var hY=hW.tOA[hX];var hZ=hY;if(!L.isObjectSelected(hZ.YLs)){continue}for(var ia=0;ia<hZ.tOA.length;ia++){var ib=hZ.tOA[ia];if(ib.VzB!=='uEs'&&ib.VzB!=='jpw'){continue}var ic=ib;if(ic.WzG.length<4){continue}var id={x:ic.WzG[0],y:ic.WzG[1]};var ie={x:ic.WzG[2],y:ic.WzG[3]};var ig=tab.RectXYUtil.rectXYFromCorners(id,ie);ig=tab.RectXYUtil.nonemptyify(ig);hT=tab.RectXYUtil.union(hT,ig)}}}return hT},computeBoundsOfSelectedTrendLines:function(){var e=tab.ModelUtils.getVisualModelFromVisualId(this.get_visualId()).get_selectionsModel();var L=e.trendLineSelection;var hT={x:0,y:0,w:0,h:0};if(L.isEmpty){return hT}this.$3();var hU=new Array;for(var hV=0;hV<this.$k.length;hV++){var hW=this.$k[hV];hU.push(hW)}while(hU.length!==0){var hX=hU.pop();if(hX.get_nodeType()===4||hX.get_nodeType()===0){var hY=hX.get_children();for(var hZ=0;hZ<hY.length;hZ++){var ia=hY[hZ];hU.push(ia)}}else if(hX.get_nodeType()===5){if(L.isObjectSelected(hX.get_objectId())){hT=tab.RectXYUtil.union(hT,hX.get_boundingBox())}}}return hT},hitTestMarksAgainstSelectionShape:function(){return this.hitTestMarks(null,false)},hitTestMarks:function(e,L){var hT;{var hU=tabBootstrap.MetricsController.createContext('HitTestMarks',16,null);try{this.$2();var hV=new dt(this.$d);hT=(ss.isNullOrUndefined(e)?this.$i.hitTest(hV,L,this.get_sceneInfo()):hV.hitTest(e,L,this.get_sceneInfo()))}finally{if(ss.isValue(hU)){hU.dispose()}}}if(hT.length>0){}return hT},selectNode:function(e,L,hT,hU){var hV=this.get_vlvm();hV.selectNode(e,L,hT,hU)},hitTestNodes:function(e){var L=this.get_vlvm();var hT=_.find(L.get_groupItemNodes(),function(hU){var hV=hU.nTH||0;var hW=hU.Mk_||0;var hX={x:hV,y:hW,w:hU.XqN,h:hU.$UU};return tab.RectXYUtil.inRect(hX,e)});return hT},doSelectFromPoint:function(e,L,hT,hU){var hV=this.hitTestSingleMarksAndVisualParts(e);switch(hV.get_tooltipTargetType()){case'mark':{tab.SelectionClientCommands.selectMarksLocal([hV.get_id()],this.get_visualId(),L,false,function(){hU(hV)},hT);break}case'visualparts':{var hW={x:e.x,y:e.y,w:1,h:1};tab.SelectionClientCommands.selectRectRegionAndDoUbertip(this.$g,hW,L,this.get_visualId(),function(){hU(hV)});break}default:{if(hV.get_hitType()!==0){hU(hV)}if(L==='simple'){tab.SelectionClientCommands.clearAllSelections(this.get_visualId())}break}}return hV},hitTestSingleMarksAndVisualParts:function(e){var L={x:e.x,y:e.y,w:1,h:1};var hT=this.hitTestMarks(L,true);var hU=this.hitTestVisualPartsHelper(L,true,hT);var hV=du.tieBreakHits(hT,hU);return hV},doSelectMarkAndUbertipFromSelectionShape:function(e,L){var hT=du.getIdsFromHitTestResults(this.hitTestMarksAgainstSelectionShape(),false);tab.SelectionClientCommands.selectMarksLocal(hT,this.get_visualId(),e,true,L);return hT},moveMapToBounds:function(e){if(this.paneTableViewModel.get_visualModel().get_shouldUpdate()){this.backgroundMap.splatOverlayToMapForTransition(gF.getCanvasElement(this.connectNode));this.setViewportBorderVisibility(true);this.backgroundMap.moveToBounds(e)}},setPointerToolMode:function(e){if(ss.isNullOrUndefined(e)){e=this.get_defaultPointerToolMode()}this.setMode(e)},updateDefaultToolMode:function(){this.set_defaultPointerToolMode(this.determineDefaultToolMode())},determineDefaultToolMode:function(){return this.lockedToolbarToolMode},isSelectingToolActive:function(){return this.get_currentPointerToolMode()==='rectangular-selection'||this.get_currentPointerToolMode()==='lasso-selection'||this.get_currentPointerToolMode()==='radial-selection'},isZoomToolActive:function(){return this.get_currentPointerToolMode()==='area-zoom'||this.get_currentPointerToolMode()==='zoom-out'},setLockedPointerToolMode:function(e){this.lockedToolbarToolMode=e},isExistingSelection:function(){var e=tab.ModelUtils.getVisualModelFromVisualId(this.get_visualId()).get_selectionsModel().tupleSelection;return e.get_ids().length!==0},$5:function(e,L){if(L.get_propertyName()==='scene'||L.get_propertyName()==='vizdata'){this.$d=null;this.$k=null}},$6:function(){this.get_contentProvider().set_scrollPos({x:0,y:0})},suppressTooltips:function(){},zoomPoint:function(e,L,hT,hU,hV){if(this.resetIsWaitingOnTransition){return}this.waitingOnPanZoomServerResponse='waitingOnServer';this.suppressTooltips();var hW=(e.canDragH?hT:1);var hX=(e.canDragV?hT:1);var hY=L;var hZ=1/hT;if(hU){this.get_viewSession().zoomDoubleClick(L,hY,hT>1,hV,hZ)}else if(hT>1){this.get_viewSession().zoomIn(L,hY,hZ)}else{this.get_viewSession().zoomOut(L,hY,hZ)}var ia=((hT>1)?1:-1);this.backgroundMap.zoomOnPoint(L,ia);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()||this.paneTableViewModel.get_visualModel().get_cacheUrlInfo().useUrl){this.animateZoomOnPoint(e,L,hW,hX)}},makeDomDrag:function(){this.domPanZoomRect.createDomAndAppend(this.connectNode);this.domDragImage=$('<div></div>');this.addHiddenDiv(this.domDragImage,'tvdrag_image',this.domPanZoomRect.get_dom());this.domDragMask=$('<div></div>');this.addHiddenDiv(this.domDragMask,'tvdrag_mask',this.domPanZoomRect.get_dom())},hideDomDrag:function(){if(this.$g!=='viz'||!this.$b){return}this.domDragMask.css('display','none');this.domDragImage.css('display','none');this.domPanZoomRect.get_dom().css('display','none');this.get_shapeSelector().get_dom().css('display','none');this.domDragImage.html('');this.$b=false},showDomDragImage:function(e){this.$b=true;this.setViewportBorderVisibility(true);if(this.backgroundMap.get_enabled()&&!this.$1()){this.backgroundMap.splatOverlayToMapForTransition(gF.getCanvasElement(this.connectNode))}else{var L=(tab.ApplicationModel.get_instance().get_isLocalRenderMode()?this.scroller.get_scrollPos():{x:0,y:0});var hT={l:e.x-L.x+1,t:e.y-L.y+1,w:e.w+1-2,h:e.h+1-2};var hU=this.$e.clone();if(ss.isInstanceOfType(this.regionContent,eY)){var hV=gF.getCanvasElement(hU);var hW=bn.getRenderContext(hV,'transparent');this.regionContent.copyContent(hW)}hU.removeClass();hU.addClass('tvdrag_imageContainer');this.domDragImage.append(hU);this.domDragImage.css('display','');var hX=1;tab.DomUtil.setMarginBoxJQ(hU,{l:-hT.l-hX,t:-hT.t-hX,w:tab.DoubleUtil.roundToInt(hU.width())-2,h:tab.DoubleUtil.roundToInt(hU.height())-2});tab.DomUtil.setMarginBoxJQ(this.domDragImage,{l:L.x+hX,t:L.y+hX,w:hT.w-2,h:hT.h-2});this.domDragMask.css('background-color',this.getPanZoomFillColor());this.domDragMask.css('display','');tab.DomUtil.setMarginBoxJQ(this.domPanZoomRect.get_dom(),hT);this.domPanZoomRect.get_dom().css('display','')}},getCenterPoint:function(e){var L=Math.floor(e.w/2)+e.x;var hT=Math.floor(e.h/2)+e.y;return{x:L,y:hT}},addHiddenDiv:function(e,L,hT){e.addClass(L);e.css('display','none');hT.append(e)},$1:function(){return tab.BrowserSupport.get_isIE()&&!this.backgroundMap.get_enabled()&&(!tab.BrowserSupport.get_cssTransform()||ss.isNullOrUndefined(tab.BrowserSupport.get_cssTransitionName()))},animateZoomOnPoint:function(e,L,hT,hU){var hV=((hT<1)?-1:((hT>1)?1:0));var hW=((hU<1)?-1:((hU>1)?1:0));var hX={x:hV,y:hW};var hY=this.getCenterPoint(e);var hZ=Math.floor((hY.x-L.x)*hX.x*hT);var ia=Math.floor((hY.y-L.y)*hX.y*hU);var ib={scale:1,scaleX:1,scaleY:1,translateX:0,translateY:0,transformOrigin:null,time:0};ib.translateX=hZ;ib.translateY=ia;ib.scaleX=hT;ib.scaleY=hU;ib.time=777;this.showDomDragImage(e);if(this.$1()){this.$0(e,ib);return}this.animateZoomWithCSSTransitions(ib)},mapIsBrowserRendered:function(){return this.backgroundMap.get_enabled()},animateAnchorZoomLeaflet:function(e,L,hT){this.showDomDragImage(e);if(this.mapIsBrowserRendered()){this.backgroundMap.animateAnchorZoom(hT,L)}},animateAnchorZoom:function(e,L,hT){var hU=1/hT;var hV=((e.x>0)?(L.x%e.x):L.x);var hW=((e.y>0)?(L.y%e.y):L.y);var hX={x:hV,y:hW};var hY={scale:1,scaleX:1,scaleY:1,translateX:0,translateY:0,transformOrigin:null,time:0};hY.scaleX=hU;hY.scaleY=hU;hY.time=500;this.showDomDragImage(e);if(this.$1()){var hZ=this.getCenterPoint(e);var ia=-1;var ib=ia*(hU-1);hY.translateX=ss.round(ib*(hX.x-hZ.x));hY.translateY=ss.round(ib*(hX.y-hZ.y));this.$0(e,hY);return}hY.transformOrigin=hX;this.animateZoomWithCSSTransitions(hY)},getPointLatLong:function(e){return this.backgroundMap.getPointLatLong(e)},animateZoomWithCSSTransitions:function(e){var L=this.domDragImage.get(0);this.resetIsWaitingOnData=true;this.resetIsWaitingOnTransition=true;window.setTimeout(ss.mkdel(this,function(){tableau.util.transform(L,e);this.$c=true;var hT=500;window.setTimeout(ss.mkdel(this,function(){this.resetIsWaitingOnTransition=false;if(!this.resetIsWaitingOnData){this.reset()}}),hT)}),50)},$0:function(e,L){var hT;var hU=L.scaleX;var hV=L.scaleY;if(!tab.BrowserSupport.get_isIE()){return}this.resetControlledAnimations();var hW=tab.DomUtil.getMarginBoxJQ(this.domDragImage);hT={};var hX=Math.floor(hW.w*hU);var hY=Math.floor(hW.h*hV);var hZ=L.translateX+Math.floor(hW.w/2-hX/2);var ia=L.translateY+Math.floor(hW.h/2-hY/2);hT['left']=hZ;hT['top']=ia;hT['width']=hX;hT['height']=hY;this.$a.push(new z(this.domDragImage,hT,777));var ib=this.domDragImage.children().first();hW=tab.DomUtil.getMarginBoxJQ(ib);hT={};hT['width']=Math.floor(hW.w*hU)+e.x;hT['height']=Math.floor(hW.h*hV)+e.y;this.$a.push(new z(ib,hT,777));var ic=Math.floor(e.x*(1-hU));var id=Math.floor(e.y*(1-hV));var ie={x:ic,y:id};ib.children().each(ss.mkdel(this,function(ig,ih){var ii=$(ih);hW=tab.DomUtil.getMarginBoxJQ(ii);hT={};hT['left']=Math.floor(hW.l*hU+ie.x);hT['top']=Math.floor(hW.t*hV+ie.y);hT['width']=Math.floor(hW.w*hU);hT['height']=Math.floor(hW.h*hV);this.$a.push(new z(ii,hT,777))}));this.$a.forEach(function(ig){ig.$0()})},resetControlledAnimations:function(){if(!tab.BrowserSupport.get_isIE()){return}if(!ss.isValue(this.$a)){this.$a=[]}this.$a.forEach(function(e){e.$1(true)});ss.clear(this.$a)},stopScrolling:null,startScrolling:null,determineScrollDirection:null,$2:function(){if(ss.isNullOrUndefined(this.$d)){this.$d=dv.buildLinearHitTestStructure(this.get_sceneInfo())}},$3:function(){if(ss.isNullOrUndefined(this.$k)){this.$k=[];var e=this.get_contentProvider();var L=e.get_viewModel();var hT=L.get_trendLineVisualLists();if(ss.isValue(hT)){for(var hU=0;hU<hT.length;hU++){var hV=hT[hU];var hW=hV.tOA;var hX=1;for(var hY=0;hY<hW.length;hY++){var hZ=hW[hY];if(hZ.VzB==='rOX'){var ia=hZ;for(var ib=0;ib<ia.tOA.length;ib++){var ic=ia.tOA[ib];switch(ic.VzB){case'Osj':{var id=ic;if(ss.isValue(id.Cwi)){hX=id.Cwi}break}case'bUP':{var ie=ic;var ig=dv.buildTrendLineHitTestStructure(ie,hX,ia.YLs);this.$k.push(ig);break}default:{break}}}}}}}}},onRegionContentLoadComplete:function(e,L){if(this.waitingOnPanZoomServerResponse==='waitingOnServer'){this.waitingOnPanZoomServerResponse='normal'}if(this.$g==='viz'){if(!this.isScrolling&&this.$b){this.hideDomDrag()}if(this.$c){tableau.util.transform(this.domDragImage.get(0),null);this.$c=false}}},getPanZoomFillColor:function(){var e='rgb(255,255,255)';if(this.$g==='viz'){if(this.paneTableViewModel.get_mapServerModel().get_hasPresModel()){e=this.paneTableViewModel.get_mapServerModel().get_mapBGFillColor()}else if(ss.isValue(this.paneTableViewModel.get_scene().scene)){e=this.paneTableViewModel.get_scene().scene.oiS}}return e},$7:function(){if(this.backgroundMap.get_enabled()){this.backgroundMap.$5()}this.$8()},$8:function(){if(this.$g!=='viz'){return}this.setViewportBorderVisibility(false);var e=this.paneTableViewModel.get_mapServerModel();if(e.get_hasPresModel()){if(e.get_useFastMaps()&&!this.backgroundMap.get_enabled()){this.backgroundMap.$2(this.backgroundDiv,this.paneTableViewModel.get_mapServerModel());if(ss.isValue(this.$h)&&!tab.RectXYUtil.isEmpty(this.$h)){this.backgroundMap.$9(this.$h.w,this.$h.h)}}}else{this.backgroundMap.$5()}var L=this.getPanZoomFillColor();if(!ss.referenceEquals(this.$9,L)){this.backgroundDiv.css('backgroundColor',L);this.$9=L}},resetPointerToolMode:function(){this.setPointerToolMode(this.get_defaultPointerToolMode())},setViewportBorderVisibility:function(e){this.viewportBorder.css('display',(e?'':'none'))},setMode:function(e){this.set_currentToolbarToolMode(e);this.updateSelectorShape(e)},updateSelectorShape:function(e){if(ss.isValue(this.$i)){if(ss.isValue(this.$i.get_dom())){this.$i.get_dom().remove()}this.$i=null}switch(e){case'lasso-selection':{this.$i=new fq(this.$h,tab.ApplicationModel.get_instance().get_isLocalRenderMode());break}case'radial-selection':{var L=this.paneTableViewModel.get_mapServerModel();this.$i=new bE(this.$h,L.get_radialSelectionDistanceInfoModel());break}case'rectangular-selection':default:{this.$i=new fG;break}}this.$i.createDomAndAppend(this.connectNode)},isToolDefault:function(e){return e===this.get_defaultPointerToolMode()}});ss.initClass(gG,a,{destroy:function(){this.$9.remove_scrolled(ss.mkdel(this,this.$2));this.$9.destroy();this.$9=null;this.$5.remove_contentFetched(ss.mkdel(this,this.$1));this.$5.destroy();this.$5=null;this.$7.destroy();this.$7=null;this.$6.destroy();this.$6=null},updateViewport:function(e,L){this.$7.updateViewport(e,L)},getElement:function(e){var L=this.$7.itemToTileIndex(e);if(!this.$7.getTileStatus(L)){return null}else{var hT=this.$7.globalToLocalItemIndex(e);return this.$9.getItemElement(L,hT)}},$4:function(e,L){var hT=this.$6.format(L,this.$7.getTilePosition(e),this.$7.getTileRange(e));if(hT.length===0){return}this.$9.setContent(e,hT);this.$7.updateTileStatus(e,true)},$0:function(e){var L=this.$7.getTileRangeType(e);var hT=this.$7.getTileRange(e);var hU=new cR(e,hT,L);return hU},$3:function(){var e=[];var L=this.$7.get_tileCount();for(var hT=1;hT<L;++hT){var hU=this.$0(hT);e.push(hU)}this.$5.fetch(e)},$2:function(e,L){var hT=this.$8*this.$7.get_itemHeight();var hU=L.get_newPos().y-hT;if(hU<0){hU=0}var hV=L.get_newPos().y+hT+this.$7.get_viewportHeight();if(hV>this.$7.get_totalHeight()-1){hV=this.$7.get_totalHeight()-1}var hW=new tab.IntegerRange(hU,hV);var hX=this.$7.pixelToTileRange(hW);var hY=[];var hZ=hX.get_from();var ia=hX.get_to();for(var ib=hZ;ib<=ia;++ib){if(this.$7.getTileStatus(ib)||this.$5.isTilePending(ib)){continue}var ic=this.$0(ib);hY.push(ic)}this.$5.fetch(hY)},$1:function(e,L){var hT=L.get_tileIndex();var hU=L.get_data();this.$4(hT,hU)}});ss.initClass(gH,a,{});ss.initClass(gI,a,{add_loadComplete:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_loadComplete:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},get_actualViewSize:function(){return{w:this.$8.clientWidth,h:this.$8.clientHeight}},set_actualViewSize:function(e){},get_effectiveViewSize:function(){return this.get_actualViewSize()},get_scrollPos:function(){return{x:this.get_left(),y:this.get_top()}},set_scrollPos:function(e){this.set_left(e.x);this.set_top(e.y);this.$2(false)},get_canScrollX:function(){return this.get_docSize().w>this.get_effectiveViewSize().w},get_canScrollY:function(){return this.get_docSize().h>this.get_effectiveViewSize().h},get_docSize:function(){return{w:this.$b.w,h:this.$b.h}},get_left:function(){return this.$f},set_left:function(e){this.$f=e;if(this.$h){this.$8.scrollLeft=e}},get_top:function(){return this.$m},set_top:function(e){this.$m=e;if(this.$h){this.$8.scrollTop=e}},destroy:function(){this.$9.destroy();while(this.$j>0){this.$j--;this.$g.decrementWait();tab.ImageTileTracker.decrementPendingCount()}this.$c=null;this.$n=null},refreshImages:function(e){if(!ss.isValue(this.$b)||tab.SizeUtil.isEmpty(tab.RecordCast.regionRectAsSize(this.$b))){return}if(ss.isNullOrUndefined(e)){return}this.$7=e;this.$1();this.$2(!tab.ProgressiveLoader.get_progressiveLoadEnabled()||!this.$a);this.$a=false},reset:function(e,L){var hT=this.$b;var hU=this.$i;this.$b=e;this.$i=L;if(ss.isNullOrUndefined(this.$b)||tab.SizeUtil.isEmpty(tab.RecordCast.regionRectAsSize(this.$b))){return}if(ss.isValue(hT)&&hT.w===this.$b.w&&hT.h===this.$b.h&&hU.w===this.$i.w&&hU.h===this.$i.h){return}var hV=this.get_top();var hW=this.get_left();this.$k=Math.ceil(this.$b.w/this.$i.w);this.$l=Math.ceil(this.$b.h/this.$i.h);this.$d.width(this.$b.w);this.$d.height(this.$b.h);this.set_top(Math.min(hV,Math.max(0,this.$b.h-this.$8.offsetHeight)));this.set_left(Math.min(hW,Math.max(0,this.$b.w-this.$8.offsetWidth)))},setXPos:function(e){this.set_scrollPos({x:e,y:this.get_scrollPos().y})},setYPos:function(e){this.set_scrollPos({x:this.get_scrollPos().x,y:e})},$0:function(e){var L=$(e);if(!!L.prop('_deferredClear')){L.prop('_deferredClear',null);L.empty()}},$2:function(e){if(!ss.isValue(e)){e=false}if(!ss.isValue(this.$b)||tab.SizeUtil.isEmpty(tab.RecordCast.regionRectAsSize(this.$b))){return}if(!ss.isValue(this.$7)){return}var L=this.get_left();var hT=L+this.$8.clientWidth;var hU=this.get_top();var hV=hU+this.$8.clientHeight;var hW=Math.max(Math.floor(L/this.$i.w),0);var hX=Math.min(Math.ceil(hT/this.$i.w),this.$k);var hY=Math.max(Math.floor(hU/this.$i.h),0);var hZ=Math.min(Math.ceil(hV/this.$i.h),this.$l);this.$9.clear();if(!ss.isValue(this.$g)){return}var ia=this.$j;this.$j=Math.max((hX-hW)*(hZ-hY),0);if(ia<=0&&this.$j>0){if(e){this.$g.incrementWait(false)}tab.ImageTileTracker.incrementPendingCount()}var ib='';var ic=0;if(ss.isValue(this.$c)){ib=this.$c()}if(ss.isValue(this.$n)){ic=this.$n.get_cacheVersion()}var id=false;for(var ie=hW;ie<hX;ie++){var ig=Math.min(this.$i.w,this.$b.w-ie*this.$i.w);for(var ih=hY;ih<hZ;++ih){var ii=Math.min(this.$i.h,this.$b.h-ih*this.$i.h);var ij=ih*this.$k+ie;var ik={l:ie*this.$i.w,t:ih*this.$i.h,w:ig,h:ii};var il=this.$g.formatTileURL(this.$7,this.$b.r,ie,ih,'',ib);if(ss.isValue(this.$e[ij])&&this.$e[ij].$0(il,ic)){if(e){this.$6()}var im=this.$e[ij].$2();var io=im.width!==ik.w||im.height!==ik.h;if(io){$(im).css(ss.mkdict(['left',ik.l+'px','top',ik.t+'px']));gI.$0(im,ik)}}else{id=true;this.$e[ij]=this.$e[ij]||new C;var ip=new dI(this.$e[ij].$2(),ij,il,ik,ic);this.$9.addImage(ip)}}}if(!id){this.$d.each(ss.mkdel(this,function(iq,ir){this.$0(ir)}))}},$1:function(){this.$e=[];this.$d.prop('_deferredClear',true)},$6:function(){if(this.$j>0){this.$j--;if(this.$j===0){this.$g.decrementWait();tab.ImageTileTracker.decrementPendingCount()}}},$3:function(e,L){this.$6();if(ss.isValue(L.get_image().get_imageNode())){var hT=L.get_image().get_imageNode();gI.$0(hT,L.get_image().get_bounds());var hU=L.get_image().get_index();var hV=this.$n.get_cacheVersion();if(!ss.isValue(this.$e[hU])){return}if((!ss.isValue(this.$e[hU].$2())||!ss.referenceEquals($(this.$e[hU].$2()).attr('src'),$(hT).attr('src')))&&L.get_image().get_version()===hV){this.$e[hU].$3(hT);this.$e[hU].$1=hV;var hW=hT;var hX=0;var hY=this.$d.length;this.$d.each(ss.mkdel(this,function(hZ,ia){this.$0(ia);ia.appendChild(hW);if(hX<hY-1){hW=hW.cloneNode(false)}hX++}))}}},$4:function(e,L){this.$6()},$5:function(e,L){if(ss.isValue(this.$1$1)){this.$1$1(this,ss.EventArgs.Empty)}}},null,[spiff.IScrollable,dS]);ss.initClass(gJ,a,{render:function(){return React.DOM.div({className:'tab-TitleAndControls',style:{height:this.props.titleHeight.toString()},title:this.props.titleCaption},React.DOM.div({className:'tab-Title',dangerouslySetInnerHTML:{__html:this.props.titleHtml},style:{height:this.props.titleHeight.toString()}}),((this.props.shouldDisplayTitleBarButtons()&&this.props.titleHeight>0)?ss.mkdel(this,function(){return this.$0()})():null))},$0:function(){return React.DOM.div({className:'tab-QFControls',style:{backgroundColor:this.props.backgroundColor}},_.map(this.props.titleButtons,function(e){return(e.show?(function(){return React.createElement(spiff.IconButtonComponent,e.iconProps)})():null)}))}},React.Component);ss.initClass(gL,a,{get_image:function(){return this.$2$1},set_image:function(e){this.$2$1=e},get_text:function(){return this.$2$2},set_text:function(e){this.$2$2=e}},spiff.Template,[ss.IDisposable]);ss.initClass(gM,a,{get_dom:function(){return this.get_template()},get_toolbarButton:function(){return this.$d},$c:function(){this.$d=new spiff.LabelButton(this.get_dom().domRoot,'.tabToolbarButtonText');this.disposables.add$1(this.$d);var e=this.$d;var L=this.get_viewModel();e.add_click(ss.mkdel(L,L.execute));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){var hT=this.$d;var hU=this.get_viewModel();hT.remove_click(ss.mkdel(hU,hU.execute))})));this.$d.add_click(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_click(ss.mkdel(this,this.$9))})));this.element.attr('aria-label',this.get_viewModel().get_text());this.element.addClass(this.get_viewModel().get_iconClass().substring(this.get_viewModel().get_iconClass().lastIndexOf('-')+1));this.onViewModelPropertyChanged(this,new spiff.PropertyChangedEventArgs('isActive'));this.onViewModelPropertyChanged(this,new spiff.PropertyChangedEventArgs('enabled'));this.onViewModelPropertyChanged(this,new spiff.PropertyChangedEventArgs('text'));this.onViewModelPropertyChanged(this,new spiff.PropertyChangedEventArgs('tooltipText'));this.onViewModelPropertyChanged(this,new spiff.PropertyChangedEventArgs('iconClass'))},onViewModelPropertyChanged:function(e,L){switch(L.get_propertyName()){case'isActive':{this.$d.element.toggleClass('tabActive',this.get_viewModel().get_isActive());this.get_dom().get_image().toggleClass(this.get_viewModel().get_iconClass()+'-active',this.get_viewModel().get_isActive());this.get_dom().get_image().toggleClass(this.get_viewModel().get_iconClass(),!this.get_viewModel().get_isActive());break}case'enabled':{var hT=this.get_viewModel().get_enabled();this.get_dom().domRoot.attr('tabindex',(hT?'0':'-1'));this.$d.set_disabled(!hT);break}case'text':{this.get_dom().get_text().text(ss.coalesce(this.get_viewModel().get_text(),''));break}case'tooltipText':{this.$d.set_hoverTooltipText(ss.coalesce(this.get_viewModel().get_tooltipText(),''));break}case'iconClass':{if(ss.isValue(this.$e)){this.get_dom().get_image().removeClass(this.$e)}this.get_dom().get_image().addClass(this.get_viewModel().get_iconClass());this.$e=this.get_viewModel().get_iconClass();break}}},$9:function(){if(this.$d.element.hasClass('tabToolbarButtonFlyoverShown')){this.get_viewModel().popupViewModel.hide(false)}else{this.get_viewModel().showUberPopup(this.$d.element)}},$b:function(){this.$d.element.addClass('tabToolbarButtonFlyoverShown')},$a:function(){this.$d.element.removeClass('tabToolbarButtonFlyoverShown')}},ss.makeGenericType(spiff.BaseView$1,[gN]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[gN])]);ss.initClass(gN,a,{add_flyoverShown:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_flyoverShown:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_flyoverHidden:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_flyoverHidden:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_buttonAction:function(){return this.action},get_enabled:function(){return this.$5},set_enabled:function(e){if(!this.$9&&this.$5!==e){this.$5=e;this.notifyPropertyChanged('enabled')}},get_iconClass:function(){return this.$6},set_iconClass:function(e){if(!this.$9&&!(ss.compareStrings(this.$6,e,false)===0)){this.$6=e;this.notifyPropertyChanged('iconClass')}},get_iconType:function(){return this.$7},get_isActive:function(){return this.$8},set_isActive:function(e){if(!this.$9&&this.$8!==e){this.$8=e;this.notifyPropertyChanged('isActive')}},get_text:function(){return this.$b},set_text:function(e){if(!this.$9&&!(ss.compareStrings(this.$b,e,false)===0)){this.$b=e;this.notifyPropertyChanged('text')}},get_tooltipText:function(){return this.$c},set_tooltipText:function(e){if(!this.$9&&!ss.referenceEquals(this.$c,e)){this.$c=e;this.notifyPropertyChanged('tooltipText')}},get_isSeparator:function(){return this.$9},dispose:function(){this.$2();spiff.BaseViewModel.prototype.dispose.call(this)},execute:function(){if(!ss.staticEquals(this.action,null)){this.action()}},showUberPopup:function(e){if(ss.isValue(this.popupContent)){this.$2();this.popupViewModel=spiff.UberPopupViewModel.createForContent$1(this.popupContent,e,null,true);this.popupViewModel.options=this.$a;if(ss.isValue(this.$2$1)){this.popupViewModel.add_shown(this.$2$1)}if(ss.isValue(this.$2$2)){this.popupViewModel.add_hidden(ss.mkdel(this,this.$4))}this.popupViewModel.show()}},$3:function(){if(ss.isValue(this.popupViewModel)){this.popupViewModel.hide(false)}},$4:function(){this.$2$2();this.$2()},$2:function(){if(ss.isValue(this.popupViewModel)){this.popupViewModel.remove_shown(this.$2$1);this.popupViewModel.remove_hidden(ss.mkdel(this,this.$4));this.popupViewModel.dispose();this.popupViewModel=null}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(gO,a,{createMenu:function(){return this.$d(null)},execute:function(){},dropdownClicked:function(e){var L=this.createMenu();if(!L.menuItems.some(function(hV){return hV.enabled})){return null}var hT=spiff.MenuViewModel.createForMenu(L,hJ.commandMenuItemClicked);hT.add_hidden(ss.mkdel(this,function(){this.set_isActive(false)}));var hU=spiff.ShowMenuOptions.create(e,false,tab.DoubleUtil.roundToInt(e.outerWidth(false)));hU.additionalMenuClass='tabToolbarDropdownMenu '+this.get_iconClass()+'ContextMenu';hT.show(hU);this.set_isActive(true);return hT}},gN,[ss.IDisposable,spiff.IViewModel]);ss.initClass(gP,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(gQ,a,{get_toggleToText:function(){return this.$d},set_toggleToText:function(e){this.$d=e}},gN,[ss.IDisposable,spiff.IViewModel]);ss.initClass(gR,a,{get_dom:function(){return this.get_template()},$n:function(){return this.$3$1},$o:function(e){this.$3$1=e},$s:function(){return this.$3$2},$t:function(e){this.$3$2=e},$q:function(){return this.$3$3},$r:function(e){this.$3$3=e},$p:function(){return this.$C.get_customViewsViewModel()},$v:function(e){this.get_dom().toolbar.toggleClass('horizontalLabels',e);this.get_dom().toolbar.toggleClass('stackedLabels',!e)},$u:function(e){this.get_dom().publicBelowLogo.toggle(e&&!tab.FullscreenUtil.get_inFullscreenMode())},$w:function(e){this.$u(!e);this.get_dom().publicItems.toggleClass('narrow',e)},$m:function(){var e=this.$C.get_shouldShowPublicWatermarkItems();var L=this.$C.get_shouldForceLabelsBelowIcons();var hT=this.$C.get_canPutLabelsUnderneath();var hU=this.get_dom().toolbar.width();var hV=(e?this.$B:0);var hW=this.get_dom().vizItems;var hX=this.get_dom().nonVizItems;this.$v(!L);this.$u(true);this.$w(false);gR.$3(this.$n());gR.$3(this.$q());gR.$3(this.$s());if(tab.FullscreenUtil.get_inFullscreenMode()){gR.$1(hW);gR.$1(hX);this.$u(false);return}if(L){if(this.$d(hU,this.$E,hV,this.$z)){gR.$4(hW);gR.$4(hX)}else{gR.$1(hW);gR.$1(hX)}return}if(this.$d(hU,this.$F,hV,this.$A)&&!L){gR.$4(hW);gR.$4(hX)}else if(this.$d(hU,this.$E,hV,this.$z)&&hT){this.$v(false);gR.$4(hW);gR.$4(hX)}else if(this.$d(hU,this.$D,hV,this.$A)){gR.$1(hW);gR.$4(hX)}else if(this.$d(hU,this.$F,hV,this.$y)){gR.$4(hW);gR.$1(hX)}else{gR.$1(hW);gR.$1(hX);var hY=this.$D;var hZ=this.$y;if(ss.isValue(this.$s())){if(!this.$d(hU,hY,hV,hZ)){this.$s().element.hide();hY-=this.$x}}if(ss.isValue(this.$n())){if(!this.$d(hU,hY,hV,hZ)){this.$n().element.hide();hZ-=this.$x}}if(ss.isValue(this.$q())){if(!this.$d(hU,hY,hV,hZ)){this.$q().element.hide();hZ-=this.$x}}if(!this.$d(hU,hY,hV,hZ)){this.$w(true)}}},$j:function(){this.get_dom().toolbar.height(this.$C.get_toolbarHeight());this.$k();this.$i();this.rebuildPublicItems();this.$h()},$k:function(){this.get_dom().vizItems.empty();this.$t(null);var e=ss.getEnumerator(this.$C.get_vizItems());try{while(e.moveNext()){var L=e.current();var hT=gM.create(L);this.get_dom().vizItems.append(hT.element);if(ss.equalsT('redo',L.get_iconType())){this.$t(hT)}}}finally{e.dispose()}if(tsConfig.is_metrics_enabled){var hU=new gN(tab.Strings.ToolbarShowPerformanceRecording,'tab-icon-performance',ss.mkdel(this.$C,this.$C.showPerformanceMetrics));var hV=gM.create(hU);this.get_dom().vizItems.append(hV.element)}},$i:function(){this.get_dom().nonVizItems.empty();if(!tab.FullscreenUtil.get_inFullscreenMode()){this.$o(null);this.$r(null);var e=ss.getEnumerator(this.$C.get_nonVizItems());try{while(e.moveNext()){var L=e.current();var hT=gM.create(L);this.get_dom().nonVizItems.append(hT.element);if(ss.equalsT('customviews',L.get_iconType())){hT.get_dom().get_text().css('max-width','160px');this.$o(hT)}else if(ss.equalsT('edit',L.get_iconType())){this.$r(hT)}}}finally{e.dispose()}}if(tab.FeatureFlags.isEnabled('VizToolbarFullscreenButton')){if(tab.FullscreenUtil.get_fullscreenEnabled()&&!tsConfig.is_mobile){var hU=(tab.FullscreenUtil.get_inFullscreenMode()?new gN(tab.Strings.ToolbarExitFullscreen,'tab-icon-exitFullscreen',tab.FullscreenUtil.exitFullscreen):new gN(tab.Strings.ToolbarEnterFullscreen,'tab-icon-enterFullscreen',function(){tab.FullscreenUtil.requestFullscreen(document.documentElement)}));var hV=gM.create(hU);this.get_dom().nonVizItems.append(hV.element)}}this.updateCustomViewsButton()},$e:function(e){this.$j()},updateCustomViewsButton:function(){if(ss.isNullOrUndefined(this.$n())){return}var e=this.$p().get_currentCustomViewName();if(ss.isNullOrUndefined(e)){this.$n().element.css('visibility','hidden')}else{this.$n().element.css('visibility','');this.$n().element.toggleClass('tab-customviews-modified',this.$p().get_dirty());if(!ss.equalsT(this.$n().get_toolbarButton().get_label(),e)){this.$n().get_toolbarButton().set_label(e)}}},rebuildPublicItems:function(){if(!this.$C.get_shouldShowPublicWatermarkItems()){this.get_dom().publicItems.hide();return}this.get_dom().publicLogo.empty();this.get_dom().publicBelowLogo.empty();this.$b();this.get_dom().publicLogo.attr('title',tab.Strings.ToolbarAboutTableau);if(this.$C.get_shouldShowViewCount()){this.$c();if(this.$C.get_shouldShowAuthorByLine()){this.$a()}}if(this.$C.get_shouldShowAuthorByLine()){this.$9()}this.get_dom().publicItems.show()},$g:function(){this.rebuildPublicItems();this.$f()},$b:function(){this.get_dom().publicLogo.prop('href',this.$C.get_publicLogoLink());var e=$('<div />');e.addClass('tab-publicLogo');this.get_dom().publicLogo.append(e)},$c:function(){var e=$('<span>').html(this.$C.get_viewCountText());this.get_dom().publicBelowLogo.append(e)},$a:function(){var e=$('<span>');e.addClass('tab-belowPublicDivider');e.html('|');this.get_dom().publicBelowLogo.append(e)},$9:function(){var e=$('<span>').html(this.$C.get_authorProfileLink());this.get_dom().publicBelowLogo.append(e)},$h:function(){this.get_dom().toolbar.width('10000px');gR.$2(this.get_dom().nonVizItems);gR.$3(this.$n());gR.$3(this.$q());gR.$3(this.$s());if(this.$x===0){this.$v(!this.$C.get_shouldForceLabelsBelowIcons());gR.$1(this.get_dom().vizItems);gR.$1(this.get_dom().nonVizItems);this.$D=this.get_dom().vizItems.outerWidth(true);this.$y=this.get_dom().nonVizItems.outerWidth(true);this.$x=ss.coalesce(ss.Int32.trunc(this.get_dom().vizItems.children().first().outerWidth(true)),0)}gR.$4(this.get_dom().vizItems);gR.$4(this.get_dom().nonVizItems);if(this.$C.get_canPutLabelsUnderneath()){this.$v(false);this.$E=this.get_dom().vizItems.outerWidth(true);this.$z=this.get_dom().nonVizItems.outerWidth(true)}if(!this.$C.get_shouldForceLabelsBelowIcons()){this.$v(true);this.$F=this.get_dom().vizItems.outerWidth(true);this.$A=this.get_dom().nonVizItems.outerWidth(true)}if(this.$C.get_shouldShowPublicWatermarkItems()){this.$w(false);this.$B=this.get_dom().publicItems.outerWidth(true)}this.get_dom().toolbar.width('');this.$f()},forceResizeToolbar:function(){this.$f()},$f:function(){var e=tabBootstrap.MetricsController.createContext('TBRHRE'.toString(),64,null);try{var L=this.get_dom().vizItems;var hT=this.get_dom().nonVizItems;if(L.children().length===0&&hT.children().length===0){return}gR.$2(hT);this.$m();gR.$0(hT);this.$l()}finally{if(ss.isValue(e)){e.dispose()}}},$l:function(){var e=ss.getEnumerator(this.$C.get_nonVizItems());try{while(e.moveNext()){var L=e.current();if(ss.isValue(L.popupViewModel)){L.popupViewModel.updatePosition()}}}finally{e.dispose()}},$d:function(e,L,hT,hU){if(L+hT+hU>=e){return false}var hV=Math.max(L,hU)+hT/2>=e/2;if(this.$C.get_shouldShowPublicWatermarkItems()&&hT>0&&hV){return false}return true}},ss.makeGenericType(spiff.BaseView$1,[gS]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[gS])]);ss.initClass(gS,a,{add_newToolbar:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newToolbar:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_viewCountLoaded:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_viewCountLoaded:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_toolbarHeight:function(){return tabBootstrap.ViewerBootstrap.get_instance().get_vizToolbarHeight()},get_shouldShowPublicWatermarkItems:function(){return gS.$0()&&tsConfig.watermarkdisplay},get_shouldShowAuthorByLine:function(){return gS.$0()&&tsConfig.show_byline},get_shouldShowViewCount:function(){return gS.$0()&&tsConfig.showViewCount&&this.$c>tsConfig.viewCountThreshold},get_shouldForceLabelsBelowIcons:function(){return this.get_canPutLabelsUnderneath()&&tsConfig.is_mobile},get_canPutLabelsUnderneath:function(){return this.get_toolbarHeight()>40},get_publicLogoLink:function(){var e=(ss.isValue(tabBootstrap.ViewerBootstrap.get_instance().location)?tabBootstrap.ViewerBootstrap.get_instance().location.toString():'');return tsConfig.watermarklink+'?ref='+e.split('?')[0]},get_authorProfileLink:function(){var e=window.location;var L=ss.formatString('{0}//{1}/profile/app/rdr/repo?workbook={2}',e.protocol,e.hostname,tsConfig.workbook_repo_url);return ss.formatString('<a class="tab-toolbarAuthorByText" target="_blank" href="{0}">{1}</a>',tableau.format.escapeHTML(L),tableau.format.escapeHTML(tab.Strings.ToolbarMoreByAuthor))},get_viewCount:function(){return this.$c},set_viewCount:function(e){this.$c=e;if(this.get_shouldShowViewCount()){this.raiseActionEvent(this.$2$2)}},get_viewCountText:function(){var e=tableau.format.formatIntAuto(this.$c,'t',',','3:0');return tab.Strings.ToolbarViewCount(e)},get_legacyMenuItems:function(){return this.$b.get_legacyMenuItems()},get_vizItems:function(){return this.$d},get_nonVizItems:function(){return this.$a},get_customViewsViewModel:function(){return this.$8},get_forceHideCustomViewsButton:function(){return this.$9},get_useSmallScreenToolbar:function(){var e=window.screen;return e.width<430||e.height<430},dispose:function(){spiff.BaseViewModel.prototype.dispose.call(this);this.$8.dispose();this.$5()},$4:function(e,L){for(var hT=0;hT<e.length;hT++){var hU=e[hT];var hV=tab.CommandItemWrapper.create(hU);tab.Param.verifyValue(hU,'commandItem');switch(hV.get_commandsType()){case'separator':{L.push(gN.createSeparator());break}case'item':{if(gN.shouldShowButton(hV,this)){this.$2(hU,L)}break}case'subcommands':{if(hV.get_iconRes()==='toggle-updates'){var hW={$:this.$3(tab.CommandsPresModelWrapper.create(hV.get_commands()).get_commandItems(),L)};var hX={$:tab.ApplicationModel.get_instance().get_workbook()};hX.$.withDashboard(ss.mkdel({workbook:hX,button:hW},function(){if(this.workbook.$.get_isCurrentSheetStoryboard()){this.button.$.set_enabled(false)}}))}break}}}},$5:function(){for(var e=0;e<this.$d.length;e++){var L=this.$d[e];L.dispose()}ss.clear(this.$d);for(var hT=0;hT<this.$a.length;hT++){var hU=this.$a[hT];hU.dispose()}ss.clear(this.$a)},$7:function(e,L){if(this.$9&&this.$8.get_hasCustomViews()){this.$9=false;this.$6(null)}},$2:function(e,L){var hT=gN.createFromCommandItem(e,'tab-icon-',this);L.push(hT)},$3:function(e,L){if(e.length!==2){return null}var hT=gQ.createFromCommandItems(e[0],e[1],'tab-icon-');if(ss.isValue(hT)){L.push(hT)}return hT},$6:function(e){var L=tabBootstrap.MetricsController.createContext('TBRHNT'.toString(),64,null);try{this.$5();if(tsConfig.toolbarvis){this.$4(this.$b.get_vizCommandItems(),this.$d)}this.$4(this.$b.get_nonVizCommandItems(),this.$a);this.raiseActionEvent(this.$2$1)}finally{if(ss.isValue(L)){L.dispose()}}},isLegacyMenuItemEnabled:function(e){return this.$b.isLegacyMenuItemEnabled(e)},showPerformanceMetrics:function(){tab.CommandController.get().get_legacySession().saveAndOpenMetricsView()},showDialog:function(e){var L=ss.getEnumerator(this.get_nonVizItems());try{while(L.moveNext()){var hT=L.current();if(ss.equalsT(e,hT.get_iconType())){hT.showUberPopup($('.tabToolbarButton.'+e));$('.tab-glass').css('opacity','0.5').css('background-color','black');return}}}finally{L.dispose()}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(gT,a,{add_closed:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_closed:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_prePosition:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_prePosition:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_positionCalculated:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_positionCalculated:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_showed:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_showed:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_positioned:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_positioned:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_isShown:function(){return this.$h},get_body:function(){return this.$f.get_body()},get_location:function(){return this.$l},set_location:function(e){this.move(e)},get_horizontalOffset:function(){return this.$g},set_horizontalOffset:function(e){this.$g=e},get_verticalOffset:function(){return this.$o},set_verticalOffset:function(e){this.$o=e},get_lastLocation:function(){return this.$i},set_lastLocation:function(e){this.$i=e},get_calculatedShownArgs:function(){return this.$e},get_showAbove:function(){return this.$k},set_showAbove:function(e){this.$k=e},setTooltipBodyAndReposition:function(e,L){this.requestLayout(ss.mkdel(this,function(){if(ss.isValue(L)){L()}this.get_body().empty().append(e)}))},isInSafeZone:function(e,L){var hT=this.element.position();var hU=tab.DoubleUtil.roundToInt(this.element.outerWidth());var hV=tab.DoubleUtil.roundToInt(this.element.outerHeight());var hW=10;var hX=10;if(L){hW+=this.get_horizontalOffset();hX+=this.get_verticalOffset()}return e.x>=hT.left-hW&&e.x<=hT.left+hU+hW&&e.y>=hT.top-hX&&e.y<=hT.top+hV+hX},show:function(e,L){if(ss.isNullOrUndefined(L)||this.$n){this.close();return}this.set_lastLocation(L);this.ensureAttachedAndSized();this.$m=true;if(this.get_isShown()){this.setTooltipBodyAndReposition(e)}else{this.get_body().empty().append(e);this.requestLayout()}},move:function(e){if(!this.$h||ss.isNullOrUndefined(e)||ss.isValue(this.$l)&&this.$l.x===e.x&&this.$l.y===e.y){return}this.$i=e;this.requestLayout()},close:function(){this.$m=false;if(!this.$h){return}this.detach();this.$h=false;this.onClosed()},dispose:function(){this.close();if(!tsConfig.is_mobile){$(window).off(this.createNamespacedEventName('resize'))}spiff.Widget.prototype.dispose.call(this)},forceLayout:function(){this.$e=null;this.requestLayout()},requestLayout:function(e,L){if(ss.isValue(e)){this.$j.push(e)}if(ss.isValue(L)){bm.getViewport(ss.mkdel(this,function(hT){this.layoutTooltip(hT,L)}))}else{bm.getViewport(ss.mkdel(this,this.layoutTooltip))}},onShowed:function(){if(ss.isValue(this.$2$4)){this.$2$4()}},onPrePosition:function(){if(ss.isValue(this.$2$2)){this.$2$2()}},onPositionCalculated:function(){if(ss.isValue(this.$2$3)){this.$2$3()}},onPositioned:function(){if(ss.isValue(this.$2$5)){this.$2$5()}},onClosed:function(){if(ss.isValue(this.$2$1)){this.$2$1()}},ensureAttachedAndSized:function(){if(!this.element.parent().is(document.body)){this.element.appendTo(document.body)}},detach:function(){this.element.hide();this.element.detach();this.element.off(this.get_eventNamespace());this.element.find('*').off(this.get_eventNamespace()).removeClass('hover')},$6:function(e,L){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(L)){return null}this.$l=e;var hT=ss.isValue(this.$d)&&e.y>=ss.unbox(this.$d)-16;var hU=tab.DoubleUtil.roundToInt(this.element.height());var hV=tab.DoubleUtil.roundToInt(this.element.width());var hW=L.getVisibleRoom(e,1);var hX;if(!(hW.roomRight>=hV+this.get_horizontalOffset())&&hW.roomRight+hW.roomLeft>=hV+this.get_horizontalOffset()){hX=parseInt(Math.max(0,hW.roomRight-hV).toString())}else{hX=this.get_horizontalOffset()}var hY=hU+this.get_verticalOffset();var hZ=hV+hX;var ia;var ib;if(hW.roomRight>=hZ){ia=true;ib=e.x+hX}else if(hW.roomLeft>=hZ){ia=false;ib=e.x+ss.Int32.trunc(hW.roomRight)-hZ}else{ia=true;ib=Math.max(0,e.x-hZ+ss.Int32.trunc(hW.roomRight))}var ic=(this.get_showAbove()?this.$7(e,hW,hY,hZ):this.$8(e,hW,hY,hZ,hT));var id=ic<=e.y;var ie=new gj;if(id){if(ia){ie.position='AR'}else{ie.position='AL'}}else if(ia){ie.position='BR'}else{ie.position='BL'}ie.shownX=ib;ie.shownY=ic;ie.origX=e.x;ie.origY=e.y;ie.viewport=L;return ie},$c:function(e){if(ss.isValue(e)){var L=this.$9(e.position);if(!this.element.hasClass(L)){this.element.removeClass('tab-tooltipAR tab-tooltipAL tab-tooltipBL tab-tooltipBR');this.element.addClass(L)}this.$e=e}},$a:function(){if(ss.isValue(this.$e)){this.element.css(ss.mkdict(['left',this.$e.shownX+'px','top',this.$e.shownY+'px']))}},$9:function(e){var L;switch(e){case'AR':{L='tab-tooltipAR';break}case'AL':{L='tab-tooltipAL';break}case'BL':{L='tab-tooltipBL';break}case'BR':default:{L='tab-tooltipBR';break}}return L},layoutTooltip:function(e,L){this.element.css(ss.mkdict(['top','0','left','0']));if(L){var hT=this.$6(this.get_lastLocation(),e);if(ss.isNullOrUndefined(hT)){return}this.$c(hT);this.$a()}else{for(var hU=0;hU<this.$j.length;hU++){var hV=this.$j[hU];hV()}ss.clear(this.$j);this.onPrePosition();var hW=this.$6(this.get_lastLocation(),e);if(!this.$b(hW)){this.$a();return}this.$c(hW);this.onPositionCalculated();if(this.$m){this.$m=false;this.element.show();this.$h=true;this.onShowed()}this.$a();this.onPositioned()}},$b:function(e){if(ss.isNullOrUndefined(e)){return false}if(this.$m){return true}if(gj.areShownArgsSame(e,this.$e)){return false}return true},$8:function(e,L,hT,hU,hV){var hW;if(!hV&&L.roomBelow>=hT){hW=e.y+this.get_verticalOffset();this.$d=null}else if(!hV&&L.roomAbove>=hT&&L.roomRight>=hU){hW=e.y+(ss.Int32.trunc(L.roomBelow)-hT+this.get_verticalOffset())}else if(L.roomAbove>=hT){hW=e.y-hT;if(!ss.isValue(this.$d)){this.$d=e.y}}else{hW=Math.max(0,e.y-ss.Int32.trunc(L.roomAbove))}return hW},$7:function(e,L,hT,hU){var hV;if(L.roomAbove>=hT){hV=e.y-hT;if(!ss.isValue(this.$d)){this.$d=e.y}}else if(L.roomBelow>=hT){hV=e.y+this.get_verticalOffset();this.$d=null}else if(L.roomAbove>=hT&&L.roomRight>=hU){hV=e.y+(ss.Int32.trunc(L.roomBelow)-hT+this.get_verticalOffset())}else{hV=Math.max(0,e.y-ss.Int32.trunc(L.roomAbove))}return hV},setSuppressTooltip:function(e){this.$n=e;if(this.$n&&this.$h&&!this.isInSafeZone(this.get_lastLocation(),false)){this.close()}}},spiff.Widget,[spiff.IAppendableView,ss.IDisposable,dQ]);ss.initClass(gV,a,{add_tooltipClosed:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_tooltipClosed:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_mouseExitedTooltip:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_mouseExitedTooltip:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_ubertipUpdated:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_ubertipUpdated:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_ubertipActionExecuted:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_ubertipActionExecuted:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},add_ubertipCommandExecuted:function(e){this.$1$5=ss.delegateCombine(this.$1$5,e)},remove_ubertipCommandExecuted:function(e){this.$1$5=ss.delegateRemove(this.$1$5,e)},get_isTooltipShown:function(){return this.$i.get_isShown()},get_tooltip:function(){return this.$i},get_ubertip:function(){return this.$j},get_currentBehavior:function(){return this.$2(this.get_currentBehaviorType())},get_currentBehaviorType:function(){return this.$e},get_defaultBehaviorType:function(){return this.$f},get_ubertipShouldEnforceButtonOrdering:function(){return false},get_currentTooltipMode:null,get_multiSelectCompleteBehavior:function(){return'sticky'},get_hasContextProvider:function(){return ss.isValue(this.$d)},$c:function(){return ss.mkdel(this,function(){this.$3()})},get_testUseOnlyLastHoveredObjectID:function(){return gV.$4},set_testUseOnlyLastHoveredObjectID:function(e){gV.$4=e},close:function(){this.$i.close()},hoverOverObject:function(e,L,hT,hU,hV,hW,hX,hY){if(!this.readyForHover){return}if(ss.isNullOrUndefined(hU)){return}var hZ=this.getHoverBehavior(hX);this.switchTooltipMode(hZ);var ia=ss.referenceEquals(hU.toString(),gV.$4);var ib=ss.mkdel(this,function(){var id=hY==='viz'&&this.isVizTooltipCurrentlyEmpty();this.get_currentBehavior().hoverOverObject(e,hV,id,ia)});if(hX==='mark'&&tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&ss.isValue(hW)&&!this.shouldForceRemoteTooltipForObject(hX,hU)){if(ia){ib()}else{var ic=this.getAffectedObjects('mark',hU);this.runBehaviorWithLocalUbertip(ib,hU,ic,L,hT,hW,hY,hX,'on-hover')}}else{this.runBehaviorWithRemoteUbertip(ib,{x:hT.x,y:hT.y,w:0,h:0},hY,'on-hover',hX)}},hoverOverWhitespace:function(e,L){if(!this.readyForHover){return}var hT='W'===gV.$4;this.get_currentBehavior().hoverOverWhitespace(e);if(this.get_currentBehavior().isHoverAllowed(e)){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||!hT&&this.needRemoteCommand(L,'whitespace','on-hover',0)){gV.$4='W';this.runBehaviorWithRemoteUbertip(null,{x:-1,y:-1,w:0,h:0},L,'on-hover','whitespace')}}else if(this.$i.get_isShown()){gV.$4='W';this.$i.close()}},hoverOverHeader:function(e,L,hT,hU,hV){if(!this.readyForHover){return}var hW=hV.length>0&&tab.ActionUtils.getApplicableActions(this.visualId.AVP,'on-hover','url',hU).length>0;if(hW){var hX=!ss.referenceEquals(hV.toString(),gV.$4);this.hoverOverCoordinates(e,L,hT,hU,hV,hX)}else{this.hoverOverCoordinates(e,L,hT,hU)}},hoverOverCoordinates:function(e,L,hT,hU,hV,hW){if(!this.readyForHover){return}gV.$4=(ss.isValue(hV)?hV.toString():'U');var hX=this.getHoverBehavior(hT);this.switchTooltipMode(hX);var hY=ss.mkdel(this,function(){var hZ=hU==='viz'&&this.isVizTooltipCurrentlyEmpty();this.get_currentBehavior().hoverOverObject(e,false,hZ,false)});this.runBehaviorWithRemoteUbertip(hY,{x:L.x,y:L.y,w:0,h:0},hU,'on-hover',hT,hV,hW)},singleSelectComplete:function(e,L,hT,hU,hV,hW,hX){var hY=this.getSingleSelectBehavior(hW);this.switchTooltipMode(hY);this.suppressHoverIfNecesary();var hZ=this.getSingleSelectBehaviorCallback(e);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&hW==='mark'){var ia=this.getAffectedObjects(hW,hU);this.runBehaviorWithLocalUbertip(hZ,hU,ia,L,hT,hV,hX,hW,'on-select')}else{var ib={x:hT.x,y:hT.y,w:0,h:0};this.runBehaviorWithRemoteUbertip(hZ,ib,hX,'on-select',hW)}},singleSelectCoordinates:function(e,L,hT,hU){var hV=this.getSingleSelectBehavior(hU);this.switchTooltipMode(hV);var hW=ss.mkdel(this,function(){this.get_currentBehavior().singleSelectComplete(e);if(this.get_tooltip().get_isShown()){this.triggerUbertipButtonUpdate()}});this.runBehaviorWithRemoteUbertip(hW,{x:L.x,y:L.y,w:0,h:0},hT,'on-select',hU)},multiSelectComplete:function(e,L,hT){this.switchTooltipMode(this.get_multiSelectCompleteBehavior());this.suppressHoverIfNecesary();var hU=ss.mkdel(this,function(){this.get_currentBehavior().multiSelectComplete(e);gV.$4='U';if(this.get_tooltip().get_isShown()){this.triggerUbertipButtonUpdate()}});this.runBehaviorWithRemoteUbertip(hU,L,hT,'on-select','unspecified')},selectionMoved:function(e){this.get_currentBehavior().selectionMoved(e)},repositionWithinRegion:function(e){this.get_currentBehavior().repositionWithinRegion(e)},onTap:function(){},onScroll:function(){this.get_currentBehavior().onScroll()},onMoving:function(){},onDragEnd:function(e){},onPanOrDragStart:function(e){this.get_currentBehavior().onPanningOrDragging()},onPinchEnd:function(e){},onPress:function(){},onMouseLeaveTheView:function(){gV.$4='U'},dispose:function(){if(ss.keyExists(this.tooltipBehaviors,this.get_currentBehaviorType())){this.tooltipBehaviors[this.get_currentBehaviorType()].detach()}this.disposables.dispose();this.get_tooltip().get_body().off('mouseleave.basemode');this.get_tooltip().dispose();this.get_tooltip().remove_closed(ss.mkdel(this,this.$5));this.get_tooltip().remove_prePosition(ss.mkdel(this,this.$0));this.get_tooltip().remove_showed(ss.mkdel(this,this.$0));this.get_ubertip().remove_commandExecuted(ss.mkdel(this,this.$9));this.get_ubertip().remove_actionExecuted(ss.mkdel(this,this.$8));this.$j.remove_ubertipMenuToggled(ss.mkdel(this,this.$b));this.$j.remove_ubertipMenuClosed(ss.mkdel(this,this.$a));this.get_ubertip().dispose()},shownTooltipIsStatic:function(){return this.get_currentBehavior().shownTooltipIsSticky()},isHoverAllowed:function(e){return this.get_currentBehavior().isHoverAllowed(e)},clearTooltipWithFakeHover:function(){if(!this.get_tooltip().get_isShown()||ss.isNullOrUndefined(this.get_tooltip().get_lastLocation())||!this.get_tooltip().isInSafeZone(this.get_tooltip().get_lastLocation(),false)){this.hoverOverWhitespace({x:-1,y:-1},'viz')}},suppress:function(e){this.$i.setSuppressTooltip(e);this.readyForHover=!e},buildBehaviorsDictionary:null,getSingleSelectBehaviorCallback:null,getSingleSelectBehavior:function(e){return this.$f},getHoverBehavior:function(e){return this.$f},shouldForceRemoteTooltipForObject:function(e,L){if(tab.ApplicationModel.get_instance().get_dataDictionary().get_isEmpty()&&tab.FeatureFlags.isEnabled('HybridRenderMode')){return true}return false},suppressHoverIfNecesary:function(){this.readyForHover=false},onBehaviorSwitch:function(){},modelUpdateCallback:function(e){gV.$0=e.tupleId;if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&this.get_currentBehaviorType()==='smooth'&&ss.isValue(e.markBounds)){this.get_currentBehavior().serverMarkBounds=e.markBounds}this.$i.setTooltipBodyAndReposition(this.get_ubertip().element,ss.mkdel(this,function(){var L=ss.isValue(e)&&e.tupleId===0;if(!L&&!ss.referenceEquals(e.tupleId,gV.$0)){return}var hT=this.$j.get_model();this.updateTooltipFromModel(e);this.updateUbertipFromModel(e);if(ss.isValue(this.$1$3)){this.$1$3(e)}if(ss.isValue(hT)&&hT.rid===e.rid){this.get_ubertip().updatePartiallyFromRemote(hT)}}))},updateModelFromServerResponse:function(e){this.get_ubertip().updatePartiallyFromRemote(e)},updateUbertipFromModel:function(e){e.tooltipOffset=(ss.isValue(this.$j.get_model())?this.$j.get_model().tooltipOffset:null);if(!_.isEqual(e,this.$j.get_model())){this.$j.set_model(e)}},updateTooltipFromModel:function(e){this.get_tooltip().tupleId=e.tupleId;if(ss.isValue(e.interactedTupleId)){this.get_tooltip().interactedTupleId=e.interactedTupleId}else{}if(ss.isValue(e.tooltipOffset)){if(ss.isValue(e.tooltipOffset.x)){this.get_tooltip().set_horizontalOffset(16+e.tooltipOffset.x)}if(ss.isValue(e.tooltipOffset.y)){this.get_tooltip().set_verticalOffset(16+e.tooltipOffset.y)}}else{this.get_tooltip().set_horizontalOffset(16);this.get_tooltip().set_verticalOffset(16)}},switchTooltipMode:function(e){if(this.get_currentBehaviorType()===e){return false}var L=this.get_currentBehavior();L.detach();var hT=this.$2(e);hT.attach();this.$e=e;this.onBehaviorSwitch();return true},prepareForPositioning:function(){this.$j.prepareForPositioning(this.shouldShowCommandButtons()&&this.$j.hasActionsOrSummaryOrCommands())},triggerUbertipButtonUpdate:function(){if(this.shouldShowCommandButtons()&&this.get_ubertip().hasActionsOrSummaryOrCommands()&&this.$j.get_isShowingActionAndCommandButtons()){return}this.$i.forceLayout()},handleUbertipButtons:function(){if(this.shouldShowCommandButtons()&&this.get_ubertip().hasActionsOrSummaryOrCommands()){this.$j.showMenuActionsAndCommandButtons()}else{this.$j.hideMenuActionsAndCommandButtons(true)}},shouldShowCommandButtons:function(){return this.get_currentBehavior().shouldShowCommandButtons()},shouldAddCommandButtonsAndActions:function(){return true},isVizTooltipCurrentlyEmpty:function(){return ss.isValue(this.get_ubertip().get_model())&&tab.MiscUtil.isNullOrEmpty$1(this.get_ubertip().get_model().tooltipHtml)},getAffectedObjects:function(e,L){var hT=null;if(this.get_hasContextProvider()){if(ss.contains(this.$d.getSelectedObjects(e),L)){hT=this.$d.getSelectedObjects(e)}else{hT=[L]}}return hT},isCurrentObjectSelected:function(){if(ss.isNullOrUndefined(this.$j.get_model())){return false}var e=this.$j.get_model();var L=((this.get_hasContextProvider()&&ss.isValue(e.interactedTupleId))?this.$d.isMarkSelected(ss.unbox(e.interactedTupleId)):e.tupleSelected);if(L){return true}var hT=e.refLineSelected||e.trendLineSelected;if(hT){return true}var hU=e.imageRegion;var hV=hU==='bottomaxis'||hU==='leftaxis'||hU==='rightaxis'||hU==='topaxis';if(hV){return true}var hW=hU==='xheader'||hU==='yheader';return hW},runBehaviorWithLocalUbertip:function(e,L,hT,hU,hV,hW,hX,hY,hZ){gV.$3+=1;gV.$1=this.visualId;var ia=gV.$3;var ib=ss.mkdel(this,function(ie){if(!this.$4(ia.toString())){if(!ss.referenceEquals(this.visualId,gV.$1)){this.readyForHover=true}return}if(ss.isValue(ie)){ie.rid=ia;this.modelUpdateCallback(ie);gV.$4=L.toString();if(hX==='viz'&&ie.isExplicitlyEmpty){this.$1();return}if(ss.isValue(e)){e()}}});var ic=new tab.LocalUbertipInfo([L],hT,hW,false);if(this.needRemoteCommand(hX,hY,hZ,L)){var id=ss.mkdel(this,function(ie){if(!this.$4(ia.toString())||!ss.isValue(ie)){return}ie.rid=ia;this.updateModelFromServerResponse(ie)});tab.UberTipClientCommands.localAndRemoteUberTipCommand(hU,hX,this.visualId,{x:hV.x,y:hV.y,w:0,h:0},L,ic,ib,id,this.$c(),hZ)}else{tab.UberTipClientCommands.localOnlyUbertipCommand(hU,this.visualId,ic,ib)}},runBehaviorWithRemoteUbertip:function(e,L,hT,hU,hV,hW,hX){gV.$3+=1;gV.$1=this.visualId;var hY=gV.$3;var hZ=ss.mkdel(this,function(ia){if(!this.$4(hY.toString())){if(!ss.referenceEquals(this.visualId,gV.$1)){this.readyForHover=true}return}if(ss.isValue(ia)){ia.rid=hY;this.modelUpdateCallback(ia);if(hT==='viz'&&ia.isExplicitlyEmpty){this.$1();return}if(ss.isValue(e)){e()}}else{this.$1();gV.$4=(ss.isValue(hW)?hW.toString():((hV==='whitespace')?'W':'U'))}});tab.UberTipClientCommands.remoteOnlyUbertipCommand(hT,this.visualId,L,hZ,this.$c(),hU,hW,hX)},needRemoteCommand:function(e,L,hT,hU){if(tsConfig.is_authoring||!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||e!=='viz'||L!=='mark'&&L!=='whitespace'||hT!=='on-hover'||tab.ApplicationModel.get_instance().get_dataDictionary().get_isEmpty()&&tab.FeatureFlags.isEnabled('HybridRenderMode')||this.$g>0){return true}var hV=ss.isValue(this.$d);var hW=hV&&this.$d.isMarkSelected(hU);return!hV||hW},$3:function(){this.get_ubertip().handleRemoteFailure();this.readyForHover=true},$1:function(){this.$i.close();this.readyForHover=true},$0:function(e,L){if(this.get_isTooltipShown()){this.readyForHover=true}},$2:function(e){return this.tooltipBehaviors[e]},$5:function(){this.readyForHover=true;if(ss.isValue(this.$1$1)){this.$1$1()}},$8:function(e,L){this.get_tooltip().close();if(ss.isValue(this.$1$4)){this.$1$4(e,L)}},$9:function(e,L){this.get_tooltip().close();if(ss.isValue(this.$1$5)){this.$1$5(e,L)}},$b:function(e){this.$h=e;this.get_currentBehavior().handleUbertipMenuToggle(e)},$a:function(){this.$h=false;this.get_currentBehavior().handleUbertipMenuClose()},$6:function(){this.$i.close()},$4:function(e){if(ss.isValue(e)&&!ss.referenceEquals(gV.$3.toString(),e)){return false}return true},$7:function(e){if(!this.get_tooltip().get_isShown()||!ss.isValue(this.$1$2)||this.$h){return}var L=tab.DomUtil.getRectXY(this.get_tooltip().get_body());if(L.x>e.pageX||L.x+L.w<=e.pageX||L.y>e.pageY||L.y+L.h<=e.pageY){this.$1$2({x:e.pageX,y:e.pageY})}}});ss.initClass(gU,a,{get_currentTooltipMode:function(){return'sticky'},onTap:function(){this.get_tooltip().close()},onPress:function(){this.get_tooltip().close()},getSingleSelectBehaviorCallback:function(e){return ss.mkdel(this,function(){this.get_currentBehavior().singleSelectComplete(e)})},shouldForceRemoteTooltipForObject:function(e,L){if(tab.ApplicationModel.get_instance().get_dataDictionary().get_isEmpty()&&tab.FeatureFlags.isEnabled('HybridRenderMode')){return true}var hT=this.getAffectedObjects(e,L);return e==='mark'&&ss.isValue(hT)&&hT.length>1}},gV);ss.initEnum(gW,a,{unspecified:'unspecified',sticky:'sticky',smooth:'smooth',disabled:'disabled'},true);ss.initClass(gX,a,{getSelectedObjects:function(e){if(e==='mark'){return this.$0.tupleSelection.get_ids()}else{return null}},isMarkSelected:function(e){return this.$0.tupleSelection.isObjectSelected(e)}});ss.initClass(gY,a,{get_multiSelectCompleteBehavior:function(){return'disabled'},get_currentTooltipMode:function(){return'none'},getSingleSelectBehaviorCallback:function(e){return function(){}},buildBehaviorsDictionary:function(){var e=new cx;this.tooltipBehaviors['disabled']=e},suppressHoverIfNecesary:function(){}},gV);ss.initClass(gZ,a,{get_ubertipShouldEnforceButtonOrdering:function(){return true},get_currentTooltipMode:function(){return'smooth'},dispose:function(){var e=this.tooltipBehaviors['smooth'];e.remove_onMouseStop(ss.mkdel(this,this.$p));this.get_tooltip().remove_prePosition(ss.mkdel(this,this.prepareForPositioning));this.get_tooltip().remove_positionCalculated(ss.mkdel(this,this.handleUbertipButtons));this.get_tooltip().remove_showed(ss.mkdel(this,this.handleUbertipButtons));this.get_tooltip().remove_closed(ss.mkdel(this,this.$q));this.$l();gV.prototype.dispose.call(this)},buildBehaviorsDictionary:function(){var e=spiff.ObjectRegistry.newLegacyTooltipBehavior(ea).call(null,ea,this.get_tooltip());var L=new gq(this.get_tooltip());this.tooltipBehaviors['sticky']=e;this.tooltipBehaviors['smooth']=L},getSingleSelectBehaviorCallback:function(e){return ss.mkdel(this,function(){this.get_currentBehavior().singleSelectComplete(e);if(this.get_tooltip().get_isShown()){this.triggerUbertipButtonUpdate()}if(!this.isCurrentObjectSelected()){this.switchTooltipMode('smooth');this.$m()}})},shouldShowCommandButtons:function(){var e=gV.prototype.shouldShowCommandButtons.call(this);var L=this.get_ubertip().get_model();if(!e||ss.isNullOrUndefined(L)){return e}var hT=L.tupleId===0;if(!hT){e=this.isCurrentObjectSelected()}return e},getSingleSelectBehavior:function(e){return'sticky'},getHoverBehavior:function(e){var L=this.get_defaultBehaviorType();if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(e==='header'||e==='visualparts'){L='sticky'}else if(e==='mark'){L='smooth'}else{}}else if(e==='header'){L='sticky'}else{L='smooth'}return L},onPanOrDragStart:function(e){this.$l();gV.prototype.onPanOrDragStart.call(this,e)},onDragEnd:function(e){this.get_tooltip().close();this.$k();gV.prototype.onDragEnd.call(this,e)},onBehaviorSwitch:function(){if(this.get_currentBehaviorType()==='smooth'){this.$k()}else{this.$l()}},$q:function(){this.get_ubertip().hideMenuActionsAndCommandButtons(true)},$n:function(e){if(this.readyForHover&&this.get_currentBehaviorType()==='smooth'&&this.get_isTooltipShown()){this.get_currentBehavior().onMouseMove(e)}},$o:function(e){if(this.get_currentBehaviorType()==='sticky'&&this.get_tooltip().isInSafeZone({x:e.pageX,y:e.pageY},false)){return}if(this.get_isTooltipShown()){this.get_tooltip().close()}},$p:function(e){if(ss.isNullOrUndefined(this.get_ubertip().get_model())){return}var L=false;var hT=this.isCurrentObjectSelected();if(hT){L=this.switchTooltipMode('sticky')}this.$m();if(L&&this.get_tooltip().get_isShown()){this.triggerUbertipButtonUpdate()}},$m:function(){if(!this.get_tooltip().get_isShown()&&ss.isValue(this.get_tooltip().get_lastLocation())&&this.get_currentBehaviorType()==='sticky'&&this.isVizTooltipCurrentlyEmpty()&&this.get_ubertip().hasActionsOrSummaryOrCommands()){this.get_tooltip().show(this.get_tooltip().get_body().children()[0],this.get_tooltip().get_lastLocation())}else if(this.get_tooltip().get_isShown()&&this.get_currentBehaviorType()==='smooth'&&this.isVizTooltipCurrentlyEmpty()){this.get_tooltip().close()}},$k:function(){if(this.$r){return}this.$s.on(this.$t,ss.mkdel(this,this.$n));this.$s.on(this.$u,ss.mkdel(this,this.$o));this.$r=true},$l:function(){if(!this.$r){return}this.$s.off(this.$t);this.$s.off(this.$u);this.$r=false}},gV);ss.initClass(ha,a,{get_body:function(){return this.getElementBySelector('.tab-tooltipContent')}},spiff.Template,[ss.IDisposable]);ss.initEnum(hb,a,{hover:0,click:1,dragSelect:2});ss.initClass(hc,a,{add_notifyChangeCalled:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_notifyChangeCalled:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},_createTreeNode:function(e){e['isChecked']=this.model.isChecked(e['item']);var L=new tableau.base.widget.hsm._TreeNode(e);e['item'].node=L;return L},$0:function(e){return this.model.mayHaveChildren(e)},getIconClass:function(e,L){return'HFTreeNodeIcon'},getLabelClass:function(e,L){var hT=(this.model.isSingleSelect?'HFTreeNodeLabelSS':'HFTreeNodeLabel');hT+=(e.isRaggedOrSkipped?' HFTreeNodeRaggedOrSkipped':'');return hT},focusNode:function(e){var L=$(e.labelNode);var hT=L.attr('tabindex');if(!!hT){L.removeAttr('tabindex')}this.inherited(arguments);if(!!hT){L.attr('tabindex',hT)}},notifyChange:function(e){if(ss.isValue(this.$3$1)){this.$3$1(e)}},getDepth:function(e){var L=0;while(!ss.referenceEquals(e,this.rootNode)){L+=1;e=e.getParent()}return L},findEarlierNode:function(e,L,hT){return this.rEarlierContained(this.rootNode,0,e,L,hT)},rEarlierContained:function(e,L,hT,hU,hV){if(L>hV){return null}else if(L<hV){var hW=e.getChildren();var hX=hW.length;for(var hY=0;hY<hX;hY++){var hZ=this.rEarlierContained(hW[hY],L+1,hT,hU,hV);if(ss.isValue(hZ)){return hZ}}}else{if(ss.referenceEquals(e,hT)){return hT}if(ss.referenceEquals(e,hU)){return hU}return null}return null}},dijit.Tree);ss.initClass(hd,a,{dispose:function(){this.$1.dispose();this.$1=null},destroy:function(e){this.dispose();this.inherited(arguments)},updateCheckState:function(){this.isChecked=this.tree.model.isChecked(this.item);var e=$(this.labelNode).find('input');e.prop('checked',this.isChecked)},setLabelNode:function(e){this.isChecked=this.tree.model.isChecked(this.item);var L=(this.isChecked?" checked='checked'":'');var hT='<input type=';if(this.tree.model.isSingleSelect){var hU=this.tree.model.field;if(ss.isValue(this.tree.model.session)){hU+=this.tree.model.session.get_viewId()}hT+="'radio' name='FI_"+hU+"'"+L+'/>'+"<div class='fakeRadio'></div>"}else{hT+="'checkbox'"+L+'/>'+"<div class='fakeCheckBox'></div>"}hT+="<a title='"+e+"'>"+e+'</a>';this.labelNode.innerHTML=hT;if(ss.isValue(this.$1)){this.$1.dispose()}this.$1=new tab.DisposableHolder;this.$1.add$1(spiff.EventUtil.bindWithDispose($(this.labelNode.firstChild),'click',ss.mkdel(this,this.$0)))},$0:function(e){this.isChecked=this.labelNode.firstChild.checked;this.tree.notifyChange(e);e.stopPropagation()}},dijit._TreeNode,[ss.IDisposable]);ss.initClass(he,a,{$0:function(e){var L=e.t;if(tab.MiscUtil.isNullOrEmpty(L)){return false}var hT=L[L.length-1];var hU=hT.s;var hV='r';var hW='s';return ss.referenceEquals(hU,hV)||ss.referenceEquals(hU,hW)},itemsFromTable:function(e,L){var hT=[];var hU=(ss.isValue(e.table)?e.table.tuples:null);if(ss.isNullOrUndefined(e.table)){return hT}for(var hV=0;hV<hU.length;hV++){var hW=tableau.format.formatTupleDisplayName(hU[hV]);var hX=null;if(!!e.children){hX=this.itemsFromTable(e.children[hV],L+1)}var hY=new Object;hY.id=tableau.format.formatTupleUniqueName(hU[hV]);hY.schema=e.table.schema;hY.tuple=hU[hV];hY.label=hW;hY.level=L;hY.children=hX;hY.isRaggedOrSkipped=this.$0(hU[hV]);hT.push(hY)}return hT},$1:function(e){var L=e.node;L.updateCheckState();if(ss.isValue(e.node2)){e.node2.updateCheckState()}},onChildrenChange:function(e,L){e.children=L},getIdentity:function(e){return e.id},getLabel:function(e){return e.label},isChecked:function(e){return e.tuple.s},mayHaveChildren:function(e){return e.level+1<this.levels},getRoot:function(e,L){e(this.root)},getChildren:function(e,L,hT){if(ss.isValue(e.children)||ss.referenceEquals(e,this.root)){L(e.children)}else{var hU=ss.mkdel(this,function(hW){if(!!!hW[0].table){e.children=null}else{e.children=this.itemsFromTable(hW[0],e.level+1)}L(e.children)});var hV=new Object;hV.schema=e.schema;hV.tuples=[e.tuple];this.session.requestHSMChildren(this.field,hV,hU,hT)}},refresh:function(e){this.$2(this.root,e)},$2:function(e,L){if(tab.MiscUtil.isNullOrEmpty(e.children)){return}this.$3(e.children,L[0].table);_.each(e.children,ss.mkdel(this,function(hT,hU){if(!!hT.children){if(ss.isValue(L[0].children)&&hU<L[0].children.length){this.$2(hT,[L[0].children[hU]])}else{var hV=ss.mkdel(this,function(hX){this.$2(hT,hX)});var hW=new Object;hW.schema=hT.schema;hW.tuples=[hT.tuple];this.session.requestHSMChildren(this.field,hW,hV,null)}}}))},$3:function(e,L){var hT=L.tuples;for(var hU=0;hU<hT.length;hU++){if(e[hU].tuple.s!==hT[hU].s){e[hU].tuple.s=hT[hU].s;this.$1(e[hU])}}return e}});ss.initClass(hf,a,{instantiate:function(e,L,hT,hU,hV,hW,hX,hY,hZ){this.$j=e;this.$s=L;this.$i=hT;this.$w=hW;if(ss.isNullOrUndefined(this.$j)){this.$j=''}this.div.innerHTML="<div id='typein_"+tableau.format.escapeHTML(L)+"'"+"class='TypeInDiv tab-ctrl-formatted-fixedsize tab-ctrl-formatted-border tab-ctrl-formatted-darker-border-hover'>"+"<span class='TypeInQuerySpan'><input type='text' class='QueryBox' value='"+tableau.format.escapeHTML(this.$j)+"'/></span>"+"<span class='goButton' style='display:none'></span></div>";this.outerDiv=this.div.firstChild;this.querySpan=this.outerDiv.childNodes[0];this.queryBox=this.querySpan.childNodes[0];this.goButton=this.outerDiv.childNodes[1];var ia=function(ie){ie.stopPropagation()};var ib=$(this.queryBox);this.$o.add$1(spiff.EventUtil.bindWithDispose(ib,'keydown',ss.mkdel(this,this.$7)));this.$o.add$1(spiff.EventUtil.bindWithDispose(ib,'keyup',ss.mkdel(this,this.$8)));this.$o.add$1(spiff.EventUtil.bindWithDispose(ib,'blur',ss.mkdel(this,this.onInputBlur)));this.$o.add$1(spiff.EventUtil.bindWithDispose(ib,'focus',ss.mkdel(this,this.onQueryBoxFocus)));this.$o.add$1(spiff.EventUtil.bindWithDispose(ib,'click',ss.mkdel(this,this.$9)));this.$o.add$1(spiff.EventUtil.bindWithDispose(ib,'mousedown',ia));this.$o.add$1(spiff.EventUtil.bindWithDispose(ib,'mousemove',ia));var ic=$(this.goButton);this.$o.add$1(spiff.EventUtil.bindWithDispose(ic,'mousedown',ss.mkdel(this,this.$4)));this.$o.add$1(spiff.EventUtil.bindWithDispose(ic,'click',ss.mkdel(this,this.$3)));this.$o.add$1(spiff.EventUtil.bindWithDispose(ic,'mouseenter',ss.mkdel(this,this.$5)));this.$o.add$1(spiff.EventUtil.bindWithDispose(ic,'mouseleave',ss.mkdel(this,this.$6)));var id=ss.mkdel(this,function(ie,ig){if(this.$a()&&!this.isInsideWidget(ie)){this.setNewPattern();this.queryBox.blur()}});spiff.GlobalTouchWatcher.add_firstTouch(id);this.$o.add$1(new tab.CallOnDispose(function(){spiff.GlobalTouchWatcher.remove_firstTouch(id)}));this.$t=false;this.$b()},isInsideWidget:function(e){return tab.DomUtil.isEqualOrAncestorOf(this.outerDiv,e.target)},destroy:function(){this.dispose()},dispose:function(){this.$o.dispose()},layout:function(){},editableValue:function(){return tableau.format.formatDataValue(this.$i,null,tableau.format.deriveNumberEditingFormat(this.$w),null,2)},setNewState:function(e,L,hT,hU,hV){this.$j=e;this.queryBox.value=e;if(ss.isValue(hT)){this.$i=hT}else if(ss.isValue(this.$i)){var hW=this.$i;this.$i=new Object;this.$i.s='n';this.$i.t=hW.t}this.$e();this.$q=L||[];this.$n=''},$g:function(){return tab.LegacyFilterModel.isNormalValue(this.$i)&&!this.$l},$2:function(e,L){this.$n='';this.$l=true;this.$q=e||[];this.$m=L},$c:function(e){this.clearTimeout();this.$k=window.setTimeout(e,500)},clearTimeout:function(){this.$k=tab.MiscUtil.clearTimeout(this.$k)},$h:function(){if(!this.$l){return}if(tab.MiscUtil.isNullOrEmpty$1(this.queryBox.value)){return}if(this.$n.toLowerCase().indexOf(this.queryBox.value.toLowerCase())===0){this.onAutocompleteDone(this.$n);return}if(this.$q.length>0){var e=this.queryBox.value.toLowerCase();var L=this.$q.length;for(var hT=0;hT<L;hT++){if(this.$q[hT].toLowerCase().indexOf(e)===0){this.onAutocompleteDone(this.$q[hT]);return}}}else if(ss.isValue(this.$m)){this.$c(ss.mkdel(this,function(){this.$m(this.queryBox.value,ss.mkdel(this,this.onAutocompleteDone),this.$s)}))}},onAutocompleteDone:function(e){var L=e;if(tab.MiscUtil.isNullOrEmpty$1(L)){return}this.$n=L;var hT=this.queryBox.value;this.queryBox.value=L;hf.selectText(this.queryBox,hT.length,L.length)},onQueryBoxFocus:function(e){this.queryBox.isFocused=true;if(this.$g()){this.queryBox.value=this.editableValue();this.$r=true}},$9:function(e){if(this.queryBox.isFocused){this.queryBox.select()}this.queryBox.isFocused=false},$5:function(e){$(this.goButton).addClass('Hover')},$6:function(e){$(this.goButton).removeClass('Hover')},$a:function(){if(this.$r&&this.$g()){return!ss.referenceEquals(this.editableValue(),this.queryBox.value)}else{return!ss.referenceEquals(this.$j,this.queryBox.value)}},$f:function(){var e=((this.$x==='TypeIn')?this.$a():!ss.isNullOrEmptyString(this.queryBox.value));if(e){this.$d()}else{this.$e()}},$d:function(){$(this.goButton).css('display','');$(this.goButton).addClass(this.$x+'Active');$(this.querySpan).addClass('ShortQuerySpan')},$e:function(){$(this.querySpan).removeClass('ShortQuerySpan');$(this.goButton).removeClass(this.$x+'Active');$(this.goButton).css('display','none')},onInputBlur:function(e){this.queryBox.isFocused=false;if(!this.$t&&!this.$u){this.setNewPattern()}this.$u=false},$4:function(e){this.$t=true},$3:function(e){this.$0();this.$t=false},$1:function(e){this.$b();if(tab.BrowserSupport.get_isFF()){window.setTimeout(ss.mkdel(this,this.$b),10)}this.$f();spiff.EventUtil.stopEvent(e)},$7:function(e){if(e.which===27){this.$1(e)}this.$v=e.which},$8:function(e){switch(e.which){case 13:{this.clearTimeout();this.setNewPattern();this.queryBox.blur();spiff.EventUtil.stopEvent(e);break}case 27:{this.clearTimeout();this.$1(e);this.$u=true;this.queryBox.blur();break}case 8:case 46:{this.clearTimeout();this.$f();break}case 16:{this.$f();break}default:{if(this.$v===e.which){this.$h();this.$f()}break}}},setPattern:function(e){this.queryBox.value=e;this.clearTimeout();this.setNewPattern();this.queryBox.blur()},setNewPattern:function(){if(this.$a()){this.$p(this.queryBox.value);if(!this.$g()){this.setNewState(this.queryBox.value)}}else if(this.$g()){this.$b()}this.$r=false},$b:function(){this.queryBox.value=this.$j;this.$r=false;this.$f()},$0:function(){if(this.$x==='TypeIn'){this.$b();this.queryBox.blur()}else{this.queryBox.value='';this.setNewPattern()}this.$f()}},null,[ss.IDisposable]);ss.initClass(hg,a,{instantiate:function(e,L,hT){this.$6=new tableau.base.widget.TypeInFilterContents(ss.mkdict(['parentFilter',this.parent,'tuples',e,'itemName',L,'role',this.parent.get_oFilter().role]));this.div.appendChild(this.$6.domNode);this.$6.startup();this.$5()},$5:function(){var e=ss.mkdel(this,function(L){var hT=this.parent.get_searchWidget().domResults;if(tab.DomUtil.isEqualOrAncestorOf(hT,L.target)){return}if(ss.referenceEquals(L.target,this.parent.get_searchWidget().get_domXButton())){this.parent.get_searchWidget().clearSearch(false,false)}else{this.parent.get_searchWidget().clearSearch(true,true)}});this.disposables.add$1(spiff.EventUtil.bindWithDispose($(document.body),'mousedown',e))},destroy:function(){this.dispose();if(ss.isValue(this.$6)){this.$6.destroyRecursive(false)}this.$6=null},layout:function(e,L){this.inherited(arguments);var hT={w:e.w-6,h:e.h};this.$6.layout$1(hT,L)},fetchChildNodeByIndex:function(e){var L=this.$6.domItemsList.childNodes;if(e<0||e>=L.length){return null}return L[e]},applyChanges:function(){var e=this.$3();var L=this.$6.getUIState();var hT=this.$4(L,e);var hU=this.$4(e,L);if(hT.length>0||hU.length>0){this.parent.set_stateId(this.parent.get_stateId()+1);tab.FilterClientCommands.modifyCategoricalFilterValues(this.parent.get_session().get_visualId(),this.parent.get_field(),hT,hU,true)}},$3:function(){var e=this.parent.get_oFilter().table.tuples;var L={};var hT=e.length;for(var hU=0;hU<hT;hU++){var hV=e[hU];L[this.$6.getFormattedAlias(hV)]=hV.s}return L},$4:function(e,L){var hT=[];var hU=ss.getEnumerator(Object.keys(e));try{while(hU.moveNext()){var hV=hU.current();if(e.hasOwnProperty(hV)){if(e[hV]&&!L[hV]){hT.push(hV)}}}}finally{hU.dispose()}return hT}},bj,[ss.IDisposable]);ss.initClass(hh,a,{get_calendarElement:function(){return this.$C.element},dispose:function(){hf.prototype.dispose.call(this);this.$C.dispose()},instantiate:function(e,L,hT,hU,hV,hW,hX,hY,hZ){hf.prototype.instantiate.call(this,e,L,hT,this.$I,this.$H,hW,hX,hY,hZ);this.$F=hX;this.$E=hY;this.$I=hU;this.$H=hV;this.$G=hZ;if(!hh.lazilyCreateCalendar){this.$y()}},$B:function(e){return(tab.LegacyFilterModel.isNormalValue(e)?new Date(tableau.types.JsDateFromOleDate(ss.unbox(e.v))):null)},editableValue:function(){return tableau.format.formatDataValue(this.$i,'m',this.$E,null,2)},$z:function(){if(ss.isValue(this.$i)&&ss.isValue(this.$i.t)){return this.$i.t}else{return't'}},setNewState:function(e,L,hT,hU,hV){hf.prototype.setNewState.call(this,e,L,hT,hU,hV);if(ss.isValue(this.$C)){this.$C.setDateRange(this.$B(hU),this.$B(hV))}},isInsideWidget:function(e){var L=this.$C.element.get(0);return hf.prototype.isInsideWidget.call(this,e)||tab.DomUtil.isEqualOrAncestorOf(L,e.target)},onQueryBoxFocus:function(e){hf.prototype.onQueryBoxFocus.call(this,e);if(ss.isNullOrUndefined(this.$C)||this.$C.element.is(':hidden')){this.$y();var L=this.$B(this.$i);this.$C.show(L);this.$C.positionCalendarByElement($(this.queryBox).closest('.TypeInDiv'))}},$y:function(){if(ss.isValue(this.$C)){return}var e=this.$F.locale_formatting_strings;var L=e.narrowDay.filter(function(hW){return!ss.isNullOrEmptyString(hW)});var hT=this.$B(this.$i);var hU=this.$G;if(ss.isValue(hU)){hU=ss.Nullable$1.sub(hU,1)}var hV=new cv(hT,hT,this.$B(this.$I),this.$B(this.$H),hU,L,e.todayFormatTemplate,ss.mkdel(this,function(hW){return tableau.format.formatCustomJSDateTime(hW,tableau.format.mapIcuToOleFormat(this.$F.yearMonthFormat),0,'d',this.$F.locale,null,null,e)}),ss.mkdel(this,function(hW){return tableau.format.formatCustomJSDateTime(hW,this.$E.format,0,'d',this.$E.locale,null,null,e)}));this.$C=this.$D(hV);this.$C.element.on('dateSelected',ss.mkdel(this,this.$A)).appendTo(document.body)},$A:function(e,L){if(ss.isValue(this.$C)){this.$C.hide()}this.setPattern(tableau.format.formatJsDateTime(L,this.$E,2,this.$z()))},onInputBlur:function(e){if(ss.isValue(this.$C)){this.$C.hide()}hf.prototype.onInputBlur.call(this,e)}},hf,[ss.IDisposable]);ss.initClass(hi,a,{postCreate:function(){var e=tableau.format.formatTupleDisplayName;var L=ss.mkdel(cY.filterItem,cY.filterItem.getTypeInHtml);var hT=[];var hU=0;for(var hV=0;hV<this.tuples.length;hV++){var hW=this.tuples[hV];if(hW.s){var hX=this.itemName+'_'+hV;var hY=L(hX,e(hW,true,this.role));hT.push(hY);hU++}}this.domItemsList.innerHTML=hT.join('');this.domClearListButtonDiv.style.display=((hU>3)?'block':'none')},_onItemsListClick:function(e){this.parentFilter.onListItemClick(e)},_onItemsListMouseOver:function(e){if(!ss.isValue(e.target)||!$(e.target).hasClass('FITypeInItem')){return}$(e.target).addClass('Hover');var L=this.$0=cY.filterItem.getNodeFromEvent(e);L.appendChild(this.domXButton);$(this.domXButton).css('top','calc(50% - 7px)');$(this.domXButton).css('display','block')},_onItemsListMouseOut:function(e){if(!ss.isValue(e.relatedTarget)||!ss.referenceEquals(e.relatedTarget,this.domXButton)){if(ss.isValue(this.$0)){$(this.$0).removeClass('Hover')}this.$0=null;$(this.domXButton).css('display','none')}},_onItemsKeyDown:function(e){if(e.keyCode===46){this._removeSelectedItemsFromFilter();spiff.EventUtil.stopEvent(e)}},_onXButtonClick:function(e){var L=null;spiff.EventUtil.stopEvent(e);var hT=cY.filterItem.getNodeFromEvent(e);if(!ss.isValue(hT)){return}cY.filterItem.setChecked(hT,false);if(ss.isValue(this.parentFilter.get_oFilter())){L=this.parentFilter.get_oFilter().table}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isValue(L)&&L.actual_size===L.tuples.length){var hU=new tab.LegacyCategoricalQuickFilterData(this.parentFilter.get_oFilter().targetSheets,this.parentFilter.get_field(),this.parentFilter.get_oFilter().exclude,this.getCheckedAliases(this.getUIState()));tab.FilterClientCommands.updateCategoricalFilter(hU)}}this.parentFilter.clearRangeAnchorAndSelection();var hV=ss.mkdel(this.parentFilter,this.parentFilter.applyChanges);this.parentFilter.notifyChange(hV)},_onXButtonMouseOver:function(e){$(this.domXButton).addClass('Hover')},_onXButtonMouseOut:function(e){$(this.domXButton).removeClass('Hover')},_onClearListButtonClick:function(e){var L;var hT=null;this.parentFilter.get_searchWidget().clearSearch(true,false);for(L=this.domItemsList.firstChild;ss.isValue(L);L=L.nextSibling){cY.filterItem.setChecked(L,false)}this.parentFilter.set_stateId(this.parentFilter.get_stateId()+1);if(ss.isValue(this.parentFilter.get_oFilter())){hT=this.parentFilter.get_oFilter().table}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isValue(hT)&&hT.actual_size===hT.tuples.length){var hU=new tab.LegacyCategoricalQuickFilterData(this.parentFilter.get_oFilter().targetSheets,this.parentFilter.get_field(),this.parentFilter.get_oFilter().exclude,this.getCheckedAliases(this.getUIState()));tab.FilterClientCommands.updateCategoricalFilter(hU)}}this.parentFilter.clearRangeAnchorAndSelection();this.parentFilter.applyChanges();$(this.domClearListButtonDiv).css('display','none')},layout$1:function(e,L){if(tableau.util.isElementVisible(this.domClearListButtonDiv)){var hT=dojo.marginBox(this.domClearListButtonDiv);e.h=Math.max(0,e.h-hT.h)}dojo.marginBox(this.domItemsList,e)},_removeSelectedItemsFromFilter:function(){this.parentFilter.forEachSelected(function(e,L){cY.filterItem.setChecked(L,false)});this.parentFilter.clearRangeAnchorAndSelection();this.parentFilter.notifyChange(null)},getUIState:function(){var e=this.domItemsList.firstChild,L;var hT={};for(L=e;ss.isValue(L);L=L.nextSibling){var hU=this.getFormattedAlias(this.tuples[cY.filterItem.getIndex(L)]);hT[hU]=cY.filterItem.isChecked(L)}return hT},getCheckedAliases:function(e){var L=[];var hT=ss.getEnumerator(Object.keys(e));try{while(hT.moveNext()){var hU=hT.current();if(e.hasOwnProperty(hU)){if(e[hU]){L.push(hU)}}}}finally{hT.dispose()}return L},getFormattedAlias:function(e){return tableau.format.formatTupleDisplayName(e,true,this.role)}},Object);ss.initClass(hj,a,{add_commandExecuted:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_commandExecuted:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_actionExecuted:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_actionExecuted:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_ubertipMenuToggled:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_ubertipMenuToggled:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_ubertipMenuClosed:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_ubertipMenuClosed:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},get_model:function(){return this.$O},set_model:function(e){this.$O=e;this.$q()},get_isShowingActionAndCommandButtons:function(){return this.$I.is(':visible')||this.$F.is(':visible')},$D:function(){return this.$M&&this.hasSummary()},dispose:function(){this.element.detach();this.$R.remove_showed(ss.mkdel(this,this.handleTooltipShowed));this.$R.remove_positionCalculated(ss.mkdel(this,this.handleTooltipPositionCalculated));if(!ss.staticEquals(this.$H,null)){this.$R.remove_positioned(this.$H);this.$H=null}this.$b();spiff.Widget.prototype.dispose.call(this)},hasActions:function(){if(ss.isNullOrUndefined(this.$O)){return false}var e=ss.isValue(this.$O.actionPMs)&&this.$O.actionPMs.length>0;var L=ss.isValue(this.$O.actions)&&this.$O.actions.length>0;return e||L},hasCommands:function(){if(ss.isNullOrUndefined(this.$O)){return false}return ss.isValue(this.$O.commands)&&this.$O.commands.length>0},hasSummary:function(){if(ss.isNullOrUndefined(this.$O)){return false}return ss.isValue(this.$O.selectionHtml)},hasActionsOrSummaryOrCommands:function(){return this.hasActions()||this.hasSummary()||this.hasCommands()},hideMenuActionsAndCommandButtons:function(e){if(this.get_isShowingActionAndCommandButtons()&&e){this.$R.requestLayout(ss.mkdel(this,function(){this.$p();this.$J.css('min-width','')}))}else{this.$p();this.$J.css('min-width','')}},prepareForPositioning:function(e){if(e){if(!this.$R.get_isShown()){this.element.css('width','');this.$s(false)}}else{this.hideMenuActionsAndCommandButtons(false);this.$o()}},showMenuActionsAndCommandButtons:function(){if(this.get_isShowingActionAndCommandButtons()||ss.isNullOrUndefined(this.$R.get_calculatedShownArgs())){return}this.$c();var e=tab.DoubleUtil.roundToInt(this.element.outerHeight());if(!this.$R.get_isShown()||e===0){this.$s(false)}else{var L=this.$R.get_calculatedShownArgs().shownX;var hT=this.$R.get_calculatedShownArgs().shownY;var hU=this.$R.get_calculatedShownArgs().viewport.getVisibleRoom({x:L,y:hT},1);this.$s(false);this.$J.css('min-width',this.$d()+'px');var hV=tab.DoubleUtil.roundToInt(this.element.outerHeight());var hW=tab.DoubleUtil.roundToInt(this.$F.outerHeight());var hX=this.$h();if(hX>this.$Q){this.$Q=hX}this.$r(this.$Q);var hY=L+hX>L+hU.roomRight;var hZ=(this.$P==='BL'||this.$P==='BR')&&hT+hV>hT+hU.roomBelow;if(hY||hZ){this.$R.layoutTooltip(this.$R.get_calculatedShownArgs().viewport,true);L=this.$R.get_calculatedShownArgs().shownX;hT=this.$R.get_calculatedShownArgs().shownY;this.handleTooltipPositionCalculated();if(this.$P==='AL'||this.$t()){this.$R.get_calculatedShownArgs().shownY=hT+(hV-e-hW)}}var ia=this.$R.get_calculatedShownArgs().shownY-(hV-e-hW);var ib=hT+ss.Int32.trunc(hU.roomBelow)+hV;var ic=Math.min(ia,ib);var id=hW>0&&hT+hV>hT+hU.roomBelow;if(id){var ie=ss.Int32.trunc(hU.roomBelow)-e;var ig=hV-e;var ih=ig-ie;ic=hT-ih-2;this.$R.get_calculatedShownArgs().shownY=ic}else{this.$p();if(!ss.staticEquals(this.$H,null)){this.$R.remove_positioned(this.$H);this.$H=null}this.$H=ss.mkdel(this,function(){this.$R.remove_positioned(this.$H);this.$H=null;this.$s(true);switch(this.$P){case'AR':case'AL':{if(this.$P==='AL'||hU.roomBelow<hV||!this.$t()){this.$R.element.animate(ss.mkdict(['top',ic+'px']),'fast')}break}case'BR':{this.$R.element.css('top',hT-this.$I.height()+'px');this.$R.element.animate(ss.mkdict(['top',ic+'px']),'fast');break}case'BL':default:{break}}});this.$R.add_positioned(this.$H)}}},$t:function(){return(this.$P==='AR'||this.$P==='BR')&&this.$R.get_calculatedShownArgs().shownX>this.$R.get_calculatedShownArgs().origX},handleRemoteFailure:function(){if(this.$N){this.$N=false;if(tab.CommandController.get().get_legacySession().get_waitHandler().isBusy()){tab.CommandController.get().get_legacySession().get_waitHandler().reset()}}},hideSpinner:function(){if(tab.CommandController.get().get_legacySession().get_waitHandler().isBusy()){tab.CommandController.get().get_legacySession().get_waitHandler().reset()}},handleTooltipPositionCalculated:function(){if(ss.isValue(this.$P)&&this.$P===this.$R.get_calculatedShownArgs().position){return}switch(this.$R.get_calculatedShownArgs().position){case'AL':case'AR':{this.$K.after(this.$I);this.$J.before(this.element.find('.tab-ubertipSelected'));break}case'BL':case'BR':{this.$K.before(this.$I);this.element.find('.tab-clear').after(this.element.find('.tab-ubertipSelected'));break}}this.$P=this.$R.get_calculatedShownArgs().position},handleTooltipShowed:function(){this.$8()},$8:function(){if(this.element.width()===0){return}var e=this.$h();this.$r(e)},$h:function(){return Math.min(tab.DoubleUtil.roundToInt(this.element.width())+1,tab.DoubleUtil.roundToInt($(document.body).width())-2)},updatePartiallyFromRemote:function(e){if(ss.isNullOrUndefined(e)){return}if(ss.isNullOrUndefined(this.$O)){this.set_model(e);return}this.$O.rid=e.rid;this.$B(e);this.$v(e);this.$z(e)},$z:function(e){var L=[];var hT=null;var hU=null;if(ss.isValue(this.$O)){hT=_.find(this.$O.placeHolders,function(hV){return hV.commandType===10});hU=_.find(e.commands,function(hV){return hV.commandType===10})}if(ss.isValue(hU)){if(!this.$D()){ss.remove(e.commands,hU);e.commands.push(hU);L.push(e.commands.length-1)}this.$O.placeHolders=[]}else if(ss.isValue(hT)){this.$O.placeHolders=[];this.$O.placeHolders.push(hT)}this.$O.commands=e.commands;this.$y(Array.prototype.slice.call(L))},$B:function(e){this.$O.selectionHtml=e.selectionHtml;this.$A();if(ss.isValue(this.$O.selectionHtml)&&this.get_isShowingActionAndCommandButtons()){this.$o();this.$8()}},$v:function(e){this.$O.actionPMs=e.actionPMs;this.$O.actions=e.actions;this.$u();this.$n()},$n:function(){if(this.$N){this.$N=false;if(ss.isValue(this.$O)){for(var e=0;e<this.$O.actions.length;e++){var L=this.$O.actions[e];if(ss.referenceEquals(L.name,this.$E)){var hT=new K;hT.action=L;this.onActionExecuted(hT)}}}}},onCommandExecuted:function(e){if(ss.isValue(this.$2$1)){this.$2$1(this,e)}},onActionExecuted:function(e){if(ss.isValue(this.$2$2)){this.$2$2(this,e)}},$b:function(){this.$L.dispose()},$r:function(e){this.element.css('min-width',e+'px');this.$Q=e},$c:function(){this.element.css('min-width','')},$q:function(e,L){var hT=false;var hU=this.$R.get_isShown();var hV=tab.DoubleUtil.roundToInt(this.element.width());var hW=tab.DoubleUtil.roundToInt(this.$K.height());var hX=tab.DoubleUtil.roundToInt(this.$I.height());this.$b();this.element.show();this.$C();this.$u();this.$y(e);this.$A();if(ss.isValue(L)&&L&&hU){this.$r(hV);if(hW===0||this.$K.hasClass('hide')){hT=true}else{var hY=hW;var hZ=tab.DoubleUtil.roundToInt(this.$I.height());if(hZ===0){hY+=hX}this.$K.height(hY)}}else{this.$o()}if(!hT){var ia=tab.MiscUtil.isNullOrEmpty(this.$O.actions);var ib=tab.MiscUtil.isNullOrEmpty(this.$O.actionPMs);var ic=ss.isNullOrEmptyString(this.$O.tooltipHtml);hT=ia&&ib&&ic}if(hT){this.$K.addClass('hide')}else{this.$K.removeClass('hide')}},$o:function(){this.$c();this.$K.css('height','');this.$I.css('height','');var e=this.computeAdjustedTooltipWidth();if(e>0){this.$r(e)}else if(this.element.width()>0){this.$Q=tab.DoubleUtil.roundToInt(this.element.width())}else{this.$Q=0}},computeAdjustedTooltipWidth:function(){var e=tab.DoubleUtil.roundToInt(this.element.width());var L=-1;var hT=tab.FeatureParamsLookup.getInt(18);if(!ss.isValue(hT)){hT=70}if(e>0&&this.$Q>0&&this.$Q>=e&&this.$Q-e<=ss.unbox(hT)){L=this.$Q}return L},$d:function(){var e=0;this.$J.find('li').each(function(L,hT){e+=hT.firstChild.offsetWidth});return e},$p:function(){this.$R.element.stop();this.$F.stop();this.$I.stop();this.$F.hide();this.$I.hide()},$s:function(e){if(ss.isNullOrUndefined(this.get_model())){return}if(this.hasActions()){if(e){this.$F.show()}else{this.$F.show()}}if(this.hasCommands()||this.hasSummary()){if(e){this.$I.slideDown('fast')}else{this.$I.show()}}},$C:function(){var e=$(this.$O.tooltipHtml);this.element.find('.tab-ubertipTooltip').html('').append(e);window.getSelection().removeAllRanges()},$A:function(){if(ss.isNullOrUndefined(this.$O.selectionHtml)){this.element.find('.tab-ubertipSelected').html('').addClass('hide')}else{this.element.find('.tab-ubertipSelected').html('').append(this.$O.selectionHtml).removeClass('hide')}},$a:function(e,L,hT){if(e.get_commandsType()!=='subcommands'){return false}var hU=[];hJ.newMenuItemsFromCommands(hU,e.get_commands(),hJ.createDropdownMenuCommands,tab.PermissionManager.buildCommandPermission());if(hU.length===0){return false}var hV=this.$g(e);var hW=new spiff.MenuViewModel;hW.set_menu(new spiff.Menu(hU));var hX=ss.mkdel(this,function(){this.$l(hW,hV)});hV.add_click(hX);hW.add_menuItemClicked(spiff.MenuViewModel.handleMenuActionItemClicked);var hY=function(){hW.hide()};this.$R.add_closed(hY);this.$L.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){hV.remove_click(hX);hW.remove_menuItemClicked(spiff.MenuViewModel.handleMenuActionItemClicked);hW.remove_hidden(ss.mkdel(this,this.$m));this.$R.remove_closed(hY)})));if(hT){L.append($("<li><div class='tab-separator'>&nbsp;</div></li>"))}var hZ=$('<li></li>');hZ.append(hV.element);L.append(hZ);this.$L.add$1(hW);spiff.ObjectRegistry.newView(spiff.MenuView).call(null,[hW]);return true},$m:function(){if(ss.isValue(this.$2$4)){this.$2$4()}},$l:function(e,L){if(e.get_visible()){e.remove_hidden(ss.mkdel(this,this.$m));e.hide();if(ss.isValue(this.$2$3)){this.$2$3(false)}}else{e.add_hidden(ss.mkdel(this,this.$m));var hT=spiff.ShowMenuOptions.create(L.element,false,tab.DoubleUtil.roundToInt(L.element.outerWidth(false)));e.show(hT);if(ss.isValue(this.$2$3)){this.$2$3(true)}}},$y:function(e){if(!this.$G){return}var L=false;var hT=$('<ul></ul>');if(ss.isValue(this.$O.commandsAndSubcommands)){for(var hU=0;hU<this.$O.commandsAndSubcommands.length;hU++){var hV=this.$O.commandsAndSubcommands[hU];var hW=hV.item1;var hX=hV.item2;if(hW){var hY=this.$O.commands[hX];if(ss.isValue(hY)&&hY.status!=='hidden'){var hZ=ss.isValue(e)&&ss.contains(e,hX);this.$9(hY,hT,L,hZ);L=true}}else{L=this.$a(this.$O.subcommands[hX],hT,L)||L}}}else if(ss.isValue(this.$O.commands)){for(var ia=0;ia<this.$O.commands.length;++ia){var ib=this.$O.commands[ia];if(ss.isValue(ib)&&ib.status!=='hidden'){var ic=ss.isValue(e)&&ss.contains(e,ia);this.$9(ib,hT,L,ic);L=true}}}this.$7(hT,L);if(L){this.$J.html('').append(hT).removeClass('hide')}else{this.$J.html('').addClass('hide')}},$9:function(e,L,hT,hU){var hV=this.$f(e);hV.set_context(e);this.$6(hV,ss.mkdel(this,this.$k));if(ss.keyExists(hj.$c,e.commandType)){hV.element.width(hj.$c[e.commandType])}if(hU){hV.element.fadeIn()}if(hT){L.append($("<li><div class='tab-separator'>&nbsp;</div></li>"))}var hW=$('<li></li>');hW.append(hV.element);L.append(hW)},$f:function(e){var L=spiff.LabelButton.newNativeButton();if(tsConfig.is_mobile){var hT=ss.formatString('Ubertip{0}Mobile',hj.$1(e));var hU=tab.Strings.getString(hT);if(ss.referenceEquals(hU,ss.formatString('!{0}!',hT))){hU=e.name}var hV=$('<div>'+hU+'</div>');L.setLabelContents(hV)}else{L.set_label(e.name);L.set_hoverTooltipText(e.description)}var hW=new ss.StringBuilder('tab-command');if(ss.isNullOrEmptyString(e.imageRes)){hW.append(e.commandType)}else{hW.append(hj.$1(e))}hW.append(' ').append(e.status);L.element.addClass(hW.toString());if(e.status==='disabled'){L.set_disabled(true)}this.$L.add$1(L);return L},$g:function(e){var L=spiff.LabelButton.newNativeButton();L.set_label(e.get_name());L.set_hoverTooltipText(e.get_description());L.element.addClass('enabled'.toString());$('<span>').addClass('tabTooltipMenuDropdownBtnIcon').appendTo(L.element);this.$L.add$1(L);return L},$7:function(e,L){if(ss.isValue(this.get_model().placeHolders)){var hT=this.get_model().placeHolders;for(var hU=0;hU<hT.length;hU++){var hV=hT[hU];var hW=$("<li><div class='tab-separator'>&nbsp;</div></li>");var hX=hj.$0(hV);this.$L.add$1(hX);var hY=$('<li></li>');hY.append(hX.element);if(hV.commandType===10&&this.$D()&&L){var hZ=_.filter(this.$O.commands,function(ic){return ic.commandType===2});if(ss.isValue(hZ)){var ia=e.children().get(2);hW.insertAfter(ia);hY.insertAfter(hW)}else{var ib=e.children().get(0);hY.insertBefore(ib);hW.insertBefore(ib)}}else{if(L){e.append(hW)}e.append(hY)}document.documentElement.appendChild(e.first().get(0));hj.$c[hV.commandType]=tab.DoubleUtil.roundToInt(hX.element.innerWidth());hX.element.width(hj.$c[hV.commandType]);document.documentElement.removeChild(e.first().get(0))}}},$6:function(e,L){var hT=function(){L(e)};e.add_click(hT);this.$L.add$1(new tab.CallOnDispose(function(){e.remove_click(hT)}))},$k:function(e){var L=new bH;L.command=e.get_context();this.onCommandExecuted(L)},$i:function(e){var L=new K;L.action=e.get_context();this.onActionExecuted(L)},$j:function(e){var L=e.get_context();if(tab.ActionUtils.isFilterAction(L)||tab.ActionUtils.isHighlightAction(L)&&!tab.ActionUtils.isTargetOfActionLocal(L)){tab.CommandController.get().get_legacySession().get_waitHandler().showAndLock(false);this.$N=true;this.$E=e.get_labelElement().text()}else{var hT=tab.ModelUtils.getVisualModelFromVisualId(this.$O.visualId);var hU=[this.$O.tupleId];tab.UberTipClientCommands.executeUbertipAction(L,hU,hT)}},$u:function(){if(tab.MiscUtil.isNullOrEmpty(this.$O.actions)&&tab.MiscUtil.isNullOrEmpty(this.$O.actionPMs)){this.$F.html('').removeClass('invisible').addClass('hide')}else if(ss.isValue(this.$O.actions)){this.$x()}else{this.$w()}},$x:function(){var e=$('<ul></ul>');for(var L=0;L<this.$O.actions.length;L++){var hT=this.$O.actions[L];this.$e(e,hT.name,hT,ss.mkdel(this,this.$i))}var hU=tab.DoubleUtil.roundToInt(this.element.height());this.$F.html('').append(e).removeClass('hide invisible');var hV=tab.DoubleUtil.roundToInt(this.element.height());if(hV!==hU){this.$R.requestLayout(null,true)}},$w:function(){var e=$('<ul></ul>');var L=tab.ModelUtils.getVisualModelFromVisualId(this.$O.visualId);if(!ss.isValue(L)){return}var hT=false;var hU=true;for(var hV=0;hV<this.$O.actionPMs.length;hV++){var hW=this.$O.actionPMs[hV];var hX=tab.ActionUtils.getActionType(hW);if(!this.$G&&hX!=='highlight'){continue}var hY=L.get_vizDataModel();var hZ=[this.$O.tupleId];var ia=tab.ApplicationModel.get_instance().get_dataDictionary();var ib=tab.VizDataUtils.constructUrlFromString(ia,hW.dMo,hY,hZ,L.get_worksheetName());var ic=false;if(hX==='url'){var id=tab.ActionUtils.getUrlActionPm(hW,L,hZ);ic=id.item2==='urlConstructionFail';if(ss.isNullOrUndefined(id.item1)||ss.isNullOrEmptyString(ib)){hU=false}}if(!ic){this.$e(e,ib,hW,ss.mkdel(this,this.$j))}if(hX==='filter'||hX==='url'){hT=true}}if(e.find('li').length>0){var ie=-1;if(ss.isValue(L.get_sceneModel())){ie=L.get_sceneModel().get_paneDescriptorCount()}else{}if(ie>1&&hT||!hU){this.$F.html('').append(e).removeClass('hide').addClass('invisible')}else{this.$F.html('').append(e).removeClass('hide invisible')}}},$e:function(e,L,hT,hU){var hV=spiff.LabelButton.newAnchorButton();hV.set_label(L);hV.element.addClass('tab-action');hV.set_context(hT);this.$6(hV,hU);this.$L.add$1(hV);var hW=$('<li></li>');hW.append(hV.element);e.append(hW)}},spiff.Widget,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(hk,a,{},eO);ss.initClass(hm,a,{});ss.initClass(hn,a,{add_propsUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_propsUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_userSelected:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_userSelected:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_props:function(){return this.$2$3},set_props:function(e){this.$2$3=e},get_searchTerm:function(){return this.$6},set_searchTerm:function(e){if(ss.referenceEquals(this.$6,e)){return}this.$6=e;var L=tab.WorkgroupServerCommands.fetchPageOfSiteUsers(e,0);L.done(ss.mkdel(this,function(hT){this.get_props().items=[];this.get_props().activeUser=hT.items[0];this.get_props().startingY=null;this.$4=0;this.$2(hT)}))},reset:function(){this.$6=null;this.$5=false;this.$4=0;this.get_props().items=[];this.get_props().activeUser=null;this.raiseActionEvent(this.$2$1)},selectUser:function(e){this.raiseActionEvent$1(tab.User).call(this,this.$2$2,e)},handleScrollStop:function(e,L){if(e.y===L.y){this.get_props().fetchNextPage()}},updateActiveUser:function(e){var L=this.get_props().items[e];if(ss.isNullOrUndefined(L)||ss.referenceEquals(this.get_props().activeUser,L.data)){return}if(e<this.$4){this.$4--}else if(e>=this.$4+6){this.$4++}this.get_props().activeUser=L.data;this.get_props().startingY=-(this.$4*26);this.raiseActionEvent(this.$2$1)},$3:function(){if(!this.$5){return}var e=tab.WorkgroupServerCommands.fetchPageOfSiteUsers(this.get_searchTerm(),this.get_props().items.length);e.done(ss.mkdel(this,this.$2))},$2:function(e){this.$5=e.moreItems;_.map(e.items,ss.mkdel(this,function(L){return this.get_props().items.push({data:L})}));this.raiseActionEvent(this.$2$1)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(ho,a,{$3:function(e,L,hT){var hU={x:0,y:0,w:e.w,h:e.h};var hV=this.$h;if(L>=0&&hV.$1){var hW=hV.$3[L];var hX=hV.$3[L+1];hU.x+=hW;hU.w=hX-hW}if(hT>=0&&hV.$2){var hY=hV.$4[hT];var hZ=hV.$4[hT+1];hU.y+=hY;hU.h=hZ-hY}return hU},$7:function(e){return this.$j[e]},$8:function(e){var L=this.$f[e];return this.$j[L]},$4:function(e){return this.$f[e]},$5:function(e){return this.$e[e+1]-this.$e[e]},$6:function(e){return{firstMark:this.$e[e],lastMark:this.$e[e+1]-1}},$2:function(e){var L=e.c['user_pane_col'];var hT=e.c['user_pane_row'];var hU=e.paneRect;var hV=e.markCount;var hW=0;var hX=-1;var hY=-1;var hZ=ss.isNullOrUndefined(hT);var ia=ss.isNullOrUndefined(L);if(!hZ||!ia){for(var ib=0;ib<hV;++ib){var ic=(ia?-1:L.v[(L.c?0:ib)]);var id=(hZ?-1:hT.v[(hT.c?0:ib)]);if(ic!==hX||id!==hY){this.$1(ib,hW,ic,id,hU);hX=ic;hY=id;hW+=1}}}this.$e[hW]=hV;this.$0(hW);return hW},$0:function(e){if(e===0){return}var L=e-1;var hT=this.$e[L];var hU=this.$e[e];for(var hV=hT;hV<hU;++hV){this.$f[hV]=L}},$1:function(e,L,hT,hU,hV){if(ss.isValue(this.$b)){this.$b[L]=hT}if(ss.isValue(this.$g)){this.$g[L]=hU}this.$j[L]=this.$3(hV,hT,hU);this.$e[L]=e;this.$0(L)},$9:function(e){var L=this.$i;for(var hT=0;hT<L;++hT){var hU=this.$7(hT);var hV=this.$6(hT);var hW=hV.firstMark;var hX=hV.lastMark;for(var hY=hW;hY<=hX;++hY){e(hY,hU)}}},$a:function(e,L){var hT=-1;var hU=null;for(var hV=0;hV<e.length;hV++){var hW=e[hV];var hX=this.$f[hW];if(hX!==hT){hT=hX;hU=this.$7(hX)}L(hW,hU)}}});ss.initClass(hp,a,{render:function(){var e={tap:ss.mkdel(this,function(hU){this.props.viewModel.removeUser(this.props.user)})};var L=spiff.EventForwarder.span(e,{className:'tabUserPillRemove'},['×']);var hT=React.DOM.span({className:'tabUserPillName'},this.props.user.friendlyName);return React.DOM.div({className:'tabUserPill'},hT,L)}},React.Component);ss.initClass(hq,a,{render:function(){var e=_.map(this.props.users,ss.mkdel(this,function(hV){return React.createElement(hp,{viewModel:this.props.userPillsViewModel,user:hV})}));var L=new spiff.ScrollingProps;L.scrollY=true;L.scrollbars=true;L.alwaysShowScrollbarsIfScrollable=true;var hT=L;var hU=spiff.ScrollingComponent.createScroller(hT,e);return React.DOM.div({className:'tabUserPillsComponent'},hU)}},React.Component);ss.initClass(hr,a,{add_propsUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_propsUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_props:function(){return this.$2$2},set_props:function(e){this.$2$2=e},addUser:function(e){if(_.any(this.get_props().users,function(L){return L.id===e.id})){return}this.get_props().users.push(e);this.raiseActionEvent(this.$2$1)},removeUser:function(e){var L=ss.remove(this.get_props().users,e);if(L){this.raiseActionEvent(this.$2$1)}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(hs,a,{render:function(){return React.DOM.div({className:'tabUserSearchComponent'},this.$2(),this.$1())},componentDidUpdate:function(){var e=ReactDOM.findDOMNode(this.refs['tabUserSearchInputRef']);if(ss.isValue(e)){e.focus()}},$0:function(e){var L=ReactDOM.findDOMNode(this.refs['tabUserSearchInputRef']);if(ss.isValue(L)){L.value=''}},$2:function(){return React.DOM.input({type:'text',className:'tabUserSearchInput',placeholder:tab.Strings.SubscribeOthersSearchPlaceholder,onKeyUp:ss.mkdel(this.props.userSearchViewModel,this.props.userSearchViewModel.handleInputKeyUp),onKeyDown:ss.mkdel(this.props.userSearchViewModel,this.props.userSearchViewModel.handleInputKeyDown),tabIndex:0,ref:'tabUserSearchInputRef'})},$1:function(){return React.createElement(eR,this.props.userSearchViewModel.get_userListViewModel().get_props())}},React.Component);ss.initClass(ht,a,{add_propsUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_propsUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_userSelected:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_userSelected:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_props:function(){return this.$2$3},set_props:function(e){this.$2$3=e},get_userListViewModel:function(){return this.$2$4},set_userListViewModel:function(e){this.$2$4=e},handleInputKeyUp:function(e){var L=e.keyCode;if(L===40||L===38||L===13){return}this.$7=e.target.value;this.$6.invokeActionDelayed()},handleInputKeyDown:function(e){var L=this.$5;switch(e.keyCode){case 40:{this.$5=this.$2(1);if(L!==this.$5){this.get_userListViewModel().updateActiveUser(this.$5)}e.preventDefault();break}case 38:{this.$5=this.$2(-1);if(L!==this.$5){this.get_userListViewModel().updateActiveUser(this.$5)}e.preventDefault();break}case 13:{var hT=this.get_userListViewModel().get_props().items[this.$5];if(ss.isValue(hT)){this.get_userListViewModel().selectUser(hT.data)}e.preventDefault();break}}},$2:function(e){var L=this.$5+e;if(L<0||L>=this.get_userListViewModel().get_props().items.length){return this.$5}return L},$3:function(){this.raiseActionEvent(this.$2$1)},$4:function(e){this.$5=0;this.get_userListViewModel().reset();this.raiseActionEvent$1(tab.User).call(this,this.$2$2,e)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(hu,a,{get_addVariableCtrlBtnArea:function(){return this.$1},get_addVariableCtrlVarSelector:function(){return this.$2}},spiff.Template,[ss.IDisposable]);ss.initClass(hv,a,{$1:function(){this.prevButton.addClass('tabCatLegendScrollUp');this.nextButton.addClass('tabCatLegendScrollDown')}},dX,[ss.IDisposable]);ss.initClass(hw,a,{add_refreshLegacyLegendImages:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_refreshLegacyLegendImages:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},get_cacheVersion:function(){return this.imageCacheVersion},get_viewWidget:function(){return this.viewWidget},get_viewSession:function(){return this.viewSession},get_sheetName:function(){return this.sheetName},dispose:function(){this.viewWidget=null;this.$4.dispose()},setTiledViewer:function(e){this.viewWidget=e},$0:function(e){if(ss.isNullOrUndefined(e)){return}var L=e.layoutStatus;var hT=e.primarySheet;if(ss.isNullOrUndefined(L)){return}if(ss.isValue(L.MUp)&&ss.referenceEquals(hT,this.sheetName)){this.viewModified=L.MUp}if(!tab.CommandController.get().processingRenderModeChange&&!tab.CommandController.get().processingStoryPointChange){this.incrementCacheVersion();var hU=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),this.sheetName);if(hU.get_isVisualValid()){this.viewWidget.doTiledViewerRefreshImages(hU.get_cacheUrlInfo());if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}}}},$1:function(e){if(!ss.staticEquals(hw.$1$1,null)){hw.$1$1(this.sheetName,e)}this.$0(e)},$3:function(e){if(!ss.isValue(e)){return}if(ss.isValue(e.data)){if(ss.isValue(e.data.layoutStatus)){if(ss.isValue(e.data.layoutStatus.MUp)){this.viewModified=e.data.layoutStatus.MUp}}else{}}if(ss.referenceEquals(e.oldActive,this.viewWidget)){this.active=false}else if(ss.referenceEquals(e.newActive,this.viewWidget)){this.active=true}},incrementCacheVersion:function(){this.imageCacheVersion+=1},$2:function(){X.add_activeViewChanged(ss.mkdel(this,this.$3));this.$4.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){X.remove_activeViewChanged(ss.mkdel(this,this.$3))})))}},null,[ss.IDisposable]);ss.initClass(hx,a,{get_toolbarViewModel:function(){return this.$i.get_toolbarViewModel()},dispose:function(){if(ss.isValue(this.$j)){this.$j.dispose();this.$j=null}},exportImage:function(){var e=tab.ApplicationModel.get_instance().get_workbook().get_currentSheetStoryPointId();var L=tableau.types.ExportDialogType['ExportImage'];var hT=[];var hU=[];if(this.$i.get_isDashboard()){var hV={};var hW=this.$i.get_viewControllers();if(ss.isValue(hW)){$.each(hW,function(hX,hY){var hZ=hY.get_viewWidget().get_scrollPosition();var ia=hZ.x;var ib=hZ.y;if(ia!==0||ib!==0){hV[hY.get_sheetName()+'-x']=ia;hV[hY.get_sheetName()+'-y']=ib;hU.push({x:ia,y:ib});hT.push(hY.get_sheetName())}})}}tab.ExportServerCommands.exportImage(tsConfig.current_sheet_name,e,L,hT,hU)},exportData:function(e){if(ss.isNullOrUndefined(e)){e=tab.ModelUtils.findActiveOrDefaultVisual().get_worksheetName()}var L=tab.ModelUtils.findContentDashboard().getViewSession(e);if(ss.isValue(L)){window.open(L.formatUnderlyingDataURL(null),L.getWindow('vud'),'scrollbars,resizable')}},exportCrosstab:function(e){if(ss.isNullOrUndefined(e)){e=tab.ModelUtils.findActiveOrDefaultVisual().get_worksheetName()}var L=tab.ModelUtils.findContentDashboard().getViewSession(e);if(ss.isValue(L)){var hT=tableau.types.ExportDialogType['ExportCrosstab'];L.openDownload(L.formatExportCrossTabURL('utf16'),hT)}},exportPdf:function(){if(ss.isValue(this.$j)){this.$j.dispose()}this.$i.$7(ss.mkdel(this,function(e){this.$j=e;this.$j.add_closed(ss.mkdel(this,function(){this.$j.dispose();this.$j=null}));this.$j.show()}))},$7:function(){tab.WorksheetServerCommands.revert()},$4:function(){if(this.$i.get_autoUpdate()){this.$h()}},$6:function(){if(!this.$i.get_autoUpdate()){this.$h()}},$2:function(){return this.$i.get_autoUpdate()},$h:function(){this.$i.set_autoUpdate(!this.$i.get_autoUpdate());tab.ToolbarServerCommands.setAutoUpdate(this.$i.get_autoUpdate());tab.BaseSession.autoUpdate=this.$i.get_autoUpdate();if(this.$i.get_autoUpdate()&&this.$i.get_invalid()){tab.CommandController.get().refreshLayout()}},$3:function(){return!tsConfig.previewMode&&!ss.isNullOrEmptyString(tsConfig.downloadURI)||tsConfig.is_metrics_view},$0:function(){var e;if(tsConfig.is_metrics_view){e=this.$i.get_session().metricsViewDownloadUrl()}else{e=this.$8(tsConfig.downloadURI)}window.open(e)},$1:function(e){var L;if(tsConfig.is_metrics_view){L=this.$i.get_session().metricsViewDownloadUrl()}else{L=this.$8(e)}window.open(L)},$5:function(){tab.ToolbarServerCommands.refreshData()},$9:function(){this.$i.get_session().saveAndOpenMetricsView()},$f:function(){if(ss.isValue(this.$i.get_toolbarViewModel())){this.$i.get_toolbarViewModel().showDialog('share')}},$c:function(){if(ss.isValue(this.$i.get_toolbarViewModel())){this.$i.get_toolbarViewModel().showDialog('customviews')}},$g:function(){if(ss.isValue(this.$i.get_toolbarViewModel())){this.$i.get_toolbarViewModel().showDialog('subscribe')}},$e:function(){if(ss.isValue(this.$i.get_toolbarViewModel())){this.$i.get_toolbarViewModel().showPerformanceMetrics()}},$d:function(){if(ss.isValue(this.$i.get_toolbarViewModel())){this.$i.get_toolbarViewModel().showDialog('download')}},$b:function(){},$a:function(){},$8:function(e){if(ss.isValue(e)){var L=e.match(hx.$0);if(ss.isValue(L)&&L.length>=2){return tabBootstrap.ViewerBootstrap.get_instance().location.protocol+'//'+tabBootstrap.ViewerBootstrap.get_instance().location.host+L[1]}}return e}},null,[ss.IDisposable]);ss.initClass(hy,a,{get_visualList:function(){return this.$6},get_groupItemNodes:function(){return this.$6.get_groupItemNodes()},get_visualListPM:function(){return this.$6.get_visualListPresModel()},get_defaultBackgroundColor:function(){return this.$5},set_defaultBackgroundColor:function(e){this.$5=e},get_hoveredCategoricalNode:function(){return this.$4},set_hoveredCategoricalNode:function(e){if(!ss.referenceEquals(this.$4,e)){this.$7=this.$4;this.$4=e;this.notifyPropertyChanged('HoverNode')}},dirtyRect:function(e){var L={x:0,y:0,w:0,h:0};var hT=[this.$7,this.$4];for(var hU=0;hU<hT.length;hU++){var hV=hT[hU];if(ss.isValue(hV)){var hW={x:hV.nTH,y:hV.Mk_,w:hV.XqN,h:hV.$UU};L=tab.RectXYUtil.union(L,hW)}}return tab.RectXYUtil.offsetRect(L,e)},isHovered:function(e){return ss.referenceEquals(e,this.$4)},isSelected:function(e){return ss.isValue(this.$9)&&this.$9.isNodeSelected(e)},isBrushed:function(e){return ss.isValue(this.$3)&&this.$3.isNodeSelected(e)},selectNode:function(e,L,hT,hU){tab.SelectionClientCommands.selectNode(this.$8,e,hT,this.$6,L,this.$a,hU)},handleModelChange:function(){this.notifyPropertyChanged('visualList')},$2:function(){this.notifyPropertyChanged('selection')},dispose:function(){this.$6.remove_newVisualList(ss.mkdel(this,this.handleModelChange));if(ss.isValue(this.$9)){this.$9.remove_newSelection(ss.mkdel(this,this.$2))}if(ss.isValue(this.$3)){this.$3.remove_newSelection(ss.mkdel(this,this.$2))}spiff.BaseViewModel.prototype.dispose.call(this)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(hz,a,{});ss.initEnum(hA,a,{normal:'normal',hover:'hover',press:'press',highlighted:'highlighted',selected:'selected'},true);ss.initClass(hC,a,{});ss.initClass(hD,a,{get_instanceId:function(){return this.$1$1},set_instanceId:function(e){this.$1$1=e},get_region:function(){return this.$1$2},set_region:function(e){this.$1$2=e},get_visualId:function(){return this.get_region().get_visualId()},get_sheetId:function(){return this.get_region().get_sheetid()},get_regionPart:function(){return this.get_region().get_regionPart()},get_paneId:function(){return this.$1$3},set_paneId:function(e){this.$1$3=e},get_paneColumnIndex:function(){return this.$1$4},set_paneColumnIndex:function(e){this.$1$4=e},get_paneRowIndex:function(){return this.$1$5},set_paneRowIndex:function(e){this.$1$5=e},get_regionCoordinates:function(){return this.$1$6},set_regionCoordinates:function(e){this.$1$6=e},get_pageCoordinates:function(){return this.$1$7},set_pageCoordinates:function(e){this.$1$7=e},get_result:function(){return this.$1$8},set_result:function(e){this.$1$8=e}});ss.initClass(hF,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(hG,a,{get_zonePresModel:function(){return this.$g.get_webZoneModel().get_zone()},get_webZonePresModel:function(){return this.$g.get_webZoneModel().pm},get_domRoot:function(){return this.get_template().domRoot},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.handleNewWebZone()},handleNewWebZone:function(){if(ss.isValue(this.$e)){this.updateWebZone()}else{this.createWebZone();this.get_template().domRoot.append(this.$e)}},$b:function(e,L){if(L.get_propertyName()==='isActiveZone'){this.$c()}},updateIFrameFromViewModel:function(e){if(!ss.referenceEquals(this.get_webZonePresModel().ZNi,this.$e.children().first().prop('original_url'))){var L=hm.absolutizeURI(this.get_webZonePresModel().ZNi,true);e.prop('src',L);e.prop('original_url',this.get_webZonePresModel().ZNi)}tab.DomUtil.resize(e.get(0),{l:0,t:0,w:this.get_zonePresModel().rec,h:this.get_zonePresModel().EUR})},updateWebZone:function(){var e=this.$e.children().first();this.updateIFrameFromViewModel(e);this.$c()},createWebZone:function(){var e='frame_'+this.get_zonePresModel().BCp.toString();var L;this.$e=$('<div>');if(tsConfig.is_mobile){if(tab.BrowserSupport.get_isSafari()||tab.BrowserSupport.get_isIos()){this.$e.css('-webkit-overflow-scrolling','touch');this.$e.css({height:this.$f.get_height()+'px'});this.$e.css({width:this.$f.get_width()+'px'})}this.$e.css({overflow:'auto'})}this.$e.css({position:'absolute'});if(tab.BrowserSupport.get_isIE()&&tab.BrowserSupport.get_browserVersion()<9){L=$('<iframe name="'+e+'" frameborder="0"></iframe>')}else{L=$('<iframe/>');L.prop('name',e)}L.css({border:'0px none'});this.$e.append(L);this.updateIFrameFromViewModel(L);this.$c()},$9:function(){this.$f.setActive()},$c:function(){if(!tsConfig.is_authoring||tsConfig.is_mobile){return}if(ss.isNullOrUndefined(this.$d)){var e=new spiff.Glass(this.element[0],false);e.set_opaque(false);this.$d=e;this.$d.add_click(ss.mkdel(this,this.$9));this.disposables.add$1(this.$d)}if(this.$f.get_isActiveZone()){this.$d.hide()}else{this.$d.show()}},$a:function(){this.updateWebZone()}},ss.makeGenericType(spiff.BaseView$1,[hH]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[hH])]);ss.initClass(hH,a,{add_newWebZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newWebZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_webZoneModel:function(){return this.$3},handleNewWebZone:function(){this.$2()},$2:function(){if(ss.isValue(this.$2$1)){this.$2$1()}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(hI,a,{});ss.initClass(hJ,a,{});ss.initClass(hK,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(hL,a,{get_dom:function(){return this.get_template()},get_dashboardNode:function(){return this.$e.get_dashboardNode()},get_containerNode:function(){return this.$e.get_containerNode()},get_dashboardView:function(){return this.$e},dispose:function(){if(ss.isValue(this.$e)){this.$e.dispose()}if(ss.isValue(this.$d)){this.$d.dispose()}ss.makeGenericType(spiff.BaseView$1,[hM]).prototype.dispose.call(this)},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.$9()},$9:function(){if(ss.isValue(this.$c.get_dashboardViewModel())){this.$c.get_dashboardViewModel().add_sizeChanged(ss.mkdel(this,this.$b));this.$c.get_dashboardViewModel().add_portSizeChanged(ss.mkdel(this,this.$b));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$c.get_dashboardViewModel().remove_sizeChanged(ss.mkdel(this,this.$b));this.$c.get_dashboardViewModel().remove_portSizeChanged(ss.mkdel(this,this.$b))})));this.$e=spiff.ObjectRegistry.newView(bX).call(null,[this.$c.get_dashboardViewModel()]);this.$e.addToDom(this.get_dom().dashboardContainer);this.colorDashboardContainer();this.get_dom().dashboardContainer.css('visibility','visible')}this.positionDashboardContainer()},$b:function(){this.positionDashboardContainer()},positionDashboardContainer:function(){var e=this.$c.get_dashboardContainerPosition();var L={top:e.t+'px',overflow:''};if(this.get_viewModel().get_scrollDashboardArea()){L.overflow='auto'}this.get_dom().dashboardContainer.css(L);tab.DomUtil.setContentBox(this.get_dom().dashboardContainer.get(0),e)},colorDashboardContainer:function(){if(tsConfig.is_authoring&&tsConfig.current_sheet_type==='dashboard'){return}this.get_dom().dashboardContainer.css('background-color',this.$c.get_dashboardBackgroundColor())},$a:function(){this.$d=spiff.ObjectRegistry.newView(ce).call(null,[this.$c.get_connectionPromptViewModel()])}},ss.makeGenericType(spiff.BaseView$1,[hM]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[hM])]);ss.initClass(hM,a,{add_newDashboard:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newDashboard:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newDataConnectionPrompt:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newDataConnectionPrompt:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_hasPrompt:function(){return this.$7.get_hasPrompt()},get_dashboardViewModel:function(){return this.$6},get_connectionPromptViewModel:function(){return this.$5},get_scrollDashboardArea:function(){if(!(tsConfig.is_authoring&&this.$7.get_sheetType()==='dashboard')){return false}var e=false;if(ss.isValue(this.get_dashboardViewModel())){var L=this.get_dashboardViewModel().get_size();var hT=this.get_dashboardPortSizeContainer();e=L.rec===hT.w&&L.EUR===hT.h}return!e},get_contentDashboardViewModel:function(){if(!this.$7.get_isCurrentSheetStoryboard()){return this.$6}var e=this.$6.get_zoneViewModels();var L=_.keys(e);for(var hT=0;hT<L.length;hT++){var hU=L[hT];var hV=e[hU];if(hV.get_zoneType()==='flipboard'){if(ss.isNullOrUndefined(hV.get_zoneContentViewModel())){return null}return hV.get_zoneContentViewModel().get_dashboardViewModel()}}return null},get_dashboardPortSizeContainer:function(){var e=tabBootstrap.ViewerBootstrap.get_instance().getWebClientPortSize(tsConfig.current_sheet_type);var L={l:0,t:0,w:e.w,h:e.h};return L},get_dashboardContainerPosition:function(){return X.getClientBounds()},get_dashboardBackgroundColor:function(){return this.get_dashboardViewModel().get_backgroundColor()},dispose:function(){if(ss.isValue(this.$6)){this.$6.dispose()}if(ss.isValue(this.$5)){this.$5.dispose()}this.$7.remove_newDashboard(ss.mkdel(this,this.$2));spiff.BaseViewModel.prototype.dispose.call(this)},$2:function(e){if(ss.isValue(this.$6)){this.$6.dispose()}this.$6=bY.new$1(e);this.raiseActionEvent(this.$2$1)},$3:function(e){if(ss.isNullOrUndefined(this.get_connectionPromptViewModel())){this.$5=new cf(e);this.raiseActionEvent(this.$2$2)}else{this.get_connectionPromptViewModel().promptUpdated(e)}},$4:function(){this.$5=tab.MiscUtil.dispose$1(this.get_connectionPromptViewModel())}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(hN,a,{get_workerID:function(){return this.$1},get_image:function(){return this.$0}},ss.EventArgs);ss.initClass(hO,a,{get_workerID:function(){return this.$0}},ss.EventArgs);ss.initClass(hP,a,{get_zoneExtension:function(){return this.domRoot.children('.tab-zoneExtension')}},spiff.Template,[ss.IDisposable]);ss.initClass(hQ,a,{$l:function(){return this.$r},$m:function(e){this.$r=e;this.$r.addToDom(this.get_template().domRoot)},$n:function(){return this.get_viewModel()},get_parameterControlView:function(){return this.$l()},dispose:function(){this.$n().remove_updateZone(ss.mkdel(this,this.$e));this.$n().remove_resizeZone(ss.mkdel(this,this.$d));this.$n().remove_newZoneContent(ss.mkdel(this,this.$c));this.$n().remove_validStateChanged(ss.mkdel(this,this.$h));if(ss.isValue(this.$r)){this.$r.dispose();this.$r=null}this.$i();ss.makeGenericType(spiff.BaseView$1,[hR]).prototype.dispose.call(this)},$i:function(){if(ss.isValue(this.$p)){this.$p.dispose();this.$p=null}},onViewModelPropertyChanged:function(e,L){ss.makeGenericType(spiff.BaseView$1,[hR]).prototype.onViewModelPropertyChanged.call(this,e,L);if(L.get_propertyName()==='isActiveZone'){this.$j()}if(L.get_propertyName()==='isReadyZone'){this.$k()}},$a:function(){if(this.get_template().domRoot.get(0).offsetHeight===0||this.get_template().domRoot.get(0).offsetWidth===0){return}if(!ss.isValue(this.$p)){this.$p=new spiff.Glass(this.get_template().domRoot.get(0),true);this.$p.setColor(this.$n().get_model().get_dashboardModel().get_backgroundColor());this.$p.set_opaque(true);if(tab.ApplicationModel.get_instance().get_autoUpdate()){this.$p.element.css('cursor','progress')}}this.$p.show()},$b:function(){this.$i()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(ss.isNullOrUndefined(this.$l())){if(tsConfig.is_authoring&&this.get_viewModel().get_isInDashboard()){this.element.append("<div class='tab-zoneExtension'></div>")}this.$e();this.$d();if(ss.isValue(this.$n().get_zoneContentViewModel())){this.$c(this.$n().get_zoneContentViewModel())}this.$h()}if(ss.contains(hQ.$2,this.$n().get_zoneType())){this.element.addClass('tabSuppressVizTooltipsAndOverlays')}this.element.addClass('tabZone-'+this.$n().get_zoneType());if(tab.ProgressiveLoader.get_progressiveLoadEnabled()&&!tab.BrowserSupport.get_isIE()){this.get_template().domRoot.addClass('fade-bg')}if(this.get_viewModel().get_isSetActiveZoneSupported()){var e=spiff.TableauClickHandler.targetAndClick(this.element[0],ss.mkdel(this,function(L){this.get_viewModel().setActive()}));e.set_stopPropagationOnEvent(false);this.disposables.add$1(e)}},$j:function(){this.get_template().domRoot.toggleClass('tabZoneSelected',this.get_viewModel().get_isActiveZone())},$k:function(){this.get_template().domRoot.toggleClass('tabZoneReady',this.get_viewModel().get_isReadyZone())},$e:function(){var e=this.$n().get_zoneZIndex();if(e!==this.$q){this.$q=e;this.get_template().domRoot.css('z-index',e.toString())}this.get_template().domRoot.attr('id',hQ.$0(this.get_viewModel().get_zoneId()));this.$j();var L=this.$n().get_zoneType();var hT=L==='layout-flow'||L==='layout-free-form'||L==='empty';this.get_template().domRoot.toggleClass('wcLayoutContainer',hT);if(ss.contains(hQ.zonesThatUseStyledBox,L)){var hU=this.$n().get_containerStyle();var hV=de.makeStyledBoxCssDict(hU,true);if(ss.isValue(hU)&&!hU.iKN){hV['background-color']=''}this.get_template().domRoot.css(hV);this.$o='';this.get_template().domRoot.toggleClass('tab-darkBackground',ss.isValue(hU)&&(ss.isValue(hU.eBu)&&!tab.ColorModel.fromColorCode(hU.eBu).isLuminanceAboveThreshold(0.314999997615814)))}else{var hW=this.$n().get_backgroundColor();if(!ss.referenceEquals(hW,this.$o)){this.get_template().domRoot.css('background-color',hW);this.$o=hW}}if(ss.isValue(this.$l())&&L==='paramctrl'){this.get_parameterControlView().updateViewProperties()}this.$h()},$d:function(){var e=this.$n();this.get_template().domRoot.css({width:e.get_width()+'px',height:e.get_height()+'px',top:e.get_y()+'px',left:e.get_x()+'px'});var L=this.get_template().get_zoneExtension();if(ss.isValue(L)){L.css({width:e.get_widthWithMargin()+'px',height:e.get_heightWithMargin()+'px',top:-1*e.get_marginTop()+'px',left:-1*e.get_marginLeft()+'px',position:'absolute'})}},$h:function(){if(!this.$n().get_valid()){this.$a()}else{if(ss.isValue(this.$p)){if(!ss.staticEquals(hQ.$3$1,null)){hQ.$3$1()}}this.$b()}},$c:function(e){var L=this.$n().get_zoneType();switch(L){case'title':case'text':{var hT=((L==='title')?1:-1);var hU=new gA.$ctor1(e,hT);this.$m(hU);break}case'size':case'shape':case'color':case'map':{if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isInstanceOfType(e,bw)){this.$m(spiff.ObjectRegistry.newView(bv).call(null,[e]))}else if(ss.isInstanceOfType(e,fy)){this.$m(new fx(e))}}else{var hV=spiff.ObjectRegistry.newView(ej).call(null,[e]);this.$m(hV)}break}case'current-page':{this.$m(spiff.ObjectRegistry.newView(eT).call(null,[e]));break}case'filter':{if(tab.FeatureFlags.isEnabled('VizCatQF')&&this.$n().get_containsNewStyleQuickFilter()){var hW=e;this.$m(fA.getQuickFilterView(hW));break}this.$m(spiff.ObjectRegistry.newView(eo).call(null,[e]));break}case'highlighter':{if(tab.FeatureFlags.isEnabled('VizDataHL')){this.$m(spiff.ObjectRegistry.newView(co).call(null,[e]))}break}case'paramctrl':{if(tab.FeatureFlags.isEnabled('VizParam')&&this.$n().get_containsNewStyleParameterFilter()){var hX=e;this.$m(spiff.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[fh,bx,Object])).call(null,[hX]));break}this.$m(spiff.ObjectRegistry.newView(ff).call(null,[e]));break}case'flipboard-nav':{eI.load(tab.IStoryModule).call(null,[]).done(ss.mkdel(this,function(hY){this.$m(hY.newFlipboardNavigatorView(e));this.$9()}));break}case'flipboard':{eI.load(tab.IStoryModule).call(null,[]).done(ss.mkdel(this,function(hY){this.$m(hY.newFlipboardView(e))}));break}case'web':{this.$m(new hG(e,this.$n()));break}case'bitmap':{this.$m(new dM(e,this.$n()));break}case'viz':{this.$m(spiff.ObjectRegistry.newView(fb).call(null,[e]));break}case'layout-flow':{this.$m(spiff.ObjectRegistry.newView(cN).call(null,[e]));break}default:{break}}this.$9()},$9:function(){if(tab.ProgressiveLoader.get_progressiveLoadEnabled()&&!tab.BrowserSupport.get_isIE()){if(ss.isValue(this.$l())){this.$l().get_rootElement().addClass('fade-in')}}},$g:function(e){this.$n().zoneEntered(false)},$f:function(e){this.$n().zoneEntered(true)}},ss.makeGenericType(spiff.BaseView$1,[hR]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[hR])]);ss.initClass(hR,a,{add_updateZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updateZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_resizeZone:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_resizeZone:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_zoneResized:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_zoneResized:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_newZoneContent:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_newZoneContent:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_validStateChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_validStateChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_zoneContentViewModel:function(){return this.$i},get_zoneType:function(){return this.$j.get_zoneType()},get_height:function(){return this.$j.get_contentHeight()-2*this.$j.borderWidth()},get_width:function(){return this.$j.get_contentWidth()-2*this.$j.borderWidth()},get_x:function(){return this.$j.get_contentX()},get_y:function(){return this.$j.get_contentY()},get_marginLeft:function(){return this.get_x()-this.$j.get_xWithMargin()},get_marginTop:function(){return this.get_y()-this.$j.get_yWithMargin()},get_widthWithMargin:function(){return this.$j.get_widthWithMargin()},get_heightWithMargin:function(){return this.$j.get_heightWithMargin()},get_model:function(){return this.$j},get_isInDashboard:function(){return this.$j.get_dashboardModel().get_isDashboard()},get_containerStyle:function(){var e=this.$j.pm.rPC;if(this.$7()){e=tab.MiscUtil.cloneObject(e);e.iKN=true;e.eBu=this.$j.get_dashboardModel().get_zonePlaceholderColor()}return e},get_titleSize:function(){return{w:this.$j.pm.nkG1,h:this.$j.pm.jZr}},get_valid:function(){if(tab.ApplicationModel.get_instance().get_isOffline()&&!ss.contains(hR.$1,this.get_zoneType())){return false}return this.$g},get_zoneZIndex:function(){return hR.calculateZoneZIndex(this.$j)},get_zoneId:function(){return this.$j.get_zoneId()},get_associatedSheet:function(){return this.$j.get_associatedSheet()},get_backgroundColor:function(){var e;if(this.$7()){e=this.$j.get_dashboardModel().get_zonePlaceholderColor()}else if(ss.contains(hR.$0,this.get_zoneType())){e=''}else{e=this.$j.get_backgroundColor()||'rgba(0,0,0,0)'}return e},get_isActiveZone:function(){return this.$e},set_isActiveZone:function(e){if(this.$e!==e){this.$e=e;this.notifyPropertyChanged('isActiveZone')}},get_isReadyZone:function(){return this.$f},set_isReadyZone:function(e){if(this.$f!==e){this.$f=e;this.notifyPropertyChanged('isReadyZone')}},get_isSetActiveZoneSupported:function(){if(!tsConfig.is_authoring||tsConfig.current_sheet_type!=='dashboard'){return false}return this.get_zoneType()==='viz'||!tsConfig.is_mobile},get_containsNewStyleQuickFilter:function(){return this.$d},$b:function(){var e=this.$j.get_isFloating()&&this.$j.get_zoneType()==='layout-flow';var L=ss.isNullOrUndefined(this.get_containerStyle())||!this.get_containerStyle().iKN&&this.get_containerStyle().ysh1==='bs-none';return e&&L&&this.$j.get_dashboardModel().zonesModel.getChildren(this.get_zoneId()).length===0},get_containsNewStyleParameterFilter:function(){return this.$c},setActive:function(){tab.SelectionClientCommands.setActiveZone(this.get_zoneId())},zoneEntered:function(e){this.$j.get_dashboardModel().set_readyZoneID((e?this.get_zoneId():0))},dispose:function(){if(ss.isValue(this.$i)){this.$i.dispose();this.$i=null}if(ss.isValue(this.$h)){this.$h.remove_visualValidStateChanged(ss.mkdel(this,this.$a))}this.$j.remove_updateZone(ss.mkdel(this,this.$6));this.$j.remove_resizeZone(ss.mkdel(this,this.$5));this.$j.remove_newZoneContent(ss.mkdel(this,this.$3));this.$j.remove_removeZoneContent(ss.mkdel(this,this.$4));spiff.BaseViewModel.prototype.dispose.call(this)},$9:function(){var e=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),this.$j.get_associatedSheet());if(!ss.referenceEquals(this.$h,e)){if(ss.isValue(this.$h)){this.$h.remove_visualValidStateChanged(ss.mkdel(this,this.$a))}this.$h=e;if(ss.isValue(this.$h)){this.$h.add_visualValidStateChanged(ss.mkdel(this,this.$a))}}},$6:function(){this.$9();this.$a();this.raiseActionEvent(this.$2$1);if(this.get_zoneType()==='filter'&&ss.isNullOrUndefined(this.$i)&&ss.isValue(this.get_model().get_model())){this.$3(this.get_model().get_model())}},$5:function(){this.raiseActionEvent(this.$2$2);this.raiseActionEvent(this.$2$3)},$a:function(){var e=true;if(this.$j.get_isDependentOnViz()&&ss.isValue(this.$h)){e=this.$h.get_isVisualValid()}if(e!==this.$g){this.$g=e;this.raiseActionEvent(this.$2$5)}},forceZoneValidState:function(e){if(e!==this.$g){this.$g=e;this.raiseActionEvent(this.$2$5)}},$2:function(){if(this.$b()){this.$i=new cO(this.$j);this.$8(this.$i)}},$3:function(e){this.$d=false;this.$c=false;var L=this.$j.get_zoneType();var hT=ss.mkdel(this,function(){this.$8(this.$i)});var hU=this.$j.get_worksheetName();switch(L){case'title':case'text':{this.$i=new gB(e);break}case'color':case'size':case'shape':case'map':{if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isInstanceOfType(e,tab.CategoricalLegendModel)){this.$i=new bw(e,L,hU,this)}else if(ss.isInstanceOfType(e,tab.QuantitativeColorLegendModel)){this.$i=new fy(e,hU,this)}}else{this.$i=new ek(e,hU,this)}break}case'current-page':{if(tsConfig.allow_filter){this.$i=new eU(e);break}return}case'web':{this.$i=new hH(e);break}case'bitmap':{this.$i=new dN(e);break}case'flipboard-nav':{eI.load(tab.IStoryModule).call(null,[]).done(ss.mkdel(this,function(ib){this.$i=ib.newFlipboardNavigatorViewModel(e);hT()}));return}case'flipboard':{eI.load(tab.IStoryModule).call(null,[]).done(ss.mkdel(this,function(ib){this.$i=ib.newFlipboardViewModel(e,this);hT()}));return}case'filter':{if(ss.referenceEquals(ss.getInstanceType(e),tab.QuickFilterDisplayModel)){var hV=fC.getQuickFilterTypeViewModel(e);if(ss.isValue(hV)){this.$d=true;this.$i=hV}}else{var hW=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),hU);var hX=e;var hY=tab.ModelUtils.findMatchingFilterModel(hW,hX);if(ss.isValue(hY)){this.$i=new ep(hX,hY)}else{return}}break}case'highlighter':{this.$i=new cq(e,tab.ModelUtils.getVisualId(hU),this);break}case'paramctrl':{if(ss.referenceEquals(ss.getInstanceType(e),tab.ParameterFilterDisplayModel)){var hZ=new fh(e);this.$c=true;this.$i=hZ}else{this.$i=new fg(e)}break}case'viz':{var ia=this.$j.get_associatedSheet();this.$i=new fc(e,ia);break}case'layout-basic':{return}default:{return}}hT()},$4:function(){this.dispose()},$8:function(e){if(!ss.staticEquals(this.$2$4,null)){this.$2$4(e)}},$7:function(){var e=tab.ProgressiveLoader.get_progressiveLoadEnabled()&&ss.contains(tab.ProgressiveLoader.zonesThatDeferContentCreation,this.get_zoneType())&&ss.isNullOrUndefined(this.$i);return e}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,tab.IZoneViewModel]);ss.initClass(hS,a,{});(function(){p.$0=10;p.$1=600})();(function(){r.$0="\n<div class='tabDataConnVarEditControl'>\n    <span class='tabDataConnVarEditCtrlVarArea'>\n        <div class='tabDataConnVarEditCtrlName'/>\n        <div class='tabDataConnVarEditCtrlDesc'/>\n    </span>\n    <span class='tabDataConnVarEditCtrlOpSelector'/>\n    <input class='tabDataConnVarEditCtrlValInput' type='text'/>\n    <span class='tabDataConnVarEditCtrlValSelector'>\n        <div class='tabDataConnVarEditCtrlFirstValSelector'>\n            <span class='tabDataConnVarEditCtrlFromLabel'/>\n        </div>\n        <div class='tabDataConnVarEditCtrlSecondValSelector'>\n            <span class='tabDataConnVarEditCtrlToLabel'/>\n        </div>\n    </span>\n</div>"})();(function(){s.$0="<div class='refLineConstantValueEditor'><span class='refLineConstantValueEditorTitle'></span><input class='refLineConstantValueEditorInput' type='text'/></div>"})();(function(){t.$0="<div class='tabMapsSearchContainer'><div class='tabMapsSearchView'></div></div>"})();(function(){dd.$4=null;dd.$3=null})();(function(){gx.defaultLinePattern='solid';gx.defaultLineJoin='bevel';gx.defaultLineCap='butt';gx.defaultTextBaseline='alphabetic';gx.defaultTextAlign='start';gx.defaultLineDashDashed=[3,1];gx.defaultLineDashDotted=[1,1];gx.defaultLineWidth=1;gx.defaultColor='rgb(0,0,0)';gx.defaultTextColor='rgb(0,0,0)';gx.defaultTextAngle=0;gx.defaultFontName='Arial';gx.defaultFontSize=8;gx.defaultTextUnderline=false;gx.$1=0.01})();(function(){dk.halfPI=0.5*Math.PI;dk.onePI=Math.PI;dk.oneAndHalfPI=1.5*Math.PI;dk.twoPI=2*Math.PI;dk.$c=Math.PI*0.15;dk.$b=9.99999974737875E-06})();(function(){bn.halfPI=0.5*Math.PI;bn.onePI=Math.PI;bn.oneAndHalfPI=1.5*Math.PI;bn.twoPI=2*Math.PI;bn.$8='rgb(255,255,255)';bn.angleEpsilon=0.000174000000697561;bn.$7=0.400000005960464})();(function(){eI.$5='vql';eI.$3=tab.FeatureFlags.isEnabled('AsyncJsModuleLoad');eI.$6={};eI.$7={};eI.$4={};eI.$8=false;eI.register(tab.IPdfExportDialogModule).call(null,'PdfExportDialog');eI.register(tab.IStoryModule).call(null,'Story');eI.register(dT).call(null,'RuntimeUI')})();(function(){fT.$0=null})();(function(){bI.$0=null})();(function(){dc.fontsReadyMetricName='AllFontsDownloaded';dc.uiStabilizedMetricName='UI Stabilized'})();(function(){de.tableauFallback='Arial';de.sansSerifFallback='sans-serif';de.$8=[{item1:'thin',item2:'100'},{item1:'extra-light',item2:'200'},{item1:'extra light',item2:'200'},{item1:'light',item2:'300'},{item1:'normal',item2:'400'},{item1:'regular',item2:'400'},{item1:'book',item2:'400'},{item1:'medium',item2:'500'},{item1:'demi-bold',item2:'600'},{item1:'semi-bold',item2:'600'},{item1:'demi',item2:'600'},{item1:'bold',item2:'700'},{item1:'heavy',item2:'800'},{item1:'black',item2:'900'}];de.$6=[{item1:'compressed',item2:'extra-condensed'},{item1:'narrow',item2:'condensed'},{item1:'condensed',item2:'condensed'}];de.$7=[{item1:'italic',item2:'italic'}];de.$5={}})();(function(){fQ.stylesheetId='tab-renderAndCheckFontLoader';fQ.hiddenDivClass='tab-hiddenFontMeasurer';fQ.baselineFontClass='tab-baselineFontMeasurer';fQ.baselineFontName="'Courier New', Monaco, monospace";fQ.measurementElementText='The quick brown fox jumps over the lazy dog iiilllest';fQ.$2=ss.mkdict(['z-index','-1','position','absolute','top','0','right','0','visibility','hidden']);fQ.maxLengthToWaitForFontsToDownloadMilliseconds=120000;fQ.fontLoadedCheckDelayPerTryMilliseconds=100;fQ.ensureFirstRenderPassCompletedDelayMilliseconds=5;fQ.maxNumberOfTriesToDownloadFont=1200})();(function(){bl.fontLoaderElementId='tab-simpleFontLoader'})();(function(){ga.raiseFontPreparationCompleteDelay=200;ga.tableauLight='Tableau Light';ga.tableauBook='Tableau Book';ga.tableauRegular='Tableau Regular';ga.tableauMedium='Tableau Medium';ga.tableauSemibold='Tableau Semibold';ga.tableauBold='Tableau Bold';ga.bentonSansLight='Benton Sans Light';ga.bentonSansBook='Benton Sans Book';ga.bentonSansBookItalic='Benton Sans Book Italic';ga.bentonSansMedium='Benton Sans Medium';ga.bentonSansSemiDemi='Benton Sans SemiDemi';ga.bentonSansSemiDemiItalic='Benton Sans SemiDemi Italic';ga.tableauFontWoffPaths=ss.mkdict(['Tableau Light',tableau.util.assetUrl('/fonts/Tableau-Light.woff'),'Tableau Book',tableau.util.assetUrl('/fonts/Tableau-Book.woff'),'Tableau Regular',tableau.util.assetUrl('/fonts/Tableau-Regular.woff'),'Tableau Medium',tableau.util.assetUrl('/fonts/Tableau-Medium.woff'),'Tableau Semibold',tableau.util.assetUrl('/fonts/Tableau-Semibold.woff'),'Tableau Bold',tableau.util.assetUrl('/fonts/Tableau-Bold.woff')]);ga.bentonSansWoffPaths=ss.mkdict(['Benton Sans Light',tableau.util.assetUrl('/fonts/BentonSans-Light.woff'),'Benton Sans Book',tableau.util.assetUrl('/fonts/BentonSans-Book.woff'),'Benton Sans Book Italic',tableau.util.assetUrl('/fonts/BentonSans-Book_Italic.woff'),'Benton Sans Medium',tableau.util.assetUrl('/fonts/BentonSans-Medium.woff'),'Benton Sans SemiDemi',tableau.util.assetUrl('/fonts/BentonSans-SemiDemi.woff'),'Benton Sans SemiDemi Italic',tableau.util.assetUrl('/fonts/BentonSans-SemiDemi_Italic.woff')]);var e=new cD;e.set_fontFamily('Tableau Light');e.woffLocation=ga.tableauFontWoffPaths['Tableau Light'];var L=new cD;L.set_fontFamily('Tableau Light');L.set_weight('bold');L.woffLocation=ga.tableauFontWoffPaths['Tableau Medium'];var hT=new cD;hT.set_fontFamily('Tableau Book');hT.woffLocation=ga.tableauFontWoffPaths['Tableau Book'];var hU=new cD;hU.set_fontFamily('Tableau Book');hU.set_weight('bold');hU.woffLocation=ga.tableauFontWoffPaths['Tableau Medium'];var hV=new cD;hV.set_fontFamily('Tableau Regular');hV.woffLocation=ga.tableauFontWoffPaths['Tableau Regular'];var hW=new cD;hW.set_fontFamily('Tableau Regular');hW.set_weight('bold');hW.woffLocation=ga.tableauFontWoffPaths['Tableau Semibold'];var hX=new cD;hX.set_fontFamily('Tableau Medium');hX.woffLocation=ga.tableauFontWoffPaths['Tableau Medium'];var hY=new cD;hY.set_fontFamily('Tableau Medium');hY.set_weight('bold');hY.woffLocation=ga.tableauFontWoffPaths['Tableau Bold'];var hZ=new cD;hZ.set_fontFamily('Tableau Semibold');hZ.woffLocation=ga.tableauFontWoffPaths['Tableau Semibold'];var ia=new cD;ia.set_fontFamily('Tableau Semibold');ia.set_weight('bold');ia.woffLocation=ga.tableauFontWoffPaths['Tableau Bold'];var ib=new cD;ib.set_fontFamily('Tableau Bold');ib.woffLocation=ga.tableauFontWoffPaths['Tableau Bold'];var ic=new cD;ic.set_fontFamily('Tableau Bold');ic.set_weight('bold');ic.woffLocation=ga.tableauFontWoffPaths['Tableau Bold'];ga.tableauFontNames=[e,L,hT,hU,hV,hW,hX,hY,hZ,ia,ib,ic];var e=new cD;e.set_fontFamily('Benton Sans');e.woffLocation=ga.bentonSansWoffPaths['Benton Sans Book'];ga.bentonSansFontNames=[e];var e=new cD;e.set_fontFamily('Benton Sans SemiDemi');e.woffLocation=ga.bentonSansWoffPaths['Benton Sans SemiDemi'];ga.bentonSansSemiDemiFontNames=[e];ga.$1=null})();(function(){hy.propertyHoverNode='HoverNode'})();(function(){dR.defaultHighlightBgColor=new tab.ColorModel(245,245,171,1);dR.defaultSelectionBgColor=new tab.ColorModel(140,196,211,1);dR.defaultHighlightTextColor=new tab.ColorModel(0,0,0,1);dR.defaultSelectionTextColor=new tab.ColorModel(0,0,0,1);var e=new dR;e.highlightBgColor=dR.defaultHighlightBgColor;e.selectionBgColor=dR.defaultSelectionBgColor;e.highlightTextColor=dR.defaultHighlightTextColor;e.selectionTextColor=dR.defaultSelectionTextColor;dR.defaultColors=e})();(function(){cy.$8='rgb(0,0,0)';cy.$7='rgb(245,245,245)';cy.$b=['x-labels','bottom-axis','top-axis'];cy.$c=['y-labels','left-axis','right-axis'];cy.$a=new tab.FifoCache(20);cy.$9=true})();(function(){eV.shapeMarkStampingRatio=32;eV.$9='_int';eV.$7=32767;eV.$8=100;eV.$6=['font','font_size','font_style','font_weight'];eV.$1=['color','border_color','halo_color','selected_halo_color','highlighted_halo_color','selected_multi_prim_halo_color','text_style_color','background_color'];eV.$4=['x','x1','x_prev','x_next','cell_x'];eV.$3=['clip_width'];eV.$5=['y','y1','y_prev','y_next','cell_y'];eV.$2=['clip_height'];eV.$b=null;eV.$c=null;eV.$a=null})();(function(){var e=[];e.push('left-axis');e.push('right-axis');e.push('y-labels');e.push('x-labels');e.push('top-axis');e.push('bottom-axis');e.push('title');e.push('caption');fc.blackListVisualParts=e;fc.vizNavigationSettingPropertyName='vizNavigationSetting'})();(function(){eX.$4='rgba(0,0,0,1)';eX.$3='rgba(255,255,255,255)';eX.$6=['normalUnderPass','normalOnPass','highlightedUnderPass','highlightedOnPass','selectedUnderPass','selectedOnPass'];eX.$5=['background','marks','underLabel','label','foreground']})();(function(){fU.$1={x:0,y:0,w:0,h:0}})();(function(){w.$0="<div class='tabHorizontalSlider'>\n</div>'"})();(function(){y.$0="<div><div class='tabLeafletMapHolder' /><div class='tabLeftBarnDoor' /><div class='tabRightBarnDoor' /></div>"})();(function(){bm.$9=null;bm.$b=false;bm.$c=null;bm.$a=false;if(tabBootstrap.Utility.get_embedMode()==='embeddedNotInWg'){var e=window.addEventListener;if(ss.isValue(e)){e('message',bm.$3,false)}else{var L=bm.$3;window.self.attachEvent('onmessage',L)}bm.$a=true}bm.$b=tabBootstrap.ViewerBootstrap.get_instance().isVisibleRectCommunicationEnabled;if(tab.BrowserSupport.get_isIE()){bm.$1()}})();(function(){cu.$6=6})();(function(){hn.rowHeight=26;hn.numberOfRowsInViewport=6})();(function(){ht.autoCompleteDebounceTime=200})();(function(){es.horizontalIteratorButtonSize=12;es.horizontalIteratorButtonHolderWidth=28;es.parentZoneSizeChangedKey='ParentZoneSizeChanged';es.newZoneParentKey='newZoneParent'})();(function(){bw.$1=new tab.ColorModel(0,0,0,1);bw.$2='Items';bw.$0='CustomShapesLoaded'})();(function(){fy.modelChangedProperty='ModelChanged'})();(function(){eH.$1$1=null})();(function(){gz.contentElemClassName='tab-textRegion-content';gz.$1="<{0} class='tab-textRegion'><div class='tab-textRegion-boundary'><div class='tab-textRegion-content'></div></div></{0}>"})();(function(){ha.$0='.tab-tooltipContent';ha.$1="\n<div class='tab-tooltip'>\n  <div class='tab-tooltipContainer'>\n    <div class='tab-tooltipContent' waiRole='alert'></div>\n  </div>\n  <div class='tab-tooltipConnector'></div>\n</div>"})();(function(){gT.defaultVerticalOffset=16;gT.defaultHorizonalOffset=16;gT.$3=16;gT.$2=10;gT.belowRightClass='tab-tooltipBR';gT.belowLeftClass='tab-tooltipBL';gT.aboveRightClass='tab-tooltipAR';gT.aboveLeftClass='tab-tooltipAL';gT.$1='tab-tooltipAR tab-tooltipAL tab-tooltipBL tab-tooltipBR';gT.$4=null})();(function(){hj.$9="\n<div class='tab-ubertip'>\n  <div class='tab-ubertipContent'>\n    <div class='tab-ubertipTooltip'></div>\n    <div class='tab-ubertipActions'></div>\n  </div>\n  <div class='tab-ubertipCommandArea'>\n    <div class='tab-ubertipSelected'></div>\n    <div class='tab-ubertipCommands'></div>\n    <div class='tab-clear'></div>\n  </div>\n</div>";hj.$b='.tab-ubertipTooltip';hj.$7='.tab-ubertipContent';hj.$2='.tab-ubertipActions';hj.$4='.tab-ubertipCommandArea';hj.$6='.tab-ubertipCommands';hj.$5='.tab-clear';hj.$a='.tab-ubertipSelected';hj.$3="<li><div class='tab-separator'>&nbsp;</div></li>";hj.$8=70;hj.$c=null;hj.$c={}})();(function(){hC.$1$1=null;hC.$1$2=null})();(function(){gV.whitespaceObjectId='W';gV.unknownObjectId='U';gV.$2='mouseleave.basemode';gV.$3=0;gV.$1=null;gV.$0=null;gV.$4='U'})();(function(){bt.$1="<span class='tabLegendItemSwatch' />";bt.$0="<canvas class='tabLegendItemSwatch' />";bt.$2="<div class='tabLegendItem' role='listitem'><span class='tabLegendItemSwatchHolder'></span><span class='tabLegendItemLabelHolder'><span class='tabLegendItemLabel' /></span></div>"})();(function(){bs.$0="<span class='tabLegendItemColumn'/>"})();(function(){bv.$1=1;bv.$3='tabLegendItem';bv.$5=2;bv.$2='tableau_base_legend_';bv.$6=new tab.ColorModel(216,216,216,1);bv.$4=new tab.ColorModel(178,178,178,1)})();(function(){eu.legendHighlighterClass='tabLegendHighlighter';eu.legendHighlighterSelector='.tabLegendHighlighter';eu.legendHighlighterHolderClass='tabLegendHighlighterHolder';eu.legendHighlighterHolderSelector='.tabLegendHighlighterHolder'})();(function(){fw.$0="\n            <div class='tabLegendPanel' style='position: relative; overflow: hidden'>\n                <div class='tabLegendTitleAndControls'>\n                    <h3 class='tabLegendTitle' style='position: absolute'></h3>\n                    <div class='tabLegendTitleControls'>\n                        <div class='tabLegendContextMenuButton'>\n                            <div class='tabLegendContextMenuButtonIcon'></div>\n                        </div>\n                    </div>\n                </div>\n                <canvas class='tabLegendRamp' style='position: absolute'></canvas>\n                <div class='tabLegendCenterMark' style='position: absolute'></div>\n                <div class='tabLegendMinLabel' style='position: absolute'></div>\n                <div class='tabLegendMaxLabel' style='position: absolute'></div>\n            </div>"})();(function(){fx.$0='tableau_qcolor_legend_';fx.$1=0.15})();(function(){dw.$0="<div class='tabCatLegendScrollButtonHolder'><span class='tabCatLegendScrollPrev'/><span class='tabCatLegendScrollNext'/></div>"})();(function(){hv.$0="<div class='tabCatLegendScrollButtonHolder'><span class='tabCatLegendScrollPrev'/><br><span class='tabCatLegendScrollNext'/></div>"})();(function(){dW.$2=0;dW.$1='tabIterButtonDisabled';dW.$0=100})();(function(){eS.$0="<div class='tab-page'></div>"})();(function(){spiff.ObjectRegistry.registerType(eT,eT).call(null)})();(function(){bz.$0='ContextMenuDropDownButton'})();(function(){bx.$4=23;bx.$1='CategoricalQFComponent';bx.$2=10;bx.$3=10})();(function(){fz.$0="<div class='tab-quick-filter'></div>"})();(function(){co.$0=312;co.widgetClassName='tabDataHighlighterView';co.searchResultsListClassName='tabDataHighlighterViewSearchResultList';co.searchResultsListItemClassName='tab-list-item';co.searchResultsListItemLabelClassName='tab-list-item-label';co.inactiveTextClassName='tabDataHighlighterViewInactiveText';co.queryDelayTimerMs=200;spiff.ObjectRegistry.registerType(co,co).call(null)})();(function(){fe.$0="<div class='tab-parameter'></div>"})();(function(){hF.$0="<div class='tab-web'></div>"})();(function(){dK.$0=Math.pow(2,-23)})();(function(){dL.$0="<div class='tab-image'></div>"})();(function(){hD.$0=0})();(function(){hE.hitTestDelay=250;hE.maxHitTestDistance=20})();(function(){du.$0=ss.mkdict(['no-hit',0,'area-hit',1,'near-hit',2,'exact-hit',3]);du.$1=ss.mkdict(['ref-lines',3,'trend-lines',2,'ref-bands',3,'marks',5,'mark-labels',6])})();(function(){bo.$0="<canvas class='tabCanvas'></canvas>"})();(function(){eZ.$2=3;eZ.$3=145;eZ.$1=false})();(function(){cF.$0=2})();(function(){eP.$0="<img class='tab-overlayImage'/>"})();(function(){eE.$0=5})();(function(){spiff.ObjectRegistry.registerType(eM,eM).call(null)})();(function(){spiff.ObjectRegistry.registerType(dj,dj).call(null)})();(function(){dl.$3=50;dl.$6=110.574;dl.$7=111.32;dl.$1=90;dl.$0=180;dl.$4=6000;dl.$2=8;dl.$5="<div class='tabGotoMyLocationButtonContainer'></div>"})();(function(){eD.widgetClassName='tabMapsSearchView';eD.$0='tabMapsSearchViewCollapsed';eD.$1='tabMapsSearchContainerCollapsed';eD.widgetClassNameTranslucent='tabMapsSearchViewTranslucent';eD.suggestionDisplayClassName='tabMapsSearchViewSuggestionDisplayName';eD.suggestionActiveSearchTextClassName='tabMapsSearchViewSuggestionActiveSearchText';eD.suggestionParentClassName='tabMapsSearchViewSuggestionParentName';eD.queryDelayTimerMs=200;eD.suppressVizTooltipsAndOverlays='tabSuppressVizTooltipsAndOverlays';spiff.ObjectRegistry.registerType(eD,eD).call(null)})();(function(){eC.$0="<div class='tabMapAttribution'><div class='tabMapAttributionBackground' /><a class='tabMapAttributionLink'></a></div>"})();(function(){cM.$0="<div class='tab-EmptyFloatingLayout'></div>"})();(function(){spiff.ObjectRegistry.registerType(cN,cN).call(null)})();(function(){hP.$0="<div class='tab-zone'></div>"})();(function(){bg.dashboardContainerSelector='.dashboardSpacer';bg.overlayId='auth-overlay';bg.messageEventName='message';bg.frameTestHook='dse-frame'})();(function(){dg.genericErrorTemplateHtml='<div class="auth-box ocontent tb-data-source-error-container"> \n                                                              <div class="tb-data-source-error"></div>\n                                                              <div class="tb-data-source-error-sub"></div>\n                                                              <div class="tab-UnifiedButton bordered tb-data-source-btn tb-data-source-button-retry"></div>\n                                                              <div class="tab-data-source-msg"><textarea readonly class="tb-data-source-error-message"></textarea></div>\n                                                            </div>'})();(function(){cJ.bodyContainer='<span></span>'})();(function(){ca.$0=300;ca.$1=18})();(function(){spiff.ObjectRegistry.registerType(cb,cb).call(null)})();(function(){cG.$0="<div class='tab-downloadView tab-toolbarFlyout'><div class='tab-downloadApplication'><div class='tab-explanationTitle' /><div class='tab-explanationBody' /><div class='tab-downloadAction'><div class='tab-availablePlatforms' /><div class='tab-downloadAppButton' /></div></div><div class='tab-downloadButtons'></div></div>"})();(function(){gg.linkTemplate="\n            <div class='tab-shareLinkSection'>\n                <span class='tab-shareLinkTitle tab-shareTitle'/>\n                <span class='tab-shareLinkInput'/>\n                <div class='tab-shareLinkButtons'/>\n            </div>";gg.embedTemplate="\n            <div class='tab-shareEmbedSection'>\n                <span class='tab-shareEmbedTitle tab-shareTitle'/>\n                <span class='tab-shareEmbedInput'/>\n            </div>";gg.viewStateTemplate="\n            <div class='tab-shareViewStateSection'>\n                <span class='tab-shareCurrentView tab-shareViewToggle'/><span class='tab-shareOriginalView tab-shareViewToggle'/>\n            </div>";gg.$0="\n            <div class='tab-shareView tab-toolbarFlyout'>\n            </div>"})();(function(){gu.$0="\n            <div class='tab-subscribeView tab-toolbarFlyout'>\n                <div class='tab-subscribeToggleSection'>\n                    <label class='tab-subscribeViewsToggleLabel'/>\n                    <div class='tab-subscribeToggleContainer'>\n                        <span class='tab-subscribeThisView tab-subscribeToggle'/><span class='tab-subscribeAllViews tab-subscribeToggle'/>\n                    </div>\n                </div>\n                <div class='tab-subscribeSchedule'/>\n                <div class='tab-subscribeSubject'/>\n                <div class='tab-subscribeSelfArea tab-subscribeOthersSection'/>\n                <div class='tab-subscribeEmail'/>\n                <div class='tab-addSubscribersArea tab-subscribeOthersSection'>\n                    <label class='tab-addSubscribersLabel'/>\n                </div>\n                <div class='tab-manageSubscribersArea tab-subscribeOthersSection'>\n                    <label class='tab-manageSubscribersLabel'/>\n                </div>\n                <div class='tab-subscribeSubmit'/>\n            </div>"})();(function(){ba.$0="<div class='tab-areYouSure-container'><div class='tab-areYouSure-outer'><div class='tab-areYouSure-inner'><span class='tab-areYouSure-label'></span><div class='tab-areYouSure-no tab-areYouSure-button'></div><div class='tab-areYouSure-yes tab-areYouSure-button'></div></div></div></div>"})();(function(){bT.$0="\n<div class='tab-customViewsView tab-toolbarFlyout'>\n    <div class='tab-cv-flyoutSection tab-customViews-saveView' />\n    <div class='tab-cv-flyoutSection tab-cv-myViews'>\n        <div class='tab-toolbarFlyoutTitle'/>\n        <div class='tab-cv-listWrapper'>\n            <div class='tab-cv-viewsList'/>\n        </div>\n    </div>\n    <div class='tab-cv-flyoutSection tab-cv-otherViews'>\n        <div class='tab-toolbarFlyoutTitle'/>\n        <div class='tab-cv-listWrapper'>\n            <div class='tab-cv-viewsList'/>\n        </div>\n    </div>\n    <div class='tab-cv-flyoutSection tab-cv-manageModeControls' />\n</div>"})();(function(){bU.$0='tab-customViews-rename-container';spiff.ObjectRegistry.registerType(bU,bU).call(null)})();(function(){bV.maxCustomViewNameLength=255;bV.modeSelect=0;bV.modeManage=1;bV.$1=tab.Logger.getLogger(bV)})();(function(){bW.$0="<div class='tab-gutter'><div class='tab-dashboard'/></div>";bW.$1="<div class='tab-dashboard'/>"})();(function(){ch.$0='range';spiff.ObjectRegistry.registerType(ch,ch).call(null)})();(function(){cd.$0="\n<div class='tabDataConnectionPrompt'>\n    <div class='tabDataConnPromptCtrlArea'>\n        <div class='tabDataConnPromptVarListArea'>\n            <div class='tabDataConnPromptVarListInstr'/>\n            <div class='tabDataConnPromptVarListHeader'>\n                <span class='tabDataConnPromptVarListHeaderName'/>\n                <span class='tabDataConnPromptVarListHeaderValue'/>\n            </div>\n            <div class='tabDataConnPromptVarListContainer'/>\n        </div>\n        <div class='tabDataConnPromptEditArea'>\n            <div class='tabDataConnPromptEditTitle'/>\n            <div class='tabDataConnPromptEditInstr'/>\n        </div>\n    </div>\n    <div class='tabDataConnPromptBtnArea'/>\n</div>"})();(function(){cj.$0="\n<span class='tabDataConnPromptVarListItem'>\n    <div class='tabDataConnPromptVarName tabDataConnPromptVarListItemCell'/>\n    <div class='tabDataConnPromptVarValue tabDataConnPromptVarListItemCell'/>\n    <div class='tabDataConnPromptDeleteVarBtnArea'/>\n</span>"})();(function(){ck.$0='required'})();(function(){hu.$0="\n<div class='tabDataConnPromptVarList'>\n    <div class='tabDataConnPromptAddVarCtrl'>\n        <div class='tabDataConnPromptAddVarCtrlBtnArea'/>\n        <div class='tabDataConnPromptAddVarCtrlVarSelector'/>\n    </div>\n</div>"})();(function(){spiff.ObjectRegistry.registerType(cl,cl).call(null)})();(function(){spiff.ObjectRegistry.registerType(ce,ce).call(null)})();(function(){gL.$1='tabToolbarButtonImg';gL.$2='tabToolbarButtonText';gL.$0="<div class='tabToolbarButton' role='button'><span class='tabToolbarButtonImg' /><span class='tabToolbarButtonText' /></div>"})();(function(){gP.$0="\n            <div class='tab-toolbar tab-fill'>\n                <div class='tab-vizItems tab-fill-left' />\n                <div class='tab-publicItems'>\n                    <a class='tab-publicLogoLink' target='_blank' />\n                    <div class='tab-belowPublicLogo' />\n                </div>\n                <div class='tab-nonVizItems tab-fill-right' />\n            <div/>"})();(function(){V.$0="<div id='tabViewer' class='wcBody' style='visibility: hidden;' tabindex='0'><div class='wcVizPlaceholder'/></div>"})();(function(){hx.$0=new RegExp('^https?://[^/]+(.*)$')})();(function(){U.$1=new cA;U.$2=null;U.$3=false;U.$1$1=null;U.$1$2=null})();(function(){gS.$1='tab-icon-';gS.$3='toggle-updates';gS.$2=430})();(function(){cI.$0='http://public.tableau.com/s/download'})();(function(){gi.currentViewPath='/shared/';gi.$d='http://facebook.com';gi.$9=4;gi.$f=65;gi.$g=32;gi.$h=26;gi.$a=0.75;gi.$c=0.75;gi.$b=1.77;var e=[];e.push('from_wg');e.push('host_url');e.push('debug');e.push('wb');e.push('vw');e.push('prefix');e.push('cvu');e.push('cvn');e.push('delay');e.push('preview');e.push('site');e.push('guid');e.push('mobile');e.push('app');e.push('showVizHome');e.push('record_client_performance');e.push('bootstrapWhenNotified');e.push('apiID');e.push('reloadOnCustomViewSave');e.push('openAuthoringInTopWindow');e.push('browserBackButtonUndo');e.push('size');gi.$e=e})();(function(){gt.maxSubscriptionSubjectLength=256;gt.maxSubscriptionEmailLength=100;gt.$0='tabSubscriptionScheduleDropdown'})();(function(){gN.iconTypeDownload='download';gN.iconTypeShare='share';gN.iconTypeCustomViews='customviews';gN.iconTypeSubscribe='subscribe';gN.iconTypeEdit='edit';gN.iconTypeRedo='redo';gN.iconTypeUndo='undo';gN.iconTypeRevert='revert';gN.iconTypeToggleDataUpdates='toggle-updates';gN.iconTypeRefreshData='refresh';gN.pauseButton='Pause'})();(function(){gM.$0='tabToolbarButtonFlyoverShown'})();(function(){gR.$7='hideLabels';gR.$a='showLabels';gR.$8='horizontalLabels';gR.$b='stackedLabels';gR.$9='narrow';gR.$6='tab-customviews-modified';gR.$c='.tabToolbarButton';gR.$5='160px';gR.$d=50;spiff.ObjectRegistry.registerType(gR,gR).call(null)})();(function(){hK.$0="<div class='tab-workbook'><div class='dashboardSpacer'/></div>"})();(function(){bX.dashboardGutterCssSelector='.tab-gutter';spiff.ObjectRegistry.registerType(bX,bX).call(null)})();(function(){hL.dashboardContainerSelector='.dashboardSpacer';spiff.ObjectRegistry.registerType(hL,hL).call(null)})();(function(){spiff.ObjectRegistry.registerType(W,W).call(null)})();(function(){gs.$0=0;spiff.ObjectRegistry.registerType(gs,gs).call(null)})();(function(){spiff.ObjectRegistry.registerType(gh,gh).call(null)})();(function(){cH.$1='tabDownloadData';cH.$0='tabDownloadCrosstab';cH.$2='tabDownloadImage';cH.$3='tabDownloadPdf';cH.$4='tabDownloadWorkbook';cH.$5='tabPublicApp';spiff.ObjectRegistry.registerType(cH,cH).call(null)})();(function(){fb.suppressVizTooltipsAndOverlays='tabSuppressVizTooltipsAndOverlays';fb.scrollableXRegions=['xheader','bottomaxis','topaxis','viz'];fb.scrollableYRegions=['yheader','leftaxis','rightaxis','viz'];fb.headerRegions=['yheader','xheader','leftaxis','rightaxis','bottomaxis','topaxis','uleft','uright'];fb.$0=8;fb.$1=30;fb.$2=[];fb.$4=[];fb.$3=[]})();(function(){spiff.ObjectRegistry.registerType(ff,ff).call(null)})();(function(){eo.titlePadding=3;eo.minTitleHeight=17;spiff.ObjectRegistry.registerType(eo,eo).call(null)})();(function(){hQ.$1='tabZoneReady';hQ.zonesThatUseStyledBox=['layout-flow','map','color','size','shape','filter','highlighter','paramctrl'];hQ.$2=['bitmap','color','shape','size','map','text','web','paramctrl','filter','highlighter','empty','current-page'];hQ.$3$1=null;spiff.ObjectRegistry.registerType(hQ,hQ).call(null)})();(function(){ek.$0='urlCacheInfo'})();(function(){hR.isActiveZonePropertyName='isActiveZone';hR.isReadyZonePropertyName='isReadyZone';hR.$0=['bitmap','text','layout-free-form','empty'];hR.$1=['viz','color','shape','size','map','text','title','bitmap','highlighter','empty','flipboard']})();(function(){X.$2$1=null})();(function(){hw.$1$1=null})();(function(){cZ.$0=100})();(function(){gG.$0=tab.Logger.getLogger(gG)})();(function(){cY.unknownItemIndex=-2;cY.allItemIndex=-1;cY.$1=tab.Strings.QuickFilterAll;cY.filterItem=null;cY.filterItem=(tsConfig.is_mobile?new cX:new cW)})();(function(){bC.getFilterItemHtml=ss.mkdel(cY.filterItem,cY.filterItem.formatChecklistFilterItemHtml)})();(function(){bh.$1=3;bh.$0=30})();(function(){bu.$0="<div class='tabLegendHighlighterHolder'><div class='tabLegendHighlighter'/></div>"})();(function(){bE.$5='tvdrag_svg_div';bE.$8='circle_radius';bE.$0='circle_crosshair';bE.$1=4;bE.$3='tabDistanceReadout';bE.$4="<div class='tabDistanceReadout'></div>";bE.$6="<line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line>";bE.$2="<line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line>";bE.$9="<line class='circle_radius'x1='0' y1='0' x2='0' y2='0'></line>";bE.$7="<div>\n                                                <svg class='selectionShape'>\n                                                    <circle class='tvdrag_svg_marquee'></circle><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_radius'x1='0' y1='0' x2='0' y2='0'></line></svg><div class='tabDistanceReadout'></div></div>"})();(function(){spiff.ObjectRegistry.registerType(bN,bN).call(null)})();(function(){tab.CommandRedirectRegistry.registerHandler('command-redirect-confirmation',bM.$0)})();(function(){bR.$1=1000;bR.$0=200})();(function(){spiff.ObjectRegistry.registerType(bQ,bQ).call(null)})();(function(){cr.$0="\n            <div class='tabDataHighlighterContainer'>\n                <div class='tab-zone-titleregion' />\n                <div class='tabDataHighlighterContent'>\n                    <div class='tabDataHighlighterView'/>\n                </div>\n            </div>"})();(function(){er.$1=null;er.$2=null})();(function(){gn.tableauSliderTemplate="<div class='dijit dijitReset'><div class='dijitReset tableauSlider' dojoAttachPoint='tableauSlider'><table class='dijit dijitReset' cellspacing='0' cellpadding='0' border='0' rules='none'><tr class='dijitReset'><td class='dijitReset'></td><td dojoAttachPoint='containerNode,topDecoration' class='dijitReset' style='text-align:center;width:100%;'></td><td class='dijitReset'></td></tr><tr class='dijitReset'><td class='dijitReset'><div class='dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper dijitSliderLeftBumper' dojoAttachEvent='onclick:_onClkDecBumper'></div></td><td class='dijitReset'><input dojoAttachPoint='valueNode' type='hidden' name='${name}'><div class='dijitReset dijitSliderBarContainerH' waiRole='presentation' dojoAttachPoint='sliderBarContainer'><div waiRole='presentation' dojoAttachPoint='progressBar' class='dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH' dojoAttachEvent='onclick:_onBarClick'><div class='dijitSliderMoveable dijitSliderMoveableH'><div dojoAttachPoint='sliderHandle,focusNode' class='dijitSliderImageHandle dijitSliderImageHandleH' dojoAttachEvent='onmousedown:_onHandleClick' waiRole='slider' valuemin='${minimum}' valuemax='${maximum}'></div></div></div><div waiRole='presentation' dojoAttachPoint='remainingBar' class='dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH' dojoAttachEvent='onclick:_onBarClick'></div></div></td><td class='dijitReset'><div class='dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper dijitSliderRightBumper' dojoAttachEvent='onclick:_onClkIncBumper'></div></td></tr><tr class='dijitReset'><td class='dijitReset'></td><td dojoAttachPoint='containerNode,bottomDecoration' class='dijitReset'></td><td class='dijitReset'></td></tr></table></div><div class='dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH tableauArrowDec' style='display:none' dojoAttachPoint='decrementButton'><div class='dijitSliderDecrementIconH' tabIndex='-1'><span class='dijitSliderButtonInner'>-</span></div></div><div class='dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH tableauArrowInc' style='display:none' dojoAttachPoint='incrementButton'><div class='dijitSliderIncrementIconH' tabIndex='-1'><span class='dijitSliderButtonInner'>+</span></div></div></div>";gn.$2="<div class='dijitTooltip dijitTooltipLeft' id='dojoTooltip'><div class='dijitTooltipContainer' dojoAttachpoint='coreArea'><div class='dijitTooltipContents' dojoAttachPoint='containerNode' waiRole='alert'></div></div><div class='dijitTooltipConnector'></div></div>";gn.$0=1;gn.$1=20})();(function(){hh.lazilyCreateCalendar=true})();(function(){eg.$8=new tab.ColorModel(255,255,255,1);eg.$6=0.235294118523598;eg.$7=0.411764711141586;eg.$3=0.39215686917305;eg.$1=0.549019634723663;eg.$5=95;eg.$4=new tab.ColorModel(234,234,234,1);eg.$2=new tab.ColorModel(241,241,241,1)})();(function(){fP.pickerDurationsInteger=[1,7,30,90,365,1825];fP.pickerDurations=['0d','-7d','-30d','-90d','-365d','-1825d'];fP.pickerStrings=[tab.Strings.RelDatePickerOneDayAbbrev,tab.Strings.RelDatePickerOneWeekAbbrev,tab.Strings.RelDatePickerOneMonthAbbrev,tab.Strings.RelDatePickerThreeMonthsAbbrev,tab.Strings.RelDatePickerOneYearAbbrev,tab.Strings.RelDatePickerFiveYearsAbbrev];fP.$1='RDFButtonR1';fP.$0='RDFButtonHide'})();(function(){fm.$0=false})();(function(){fZ.noSearchPerformed=-1})();(function(){cT.$0=500;cT.minimumDomainSize=5})();(function(){cC.$1="<div class='CategoricalFilter'><div class='CategoricalFilterBox' dojoAttachPoint='domBox'><div class='TitleAndControls' dojoAttachPoint='domControls'><h3 class='FilterTitle' dojoAttachPoint='domTitleBar'></h3><div dojoType='dijit.form.Button' class='CFButton CFResetButton' showlabel='false'dojoAttachPoint='resetButton' dojoAttachEvent='onClick:toggleReset'iconClass='wcIconNonfiltered'>Showing all values</div><div dojoType='dijit.form.Button' class='CFButton CFSearchButton' showlabel='false'dojoAttachPoint='searchButton' dojoAttachEvent='onClick:toggleSearchUI'iconClass='wcIconSearch'>Search</div><div dojoType='dijit.form.Button' class='CFButton CFDomainButton' showlabel='false'dojoAttachPoint='domainButton' dojoAttachEvent='onClick:toggleDomain'iconClass='wcIconDomainAll'>Show Fewer Values</div><div dojoType='dijit.form.Button' dojoAttachEvent='onClick:doMenu' iconClass='wcIconContextMenu'class='CFButton CFMenuButton' dojoAttachPoint='menuButton' name='type'></div></div><div dojoAttachPoint='searchDiv'></div><div class='CFContent' dojoAttachPoint='domContent'></div><div class='CFHorizScroll' dojoAttachPoint='domHorizScroll' dojoAttachEvent='onscroll:doscrollHoriz'><div dojoAttachPoint='domHorizScrollContent'></div></div><div dojoType='tableau.base.widget.ConditionalsWidget' dojoAttachPoint='conditionals'></div></div></div>";cC.$2="<div class='ParameterControl'><div class='ParameterControlBox' dojoAttachPoint='domBox'><div class='TitleAndControls' dojoAttachPoint='domControls'><h3 class='ParamTitle' dojoAttachPoint='domTitleBar'></h3></div><div class='PCContent' dojoAttachPoint='domContent'></div></div></div>";cC.$3="<div class='Search'><div class='SearchBox' dojoAttachPoint='domQuerySection'><textarea rows='1' class='QueryBox' spellcheck='false'dojoAttachPoint='domQueryBox'dojoAttachEvent='onkeydown:onQueryBoxKeyDown,onpaste:onQueryBoxPaste'></textarea><span class='wcSearchX' title='${XBUTTON_CLOSE_TOOLTIP}'dojoAttachPoint='domXButton'dojoAttachEvent='onclick:onXButtonClick,onmouseover:onButtonHover,onmouseout:onButtonUnhover'></span><img class='searchBusyImg' title='${CANCEL_SEARCH_TOOLTIP}' src='${busy_gif_url}'dojoAttachPoint='domSearchBusyImg'dojoAttachEvent='onclick:onSearchBusyImgClick'></img><span class='wcIconSearch' title='${SEARCH_TOOLTIP}'dojoAttachPoint='domSearchButton'dojoAttachEvent='onclick:onSearchButtonClick,onmouseover:onButtonHover,onmouseout:onButtonUnhover'></span><span class='wcIconSearchAdd' title='${ADD_ITEM_CTRL_ENTER}'dojoAttachPoint='domSearchAddButton'dojoAttachEvent='onclick:onSearchAddButtonClick,onmouseover:onButtonHover,onmouseout:onButtonUnhover'></span></div><div class='SearchResults' dojoAttachPoint='domResults' dojoAttachEvent='onclick:onListItemClick'></div></div>";dojo.addOnLoad(cC.$0)})();(function(){db.$0="<div class='FloatingZoomToolbar'></div>"})();(function(){dp.simpleRectangleCollider=null;dp.simpleRectangleCollider=function(e,L){var hT=e.get_geom().x;var hU=e.get_geom().x+e.get_geom().w;var hV=e.get_geom().y;var hW=e.get_geom().y+e.get_geom().h;var hX=L.x;var hY=L.x+L.w;var hZ=L.y;var ia=L.y+L.h;if(hW<hZ){return false}if(hV>ia){return false}if(hU<hX){return false}if(hT>hY){return false}return true}})();(function(){ds.$1=null;ds.$0=0})();(function(){hS.$0=0.05})();(function(){eb.$4=100;eb.$5=2;eb.$9=10;eb.$a=0.01;eb.$7=8;eb.$3='leaflet-touching';eb.$6={item1:90,item2:0};eb.$8={item1:-90,item2:0}})();(function(){eA.$0=null;spiff.ObjectRegistry.registerType(eA,eA).call(null)})();(function(){tab.CommandRedirectRegistry.registerHandler('command-redirect-notification',eL.$0)})();(function(){eQ.$0='<div class="tab-overlay-panel"></div>'})();(function(){fa.$0="<div class='tvViewportBorder tvLeftBorder' /><div class='tvViewportBorder tvRightBorder' /><div class='tvViewportBorder tvTopBorder' /><div class='tvViewportBorder tvBottomBorder' />"})();(function(){fq.$5='M';fq.$4='L';fq.$1='Z';fq.$2='tvdrag_svg_div';fq.$3="<div><svg class='selectionShape'><path class='tvdrag_svg_marquee'></path></svg></div>";fq.$6=300})();(function(){fG.$1='<div></div>';fG.$0='tvdrag';fG.$2='tvdrag_marquee'})();(function(){fJ.$2$1=null})();(function(){fI.$0=988})();(function(){tab.CommandRedirectRegistry.registerHandler('command-redirect-quick-edit',fK.$0)})();(function(){fL.headerResizerMinimumLength=20;fL.axisResizerMinimumLength=10})();(function(){fW.$0={}})();(function(){gq.$0='.SmoothTooltipBehavior'})();(function(){gC.$0="<div class='tvimagesContainer'></div>"})();(function(){hz.visualPartNearHitTestExpansionPixels=7})();(function(){gF.windowLog=null;gF.paneBorderMaskSize=2;gF.canvasBorderPixels=1;gF.zoomAnimationTime=777;gF.minZoomAnimationTime=500;gF.zoomToAnchorAnimationTime=500})();(function(){gZ.$2=0})()})();;
/*! BEGIN LegacyDojoUI */
(function(){'dont use strict';var a={};ss.initAssembly(a,'vqllegacydojoui')})();;
/*! BEGIN StoryModule */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqlstory');var b=function(){this.points=null;spiff.Template.call(this,$("<span class='tabFlipboardNavPoints'/>"));this.points=this.domRoot};b.__typeName='tab.FlipboardNavigatorPointsTemplate';global.tab.FlipboardNavigatorPointsTemplate=b;var c=function(){this.previous=null;this.scroller=null;this.next=null;spiff.Template.call(this,$("<div class='tabFlipboardNav'><span class='tabFlipboardNavPrevious'><div class='tabStoryLeftArrow'/></span><span class='tabFlipboardNavScroller'/><span class='tabFlipboardNavNext'><div class='tabStoryRightArrow'/></span></div>"));this.previous=this.getElementBySelector('.tabFlipboardNavPrevious');this.scroller=this.getElementBySelector('.tabFlipboardNavScroller');this.next=this.getElementBySelector('.tabFlipboardNavNext')};c.__typeName='tab.FlipboardNavigatorTemplate';global.tab.FlipboardNavigatorTemplate=c;var d=function(n){this.$i=null;this.$k=null;this.$j=null;ss.makeGenericType(spiff.BaseView$1,[e]).call(this,n,new c);this.$h();if(this.get_flipboardNavViewModel().get_showArrows()){this.$c()}else{this.get_dom().previous.hide();this.get_dom().next.hide()}this.get_flipboardNavViewModel().add_resizeZone(ss.mkdel(this,this.handleResize));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_flipboardNavViewModel().remove_resizeZone(ss.mkdel(this,this.handleResize))})));this.get_flipboardNavViewModel().add_updateActivePoint(ss.mkdel(this,this.handleUpdateActivePoint));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_flipboardNavViewModel().remove_updateActivePoint(ss.mkdel(this,this.handleUpdateActivePoint))})));this.get_domRoot().on(this.createNamespacedEventName('mousedown'),function(o){o.stopPropagation()});this.$a();this.disposables.add$1(new tab.CallOnDispose(function(){tab.StyleUtil.clearStyleSheet('appendedStoryStyle')}))};d.__typeName='tab.FlipboardNavigatorView';global.tab.FlipboardNavigatorView=d;var e=function(n){this.$8=null;this.$6=[];this.$7=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;spiff.BaseViewModel.call(this);this.$8=n;this.$8.add_newFlipboardNav(ss.mkdel(this,this.handleNewFlipboardNav));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$8.remove_newFlipboardNav(ss.mkdel(this,this.handleNewFlipboardNav))})));this.$8.get_zone().add_resizeZone(ss.mkdel(this,this.$3));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$8.get_zone().remove_resizeZone(ss.mkdel(this,this.$3))})));this.$2()};e.__typeName='tab.FlipboardNavigatorViewModel';global.tab.FlipboardNavigatorViewModel=e;var f=function(){spiff.Template.call(this,$("<div class='tabFlipboard'></div>"))};f.__typeName='tab.FlipboardTemplate';global.tab.FlipboardTemplate=f;var g=function(n){this.$a=null;ss.makeGenericType(spiff.BaseView$1,[h]).call(this,n,new f);this.$a=n;this.$a.add_newStoryPoint(ss.mkdel(this,this.handleNewStoryPoint));this.$a.get_parentZone().add_resizeZone(ss.mkdel(this,this.handleResizeZone));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$a.remove_newStoryPoint(ss.mkdel(this,this.handleNewStoryPoint));this.$a.get_parentZone().remove_resizeZone(ss.mkdel(this,this.handleResizeZone))})))};g.__typeName='tab.FlipboardView';g.$0=function(n,o){var p=tab.SizeUtil.unionPresModels(n,o);if(o.EUR>=n.EUR&&n.rec-o.rec>24){p.rec-=24}if(o.rec>=n.rec&&n.EUR-o.EUR>24){p.EUR-=24}return p};global.tab.FlipboardView=g;var h=function(n,o){this.$7=null;this.$8=null;this.$6=null;this.$2$1=null;spiff.BaseViewModel.call(this);this.$7=n;this.$8=o;this.$7.add_invalidateZone(ss.mkdel(this,this.$4));this.$7.get_storyPointModel().add_newStoryPoint(ss.mkdel(this,this.$3));this.$7.get_storyPointModel().add_dashboardDisposal(ss.mkdel(this,this.$2));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$7.remove_invalidateZone(ss.mkdel(this,this.$4));this.$7.get_storyPointModel().remove_newStoryPoint(ss.mkdel(this,this.$3));this.$7.get_storyPointModel().remove_dashboardDisposal(ss.mkdel(this,this.$2))})));if(ss.isValue(this.get_flipboardModel().get_dashboardModel())){this.$3()}};h.__typeName='tab.FlipboardViewModel';global.tab.FlipboardViewModel=h;var i=function(){};i.__typeName='tab.StoryFactory';global.tab.StoryFactory=i;var j=function(){spiff.Template.call(this,$("<div class='tabStoryPointContent'/>"))};j.__typeName='tab.StoryPointCaptionContentTemplate';global.tab.StoryPointCaptionContentTemplate=j;var k=function(){this.caption=null;this.revert=null;this.captionTop=null;this.captionBottom=null;this.toolbar=null;spiff.Template.call(this,$("<span class='tabStoryPoint'>\n<div class='tabStoryPointToolbar'><div class='tabStoryRevert'></div></div>\n<div class='tabStoryPointCaption'><div class='tabStoryPointCaptionTop'/><div class='tabStoryPointCaptionBottom'/></div></span>"));this.caption=this.getElementBySelector('.tabStoryPointCaption');this.revert=this.getElementBySelector('.tabStoryRevert');this.toolbar=this.getElementBySelector('.tabStoryPointToolbar');this.captionTop=this.getElementBySelector('.tabStoryPointCaptionTop');this.captionBottom=this.getElementBySelector('.tabStoryPointCaptionBottom')};k.__typeName='tab.StoryPointCaptionTemplate';global.tab.StoryPointCaptionTemplate=k;var l=function(n){this.$f=null;this.$h=null;this.$g=null;ss.makeGenericType(spiff.BaseView$1,[m]).call(this,n,new k);this.get_storyPointCaptionViewModel().add_updatePoint(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_storyPointCaptionViewModel().remove_updatePoint(ss.mkdel(this,this.$9))})));this.$d();this.$c();this.$b()};l.__typeName='tab.StoryPointCaptionView';l.$0=function(n){var o=new j;var p=n.get_caption();if(tab.FeatureFlags.isEnabled('StorytellingNumberedNavigator')){p=(n.get_storyPointIndex()+1).toLocaleString();o.domRoot.addClass('padded')}if(n.isCenteredHorizontally){o.domRoot.addClass('centered')}o.domRoot.text(p);return o};global.tab.StoryPointCaptionView=l;var m=function(n,o){this.$3=null;this.$4=0;this.$2$1=null;this.isCenteredHorizontally=false;this.isCenteredVertically=false;spiff.BaseViewModel.call(this);this.$3=n;this.$4=o;this.$3.add_newFlipboardNav(ss.mkdel(this,this.handleNewFlipboardNav));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$3.remove_newFlipboardNav(ss.mkdel(this,this.handleNewFlipboardNav))})));if(tab.FeatureFlags.isEnabled('StorytellingNumberedNavigator')){this.isCenteredHorizontally=true;this.isCenteredVertically=true}};m.__typeName='tab.StoryPointCaptionViewModel';global.tab.StoryPointCaptionViewModel=m;ss.initClass(b,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(c,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(d,a,{get_domRoot:function(){return this.get_template().domRoot},get_flipboardNavViewModel:function(){return this.get_viewModel()},get_storyPointCaptionViewModel:function(){return ss.getItem(this.get_flipboardNavViewModel().get_captions(),0)},get_dom:function(){return ss.cast(this.get_template(),c)},$a:function(){this.$i=new b;this.$k=new spiff.ScrollableViewModel.$ctor1(false);this.$k.set_content(this.$i.domRoot[0]);this.$k.set_scrollX(true);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.StyleUtil.clearStyleSheet('flipboardNavScroller');this.$k.dispose()})))},$h:function(){if(this.get_flipboardNavViewModel().get_useDarkIcons()){this.get_domRoot().addClass('tabDarkIcons')}else{this.get_domRoot().addClass('tabLightIcons')}var n=this.get_flipboardNavViewModel().get_scrollBarStyle();if(ss.isValue(n)){tab.StyleUtil.appendCSSRuleToStyleSheet$1('flipboardNavScroller','.tabFlipboardNavScroller .iScrollHorizontalScrollbar',{'background-color':n.bE$});tab.StyleUtil.appendCSSRuleToStyleSheet$1('flipboardNavScroller','.tabFlipboardNavScroller .iScrollHorizontalScrollbar:hover',ss.mkdict(['background-color',n.Jvl]));tab.StyleUtil.appendCSSRuleToStyleSheet$1('flipboardNavScroller','.tabFlipboardNavScroller .iScrollHorizontalScrollbar>.iScrollIndicator',{'background-color':n.DFg});tab.StyleUtil.appendCSSRuleToStyleSheet$1('flipboardNavScroller','.tabFlipboardNavScroller .iScrollHorizontalScrollbar>.iScrollIndicator:hover',{'background-color':n.YhU})}},$c:function(){var n=new spiff.Button(this.get_dom().previous);var o=ss.mkdel(this,function(){this.get_flipboardNavViewModel().clickPrevious()});n.add_click(o);this.disposables.add$1(n);this.disposables.add$1(new tab.CallOnDispose(function(){n.remove_click(o)}));var p=new spiff.Button(this.get_dom().next);var q=ss.mkdel(this,function(){this.get_flipboardNavViewModel().clickNext()});p.add_click(q);this.disposables.add$1(p);this.disposables.add$1(new tab.CallOnDispose(function(){p.remove_click(q)}))},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.$j=spiff.ScrollableView.createScrollableView(this.$k);this.$j.addToDom(this.get_dom().scroller);var n;var o=this.get_flipboardNavViewModel().get_storyPointHeight();n=o+20;var p=ss.Int32.div(o-26,2);var q=ss.Int32.div(o-26,2);this.get_dom().previous.css(ss.mkdict(['padding-top',p+'px','padding-bottom',p+'px']));this.get_dom().next.css(ss.mkdict(['padding-top',q+'px','padding-bottom',q+'px']));this.$f();if(ss.isValue(n)){this.get_dom().scroller.css('height',n+this.$j.get_scrollbarBuffer()+'px')}this.$b();this.centerNav();this.handleUpdateActivePoint(this.get_flipboardNavViewModel().get_currentPointIndex())},$f:function(){if(ss.isNullOrUndefined(this.get_storyPointCaptionViewModel())){return}var n={};var o={};var p={};var q={};var r={};if(ss.isValue(this.get_storyPointCaptionViewModel().get_selectedStoryPointStyle())){n=this.$d(this.get_storyPointCaptionViewModel().get_selectedStoryPointStyle());p=this.$g(this.get_storyPointCaptionViewModel().get_selectedStoryPointStyle());r=this.$e(this.get_storyPointCaptionViewModel().get_selectedStoryPointStyle())}if(ss.isValue(this.get_storyPointCaptionViewModel().get_unselectedStoryPointStyle())){o=this.$d(this.get_storyPointCaptionViewModel().get_unselectedStoryPointStyle());q=this.$g(this.get_storyPointCaptionViewModel().get_unselectedStoryPointStyle());if(Object.keys(r).length<=0){r=this.$e(this.get_storyPointCaptionViewModel().get_unselectedStoryPointStyle())}}tab.StyleUtil.appendCSSRuleToStyleSheet$1('appendedStoryStyle','.tabFlipboardNavScroller .tabScroller .tabScrollerContent .tabFlipboardNavPoints .tabStoryPoint',r);tab.StyleUtil.appendCSSRuleToStyleSheet$1('appendedStoryStyle','.tabStoryPointCaption.tabCurrent',n);tab.StyleUtil.appendCSSRuleToStyleSheet$1('appendedStoryStyle','.tabStoryPointCaption',o);tab.StyleUtil.appendCSSRuleToStyleSheet$1('appendedStoryStyle','.tabStoryPointCaption.tabCurrent .tabCustomScroller .tabScrollerContentWindow .tabScrollerContent .tabStoryPointContent',p);tab.StyleUtil.appendCSSRuleToStyleSheet$1('appendedStoryStyle','.tabStoryPointCaption .tabCustomScroller .tabScrollerContentWindow .tabScrollerContent .tabStoryPointContent',q);tab.StyleUtil.appendCSSRuleToStyleSheet$1('appendedStoryStyle','.tabStoryPointCaption.tabCurrent .tabStoryPointCaptionTop,.tabStoryPointCaption.tabCurrent .tabStoryPointCaptionBottom',n);tab.StyleUtil.appendCSSRuleToStyleSheet$1('appendedStoryStyle','.tabStoryPointCaption.tabStoryPointCaptionTop,.tabStoryPointCaption .tabStoryPointCaptionBottom',o);tab.StyleUtil.appendCSSRuleToStyleSheet$1('appendedStoryStyle','.tabStoryPointCaption.tabCurrent .tabScroller .tabScrollerContent .tabStoryPointContent',p);tab.StyleUtil.appendCSSRuleToStyleSheet$1('appendedStoryStyle','.tabStoryPointCaption .tabScroller .tabScrollerContent .tabStoryPointContent',q);tab.StyleUtil.appendCSSRuleToStyleSheet$1('appendedStoryStyle','.tabStoryPointCaption.tabCurrent .tabCustomScroller .tabVerticalScrollbar',{'background-color':this.get_storyPointCaptionViewModel().get_selectedStoryPointStyle().xIS.bE$});tab.StyleUtil.appendCSSRuleToStyleSheet$1('appendedStoryStyle','.tabStoryPointCaption .tabCustomScroller .tabVerticalScrollbar',{'background-color':this.get_storyPointCaptionViewModel().get_unselectedStoryPointStyle().xIS.bE$});tab.StyleUtil.appendCSSRuleToStyleSheet$1('appendedStoryStyle','.tabStoryPointCaption.tabCurrent .tabCustomScroller .tabVerticalScrollbar>.tabScrollbarIndicator',{'background-color':this.get_storyPointCaptionViewModel().get_selectedStoryPointStyle().xIS.DFg});tab.StyleUtil.appendCSSRuleToStyleSheet$1('appendedStoryStyle','.tabStoryPointCaption .tabCustomScroller .tabVerticalScrollbar>.tabScrollbarIndicator',{'background-color':this.get_storyPointCaptionViewModel().get_unselectedStoryPointStyle().xIS.DFg});tab.StyleUtil.appendCSSRuleToStyleSheet$1('appendedStoryStyle','.tabStoryPointCaption.tabCurrent .tabCustomScroller .tabVerticalScrollbar>.tabScrollbarIndicator:hover',{'background-color':this.get_storyPointCaptionViewModel().get_selectedStoryPointStyle().xIS.YhU});tab.StyleUtil.appendCSSRuleToStyleSheet$1('appendedStoryStyle','.tabStoryPointCaption .tabCustomScroller .tabVerticalScrollbar>.tabScrollbarIndicator:hover',{'background-color':this.get_storyPointCaptionViewModel().get_unselectedStoryPointStyle().xIS.YhU})},$d:function(n){var o=false;if(ss.isValue(n.rPC)){return tab.FormattingConverters.makeStyledBoxCssDict(n.rPC,o)}else{return{}}},$g:function(n){if(ss.isValue(n.mCc)){return tab.FormattingConverters.makeFormatStyleDict(n.mCc,null)}else{return{}}},$e:function(n){var o=150;var p=70;var q={};var r=p,s=o;if(ss.isValue(n.EUR)){r=n.EUR}q.height=r+20+'px';if(ss.isValue(n.rec)){s=n.rec}q.width=s+'px';return q},centerNav:function(){var n=this.$i.points[0].clientWidth+this.$9();var o=tab.DoubleUtil.roundToInt(this.get_dom().domRoot.parent().width());var p=0;if(o>n){p=ss.Int32.div(o-n,2)}this.get_dom().domRoot.css('margin-left',p+'px');var q=tab.DoubleUtil.roundToInt(this.get_domRoot().height());var r=ss.Int32.div(q,2);this.get_dom().domRoot.css('margin-top','-'+r+'px')},handleResize:function(){var n=tab.DoubleUtil.roundToInt(this.get_dom().domRoot.parent().width())-this.$9();var o=this.$i.points[0].clientWidth;this.get_dom().scroller.css(ss.mkdict(['width',Math.min(n,o)+'px']));this.centerNav();this.$k.triggerRefresh()},$9:function(){return(this.get_flipboardNavViewModel().get_showArrows()?(tab.DoubleUtil.roundToInt(this.get_dom().previous.outerWidth(true))+tab.DoubleUtil.roundToInt(this.get_dom().next.outerWidth(true))):0)},handleUpdateActivePoint:function(n){this.$b();var o=this.$i.points.children().get(n);var p=o.offsetLeft;var q=p+o.offsetWidth;var r=this.$j.get_scrollerX();var s=r+tab.DoubleUtil.roundToInt(this.get_dom().scroller.width());var t=50;if(q>s){var u=tab.DoubleUtil.roundToInt(this.get_dom().scroller.width())-o.offsetWidth-t;this.$j.scrollToElement(o,0,-u,0)}else if(p<r){this.$j.scrollToElement(o,0,-50,0)}this.get_dom().previous.toggleClass('tabDisabled',this.get_flipboardNavViewModel().get_previousDisabled());this.get_dom().next.toggleClass('tabDisabled',this.get_flipboardNavViewModel().get_nextDisabled())},$b:function(){var n=this.get_template().getElementsBySelector('.tabStoryPoint');n.remove();var o=ss.getEnumerator(this.get_flipboardNavViewModel().get_captions());try{while(o.moveNext()){var p=o.current();var q=spiff.ObjectRegistry.newView(l).call(null,[p]);q.addToDom(this.$i.points)}}finally{o.dispose()}this.handleResize()}},ss.makeGenericType(spiff.BaseView$1,[e]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[e])]);ss.initClass(e,a,{add_resizeZone:function(n){this.$2$1=ss.delegateCombine(this.$2$1,n)},remove_resizeZone:function(n){this.$2$1=ss.delegateRemove(this.$2$1,n)},add_updateActivePoint:function(n){this.$2$2=ss.delegateCombine(this.$2$2,n)},remove_updateActivePoint:function(n){this.$2$2=ss.delegateRemove(this.$2$2,n)},add_remoteUpdateComplete:function(n){this.$2$3=ss.delegateCombine(this.$2$3,n)},remove_remoteUpdateComplete:function(n){this.$2$3=ss.delegateRemove(this.$2$3,n)},get_currentPointIndex:function(){return this.$8.get_currentPointIndex()},get_numberOfPoints:function(){return this.$8.get_storyPoints().length},get_storyPointHeight:function(){return this.$8.get_flipboardNavPresModel().czn.EUR},get_storyPointWidth:function(){return this.$8.get_flipboardNavPresModel().czn.rec},get_previousDisabled:function(){return this.get_currentPointIndex()<=0},get_nextDisabled:function(){return this.get_currentPointIndex()>=this.get_numberOfPoints()-1},get_showArrows:function(){return this.$8.get_flipboardNavPresModel().ELI},get_captions:function(){return this.$6},get_useDarkIcons:function(){return this.$8.get_flipboardNavPresModel().RWo.byq},get_scrollBarStyle:function(){return this.$8.get_flipboardNavPresModel().RWo.xIS},handleNewFlipboardNav:function(){if(ss.isValue(this.$2$2)){this.updatePoints();this.$2$2(this.get_currentPointIndex())}if(!this.$7){var n=tab.CommandController.get();var o=null;o=ss.mkdel(this,function(){n.remove_commandQueueComplete(o);this.$7=false;this.raiseActionEvent(this.$2$3)});n.add_commandQueueComplete(o);this.$7=true}},updatePoints:function(){this.$4();this.$2()},$3:function(){this.raiseActionEvent(this.$2$1)},$4:function(){for(var n=0;n<this.$6.length;n++){var o=this.$6[n];o.dispose()}ss.clear(this.$6)},$2:function(){for(var n=0;n<this.get_numberOfPoints();n++){this.$6.push(new m(this.$8,n))}},clickNext:function(){var n=$.Deferred();if(this.get_nextDisabled()){n.resolve(this.get_currentPointIndex())}else{this.$5(n,ss.mkdel(this,function(){return tab.StoryClientCommands.nextStoryPoint(this.$8)}))}return n.promise()},clickPrevious:function(){var n=$.Deferred();if(this.get_previousDisabled()){n.resolve(this.get_currentPointIndex())}else{this.$5(n,ss.mkdel(this,function(){return tab.StoryClientCommands.previousStoryPoint(this.$8)}))}return n.promise()},dispose:function(){this.$4();spiff.BaseViewModel.prototype.dispose.call(this)},$5:function(n,o){var p=ss.mkdel(this,function(){n.resolve(this.get_currentPointIndex())});var q=function(){n.reject(ss.unbox(ss.cast(arguments[0],ss.Int32)))};o().then(p,q)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,tab.IFlipboardNavigatorViewModel]);ss.initClass(f,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(g,a,{onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(ss.isValue(this.$a.get_dashboardViewModel())){this.handleNewStoryPoint()}},handleNewStoryPoint:function(){var n={w:tab.DoubleUtil.roundToInt(this.element.width()),h:tab.DoubleUtil.roundToInt(this.element.height())};this.$a.get_dashboardViewModel().set_size(g.$0(tab.RecordCast.sizeAsSizePresModel(n),this.$a.get_dashboardViewModel().get_size()));this.$9();var o=spiff.ObjectRegistry.newView(tab.DashboardView).call(null,[this.$a.get_dashboardViewModel()]);o.addToDom(this.get_template().domRoot)},handleResizeZone:function(){var n={w:this.$a.get_parentZone().get_width(),h:this.$a.get_parentZone().get_height()};this.$a.get_dashboardViewModel().set_size(g.$0(tab.RecordCast.sizeAsSizePresModel(n),this.$a.get_dashboardViewModel().dashboardModel.get_dashboardSize()));this.$9()},$9:function(){var n=this.$a.get_parentZone().get_width();var o=this.$a.get_parentZone().get_height();var p=this.$a.get_dashboardViewModel().dashboardModel.get_dashboardSize();if(p.rec<=n&&p.EUR<=o){this.element.css('overflow','hidden')}else{this.element.css('overflow','auto')}}},ss.makeGenericType(spiff.BaseView$1,[h]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[h])]);ss.initClass(h,a,{add_newStoryPoint:function(n){this.$2$1=ss.delegateCombine(this.$2$1,n)},remove_newStoryPoint:function(n){this.$2$1=ss.delegateRemove(this.$2$1,n)},get_flipboardModel:function(){return this.$7},get_dashboardViewModel:function(){return this.$6},$5:function(){return this.get_flipboardModel().get_dashboardModel().pm},get_parentZone:function(){return this.$8},$3:function(){this.$2();if(ss.isValue(this.$5())){this.$6=tab.DashboardViewModel.new$1(this.get_flipboardModel().get_dashboardModel());this.raiseActionEvent(this.$2$1)}tab.Application.handleAllFontsFound()},$4:function(){this.$8.forceZoneValidState(false)},dispose:function(){this.$2();spiff.BaseViewModel.prototype.dispose.call(this)},$2:function(){if(ss.isValue(this.get_dashboardViewModel())){this.$6.dispose();this.$6=null}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,tab.IFlipboardViewModel]);ss.initClass(i,a,{newFlipboardNavigatorViewModel:function(n){return new e(n)},newFlipboardViewModel:function(n,o){return new h(n,o)},newFlipboardNavigatorView:function(n){return spiff.ObjectRegistry.newView(d).call(null,[n])},newFlipboardView:function(n){return spiff.ObjectRegistry.newView(g).call(null,[n])}},null,[tab.IStoryModule]);ss.initClass(j,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(k,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(l,a,{get_domRoot:function(){return this.get_template().domRoot},get_contentTemplate:function(){return this.$f},get_storyPointCaptionViewModel:function(){return this.get_viewModel()},get_captionTemplate:function(){return ss.cast(this.get_template(),k)},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(this.$h.get_hasCustomIndicator()){this.get_domRoot().addClass('tabFormatted');this.get_captionTemplate().captionBottom.remove();this.get_captionTemplate().captionTop.remove()}var n=spiff.ScrollableView.createScrollableView(this.$h);n.addToDom(this.get_captionTemplate().caption);var o=ss.mkdict(['right',n.get_scrollbarBuffer()+'px']);this.get_captionTemplate().captionTop.css(o);this.get_captionTemplate().captionBottom.css(o);this.$9()},$d:function(){if(this.get_storyPointCaptionViewModel().get_isFirstPoint()){this.get_domRoot().addClass('tabFirstPoint')}if(this.get_storyPointCaptionViewModel().get_isLastPoint()){this.get_domRoot().addClass('tabLastPoint')}},$9:function(){this.get_captionTemplate().revert.toggle(!this.get_storyPointCaptionViewModel().get_isCaptured());this.get_captionTemplate().caption.toggleClass('tabCurrent',this.get_storyPointCaptionViewModel().get_isCurrentPoint());this.$h.triggerRefresh()},$b:function(){this.$a();this.$e()},$e:function(){this.get_captionTemplate().revert.attr('title',tab.Strings.StoryPointRevertTooltip);this.$g=new spiff.IconButton;this.$g.setIcon('tabStoryRevertIcon');this.get_captionTemplate().revert.append(this.$g.element);this.disposables.add$1(this.$g.onClick(ss.mkdel(this,function(n){this.get_storyPointCaptionViewModel().revertStoryPoint()})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$g.dispose()})))},$a:function(){this.disposables.add$1((new spiff.ClickHandler).setTarget(this.get_captionTemplate().caption).onPress(ss.mkdel(this,function(){this.get_captionTemplate().caption.addClass('tabActive')})).onClick(ss.mkdel(this,function(n){n.stopPropagation();this.get_captionTemplate().caption.removeClass('tabActive');this.get_storyPointCaptionViewModel().clickStoryPoint()})));this.get_captionTemplate().caption.on('touchend touchcancel mouseleave',ss.mkdel(this,function(){this.get_captionTemplate().caption.removeClass('tabActive')}))},$c:function(){this.$f=l.$0(this.get_storyPointCaptionViewModel());var n=new spiff.ScrollableViewModel;n.set_content(this.$f.domRoot[0]);n.isCenteredVertically=this.get_viewModel().isCenteredVertically;n.set_scrollY(!tab.FeatureFlags.isEnabled('StorytellingNumberedNavigator'));this.$h=n;this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$h.dispose()})))}},ss.makeGenericType(spiff.BaseView$1,[m]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[m])]);ss.initClass(m,a,{add_updatePoint:function(n){this.$2$1=ss.delegateCombine(this.$2$1,n)},remove_updatePoint:function(n){this.$2$1=ss.delegateRemove(this.$2$1,n)},$2:function(){return this.$3.get_storyPoints()[this.$4]},get_isCurrentPoint:function(){return this.$4===this.$3.get_currentPointIndex()},get_isCaptured:function(){return this.$2().mwo},get_caption:function(){return this.$2().XWQ},get_storyPointId:function(){return this.$2().hVl},get_storyPointIndex:function(){return this.$4},get_isFirstPoint:function(){return this.get_storyPointIndex()===0},get_isLastPoint:function(){return this.$4===this.$3.get_storyPoints().length-1},get_storyPointStyle:function(){if(this.get_isCurrentPoint()){return this.get_selectedStoryPointStyle()}else{return this.get_unselectedStoryPointStyle()}},get_selectedStoryPointStyle:function(){return this.$3.get_flipboardNavPresModel().czn},get_unselectedStoryPointStyle:function(){return this.$3.get_flipboardNavPresModel().TaK},get_width:function(){return this.$3.get_flipboardNavPresModel().TaK.rec},get_height:function(){return this.$3.get_flipboardNavPresModel().TaK.EUR},handleNewFlipboardNav:function(){this.raiseActionEvent(this.$2$1)},clickStoryPoint:function(){var n=$.Deferred();if(this.get_isCurrentPoint()){n.resolve(this)}else{var o=ss.mkdel(this,function(){n.resolve(this)});var p=function(){n.reject(ss.cast(arguments[0],tab.IStoryPointCaptionViewModel))};var q=tab.StoryClientCommands.setActiveStoryPoint(this.$4,this.$3);q.then(o,p)}return n.promise()},revertStoryPoint:function(){var n=$.Deferred();if(this.get_isCaptured()){n.resolve(this)}else{var o=ss.mkdel(this,function(){n.resolve(this)});var p=function(){n.reject(ss.cast(arguments[0],tab.IStoryPointCaptionViewModel))};var q=tab.StoryClientCommands.revertStoryPoint(tab.ModelUtils.findContentDashboard().get_sheetPath(),this.$2().hVl);q.then(o,p)}return n.promise()}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,tab.IStoryPointCaptionViewModel]);(function(){b.$0="<span class='tabFlipboardNavPoints'/>"})();(function(){c.$0="<div class='tabFlipboardNav'><span class='tabFlipboardNavPrevious'><div class='tabStoryLeftArrow'/></span><span class='tabFlipboardNavScroller'/><span class='tabFlipboardNavNext'><div class='tabStoryRightArrow'/></span></div>"})();(function(){k.$0="<span class='tabStoryPoint'>\n<div class='tabStoryPointToolbar'><div class='tabStoryRevert'></div></div>\n<div class='tabStoryPointCaption'><div class='tabStoryPointCaptionTop'/><div class='tabStoryPointCaptionBottom'/></div></span>"})();(function(){j.$0="<div class='tabStoryPointContent'/>"})();(function(){l.centeredClassName='centered';l.paddedClassName='padded';spiff.ObjectRegistry.registerType(l,l).call(null)})();(function(){d.storyPointToolbarHeight=20;d.horizontalScrollerSelector='.tabFlipboardNavScroller .iScrollHorizontalScrollbar';d.horizontalScrollerHoverSelector='.tabFlipboardNavScroller .iScrollHorizontalScrollbar:hover';d.horizontalScrollerIndicatorSelector='.tabFlipboardNavScroller .iScrollHorizontalScrollbar>.iScrollIndicator';d.horizontalScrollerIndicatorHoverSelector='.tabFlipboardNavScroller .iScrollHorizontalScrollbar>.iScrollIndicator:hover';d.storyPointSelector='.tabFlipboardNavScroller .tabScroller .tabScrollerContent .tabFlipboardNavPoints .tabStoryPoint';d.selectedStoryPointBoxSelector='.tabStoryPointCaption.tabCurrent';d.unselectedStoryPointBoxSelector='.tabStoryPointCaption';d.selectedStoryPointTextSelector='.tabStoryPointCaption.tabCurrent .tabCustomScroller .tabScrollerContentWindow .tabScrollerContent .tabStoryPointContent';d.unselectedStoryPointTextSelector='.tabStoryPointCaption .tabCustomScroller .tabScrollerContentWindow .tabScrollerContent .tabStoryPointContent';d.selectedStoryPointScrollbarSelector='.tabStoryPointCaption.tabCurrent .tabCustomScroller .tabVerticalScrollbar';d.unselectedStoryPointScrollbarSelector='.tabStoryPointCaption .tabCustomScroller .tabVerticalScrollbar';d.selectedStoryPointScrollbarIndicatorSelector='.tabStoryPointCaption.tabCurrent .tabCustomScroller .tabVerticalScrollbar>.tabScrollbarIndicator';d.unselectedStoryPointScrollbarIndicatorSelector='.tabStoryPointCaption .tabCustomScroller .tabVerticalScrollbar>.tabScrollbarIndicator';d.selectedStoryPointScrollbarIndicatorHoverSelector='.tabStoryPointCaption.tabCurrent .tabCustomScroller .tabVerticalScrollbar>.tabScrollbarIndicator:hover';d.unselectedStoryPointScrollbarIndicatorHoverSelector='.tabStoryPointCaption .tabCustomScroller .tabVerticalScrollbar>.tabScrollbarIndicator:hover';d.selectedStoryPointNativeScrollerTopBottomSelector='.tabStoryPointCaption.tabCurrent .tabStoryPointCaptionTop,.tabStoryPointCaption.tabCurrent .tabStoryPointCaptionBottom';d.unselectedStoryPointNativeScrollerTopBottomSelector='.tabStoryPointCaption.tabStoryPointCaptionTop,.tabStoryPointCaption .tabStoryPointCaptionBottom';d.selectedStoryPointNativeScrollerTextSelector='.tabStoryPointCaption.tabCurrent .tabScroller .tabScrollerContent .tabStoryPointContent';d.unselectedStoryPointNativeScrollerTextSelector='.tabStoryPointCaption .tabScroller .tabScrollerContent .tabStoryPointContent';d.$1=26;d.$0=26;d.storyStyleSheetId='appendedStoryStyle';spiff.ObjectRegistry.registerType(d,d).call(null)})();(function(){f.$0="<div class='tabFlipboard'></div>"})();(function(){g.scrollBarThickness=24;spiff.ObjectRegistry.registerType(g,g).call(null)})()})();;
/*! BEGIN PdfExportDialogModule */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqlpdfexportdialog');var b=function(g,h){this.dom=null;this.thumbnails=null;this.$1q=null;this.$1r=null;this.$1o=null;this.$1m=null;this.$1p=false;this.$1n=null;this.$1l=null;spiff.ModalDialog.$ctor1.call(this,'',$(b.dialogTemplate()));this.$1o=(h?'png':'pdf');this.$1r=g;this.dom=new d(this.element);this.thumbnails=[];this.get_dialogElement().css(ss.mkdict(['minWidth','none','maxWidth','none']));switch(this.$1o){case'png':{this.set_titleUnescaped(tab.Strings.PdfExportTitlePNG);this.dom.getElementsBySelector('.pdf-only').hide();break}case'pdf':{this.set_titleUnescaped(tab.Strings.PdfExportTitlePDF);this.dom.getElementsBySelector('.png-only').hide();break}}this.$1l=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.onCancel),tab.Strings.DialogButtonCancel,'cancel',2,null);this.$1n=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.onExport),tab.Strings.DialogButtonExport,'export',0,null);this.dom.buttons.append(this.$1l.element);this.dom.buttons.append(this.$1n.element);this.set_closeButtonVisible(false);this.disableTextSelection()};b.__typeName='tab.ExportPdfDialog';b.dialogTemplate=function(){if(ss.isNullOrUndefined(b.$0)){b.$0=ss.localeFormatString(d.template,tableau.format.escapeHTML(tab.Strings.PdfDialogPaperSize),tableau.format.escapeHTML(tab.Strings.PdfDialogImageSize),tableau.format.escapeHTML(tab.Strings.PdfDialogScalingLabel),tableau.format.escapeHTML(tab.Strings.PdfDialogSectionLayout),tableau.format.escapeHTML(tab.Strings.PdfExportPageOrientationPortrait),tableau.format.escapeHTML(tab.Strings.PdfExportPageOrientationLandscape),tableau.format.escapeHTML(tab.Strings.PdfDialogSectionContent),tableau.format.escapeHTML(tab.Strings.PdfDialogContentDashboardSheets),tableau.format.escapeHTML(tab.Strings.PdfDialogContentDashboard),tableau.format.escapeHTML(tab.Strings.PdfDialogContentTopSheets),tableau.format.escapeHTML(tab.Strings.PdfDialogContentWorksheet),tableau.format.escapeHTML(tab.Strings.PdfDialogSelectSheetToChangePrintScaling),tableau.format.escapeHTML(tab.Strings.PdfDialogContentStory))}return b.$0};b.scalingValueFromLayoutOptions=function(g){switch(g.kPf){case'fit-pages':{return ss.formatString('fit{0}x{1}',g.Jlj,g.ubB)}case'percent':{return ss.formatString('pct{0}',g.HZB)}case'auto':default:{return'auto'}}};b.scalingLabelFromLayoutOptions=function(g){switch(g.kPf){case'fit-pages':{if(g.Jlj===0&&g.ubB>0){return tab.Strings.PdfExportFitHigh(g.ubB)}else if(g.ubB===0&&g.Jlj>0){return tab.Strings.PdfExportFitWide(g.Jlj)}else{return tab.Strings.PdfExportFitWideByHigh(g.Jlj,g.ubB)}}case'percent':{return tab.Strings.PdfExportPageScalePercent(g.HZB)}case'auto':default:{return tab.Strings.PdfExportPageScaleAuto}}};b.canSelectSheet=function(g){return g.GJq||ss.isValue(tsConfig.is_authoring)&&tsConfig.is_authoring};global.tab.ExportPdfDialog=b;var c=function(g,h){this.$1w=null;this.$1v=null;b.call(this,g,h);this.get_body().addClass('tab-pdfdlg-mobile')};c.__typeName='tab.ExportPdfDialogMobile';global.tab.ExportPdfDialogMobile=c;var d=function(g){this.orientationBtns=null;this.scalingSelector=null;this.sizeSelector=null;this.imageHeightBtn=null;this.imageWidthBtn=null;this.sizeControl=null;this.spinner=null;this.status=null;this.statusMsg=null;this.thumbListWrapper=null;this.thumbList=null;this.buttons=null;spiff.Template.call(this,g);this.orientationBtns=this.getElementsBySelector("button[name='orientation']");this.scalingSelector=this.getElementBySelector('#pdfdlgScaling');this.sizeSelector=this.getElementBySelector('#pdfdlgPageSize');this.imageHeightBtn=this.getElementBySelector("[name='imageHeight']");this.imageWidthBtn=this.getElementBySelector("[name='imageWidth']");this.sizeControl=this.getElementBySelector("[name='pageSize']");this.status=this.getElementBySelector('.tab-pdfdlg-status');this.statusMsg=this.getElementBySelector('.tab-dialog-status-msg');this.spinner=this.getElementBySelector('.tab-pdfdlg-spinner');this.thumbListWrapper=this.getElementBySelector('.tab-pdfdlg-sheets-container');this.thumbList=this.getElementBySelector('.tab-pdfdlg-sheet-list');this.buttons=this.getElementBySelector('.tab-dialog-actions')};d.__typeName='tab.ExportPdfDialogTemplate';global.tab.ExportPdfDialogTemplate=d;var e=function(){};e.__typeName='tab.PdfExportDialogFactory';global.tab.PdfExportDialogFactory=e;var f=function(g){this.button=null;this.icon=null;this.label=null;this.pdfDialog=null;spiff.Template.call(this,g);this.button=this.getElementBySelector('.tab-pdfdlg-thumbnail-button');this.icon=this.getElementBySelector('.tab-pdfdlg-button-icon');this.label=this.getElementBySelector('.tab-pdfdlg-note');this.initEventHandlers()};f.__typeName='tab.SheetThumbnailTemplate';global.tab.SheetThumbnailTemplate=f;ss.initClass(b,a,{get_thumbnailTemplates:function(){return this.thumbnails},$1f:function(){return ss.cast(this.dom.orientationBtns.find('.selected').val(),String)},$1g:function(g){var h=((g==='printer')?'portrait':g);var i=this.dom.orientationBtns;var j=function(k,l){var m=$(l);if(ss.cast(m.prop('value'),String)===h){m.addClass('selected')}else{m.removeClass('selected')}};i.each(j)},$17:function(){return((this.$1o==='png')?parseInt(this.dom.imageHeightBtn.val()):0)},$18:function(g){if(this.$1o==='png'){this.dom.imageHeightBtn.val(ss.cast(g,String))}},$19:function(){return((this.$1o==='png')?parseInt(this.dom.imageWidthBtn.val()):0)},$1a:function(g){if(this.$1o==='png'){this.dom.imageHeightBtn.val(ss.cast(g,String))}},$1h:function(){return((this.$1o==='png')?'letter':ss.cast(this.dom.sizeControl.val(),String))},$1i:function(g){if(this.$1o==='pdf'){this.dom.sizeControl.val(ss.cast(g,String))}},$1j:function(){return this.dom.statusMsg.text()},$1k:function(g){this.dom.statusMsg.text(g)},$1d:function(){return this.$1q},$1e:function(g){this.$1q=g;this.initFromModel()},$16:function(){return this.$1m.get_presModel()},$1b:function(){return this.$1p},$1c:function(g){this.$1p=g;if(g){this.get_body().find('select, input, button').prop('disabled',true);this.$1n.set_disabled(true)}else{this.get_body().find('select, input, button').prop('disabled',false);this.$1n.set_disabled(false)}},initialize:function(){this.initEventHandlers()},dispose:function(){this.get_body().off('button','click').off('select','change').off('input','change');this.$1l.dispose();this.$1n.dispose();this.dom.dispose();spiff.ModalDialog.prototype.dispose.call(this)},show:function(){if(ss.isNullOrUndefined(this.$1d())){this.$P()}this.initialize();spiff.Dialog.prototype.show.call(this)},positionInWindow:function(){this.positionInWindow$1(0,100)},$10:function(){if(this.get_body().find('.tab-pdfdlg-thumbnail-button').hasClass('selected')){this.$1n.set_disabled(false);this.$1k('');this.$Q()}else{this.$1n.set_disabled(true);this.$1k(tab.Strings.PrintPdfDialogContentRequired);this.$13();this.dom.spinner.hide()}},initEventHandlers:function(){this.get_body().find('select').change(ss.mkdel(this,this.updateSelection)).end().find('.tab-pdfdlg-group-orientation button').click(ss.mkdel(this,this.updateOrientation)).end().find('.png-only input').change(ss.mkdel(this,this.updateImageDimension)).end().find('.tab-pdfdlg-dashboard-content-mode button').click(ss.mkdel(this,this.handleContentModeSwitch)).end().find('.tab-pdfdlg-worksheet-content-mode button').click(ss.mkdel(this,this.handleContentModeSwitch)).end().find('.tab-pdfdlg-story-content-mode button').click(ss.mkdel(this,this.handleContentModeSwitch)).end()},appendOptionToSelect:function(g,h,i){var j=ss.localeFormatString("<option value='{0}'>{1}</option>",tableau.format.escapeHTML(h),tableau.format.escapeHTML(g));i.append($(j))},appendEnumToSelect:function(g,h,i){this.appendOptionToSelect(g,ss.cast(h,String),i)},initFromModel:function(){this.$R();this.$S();this.$T();this.$Z(this.$16());var g='this-sheet';if(this.$16().WeS&&!this.$16().Jqz){g='dashboard'}this.$15(g)},onCancel:function(){this.close(null)},onExport:function(){this.$14()},updateScalingSelectFromSheet:function(g){var h=this.dom.scalingSelector;var i=b.scalingValueFromLayoutOptions(g.Vlb);var j=h.children(ss.formatString("option[value='{0}']",i));if(j.length>0){h.val(i)}else{this.appendOptionToSelect(b.scalingLabelFromLayoutOptions(g.Vlb),i,h)}},updateSheetsFromScalingValue:function(g){var h=new RegExp('pct([0-9]{1,3})');var i=new RegExp('fit([0-9]{1,5})x([0-9]{1,5})');var j;if(h.test(g)){j=h.exec(g);var k=parseInt(j[1]);for(var l=0;l<this.$1q.zHH.length;l++){var m=this.$1q.zHH[l];m.Vlb.kPf='percent';m.Vlb.HZB=k}}else if(i.test(g)){j=i.exec(g);var n=parseInt(j[1]);var o=parseInt(j[2]);for(var p=0;p<this.$1q.zHH.length;p++){var q=this.$1q.zHH[p];q.Vlb.kPf='fit-pages';q.Vlb.Jlj=n;q.Vlb.ubB=o}}else{for(var r=0;r<this.$1q.zHH.length;r++){var s=this.$1q.zHH[r];s.Vlb.kPf='auto'}}},updateImageDimension:function(g){var h=$(g.currentTarget);var i=h.prop('value');var j=this.$1q.Vlb;switch(h.attr('name')){case'imageHeight':{var k=parseInt(i);j.nAc=k;for(var l=0;l<this.$1q.zHH.length;l++){var m=this.$1q.zHH[l];m.Vlb.nAc=k}break}case'imageWidth':{var n=parseInt(i);j.pLT=n;for(var o=0;o<this.$1q.zHH.length;o++){var p=this.$1q.zHH[o];p.Vlb.pLT=n}break}}},updateSelection:function(g){var h=$(g.currentTarget);var i=h.prop('value');switch(h.attr('name')){case'scaling':{this.updateSheetsFromScalingValue(i);break}case'pageSize':{var j=ss.cast(i,String);this.$1q.Vlb.YDS=j;for(var k=0;k<this.$1q.zHH.length;k++){var l=this.$1q.zHH[k];l.Vlb.YDS=j}break}}},handleContentModeSwitch:function(g){var h=$(g.currentTarget);h.siblings().removeClass('selected').end().addClass('selected');switch(ss.cast(h.attr('name'),String)){case'dashboard-content':case'worksheet-content':case'story-content':{this.$15(ss.cast(h.prop('value'),String));break}}},updateOrientation:function(g){var h=ss.cast(g.currentTarget.getAttribute('value'),String);this.$1q.Vlb.tTN=h;for(var i=0;i<this.$1q.zHH.length;i++){var j=this.$1q.zHH[i];j.Vlb.tTN=h}this.$1g(h)},showThumbList:function(){this.dom.thumbListWrapper.show();this.dom.thumbList.show()},hideThumbList:function(){this.dom.thumbListWrapper.hide();this.dom.thumbList.hide()},setSingleSheetSelected:function(){var g=this.$16();for(var h=0;h<this.thumbnails.length;h++){var i=this.thumbnails[h];i.selectAndShow(ss.referenceEquals(i.get_presModel(),g))}},$W:function(){var g=new Object;g.commandNamespace='tabsrv'.toString();g.commandName='pdf-export-server'.toString();var h={};h['wxS']=this.$1q;g.commandParams=h;var i=ss.mkdel(this,function(k){this.$1c(false);this.$Q();if(this.get_isShown()){var l=k;var m=tableau.types.ExportDialogType['PrintPDF'];var n=this.$1r.formatSessionTempfileReference(l.uvn,true,true);this.$1r.openDownload(n,m);this.close(null)}});var j=ss.mkdel(this,function(k){this.$U()});tab.ServerCommands.executeServerCommand(g,'immediately',i,j)},$X:function(){var g=tsConfig.visible_sheets;var h=ss.mkdict(['pdfExport',this.$1q]);var i={};var j=tableau.types.ExportDialogType['ExportImage'];for(var k=0;k<this.$1q.zHH.length;k++){var l=this.$1q.zHH[k];if(l.NPh){var m=l.Vlb;var n=ss.indexOf(g,l.Gge);if(n>=0){var o=ss.cast(this.$1r.formatExportURL('image/png',new Object),String);var p=m.nAc;var q=m.pLT;o+=ss.formatString('?:dimensions={0},{1}',p,q);i[l.Gge]=o}}}var r=ss.mkdel(this,function(v,w,x){this.$1r.showDownloads(i,j);this.close(null)});var s=ss.mkdel(this,function(v,w,x){this.$U()});var t='tabsrv'.toString();var u='pdf-export-options'.toString();this.$1r.sendSessionCommand(t,u,h,r,s)},$V:function(){switch(this.$1o){case'png':{this.$X();break}case'pdf':{this.$W();break}default:{break}}},$U:function(){this.$13();this.$1c(false);switch(this.$1o){case'png':{this.$1k(tab.Strings.PdfExportMessageErrorPng);break}case'pdf':default:{this.$1k(tab.Strings.PdfExportMessageError);break}}this.dom.spinner.hide();this.dom.statusMsg.show()},$14:function(){this.$1c(true);this.$1k(tab.Strings.PdfExportMessageExporting);this.$13();this.$V()},$P:function(){var g=new Object;g.commandNamespace='tabsrv'.toString();g.commandName='pdf-export-options'.toString();this.$1k(tab.Strings.PdfExportMessageSettings);this.$1c(true);this.$13();var h=ss.mkdel(this,function(j,k,l){if(l.status!==200){return}this.$1e(tab.PresentationModel.fromCommand(j,g));this.$Q();this.$1c(false)});var i=ss.mkdel(this,function(j,k,l){this.$1k(tab.Strings.PdfExportMessageSettingsError)});this.$1r.sendSessionCommand(g.commandNamespace,g.commandName,{},h,i)},$13:function(){this.dom.spinner.show();this.dom.status.show()},$Q:function(){this.dom.status.hide(250)},$T:function(){var g=tsConfig.repository_urls;var h=tsConfig.visible_sheets;ss.clear(this.thumbnails);for(var i=0;i<this.$1q.zHH.length;i++){var j=this.$1q.zHH[i];var k=j.Gge;if(ss.isNullOrUndefined(j.lZe)||j.lZe.length===0){if(b.canSelectSheet(j)){var l=ss.indexOf(h,k);if(l>=0){var m=g[l];var n=new tab.RepoPathObject(m);var o=n.get_originalViewURL();j.lZe=this.$1r.formatThumbnailReference(o)}}}var p=new f($(f.template));p.pdfDialog=this;p.label.text(k);if(b.canSelectSheet(j)){p.icon.attr('style',ss.formatString('background: url({0}) 0 0;',j.lZe))}else{p.domRoot.addClass('hidden');p.icon.addClass('tab-pdfdlg-worksheet-icon')}this.dom.thumbList.append(p.domRoot);if(ss.referenceEquals(k,this.$1q.U$A)){this.$1m=p;var q=j.Vlb;this.$1i(q.YDS);this.$1g(q.tTN);this.updateScalingSelectFromSheet(j);this.$18(q.nAc);this.$1a(q.pLT)}p.domRoot.data('PDFSheet',j);this.thumbnails.push(p)}},$S:function(){var g=this.dom.scalingSelector;if(g.length>0){g.empty();this.appendEnumToSelect(tab.Strings.PdfExportPageScaleAuto,'auto',g);this.appendEnumToSelect(tab.Strings.PdfExportPageScalePercent(25),'pct25',g);this.appendEnumToSelect(tab.Strings.PdfExportPageScalePercent(50),'pct50',g);this.appendEnumToSelect(tab.Strings.PdfExportPageScalePercent(60),'pct60',g);this.appendEnumToSelect(tab.Strings.PdfExportPageScalePercent(75),'pct75',g);this.appendEnumToSelect(tab.Strings.PdfExportPageScalePercent(80),'pct80',g);this.appendEnumToSelect(tab.Strings.PdfExportPageScalePercent(90),'pct90',g);this.appendEnumToSelect(tab.Strings.PdfExportPageScalePercent(100),'pct100',g);this.appendEnumToSelect(tab.Strings.PdfExportPageScalePercent(200),'pct200',g);this.appendEnumToSelect(tab.Strings.PdfExportPageScalePercent(400),'pct400',g);this.appendOptionToSelect(tab.Strings.PdfExportFitOneHigh,'fit0x1',g);this.appendOptionToSelect(tab.Strings.PdfExportFitTwoHigh,'fit0x2',g);this.appendOptionToSelect(tab.Strings.PdfExportFitOneWide,'fit1x0',g);this.appendOptionToSelect(tab.Strings.PdfExportFitTwoWide,'fit2x0',g)}},$R:function(){var g=this.dom.sizeSelector;if(g.length>0){g.empty();this.appendEnumToSelect(tab.Strings.PdfExportPageSizeLetter,'letter',g);this.appendEnumToSelect(tab.Strings.PdfExportPageSizeLegal,'legal',g);this.appendEnumToSelect(tab.Strings.PdfExportPageSizeNote,'note',g);this.appendEnumToSelect(tab.Strings.PdfExportPageSizeFolio,'folio',g);this.appendEnumToSelect(tab.Strings.PdfExportPageSizeTabloid,'tabloid',g);this.appendEnumToSelect(tab.Strings.PdfExportPageSizeLedger,'ledger',g);this.appendEnumToSelect(tab.Strings.PdfExportPageSizeStatement,'statement',g);this.appendEnumToSelect(tab.Strings.PdfExportPageSizeExecutive,'executive',g);this.appendEnumToSelect(tab.Strings.PdfExportPageSizeA3,'a3',g);this.appendEnumToSelect(tab.Strings.PdfExportPageSizeA4,'a4',g);this.appendEnumToSelect(tab.Strings.PdfExportPageSizeA5,'a5',g);this.appendEnumToSelect(tab.Strings.PdfExportPageSizeB4,'b4',g);this.appendEnumToSelect(tab.Strings.PdfExportPageSizeB5,'b5',g);this.appendEnumToSelect(tab.Strings.PdfExportPageSizeQuarto,'quarto',g);this.appendEnumToSelect(tab.Strings.PdfExportPageSizeUnspecified,'unspecified',g)}},$15:function(g){this.$Y();switch(g){case'dashboard':case'this-sheet':{this.setSingleSheetSelected();break}case'all':{this.$12();this.showThumbList();break}case'all-dashboard':{this.$11();this.showThumbList();break}}this.$10()},$Z:function(g){var h;if(g.Jqz){h='story'}else if(g.WeS){h='dashboard'}else{h='worksheet'}this.get_body().find('.tab-pdfdlg-'+h+'-content-mode').show().css('visibility','visible').siblings().hide()},$Y:function(){for(var g=0;g<this.thumbnails.length;g++){var h=this.thumbnails[g];h.selectAndShow(false)}},$12:function(){for(var g=0;g<this.thumbnails.length;g++){var h=this.thumbnails[g];h.selectAndShow(b.canSelectSheet(h.get_presModel()))}},$11:function(){var g=this.$16().ROW;for(var h=0;h<this.thumbnails.length;h++){var i=this.thumbnails[h];var j=ss.contains(g,i.get_presModel().Gge);i.selectAndShow(j)}}},spiff.ModalDialog,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(c,a,{dispose:function(){this.$1w.dispose();this.$1v.dispose();b.prototype.dispose.call(this)},initFromModel:function(){var g={};g.tap=ss.mkdel(this,this.$1t);this.$1w=new spiff.TableauEventHandler.$ctor1(this.$1s(),g);var h=spiff.MobileScrollerOptions.$ctor();h.displayPolicy='always';this.$1v=new spiff.MobileScroller(this.$1s(),this.$1w,h);b.prototype.initFromModel.call(this);this.$1u()},initEventHandlers:function(){this.get_body().find('select').change(ss.mkdel(this,this.updateSelection)).end().find('.png-only input').change(ss.mkdel(this,this.updateImageDimension)).end();spiff.ClickHandler.targetAndClick(this.get_body().find('.tab-pdfdlg-group-orientation button'),ss.mkdel(this,this.updateOrientation));spiff.ClickHandler.targetAndClick(this.get_body().find('.tab-pdfdlg-dashboard-content-mode button'),ss.mkdel(this,this.handleContentModeSwitch));spiff.ClickHandler.targetAndClick(this.get_body().find('.tab-pdfdlg-worksheet-content-mode button'),ss.mkdel(this,this.handleContentModeSwitch));spiff.ClickHandler.targetAndClick(this.get_body().find('.tab-pdfdlg-story-content-mode button'),ss.mkdel(this,this.handleContentModeSwitch))},onWindowResize:function(g){return},showThumbList:function(){b.prototype.showThumbList.call(this);this.$1u()},hideThumbList:function(){b.prototype.hideThumbList.call(this);this.$1u()},setSingleSheetSelected:function(){b.prototype.setSingleSheetSelected.call(this);this.$1u()},$1t:function(g){var h=g.target;var i=$(h).closest('li button');if(i.length>0){var j=null;for(var k=0;k<this.thumbnails.length;k++){var l=this.thumbnails[k];if(ss.referenceEquals(l.button,i)){j=l;break}}if(ss.isValue(j)){j.set_isSelected(!j.get_isSelected())}}},$1s:function(){return this.dom.thumbList[0]},$1u:function(){this.$1v.resetPosition();this.$1v.refresh()}},b,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(d,a,{thumbs:function(){return this.thumbList.find('li')}},spiff.Template,[ss.IDisposable]);ss.initClass(e,a,{createPdfExportDialog:function(g,h,i){if(i){return new c(g,h)}return new b(g,h)}},null,[tab.IPdfExportDialogModule]);ss.initClass(f,a,{get_presModel:function(){return this.domRoot.data('PDFSheet')},set_presModel:function(g){this.domRoot.data('PDFSheet',g)},get_isSelected:function(){return this.button.hasClass('selected')},set_isSelected:function(g){if(g){this.button.addClass('selected')}else{this.button.removeClass('selected')}this.get_presModel().NPh=g},get_isVisible:function(){return this.domRoot.is(':visible')},set_isVisible:function(g){if(g){this.domRoot.show()}else{this.domRoot.hide()}},selectAndShow:function(g){this.set_isSelected(g);this.set_isVisible(g)},initEventHandlers:function(){spiff.ClickHandler.targetAndClick(this.button,ss.mkdel(this,this.handleSheetToggled))},handleSheetToggled:function(g){if(!this.button.is(':disabled')){this.set_isSelected(!this.get_isSelected())}if(ss.isValue(this.pdfDialog)){this.pdfDialog.$10()}}},spiff.Template,[ss.IDisposable]);(function(){f.template="\n<li class='tab-pdfdlg-sheet'>\n    <button class='tab-pdfdlg-thumbnail-button'>\n        <span class='tab-pdfdlg-button-icon tab-pdfdlg-thumbnail'></span>\n        <div class='tab-pdfdlg-note'></div>\n    </button>\n</li>"})();(function(){d.template="\n<div class='tab-pdfdlg-body'>\n    <div class='tab-pdfdlg-select-group'>\n        <div class='pdf-only tab-pdfdlg-selector'>\n            <label for='pdfdlgPageSize'>{0}:</label><br />\n            <select id='pdfdlgPageSize' name='pageSize'></select>\n        </div>\n        <div class='png-only tab-pdfdlg-selector'>\n            <label for='pdfdlgImageSize'>{1}:</label><br />\n            <input name='imageHeight'></input>\n            <input name='imageWidth'></input>\n        </div>\n        <div class='tab-pdfdlg-selector'>\n            <label for='pdfdlgScaling'>{2}:</label><br />\n            <select id='pdfdlgScaling' name='scaling'></select>\n        </div>\n    </div>\n    <h3 class='pdf-only'>{3}:</h3>\n    <div class='tab-pdfdlg-button-group tab-pdfdlg-group-orientation'>\n        <button class='left pdf-only' name='orientation' value='portrait'>\n            <span class='tab-pdfdlg-portrait-icon tab-pdfdlg-button-icon'></span>\n            <div class='tab-pdfdlg-note'>{4}</div>\n        </button><button class='right pdf-only' name='orientation' value='landscape'>\n            <span class='tab-pdfdlg-landscape-icon tab-pdfdlg-button-icon'></span>\n            <div class='tab-pdfdlg-note'>{5}</div>\n        </button>\n    </div>\n    <h3>{6}:</h3>\n    <div>\n        <div class='tab-pdfdlg-button-group tab-pdfdlg-dashboard-content-mode'>\n            <button class='selected left' name='dashboard-content' value='dashboard'>\n                <span class='tab-pdfdlg-dashboard-icon tab-pdfdlg-button-icon'></span>\n                <div class='tab-pdfdlg-note'>{8}</div>\n            </button><button class='' name='dashboard-content' value='all-dashboard'>\n                <span class='tab-pdfdlg-dash-sheets-icon tab-pdfdlg-button-icon'></span>\n                <div class='tab-pdfdlg-note'>{7}</div>\n            </button><button class='right' name='dashboard-content' value='all'>\n                <span class='tab-pdfdlg-workbook-icon tab-pdfdlg-button-icon'></span>\n                <div class='tab-pdfdlg-note'>{9}</div>\n            </button>\n        </div>\n        <div class='tab-pdfdlg-button-group tab-pdfdlg-story-content-mode'>\n            <button class='left selected' name='story-content' value='this-sheet'>\n                <span class='tab-pdfdlg-story-icon tab-pdfdlg-button-icon'></span>\n                <div class='tab-pdfdlg-note'>{12}</div>\n            </button><button class='right' name='story-content' value='all'>\n                <span class='tab-pdfdlg-workbook-icon tab-pdfdlg-button-icon'></span>\n                <div class='tab-pdfdlg-note'>{9}</div>\n            </button>\n        </div>\n        <div class='tab-pdfdlg-button-group tab-pdfdlg-worksheet-content-mode'>\n            <button class='left selected' name='worksheet-content' value='this-sheet'>\n                <span class='tab-pdfdlg-worksheet-icon tab-pdfdlg-button-icon'></span>\n                <div class='tab-pdfdlg-note'>{10}</div>\n            </button><button class='right' name='worksheet-content' value='all'>\n                <span class='tab-pdfdlg-workbook-icon tab-pdfdlg-button-icon'></span>\n                <div class='tab-pdfdlg-note'>{9}</div>\n            </button>\n        </div>\n    </div>\n    <h3>{11}:</h3>\n    <div class='tab-pdfdlg-sheets-container'>\n        <ul class='tab-pdfdlg-sheet-list'></ul>\n    </div>\n    <div class='tab-dialog-footer'>\n        <div class='tab-pdfdlg-status'>\n            <img class='tab-pdfdlg-spinner' src='/images/30x30REV.gif' />\n            <span class='tab-dialog-status-msg'></span>\n        </div>\n        <div class='tab-dialog-actions'></div>\n    </div>\n</div>"})();(function(){b.$0=null})()})();;
/*! BEGIN SpiffUIWeb */
(function(){'dont use strict';var a={};global.spiff=global.spiff||{};ss.initAssembly(a,'spiffuiweb');var b=function(){};b.__typeName='spiff.ChangeSpotlightedItemMode';global.spiff.ChangeSpotlightedItemMode=b;var c=function(i){spiff.ComboBoxView.call(this,i,new spiff.ComboBoxTemplate)};c.__typeName='spiff.ComboBoxViewWeb';global.spiff.ComboBoxViewWeb=c;var d=function(){this.$w=null;this.$v=null;this.$3$1=null;this.$3$2=null;this.$3$3=null;spiff.CompositeSearchWidget.call(this,new spiff.CompositeSearchWidgetTemplate);this.compositeSearchWidgetTemplate.get_textInputView().get_inputElement().keydown(ss.mkdel(this,this.$u));this.set_spotlightedItemLogic(null)};d.__typeName='spiff.CompositeSearchWidgetWeb';global.spiff.CompositeSearchWidgetWeb=d;var e=function(){};e.__typeName='spiff.ICompositeSearchWidgetSpotlightedItemLogic';global.spiff.ICompositeSearchWidgetSpotlightedItemLogic=e;var f=function(i){this.$r=0;this.$s=0;spiff.MenuView.call(this,i,new g);this.updateMenu();this.menuViewModel.add_menuItemFocusChanged(ss.mkdel(this,this.$j));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.menuViewModel.remove_menuItemFocusChanged(ss.mkdel(this,this.$j))})));this.menuDisposables.add$1(spiff.EventUtil.bindWithDispose(this.element,'keypress',ss.mkdel(this,this.$p)));this.menuDisposables.add$1(spiff.EventUtil.bindWithDispose(this.element,'keydown',ss.mkdel(this,this.$o)))};f.__typeName='spiff.MenuViewWeb';global.spiff.MenuViewWeb=f;var g=function(){spiff.MenuTemplate.call(this,"<div class='tabMenu' tabindex='1'><div class='tabMenuContent'/></div>")};g.__typeName='spiff.MenuViewWebTemplate';global.spiff.MenuViewWebTemplate=g;var h=function(i){spiff.UberPopupView.call(this,i,new spiff.UberPopupTemplate)};h.__typeName='spiff.UberPopupViewWeb';global.spiff.UberPopupViewWeb=h;ss.initEnum(b,a,{moveUp:0,moveDown:1,moveToFirst:2,moveToLast:3,moveToListItem:4});ss.initClass(c,a,{},spiff.ComboBoxView,[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[spiff.ComboBoxViewModel])]);ss.initClass(d,a,{add_spotlightedListItemChanged:function(i){this.$3$1=ss.delegateCombine(this.$3$1,i)},remove_spotlightedListItemChanged:function(i){this.$3$1=ss.delegateRemove(this.$3$1,i)},add_tabKeyPressed:function(i){this.$3$2=ss.delegateCombine(this.$3$2,i)},remove_tabKeyPressed:function(i){this.$3$2=ss.delegateRemove(this.$3$2,i)},get_spotlightedItemLogic:function(){return this.$3$3},set_spotlightedItemLogic:function(i){this.$3$3=i},resetSpotlightedItem:function(){var i=this.$w;this.$w=null;this.$t(i)},$t:function(i){if(ss.referenceEquals(i,this.$w)){return}this.$v=(ss.isValue(this.$w)?this.get_listViewModel().get_collection()[this.$w]:null);if(ss.isValue(this.$w)){this.get_listViewModel().spotlightItemAtIndex(ss.unbox(this.$w))}else{this.get_listViewModel().clearSpotlighting()}if(ss.staticEquals(this.$3$1,null)){return}this.$3$1(this.$v)},handleRemoveList:function(){this.resetSpotlightedItem();spiff.CompositeSearchWidget.prototype.handleRemoveList.call(this)},changeSpotlightedListItem:function(i,j){if(ss.isNullOrUndefined(this.get_listViewModel())||this.get_listViewModel().get_collection().length===0||i===4&&ss.isNullOrUndefined(j)){this.resetSpotlightedItem();return}var k=null;var l=this.$w;if(i===4){k=ss.indexOf(this.get_listViewModel().get_collection(),j);this.$w=k}if(ss.isNullOrUndefined(this.get_spotlightedItemLogic())){return}this.$w=this.get_spotlightedItemLogic().calculateNewSpotlightedItemIndex(l,i,k);this.$t(l)},$u:function(i){switch(i.which){case 38:{if(ss.isValue(this.get_listViewModel())){i.preventDefault();this.changeSpotlightedListItem(0,null)}break}case 40:{if(ss.isValue(this.get_listViewModel())){i.preventDefault();this.changeSpotlightedListItem(1,null)}break}case 36:{if(ss.isValue(this.get_listViewModel())&&ss.isValue(this.$w)){i.preventDefault();this.changeSpotlightedListItem(2,null)}break}case 35:{if(ss.isValue(this.get_listViewModel())&&ss.isValue(this.$w)){i.preventDefault();this.changeSpotlightedListItem(3,null)}break}case 9:{if(!ss.staticEquals(this.$3$2,null)){i.preventDefault();this.$3$2()}break}}}},spiff.CompositeSearchWidget,[spiff.IAppendableView,ss.IDisposable]);ss.initInterface(e,a,{calculateNewSpotlightedItemIndex:null});ss.initClass(f,a,{onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.dom.domRoot.focus()},showSubmenu:function(i,j,k){$('body').append(k.domRoot);spiff.SpiffBrowserViewport.getViewport(ss.mkdel(this,function(l){this.$q(l,j,k);k.domRoot.show()}))},buildMenu:function(i,j){spiff.MenuView.prototype.buildMenu.call(this,i,j);i.domRoot.on('mouseenter'+this.get_eventNamespace(),'.tabMenuItem',ss.mkdel(this,this.$l))},$q:function(i,j,k){var l=tab.DoubleUtil.roundToInt(k.domRoot.outerWidth(false));var m=tab.DoubleUtil.roundToInt(k.domRoot.outerHeight(false));var n=tab.DoubleUtil.roundToInt(j.outerWidth(false));var o=tab.DomUtil.getPageOffset(j);var p=o.left+n;var q=o.top-parseInt(k.domRoot.children('.tabMenuContent').css('padding-top'));var r=i.getVisibleRoom({x:ss.Int32.trunc(p),y:ss.Int32.trunc(q)});var s=null;if(r.roomBelow>=m){}else if(r.roomAbove+r.roomBelow>m){q-=m-r.roomBelow}else{var t=5;q-=r.roomAbove;s=r.roomAbove-5+r.roomBelow}if(r.roomRight<l){p-=l+n}var u={};u['top']=q+'px';u['left']=p+'px';u['max-height']=(ss.isValue(s)?(s+'px'):'');u['z-index']=tab.DomUtil.getComputedZIndex(j[0]);k.domRoot.css(u)},shown:function(i){spiff.MenuView.prototype.shown.call(this,i);var j=this.dom.domRoot;if(tab.DomUtil.isContentOverflowingY(j)){j.css('overflow-y','scroll')}var k=this.menuViewModel.get_focusedItem();var l=this.menuViewModel.get_menu().menuItems;if(ss.isValue(k)){this.$n(k)}else if(ss.isValue(l)&&ss.isValue(l[0])){this.menuViewModel.set_focusedItem(l[0])}},$l:function(i){if(i.pageX===this.$r&&i.pageY===this.$s){return}this.$r=i.pageX+0;this.$s=i.pageY+0;var j=$(i.currentTarget);var k=spiff.MenuView.getMenuItem(j);this.$m(spiff.MenuView.getMenuItemLevel(j));if(ss.isValue(k)){this.menuViewModel.set_focusedItem(k);if(ss.isValue(k.subMenu)){this.activateSubmenu(k,j)}}},$m:function(i){if(i<1){this.menuViewModel.hide();return}for(var j=this.menuStack.length-1;j>=i;j--){var k={$:this.menuStack[j]};k.$.domRoot.fadeOut(50,ss.mkdel({subMenu:k},function(){this.subMenu.$.dispose()}));ss.removeAt(this.menuStack,j)}},$o:function(i){var j=0,k,l,m;$sm1:for(;;){switch(j){case 0:{k=this.menuViewModel.get_focusedItem();l=this.menuViewModel.findMenuForMenuItem(k)||this.menuViewModel.get_menu();if(ss.isNullOrUndefined(l)){return}if(i.which===32||i.which===13){if(ss.isNullOrUndefined(k)){return}if(ss.isValue(k.subMenu)){this.$i()}else{this.menuViewModel.clickMenuItem(k)}j=1;continue $sm1}else if(i.which===36){this.menuViewModel.iterateFocus(1,-1);j=1;continue $sm1}else if(i.which===35){this.menuViewModel.iterateFocus(-1,l.menuItems.length);j=1;continue $sm1}else if(i.which===40){this.menuViewModel.iterateFocus(1,null);j=1;continue $sm1}else if(i.which===38){this.menuViewModel.iterateFocus(-1,null);j=1;continue $sm1}else if(i.which===39){this.$i();j=1;continue $sm1}else if(i.which===27){if(this.menuStack.length<=1){this.menuViewModel.hide()}else{j=2;continue $sm1}j=1;continue $sm1}else if(i.which===37){j=2;continue $sm1}else{return}j=1;continue $sm1}case 2:{if(!ss.referenceEquals(l,this.menuViewModel.get_menu())){m=this.getElementForMenuItem(k);if(ss.isNullOrUndefined(m)){return}this.$m(spiff.MenuView.getMenuItemLevel(m)-1);this.menuViewModel.set_focusedItem(this.menuViewModel.findItemContainingSubMenu(l))}j=1;continue $sm1}case 1:{i.preventDefault();i.stopPropagation();j=-1;break $sm1}default:{break $sm1}}}},$p:function(i){if(i.which>=97&&i.which<=122||i.which>=65&&i.which<=90||i.which>=48&&i.which<=57||i.which>127){this.menuViewModel.focusByNamePrefix(String.fromCharCode(i.which))}},$i:function(){if(ss.isValue(this.menuViewModel.get_focusedItem())&&ss.isValue(this.menuViewModel.get_focusedItem().subMenu)){var i=this.getElementForMenuItem(this.menuViewModel.get_focusedItem());if(ss.isValue(i)){this.activateSubmenu(this.menuViewModel.get_focusedItem(),i);var j=((this.menuViewModel.get_focusedItem().subMenu.menuItems.length>0)?this.menuViewModel.get_focusedItem().subMenu.menuItems[0]:null);if(ss.isValue(j)){this.menuViewModel.set_focusedItem(j)}}}},$j:function(i,j){var k=this.getElementForMenuItem(i);if(ss.isValue(k)&&k.is(':visible')){k.toggleClass('tabMenuFocusedItem',j);if(!j){return}var l=this.dom.domRoot;var m=tab.DoubleUtil.roundToInt(k.position().top);if(m<0){l.scrollTop(l.scrollTop()+m)}else{var n=tab.DoubleUtil.roundToInt(l.height());var o=m+tab.DoubleUtil.roundToInt(k.outerHeight());if(n<o){l.scrollTop(l.scrollTop()+(o-n))}}this.$k(i)}},$n:function(i){var j=this.getElementForMenuItem(i);j.toggleClass('tabMenuFocusedItem',true);var k=this.dom.domRoot;k.scrollTop(k.scrollTop()+tab.DoubleUtil.roundToInt(j.position().top)-ss.Int32.div(tab.DoubleUtil.roundToInt(j.height()),2));this.$k(i)},$k:function(i){if(i.isTextInput){this.getElementForMenuItem(i).find('input').focus()}else{this.element.focus()}}},spiff.MenuView,[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[spiff.MenuViewModel])]);ss.initClass(g,a,{},spiff.MenuTemplate,[ss.IDisposable]);ss.initClass(h,a,{get_uberPopupShadowHeight:function(){return 2}},spiff.UberPopupView,[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[spiff.UberPopupViewModel])]);(function(){spiff.ObjectRegistry.registerType(spiff.ComboBoxView,c).call(null)})();(function(){spiff.ObjectRegistry.registerType(spiff.CompositeSearchWidget,d).call(null)})();(function(){spiff.ObjectRegistry.registerType(spiff.MenuView,f).call(null)})();(function(){spiff.ObjectRegistry.registerType(spiff.UberPopupView,h).call(null)})()})();;
/*! BEGIN UIWeb */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqluiweb');var b=function(){};b.__typeName='tab.$0';var c=function(){this.$0=null;this.$1=0};c.__typeName='tab.$1';var d=function(B,C,D,E,F,G){this.$4=null;this.$2=null;this.$3=0;this.$0=null;this.$5=null;this.$1=false;this.$4=B;this.$2=C;this.$3=D;this.$0=E;this.$5=F;this.$1=G};d.__typeName='tab.$2';var e=function(B,C,D){this.$1=0;this.$2=0;this.$0=0;this.$1=B;this.$2=C;this.$0=D};e.__typeName='tab.$3';var f=function(B,C){tab.ApplicationViewModel.call(this,B,C);$(window).on(this.createNamespacedEventName('resize'),ss.mkdel(this,function(){this.resize(false)}))};f.__typeName='tab.ApplicationViewModelWeb';global.tab.ApplicationViewModelWeb=f;var g=function(){this.scroller=null;tab.CategoricalLegendTemplate.call(this,$("\n            <div class='tabLegendPanel' style='position : relative;'>\n                <div class='tabLegendBox'>\n                    <h3 class='tabLegendTitle'></h3>\n                    <div class='tabLegendContentHolder' style='overflow:auto'>\n                        <div class='tabLegendColumnHolder' style='white-space:nowrap' role='list' aria-multiselectable='true'></div>\n                    </div>\n                    <div class='tabCatLegendScroll'></div>\n                </div>\n            </div>"));this.scroller=this.getElementBySelector('.tabCatLegendScroll');this.legendContentArea=this.columnsHolder};g.__typeName='tab.CategoricalLegendTemplateWeb';global.tab.CategoricalLegendTemplateWeb=g;var h=function(B){this.$E=null;this.$F=null;this.$D=null;tab.CategoricalLegendView.call(this,B,new g);this.$E=this.$t();this.$A().domRoot.css('cursor','default');this.$F=new tab.IteratorButtons(this.get_catLegendTemplate().columnsHolder,true,12);this.$A().scroller.append(this.$F.get_domRoot())};h.__typeName='tab.CategoricalLegendViewWeb';global.tab.CategoricalLegendViewWeb=h;var i=function(){};i.__typeName='tab.CursorKey';global.tab.CursorKey=i;var j=function(B){tab.DataConnectionVariableListItemView.call(this,B);this.initDom();this.disposables.add$1(spiff.HoverAddClassBehavior.attach(this,'hover'))};j.__typeName='tab.DataConnectionVariableListItemViewWeb';global.tab.DataConnectionVariableListItemViewWeb=j;var k=function(B){this.$y=null;this.$A=null;this.$z=null;tab.DataHighlighterView.call(this,B,new tab.DataHighlighterViewTemplate);this.$y=this.get_compositeSearchWidget();this.$y.add_listItemMouseEnter(ss.mkdel(this,this.$t));this.$y.add_listItemMouseMove(ss.mkdel(this,this.$u));this.$y.add_spotlightedListItemChanged(ss.mkdel(this,this.$x));this.$y.add_tabKeyPressed(ss.mkdel(this,this.$s));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$y.remove_listItemMouseEnter(ss.mkdel(this,this.$t));this.$y.remove_listItemMouseMove(ss.mkdel(this,this.$u));this.$y.remove_spotlightedListItemChanged(ss.mkdel(this,this.$x));this.$y.remove_tabKeyPressed(ss.mkdel(this,this.$s))})));this.$y.set_spotlightedItemLogic(this)};k.__typeName='tab.DataHighlighterViewWeb';global.tab.DataHighlighterViewWeb=k;var l=function(B,C){this.$r=null;this.$s=null;this.$t=null;this.$l=null;this.$m=null;this.$u=null;this.$o=false;this.$p=null;this.$n=null;this.$q=null;this.$w=null;this.$v=null;v.call(this,$(document.createElement('div')),$(C));this.$u=B;this.$r=this.$u.get_inputHandlers();this.element.addClass('tab-tiledViewerDrill');this.$l=$("<span class='tab-tvLevelDrillDown tab-levelDrillingIcon tvDrillDown' />").appendTo(this.element);this.$s=new spiff.Button(this.$l);this.$s.add_press(ss.mkdel(this,this.$c));this.$m=$("<span class='tab-tvLevelDrillUp tab-levelDrillingIcon tvDrillUp' />").appendTo(this.element);this.$t=new spiff.Button(this.$m);this.$t.add_press(ss.mkdel(this,this.$d));C.appendChild(this.element.get(0));this.$f();this.turnDrillWidgetsOff()};l.__typeName='tab.Drilling';global.tab.Drilling=l;var m=function(B,C,D,E,F){tab.FloatingZoomToolbar.call(this,B,C,D,E,F);this.init()};m.__typeName='tab.FloatingZoomToolbarWeb';global.tab.FloatingZoomToolbarWeb=m;var n=function(B){this.$0=null;this.$0=B};n.__typeName='tab.FZTOpsWeb';global.tab.FZTOpsWeb=n;var o=function(B){this.$0=null;this.$0=B};o.__typeName='tab.HoverApi';global.tab.HoverApi=o;var p=function(){this.domHorizScrollButtonHolder=null;tab.LegacyLegendTemplate.call(this,$("<div class='LegendPanel'><div class='LegendBox'><h3 class='tabLegendTitle'></h3><div class='LegendContent'><img class='LegendImageBody'/></div><div class='tabCatLegendScroll'></div></div><div class='tabLegendHighlighterHolder'><div class='tabLegendHighlighter' showlabel='false' title='Highlight Selected Items'></div></div></div>"));this.domHorizScrollButtonHolder=this.getElementBySelector('.tabCatLegendScroll');this.legendContentArea=this.domContent};p.__typeName='tab.LegacyLegendTemplateWeb';global.tab.LegacyLegendTemplateWeb=p;var q=function(B){this.$o=new tab.DisposableHolder;tab.LegacyLegendView.call(this,B,new p)};q.__typeName='tab.LegacyLegendViewWeb';global.tab.LegacyLegendViewWeb=q;var r=function(B){this.$j=null;this.$i=null;this.$k=null;this.$c=new tab.DisposableHolder;this.$b=null;this.$f=null;this.$g=false;this.$h=null;this.$e=false;this.$d=false;tab.Param.verifyValue(B,'tooltip');this.$j=B;this.$i=[];this.$k=r.$0()};r.__typeName='tab.LegacyTooltipBehavior';r.$0=function(){r.$6++;return'mousemove.LegacyTooltipBehavior'+r.$6.toString()};global.tab.LegacyTooltipBehavior=r;var s=function(B){this.$q=null;tab.MapsSearchView.call(this,B,tab.MapsSearchView.newMapsSearchViewTemplate());this.get_compositeSearchWidget().get_textInputView().get_inputElement().mouseup(ss.mkdel(this,this.$n));var C=this.get_compositeSearchWidget();C.add_spotlightedListItemChanged(ss.mkdel(this,this.$m));C.add_tabKeyPressed(ss.mkdel(this,this.$o));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){C.remove_spotlightedListItemChanged(ss.mkdel(this,this.$m));C.remove_tabKeyPressed(ss.mkdel(this,this.$o))})));C.set_spotlightedItemLogic(this)};s.__typeName='tab.MapsSearchViewWeb';global.tab.MapsSearchViewWeb=s;var t=function(){this.scrollX=null;this.scrollY=null;this.yLabelResizer=null;this.xLabelResizer=null;this.topAxisResizer=null;this.rightAxisResizer=null;this.bottomAxisResizer=null;this.leftAxisResizer=null;tab.PaneTableTemplate.call(this,$("<div class='tab-tiledViewer placeholder'><div class='tab-clip'><div class='tab-tvTLSpacer tvimagesNS'><img></img></div><div class='tab-tvTRSpacer tvimagesNS'><img></img></div><div class='tab-tvBLSpacer tvimagesNS'><img></img></div><div class='tab-tvBRSpacer tvimagesNS'><img></img></div><div class='tab-tvYLabel tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvLeftAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvRightAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvXLabel tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvBottomAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvTopAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvView tvimagesNS'><div class='tvScrollContainer'><div class='tvBackgroundContainer'></div><div class='tvimagesContainer'></div></div><div class='tvViewportBorders'></div></div><h2 class='tab-tvTitle tvimagesNS'></h2><div class='tab-tvCaption tvimagesNS'></div><div class='tab-tvScrollX tvimages'><div class='tvimagesContainer'></div></div><div class='tab-tvScrollY tvimages'><div class='tvimagesContainer'></div></div></div></div>"));var B=ss.mkdel(this,this.getElementBySelector);this.scrollX=B('.tab-tvScrollX');this.scrollY=B('.tab-tvScrollY')};t.__typeName='tab.PaneTableTemplateWeb';global.tab.PaneTableTemplateWeb=t;var u=function(B){this.$1Z={};this.$1R=null;this.$1V=false;this.$1Y=false;this.$1T=null;this.$2e=null;this.$27=null;this.$1W=null;this.$2c=null;this.$29=null;this.$2a=null;this.$1X=null;this.$23=null;this.$21=false;this.$2f=false;this.$28=null;this.$1U=null;this.$2h=null;this.$2g=null;this.$22=false;this.$25=0;this.$1Q=null;this.$24=null;this.$26=0;this.$2b=false;this.$20=false;this.$2d=null;this.$1S=null;tab.PaneTableView.call(this,B,new t);this.$1R=this.dom;this.$1N();this.$22=false;this.$2b=true;this.$20=false;var C={};C.tap=ss.mkdel(this,function(D){if(ss.referenceEquals(D.currentTarget,D.target)){this.clearSelection()}});this.disposables.add$1(new spiff.TableauEventHandler.$ctor1(this.dom.enclosingDiv.get(0),C));this.init()};u.__typeName='tab.PaneTableViewWeb';u.$1=function(B,C){return B.x>C.pageX||B.x+B.w<=C.pageX||B.y>C.pageY||B.y+B.h<=C.pageY};u.$0=function(B,C){var D=2;var E={x:B.x,y:B.y};if(C.w>4){E=tab.RectXYUtil.horizontalShiftCoordsTowardsCenter(E,C,D)}else{E={x:C.x+ss.Int32.div(C.w,2),y:E.y}}if(C.h>4){E=tab.RectXYUtil.verticalShiftCoordsTowardsCenter(E,C,D)}else{E={x:E.x,y:C.y+ss.Int32.div(C.h,2)}}return E};global.tab.PaneTableViewWeb=u;var v=function(B,C){this.$6=0;this.$8=null;this.$7=null;spiff.Widget.call(this,B);this.$6=v.$0.length;v.$0.push(this);this.$8=C};v.__typeName='tab.SortDrillBase';global.tab.SortDrillBase=v;var w=function(B,C){this.$o=null;this.$l=null;this.$n=null;this.$p=null;this.$m=null;this.$q=null;this.$s=null;this.$r=null;v.call(this,$(document.createElement('div')),$(C));this.$n=B;this.element.addClass('tab-tiledViewerSort');this.$o=spiff.LabelButton.newNativeButton();this.$o.element.addClass('tab-tvSortIndicator');this.$o.element.css('border','0');this.$o.element.css('position','absolute');this.$o.element.css('padding','0px');this.element.append(this.$o.element);this.$l=this.$o.element;C.appendChild(this.element.get(0));this.$9();this.$g();this.$l.css('display','none')};w.__typeName='tab.Sorting';global.tab.Sorting=w;var x=function(){this.geometry=null;this.visibleGeometry=null;this.sortIndicators=null;this.posTVx=0;this.posTVy=0;this.dom=null;this.sheetid=null;this.layoutSession=null;this.session=null;this.inputHandlers=null;this.tlspacerAreaX=null;this.tlspacerAreaY=null;this.blspacerArea=null;this.regions=null;this.titleHeight=0};x.__typeName='tab.TiledViewerModel';global.tab.TiledViewerModel=x;var y=function(B,C,D,E,F,G,H,I,J){this.$W=false;this.$12={item1:false,item2:'no-tools'};this.$16=null;this.$Z=null;this.$Y=null;this.$14=null;this.$15=null;this.$X=null;this.$11=false;this.$13=false;this.$10=false;tab.TiledViewerRegion.call(this,B,C,D,H,I,J);this.$Z=E;if(this.get_regionPart()==='viz'){y.$2();tab.ModifierKeyState.add_modifierKeysChanged(ss.mkdel(this,this.$z));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.ModifierKeyState.remove_modifierKeysChanged(ss.mkdel(this,this.$z))})));this.set_defaultPointerToolMode(this.determineDefaultToolMode());this.currentToolbarToolMode=this.get_defaultPointerToolMode();this.resetPointerToolMode()}this.$W=true;this.scroller=new A(F,G)};y.__typeName='tab.TiledViewerRegionWeb';y.$2=function(){if(ss.isValue(y.$6)){return}var B='default';y.$6={};y.$6['zoomIn']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/zoomin.png',true)+') 8 7, '+B));y.$6['zoomOut']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/zoomout.png',true)+') 8 7, '+B));y.$6['panDrag']=(tab.BrowserSupport.get_isIE()?'move':('url('+tableau.util.assetUrl('cursors/pandrag.png',true)+') 9 9, '+B));y.$6['rectSelect']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/rectdrag.png',true)+') 2 2, '+B));y.$6['lassoSelect']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/lassodrag.png',true)+') 2 2, '+B));y.$6['radialSelect']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/radialdrag.png',true)+') 2 2, '+B));y.$6['rectExtended']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/rectdragextended.png',true)+') 2 2, '+B));y.$6['lassoExtended']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/lassodragextended.png',true)+') 2 2, '+B));y.$6['radialExtended']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/radialdragextended.png',true)+') 2 2, '+B));y.$6['dragSelect']='crosshair';y.$6['select']='pointer';y.$6['defaultKey']='default'};y.$0=function(B){return B.shiftKey&&!spiff.EventUtil.isCtrlKey(B)};y.$1=function(B){return!B.altKey&&B.shiftKey&&spiff.EventUtil.isCtrlKey(B)};global.tab.TiledViewerRegionWeb=y;var z=function(B,C){tab.TooltipBaseLegacyMode.call(this,B,C)};z.__typeName='tab.TooltipLegacyMode';global.tab.TooltipLegacyMode=z;var A=function(B,C){this.$0=null;this.$1=null;this.$0=B.get(0);this.$1=C.get(0)};A.__typeName='tab.WebScroller';global.tab.WebScroller=A;ss.initEnum(b,a,{$2:0,$1:1,$3:2,$0:3});ss.initClass(c,a,{});ss.initClass(d,a,{});ss.initClass(e,a,{});ss.initClass(f,a,{destroy:function(){$(window).off(this.createNamespacedEventName('resize'));tab.ApplicationViewModel.prototype.destroy.call(this)}},tab.ApplicationViewModel,[spiff.IAppendableView,ss.IDisposable,tab.IClient,tab.IApiStorytellingClient]);ss.initClass(g,a,{},tab.CategoricalLegendTemplate,[ss.IDisposable]);ss.initClass(h,a,{$B:function(){return tab.DoubleUtil.roundToInt(this.$A().columnsHolder.width())},$C:function(){return this.get_catLegendViewModel().get_categoricalLegendPM().vNc.IAN*this.get_catLegendViewModel().get_categoricalLegendPM().vNc.Fvw},$A:function(){return this.get_template()},dispose:function(){this.$E.dispose();this.$D.dispose();this.$F.dispose();ss.makeGenericType(tab.BaseLegendView$1,[tab.CategoricalLegendViewModel]).prototype.dispose.call(this)},drawLegend:function(B){tab.CategoricalLegendView.prototype.drawLegend.call(this,B);var C=this.get_catLegendViewModel().get_categoricalLegendPM();var D=C.vNc;var E=tab.DoubleUtil.roundToInt(this.$A().titleArea.height());var F=1;var G=0;var H=!this.highlighterFitsUpperRight();if(H&&!this.get_catLegendViewModel().get_titleInline()){F+=E}var I=false;var J=false;if(this.$y()){this.get_catLegendTemplate().columnsHolder.css({'overflow-x':'hidden'});this.get_catLegendTemplate().columnsHolder.css({'overflow-y':'hidden'});var K=this.get_catLegendViewModel().get_categoricalLegendPM().vNc.Fvw;this.$F.set_scrollIncrement(K);this.$F.reset();this.viewportWidth-=28;if(H){G+=30}if(this.get_catLegendViewModel().get_titleInline()){this.$A().scroller.css({top:0+'px'})}else{this.$A().scroller.css({top:E+'px'})}}else if(D.ICz==='horizontal'||D.ICz==='grid'){I=true}else{J=true}if(H&&J){var L=D.OSr*D.bjh;if(this.viewportHeight<L){var M=tab.Metrics.get_scrollW();G+=M}}this.get_catLegendTemplate().columnsHolder.css({'overflow-x':(I?'auto':'hidden'),'overflow-y':(J?'auto':'hidden')});this.$A().legendHighlighterHolder.css({top:F+'px',right:G+'px'});this.setContentSize(this.viewportHeight,this.viewportWidth);this.$z()},$t:function(){this.$D=new spiff.HoverBehavior(this,null,ss.mkdel(this,this.$v),ss.mkdel(this,this.$w));var B={};B.tap=ss.mkdel(this,this.$x);B.hover=ss.mkdel(this,this.$u);B.hoverDelay=150;var C=new spiff.TableauEventHandler.$ctor1(this.$A().domRoot.get(0),B);return C},$v:function(B){this.setHighlightButtonVisibility(true)},$w:function(B){this.setHighlightButtonVisibility(false);if(tab.FeatureFlags.isEnabled('VizLegendHover')){this.clearHoverOnItem()}},$u:function(B){if(spiff.DragDropManager.get_isDragging()){return}var C=this.getLegendItemFromEvent(B);if(ss.isValue(C)){var D=this.getViewportPosition(B);var E=this.getDocumentPosition(D);var F={x:E.x,y:E.y,w:0,h:0};this.performHoverOnItem(C,D,F)}B.preventDefault()},$x:function(B){if(tab.DomUtil.isEqualOrAncestorOf(this.$A().legendHighlighterHolder.get(0),B.target)){this.onLegendHighlighterTapped()}else{var C=this.getLegendItemFromEvent(B);var D=tab.ResolveSelectAction.fromNormalizedEvent(B);if(ss.isValue(C)){var E=this.getViewportPosition(B);var F=this.getDocumentPosition(E);var G={x:F.x,y:F.y,w:0,h:0};this.performSelectOnItem(C,D,E,G)}else{this.get_catLegendViewModel().selectNone(D)}}B.preventDefault()},$y:function(){var B=this.get_catLegendViewModel().get_categoricalLegendPM().vNc;if(B.ICz==='vertical'){return false}var C=B.bjh+tab.Metrics.get_scrollH();return this.$B()<this.$C()&&C>=this.$A().columnsHolder.height()},$z:function(){if(this.$y()){this.$A().scroller.show()}else{this.$A().scroller.hide()}}},tab.CategoricalLegendView,[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[tab.CategoricalLegendViewModel])]);ss.initEnum(i,a,{zoomIn:'zoomIn',zoomOut:'zoomOut',panDrag:'panDrag',rectSelect:'rectSelect',lassoSelect:'lassoSelect',radialSelect:'radialSelect',rectExtended:'rectExtended',lassoExtended:'lassoExtended',radialExtended:'radialExtended',dragSelect:'dragSelect',select:'select',defaultKey:'defaultKey'},true);ss.initClass(j,a,{},tab.DataConnectionVariableListItemView,[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[tab.DataConnectionVariableDisplayViewModel])]);ss.initClass(k,a,{$x:function(B){this.$z=B;if(ss.isValue(this.$z)){var C=this.$z.get_data();this.get_viewModel().highlightItems([C.YLs])}else if(this.currentListPopulationMode===2){this.get_viewModel().restoreSearchResultsHighlighting()}else{this.get_viewModel().clearHighlighting()}},$r:function(B){if(ss.isNullOrUndefined(B.get_data())){return}this.$y.changeSpotlightedListItem(4,B);if(ss.isNullOrUndefined(this.$A)){var C=$(document).find('.tabDataHighlighterViewSearchResultList');this.$A=spiff.EventUtil.bindWithDispose(C,'mouseleave',ss.mkdel(this,this.$v));this.disposables.add$1(this.$A)}},$t:function(B){this.$r(B)},$u:function(B){this.$r(B)},$v:function(B){this.$y.resetSpotlightedItem();this.$w()},removeList:function(){this.$w();tab.DataHighlighterView.prototype.removeList.call(this)},$w:function(){if(ss.isNullOrUndefined(this.$A)){return}this.$A.dispose();this.$A=null},handleEnterKeyPress:function(){if(ss.isValue(this.$z)){this.handleListItemSelected(this.$z);return}tab.DataHighlighterView.prototype.handleEnterKeyPress.call(this)},handleListItemSelected:function(B){this.removeList();tab.DataHighlighterView.prototype.handleListItemSelected.call(this,B)},$s:function(){var B;if(ss.isNullOrUndefined(this.$z)){var C=this.$y.get_listViewModel();if(ss.isNullOrUndefined(C)||C.get_collection().length===0){return}var D=this.get_compositeSearchWidget().get_textInputView().get_text().trim().length;if(D===0){this.removeList();return}B=C.get_collection()[0].get_data()}else{B=this.$z.get_data()}this.get_compositeSearchWidget().setSearchText(B.gjO);this.dataHighlighterViewModel.sendSearchQuery(B.gjO,false)},populateAndDisplayList:function(B,C){tab.DataHighlighterView.prototype.populateAndDisplayList.call(this,B,C);this.$y.resetSpotlightedItem()},calculateNewSpotlightedItemIndex:function(B,C,D){var E=this.get_compositeSearchWidget().get_listViewModel().get_collection().length-(this.notShownResultsListItemIsVisible?2:1);if(C===4){if(ss.Nullable$1.gt(D,E)){D=E}return D}if(ss.isNullOrUndefined(B)){return 0}var F=B;switch(C){case 1:{F=ss.Nullable$1.add(F,1);if(ss.Nullable$1.gt(F,E)){F=E}break}case 0:{F=ss.Nullable$1.sub(F,1);if(ss.Nullable$1.lt(F,0)){F=null}break}case 2:{F=0;break}case 3:{F=E;break}}return F}},tab.DataHighlighterView,[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[tab.DataHighlighterViewModel]),spiff.IListItemContentCreator,spiff.ICompositeSearchWidgetSpotlightedItemLogic]);ss.initClass(v,a,{get_enabled:function(){return ss.isValue(this.$7)},set_enabled:function(B){if(this.get_widgetFeatureEnabled()){if(B){if(ss.isNullOrUndefined(this.$7)){this.$7=spiff.EventUtil.bindWithDispose(this.$8,'mousemove',ss.mkdel(this,function(C){this.onMouseMove(C)}))}}else if(ss.isValue(this.$7)){this.$7.dispose();this.$7=null}}},get_widgetFeatureEnabled:null,dispose:function(){ss.remove(v.$0,this);this.element.remove();spiff.Widget.prototype.dispose.call(this)},isOtherActiveInRect:function(B){for(var C=0;C<v.$0.length;C++){if(C!==this.$6){var D=v.$0[C];if(D.isActiveInRect(B)){return true}}}return false},isActiveInRect:function(B){return false},onMouseMove:null,getSIRegionFromName:function(B,C){var D,E;var F=ss.replaceAllString(C,'Area','');var G=B.get_sortIndicators();var H=G.iG$;for(D=0,E=H.length;D<E;D++){if(ss.referenceEquals(H[D].kuG.toString(),F)){return H[D]}}return null},showNodeAt:function(B,C,D){$(B).css('top',C+'px');$(B).css('left',D+'px');$(B).css('display','')},getWidgetPos:function(B,C,D){if(B==='level'){if(D==='y'){return{x:C.l+ss.Int32.div(C.w,2)-4,y:C.t+2}}else{return{x:C.l+2,y:C.t+ss.Int32.div(C.h,2)-4}}}else{return{x:C['x']+2,y:C['y']+2}}},hideNode:function(B){$(B).css('display','none')},regionHitTest:function(B,C){var D=B;var E=new ss.ObjectEnumerator(D);try{while(E.moveNext()){var F=E.current();if(ss.isValue(F.value)&&tab.RectUtil.inRect(F.value,C)){return F.key}}}finally{E.dispose()}return null},clone:function(B){if(ss.isNullOrUndefined(B)){return B}return this.mixin(new Object,B)},mixin:function(B,C){var D=C;var E=new ss.ObjectEnumerator(D);try{while(E.moveNext()){var F=E.current();var G=B[F.key];if(ss.isNullOrUndefined(G)||!ss.referenceEquals(G,D[F.key])){B[F.key]=D[F.key]}}}finally{E.dispose()}return B}},spiff.Widget,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(l,a,{get_widgetFeatureEnabled:function(){return tsConfig.allow_filter},dispose:function(){this.$u=null;this.$s.dispose();this.$t.dispose();v.prototype.dispose.call(this)},onUpdate:function(){if(!ss.staticEquals(this.$v,null)){this.$v();this.$v=null}this.$o=false;this.$q=this.$u.geometry;this.$w=this.$u.visibleGeometry},onMouseMove:function(B){this.$a(B)},isActiveInRect:function(B){if($(this.$l.get(0)).css('display')!=='none'||$(this.$m.get(0)).css('display')!=='none'){if(ss.isValue(this.$n)&&tab.RectXYUtil.intersectsWith(this.$n,B)){return true}}return false},turnDrillWidgetsOff:function(){var B=['bottomaxis','xheader','yheader'];for(var C=0;C<B.length;C++){var D=B[C];if(ss.isValue(this.$r[D])){this.$r[D].unsuppressHover()}}this.hideNode(this.$l.get(0));this.hideNode(this.$m.get(0));this.$p=new c},$f:function(){this.set_enabled(true)},$a:function(B){var C=new Object;var D=false;var E=false;var F=false;var G=false;var H=false;var I=false;var J=true;if(this.$o){return}if(B.button>0){return}if(ss.isNullOrUndefined(this.$q)||ss.isNullOrUndefined(this.$q.di)||ss.referenceEquals(this.$q.di,C)||!tsConfig.allow_filter){return}var K=this.$u.get_posTV();var L={x:B.pageX-K.x,y:B.pageY-K.y};if(ss.isValue(this.$w.xheaderArea)){D=tab.RectUtil.inRect(this.$w.xheaderArea,L)}var M=this.$u.tlspacerAreaX;var N=this.$u.tlspacerAreaY;if(D&&ss.isValue(M)&&ss.isValue(N)&&ss.isValue(this.$w.uleftArea)){N.w=M.l;J=false}if(ss.isValue(this.$w.bottomaxisArea)&&!this.$q.pi.hasXQAxis&&!D){E=tab.RectUtil.inRect(this.$w.bottomaxisArea,L)}if(ss.isValue(this.$w.yheaderArea)&&!D&&!E){F=tab.RectUtil.inRect(this.$w.yheaderArea,L)}if(ss.isValue(N)&&!D&&!E&&ss.isValue(this.$w.yheaderArea)){G=tab.RectUtil.inRect(N,L)}if(ss.isValue(M)&&!G&&!F&&!E&&ss.isValue(this.$w.xheaderArea)){H=tab.RectUtil.inRect(M,L)}var O=this.$u.blspacerArea;if(ss.isValue(O)&&!G&&!H){I=tab.RectUtil.inRect(O,L)}if(!D&&!F&&!E&&!G&&!H&&!I){this.turnDrillWidgetsOff()}else if(H){J=false;this.$i(L)}else if(G){this.$j(L)}else if(D){J=false;this.$i(L)}else if(F){this.$j(L)}else{this.$h()}if(J&&ss.isValue(N)&&ss.isValue(this.$w.uleftArea)){N.w=this.$w.uleftArea.w}},$c:function(){this.$b('down')},$d:function(){this.$b('up')},$b:function(B){this.$o=true;var C=this.$u.get_session();C.levelDrill(this.$p.$1,B,this.$p.$0);this.turnDrillWidgetsOff()},$i:function(B){var C=this.$q.di.xs+this.$u.titleHeight;var D=this.$9(B.y,C,this.$q.di.xy);if(D.$0>=0&&D.$0<this.$q.di.xy.length){this.$k('x',D,this.$q.di.xy)}else{this.turnDrillWidgetsOff()}},$j:function(B){var C=this.$9(B.x,this.$q.di.ys,this.$q.di.yx);var D=C.$0;if(D>=0&&D<this.$q.di.yx.length){this.$k('y',C,this.$q.di.yx)}},$h:function(){if(ss.isNullOrUndefined(this.$w.bottomaxisArea)){return}var B=this.$q.di.xy.length-1;var C=Math.min(this.$w.bottomaxisArea.l,20);var D={l:this.$w.bottomaxisArea.l-C,t:this.$w.bottomaxisArea.t,w:this.$w.bottomaxisArea.w+C,h:this.$w.bottomaxisArea.h};this.$e(D,this.$q.di.xy[B][1],'x');this.$p.$1=B;this.$p.$0='bottomaxis'},$k:function(B,C,D){var E;var F=0;if(B==='x'){if(ss.isValue(this.$w.uleftArea)){F=Math.min(this.$w.xheaderArea.l,20)}E={l:this.$w.xheaderArea.l-F,t:C.$1,w:this.$w.xheaderArea.w+F,h:C.$2-C.$1}}else{if(ss.isValue(this.$w.uleftArea)){F=Math.min(this.$w.yheaderArea.t,20)}E={l:C.$1,t:this.$w.yheaderArea.t-F,w:C.$2-C.$1,h:this.$w.yheaderArea.h+F}}this.$e(E,D[C.$0][1],B);this.$p.$1=C.$0;this.$p.$0=B+'header'},$g:function(B,C,D){var E=this.getWidgetPos('level',C,D);var F=tab.DoubleUtil.roundToInt(this.$l.outerHeight());var G=tab.DoubleUtil.roundToInt(this.$l.outerWidth());this.$n={x:E.x,y:E.y,w:G,h:F};if(this.isOtherActiveInRect(this.$n)){return}this.showNodeAt(B,E.y,E.x)},$e:function(B,C,D){switch(C){case 0:{this.hideNode(this.$l.get(0));this.hideNode(this.$m.get(0));break}case 1:{this.$g(this.$l.get(0),B,D);this.hideNode(this.$m.get(0));break}case 2:{this.$g(this.$m.get(0),B,D);this.hideNode(this.$l.get(0));break}case 3:{break}}},$9:function(B,C,D){var E=-1;var F=C-1;var G=-1;if(ss.isNullOrUndefined(D)){return new e(-1,-1,-1)}while(F<B&&G<D.length-1){G+=1;E=F;F+=D[G][0]}if(F<B){return new e(-1,-1,-1)}return new e(E,F,G)}},v,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(m,a,{clickZoomHome:function(){tab.FloatingZoomToolbar.prototype.clickZoomHome.call(this);if(this.toolbarType==='homeOnlyToolbar'){this.setActiveState(false)}},$k:function(B){var C=this.$m(tab.Strings.PanZoomSelectToolsRadialSelectionTooltip);this.radialSelectBtn=this.addToggleButton(B,'buttonRadialSelect',C)},$l:function(B){var C=this.$m(tab.Strings.PanZoomSelectToolsRectangularSelectionTooltip);this.rectSelectBtn=this.addToggleButton(B,'buttonRectSelect',C)},$i:function(B){var C=this.$m(tab.Strings.PanZoomSelectToolsLassoSelectionTooltip);this.lassoSelectBtn=this.addToggleButton(B,'buttonLassoSelect',C)},$j:function(B){var C=this.$m(tab.Strings.PanZoomSelectToolsPanTooltip);this.panBtn=this.addToggleButton(B,'buttonPan',C)},createButtons:function(){this.createButtonContainer();if(this.toolbarType==='fullToolbar'){this.zoomInBtn=this.addButton(this.buttonContainer,'buttonZoomIn',tab.Strings.PanZoomSelectToolsZoomInTooltip);this.zoomOutBtn=this.addButton(this.buttonContainer,'buttonZoomOut',tab.Strings.PanZoomSelectToolsZoomOutTooltip);this.zoomHomeBtn=this.addButton(this.buttonContainer,'buttonZoomHome',tab.Strings.PanZoomSelectToolsZoomHomeTooltip);this.addSpacer();this.flyOutBtn=this.addButton(this.buttonContainer,'buttonFlyOut','');this.createButtonFlyOut();this.$h()}else if(this.toolbarType==='disablePanZoomToolbar'){if(this.geoSearchEnabled){this.zoomHomeBtn=this.addButton(this.buttonContainer,'buttonZoomHome',tab.Strings.PanZoomSelectToolsZoomHomeTooltip)}this.$l(this.buttonContainer);this.$k(this.buttonContainer);this.$i(this.buttonContainer)}else{this.zoomHomeBtn=this.addButton(this.buttonContainer,'buttonZoomHome',tab.Strings.PanZoomSelectToolsZoomHomeTooltip)}this.setupEventHandling()},$h:function(){if(this.toolbarType==='fullToolbar'){var B=this.$m((tab.BrowserSupport.get_isMac()?tab.Strings.PanZoomSelectToolsZoomAreaTooltipMac:tab.Strings.PanZoomSelectToolsZoomAreaTooltip));this.zoomAreaBtn=this.addToggleButton(this.flyOutButtons,'buttonZoomArea',B);this.$j(this.flyOutButtons);this.$l(this.flyOutButtons);this.$k(this.flyOutButtons);this.$i(this.flyOutButtons)}},createButtonFlyOut:function(){tab.FloatingZoomToolbar.prototype.createButtonFlyOut.call(this)},$m:function(B){return B+'\n'+tab.Strings.SelectionToolsLockTooltip},setupEventHandling:function(){tab.FloatingZoomToolbar.prototype.setupEventHandling.call(this);if(this.toolbarType==='fullToolbar'){this.disposables.add$1(this.zoomInBtn.onClick(ss.mkdel(this,function(){this.api.zoomIn()})));this.disposables.add$1(this.zoomOutBtn.onClick(ss.mkdel(this,function(){this.api.zoomOut()})));this.disposables.add$1(this.zoomAreaBtn.onClick(ss.mkdel(this,function(){this.setToolMode('area-zoom',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('area-zoom')}})));this.disposables.add$1(this.zoomAreaBtn.onShiftClick(ss.mkdel(this,function(){this.setToolMode('area-zoom',true)})));this.flyOutContainer.mouseout(ss.mkdel(this,this.$o));var B=this.flyOutBtn.element;B.mouseout(ss.mkdel(this,this.$n));B.mouseenter(ss.mkdel(this,this.toggleFlyout))}if(this.geoSearchEnabled||this.toolbarType!=='disablePanZoomToolbar'){this.zoomHomeBtn.add_hover(ss.mkdel(this,this.$p));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.zoomHomeBtn.remove_hover(ss.mkdel(this,this.$p))})))}},$p:function(){if(!this.canZoomHome){this.zoomHomeBtn.element.removeClass(this.zoomHomeBtn.get_hoverClass())}},$o:function(B){var C=this.flyOutContainer.offset();if(C.top>=B.pageY){this.updateFlyOutVisibility(false);return}var D=tab.DoubleUtil.roundToInt(C.left)+tab.DoubleUtil.roundToInt(this.flyOutContainer.width());var E=tab.DoubleUtil.roundToInt(C.top)+tab.DoubleUtil.roundToInt(this.flyOutContainer.height());if(B.pageX>=D||B.pageY>=E){this.updateFlyOutVisibility(false)}},$n:function(B){var C=this.flyOutBtn.element.offset();if(C.left>=B.pageX||C.top>=B.pageY){this.updateFlyOutVisibility(false);return}var D=tab.DoubleUtil.roundToInt(C.top)+tab.DoubleUtil.roundToInt(this.flyOutBtn.element.height());if(B.pageY>=D){this.updateFlyOutVisibility(false)}}},tab.FloatingZoomToolbar,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(n,a,{zoomHome:function(){this.$0.zoomHome()},zoomIn:function(){this.$0.$1P(2)},zoomOut:function(){this.$0.$1P(0.5)},setPointerToolMode:function(B,C){this.$0.setPointerToolMode(B,C)},setAppendMode:function(B){},anyButtonTouched:function(){},defaultPointerToolMode:function(){return this.$0.defaultPointerToolMode()},isExistingSelection:function(){return this.$0.isExistingSelection()}});ss.initClass(o,a,{dispose:function(){this.$0=null},unsuppressHover:function(B){var C=this.$0.get_inputHandlers()[B.get_regionPart()];if(ss.isValue(C)){C.unsuppressHover()}var D=this.$0.get_responsiveMouseHandler();if(ss.isValue(D)){D.unsuppressHover()}},suppressHover:function(B){var C=this.$0.get_inputHandlers()[B.get_regionPart()];if(ss.isValue(C)){C.suppressHover()}var D=this.$0.get_responsiveMouseHandler();if(ss.isValue(D)){D.suppressHover()}}},null,[ss.IDisposable]);ss.initClass(p,a,{},tab.LegacyLegendTemplate,[ss.IDisposable]);ss.initClass(q,a,{onAddedToDom:function(){tab.LegacyLegendView.prototype.onAddedToDom.call(this);var B=this.get_legendTemplate().domHorizScrollButtonHolder;B.append(this.iterButtons.get_domRoot());B.css({visibility:'hidden'});this.get_legendTemplate().domHighlighter.attr('title',tab.Strings.LegendPanelHighlightSelectedItems)},dispose:function(){this.$o.dispose();tab.LegacyLegendView.prototype.dispose.call(this)},makeViewerInputHandler:function(B,C){var D={};D.tap=ss.mkdel(this,this.onTap);D.hover=ss.mkdel(this,this.onHover);return new spiff.TableauEventHandler.$ctor1(C,D)},doConnections:function(){var B=$(this.get_domNode());this.$o.add$1(spiff.EventUtil.bindWithDispose(B,'mouseenter',ss.mkdel(this,this.$n)));this.$o.add$1(spiff.EventUtil.bindWithDispose(B,'mouseleave',ss.mkdel(this,this.$m)))},layoutButtons:function(B){var C=2;var D=2;this.get_legendTemplate().domHighlighterHolder.css({right:''});var E=!this.highlighterFitsUpperRight();if(E&&!this.get_legendViewModel().get_titleInline()){C+=this.get_serverRenderedModel().jZr}var F=this.get_template().domHorizScrollButtonHolder;F.css({visibility:'hidden'});if(this.get_serverRenderedModel().fXK){if(this.get_serverRenderedModel().ICz!=='vertical'){if(B.h<tab.Metrics.get_minScrollHeight()&&B.h>1){this.get_domNode().classList.add('LegendHorizontal');var G=this.bodySize.w;if(G>B.w){B.w-=28;if(this.get_serverRenderedModel().fXK&&(!!this.get_legendViewModel().get_titleInline()||this.get_serverRenderedModel().XjF.toString().length===0&&this.get_serverRenderedModel().nkG1===0&&this.get_serverRenderedModel().jZr===0)){B.w-=18;this.get_legendTemplate().domHighlighterHolder.css({right:32+'px'})}this.iterButtons.set_scrollIncrement(this.get_serverRenderedModel().Fvw||(ss.Int32.div(this.get_legendTemplate().get_contentArea().get(0).clientWidth,2)||120));var H=(!!this.get_legendViewModel().get_titleInline()?0:this.get_serverRenderedModel().jZr);F.css({visibility:'visible',top:H+'px'});if(E){D+=30}}else{F.css({visibility:'hidden'});this.get_legendTemplate().get_contentArea().css({'overflow-x':'auto'})}}else{this.get_legendTemplate().get_contentArea().css({overflow:'auto'})}}if(this.get_serverRenderedModel().ICz==='vertical'){this.get_legendTemplate().get_contentArea().css({'overflow-y':'auto'});if(E){if(this.get_serverRenderedModel().gCJ>B.h){D+=tab.Metrics.get_scrollW()}}}tab.DomUtil.setMarginBox(this.get_legendTemplate().get_contentArea().get(0),{w:B.w,h:B.h})}else{F.css({visibility:'hidden'});this.get_legendTemplate().get_contentArea().css({overflow:'hidden'});if(B.w>0){tab.DomUtil.setMarginBox(this.get_legendTemplate().get_contentArea().get(0),{w:B.w,h:B.h})}}this.get_legendTemplate().domHighlighterHolder.css({top:C+'px',right:D+'px'});this.iterButtons.updateButtonState()},$n:function(B){if(!tsConfig.allow_highlight){return}if(this.get_serverRenderedModel().fXK){if(this.get_serverRenderedModel().JuD){this.get_legendTemplate().domHighlighterHolder.css({visibility:''})}this.get_domRoot().addClass('tvmodeSelect')}},$m:function(B){var C=tab.DomUtil.getRectXY$1($(this.get_domNode()),true);if(C.x>B.pageX||C.x+C.w<=B.pageX||C.y>B.pageY||C.y+C.h<=B.pageY){this.hideControls()}},onTap:function(B){if(B.originalEvent['button']>1){return}this.disallowHover();var C=this.getDocumentPoint(B);var D=this.documentPointToContentPoint(C);var E={x:D.x,y:D.y,w:0,h:0};var F=B.getSelectAction();var G=ss.mkdel(this,function(){this.get_legendTooltip().singleSelectCoordinates(C,D,this.get_legendViewModel().get_regionType(),'legenditem')});if(this.get_serverRenderedModel().jhL!=='map'){tab.SelectionClientCommands.selectRectRegionAndDoUbertip(this.get_legendViewModel().get_regionType(),E,F,this.get_visualId(),G,this.getFieldNameVec())}else{G()}},allowHover:function(){this.eventHandler.unsuppressHover()},disallowHover:function(){this.eventHandler.suppressHover()}},tab.LegacyLegendView,[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[tab.LegacyLegendViewModel])]);ss.initClass(r,a,{attach:function(){this.$j.add_showed(ss.mkdel(this,this.$7));this.$j.add_closed(ss.mkdel(this,this.$5));this.$j.add_disposed(ss.mkdel(this,this.$a));var B={};spiff.TableauEventHandler.setHandler(B,'hover',ss.mkdel(this,this.$8));this.$c.add$1(new spiff.TableauEventHandler.$ctor1(this.$j.element[0],B));$(window.document.documentElement).on(this.$k,ss.mkdel(this,this.$6))},detach:function(){this.$0();this.$c.dispose();if(ss.isValue(this.$j)){this.$j.remove_showed(ss.mkdel(this,this.$7));this.$j.remove_closed(ss.mkdel(this,this.$5));this.$j.remove_disposed(ss.mkdel(this,this.$a))}this.$9()},dispose:function(){this.detach()},disposeTooltip:function(){this.dispose()},shownTooltipIsSticky:function(){return true},isHoverAllowed:function(B){return!(this.$j.get_isShown()&&this.$j.isInSafeZone(B,!this.$d))},shouldShowCommandButtons:function(){return true},handleUbertipMenuToggle:function(B){this.$e=B},handleUbertipMenuClose:function(){this.$j.close()},hoverOverObject:function(B,C,D,E){this.showTooltip(B)},hoverOverWhitespace:function(B){if(this.$j.get_isShown()&&!this.$j.isInSafeZone(B,false)){this.$j.close()}},multiSelectComplete:function(B){this.showTooltip(B)},singleSelectComplete:function(B){this.showTooltip(B)},selectionMoved:function(B){},repositionWithinRegion:function(B){},onPanningOrDragging:function(){if(this.$j.get_isShown()){this.$j.close()}},onScroll:function(){if(this.$j.get_isShown()){this.$j.close()}},mouseDown:function(B,C){this.$j.close()},showTooltip:function(B){if(this.$j.get_isShown()&&tab.PointUtil.equals(this.$j.get_location(),B)){return}if(this.$j.get_isShown()&&this.$j.isInSafeZone(B,false)){return}this.$j.show(this.$j.get_body().children()[0],B)},$7:function(){this.$0();this.$g=false;this.$d=false;this.$h=new Date;this.$j.set_lastLocation({x:this.$j.get_calculatedShownArgs().origX,y:this.$j.get_calculatedShownArgs().origY});this.$1(10000)},$5:function(){this.$j.element.off('.LegacyTooltipBehavior');this.$j.set_lastLocation(null);this.$0();this.$h=null;this.$d=false},$6:function(B){var C=this.$j.get_lastLocation();this.$j.set_lastLocation({x:B.pageX,y:B.pageY});if(ss.isNullOrUndefined(C)||!this.$j.get_isShown()){return}if(this.$4(this.$j.get_lastLocation())){this.$d=true;return}if(!this.$e&&!this.$j.isInSafeZone(this.$j.get_lastLocation(),!this.$d)){this.$j.close();return}var D=tab.PointUtil.distance(C,this.$j.get_lastLocation());var E=new Date-this.$h;if(D>10&&E>500){this.$g=true;if(ss.isValue(this.$b)){ss.remove(this.$i,ss.unbox(this.$b));this.$b=tab.MiscUtil.clearTimeout(this.$b)}this.$2()}else if(this.$g){if(!ss.isValue(this.$b)){this.$b=this.$1(1200)}}},$2:function(){this.$f=tab.MiscUtil.clearTimeout(this.$f);this.$f=window.setTimeout(ss.mkdel(this,function(){if(ss.isNullOrUndefined(this.$b)){this.$b=this.$1(1200)}}),250)},$9:function(){$(window.document.documentElement).off(this.$k)},$4:function(B){if(ss.isNullOrUndefined(B)){return false}var C=this.$3();return tab.RectUtil.inRect(C,B)},$3:function(){var B=this.$j.element.position();var C={l:tab.DoubleUtil.roundToInt(B.left),t:tab.DoubleUtil.roundToInt(B.top),w:tab.DoubleUtil.roundToInt(this.$j.element.width()),h:tab.DoubleUtil.roundToInt(this.$j.element.height())};return C},$1:function(B){var C=window.setTimeout(ss.mkdel(this,function(){if(this.$4(this.$j.get_lastLocation())){return}this.$j.close()}),B);this.$i.push(C);return C},$8:function(B){if(this.$4(this.$j.get_lastLocation())){return}this.$0()},$a:function(B,C){this.dispose()},$0:function(){for(var B=0;B<this.$i.length;B++){var C=this.$i[B];window.clearTimeout(C)}ss.clear(this.$i);this.$b=tab.MiscUtil.clearTimeout(this.$b);this.$f=tab.MiscUtil.clearTimeout(this.$f)}},null,[tab.ITooltipBehavior,ss.IDisposable]);ss.initClass(s,a,{updateSearchTextValue:function(B){this.$p(B,true)},$p:function(B,C){tab.MapsSearchView.prototype.updateSearchTextValue.call(this,B);if(C===true){this.selectAllSearchText()}},$n:function(B){if(this.get_compositeSearchWidget().get_textInputView().get_text().length===0){return}var C=this.get_compositeSearchWidget().get_textInputView().get_inputElement().prop('selectionStart');var D=this.get_compositeSearchWidget().get_textInputView().get_inputElement().prop('selectionEnd');if(ss.isValue(C)&&ss.isValue(D)&&!ss.referenceEquals(C,D)){return}this.selectAllSearchText()},$m:function(B){this.$q=B;if(ss.isValue(B)){var C=B.get_data();this.$p(C,false)}},handleEnterKeyPress:function(){if(ss.isValue(this.$q)){this.mapsSearchViewModel.moveMapToCandidateBounds(this.$q.get_data());this.get_compositeSearchWidget().removeList();return}tab.MapsSearchView.prototype.handleEnterKeyPress.call(this)},$o:function(){if(ss.isNullOrUndefined(this.get_compositeSearchWidget().get_listViewModel())||ss.isValue(this.queryDelayTimer)||ss.isValue(this.$q)){return}var B=this.get_compositeSearchWidget();B.changeSpotlightedListItem(2,null)},handleSearchButtonClick:function(){tab.MapsSearchView.prototype.handleSearchButtonClick.call(this);if(this.get_gotoMyLocationButtonEnabled()){this.setGeoLocationButtonVisibility(!this.get_isCollapsed())}},collapseSearchWidget:function(){tab.MapsSearchView.prototype.collapseSearchWidget.call(this);if(this.get_gotoMyLocationButtonEnabled()){this.setGeoLocationButtonVisibility(!this.get_isCollapsed())}},calculateNewSpotlightedItemIndex:function(B,C,D){if(C===4){return D}var E=this.get_compositeSearchWidget().get_listViewModel().get_collection().length-1;if(ss.isNullOrUndefined(B)){switch(C){case 1:case 2:{return 0}case 0:case 3:{return E}}}var F=B;switch(C){case 1:{F=ss.Nullable$1.add(F,1);if(ss.Nullable$1.gt(F,E)){F=0}break}case 0:{F=ss.Nullable$1.sub(F,1);if(ss.Nullable$1.lt(F,0)){F=E}break}case 2:{F=0;break}case 3:{F=E;break}}return F}},tab.MapsSearchView,[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[tab.MapsSearchViewModel]),spiff.IListItemContentCreator,spiff.ICompositeSearchWidgetSpotlightedItemLogic]);ss.initClass(t,a,{},tab.PaneTableTemplate,[ss.IDisposable]);ss.initClass(u,a,{get_inputHandlers:function(){return this.$1Z},get_domWeb:function(){return this.$1R},get_responsiveMouseHandler:function(){return this.$28},$1P:function(B){if(this.isMapWithBaseLayer()&&B<1&&!tab.MapUtil.allowZoomAtCurrentLevel(this.get_paneTableVM().get_mapServerModel().get_zoom(),1/B)){return}var C=this.resolvePane({x:1,y:1});this.disposeOfOverlays();this.getWebRegion('viz').$U(C,B)},initEventHandlers:function(){var B=null;var C=null;var D=ss.mkdel(this,function(){B=tab.MiscUtil.dispose$1(B);C=tab.MiscUtil.dispose$1(C);tab.PaneTableView.prototype.initEventHandlers.call(this)});B=spiff.EventUtil.bindWithDispose(this.dom.domRoot,'mouseenter',D);C=spiff.EventUtil.bindWithDispose(this.dom.domRoot,'touchstart',D);this.disposables.add$1(B);this.disposables.add$1(C)},getDomNodeForContentRegion:function(B){return B.get(0)},makeFloatingZoomToolbar:function(B){var C=new n(this);var D=10;if(this.get_mapsSearchEnabled()){D+=41}var E=new m(B.get(0),C,this.determineToolbarType(),D,this.get_mapsSearchEnabled());E.addClass('tabSuppressVizTooltipsAndOverlays');return E},connectTooltipEventHandlers:function(){tab.PaneTableView.prototype.connectTooltipEventHandlers.call(this);this.get_vizToolTip().add_mouseExitedTooltip(ss.mkdel(this,this.$1z))},makeConnections:function(){this.$1R.scrollX.scroll(ss.mkdel(this,function(B){this.$1H()}));this.$1R.scrollY.scroll(ss.mkdel(this,function(B){this.$1I()}));this.dom.domRoot.on(tab.BrowserSupport.get_mouseWheelEvent(),ss.mkdel(this,function(B){this.$1B(B)}));this.dom.domRoot.mouseout(ss.mkdel(this,function(B){this.onMouseOut(B)}));this.dom.domRoot.mousemove(ss.mkdel(this,function(B){this.onMouseMove(B)}));this.dom.view.mouseover(ss.mkdel(this,function(B){this.onViewMouseOver(B)}));this.dom.view.mouseout(ss.mkdel(this,function(B){this.onViewMouseOut(B)}));this.dom.view.mousemove(ss.mkdel(this,function(B){this.onViewMouseMove(B)}));this.dom.domRoot.attr('tabindex','-1');this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.dom.domRoot,'keyup',ss.mkdel(this,this.$1y)))},makeMapsSearchViewConnections:function(){if(ss.isValue(this.mapsSearchView)){var B=this.mapsSearchView.get_compositeSearchWidget().get_textInputView().get_inputElement();B.focusin(ss.mkdel(this,function(C){this.checkForSuppressTooltipsAndOverlays(C.target)}));B.focusout(ss.mkdel(this,function(C){this.checkForSuppressTooltipsAndOverlays(C.relatedTarget)}));B.keypress(ss.mkdel(this,function(C){this.checkForSuppressTooltipsAndOverlays(C.target)}))}},makeRegions:function(){var B=this.listNonVizRegions();var C=this.makeHoverAPI();ss.clearKeys(this.regions);var D=function(){return false};var E=_.keys(B);for(var F=0;F<E.length;F++){var G=E[F];var H=B[G];this.regions[G]=new y(G,H.get(0),this.get_session(),C,this.$1R.scrollX,this.$1R.scrollY,D,this.get_sheetid(),this.get_paneTableVM())}var I=ss.mkdel(this,this.allowPanZoom);var J=this.dom.view.children().first();this.regions['viz']=new y('viz',J.get(0),this.get_session(),C,this.$1R.scrollX,this.$1R.scrollY,I,this.get_sheetid(),this.get_paneTableVM())},getWebRegion:function(B){return ss.safeCast(this.regions[B],y)},makeTooltip:function(){var B=null;if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){B=new tab.TooltipContextProvider(this.get_paneTableVM().get_visualModel().get_selectionsModel())}var C=this.get_paneTableVM().get_visualModel().get_tooltipMode();if(tab.ApplicationModel.get_instance().get_dataDictionary().get_isEmpty()&&tab.FeatureFlags.isEnabled('HybridRenderMode')){C='sticky'}var D=ss.isNullOrUndefined(tsConfig.allow_tooltip)||tsConfig.allow_tooltip;if(D&&C==='smooth'){return new tab.TooltipResponsiveMode(B,this.get_visualId(),this.dom.view)}else if(D&&C==='sticky'){return new z(B,this.get_visualId())}else{return new tab.TooltipDisabledMode(B,this.get_visualId())}},cancelHover:function(){},makeInputHandlers:function(){var B=ss.getEnumerator(Object.keys(this.$1Z));try{while(B.moveNext()){var C=B.current();this.$1Z[C]=tab.MiscUtil.dispose$1(this.$1Z[C])}}finally{B.dispose()}ss.clearKeys(this.$1Z);var D=this.listNonVizRegions();var E=_.keys(D);for(var F=0;F<E.length;F++){var G=E[F];var H=D[G];var I=this.makeMouseSpec(this.getWebRegion(G));this.$1Z[G]=new spiff.TableauEventHandler.$ctor1(H.get(0),I)}this.$1O();var J=this.dom.view.children().first();if(tab.FeatureFlags.isEnabled('ReferenceLineDragDrop')){var K={};K.hoverDelay=20;K.hover=ss.mkdel(this,function(O){this.vizHitTester.update(O)});var L=ss.mkdel(this,function(O){this.onHitTestUpdated(this.getWebRegion('viz'),O)});this.vizHitTester.add_updated(L);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.vizHitTester.remove_updated(L)})));this.$2e=new spiff.TableauEventHandler.$ctor1(J.get(0),K);this.disposables.add$1(this.$2e)}var M={};spiff.TableauEventHandler.setHandler(M,'dragStart',function(O){});this.$1T=new spiff.TableauEventHandler.$ctor1(document.body,M);this.disposables.add$1(this.$1T);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var N={};N.hover=ss.mkdel(this,function(O){this.$1w(this.getWebRegion('viz'),O)});N.hoverDelay=0;this.$28=new spiff.TableauEventHandler.$ctor1(J.get(0),N);this.disposables.add$1(this.$28)}if(tab.FeatureParamsLookup.getBool(30)===true){this.$1n()}J.addClass('tvmodeRectSelect')},$1O:function(){if(ss.isValue(this.$1Z['viz'])){this.$1Z['viz'].dispose()}var B=this.makeMouseSpec(this.getWebRegion('viz'));var C=this.dom.view.children().first();this.$1Z['viz']=new spiff.TableauEventHandler.$ctor1(C.get(0),B)},updateTooltipMode:function(B){tab.PaneTableView.prototype.updateTooltipMode.call(this,B);if(ss.isNullOrUndefined(this.vizTooltip)){this.$1O()}},$1n:function(){var B=this.listNonVizRegions();var C=ss.mkdel(this,function(D){var E={};E.hover=ss.mkdel(this,function(F){this.$1v(this.getWebRegion(D),F)});E.hoverDelay=0;E.firstTouch=ss.mkdel(this,function(F){this.$1F(this.getWebRegion(D))});this.disposables.add$1(new spiff.TableauEventHandler.$ctor1(B[D].get(0),E));B[D].mouseout(ss.mkdel(this,function(F){this.$1A(D)}))});C('xheader');C('yheader');C('topaxis');C('bottomaxis')},makeHoverAPI:function(){if(ss.isNullOrUndefined(this.$1X)){this.$1X=new o(this);this.disposables.add$1(this.$1X)}return this.$1X},makeMouseSpec:function(B){var C={};C.hover=ss.mkdel(this,function(F){this.$1x(B,F)});C.hoverDelay=(tab.ApplicationModel.get_instance().get_isLocalRenderMode()?120:150);var D=this.get_paneTableVM().get_visualModel().get_tooltipMode();if(D!=='sticky'){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&B.get_regionPart()==='viz'){C.hoverDelay=0}else{var E=tab.FeatureParamsLookup.getInt(12);C.hoverDelay=(ss.isValue(E)?ss.unbox(E):120)}}C.firstTouch=ss.mkdel(this,function(F){this.$1u(B,F)});C.tap=ss.mkdel(this,function(F){this.$1G(B,F)});C.doubleTap=ss.mkdel(this,function(F){this.$1q(B,F)});if(B.get_regionPart()==='viz'){C.dragStart=ss.mkdel(this,function(F){this.dragOverride(F,ss.mkdel(this,function(G){this.$1t(B,F)}))});if(tsConfig.allow_filter){C.press=ss.mkdel(this,function(F){this.$1D()});C.cancelPotentialDoubleTap=ss.mkdel(this,function(F){this.$1p(B,F)});C.pressDragStart=ss.mkdel(this,function(F){this.dragOverride(F,ss.mkdel(this,function(G){this.$1E(B,F)}))})}}return C},makeRegionContentProviders:function(){var B=ss.mkdel(this,function(C,D){this.regions['viz'].reset()});this.makeRegionContentProvidersHelper(this.dom.view.children().first(),B);this.$2a=this.makeTiledWindow(this.$1R.scrollY,null,null,null,null);this.$29=this.makeTiledWindow(this.$1R.scrollX,null,null,null,null)},makeTiledWindow:function(B,C,D,E,F){return this.makeTiledWindowHelper(B,C,D,E,F,true)},shouldInformTooltipOfLocalTapOnViz:function(B){return true},refreshScrollingAndDrilling:function(){var B=this.$27;this.$27=null;if(typeof(B)==='function'){B()}if(ss.isValue(this.$1W)){this.$1W.onUpdate()}if(ss.isValue(this.$2c)){this.$2c.onUpdate()}},destroyRegions:function(){tab.PaneTableView.prototype.destroyRegions.call(this);this.$2a.destroy();this.$29.destroy()},destroyInputHandlers:function(){var B=ss.getEnumerator(Object.keys(this.$1Z));try{while(B.moveNext()){var C=B.current();this.$1Z[C].dispose();this.$1Z[C]=null}}finally{B.dispose()}ss.clearKeys(this.$1Z);if(ss.isValue(this.vizTooltip)){this.vizTooltip.remove_mouseExitedTooltip(ss.mkdel(this,this.$1z))}this.$1J()},refreshImages:function(B){tab.PaneTableView.prototype.refreshImages.call(this,B);this.$2a.refreshImages(B);this.$29.refreshImages(B)},onTooltipClosed:function(){tab.PaneTableView.prototype.onTooltipClosed.call(this);this.disposeOfOverlayImages();this.$15(false)},$1z:function(B){var C=tab.DomUtil.getRectXY(this.dom.view);if(C.x>B.x||C.x+C.w<=B.x||C.y>B.y||C.y+C.h<=B.y){this.disposeOfOverlays();if(this.get_vizToolTip().get_isTooltipShown()){this.get_vizToolTip().clearTooltipWithFakeHover()}}},onViewMouseOver:function(B){this.$21=true;this.showFloatingZoomToolbar(true);if(ss.isValue(this.mapsSearchView)&&this.get_mapsSearchEnabled()){this.mapsSearchView.set_isVisible(true)}this.checkForSuppressTooltipsAndOverlays(B.target)},$1k:function(B){var C=tab.DomUtil.getRectXY(this.dom.domRoot);return u.$1(C,B)},$1l:function(B){var C=tab.DomUtil.getRectXY(this.dom.view);return u.$1(C,B)},isPointOutsideOfRelevantVizRegions:function(B){if(!this.$1l(B)){return false}if(!u.$1(tab.DomUtil.getRectXY(this.dom.yLabel),B)){return false}if(!u.$1(tab.DomUtil.getRectXY(this.dom.xLabel),B)){return false}if(!u.$1(tab.DomUtil.getRectXY(this.dom.caption),B)){return false}if(!u.$1(tab.DomUtil.getRectXY(this.dom.leftAxis),B)){return false}if(!u.$1(tab.DomUtil.getRectXY(this.dom.rightAxis),B)){return false}if(!u.$1(tab.DomUtil.getRectXY(this.dom.bottomAxis),B)){return false}if(!u.$1(tab.DomUtil.getRectXY(this.dom.topAxis),B)){return false}return true},onMouseOut:function(B){if(this.$1k(B)){if(ss.isValue(this.$2c)){this.$2c.hideSortIndicator()}if(ss.isValue(this.$1W)){this.$1W.turnDrillWidgetsOff()}}if(this.isPointOutsideOfRelevantVizRegions(B)){this.get_vizToolTip().clearTooltipWithFakeHover();this.$16()}},$16:function(){if(!this.$1V){this.disposeOfOverlayImages()}},onMouseMove:function(B){var C=this.get_vizToolTip();if(C.get_isTooltipShown()&&!C.shownTooltipIsStatic()&&this.$1l(B)){var D=tab.DomUtil.getRectXY(this.dom.view);C.hoverOverWhitespace({x:D.x,y:D.y},'viz')}},onViewMouseOut:function(B){this.$21=false;var C=this.get_vizToolTip();if(this.$1l(B)){this.showFloatingZoomToolbar(false);if(ss.isValue(this.mapsSearchView)){this.mapsSearchView.set_isVisible(false)}if(C.get_isTooltipShown()&&!C.shownTooltipIsStatic()){var D=tab.DomUtil.getRectXY(this.dom.view);C.hoverOverWhitespace({x:D.x,y:D.y},'viz')}}if(!C.get_isTooltipShown()){this.$16()}this.checkForSuppressTooltipsAndOverlays(B.relatedTarget);this.get_vizToolTip().onMouseLeaveTheView()},onViewMouseMove:function(B){this.$21=true;this.checkForSuppressTooltipsAndOverlays(B.target)},setupSortIndicators:function(){this.$2c=new w(this,this.dom.domRoot.get(0));this.disposables.add$1(this.$2c)},setupDrilling:function(){this.$1W=new l(this,this.dom.domRoot.get(0));this.disposables.add$1(this.$1W)},setRegionGeometryHelper:function(B,C){if(ss.isValue(B)&&B.children().first().hasClass('tvScrollContainer')){tab.DomUtil.setAbsolutePositionBox(B.children().first(),{l:0,t:0,w:C.w,h:C.h})}},setGeometryForWebScrollbars:function(B,C,D,E,F,G,H,I,J,K){var L=null,M=null;if(ss.isValue(D)&&D>0){var N=Math.max(tab.Metrics.get_minScrollHeight(),B);tab.DomUtil.setAbsolutePositionBox(this.$1R.scrollY,{l:G,t:F,w:D,h:N});this.$1R.scrollY.css('display','')}else{this.$1R.scrollY.css('display','none')}if(ss.isValue(E)&&E>0){var O=Math.max(tab.Metrics.get_minScrollWidth(),C);tab.DomUtil.setAbsolutePositionBox(this.$1R.scrollX,{l:I,t:H,w:O,h:E});this.$1R.scrollX.css('display','')}else{this.$1R.scrollX.css('display','none')}if(this.$1R.scrollY.css('display')!=='none'){L={x:0,y:0,w:1,h:J,r:null}}this.$2a.reset(L,this.geometry.ts);if(this.$1R.scrollX.css('display')!=='none'){M={x:0,y:0,w:K,h:1,r:null}}this.$29.reset(M,this.geometry.ts)},maybeShowOverlayImages:function(B){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var C=null;if(ss.isValue(B)&&tab.BrowserSupport.get_dataUri()&&ss.isValue(B.overlayImage)){C=this.createOverlayImageFromDataUri(B.overlayImage)}else if(ss.isValue(B.overlayImageKey)){C=this.createOverlayImageFromFile(B.overlayImageKey)}this.showOverlayImages(C,B.overlayAnchors)}},setRegionResizersForWeb:function(){this.$1M();this.$1L()},$1M:function(){if(tsConfig.is_authoring&&tab.FeatureFlags.isEnabled('WebAuthoringResizeHeaders')){this.$1c();var B=tab.DomUtil.getRectXY(this.dom.tlSpacer).h+tab.DomUtil.getRectXY(this.dom.yLabel).h+tab.DomUtil.getRectXY(this.dom.blSpacer).h;if(B>0){$('.tab-tvYLabel').css('overflow','visible');this.get_domWeb().yLabelResizer=$("<div class='tab-tvYLeftRegionResizer'></div>");this.dom.yLabel.append(this.get_domWeb().yLabelResizer);var C=-tab.DomUtil.getRectXY(this.dom.tlSpacer).h;var D=20-tab.DomUtil.getRectXY(this.dom.yLabel).w;spiff.DragDropManager.attachDragSource(this.get_domWeb().yLabelResizer,tab.RegionResizer.getRegionResizerViewModel(this.get_visualId(),'yheader',this.get_domWeb().yLabelResizer,C,B,D,2147483647))}var E=tab.DomUtil.getRectXY(this.dom.tlSpacer).w+tab.DomUtil.getRectXY(this.dom.xLabel).w+tab.DomUtil.getRectXY(this.dom.trSpacer).w;if(E>0){$('.tab-tvXLabel').css('overflow','visible');this.get_domWeb().xLabelResizer=$("<div class='tab-tvXTopRegionResizer'></div>");this.dom.xLabel.append(this.get_domWeb().xLabelResizer);var F=-tab.DomUtil.getRectXY(this.dom.tlSpacer).w;var G=20-tab.DomUtil.getRectXY(this.dom.xLabel).h;spiff.DragDropManager.attachDragSource(this.get_domWeb().xLabelResizer,tab.RegionResizer.getRegionResizerViewModel(this.get_visualId(),'xheader',this.get_domWeb().xLabelResizer,F,E,G,2147483647))}}},$1c:function(){if(ss.isValue(this.get_domWeb().yLabelResizer)){spiff.DragDropManager.removeDragSource(this.get_domWeb().yLabelResizer);this.get_domWeb().yLabelResizer.remove();this.get_domWeb().yLabelResizer=null}if(ss.isValue(this.get_domWeb().xLabelResizer)){spiff.DragDropManager.removeDragSource(this.get_domWeb().xLabelResizer);this.get_domWeb().xLabelResizer.remove();this.get_domWeb().xLabelResizer=null}},$1L:function(){if(tsConfig.is_authoring&&tab.FeatureFlags.isEnabled('WebAuthoringResizeAxes')){this.$1b();var B=tab.DomUtil.getRectXY(this.dom.tlSpacer).w;var C=tab.DomUtil.getRectXY(this.dom.trSpacer).w;var D=tab.DomUtil.getRectXY(this.dom.tlSpacer).h;var E=tab.DomUtil.getRectXY(this.dom.blSpacer).h;var F=tab.DomUtil.getRectXY(this.dom.view);var G=F.w;var H=F.h;var I=tab.DomUtil.getRectXY(this.dom.topAxis).w;if(I>0){$('.tab-tvTopAxis').css('overflow','visible');var J=B+I+C;this.get_domWeb().topAxisResizer=$("<div class='tab-tvXTopRegionResizer'></div>");this.dom.topAxis.append(this.get_domWeb().topAxisResizer);var K=-B;var L=10-tab.DomUtil.getRectXY(this.dom.topAxis).h;var M=ss.Int32.div(H,2)-10;spiff.DragDropManager.attachDragSource(this.get_domWeb().topAxisResizer,tab.RegionResizer.getRegionResizerViewModel(this.get_visualId(),'topaxis',this.get_domWeb().topAxisResizer,K,J,L,M))}var N=tab.DomUtil.getRectXY(this.dom.rightAxis).h;if(N>0){$('.tab-tvRightAxis').css('overflow','visible');var O=D+N+E;this.get_domWeb().rightAxisResizer=$("<div class='tab-tvYRightRegionResizer'></div>");this.dom.rightAxis.append(this.get_domWeb().rightAxisResizer);var P=-D;var Q=-(ss.Int32.div(G,2)-10);var R=tab.DomUtil.getRectXY(this.dom.rightAxis).w-10;spiff.DragDropManager.attachDragSource(this.get_domWeb().rightAxisResizer,tab.RegionResizer.getRegionResizerViewModel(this.get_visualId(),'rightaxis',this.get_domWeb().rightAxisResizer,P,O,Q,R))}var S=tab.DomUtil.getRectXY(this.dom.bottomAxis).w;if(S>0){$('.tab-tvBottomAxis').css('overflow','visible');var T=B+S+C;this.get_domWeb().bottomAxisResizer=$("<div class='tab-tvXBottomRegionResizer'></div>");this.dom.bottomAxis.append(this.get_domWeb().bottomAxisResizer);var U=-B;var V=-(ss.Int32.div(H,2)-10);var W=tab.DomUtil.getRectXY(this.dom.bottomAxis).h-10;spiff.DragDropManager.attachDragSource(this.get_domWeb().bottomAxisResizer,tab.RegionResizer.getRegionResizerViewModel(this.get_visualId(),'bottomaxis',this.get_domWeb().bottomAxisResizer,U,T,V,W))}var X=tab.DomUtil.getRectXY(this.dom.leftAxis).h;if(X>0){$('.tab-tvLeftAxis').css('overflow','visible');var Y=D+X+E;this.get_domWeb().leftAxisResizer=$("<div class='tab-tvYLeftRegionResizer'></div>");this.dom.leftAxis.append(this.get_domWeb().leftAxisResizer);var Z=-D;var ba=10-tab.DomUtil.getRectXY(this.dom.leftAxis).w;var bb=ss.Int32.div(G,2)-10;spiff.DragDropManager.attachDragSource(this.get_domWeb().leftAxisResizer,tab.RegionResizer.getRegionResizerViewModel(this.get_visualId(),'leftaxis',this.get_domWeb().leftAxisResizer,Z,Y,ba,bb))}}},$1b:function(){if(ss.isValue(this.get_domWeb().topAxisResizer)){spiff.DragDropManager.removeDragSource(this.get_domWeb().topAxisResizer);this.get_domWeb().topAxisResizer.remove();this.get_domWeb().topAxisResizer=null}if(ss.isValue(this.get_domWeb().rightAxisResizer)){spiff.DragDropManager.removeDragSource(this.get_domWeb().rightAxisResizer);this.get_domWeb().rightAxisResizer.remove();this.get_domWeb().rightAxisResizer=null}if(ss.isValue(this.get_domWeb().bottomAxisResizer)){spiff.DragDropManager.removeDragSource(this.get_domWeb().bottomAxisResizer);this.get_domWeb().bottomAxisResizer.remove();this.get_domWeb().bottomAxisResizer=null}if(ss.isValue(this.get_domWeb().leftAxisResizer)){spiff.DragDropManager.removeDragSource(this.get_domWeb().leftAxisResizer);this.get_domWeb().leftAxisResizer.remove();this.get_domWeb().leftAxisResizer=null}},$1m:function(B){return ss.isValue(B)&&B!==0},$1o:function(B){var C,D;var E=B['wheelDeltaY'];var F=B['wheelDeltaX'];var G=B['deltaY'];var H=B['deltaX'];var I=B['detail'];if(this.$1m(I)){var J=B['axis'];var K=B['HORIZONTAL_AXIS'];D=(ss.referenceEquals(J,K)?0:I);C=(ss.referenceEquals(J,K)?I:0)}else if(this.$1m(E)||this.$1m(F)){if(tab.BrowserSupport.get_isSafari()&&tab.BrowserSupport.get_safariVersion()>=7){var L=Math.abs(F);var M=Math.abs(E);var N=Math.max(L,M);if(this.$20){if(N%3===0){F=ss.Int32.div(F,3);E=ss.Int32.div(E,3)}}else if(N%12===0){F=((F<0)?-120:120);E=((E<0)?-120:120)}}D=-E;C=-F}else if(this.$1m(G)||this.$1m(H)){var O=(this.$20?3:40);D=O*G;C=O*H}else{D=-B['wheelDelta'];C=0}return{x:C,y:D}},$11:function(B){if(B%tab.MapUtil.defaultWheelDeltaIncrement!==0){var C=Math.abs(B);var D=ss.Int32.div(C,tab.MapUtil.defaultWheelDeltaIncrement)+1;if(B<0){D*=-1}B=tab.MapUtil.defaultWheelDeltaIncrement*D}return B},$1N:function(){this.$2g={x:0,y:0};this.$26=0;this.$1Q=null;this.$25=0;this.$24=null;this.$2b=true;this.$20=false},$1B:function(B){var C=null;if(ss.isValue(B['originalEvent'])){C=B['originalEvent']}var D=this.$1o(C);if(this.isOneVisiblePane()&&this.isMap&&this.allowPanZoom()){this.$1j(D.y,C['deltaY']);if(this.$20){D.y=this.$11(D.y);this.$26++;if(this.$26%tab.MapUtil.touchEventSamplingRate!==0){B.preventDefault();return}}if(this.$22){B.preventDefault();return}this.$2g.y+=D.y;if(!this.$1l(B)){var E=this.getWebRegion('viz');var F=this.$1g(E,C);this.$13(F,E,B);return}}var G=this.$1R.scrollY.scrollTop();var H=this.$1R.scrollX.scrollLeft();this.$1R.scrollY.scrollTop(G+D.y);this.$1R.scrollX.scrollLeft(H+D.x);var I=this.$1R.scrollY.scrollTop();var J=this.$1R.scrollX.scrollLeft();if(G!==I){this.$1e(I);B.preventDefault()}if(H!==J){this.$1d(J);B.preventDefault()}this.get_vizToolTip().onScroll();this.disposeOfOverlays()},$13:function(B,C,D){if(ss.isNullOrUndefined(this.$1Q)){if(C.mapIsBrowserRendered()){this.$24=C.getPointLatLong(B)}this.$1Q=B}if(C.mapIsBrowserRendered()){this.$25=ss.Int32.div(this.$2g.y,tab.MapUtil.defaultWheelDeltaIncrement)*tab.MapUtil.minimumZoomLevelIncrement}var E=this.get_paneTableVM().get_mapServerModel();var F=(E.get_hasPresModel()?E.get_zoom():1);var G=tab.MapUtil.calculateZoomFactor(this.$2g.y);if(C.mapIsBrowserRendered()&&!tab.MapUtil.allowZoomAtCurrentLevelLeaflet(F,this.$25)||!tab.MapUtil.allowZoomAtCurrentLevel(F,G)){this.$25=F;G=tab.MapUtil.getZoomFactorForDesiredZoomLevel(F,0);this.$2g.y=tab.MapUtil.getScrollDeltaForZoomFactor(G)}this.$18();this.$2h=window.setTimeout(ss.mkdel(this,function(){this.$22=true;C.get_viewSession().zoomWithAnchorPoint(C.get_regionPart(),this.$1Q,G,ss.mkdel(this,function(){this.$22=false}));this.$1N()}),500);if(!this.$22){this.$14(C,F,G);D.preventDefault()}},$14:function(B,C,D){this.isAnimationOccurring=true;var E=this.resolvePane(this.$1Q);if(B.mapIsBrowserRendered()){var F=C-this.$25;B.animateAnchorZoomLeaflet(E,this.$24,F)}else{B.animateAnchorZoom(E,this.$1Q,D)}this.disposeOfOverlays()},$1j:function(B,C){if(this.$2b){var D=(tab.BrowserSupport.get_isFF()?Math.abs(C):Math.abs(B));if(D>0&&D<12){this.$20=true}this.$2b=false}},$1g:function(B,C){var D=ss.round(C['clientX']);var E=ss.round(C['clientY']);var F={x:D,y:E};var G=B.toLocalCoords(F,false);return G},$1I:function(){this.get_vizToolTip().onScroll();this.$1e(this.$1R.scrollY.scrollTop())},$1e:function(B){for(var C=0;C<tab.PaneTableView.scrollableYRegions.length;C++){var D=tab.PaneTableView.scrollableYRegions[C];this.getWebRegion(D).setYPos(B)}var E={x:this.$1R.scrollX.scrollLeft(),y:B};this.set_scrollPosition(E)},$1d:function(B){for(var C=0;C<tab.PaneTableView.scrollableXRegions.length;C++){var D=tab.PaneTableView.scrollableXRegions[C];this.getWebRegion(D).setXPos(B)}var E={x:B,y:this.$1R.scrollY.scrollTop()};this.set_scrollPosition(E)},$1H:function(){this.get_vizToolTip().onScroll();this.$1d(this.$1R.scrollX.scrollLeft())},$1y:function(B){if(this.getWebRegion('viz').get_isDragTracking()){return}if(!ss.referenceEquals(B.target,this.element.get(0))&&!ss.referenceEquals(B.target,this.dom.view.find('.tvimagesContainer').get(0))){return}var C=this.defaultPointerToolMode();switch(B.which){case 68:{C='lasso-selection';break}case 83:{C='radial-selection';break}case 65:{C='rectangular-selection';break}default:{return}}if(C===this.getWebRegion('viz').get_currentPointerToolMode()){C=this.defaultPointerToolMode()}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.setToolMode(C,true)}else{this.setPointerToolMode(C,true)}},checkForHoverOverlay:function(){this.$15(true)},$15:function(B){if(ss.isValue(this.$23)&&this.$21){this.$1h(B)}else{this.disposeOfOverlayImages()}},$1h:function(B){var C=this.getWebRegion('viz');var D=C.hitTestSingleMarksAndVisualParts(this.$23);C.setMouseOverMarkOrVisualPart(D.get_hitType()!==0);if(D.get_hitType()===0){this.hoverOverWhitespace()}if(D.get_shouldRenderOverlay()){if(!B){this.updateOverlayForLastTargetState(D.get_id(),D.get_overlayTargetType())}else{this.updateOverlayTarget(D.get_id(),'hover',D.get_overlayTargetType())}}else{this.disposeOfOverlayImages()}},$1v:function(B,C){if(this.isUserDragging()||!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||ss.isNullOrUndefined(B.get_contentProvider())){return}var D=B.toLocalCoordsEvent(C,false);var E=B.hitTestNodes(D);if(ss.isValue(E)){E=(tab.SelectionUtils.isCategoricalAndTupleAssociatedHeader(E.ZHX,E.wwF)?E:null)}var F=tab.ModelUtils.regionToVisualPartMap[B.get_regionPart()];this.updateHoveredCategoricalHeaders(E,'hover',F)},$1F:function(B){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||ss.isNullOrUndefined(B.get_contentProvider())){return}var C=tab.ModelUtils.regionToVisualPartMap[B.get_regionPart()];this.updateHoveredCategoricalHeaders(null,'press',C)},$1A:function(B){var C=tab.ModelUtils.regionToVisualPartMap[B];var D=this.get_paneTableVM().get_vizRegionMap()[C];if(ss.isValue(D)){D.set_hoveredCategoricalNode(null)}},isUserDragging:function(){return spiff.DragDropManager.get_isDragging()||y.isDragTrackingInAnyRegion},$1w:function(B,C){if(this.isUserDragging()){return}if(this.$2f){this.$2f=false;return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&B.get_regionPart()==='viz'){if(!this.isAnimationOccurring&&(B.isSelectingToolActive()||!B.get_isDragTracking()&&B.get_currentPointerToolMode()==='pan-map')){var D=B.toLocalCoordsEvent(C,false);var E={x:C.pageX,y:C.pageY};this.$23=D;if(this.get_vizToolTip().isHoverAllowed(E)){this.$1h(true)}}else{this.$23=null}}},$1x:function(B,C){if(this.isUserDragging()){return}if(tab.CommandController.get().get_legacySession().get_waitHandler().isBusy()){return}var D=this.get_vizToolTip();if(D.get_isTooltipShown()&&D.shownTooltipIsStatic()){return}var E=B.toLocalCoordsEvent(C,false);var F=tab.PointUtil.add(E,B.getLocalOffsetPoint(false));if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var G=tab.PaneTableView.guessTooltipTargetTypeFromRegion(B.get_regionPart());D.hoverOverCoordinates(F,E,G,B.get_regionPart());return}var H=false;if(B.get_regionPart()==='viz'){this.$17();B.get_shapeSelector().setSingleSelectPoint(E);var I=this.getWebRegion('viz');var J=I.hitTestSingleMarksAndVisualParts(E);H=J.get_hitType()!==0;I.setMouseOverMarkOrVisualPart(H);if(H){switch(J.get_hitObjectType()){case 5:case 6:{var K=this.get_paneTableVM().get_scene().getMarkBoundingBox(J.get_id());E=u.$0(E,K);var L=this.get_paneTableVM().get_visualModel().get_selectionsModel();var M=L.tupleSelection.isObjectSelected(J.get_id());var N=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(J.get_id());var O=N.get_paneDescriptorKey();D.hoverOverObject(F,tab.PointUtil.add(E,{x:this.geometry.viz.x,y:this.geometry.viz.y}),E,J.get_id(),M,O,'mark',B.get_regionPart());break}case 3:case 4:case 2:{this.$2d=window.setTimeout(function(){D.hoverOverCoordinates(F,E,'visualparts',B.get_regionPart())},120);break}default:{break}}}}else if(ss.isValue(B.get_contentProvider())){var P=B.hitTestNodes(E);if(ss.isValue(P)){var Q={};Q.ZHX=P.ZHX;Q.wwF=P.wwF;var R=tab.BrushingComputer.getTuplesAssociatedWithSelectedNodes(this.get_paneTableVM().get_visualModel(),[Q]);D.hoverOverHeader(F,E,'header',B.get_regionPart(),R);H=true}}if(!H){D.hoverOverWhitespace(F,B.get_regionPart())}},$1C:function(B,C){this.get_vizToolTip().onMoving();this.disposeOfOverlays()},$1u:function(B,C){if(ss.isValue(this.mapsSearchView)){this.mapsSearchView.get_compositeSearchWidget().removeList()}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&B.get_regionPart()==='viz'){var D=B.toLocalCoordsEvent(C,false);var E=this.getWebRegion('viz');var F=E.hitTestSingleMarksAndVisualParts(D);if(F.get_shouldRenderOverlay()){this.$2f=true;this.updateOverlayTarget(F.get_id(),'press',F.get_overlayTargetType())}}},$1f:function(){var B=this.get_paneTableVM().get_selectionsModel().get_allLegendSelections();for(var C=0;C<B.length;C++){var D=B[C];if(!D.isEmpty){return true}}return false},isSelectActionOnVizAllowed:function(B){return B==='simple'||!this.$1f()},onHitTestUpdated:function(B,C){this.$1a();if(this.getVizDragApproval(C)){var D=B.toLocalCoords(C.get_pageCoordinates(),false);this.$19(D)}},$19:function(B){var C=$('<div class="tabDragIcon" ></div>');if(tab.BrowserSupport.get_isIE()){C.css('cursor','alias')}else{C.css('cursor','-webkit-grab');C.css('cursor','-moz-grab');C.css('cursor','grab')}C.css('position','absolute');C.css('top',B.y-20+'px');C.css('left',B.x-20+'px');C.css('height',40+'px');C.css('width',40+'px');var D=this.makeMouseSpec(this.getWebRegion('viz'));this.dom.view.children().first().append(C);this.$1U=new spiff.TableauEventHandler.$ctor1(C.get(0),D)},disposeOfOverlays:function(){this.$1a();tab.PaneTableView.prototype.disposeOfOverlays.call(this)},$1a:function(){this.$1U=tab.MiscUtil.dispose$1(this.$1U);this.dom.view.children().first().children('.tabDragIcon').remove()},$1G:function(B,C){if(this.$1Y){this.$1Y=false;return}C.stopPropagation();this.get_vizToolTip().onTap();if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.disposeOfOverlays()}if(C.originalEvent['button']>1){return}var D=B.toLocalCoordsEvent(C,false);var E=tab.PointUtil.add(D,B.getLocalOffsetPoint(false));var F;if(B.get_regionPart()==='viz'){F=tab.ResolveSelectAction.fromNormalizedEvent(C,false,true)}else{F=tab.ResolveSelectAction.fromNormalizedEvent(C)}if(this.allowPanZoom()&&B.isZoomToolActive()){var G=this.resolvePane(B.toLocalCoordsEvent(C,false));B.$T(C,G);return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.handleLocalTap(B,F,E,D)}else{var H=ss.mkdel(this,function(){if(!tsConfig.allow_select){this.makeHoverAPI().unsuppressHover(B)}var J=tab.PaneTableView.guessTooltipTargetTypeFromRegion(B.get_regionPart());this.get_vizToolTip().singleSelectCoordinates(E,D,B.get_regionPart(),J)});var I={x:D.x,y:D.y,w:0,h:0};tab.SelectionClientCommands.selectRectRegionAndDoUbertip(B.get_regionPart(),I,F,this.get_paneTableVM().get_visualId(),H);this.dom.domRoot.focus()}},$1q:function(B,C){if(!this.isPointerToolLocked){this.resetPointerToolMode()}var D=((C.shiftKey&&!spiff.EventUtil.isCtrlKey(C))?0.5:2);this.doDoubleTap(B,C,D)},$1t:function(B,C){var D=this.resolvePane(B.toLocalCoordsEvent(C,false));this.$1i();if(!tsConfig.allow_filter){this.setPointerToolMode(B.get_currentPointerToolMode(),false)}else{switch(B.get_currentPointerToolMode()){case'pan-map':case'area-zoom':case'zoom-out':{var E=!C.shiftKey;this.setPointerToolMode(B.get_currentPointerToolMode(),E);break}}}this.$1K(B);if(ss.isValue(this.$1W)){this.$1W.set_enabled(false)}if(ss.isValue(this.$2c)){this.$2c.set_enabled(false)}if(ss.isValue(this.mapsSearchView)){this.mapsSearchView.enableUserInteraction(false)}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.enableUserInteraction(false)}B.$s(C,D)},$1r:function(B){var C=this.getWebRegion('viz');C.$r(B);if(C.isSelectingToolActive()){this.checkForDragOverlays();this.$1V=true}},$1s:function(B){this.$1Y=B.type==='mousedown';this.get_vizToolTip().onDragEnd(null);this.disposeOfOverlays();this.$1V=false;this.getWebRegion('viz').$q(B,this.get_vizToolTip());this.$1J();if(!this.isPointerToolLocked){this.resetPointerToolMode()}if(ss.isValue(this.$1W)){this.$1W.set_enabled(true)}if(ss.isValue(this.$2c)){this.$2c.set_enabled(true)}if(ss.isValue(this.mapsSearchView)){this.mapsSearchView.enableUserInteraction(true)}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.enableUserInteraction(true)}},$1D:function(){return},$1E:function(B,C){var D=this.resolvePane(B.toLocalCoordsEvent(C,false));this.$1i();B.$s(C,D);this.$1K(B)},$1p:function(B,C){if(!this.isPointerToolLocked){this.resetPointerToolMode()}},$1K:function(B){this.$23=null;this.get_vizToolTip().onPanOrDragStart(null);this.$1a();if(!B.isSelectingToolActive()){this.disposeOfOverlays()}},$1J:function(){var B={};spiff.TableauEventHandler.removeHandler(B,'dragMove');spiff.TableauEventHandler.removeHandler(B,'dragEnd');if(ss.isValue(this.$1T)){this.$1T.update(B)}this.$1S=tab.MiscUtil.dispose$1(this.$1S)},$1i:function(){var B={};spiff.TableauEventHandler.setHandler(B,'dragMove',ss.mkdel(this,this.$1r));spiff.TableauEventHandler.setHandler(B,'dragEnd',ss.mkdel(this,this.$1s));this.$1T.update(B);tab.WindowHelper.clearSelection();tab.MiscUtil.dispose$1(this.$1S);this.$1S=new spiff.Glass;this.$1S.show();var C=this.getWebRegion('viz');C.setCursor(C.determineDragSelectionCursor(),this.$1S.element)},$17:function(){this.$2d=tab.MiscUtil.clearTimeout(this.$2d)},$18:function(){this.$2h=tab.MiscUtil.clearTimeout(this.$2h)},allowPanZoom:function(){return this.$12('other')},allowPanZoomOnDoubleTap:function(){return this.$12('doubleTap')},$12:function(B){if(!tsConfig.allow_filter){return false}if(this.get_paneTableVM().get_visualModel().get_vizNavigationSetting()==='fixed'){return false}if(ss.isNullOrUndefined(this.geometry)){return false}var C=this.geometry.pi;switch(B){case'doubleTap':{return C.hasXQAxis&&C.hasYQAxis}case'other':default:{return C.hasXQAxis||C.hasYQAxis}}}},tab.PaneTableView,[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[tab.PaneTableViewModel])]);ss.initClass(w,a,{get_widgetFeatureEnabled:function(){return ss.isValue(this.$q)&&tsConfig.allow_filter},dispose:function(){this.$n=null;this.$o.element.remove();this.$o.dispose();v.prototype.dispose.call(this)},onUpdate:function(){if(!ss.staticEquals(this.$r,null)){this.$r();this.$r=null}this.$s=this.$n.visibleGeometry;this.$q=this.$n.get_sortIndicators()},hideSortIndicator:function(){if(!this.$b()){return}var B=new RegExp('(sortInd\\w+)?','g');this.$l.get(0).className=this.$l.get(0).className.replace(B,'');this.$l.css('display','none');this.$p=null},onMouseMove:function(B){this.$a(B)},isActiveInRect:function(B){if(ss.isValue(this.$p)&&this.$p.$1&&tab.RectXYUtil.intersectsWith(B,this.$m)){return true}return false},$g:function(){this.$q=this.$n.get_sortIndicators();this.set_enabled(true)},$9:function(){this.$l.click(ss.mkdel(this,function(B){this.$c(B)}));this.$l.mouseover(ss.mkdel(this,function(B){this.$e(B)}));this.$l.mouseout(ss.mkdel(this,function(B){this.$d(B)}))},$a:function(B){if(B.button>0){return}if(ss.isNullOrUndefined(this.$q)||!tsConfig.allow_filter){return}var C=this.$n.get_posTV();var D={x:B.pageX-C.x,y:B.pageY-C.y};var E=this.$n.get_domWeb().scrollX.get(0);var F=this.$n.get_domWeb().scrollY.get(0);var G={x:E.scrollLeft,y:F.scrollTop};var H=this.$s;var I=this.regionHitTest(this.$s,D);if(ss.isValue(I)){this.$f(this.getSIRegionFromName(this.$n,I),H[I],D,G)}else{this.hideSortIndicator()}},$j:function(B,C,D){var E;var F=B.Yds[C];var G=this.$p;if(!B.oAu){E=((F.rei==='asc')?'Left':'Right')}else{E=((F.rei==='asc')?'Up':'Down')}var H=(F.bBh?'Solid':'Hollow');this.$p=new d(B,F,C,E,H,D);if(ss.isNullOrUndefined(G)||!ss.referenceEquals(G.$0,E)||!ss.referenceEquals(G.$5,H)||G.$1!==D){this.$k()}},$k:function(){if(ss.isNullOrUndefined(this.$p)){return}var B='sortInd'+this.$p.$5+this.$p.$0+(this.$p.$1?'Active':'');var C=new RegExp('(sortInd\\w+)?','g');this.$l.get(0).className=this.$l.get(0).className.replace(C,'');this.$l.addClass(B)},$i:function(){if(!this.$b()){return}var B=this.$p.$2;var C=this.$p.$4;if(!B.bBh){B.bBh=true;B.rei=C.XYI}else if(B.rei===C.XYI){B.rei=((C.XYI==='asc')?'desc':'asc')}else{B.rei=C.XYI;B.bBh=false}this.$j(C,this.$p.$3,this.$p.$1)},$e:function(B){if(this.isOtherActiveInRect(this.$m)){return}if(this.$b()&&!this.$p.$1){this.$p.$1=true;this.$k()}B.stopPropagation()},$d:function(B){if(!this.$b()){return}var C=$(this.$l.get(0)).offset();var D=tab.DoubleUtil.roundToInt($(this.$l.get(0)).outerHeight());var E=tab.DoubleUtil.roundToInt($(this.$l.get(0)).outerWidth());if(C.left>B.pageX||C.left+E<=B.pageX||C.top>B.pageY||C.top+D<=B.pageY){this.$p.$1=false;this.$k();B.stopPropagation()}},$c:function(B){spiff.EventUtil.stopEvent(B);var C=this.$n.get_posTV();var D=C.x;var E=C.y;var F={x:B.pageX-D,y:B.pageY-E};var G=this.$n.get_domWeb().scrollX.get(0);var H=this.$n.get_domWeb().scrollY.get(0);var I={x:G.scrollLeft,y:H.scrollTop};var J=this.regionHitTest(this.$s,F);if(ss.isNullOrUndefined(J)){return}var K=this.getSIRegionFromName(this.$n,J);var L=K.D$S;var M=this.$s;F.y+=L.RAC-M[J].t;F.x+=L.thj-M[J].l;this.$i();this.$l.addClass('clicked');this.$r=ss.mkdel(this,function(){this.$l.removeClass('clicked')});tab.SortServerCommands.sortFromIndicator(F,I,this.$n.get_visualId())},$h:function(B,C,D,E){if(this.isOtherActiveInRect(D)){return}this.$m=D;this.$j(B,C,E);this.showNodeAt(this.$l.get(0),D.y,D.x)},$b:function(){return ss.isValue(this.$p)},$f:function(B,C,D,E){if(ss.isNullOrUndefined(B)){this.hideSortIndicator();return false}if(ss.isValue(this.$p)&&ss.isValue(this.$p.$4)&&B.kuG!==this.$p.$4.kuG){this.hideSortIndicator()}var F={x:D.x,y:D.y};var G=B.D$S;F.y+=G.RAC-C.t;F.x+=G.thj-C.l;if(B.vBP){F.y+=E.y}if(B.TVg){F.x+=E.x}var H=B.Yds;for(var I=0,J=H.length;I<J;I++){if(ss.isNullOrUndefined(H[I].efv)){continue}if(ss.isNullOrUndefined(H[I]._bu)){continue}var K=tab.RecordCast.rectPresModelAsRectXY(H[I].efv);if(tab.RectXYUtil.inRect(K,F)){var L=tab.RecordCast.rectPresModelAsRectXY(H[I]._bu);var M=this.clone(L);M.y-=F.y-D.y;M.x-=F.x-D.x;var N={x:M.x+2,y:M.y+2};var O={x:M.x+M.w-2,y:M.y+M.h-2};if(tab.RectUtil.inRect(C,N)&&tab.RectUtil.inRect(C,O)){this.$h(B,I,M,tab.RectXYUtil.inRect(M,F));return true}}}return false}},v,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(x,a,{});ss.initClass(y,a,{$V:function(){return this.$10},get_isDragTracking:function(){return this.$11},set_isDragTracking:function(B){this.$11=B;y.isDragTrackingInAnyRegion=B},destroy:function(){this.$Z=null;tab.TiledViewerRegion.prototype.destroy.call(this)},setXPos:function(B){if(ss.isValue(this.regionContent)){this.regionContent.setXPos(B);this.backgroundMap.setScrollX(B)}},setYPos:function(B){if(ss.isValue(this.regionContent)){this.regionContent.setYPos(B);this.backgroundMap.setScrollY(B)}},reset:function(){this.resetIsWaitingOnData=false;if(this.$12.item1){this.$12={item1:false,item2:this.$12.item2};this.set_currentModifierKeyToolMode('no-tools');this.setMode(this.$12.item2)}if(this.resetIsWaitingOnTransition){return}tab.TiledViewerRegion.prototype.reset.call(this);if(this.isScrolling){this.wasScrolling=false;return}if(!this.$W){return}this.$Z.unsuppressHover(this)},setMouseOverMarkOrVisualPart:function(B){if(this.$13!==B){this.$13=B;this.$M()}},$s:function(B,C){this.$Y(B,C)},$K:function(B,C){this.$O(this.get_shapeSelector());this.$N(B)},$S:function(B,C){this.$O(this.domPanZoomRect);this.$N(B);this.domPanZoomRect.set_pi(C)},$r:function(B){if(this.get_isDragTracking()){this.$14(B)}},$q:function(B,C){this.updateDefaultToolMode();if(this.get_isDragTracking()){this.$15(B,C)}},$T:function(B,C){var D=this.toLocalCoordsEvent(B,false);if(!this.isZoomToolActive()){}var E=((this.get_currentPointerToolMode()==='zoom-out')?0.5:2);this.zoomPoint(C,D,E,false,null)},$t:function(B){var C=Math.floor(B.w/2)+B.x;var D=Math.floor(B.h/2)+B.y;return{x:C,y:D}},$U:function(B,C){this.zoomPoint(B,this.getCenterPoint(B),C,false,null)},$A:function(){},$Q:function(B){if(ss.isValue(B)){B.hide()}},$O:function(B){if(ss.isValue(B)){B.show()}},setMode:function(B){if(this.resetIsWaitingOnData){this.$12={item1:true,item2:B};return}tab.TiledViewerRegion.prototype.setMode.call(this,B);this.$M();switch(B){case'no-tools':{this.$14=ss.mkdel(this,this.$B);this.$15=ss.mkdel(this,this.$B);this.$Y=ss.mkdel(this,this.$B);this.$X=ss.mkdel(this,this.$B);break}case'rectangular-selection':case'lasso-selection':case'radial-selection':{this.$14=ss.mkdel(this,this.onMarqueeMouseMove);this.$15=ss.mkdel(this,this.$B);this.$Y=ss.mkdel(this,this.$K);this.$X=ss.mkdel(this,this.$J);break}case'pan-map':{this.$14=ss.mkdel(this,this.$C);this.$15=ss.mkdel(this,this.$D);this.$Y=ss.mkdel(this,this.$E);this.$X=ss.mkdel(this,this.$B);break}case'area-zoom':case'zoom-out':{this.$14=ss.mkdel(this,this.onZoomBoxMouseMove);this.$15=ss.mkdel(this,this.$G);this.$Y=ss.mkdel(this,this.$S);this.$X=ss.mkdel(this,this.$R);break}}},$x:function(){return this.get_currentPointerToolMode()===this.get_defaultPointerToolMode()},$w:function(B){return!B.shiftKey&&spiff.EventUtil.isCtrlKey(B)&&this.isSelectingToolActive()},$y:function(B){return B.altKey&&(this.isZoomToolActive()||B.shiftKey&&spiff.EventUtil.isCtrlKey(B))},$z:function(B){var C=B;if(C.altKey&&!C.ctrlKey){C.preventDefault()}if(!tsConfig.allow_filter){return}var D=this.get_currentModifierKeyToolMode();var E=this.$10;this.$10=this.$w(C);if(!this.get_isDragTracking()){if(this.allowPanZoom()){if(y.$0(C)){this.set_currentModifierKeyToolMode('pan-map')}else if(y.$1(C)){this.set_currentModifierKeyToolMode('area-zoom')}else if(this.$y(C)){this.set_currentModifierKeyToolMode('zoom-out')}else{this.set_currentModifierKeyToolMode('no-tools')}}else{this.set_currentModifierKeyToolMode('no-tools')}}if(D!==this.get_currentModifierKeyToolMode()||E!==this.$10){this.$M()}},startScrolling:function(B,C,D){this.stopScrolling();if(!(B!==0&&this.scroller.get_canScrollX()||C!==0&&this.scroller.get_canScrollY())){return}if(!ss.isValue(this.$16)){this.$v(B,C,D)}var E=((D==='fast')?15:200);this.$16=window.setInterval(ss.mkdel(this,function(){this.$v(B,C,D)}),E);this.isScrolling=true},stopScrolling:function(){if(ss.isValue(this.$16)){window.clearInterval(ss.unbox(this.$16))}this.$16=null;this.wasScrolling=this.isScrolling;this.isScrolling=false},$v:function(B,C,D){var E=0;var F=0;if(B!==0){E=this.$o(0,B);this.scroller.scrollX(E)}if(C!==0){F=this.$o(1,C);this.scroller.scrollY(F)}this.get_shapeSelector().shapeScrolled(E,F);this.get_shapeSelector().get_dom().css('display','');if(E===0&&B!==0||F===0&&C!==0){var G=((E===0)?0:B);var H=((F===0)?0:C);this.startScrolling(G,H,D)}},$o:function(B,C){var D=((B===0)?this.scroller.get_scrollPos().x:this.scroller.get_scrollPos().y);var E=((B===0)?this.scroller.get_maxScroll().x:this.scroller.get_maxScroll().y);var F=C*15;var G=Math.max(0,Math.min(D+F,E));return G-D},determineScrollDirection:function(B,C){var D=((B===0)?this.scroller.get_scrollPos().x:this.scroller.get_scrollPos().y);var E=((B===0)?this.scroller.get_maxScroll().x:this.scroller.get_maxScroll().y);var F=((C<0)?-1:((C>0)?1:0));if(F===-1&&D===0||F===1&&D>=E){F=0}return F},suppressTooltips:function(){this.$Z.suppressHover(this)},setCursor:function(B,C){C.css('cursor',B)},$L:function(B){this.setCursor(B,this.connectNode)},$u:function(){var B=this.get_currentPointerToolMode();if(B==='no-tools'){B=this.get_defaultPointerToolMode()}return B},$M:function(){var B=this.$u();switch(B){case'area-zoom':{this.$L(y.$6['zoomIn']);break}case'zoom-out':{this.$L(y.$6['zoomOut']);break}default:{this.$L((this.$13?y.$6['select']:y.$6['defaultKey']));break}}},determineDragSelectionCursor:function(){var B=this.$u();switch(B){case'area-zoom':{return y.$6['zoomIn']}case'zoom-out':{return y.$6['zoomOut']}case'lasso-selection':{return(this.$V()?y.$6['lassoExtended']:y.$6['lassoSelect'])}case'radial-selection':{return(this.$V()?y.$6['radialExtended']:y.$6['radialSelect'])}case'rectangular-selection':{return(this.$V()?y.$6['rectExtended']:y.$6['rectSelect'])}case'pan-map':{return y.$6['panDrag']}default:{return y.$6['defaultKey']}}},$p:function(B){if(B!=='rectangular-selection'&&B!=='pan-map'){}this.$L(((B==='rectangular-selection')?y.$6[this.$I()]:y.$6['panDrag']))},$I:function(){return(this.$V()?'rectExtended':'rectSelect')},$N:function(B){if(B.originalEvent['button']>1){return}if(this.get_isDragTracking()){return}this.set_isDragTracking(true);B.preventDefault();this.$Z.suppressHover(this);var C=B.get_gestureInfo();this.domPanZoomRect.set_pi(null);this.domPanZoomRect.dragStarted(C.startX,C.startY,this.getLocalOffset(true));this.get_shapeSelector().dragStarted(C.startX,C.startY,this.getLocalOffset(true));this.$M()},$P:function(B,C){if(!this.get_isDragTracking()){return}this.set_isDragTracking(false);this.$Q(C);this.stopScrolling();this.$M()},$G:function(B,C){this.$F(B,C,this.domPanZoomRect)},$B:function(B,C){this.$F(B,C,this.get_shapeSelector())},$F:function(B,C,D){if(!this.get_isDragTracking()){return}var E=B.originalEvent;if(E['button']>1){return}this.$P(B,D);this.$Z.suppressHover(this);this.$X(B,C)},$C:function(B){spiff.EventUtil.stopEvent(B);var C=B.get_gestureInfo();var D=C.pageX-this.domPanZoomRect.get_dragStart().x;var E=C.pageY-this.domPanZoomRect.get_dragStart().y;if(ss.isNullOrUndefined(this.domPanZoomRect.get_pi())||!this.domPanZoomRect.get_pi().canDragH){D=0}if(ss.isNullOrUndefined(this.domPanZoomRect.get_pi())||!this.domPanZoomRect.get_pi().canDragV){E=0}var F=1;D+=F;E+=F;tab.DomUtil.setMarginBoxJQ(this.domDragImage,{l:D,t:E,w:tab.DoubleUtil.roundToInt(this.domDragImage.width()),h:tab.DoubleUtil.roundToInt(this.domDragImage.height())});this.backgroundMap.panTo(C.deltaX,C.deltaY)},$D:function(B,C){if(!this.get_isDragTracking()){return}if(B.originalEvent['button']>1){return}spiff.EventUtil.stopEvent(B);this.$P(B,null);var D=B.get_gestureInfo();this.$Z.suppressHover(this);var E=this.toLocalCoords(this.domPanZoomRect.get_dragStart(),false);var F={x:D.pageX-this.domPanZoomRect.get_dragStart().x,y:D.pageY-this.domPanZoomRect.get_dragStart().y};if(ss.isNullOrUndefined(this.domPanZoomRect.get_pi())||!this.domPanZoomRect.get_pi().canDragH){F.x=0}if(ss.isNullOrUndefined(this.domPanZoomRect.get_pi())||!this.domPanZoomRect.get_pi().canDragV){F.y=0}this.$H(B,E,F)},$H:function(B,C,D){this.waitingOnPanZoomServerResponse='waitingOnServer';this.resetIsWaitingOnTransition=false;var E=ss.mkdel(this,function(){this.reset()});this.get_viewSession().pan(this.get_regionPart(),C,D,E)},$E:function(B,C){if(this.waitingOnPanZoomServerResponse!=='normal'){return}this.$N(B);this.domPanZoomRect.set_pi(C);this.resetIsWaitingOnTransition=true;this.resetIsWaitingOnData=true;this.showDomDragImage(C)},$J:function(B,C){if(!tsConfig.allow_select){this.$Z.unsuppressHover(this);return}var D=this.get_shapeSelector().get_tooltipAnchor();var E=this.get_regionPart();var F=tab.PointUtil.add(D,this.getLocalOffsetPoint(false));var G=ss.mkdel(this,function(){C.multiSelectComplete(F,this.get_shapeSelector().get_hitTestingBox(),E);this.$Z.unsuppressHover(this)});var H=tab.ResolveSelectAction.fromNormalizedEvent(B,true);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var I=this.doSelectMarkAndUbertipFromSelectionShape(H,G);if(tab.MiscUtil.isNullOrEmpty(I)||!tsConfig.allow_tooltip){this.$Z.unsuppressHover(this)}}else{this.get_shapeSelector().sendSelectionCommand(E,H,this.get_visualId(),G)}},$R:function(B,C){var D=tab.DomUtil.getRectXY(this.domPanZoomRect.get_dom());var E=this.toLocalCoordsRect(D,false);this.waitingOnPanZoomServerResponse='waitingOnServer';var F=this.domPanZoomRect.get_pi();if(E.w<4&&E.h<4){this.$T(B,F)}var G=this.getCenterPoint(F);if(!this.isZoomToolActive()){}if(this.get_currentPointerToolMode()==='zoom-out'){var H=this.paneTableViewModel.get_mapServerModel();if(H.get_hasPresModel()&&!tab.MapUtil.allowZoomAtCurrentLevel(H.get_mapServerPresModel().Vot,2)){return}var I=0.5;this.$U(F,I);return}else{this.backgroundMap.zoomRect(E);var J=2;var K=1/J;this.get_viewSession().zoomIn(E,G,K)}var L=this.$t(E);var M=E.w;var N=E.h;var O=F.w/M;var P=F.h/N;if(F.canDragH&&F.canDragV){var Q=Math.min(O,P);var R=this.paneTableViewModel.get_mapServerModel();if(R.get_hasPresModel()){Q=tab.ZoomComputer.resolveDesiredScale(R.get_mapServerPresModel(),Q)}O=P=Q}else if(!F.canDragV){P=1;L.y=G.y}else if(!F.canDragH){O=1;L.x=G.x}else{return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()||this.paneTableViewModel.get_visualModel().get_cacheUrlInfo().useUrl){this.animateZoomOnPoint(F,L,O,P)}}},tab.TiledViewerRegion);ss.initClass(z,a,{onMoving:function(){this.get_tooltip().close()},onDragEnd$1:function(){this.get_tooltip().close()},buildBehaviorsDictionary:function(){var B=new r(this.get_tooltip());this.tooltipBehaviors['sticky']=B}},tab.TooltipBaseLegacyMode);ss.initClass(A,a,{get_canScrollX:function(){return this.get_maxScroll().x>0},get_canScrollY:function(){return this.get_maxScroll().y>0},get_scrollPos:function(){var B=(ss.isNullOrUndefined(this.$0)?0:$(this.$0).scrollLeft());var C=(ss.isNullOrUndefined(this.$1)?0:$(this.$1).scrollTop());return{x:B,y:C}},get_maxScroll:function(){return{x:(ss.isNullOrUndefined(this.$0)?0:(this.$0.scrollWidth-this.$0.offsetWidth)),y:(ss.isNullOrUndefined(this.$1)?0:(this.$1.scrollHeight-this.$1.offsetHeight))}},get_visibleArea:function(){return{w:(ss.isNullOrUndefined(this.$0)?0:this.$0.offsetWidth),h:(ss.isNullOrUndefined(this.$1)?0:this.$1.offsetHeight)}},scrollX:function(B){if(this.get_canScrollX()){this.$0.scrollLeft+=B}},scrollY:function(B){if(this.get_canScrollY()){this.$1.scrollTop+=B}},setScrollTarget:function(B){},refresh:function(){}},null,[spiff.IScroller]);(function(){g.$0="\n            <div class='tabLegendPanel' style='position : relative;'>\n                <div class='tabLegendBox'>\n                    <h3 class='tabLegendTitle'></h3>\n                    <div class='tabLegendContentHolder' style='overflow:auto'>\n                        <div class='tabLegendColumnHolder' style='white-space:nowrap' role='list' aria-multiselectable='true'></div>\n                    </div>\n                    <div class='tabCatLegendScroll'></div>\n                </div>\n            </div>"})();(function(){spiff.ObjectRegistry.registerType(tab.CategoricalLegendView,h).call(null)})();(function(){spiff.ObjectRegistry.registerType(tab.DataConnectionVariableListItemView,j).call(null)})();(function(){spiff.ObjectRegistry.registerType(tab.DataHighlighterView,k).call(null)})();(function(){v.$0=[]})();(function(){p.$0="<div class='LegendPanel'><div class='LegendBox'><h3 class='tabLegendTitle'></h3><div class='LegendContent'><img class='LegendImageBody'/></div><div class='tabCatLegendScroll'></div></div><div class='tabLegendHighlighterHolder'><div class='tabLegendHighlighter' showlabel='false' title='Highlight Selected Items'></div></div></div>"})();(function(){q.$0=120;spiff.ObjectRegistry.registerType(tab.LegacyLegendView,q).call(null)})();(function(){r.$1='.LegacyTooltipBehavior';r.$2=500;r.$3=250;r.$4=10000;r.$5=1200;r.$6=0;spiff.ObjectRegistry.registerType(tab.ITooltipBehavior,r).call(null)})();(function(){spiff.ObjectRegistry.registerType(tab.MapsSearchView,s).call(null)})();(function(){t.htmlTemplate="<div class='tab-tiledViewer placeholder'><div class='tab-clip'><div class='tab-tvTLSpacer tvimagesNS'><img></img></div><div class='tab-tvTRSpacer tvimagesNS'><img></img></div><div class='tab-tvBLSpacer tvimagesNS'><img></img></div><div class='tab-tvBRSpacer tvimagesNS'><img></img></div><div class='tab-tvYLabel tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvLeftAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvRightAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvXLabel tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvBottomAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvTopAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvView tvimagesNS'><div class='tvScrollContainer'><div class='tvBackgroundContainer'></div><div class='tvimagesContainer'></div></div><div class='tvViewportBorders'></div></div><h2 class='tab-tvTitle tvimagesNS'></h2><div class='tab-tvCaption tvimagesNS'></div><div class='tab-tvScrollX tvimages'><div class='tvimagesContainer'></div></div><div class='tab-tvScrollY tvimages'><div class='tvimagesContainer'></div></div></div></div>"})();(function(){y.isDragTrackingInAnyRegion=false;y.$3=15;y.$4=15;y.$5=200;y.$6=null})();(function(){spiff.ObjectRegistry.registerType(tab.TooltipBaseLegacyMode,z).call(null)})();(function(){u.$7=500;u.$2=120;u.$3=12;u.$5=3;u.$4=40;u.$6=3;spiff.ObjectRegistry.registerType(tab.PaneTableView,u).call(null)})()})();;
/*! BEGIN LegacyDojoUIWeb */
(function(){'dont use strict';var a={};global.Tableau=global.Tableau||{};global.Tableau.JavaScript=global.Tableau.JavaScript||{};global.Tableau.JavaScript.Vql=global.Tableau.JavaScript.Vql||{};global.Tableau.JavaScript.Vql.LegacyDojoUIWeb=global.Tableau.JavaScript.Vql.LegacyDojoUIWeb||{};ss.initAssembly(a,'vqllegacydojouiweb');var b=function(){};b.__typeName='Tableau.JavaScript.Vql.LegacyDojoUIWeb.$0';var c=function(){};c.__typeName='Tableau.JavaScript.Vql.LegacyDojoUIWeb.$1';var d=function(f){this.$d=null;this.$f=null;this.$g=null;this.$e=false;tab.ContinuousSlider.call(this,f);this.viewModel=f;var g={templateString:"<div class='dijit dijitReset'><div class='dijitReset tableauSlider' dojoAttachPoint='tableauSlider'><table class='dijit dijitReset' cellspacing='0' cellpadding='0' border='0' rules='none'><tr class='dijitReset'><td class='dijitReset'></td><td dojoAttachPoint='containerNode,topDecoration' class='dijitReset' style='text-align:center;width:100%;'></td><td class='dijitReset'></td></tr><tr class='dijitReset'><td class='dijitReset'><div class='dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper dijitSliderLeftBumper' dojoAttachEvent='onclick:_onClkDecBumper'></div></td><td class='dijitReset'><input dojoAttachPoint='valueNode' type='hidden' name='${name}'><div class='dijitReset dijitSliderBarContainerH' waiRole='presentation' dojoAttachPoint='sliderBarContainer'><div waiRole='presentation' dojoAttachPoint='progressBar' class='dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH' dojoAttachEvent='onclick:_onBarClick'><div class='dijitSliderMoveable dijitSliderMoveableH'><div dojoAttachPoint='sliderHandle,focusNode' class='dijitSliderImageHandle dijitSliderImageHandleH' dojoAttachEvent='onmousedown:_onHandleClick' waiRole='slider' valuemin='${minimum}' valuemax='${maximum}'></div></div></div><div waiRole='presentation' dojoAttachPoint='remainingBar' class='dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH' dojoAttachEvent='onclick:_onBarClick'></div></div></td><td class='dijitReset'><div class='dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper dijitSliderRightBumper' dojoAttachEvent='onclick:_onClkIncBumper'></div></td></tr><tr class='dijitReset'><td class='dijitReset'></td><td dojoAttachPoint='containerNode,bottomDecoration' class='dijitReset'></td><td class='dijitReset'></td></tr></table></div><div class='dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH tableauArrowDec' style='display:none' dojoAttachPoint='decrementButton'><div class='dijitSliderDecrementIconH' tabIndex='-1'><span class='dijitSliderButtonInner'>-</span></div></div><div class='dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH tableauArrowInc' style='display:none' dojoAttachPoint='incrementButton'><div class='dijitSliderIncrementIconH' tabIndex='-1'><span class='dijitSliderButtonInner'>+</span></div></div></div>",onChange:ss.mkdel(this,this.$9),value:f.get_sliderCurrentValue(),minimum:f.get_sliderMinimumValue(),maximum:f.get_sliderMaximumValue(),slideDuration:0,intermediateChanges:true,style:'width:'+f.get_pixelWidth()+'px;',showButtons:false};this.$d=new dijit.form.HorizontalSlider(g,this.get_template().domRoot.get(0));this.$f=dojo.subscribe('/dnd/move/start',ss.mkdel(this,this.$a));this.$g=dojo.subscribe('/dnd/move/stop',ss.mkdel(this,this.$b));this.viewModel.add_sliderValueChange(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.viewModel.remove_sliderValueChange(ss.mkdel(this,this.$c))})));this.get_template().domRoot.append(this.$d.domNode);if(this.viewModel.get_ruleTickCount()>0){var h=$("<div class='tabSliderRule'>");var i=ss.mkdict(['count',this.viewModel.get_ruleTickCount()]);var j=new dijit.form.HorizontalRule(i,h.get(0));h.append(j.domNode);j.startup();this.get_template().domRoot.append(h)}this.$e=false};d.__typeName='Tableau.JavaScript.Vql.LegacyDojoUIWeb.ContinuousSliderWeb';global.Tableau.JavaScript.Vql.LegacyDojoUIWeb.ContinuousSliderWeb=d;var e=function(){};e.__typeName='Tableau.JavaScript.Vql.LegacyDojoUIWeb.DojoWidgetsWeb';global.Tableau.JavaScript.Vql.LegacyDojoUIWeb.DojoWidgetsWeb=e;ss.initClass(b,a,{});ss.initClass(c,a,{makeCurrentPagePanelWidget:function(f){return new tableau.base.widget.CurrentPagePanel(f)},makeFilterPanelWidget:function(f){return new tableau.base.widget.FilterPanel(f)},makeControlWidget:function(f){return new tableau.base.widget.ParameterControl(f)}},null,[Tableau.JavaScript.Vql.LegacyDojoModuleInterfaces.ILegacyDojoWidgetMaker]);ss.initClass(d,a,{$c:function(f){this.$d._setValueAttr(this.viewModel.get_sliderCurrentValue())},$a:function(f){if(ss.isValue(f)&&ss.referenceEquals(f.node,this.$d.sliderHandle)){this.$e=true}},$b:function(f){if(ss.isValue(f)&&ss.referenceEquals(f.node,this.$d.sliderHandle)){this.$e=false;this.applyChanges(this.viewModel.get_sliderIntermediateValue())}},$9:function(f){this.viewModel.applyIntermediateChange(f);if(!this.$e){this.applyChanges(this.viewModel.get_sliderIntermediateValue())}},dispose:function(){dojo.unsubscribe(this.$f);dojo.unsubscribe(this.$g);tab.ContinuousSlider.prototype.dispose.call(this)}},tab.ContinuousSlider,[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[tab.ContinuousSliderViewModel])]);ss.initClass(e,a,{});(function(){spiff.ObjectRegistry.registerType(Tableau.JavaScript.Vql.LegacyDojoModuleInterfaces.ILegacyDojoWidgetMaker,c).call(null)})();(function(){d.tableauSliderTemplate="<div class='dijit dijitReset'><div class='dijitReset tableauSlider' dojoAttachPoint='tableauSlider'><table class='dijit dijitReset' cellspacing='0' cellpadding='0' border='0' rules='none'><tr class='dijitReset'><td class='dijitReset'></td><td dojoAttachPoint='containerNode,topDecoration' class='dijitReset' style='text-align:center;width:100%;'></td><td class='dijitReset'></td></tr><tr class='dijitReset'><td class='dijitReset'><div class='dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper dijitSliderLeftBumper' dojoAttachEvent='onclick:_onClkDecBumper'></div></td><td class='dijitReset'><input dojoAttachPoint='valueNode' type='hidden' name='${name}'><div class='dijitReset dijitSliderBarContainerH' waiRole='presentation' dojoAttachPoint='sliderBarContainer'><div waiRole='presentation' dojoAttachPoint='progressBar' class='dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH' dojoAttachEvent='onclick:_onBarClick'><div class='dijitSliderMoveable dijitSliderMoveableH'><div dojoAttachPoint='sliderHandle,focusNode' class='dijitSliderImageHandle dijitSliderImageHandleH' dojoAttachEvent='onmousedown:_onHandleClick' waiRole='slider' valuemin='${minimum}' valuemax='${maximum}'></div></div></div><div waiRole='presentation' dojoAttachPoint='remainingBar' class='dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH' dojoAttachEvent='onclick:_onBarClick'></div></div></td><td class='dijitReset'><div class='dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper dijitSliderRightBumper' dojoAttachEvent='onclick:_onClkIncBumper'></div></td></tr><tr class='dijitReset'><td class='dijitReset'></td><td dojoAttachPoint='containerNode,bottomDecoration' class='dijitReset'></td><td class='dijitReset'></td></tr></table></div><div class='dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH tableauArrowDec' style='display:none' dojoAttachPoint='decrementButton'><div class='dijitSliderDecrementIconH' tabIndex='-1'><span class='dijitSliderButtonInner'>-</span></div></div><div class='dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH tableauArrowInc' style='display:none' dojoAttachPoint='incrementButton'><div class='dijitSliderIncrementIconH' tabIndex='-1'><span class='dijitSliderButtonInner'>+</span></div></div></div>";spiff.ObjectRegistry.registerType(tab.ContinuousSlider,d).call(null)})();(function(){dojo.addOnLoad(function(){dojo.require('tableau.web.WebClient')})})()})();